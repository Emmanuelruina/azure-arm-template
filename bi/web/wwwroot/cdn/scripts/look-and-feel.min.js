/*!
*  filename: look-and-feel.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function InheritFromGlobalAppTheme(){$(".css-radio").attr("disabled",!0);var n="#"+themeAppearanceUms+"-theme-required";$(n).prop("checked",!0);$("#applicationTheme option").removeAttr("selected");$("#applicationTheme ").selectpicker("refresh");$(".dropdown-look-and-feel .btn").addClass("disabled");themeApplicationThemeUms=="light"||themeApplicationThemeUms=="dark"||isEmptyOrWhitespace(themeApplicationThemeUms)?$(".dropdown-look-and-feel .filter-option").html("Default"):$(".dropdown-look-and-feel .filter-option").html(themeApplicationThemeUms);themeApplicationThemeUms=="light"||themeApplicationThemeUms=="dark"||isEmptyOrWhitespace(themeApplicationThemeUms)?$("#applicationTheme").val("Default"):$("#applicationTheme").val(themeApplicationThemeUms);themeApplicationThemeUms=="light"||themeApplicationThemeUms=="dark"||isEmptyOrWhitespace(themeApplicationThemeUms)?$("#applicationTheme option:first").attr("selected","selected"):$("#applicationTheme option[value='"+themeApplicationThemeUms+"']").attr("selected","selected");$(".dropdown-look-and-feel ul li").removeClass("selected active");$(".dropdown-look-and-feel ul li span").each(function(){themeApplicationThemeUms=="light"||themeApplicationThemeUms=="dark"||isEmptyOrWhitespace(themeApplicationThemeUms)?$(".dropdown-look-and-feel ul li:first").addClass("selected active"):$(this).text()==themeApplicationThemeUms&&$(this).parent().parent().addClass("selected active")})}function InheritFromGlobalDashboardTheme(){$("#dashboardTheme option").removeAttr("selected");$("#dashboardTheme").selectpicker("refresh");$(".dropdown-look-and-feel-dashboard .btn").addClass("disabled");themeDashboardThemeUms=="light"||themeDashboardThemeUms=="dark"||isEmptyOrWhitespace(themeDashboardThemeUms)?$("#dashboardTheme option:first").attr("selected","selected"):$("#dashboardTheme option[value='"+themeDashboardThemeUms+"']").attr("selected","selected");themeDashboardThemeUms=="light"||themeDashboardThemeUms=="dark"||isEmptyOrWhitespace(themeDashboardThemeUms)?$(".dropdown-look-and-feel-dashboard .filter-option").html("Default"):$(".dropdown-look-and-feel-dashboard .filter-option").html(themeDashboardThemeUms);themeDashboardThemeUms=="light"||themeDashboardThemeUms=="dark"||isEmptyOrWhitespace(themeDashboardThemeUms)?$("#dashboardTheme").val("Default"):$("#dashboardTheme").val(themeDashboardThemeUms);$(".dropdown-look-and-feel-dashboard ul li").removeClass("selected active");$(".dropdown-look-and-feel-dashboard ul li span").each(function(){themeDashboardThemeUms=="light"||themeDashboardThemeUms=="dark"||isEmptyOrWhitespace(themeDashboardThemeUms)?$(".dropdown-look-and-feel-dashboard ul li:first").addClass("selected active"):$(this).text()==themeDashboardThemeUms&&$(this).parent().parent().addClass("selected active")})}function InheritFontStyle(){var n,t;$("#application-font option").removeAttr("selected");$("#application-font").selectpicker("refresh");$("#app-font-customize ul li").removeClass("selected active");$("#app-font-customize .btn").addClass("disabled");n=fontUms==defaultFont?fontUms+" (Default)":fontUms;$("#app-font-customize .filter-option").html(n);$("#application-font").val(fontUms);$("#application-font option[value='"+fontUms+"']").attr("selected","selected");$("#app-font-customize ul li span").each(function(){$(this).text()==n&&$(this).parent().parent().addClass("selected active")});t=document.getElementsByClassName("font-stylesheet");t[0].href=InternalAppIdpUrl+"/ums/user-interface/fonts?family="+fontUms}function onChangeTheme(n){var f=isDebug,t,u,i,r;$("#applicationTheme.selectpicker").selectpicker("val","");f?(u="default.css",t="light.css",n==="dark"&&(t="dark.css")):(t="light.min.css",u="default.min.css",n==="dark"&&(t="dark.min.css"));isSelfHosted?(i=document.getElementsByClassName("theme-ref"),i[0].href=dashboardServerResourceUrl+"/cdn/css/theme/"+t,r=document.getElementsByClassName("application-theme-ref"),r[0].href=InternalAppIdpUrl+"/ums/theme/styles/application?theme="+n):(i=document.getElementsByClassName("theme-ref"),i[0].href=dashboardServerResourceUrl+"/cdn/css/theme/"+t,r=document.getElementsByClassName("application-theme-ref"),r[0].href=dashboardServerResourceUrl+"/cdn/css/theme/"+n+u)}function onUploadFontDialogOpen(){document.getElementById("font-upload-dialog").ej2_instances[0].show()}function onUploadApplicationThemeDialogOpen(){document.getElementById("application-theme-upload-dialog").ej2_instances[0].show()}function onUploadDashboardThemeDialogOpen(){document.getElementById("dashboard-theme-upload-dialog").ej2_instances[0].show()}function onUploadFontDialogClose(){$("#upload-font").attr("disabled",!0);$("#font-name").val("");$('input[type="file"]').val(null);$("#font-file-name").val("Browse file path (.woff2)");$("#font-name").closest("div").removeClass("has-error");$("#invalid-font-name").css("display","none");$("#font-file-name").closest("div").removeClass("has-error");$("#invalid-font-file-name").html("").css("display","none")}function onUploadFontDialogCancel(){document.getElementById("font-upload-dialog").ej2_instances[0].hide();onUploadFontDialogClose()}function onUploadApplicationThemeDialogClose(){$("#upload-applicationtheme").attr("disabled",!0);$("#applicationtheme-name").val("");$('input[type="file"]').val(null);$("#application-theme-file-name").val("");$("#applicationtheme-file").closest("div").removeClass("has-error");$(".validation").closest("div").removeClass("has-error");$(".applicationthemefileupload-validation-messages").css("display","none");$(".applicationthemeupload-validation-messages").css("display","none")}function onUploadApplicationThemeDialogCancel(){document.getElementById("application-theme-upload-dialog").ej2_instances[0].hide();onUploadApplicationThemeDialogClose()}function onUploadDashboardThemeDialogClose(){$("#upload-dashboardtheme").attr("disabled",!0);$("#dashboardtheme-name").val("");$('input[type="file"]').val(null);$("#dashboard-theme-file-name").val("");$("#dashboardtheme-file").closest("div").removeClass("has-error");$(".validation").closest("div").removeClass("has-error");$(".applicationthemefileupload-validation-messages").css("display","none");$(".applicationthemeupload-validation-messages").css("display","none")}function onUploadDashboardThemeDialogCancel(){document.getElementById("dashboard-theme-upload-dialog").ej2_instances[0].hide();onUploadDashboardThemeDialogClose()}function keyvalidation(n){var t=$(n).val(),i=n==="#applicationtheme-name"?"#invalid-applicationtheme-name":"#invalid-dashboardtheme-name";$.trim(t)==""?($(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.ItemNameValidator).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block")):additionalSpecialChar.test(t)&&t!==""?n==="#applicationtheme-name"?$("#applicationTheme option").each(function(){if(t.toLowerCase().trim()===$(this).text().trim().toLowerCase())return $(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.FileNameAlreadyExists).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block"),!1;$(n).closest("div").removeClass("has-error");$(".applicationthemeupload-validation-messages").css("display","none");$(".upload-applicationtheme").removeAttr("disabled")}):$("#dashboardTheme option").each(function(){if(t.toLowerCase().trim()===$(this).text().trim().toLowerCase())return $(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.FileNameAlreadyExists).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block"),!1;$(n).closest("div").removeClass("has-error");$(".applicationthemeupload-validation-messages").css("display","none");$(".upload-applicationtheme").removeAttr("disabled")}):($(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.AvoidSpecialCharacters).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block"))}const additionalSpecialChar=/^[a-zA-Z_0-9`~!\$\^()=\-\.\{\} ]+$/;$(document).ready(function(){var i=new ejs.popups.Dialog({header:"Upload font",showCloseIcon:!0,width:"472px",close:onUploadFontDialogClose,isModal:!0,visible:!1,animationSettings:{effect:"Zoom"}}),n,t;i.appendTo("#font-upload-dialog");n=new ejs.popups.Dialog({header:window.Server.App.Localization.ManageApplicationTheme,showCloseIcon:!0,width:"472px",close:onUploadApplicationThemeDialogClose,isModal:!0,visible:!1,animationSettings:{effect:"Zoom"}});n.appendTo("#application-theme-upload-dialog");t=new ejs.popups.Dialog({header:window.Server.App.Localization.ManageDashboardTheme,showCloseIcon:!0,width:"472px",close:onUploadDashboardThemeDialogClose,isModal:!0,visible:!1,animationSettings:{effect:"Zoom"}});t.appendTo("#dashboard-theme-upload-dialog");$.validator.addMethod("additionalSpecialCharValidation",function(n){if(additionalSpecialChar.test(n)||n==="")return!0},window.Server.App.Localization.AvoidSpecialCharacters);$.validator.addMethod("isRequired",function(n){return!isEmptyOrWhitespace(n)},window.Server.App.Localization.ItemNameValidator);$(document).on("click","#trigger-application-file, #application-theme-file-name",function(){$('input[type="file"]').val(null);$("#applicationtheme-file").trigger("click")});$(document).on("click","#trigger-dashboard-file, #dashboard-theme-file-name",function(){$('input[type="file"]').val(null);$("#dashboardtheme-file").trigger("click")});$(document).on("click","#trigger-font-upload, #font-file-name",function(){$('input[type="file"]').val(null);$("#font-file").trigger("click")});$("#inherit-from-global-app-theme").is(":checked")?(InheritFromGlobalAppTheme(),InheritFromGlobalDashboardTheme(),InheritFontStyle()):($(".css-radio").attr("disabled",!1),$(".dropdown-look-and-feel .btn, .dropdown-look-and-feel-dashboard .btn, #app-font-customize .btn").removeClass("disabled"))});$(document).on("change","#application-font",function(){var n=$("#application-font").val(),t=document.getElementsByClassName("font-stylesheet");t[0].href=isSelfHosted?InternalAppIdpUrl+"/ums/user-interface/fonts?family="+n:n.trim()==defaultFont||isEmptyOrWhitespace(n)?isDebug?dashboardServerResourceUrl+"/cdn/css/fonts/font-robotoregular.css":dashboardServerResourceUrl+"/cdn/css/fonts/font-robotoregular.css":dns+"/bi/user-interface/fonts?family="+n});$(document).on("click","#inherit-from-global-app-theme",function(){var t,n,i,r;$("#inherit-from-global-app-theme").is(":checked")?(InheritFromGlobalAppTheme(),InheritFromGlobalDashboardTheme(),InheritFontStyle(),$("#app-font-customize .btn").addClass("disabled"),t=themeAppearanceUms,isDebug?(n="light.css",t==="dark"&&(n="dark.css")):(n="light.min.css",t==="dark"&&(n="dark.min.css")),i=document.getElementsByClassName("theme-ref"),i[0].href=dashboardServerResourceUrl+"/cdn/css/theme/"+n,r=document.getElementsByClassName("application-theme-ref"),r[0].href=isEmptyOrWhitespace(themeApplicationThemeUms)?InternalAppIdpUrl+"/ums/theme/styles/application":InternalAppIdpUrl+"/ums/theme/styles/application?theme="+themeApplicationThemeUms):($(".css-radio").attr("disabled",!1),$(".dropdown-look-and-feel .btn, .dropdown-look-and-feel-dashboard .btn, #app-font-customize .btn").removeClass("disabled"))});$(document).on("change","input[name='theme-required']",function(){var n=$("input:radio[name=theme-required]:checked").val();onChangeTheme(n)});$(document).on("change","#applicationTheme",function(){var r=isDebug,i,n,t;i=r?"default.css":"default.min.css";n=$("#applicationTheme").val();isSelfHosted?(t=document.getElementsByClassName("application-theme-ref"),t[0].href=isEmptyOrWhitespace(n)?InternalAppIdpUrl+"/ums/theme/styles/application?theme="+$("input:radio[name=theme-required]:checked").val():InternalAppIdpUrl+"/ums/theme/styles/application?theme="+n):(t=document.getElementsByClassName("application-theme-ref"),t[0].href=n===""?dashboardServerResourceUrl+"/cdn/css/theme/"+$("input:radio[name=theme-required]:checked").val()+i:applicationThemeReferenceUrl+"?theme="+n)});$(document).on("change","#font-file",function(n){var t=n.target.files[0].name,i=t.substring(0,t.indexOf("."));$("#font-file-name").val(t);$("#font-name").val(i);$("#font-name").closest("div").removeClass("has-error");$("#invalid-font-name").css("display","none");$("#font-file-name").closest("div").removeClass("has-error");$("#invalid-font-file-name").html("").css("display","none");$("#upload-font").attr("disabled",!1);var r=document.getElementById("font-file"),u=r.value;/(\.woff2)$/i.exec(u)||($("#font-file-name").closest("div").addClass("has-error"),$("#invalid-font-file-name").html(window.Server.App.Localization.FontFileInvalid).css("display","block"),$("#upload-font").attr("disabled","disabled"))});$(document).on("change","#applicationtheme-file",function(n){var t=n.target.files[0].name,i=t.substring(0,t.indexOf("."));$("#application-theme-file-name").val(t);$("#upload-applicationtheme").attr("disabled","disabled");var r=document.getElementById("applicationtheme-file"),u=r.value;/(\.css)$/i.exec(u)?($("#applicationtheme-file").closest("div").removeClass("has-error"),$(".validation-message").css("display","none"),$("#upload-applicationtheme,#applicationtheme-name").removeAttr("disabled"),$("#applicationtheme-name").closest("div").removeClass("has-error"),$("#applicationtheme-name").val(i),$("#applicationTheme option").each(function(){i.toLowerCase()===$(this).text().toLowerCase()&&($("#applicationtheme-name").closest("div").addClass("has-error"),$("#invalid-applicationtheme-name").html(window.Server.App.Localization.FileNameAlreadyExists).css("display","block"),$("#upload-applicationtheme,#applicationtheme-name").attr("disabled","disabled"),$("#invalid-applicationtheme-name.validation-message").css("display","block"))})):($("#invalid-applicationtheme-name").html("").css("display","none"),$("#applicationtheme-file").closest("div").addClass("has-error"),$("#invalid-applicationthemefile-name").html(window.Server.App.Localization.CssInvalid).css("display","block"),$("#upload-applicationtheme,#applicationtheme-name").attr("disabled","disabled"),$("#invalid-applicationthemefile-name.validation-message").css("display","block"))});$(document).on("change","#dashboardtheme-file",function(n){var t=n.target.files[0].name,i=t.substring(0,t.indexOf("."));$("#dashboard-theme-file-name").val(t);$("#upload-dashboardtheme").attr("disabled","disabled");var r=document.getElementById("dashboardtheme-file"),u=r.value;/(\.css)$/i.exec(u)?($("#dashboardtheme-file").closest("div").removeClass("has-error"),$(".validation-message").css("display","none"),$("#upload-dashboardtheme").removeAttr("disabled"),$("#dashboardtheme-name").removeAttr("disabled"),$("#dashboardtheme-name").closest("div").removeClass("has-error"),$(".validation-message").css("display","none"),$("#dashboardtheme-name").val(i),$("#dashboardTheme option").each(function(){i.toLowerCase()===$(this).text().toLowerCase()&&($("#dashboardtheme-name").closest("div").addClass("has-error"),$("#invalid-dashboardtheme-name").html(window.Server.App.Localization.FileNameAlreadyExists).css("display","block"),$("#upload-dashboardtheme,#dashboardtheme-name").attr("disabled","disabled"),$("#invalid-dashboardtheme-name.validation-message").css("display","block"))})):($("#invalid-dashboardtheme-name").html("").css("display","none"),$("#dashboardtheme-file").closest("div").addClass("has-error"),$("#invalid-dashboardthemefile-name").html(window.Server.App.Localization.CssInvalid).css("display","block"),$(".upload-theme").attr("disabled","disabled"),$("#invalid-dashboardthemefile-name.validation-message").css("display","block"))});$(document).on("click","#update-look-and-feel-settings",function(){var n={ThemeAppearance:$("input[name='theme-required']:checked").val(),CustomApplicationTheme:isEmptyOrWhitespace($("#applicationTheme").val())&&isSelfHosted?$("input[name='theme-required']:checked").val():$("#applicationTheme").val(),CustomDashboardTheme:$(".dropdown-look-and-feel-dashboard .filter-option").html()=="Default"?"":$(".dropdown-look-and-feel-dashboard .filter-option").html(),IsInheritFromGlobalLookAndFeelSettings:$("#inherit-from-global-app-theme").is(":checked"),FontPreference:$("#application-font").val()};$.ajax({type:"POST",url:updateCustomThemeSettingsUrl,data:{themeSettingsData:n},success:function(n){n.status?successToast(window.Server.App.Localization.UpdateCustomThemeSettingSuccess,7e3):warningToast(n.permissionDenied!=undefined&&n.permissionDenied?window.Server.App.Localization.PermissionWarningAlert:window.Server.App.Localization.SettingsWarningAlert,n.permissionDenied!=undefined&&n.permissionDenied?null:n.message,(new Date).getTime(),window.Server.App.Localization.LookAndFeelSettings)}})});$(document).on("click","#upload-applicationtheme",function(){var n=$("#upload-application-theme-form"),t=new FormData(n[0]);showWaitingPopup("application-theme-upload-dialog");$.ajax({type:"POST",url:$("#upload-application-theme-form").prop("action"),data:t,contentType:!1,processData:!1,success:function(n){n.Status?(successToast(window.Server.App.Localization.UpdateCustomThemeSettingSuccess,7e3),hideWaitingPopup("application-theme-upload-dialog"),onUploadApplicationThemeDialogCancel(),showWaitingPopup($("#server-app-container")),window.location.href=lookAndFeelSettingsUrl):(hideWaitingPopup("application-theme-upload-dialog"),typeof n.message=="undefined"||isEmptyOrWhitespace(n.message)?(warningToast(window.Server.App.Localization.SettingsWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.LookAndFeelSettings),$("#applicationtheme-name").closest("div").removeClass("has-error"),$(".applicationthemeupload-validation-messages").css("display","none"),$(".upload-applicationtheme").removeAttr("disabled")):($("#applicationtheme-name").closest("div").addClass("has-error"),$("#invalid-applicationtheme-name").html(n.message).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block")))}})});$(document).on("click","#upload-dashboardtheme",function(){var n=$("#upload-dashboard-theme-form"),t=new FormData(n[0]);showWaitingPopup("dashboard-theme-upload-dialog");$.ajax({type:"POST",url:$("#upload-dashboard-theme-form").prop("action"),data:t,contentType:!1,processData:!1,success:function(n){n.Status?(successToast(window.Server.App.Localization.UpdateCustomThemeSettingSuccess,7e3),hideWaitingPopup("dashboard-theme-upload-dialog"),onUploadDashboardThemeDialogCancel(),showWaitingPopup($("#server-app-container")),window.location.href=lookAndFeelSettingsUrl):(hideWaitingPopup("dashboard-theme-upload-dialog"),typeof n.message=="undefined"||isEmptyOrWhitespace(n.message)?(onUploadDashboardThemeDialogCancel(),warningToast(window.Server.App.Localization.SettingsWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.LookAndFeelSettings),$("#dashboardtheme-name").closest("div").removeClass("has-error"),$(".applicationthemeupload-validation-messages").css("display","none"),$(".upload-applicationtheme").removeAttr("disabled")):($("#dashboardtheme-name").closest("div").addClass("has-error"),$("#invalid-dashboardtheme-name").html(n.message).css("display","block"),$(".upload-applicationtheme").attr("disabled","disabled"),$(".applicationthemeupload-validation-messages").css("display","block")))}})});$(document).on("click","#upload-font",function(){var n=$("#upload-font-form"),t=new FormData(n[0]);showWaitingPopup("font-upload-dialog");$.ajax({type:"POST",url:$("#upload-font-form").prop("action"),data:t,contentType:!1,processData:!1,success:function(n){n.Status?(successToast(window.Server.App.Localization.UpdateCustomThemeSettingSuccess,7e3),hideWaitingPopup("font-upload-dialog"),onUploadFontDialogClose(),showWaitingPopup($("#server-app-container")),window.location.href=lookAndFeelSettingsUrl):(hideWaitingPopup("font-upload-dialog"),typeof n.message=="undefined"||isEmptyOrWhitespace(n.message)?(onUploadFontDialogClose(),warningToast(window.Server.App.Localization.SettingsWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.LookAndFeelSettings),$("#font-name").closest("div").removeClass("has-error"),$("#invalid-font-name").css("display","none"),$("#upload-font").removeAttr("disabled")):($("#font-name").closest("div").addClass("has-error"),$("#invalid-font-name").html(n.message).css("display","block"),$("#upload-font").attr("disabled","disabled"),$("#invalid-font-name").css("display","block")))}})});$(document).on("keyup","#applicationtheme-name",function(){keyvalidation("#applicationtheme-name")});$(document).on("keyup","#dashboardtheme-name",function(){keyvalidation("#dashboardtheme-name")});$(document).on("keyup","#font-name",function(){var n="#font-name",t=$("#font-name").val(),i="#invalid-font-name",r=$("#font-file-name").val();/(\.woff2)$/i.exec(r)?$.trim(t)==""?($(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.ItemNameValidator).css("display","block"),$("#upload-font").attr("disabled","disabled"),$("#invalid-font-name").css("display","block")):additionalSpecialChar.test(t)&&t!==""?$("#application-font option").each(function(){if(t.toLowerCase().trim()===$(this).text().trim().toLowerCase())return $(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.FileNameAlreadyExists).css("display","block"),$("#upload-font").attr("disabled","disabled"),$("#invalid-font-name").css("display","block"),!1;$(n).closest("div").removeClass("has-error");$("#invalid-font-name").css("display","none");$("#upload-font").removeAttr("disabled");$("#font-file-name").closest("div").removeClass("has-error");$("#invalid-font-file-name").html("").css("display","none")}):($(n).closest("div").addClass("has-error"),$(i).html(window.Server.App.Localization.AvoidSpecialCharacters).css("display","block"),$("#upload-font").attr("disabled","disabled"),$("#invalid-font-name").css("display","block")):($("#font-file-name").closest("div").addClass("has-error"),$("#invalid-font-file-name").html(window.Server.App.Localization.FontFileInvalid).css("display","block"),$("#upload-font").attr("disabled","disabled"))})