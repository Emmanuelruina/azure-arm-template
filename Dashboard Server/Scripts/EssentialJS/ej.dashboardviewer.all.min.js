/*!
*  filename: ej.dashboardviewer.all.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},o=function(){},i=f.Base={extend:function(n){o.prototype=this;var t=new o;return n&&t.mixIn(n),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||l).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,t;if(n=n.sigBytes,this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4);i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(4294967296*n.random()|0);return new r.init(i,t)}}),e=u.enc={},l=e.Hex={stringify:function(n){var u=n.words,i,t,r;for(n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return new r.init(u,i/2)}},s=e.Latin1={stringify:function(n){var r=n.words,i,t;for(n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return new r.init(u,i)}},a=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},h=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=a.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),i;if(t=o*e,u=n.min(4*t,u),t){for(i=0;i<t;i+=e)this._doProcessBlock(s,i);i=s.splice(0,t);f.sigBytes-=u}return new r.init(i,u)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),c;return f.Hasher=h.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new c.HMAC.init(n,i).finalize(t)}}}),c=u.algo={},u}(Math),dbrddashboardControls,RequestHeaders,light,dark;(function(){var n=CryptoJS,t=n.lib.WordArray;n.enc.Base64={stringify:function(n){var i=n.words,u=n.sigBytes,f=this._map,t,e,r;for(n.clamp(),n=[],t=0;t<u;t+=3)for(e=(i[t>>>2]>>>24-8*(t%4)&255)<<16|(i[t+1>>>2]>>>24-8*((t+1)%4)&255)<<8|i[t+2>>>2]>>>24-8*((t+2)%4)&255,r=0;4>r&&t+.75*r<u;r++)n.push(f.charAt(e>>>6*(3-r)&63));if(i=f.charAt(64))for(;n.length%4;)n.push(i);return n.join("")},parse:function(n){var e=n.length,f=this._map,i=f.charAt(64),o,s;i&&(i=n.indexOf(i),-1!=i&&(e=i));for(var i=[],u=0,r=0;r<e;r++)r%4&&(o=f.indexOf(n.charAt(r-1))<<2*(r%4),s=f.indexOf(n.charAt(r))>>>6-2*(r%4),i[u>>>2]|=(o|s)<<24-8*(u%4),u++);return t.create(i,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(n){function i(n,t,i,r,u,f,e){return n=n+(t&i|~t&r)+u+e,(n<<f|n>>>32-f)+t}function r(n,t,i,r,u,f,e){return n=n+(t&r|i&~r)+u+e,(n<<f|n>>>32-f)+t}function u(n,t,i,r,u,f,e){return n=n+(t^i^r)+u+e,(n<<f|n>>>32-f)+t}function f(n,t,i,r,u,f,e){return n=n+(i^(t|~r))+u+e,(n<<f|n>>>32-f)+t}for(var o=CryptoJS,e=o.lib,c=e.WordArray,s=e.Hasher,e=o.algo,t=[],h=0;64>h;h++)t[h]=4294967296*n.abs(n.sin(h+1))|0;e=e.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,e){for(var v,a,l=0;16>l;l++)v=e+l,a=n[v],n[v]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=this._hash.words,v=n[e+0],a=n[e+1],y=n[e+2],p=n[e+3],w=n[e+4],b=n[e+5],k=n[e+6],d=n[e+7],g=n[e+8],nt=n[e+9],tt=n[e+10],it=n[e+11],rt=n[e+12],ut=n[e+13],ft=n[e+14],et=n[e+15],o=l[0],s=l[1],h=l[2],c=l[3],o=i(o,s,h,c,v,7,t[0]),c=i(c,o,s,h,a,12,t[1]),h=i(h,c,o,s,y,17,t[2]),s=i(s,h,c,o,p,22,t[3]),o=i(o,s,h,c,w,7,t[4]),c=i(c,o,s,h,b,12,t[5]),h=i(h,c,o,s,k,17,t[6]),s=i(s,h,c,o,d,22,t[7]),o=i(o,s,h,c,g,7,t[8]),c=i(c,o,s,h,nt,12,t[9]),h=i(h,c,o,s,tt,17,t[10]),s=i(s,h,c,o,it,22,t[11]),o=i(o,s,h,c,rt,7,t[12]),c=i(c,o,s,h,ut,12,t[13]),h=i(h,c,o,s,ft,17,t[14]),s=i(s,h,c,o,et,22,t[15]),o=r(o,s,h,c,a,5,t[16]),c=r(c,o,s,h,k,9,t[17]),h=r(h,c,o,s,it,14,t[18]),s=r(s,h,c,o,v,20,t[19]),o=r(o,s,h,c,b,5,t[20]),c=r(c,o,s,h,tt,9,t[21]),h=r(h,c,o,s,et,14,t[22]),s=r(s,h,c,o,w,20,t[23]),o=r(o,s,h,c,nt,5,t[24]),c=r(c,o,s,h,ft,9,t[25]),h=r(h,c,o,s,p,14,t[26]),s=r(s,h,c,o,g,20,t[27]),o=r(o,s,h,c,ut,5,t[28]),c=r(c,o,s,h,y,9,t[29]),h=r(h,c,o,s,d,14,t[30]),s=r(s,h,c,o,rt,20,t[31]),o=u(o,s,h,c,b,4,t[32]),c=u(c,o,s,h,g,11,t[33]),h=u(h,c,o,s,it,16,t[34]),s=u(s,h,c,o,ft,23,t[35]),o=u(o,s,h,c,a,4,t[36]),c=u(c,o,s,h,w,11,t[37]),h=u(h,c,o,s,d,16,t[38]),s=u(s,h,c,o,tt,23,t[39]),o=u(o,s,h,c,ut,4,t[40]),c=u(c,o,s,h,v,11,t[41]),h=u(h,c,o,s,p,16,t[42]),s=u(s,h,c,o,k,23,t[43]),o=u(o,s,h,c,nt,4,t[44]),c=u(c,o,s,h,rt,11,t[45]),h=u(h,c,o,s,et,16,t[46]),s=u(s,h,c,o,y,23,t[47]),o=f(o,s,h,c,v,6,t[48]),c=f(c,o,s,h,d,10,t[49]),h=f(h,c,o,s,ft,15,t[50]),s=f(s,h,c,o,b,21,t[51]),o=f(o,s,h,c,rt,6,t[52]),c=f(c,o,s,h,p,10,t[53]),h=f(h,c,o,s,tt,15,t[54]),s=f(s,h,c,o,a,21,t[55]),o=f(o,s,h,c,g,6,t[56]),c=f(c,o,s,h,et,10,t[57]),h=f(h,c,o,s,k,15,t[58]),s=f(s,h,c,o,ut,21,t[59]),o=f(o,s,h,c,w,6,t[60]),c=f(c,o,s,h,it,10,t[61]),h=f(h,c,o,s,y,15,t[62]),s=f(s,h,c,o,nt,21,t[63]);l[0]=l[0]+o|0;l[1]=l[1]+s|0;l[2]=l[2]+h|0;l[3]=l[3]+c|0},_doFinalize:function(){var u=this._data,r=u.words,t=8*this._nDataBytes,i=8*u.sigBytes,f;for(r[i>>>5]|=128<<24-i%32,f=n.floor(t/4294967296),r[(i+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,r[(i+64>>>9<<4)+14]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360,u.sigBytes=4*(r.length+1),this._process(),u=this._hash,r=u.words,t=0;4>t;t++)i=r[t],r[t]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return u},clone:function(){var n=s.clone.call(this);return n._hash=this._hash.clone(),n}});o.MD5=s._createHelper(e);o.HmacMD5=s._createHmacHelper(e)}(Math),function(){var t=CryptoJS,n=t.lib,i=n.Base,r=n.WordArray,n=t.algo,u=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,t){for(var i,o,f=this.cfg,u=f.hasher.create(),e=r.create(),h=e.words,s=f.keySize,f=f.iterations;h.length<s;){for(i&&u.update(i),i=u.update(n).finalize(t),u.reset(),o=1;o<f;o++)i=u.finalize(i),u.reset();e.concat(i)}return e.sigBytes=4*s,e}});t.EvpKDF=function(n,t,i){return u.create(i).compute(n,t)}}();CryptoJS.lib.Cipher||function(n){var i=CryptoJS,t=i.lib,f=t.Base,e=t.WordArray,c=t.BufferedBlockAlgorithm,l=i.enc.Base64,y=i.algo.EvpKDF,o=t.Cipher=c.extend({cfg:f.extend(),createEncryptor:function(n,t){return this.create(this._ENC_XFORM_MODE,n,t)},createDecryptor:function(n,t){return this.create(this._DEC_XFORM_MODE,n,t)},init:function(n,t,i){this.cfg=this.cfg.extend(i);this._xformMode=n;this._key=t;this.reset()},reset:function(){c.reset.call(this);this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){return n&&this._append(n),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(t,i,r){return("string"==typeof i?v:u).encrypt(n,t,i,r)},decrypt:function(t,i,r){return("string"==typeof i?v:u).decrypt(n,t,i,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=i.mode={},a=function(t,i,r){var f=this._iv,u;for(f?this._iv=n:f=this._prevBlock,u=0;u<r;u++)t[i+u]^=f[u]},r=(t.BlockCipherMode=f.extend({createEncryptor:function(n,t){return this.Encryptor.create(n,t)},createDecryptor:function(n,t){return this.Decryptor.create(n,t)},init:function(n,t){this._cipher=n;this._iv=t}})).extend();r.Encryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize;a.call(this,n,t,r);i.encryptBlock(n,t);this._prevBlock=n.slice(t,t+r)}});r.Decryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize,u=n.slice(t,t+r);i.decryptBlock(n,t);a.call(this,n,t,r);this._prevBlock=u}});s=s.CBC=r;r=(i.pad={}).Pkcs7={pad:function(n,t){for(var i=4*t,i=i-n.sigBytes%i,f=i<<24|i<<16|i<<8|i,r=[],u=0;u<i;u+=4)r.push(f);i=e.create(r,i);n.concat(i)},unpad:function(n){n.sigBytes-=n.words[n.sigBytes-1>>>2]&255}};t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:s,padding:r}),reset:function(){var t;o.reset.call(this);var n=this.cfg,i=n.iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1);this._mode=t.call(n,this,i&&i.words)},_doProcessBlock:function(n,t){this._mode.processBlock(n,t)},_doFinalize:function(){var t=this.cfg.padding,n;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),t.unpad(n)),n},blockSize:4});var h=t.CipherParams=f.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),s=(i.format={}).OpenSSL={stringify:function(n){var t=n.ciphertext;return n=n.salt,(n?e.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(n){var t,i;return n=l.parse(n),t=n.words,1398893684==t[0]&&1701076831==t[1]&&(i=e.create(t.slice(2,4)),t.splice(0,4),n.sigBytes-=16),h.create({ciphertext:n,salt:i})}},u=t.SerializableCipher=f.extend({cfg:f.extend({format:s}),encrypt:function(n,t,i,r){r=this.cfg.extend(r);var u=n.createEncryptor(i,r);return t=u.finalize(t),u=u.cfg,h.create({ciphertext:t,key:i,iv:u.iv,algorithm:n,mode:u.mode,padding:u.padding,blockSize:n.blockSize,formatter:r.format})},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(n,t){return"string"==typeof n?t.parse(n,this):n}}),i=(i.kdf={}).OpenSSL={execute:function(n,t,i,r){return r||(r=e.random(8)),n=y.create({keySize:t+i}).compute(n,r),i=e.create(n.words.slice(t),4*i),n.sigBytes=4*t,h.create({key:n,iv:i,salt:r})}},v=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:i}),encrypt:function(n,t,i,r){return r=this.cfg.extend(r),i=r.kdf.execute(i,n.keySize,n.ivSize),r.iv=i.iv,n=u.encrypt.call(this,n,t,i.key,r),n.mixIn(i),n},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),i=r.kdf.execute(i,n.keySize,n.ivSize,t.salt),r.iv=i.iv,u.decrypt.call(this,n,t,i.key,r)}})}(),function(){for(var i,tt,s=CryptoJS,y=s.lib.BlockCipher,h=s.algo,t=[],p=[],w=[],b=[],k=[],d=[],c=[],l=[],a=[],v=[],u=[],f=0;256>f;f++)u[f]=128>f?f<<1:f<<1^283;for(var r=0,e=0,f=0;256>f;f++){i=e^e<<1^e<<2^e<<3^e<<4;i=i>>>8^i&255^99;t[r]=i;p[i]=r;var o=u[r],g=u[o],nt=u[g],n=257*u[i]^16843008*i;w[r]=n<<24|n>>>8;b[r]=n<<16|n>>>16;k[r]=n<<8|n>>>24;d[r]=n;n=16843009*nt^65537*g^257*o^16843008*r;c[i]=n<<24|n>>>8;l[i]=n<<16|n>>>16;a[i]=n<<8|n>>>24;v[i]=n;r?(r=o^u[u[u[nt^o]]],e^=u[u[e]]):r=e=1}tt=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=y.extend({_doReset:function(){for(var n,f=this._key,e=f.words,r=f.sigBytes/4,f=4*((this._nRounds=r+6)+1),u=this._keySchedule=[],i=0;i<f;i++)i<r?u[i]=e[i]:(n=u[i-1],i%r?6<r&&4==i%r&&(n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255]):(n=n<<8|n>>>24,n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255],n^=tt[i/r|0]<<24),u[i]=u[i-r]^n);for(e=this._invKeySchedule=[],r=0;r<f;r++)i=f-r,n=r%4?u[i]:u[i-4],e[r]=4>r||4>=i?n:c[t[n>>>24]]^l[t[n>>>16&255]]^a[t[n>>>8&255]]^v[t[n&255]]},encryptBlock:function(n,i){this._doCryptBlock(n,i,this._keySchedule,w,b,k,d,t)},decryptBlock:function(n,t){var i=n[t+1];n[t+1]=n[t+3];n[t+3]=i;this._doCryptBlock(n,t,this._invKeySchedule,c,l,a,v,p);i=n[t+1];n[t+1]=n[t+3];n[t+3]=i},_doCryptBlock:function(n,t,i,r,u,f,e,o){for(var b=this._nRounds,h=n[t]^i[0],c=n[t+1]^i[1],l=n[t+2]^i[2],s=n[t+3]^i[3],a=4,w=1;w<b;w++)var v=r[h>>>24]^u[c>>>16&255]^f[l>>>8&255]^e[s&255]^i[a++],y=r[c>>>24]^u[l>>>16&255]^f[s>>>8&255]^e[h&255]^i[a++],p=r[l>>>24]^u[s>>>16&255]^f[h>>>8&255]^e[c&255]^i[a++],s=r[s>>>24]^u[h>>>16&255]^f[c>>>8&255]^e[l&255]^i[a++],h=v,c=y,l=p;v=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[s&255])^i[a++];y=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[s>>>8&255]<<8|o[h&255])^i[a++];p=(o[l>>>24]<<24|o[s>>>16&255]<<16|o[h>>>8&255]<<8|o[c&255])^i[a++];s=(o[s>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[l&255])^i[a++];n[t]=v;n[t+1]=y;n[t+2]=p;n[t+3]=s},keySize:8});s.AES=y._createHelper(h)}();window.ej=window.Syncfusion=window.Syncfusion||{},function(n){var t={};t.registeredWidgets={};t.registerWidget=function(n){for(var i,r=Object.keys(this.registeredWidgets),t=0;t<r.length;t++)if(r[t]==n.guid)return;i=function(){};i.prototype=n;this.registeredWidgets[n.guid]={proto:i}};t.createWidgetInstance=function(t,i,r){var f=n.dashboard.registeredWidgets[t].proto,u=new f;u.element=i;u.model=r;i.classList.add("dbrd-widget");i.plugindata=u;u.init()};t.getWidgetInstance=function(n){try{return n.plugindata}catch(t){throw t.message+"\n"+t.stack;}};t.selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic"};this.DimensionFilterInfo={Conditions:0,IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]}};t.selectedColumnInfo=function(){this.uniqueColumnName="";this.condition="";this.values=[]};t.setProperty=function(t,i){var r={},u=n.dashboard.getWidgetInstance(t),f;r[i.name]=i.value;f=n.dashboard.parseProperty(r);i.value=f[i.name];u.model.properties[i.name]=i.value;u.update({type:"propertyChange",property:i})};t.parseProperty=function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)try{n[i[t]]=JSON.parse(n[i[t]])}catch(r){n[i[t]]=n[i[t]]}return n};t.createWidgetWithInIFrame=function(t){var i=JSON.parse(t).data;window.addEventListener?window.addEventListener("message",n.dashboard.postMessageToIFrame,!1):window.attachEvent("onmessage",n.dashboard.postMessageToIFrame);n.dashboard.createWidgetInstance(i.guid,document.getElementById("container"),{dataSource:i.dataSource,boundColumns:i.boundColumns,isIFrameEnable:!0,isDataBound:i.isDataBound,enableLinking:i.enableLinking,customThemeSettings:i.customTheme,linkSettings:{enableTabularUrlLinking:i.linkSettings.enableTabularUrlLinking,urlPattern:i.linkSettings.urlPattern},initMode:i.initMode,properties:i.properties,dashboardId:i.dashboardId,widgetId:i.widgetId,baseURL:i.baseURL})};t.postMessageToIFrame=function(t){var i=JSON.parse(t.data),r=n.dashboard.getWidgetInstance(document.getElementById("container"));i.type==="refresh"?(r.model.dataSource=i.data,r.update({type:"refresh",data:i.data})):i.type==="resize"&&(r.update(i),document.body.style.width=i.size.width+"px",document.body.style.height=i.size.height+"px")};t.postMessageToViewer=function(n){window.parent.postMessage(JSON.stringify(n),"*")};t.filterData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"interaction",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._loadWidgetSlaves(t.model.widgetId,r))};t.navigateThroughLinking=function(t,i,r){for(var o,f=[],e=[],u=0;u<i.length;u++)e.push({Column:i[u].uniqueColumnName,Value:i[u].values});f.push({Items:e});t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"linking",selectedData:f,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId,url:r}):n.isNullOrUndefined(t.model.dashboardId)||(o=$("#"+t.model.dashboardId).data("ejDashboardViewer"),o._navigationThroughLinking(f,r,t.model.widgetId))};t.viewData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"viewData",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._getViewData(t.model.widgetId,r))};t.getFilterInfo=function(t,i){var r=new n.dashboard.selectedFilterInfo,u,f,o,e;for(r.ReportName=t.model.widgetId,r.uniqueColumnName=i.uniqueColumnName,u=0;u<Object.keys(t.model.boundColumns).length;u++)for(f=0;f<t.model.boundColumns[Object.keys(t.model.boundColumns)[u]].length;f++)if(t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f].uniqueColumnName===i.uniqueColumnName){o=t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f];e=o.valueType;e==="dimension"&&o.dataType==="datetime"&&(e="datetime");switch(e){case"dimension":switch(i.condition){case"startswith":r.DimensionFilterInfo.Conditions="StartsWith";break;case"contains":r.DimensionFilterInfo.Conditions="Contains";break;case"endswith":r.DimensionFilterInfo.Conditions="EndsWith";break;case"notcontains":r.DimensionFilterInfo.Conditions="NotContains";break;case"include":r.DimensionFilterInfo.Conditions="Include";break;case"exclude":r.DimensionFilterInfo.Conditions="Exclude"}r.DimensionFilterInfo.Text=i.values;break;case"measure":r.MeasureFilterInfo.Conditions=i.condition;r.MeasureFilterInfo.Values=i.values;break;case"datetime":switch(i.condition){case"range":r.DateFilterInfo.Action="Range";r.DateFilterInfo.DateFilterType="Exact";r.DateFilterInfo.DateFilterList=i.values;break;case"include":r.DateFilterInfo.Action="Include";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"exclude":r.DateFilterInfo.Action="Exclude";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"relative":r.DateFilterInfo.DateFilterType="Relative";r.DateFilterInfo.DateFilterList=i.values}}}return r};t.formatSelectedColumn=function(t,i){for(var u=[],r=0;r<i.length;r++)u.push(n.dashboard.getFilterInfo(t,i[r]));return u};n.dashboard=t}(window.ej),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dropdownlist={_renderFDropDownList:function(r){var h=0,tt=-1,ot=1,st=200,yt=300,u=r.configInfo,e=r,y=r.getCurrentPageData(),g=null,it=null,ft=!0,et=!0,c=this,k=[],w=[],l=null,ht=JSON.parse(JSON.stringify(this.dashboardParameters)),d=[],a,ut,p,ct,lt,at,vt;if(l=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),y.isError){l.find(".e-dbrd-control").attr({"data-controlId":u.Id});l.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(y.pagedata,l.find(".e-dbrd-control"),u);return}if(l.find(".e-dbrd-control").attr({id:""}),this._hideControlError(l.find(".e-dbrd-control")),a=y.pagedata,u.ShowAsListBox){this._renderListBox(r,!0);return}var o=null,nt=[],b=[],v=null,f=0,s=0,rt=0;if(e.SelectedFilterInfo&&e.SelectedFilterInfo.length!==h&&!t.isNullOrUndefined(u.HiddenColumnName)){for(b=[],d=[],ut=[],f=0;f<e.SelectedFilterInfo.length;f++){if(e.SelectedFilterInfo[f].DateFilterInfo!==null&&e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList.length>h)for(s=0;s<e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList.length;s++)e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase()!==u.HiddenColumnName.toLowerCase()?d.push({column:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList[s]}):ut.push({hiddenColumn:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList[s]}),v=this._getItemIndex(a,e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList[s]),v!==tt&&b.push(v);if(e.SelectedFilterInfo[f].DimensionFilterInfo!==null&&e.SelectedFilterInfo[f].DimensionFilterInfo.Text.length>h)for(s=0;s<e.SelectedFilterInfo[f].DimensionFilterInfo.Text.length;s++)e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase()!==u.HiddenColumnName.toLowerCase()?d.push({column:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[f].DimensionFilterInfo.Text[s]}):ut.push({hiddenColumn:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[f].DimensionFilterInfo.Text[s]}),v=this._getItemIndex(a,e.SelectedFilterInfo[f].DimensionFilterInfo.Text[s]),v!==tt&&b.push(v)}for(f=0;f<d.length;f++)k.push(d[f].value),w.push({Column:d[f].column,Value:d[f].value,HiddenColumnName:ut[f].hiddenColumn,HiddenValue:ut[f].value})}else if(e.SelectedFilterInfo&&e.SelectedFilterInfo.length!==h)for(b=[],f=0;f<e.SelectedFilterInfo.length;f++){if(e.SelectedFilterInfo[f].DateFilterInfo!==null&&e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList.length>h)for(s=0;s<e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList.length;s++)w.push({Column:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList[s]}),v=this._getItemIndex(a,e.SelectedFilterInfo[f].DateFilterInfo.DateFilterList[s]),v!==tt&&(b.push(v),k.push(a[v].text));if(e.SelectedFilterInfo[f].DimensionFilterInfo!==null&&e.SelectedFilterInfo[f].DimensionFilterInfo.Text.length>h)for(s=0;s<e.SelectedFilterInfo[f].DimensionFilterInfo.Text.length;s++)w.push({Column:e.SelectedFilterInfo[f].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[f].DimensionFilterInfo.Text[s]}),v=this._getItemIndex(a,e.SelectedFilterInfo[f].DimensionFilterInfo.Text[s]),v!==tt&&(b.push(v),k.push(a[v].text))}if(!t.isNullOrUndefined(n("#"+this._id+t.DashboardConstants.Widget+u.Id).data("ejDropDownList"))){for(g=this._id+t.DashboardConstants.Widget+u.Id,rt=0;rt<this.target.length;rt++)this.target[rt].indexOf(u.Id)!==tt&&this.target.splice(rt,ot);if(o=n("#"+this._id+t.DashboardConstants.Widget+u.Id),!t.isNullOrUndefined(o)&&o.height()>60){if(!this._applyOrRemoveNoDataAvailable(a.length,o))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(a.length,o))return;if(l=o.parents("td"),it=o.parent(),o.data("ejDropDownList")){p=o.data("ejDropDownList");p.option("watermarkText",k.length===h?t.DashboardConstants.All:k.toString());p.model.query=null;p.option("actionBegin",null);p.option("beforePopupShown",null);p.option("beforePopupShown",function(){n("#"+c._id+"_popup").css({"max-width":n(window).width()-n("#"+c._id).offset().left+"px"});et=c._dropDownBeforePopupShown(this,o,et,b)});p.option("actionBegin",function(n){ft=c._dropDownActionBegin(this,n,ft,y.rowCount,a,u,w)});ct=this.dashboardControls.getAllControlsMasterData();p.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",u.Id).addParams("masterData",JSON.stringify(ct)).addParams("controlRowCount",JSON.stringify(y.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",h).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",h).addParams("hasNull","false").addParams("hasEmpty","false").addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(ht))));p.option("text",!u.MultiSelect&&nt.length===ot?a[nt[0]].text:nt.length===h?t.DashboardConstants.All:"");p._refreshScroller();n("#"+n(o).attr("id")+"_wrapper").addClass("center_align");w===null||w.length===h?(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+g).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):w.length!==h&&(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+g).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}}if(g===null)if(o=n("<input>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("e-FilterBox").css({"margin-left":"auto","margin-right":"auto"}),it=n("<div>").css({height:"100%",width:"100%"}).attr({tabindex:"0"}),it.append(o),it.css({display:"table-cell","vertical-align":"middle"}),l.find(".e-dbrd-control").removeAttr("tabindex").append(it).css({display:"table"}).attr({"data-controlId":u.Id}),l.find(".e-remove-control-filter").attr({id:o.attr("id")+"_removeControlFilter"}),lt=l.children().width()===h?Number(l.attr("colspan"))*55:l.children().width(),l.attr({"data-controlId":u.Id,"data-controltype":"FilterComboBox","data-controlLinkData":JSON.stringify(u.IsLinked?u.ControlLinkData:""),"data-isMaster":u.IsMasterFilter}),e.SelectedFilterInfo.length!==h&&(l.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),l.find(".e-dbrd-control-container").data({IsFilterApplied:!0})),at=(new t.UrlAdaptor).extend({dropdownId:this._id+t.DashboardConstants.Widget+u.Id,processResponse:function(t,i,r,u,f,e){var s=JSON.parse(f.data).controlId,o=n("#"+this.dropdownId).data("ejDropDownList");return t.d[0].Key===s&&t.d[0].Value[0].key==="Data"&&(t.d=JSON.parse(t.d[0].Value[0].value),o._totalCount=t.d.result.length<st?o._rawList.length+t.d.result.length:o._rawList.length+yt),r._requiresCount=!0,this.base.processResponse.apply(this,[t,i,r,u,f,e])}}),l.find(".e-dbrd-control").addClass("e-dropDown"),vt=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",adaptor:new at}):a,o.ejDropDownList({virtualScrollMode:"continuous",watermarkText:k.length>h?k.toString():t.DashboardConstants.All,width:lt-30+"px",create:n.proxy(this._dropDownCreate,this,c,o),itemsCount:st,query:(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",u.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",JSON.stringify(y.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",h).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",h).addParams("hasNull","false").addParams("hasEmpty","false").addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardName",this.dashboardName).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(ht))),dataSource:vt,fields:{text:"text",id:"id",value:"value",htmlAttributes:"title"},change:n.proxy(this._onGlobalFilterChange,this,!1,u.MultiSelect,!1,u.Id,u.IsLinked?u.ControlLinkData:i,u.IsMasterFilter,u.ColumnName,u.HiddenColumnName,u.HiddenDateTimeColumns,u.DateTimeColumns),showCheckbox:u.MultiSelect,text:!u.MultiSelect&&nt.length===ot?a[nt[0]].text:nt.length===h?t.DashboardConstants.All:"",checkAll:!1,popupHeight:u.MultiSelect?"286px":"240px",allowVirtualScrolling:!u.IsRelativeDate,enableFilterSearch:u.MultiSelect,cssClass:"e-dbrd-canvas",popupShown:n.proxy(this._showPopup,this,u.Id),popupHide:u.MultiSelect?n.proxy(this._hidePopup,this,u,y,c):"",beforePopupShown:function(){n("#"+this._id+"_popup_list_wrapper").css({"max-width":n(window).width()-n("#"+this._id).offset().left+"px"});et=c._dropDownBeforePopupShown(this,o,et,b)},search:function(n){c._id==="dashboard_filter_panel"||c._id==="filter"?(c.enableVirtualLoading||c.model.enableVirtualLoading)&&c._dropDownSearch(this,n,c,u,y):c._dropDownSearch(this,n,c,u,y)},actionBegin:function(n){ft=c._dropDownActionBegin(this,n,ft,y.rowCount,a,u,w)}}),n("#"+n(o).attr("id")+"_wrapper").css("margin-top","-5px"),n("#"+n(o).attr("id")+"_wrapper").addClass("center_align"),n("#"+n(o).attr("id")+"_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control"),!t.isNullOrUndefined(o)&&o.height()>60){if(!this._applyOrRemoveNoDataAvailable(a.length,o))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(a.length,o))return},_setComboBoxConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.ShowAsListBox=!t.isNullOrUndefined(n.configInfo.ShowAsListBox)&&n.configInfo.ShowAsListBox;n.configInfo.HiddenColumnName=t.isNullOrUndefined(n.configInfo.HiddenColumnName)?null:n.configInfo.HiddenColumnName;n.configInfo.MultiSelect=!t.isNullOrUndefined(n.configInfo.MultiSelect)&&n.configInfo.MultiSelect;n.configInfo.IsRelativeDate=!t.isNullOrUndefined(n.configInfo.IsRelativeDate)&&n.configInfo.IsRelativeDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.dd_master)||n.configInfo.IsMasterFilter;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.HiddenDateTimeColumns=t.isNullOrUndefined(n.configInfo.HiddenDateTimeColumns)?[]:n.configInfo.HiddenDateTimeColumns},_dropDownCreate:function(t,i){var r=n(i).data("ejDropDownList");r._updateSelectedValueOnSearch=r._updateSelectedIndexByValue;r._updateSelectedIndexByValue=function(){}},_dropDownBeforePopupShown:function(t,i,r,u){var f=n(i).data("ejDropDownList"),e;f._isChanged=!1;r&&!f._isFilterCleared&&(e=f.model.change,f.model.change=null,f.option("selectedItems",u),f.model.change=e)},_dropDownActionBegin:function(n,i,r,u,f,e,o){var b=200,s=0,d=JSON.parse(JSON.stringify(this.dashboardParameters)),a,l,c,h,v,y,p,w,k;if(r){for(a=[],n._searchListSelectedItems=[],n._isChanged=!1,n._searchSelectedItems=[],l=[],s=0;s<o.length;s++)for(c=0;c<f.length;c++)if(t.isNullOrUndefined(f[c].hiddenColumnName)){if(f[c].id===o[s].Value){l.push(o[s]);break}}else if(f[c].text===o[s].Value&&f[c].value===o[s].HiddenValue){l.push(o[s]);break}for(n._totalSelectedItems=l,n._isFilterCleared=!1,n._totalCount=f.length+b,n._listItem(f),n._removeLoadingClass(),n._renderPopupList(),n._finalize(),i.cancel=!0,h=0,h=0;h<n._totalSelectedItems.length;h++)a.push(n._totalSelectedItems[h].Value);for(v="false",y="false",h=0;h<f.length;h++)f[h].id==="(Null)"?v="true":f[h].id==="(Blanks)"&&(y="true");for(s=0;s<n.model.query._params.length;s++)n.model.query._params[s].key==="selectedItems"?n.model.query._params[s].value=JSON.stringify(a):n.model.query._params[s].key==="hasNull"?n.model.query._params[s].value=v:n.model.query._params[s].key==="hasEmpty"&&(n.model.query._params[s].value=y);return!1}if(n.inputSearch&&n.inputSearch.val()!==""){for(p=[],p.push({field:n.getListData()[0].column,value:n.inputSearch.val()}),i.cancel=!0,w=null,s=0;s<n.model.query._params.length;s++)n.model.query._params[s].key==="searchCount"&&(w=n.model.query._params[s].value);n._getLi().length<w&&this.model.enableVirtualLoading?(k={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({inlinecount:"allpages",skip:n._getLi().length,take:b,dashboardPath:this.dashboardPath(),controlId:e.Id,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:JSON.stringify(n._totalCount),modifiedConnectionStrings:this.modifiedConnectionStrings,allowFilterData:JSON.stringify(p),currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(d)}),onSuccess:this._appendItemForSearchVirtualScroll,needRequestParameter:!1,additionalParameter:n},this.doAjaxPost(k)):n._removeLoadingClass()}},_dropDownSearch:function(i,r,u,f,e){var o=n("#"+i._id).data("ejDropDownList"),s,a,h,v,c,l;if(o._addLoadingClass(),s=0,a=JSON.parse(JSON.stringify(u.dashboardParameters)),o.inputSearch.val()===""){for(r.cancel=!0,s=0;s<o.model.query._params.length;s++)o.model.query._params[s].key==="searchCount"?o.model.query._params[s].value=0:o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(""));o._updateSelectedValueOnSearch(o.model.value);o._removeLoadingClass()}else{for(h=[],h.push({field:r.items[0].column,value:r.searchString.trimRight()}),s=0;s<o.model.query._params.length;s++)o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(h));for(r.cancel=!0,v=[],c=0;c<i._totalSelectedItems.length;c++)v.push(i._totalSelectedItems[c].Value);this.model.enableVirtualLoading&&(l={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({dashboardPath:u.dashboardPath(),inlinecount:"allpages",skip:0,take:200,controlId:f.Id,controlRowCount:JSON.stringify(e.rowCount),modifiedConnectionStrings:u.modifiedConnectionStrings,allowFilterData:JSON.stringify(h),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(a)}),onSuccess:u._fillDropDownAllowFilterData,needRequestParameter:!1,additionalParameter:[i,r]},t.isNullOrUndefined(this._dashboardId)?this._searchDropDownList(l):this.doAjaxPost(l))}},_appendSelectedItemOnSearch:function(n,t){for(var i,u=!1,r=0;r<n._rawList.length;r++)if(n._rawList[r].id===t.id){u=!0;break}for(u||(n.addItem(t),n.ultag.children().last().remove(),n._searchSelectedItems.push(t.id)),i=0;i<n.model.query._params.length;i++)n.model.query._params[i].key==="searchSelectedCount"&&(n.model.query._params[i].value=n._searchSelectedItems.length)},_appendItemForSearchVirtualScroll:function(t,i,r){for(var e,h,o=0,f=JSON.parse(r.d[0].Value[0].value),s=o,u=0;u<i.model.query._params.length;u++)i.model.query._params[u].key==="searchCount"&&(i.model.query._params[u].value=f.result.length<200?i._getLi().length+f.result.length:i._getLi().length+300,s=i.model.query._params[u].value);if(r=f.result,i._getLi().length<s){if(!r||(i._mapFields(),e=n.isArray(r)?r:[r],e.length<1))return!1;i._generateLi(e,i.mapFld);i.ultag.append(i.dummyUl);i.model.showCheckbox&&i._appendCheckbox(i.dummyUl);i._isPopupShown()&&(h=i.scrollerObj?i.scrollerObj.scrollTop():o,i._refreshScroller(),i.scrollerObj&&i.scrollerObj.option("scrollTop",h))}i._removeLoadingClass()},_fillDropDownAllowFilterData:function(n,i,r){var u=i[1],e=[],o=200,f;for(t.isNullOrUndefined(r.d[0].Value)||t.isNullOrUndefined(r.d[0].Value[0].value)||(e=JSON.parse(r.d[0].Value[0].value)),u.result=e.result,f=0;f<u.model.query._params.length;f++)u.model.query._params[f].key==="searchCount"&&(u.model.query._params[f].value=e.result.length<o?o+e.result.length:o+300);i[0]._filterSearch(null,u);i[0]._removeLoadingClass()},_hidePopup:function(i,r,u,f){var a=0,o,h,c,l,s,y;u=this;var v=n("#"+this._id+t.DashboardConstants.Widget+i.Id),p=JSON.parse(JSON.stringify(this.dashboardParameters)),e=v.data("ejDropDownList");if(e._isChanged){if(this._createControlWaitingIndicator(v.closest(".e-dbrd-control-container"),!0),o=0,e.inputSearch.val()!=="")for(e.model.query._params[5].value=JSON.stringify(""),o=0;o<e.model.query._params.length;o++)e.model.query._params[o].key==="searchCount"&&(e.model.query._params[o].value=0);for(h="false",c="false",e._searchSelectedItems=[],o=0;o<e.model.query._params.length;o++)e.model.query._params[o].key==="searchSelectedCount"?e.model.query._params[o].value=e._searchSelectedItems.length:e.model.query._params[o].key==="hasNull"?h=e.model.query._params[o].value:e.model.query._params[o].key==="hasEmpty"&&(c=e.model.query._params[o].value);for(l=[],s=0;s<e._totalSelectedItems.length;s++)l.push(e._totalSelectedItems[s].Value);this.model.enableVirtualLoading&&(y={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:JSON.stringify({dashboardPath:this.dashboardPath(),inlinecount:"allpages",skip:a,take:200,controlId:i.Id,controlRowCount:JSON.stringify(r.rowCount),modifiedConnectionStrings:this.modifiedConnectionStrings,allowFilterData:JSON.stringify(""),masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),selectedItems:JSON.stringify(l),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,searchSelectedCount:a,hasNull:h,hasEmpty:c,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(p)}),onSuccess:this._reorderOnPopupOnHide,needRequestParameter:!1,additionalParameter:[e,f,i]},this.doAjaxPost(y))}},_reorderOnPopupOnHide:function(i,r,u){var a=0,p=!0,w=!0,h=[],o=r[0],v=r[2],l;u.d[0].Key===v.Id&&u.d[0].Value[0].key==="Data"&&(h=JSON.parse(u.d[0].Value[0].value));for(var tt=JSON.parse(JSON.stringify(this.dashboardParameters)),e=o._totalSelectedItems,c=[],b=[],y=[],f=0,f=0;f<e.length;f++)t.isNullOrUndefined(e[f].HiddenColumnName)?c.push({column:e[f].Column,id:e[f].Value,text:e[f].Text}):c.push({column:e[f].Column,hiddenColumnName:e[f].HiddenColumnName,id:e[f].Value,text:e[f].Value,value:e[f].HiddenValue}),b.push(f),y.push(e[f].Text);for(f=0;f<h.result.length;f++)c.push(h.result[f]);var k=h.count,d=[],s=this,g="false",nt="false";for(f=0;f<o.model.query._params.length;f++)o.model.query._params[f].key==="hasNull"?g=o.model.query._params[f].value:o.model.query._params[f].key==="hasEmpty"&&(nt=o.model.query._params[f].value);for(o.model.query=null,o.option("actionBegin",null),o.option("beforePopupShown",null),o.option("beforePopupShown",function(){n("#"+s._id+"_popup_list_wrapper").css({"max-width":n(window).width()-n("#"+s._id).offset().left+"px"});w=s._dropDownBeforePopupShown(s,"#"+r[0]._id,w,b)}),o.option("actionBegin",function(n){p=s._dropDownActionBegin(this,n,p,k,c,v,e)}),l=0;l<e.length;l++)d.push(e[l].Value);o.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",v.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",k).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterData",JSON.stringify("")).addParams("searchCount",a).addParams("selectedItems",JSON.stringify(d)).addParams("searchSelectedCount",a).addParams("hasNull",g).addParams("hasEmpty",nt).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(tt))));o.option("watermarkText",y.length===a?t.DashboardConstants.All:y.toString());setTimeout(function(){s._destroyAllControlWaitingIndicator()},500)},_listItemsReordering:function(t,i){for(var u,o=1,f=[],s=[],e=t.getListData(),r=0;r<i.length;r++)s.push(r),n(t._virtualUl.children("li")[i[r]]).insertBefore(t._virtualUl.children("li").eq(r));for(u=i.length-o;u>=0;u--)f.push(e[i[u]]),e.splice(i[u],o);f.reverse();t._listItem(f.concat(e));t.model.selectedIndices=t.model.selectedItems=t._selectedIndices=s},_showComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_getItemIndex:function(n,t){for(var i=0;i<n.length;i++)if(n[i].id===t)return i;return-1},_clearDropdownRequest:function(){this.requestTimer!==null&&clearTimeout(this.requestTimer)},_fetchingDropdownData:function(r,u,f,e,o,s,h,c){var it=0,b=0,d=0,ot=1,p=-1,st=-1,tt=!1,ut=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDropDownList"),ct=this,w=[],g=[],ht=[],ft=[],l,a,v,k,nt;if(typeof u=="undefined"||typeof u.itemId!="undefined"||datePicker){var rt=n("#"+this._id+t.DashboardConstants.Widget+r),et=rt.data("ejDropDownList").getListData(),y=this.dashboardControls.getControlByReport(r);if(!f){if(e&&u.model.selectedItems.length===u.model.itemsCount&&rt.data("ejDropDownList").option("watermarkText",t.DashboardConstants.All),e&&!f&&u!==i){if(rt.data("ejDropDownList").model.selectedItems.sort(function(n,t){return n-t}),l=rt.data("ejDropDownList"),t.isNullOrUndefined(l._totalSelectedItems)&&(l._totalSelectedItems=[]),a=0,t.isNullOrUndefined(s)){if(u.isChecked){for(tt=!1,a=0;a<l._totalSelectedItems.length;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){tt=!0;break}tt||l._totalSelectedItems.push({Column:l.popupListItems[0].column,Value:u.selectedValue,Text:u.selectedText})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){l._totalSelectedItems.splice(a,ot);break}}else if(u.isChecked){for(tt=!1,a=0;a<l._totalSelectedItems.length;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){tt=!0;break}tt||l._totalSelectedItems.push({Column:l.popupListItems[0].column,Value:u.selectedText,HiddenColumnName:l.popupListItems[0].hiddenColumnName,HiddenValue:u.selectedValue})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){l._totalSelectedItems.splice(a,ot);break}l._totalSelectedItems.length>it&&(w=l._totalSelectedItems)}else t.isNullOrUndefined(u)||(t.isNullOrUndefined(s)?w.push({Column:et[0].column,Value:u.selectedValue,Text:u.selectedText}):w.push({Column:et[0].column,Value:u.selectedText,HiddenColumnName:et[0].hiddenColumnName,HiddenValue:u.selectedValue}));for(d=0;d<w.length;d++)g.push(w[d].Value),ft.push(w[d].Text),t.isNullOrUndefined(w[d].HiddenValue)||ht.push(w[d].HiddenValue);for(b=0;b<ut.model.query._params.length;b++)ut.model.query._params[b].key==="selectedItems"&&(ut.model.query._params[b].value=JSON.stringify(g));w.length===it&&(u.model.watermarkText=t.DashboardConstants.All)}if(v=null,w.length>it)if(t.isNullOrUndefined(s))p=this._checkFilterInfo(w[0].Column,y.SelectedFilterInfo),t.isNullOrUndefined(p)||p===st?(v=new selectedFilterInfo,v.UniqueColumnName=w[0].Column,t.isNullOrUndefined(c)||c!==w[0].Column.toUpperCase()?(v.DimensionFilterInfo.Text=g,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=g,v.DateFilterInfo.DisplayDateFilterList=ft,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=y.reportName,y.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==w[0].Column.toUpperCase()?(y.SelectedFilterInfo[p].DimensionFilterInfo.Text=g,y.SelectedFilterInfo[p].DimensionFilterInfo.Conditions="Include",y.SelectedFilterInfo[p].ReportName=y.reportName):(y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=g,y.SelectedFilterInfo[p].DateFilterInfo.DisplayDateFilterList=ft);else for(k=[],k.push(w[0].Column),k.push(w[0].HiddenColumnName),b=0;b<k.length;b++)p=this._checkFilterInfo(k[b],y.SelectedFilterInfo),nt=b>it?ht:g,t.isNullOrUndefined(p)||p===st?(v=new selectedFilterInfo,v.UniqueColumnName=k[b],t.isNullOrUndefined(c)||c!==k[b].toUpperCase()?t.isNullOrUndefined(h)||h!==k[b].toUpperCase()?(v.DimensionFilterInfo.Text=nt,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=nt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(v.DateFilterInfo.DateFilterList=nt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=y.reportName,y.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==k[b].toUpperCase()?t.isNullOrUndefined(h)||h!==k[b].toUpperCase()?(y.SelectedFilterInfo[p].DimensionFilterInfo.Text=nt,y.SelectedFilterInfo[p].DimensionFilterInfo.Conditions="Include",y.SelectedFilterInfo[p].ReportName=y.reportName):y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=nt:y.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=nt;else y.SelectedFilterInfo=[];if(t.isNullOrUndefined(o)||o===""||(this._controlNavigate(o,[]),isMaster))return v}},_sendDropdownListRequest:function(r,u,f,e,o){var c=0,y=-1,p=this.dashboardControls.getControlByReport(r).configInfo;t.isNullOrUndefined(p)||(this.dashboardControls.getControlByReport(r).configInfo.SelectFirstItem=!1);var a=n("#"+this._id+t.DashboardConstants.Widget+r),s=this,l=[],h=[],v=null;this.requestTimer=setTimeout(function(){for(var p,w,f=0;f<s.controlRelations.length;f++)if(s.controlRelations[f].Master.lastIndexOf("_"+r)!==y){if(h=s.controlRelations[f].Master,l=s.controlRelations[f].Slaves,s.model.enableVirtualLoading&&(l===null||l.length===c)){v=s._checkFilterOverviewData(r);s._addFilterDataToTitle(v);return}p=null;u&&!e&&o!==i&&(p=a.data("ejDropDownList"),a.data("ejDropDownList").model.selectedItems.sort(function(n,t){return n-t}));w={master:r,slaves:l,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};s._makeSlaveDataRequest(w);t.isNullOrUndefined(o)||(!u||p._totalSelectedItems.length===c)&&u?u&&!t.isNullOrUndefined(p)&&p._totalSelectedItems.length===c&&(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));break}s.requestTimer=null},o===null||!u?c:1500)},_onGlobalFilterChange:function(i,r,u,f,e,o,s,h,c,l,a){var y=n("#"+this._id+t.DashboardConstants.Widget+f).data("ejDropDownList"),p=this,v;(!t.isNullOrUndefined(y.inputSearch)&&y.inputSearch&&y.inputSearch.val()!==""&&(v={},a.isChecked&&(v.id=a.selectedValue,v.text=a.selectedText,v.column=s,this._appendSelectedItemOnSearch(y,v))),this.flag)&&(p._fetchingDropdownData(f,a,u,r,e,h,c,l),p._clearDropdownRequest(),p._sendDropdownListRequest(f,r,i,u,a))}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filters={_renderDatePicker:function(r){var o=0,b=-1,l=1,rt=2,ut=30,nt=ut,u=r.configInfo,f=r,w=r.getCurrentPageData(),e=null,a,v,y,d,c,tt,it,k,g,ft,et;if(e=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),a=e.find(".e-dbrd-control"),w.isError){e.attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(w.pagedata,a,u);return}this._hideControlError(a);v=null;y=null;t.isNullOrUndefined(u.Data)?(v=f.maxMinData[o].text,y=f.maxMinData[l].text):(v=u.Data[o].text,y=u.Data[l].text);var h=null,p=null,s=null;for(d=0;d<this.target.length;d++)if(this.target[d].indexOf(u.Id)!==b){if(p=this._id+t.DashboardConstants.Widget+u.Id,h=n("#"+p),e=h.parents(".e-dbrd-layout-cell"),!t.isNullOrUndefined(e.find(".e-dbrd-control"))&&e.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(v.length===o&&y.length===o?o:l,e.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(v.length===o&&y.length===o?o:l,e.find(".e-dbrd-control")))return;if(c=h.data("ejDashboardDatePicker"),c){if(c.model.dataSource=w.pagedata,c.model.startDate=v,c.model.endDate=y,c.model.value=u!==null&&!t.isNullOrUndefined(u.SelectedDates)?{range:u.SelectedDates.Range,start:u.SelectedDates.StartValue,end:u.SelectedDates.EndValue}:null,w.pagedata.length===l&&c.model.datePickerType==="single"&&(c.model.value={range:!1,start:w.pagedata[0],end:null}),f.SelectedFilterInfo!==null&&f.SelectedFilterInfo.length>o)if(f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===rt||u.IsRangeDate){if(tt=f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],u.Ranges)for(it=Object.values(JSON.parse(u.Ranges)),k=0;k<it.length;k++)if(JSON.stringify(f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)===JSON.stringify(it[k])){tt=Object.keys(JSON.parse(u.Ranges))[k];break}s={Range:u.Ranges?tt:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1],Format:u.DateFormat}}else f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===l&&(s={Range:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat});c.model.value=t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue};a.css({display:"table"});c.redraw()}else{p=null;break}t.isNullOrUndefined(s)?(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}(p===null||p===i)&&(h=n("<input>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}).css({"min-height":"29px"}).addClass("e-FilterBox"),e.find(".e-remove-control-filter").attr("id",h.attr("id")+"_removeControlFilter"),e.find(".e-dbrd-control").attr({"data-controlId":u.Id}),f.SelectedFilterInfo&&f.SelectedFilterInfo.length>o&&(u.IsRangeDate?(g=u.Ranges?Object.keys(JSON.parse(u.Ranges)).indexOf(f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]):b,s={Range:g!==b?f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:null,StartValue:g===b?f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:null,EndValue:g===b?f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:null,Format:u.DateFormat}):f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===l&&(s={Range:null,StartValue:f.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat})),t.isNullOrUndefined(s)||(e.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),ft=e.children().width()===o?Number(e.attr("colspan"))*55:e.children().width(),a.height()<32&&(nt=a.height()-4,et=nt/rt,a.css({"font-size":et+"px"})),e.attr({"data-controlId":u.Id,"data-controltype":"DatePicker"}),a.css({display:"table"}),a.append(n("<div>").css({width:"100%","margin-top":"20px",display:"table-cell","vertical-align":"middle"}).attr({id:this._id+"_GlobalFilterDiv_"+u.Id}).append(h)),e.prop({column:u.ColumnName,datePickerType:u.IsRangeDate?"range":"single"}),h.ejDashboardDatePicker({cssClass:"e-dbrd-control",startDate:v,endDate:y,width:ft-ut,height:nt,ranges:n.parseJSON(u.Ranges),dataSource:w.pagedata,datePickerType:u.IsRangeDate?"range":"single",highlightAvailableDates:u.Highlight,enableRTL:!1,limitDate:u.limitdate,showCustomDatePicker:u.ShowCustom,selected:n.proxy(this._onDatePickerChange,this,u.Id,u.IsLinked?u.ControlLinkData:i),locale:{format:u.DateFormat},value:t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue}}),!t.isNullOrUndefined(h)&&h.height()>60?this._applyOrRemoveNoDataAvailable(v.length===o&&y.length===o?o:l,h):this._applyOrRemoveNoDataAvailableForFilters(v.length===o&&y.length===o?o:l,h))},_setDatePickerConfigInfo:function(n){n.configInfo.IsRangeDate=!t.isNullOrUndefined(n.configInfo.IsRangeDate)&&n.configInfo.IsRangeDate;n.configInfo.Highlight=!t.isNullOrUndefined(n.configInfo.Highlight)&&n.configInfo.Highlight;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.LimitDate=t.isNullOrUndefined(n.configInfo.LimitDate)||n.configInfo.LimitDate;n.configInfo.ShowCustom=t.isNullOrUndefined(n.configInfo.ShowCustom)||n.configInfo.ShowCustom;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column},_renderRangeSlider:function(i){var h=0,b=1,k=7,rt=55,d=120,r=i.configInfo,u=i,f=i.getCurrentPageData(),s,v,l,w,ut,g,nt,tt,it,ft,et;this._initializeSlider(r.dateformat);var c=null,e=null,o=null;if(o=n("#"+this._id+"_cell_"+r.Row+"_"+r.Column),s=null,f.isError){o.attr({"data-controlId":f.Id});o.find(".e-dbrd-control").attr({"data-controlId":r.Id});o.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+r.Id});this._showControlError(f.pagedata,o.find(".e-dbrd-control"),r);return}if(this._hideControlError(o.find(".e-dbrd-control")),v=null,l=null,n("#"+this._id+t.DashboardConstants.Widget+r.Id).length===h){if(w=n("<div>").css({display:"table-cell","vertical-align":"middle"}),s=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+r.Id}).addClass("dashboardRangeSliderControl").addClass("e-FilterBox"),w.append(s),v=n("<div>").attr({id:"leftcontainer_"+r.Id}).css({height:"15px",display:"block",position:"absolute"}),v.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}).html(f.pagedata.RangeStart)),l=n("<div>").attr({id:"rightcontainer_"+r.Id}).css({height:"15px",width:"50px",position:"absolute",display:"block"}),ut=t.browserInfo(),ut.name==="msie"?l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle",position:r.orientation==="horizontal"?"absolute":"relative",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}).html(f.pagedata.RangeEnd)):l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle","white-space":"pre",overflow:"hidden","text-overflow":"ellipsis"}).html(f.pagedata.RangeEnd)),r.orientation==="HORIZONTAL"?(v.css({width:"50%",left:"2%"}),v.children("label").css({"text-align":"left",margin:"0px 0px 0px 10px"}),l.css({width:"50%",right:"2%"}),l.children("label").css({"text-align":"right",margin:"0px 10px 0px 0px"})):(v.css({width:"100%","padding-top":"8px"}),v.children("label").css({"text-align":"center"}),l.css({width:"100%",top:"30px"}),l.children("label").css({"text-align":"center"})),r.sliderType==="RANGE"&&w.append(v),w.append(l),o.addClass("e-dbrd-slider-control").css({"background-color":"transparent"}).attr({"data-controlId":r.Id}),o.find(".e-dbrd-control").append(w).css({display:"table"}),o.find(".e-dbrd-control").attr({"data-controlId":r.Id}),o.find(".e-remove-control-filter").attr("id",s.attr("id")+"_removeControlFilter"),o.attr({"data-controlId":f.Id,"data-controltype":"RangeSlider"}),g=o.width()===h?Number(o.attr("colspan"))*rt:o.width()*Number(o.attr("colspan")),nt=o.height()===h?Number(o.attr("rowspan"))*rt:o.height()*Number(o.attr("rowspan")),u.SelectedFilterInfo.length!==h&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].MeasureFilterInfo)&&u.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>h?u.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>b?(c=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],e=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]):e=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]:u.SelectedFilterInfo.length!==h&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>h?u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>b?(c=u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],e=u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):e=u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:(c=f.pagedata.RangeStart,e=f.pagedata.RangeEnd),r.isDate?s.ejSlider({sliderType:r.sliderType.toLowerCase(),orientation:r.orientation.toLowerCase(),minDate:new Date(f.pagedata.RangeStart.replace("-"," ","g")),maxDate:new Date(f.pagedata.RangeEnd.replace("-"," ","g")),height:r.orientation==="HORIZONTAL"?k:nt-d,cssClass:" e-dbrd-canvas",dateValue:r.sliderType==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(e.replace("-"," ","g"))]:new Date(e.replace("-"," ","g")),width:r.orientation==="HORIZONTAL"?g-d:k,change:n.proxy(this._onRangeSliderChange,this,r.Id,r.ColumnName,r.IsLinked?r.ControlLinkData:null,r.FormattedColumn,f.pagedata,r.DateTimeColumns,r),slide:n.proxy(this._onSlideChange,this,r.FormattedColumn,r.Id)}):s.ejSlider({sliderType:r.sliderType.toLowerCase(),orientation:r.orientation.toLowerCase(),minValue:parseInt(f.pagedata.RangeStart),maxValue:parseInt(f.pagedata.RangeEnd),height:r.orientation==="HORIZONTAL"?k:nt-d,cssClass:" e-dbrd-canvas",values:[parseInt(c),parseInt(e)],value:parseInt(e),width:r.orientation==="HORIZONTAL"?g-d:k,change:n.proxy(this._onRangeSliderChange,this,r.Id,r.ColumnName,r.IsLinked?r.ControlLinkData:null,r.FormattedColumn,f.pagedata,r.DateTimeColumns,r),slide:n.proxy(this._onSlideChange,this,r.FormattedColumn,r.Id),formatColumn:r.FormattedColumn}),tt=!t.isNullOrUndefined(f.pagedata.RangeStart&&f.pagedata.RangeEnd)&&f.pagedata.RangeStart!==""&&f.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,!t.isNullOrUndefined(s)&&s.height()>60){if(!this._applyOrRemoveNoDataAvailable(tt,s))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(tt,s))return;!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>h&&(o.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),o.find(".e-dbrd-control-container").data({IsFilterApplied:!0}))}else{if(s=n("#"+this._id+t.DashboardConstants.Widget+r.Id),it=!t.isNullOrUndefined(f.pagedata.RangeStart&&f.pagedata.RangeEnd)&&f.pagedata.RangeStart!==""&&f.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,!t.isNullOrUndefined(s)&&s.parents(".e-dbrd-layout-cell").height()>60){if(!this._applyOrRemoveNoDataAvailableForFilters(it,s))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(it,s))return;var y=s.data("ejSlider"),p=f.pagedata.RangeStart,a=f.pagedata.RangeEnd;u.SelectedFilterInfo.length!==h&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].MeasureFilterInfo)&&u.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>h?u.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>b?(c=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]<p?p:u.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],e=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?u.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a):e=u.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?u.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a:u.SelectedFilterInfo.length!==h&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>h?u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>b?(c=new Date(u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0])<new Date(p)?p:u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],e=new Date(u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1])<new Date(a)?u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a):e=new Date(u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1])<new Date(a)?u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a:(c=!t.isNullOrUndefined(u.SelectedItems.Included)&&u.SelectedItems.Included.length!==h?u.SelectedItems.Included[0]:p,e=!t.isNullOrUndefined(u.SelectedItems.Included)&&u.SelectedItems.Included.length!==h?u.SelectedItems.Included[1]:a);r.isDate?(y.option("minDate",new Date(p.replace("-"," ","g"))),y.option("maxDate",new Date(a.replace("-"," ","g"))),y.option("dateValue",r.sliderType==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(e.replace("-"," ","g"))]:new Date(e.replace("-"," ","g")))):(y.option("minValue",parseInt(p)),y.option("maxValue",parseInt(a)),r.sliderType==="RANGE"?y.option("values",[parseInt(c),parseInt(e)]):y.option("value",parseInt(e)));ft=s.attr("id");et=u.SelectedFilterInfo.length===t.DashboardConstants.Zero;this._isSliderHasFilter(ft,et)}n("#"+s.attr("id")+"_wrapper").addClass("rangeslider_wrapper");v=n("#leftcontainer_"+r.Id);l=n("#rightcontainer_"+r.Id);r.sliderType==="RANGE"?(v.children("label").html(r.FormattedColumn!==null?this._applyFormattingForSlider(r.FormattedColumn,c):c),l.children("label").html(r.FormattedColumn!==null?this._applyFormattingForSlider(r.FormattedColumn,e):e)):l.children("label").html(r.FormattedColumn!==null?this._applyFormattingForSlider(r.FormattedColumn,e):e)},_setRangeSliderConfigInfo:function(n){n.configInfo.sliderType=t.isNullOrUndefined(n.configInfo.sliderType)?"RANGE":n.configInfo.sliderType;n.configInfo.orientation=t.isNullOrUndefined(n.configInfo.orientation)?"HORIZONTAL":n.configInfo.orientation;n.configInfo.isDate=!t.isNullOrUndefined(n.configInfo.isDate)&&n.configInfo.isDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.FormattedColumn=t.isNullOrUndefined(n.configInfo.FormattedColumn)?null:n.configInfo.FormattedColumn;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;!t.isNullOrUndefined(n.configInfo.FormattedColumn)&&t.isNullOrUndefined(n.configInfo.FormattedColumn.unit)&&(n.configInfo.FormattedColumn.unit=t.DashboardConstants.Zero)},_applyFormattingForSlider:function(n,i){var r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(r="",t.preferredCulture(n.culture),u=t.globalize.parseFloat(i.toString(),n.culture),isNaN(u))return i;if(u<0){u=Math.abs(u);u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u);r=this._adjustZeros(u,n.unit,n.format,n.culture);t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));switch(n.negativeValueFormat){case"Default":r="-"+r;break;case"NoNegativeSignWithBracket":r="("+r+")";break;case"NegativeSignInSuffix":r+="-"}}else u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u),r=this._adjustZeros(u,n.unit,n.format,n.culture),t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));return n.prefix+r+n.suffix}return null},_initializeSlider:function(i){var u=24,r=60,f=1e3,e=t.Slider.prototype._init,o=t.Slider.prototype._setModel;n.extend(!0,t.Slider.prototype,{defaults:{minDate:null,maxDate:null,dateValue:null},_init:function(){if(this._isDate=this.model.minDate&&this.model.maxDate,this._isDate){this.model.incrementStep=u*r*r*f;this.model.minValue=Number(this.model.minDate);this.model.maxValue=Number(this.model.maxDate);var n=this.model.dateValue;n&&(this.model.sliderType==="range"?this.values([Number(n[0]),Number(n[1])]):this.value(Number(n)))}e.call(this)},_setModel:function(n){o.call(this,n);for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"minDate":this.option("minValue",Number(n[t]));break;case"maxDate":this.option("maxValue",Number(n[t]));break;case"dateValue":this._setDateValue(n[t])}},setValue:function(n,t){var i=n?Number(n):Number(this.model.minValue),r=t?Number(t):Number(this.model.minValue);this.model.sliderType==="range"?this._validateRangeValue([i,r]):this._validateValue(i)},_setDateValue:function(n){n&&(this.model.sliderType==="range"&&this.setValue(n[0],n[1]),this.setValue(n))},_updateModelValue:function(){var n=this._getHandleValue(!0);this.model.sliderType==="range"?this.values(n):this.value(n);this._hidden.val(this._getHandleValue())},_getHandleValue:function(n){return this.model.sliderType==="range"?[this._convertToDate(this.handleVal2,n),this._convertToDate(this.handleVal,n)]:this._convertToDate(this.handleVal,n)},_convertToDate:function(n,r){var u=null;return r||!this._isDate?n:(u=new Date(n),t.globalize.format(u,i))}})},_renderPage:function(t,i,r,u,f){for(var o,l,s,h,e=this._calculateCheckBoxSize(i,r,t),a=n("<table style='height: initial;'>").attr({cellspacing:3,cellpadding:3}),c=0;c<e.RowCount;c++){for(o=n("<tr>"),l=e.RowCount*(u-1)+c,o.attr({id:f+"_child_row_"+l}),s=0;s<e.ColumnCount;s++)h=n("<td style='height:20px;padding:3px;line-height:2'>"),h.attr({id:f+"_child_column_"+(l*e.ColumnCount+s)}),o.append(h),h.attr({align:"left"});a.append(o)}return{table:a,rowCount:e.RowCount,colCount:e.ColumnCount}},_addCheckbox:function(i,r,u,f){var e=0,l=1,b=i.find("td"),tt=i.find("tr"),c=u.currentPage,ft=u.getPageDataBypage(c),et=ft.pagedata,a=[],v=null,it=!0,y=!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>e&&(!t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)),rt,p,s,o,d,w,g,nt;for(y?(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>e&&(t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||u.SelectedFilterInfo[0].DimensionFilterInfo.Text.length===e?t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)||u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===e||(a=u.SelectedFilterInfo[0].DateFilterInfo.DisplayDateFilterList,v=u.SelectedFilterInfo[0].DateFilterInfo.Action):(a=u.SelectedFilterInfo[0].DimensionFilterInfo.Text,v=u.SelectedFilterInfo[0].DimensionFilterInfo.Conditions)),!r.ShowAll||y||r.ShowAsRadioButton||(rt=i.find("#"+f+"_child_column_0"),p=rt.find("#"+f+"_0_chkbx"),p.length>e&&!t.isNullOrUndefined(p.attr("userunchecked"))&&(it=p.attr("userunchecked")==="false")),s=0;s<u.scrollSetting.controlPerPage;s++)if(o=et[s],o){var ut=n("<div>").addClass(r.ShowAsRadioButton?"e-dbrd-radiobtn-container":"e-dbrd-checkbox-container").css({"margin-left":"5px"}),k=f+"_"+((c-l)*u.scrollSetting.controlPerPage+s)+"_chkbx",h=null;h=r.ShowAsRadioButton?n("<input type='radio'>").attr({id:k,name:r.Id}):n("<input type='checkbox'>").attr({id:k,name:r.Id});d=n("<label>").attr({"for":k}).html(o.text);w=b.eq(s).width();w<=e&&(w=170);d.css({"max-width":w-30+"px","padding-left":"5px",color:"#5b5b5b","font-weight":"normal","font-size":"14px","vertical-align":"text-top"});ut.append(h,d);i.find("#"+f+"_child_column_"+((c-l)*u.scrollSetting.controlPerPage+s)).html("");i.find("#"+f+"_child_column_"+((c-l)*u.scrollSetting.controlPerPage+s)).append(ut);r.ShowAsRadioButton?h.ejRadioButton({checked:y?this._getCheckBoxSelectionState(a,o.value,v,r.ShowAsRadioButton,f,c,r.DateTimeColumns):u.totalCount===l?!0:o.text===t.DashboardConstants.All,size:"medium",value:o.value,change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!0,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null}):h.ejCheckBox({checked:y?this._getCheckBoxSelectionState(a,o.value,v,r.ShowAsRadioButton,r.DateTimeColumns):it,value:o.value,size:"small",change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!1,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null});h.parent().attr("tabindex","-1").addClass("e-multiple-series");!r.ShowAsRadioButton&&o.text===t.DashboardConstants.SelectAll&&u.SelectedItems.Included.length>e&&h.attr("userunchecked",!0)}return g=0,nt=0,b.length!==e&&(nt=b.eq(e).width()),tt.length!==e&&(g=tt.eq(e).height()),{widthOfColumn:nt,heightOfColumn:g}},_renderCheckBoxandRadioButton:function(i,r){var y=0,w=-1,f=i.configInfo,c=null,e=i.getCurrentPageData(),o=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),u=o.find(".e-dbrd-control"),l,s,a,b,p,k,d,g,nt,tt,it,rt,v,h;if(e.isError){u.attr({"data-controlId":f.Id});o.find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+f.Id});this._showControlError(e.pagedata,u,f);return}if(o.find(".e-dbrd-control").attr({id:""}),this._hideControlError(u),t.isNullOrUndefined(r)?(c=this._id+t.DashboardConstants.Widget+f.Id,u.attr({id:c}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),o.find(".e-remove-control-filter").attr({id:c+"_removeControlFilter"}),o.attr({"data-controlType":"CheckBox","data-controlId":f.Id}),u.attr({"data-controlId":f.Id}).addClass("e-multiple-parent"),u.addClass(f.ShowAsRadioButton?"e-dbrd-control-radiobtn":"e-dbrd-control-checkbox").prop({"data-column":f.ColumnName})):u=r.cardDiv,!t.isNullOrUndefined(u)&&u.height()>60){if(!this._applyOrRemoveNoDataAvailable(e.pagedata.length,u))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(e.pagedata.length,u))return;if(l=u.attr("id"),s=null,i.loadedPages.length===y){if(u.find(".e-radiobutton.e-js.e-input")||u.find(".e-checkbox.e-js.e-input"))try{f.ShowAsRadioButton?t.widget.destroyAll(u.find(".e-radiobutton.e-js.e-input")):t.widget.destroyAll(u.find(".e-checkbox.e-js.e-input"))}catch(ut){console.info("An error occured while clearing check box items")}u.html("");i.loadedPages.indexOf(i.currentPage)===w&&i.loadedPages.push(i.currentPage);a=this._renderPage(u,i.totalCount,e.pagedata,i.currentPage,l,i);s=a.table;i.scrollSetting.rowPerPage=a.rowCount;i.scrollSetting.colPerPage=a.colCount;i.totalCount>100?(i.scrollSetting.controlPerPage=i.scrollSetting.rowPerPage*i.scrollSetting.colPerPage,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),e.pagedata.length=i.scrollSetting.controlPerPage):(i.scrollSetting.controlPerPage=i.totalCount,i.totalPages=1);b=n("<div>").width(u.width()-10);u.append(b.append(s));u.data("ejScroller")&&u.ejScroller("destroy");p=u.parents(".e-dbrd-control-container").height()-u.parents(".e-dbrd-control-container").find(".e-control-heading").height();u.ejScroller({height:p-5,scrollerSize:13});i.scrollSetting.visibleHeight=p;u.data("ejScroller").option("scrollTop",i.scrollSetting.scrollTop)}else k=0,d=0,i.currentPage===i.totalPages&&u.data("ejScroller").refresh(),i.loadedPages.indexOf(i.currentPage)===w&&(i.loadedPages.push(i.currentPage),g={controlId:l,previousPage:k,nextPage:d,data:i,heightofColumn:"20"},this._renderRowsOndemand(g));if(s=u.find("table"),nt=this._addCheckbox(s,f,i,l),i.scrollSetting.widthOfColumn=nt.widthOfColumn,tt=i.getPageDataBypage(i.currentPage),tt.pagedata.length>1&&(u.data("ejScroller").refresh(),u.data("ejScroller").option("scrollTop",i.scrollSetting.scrollTop)),i.currentPage===i.totalPages){for(it=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),rt=i.scrollSetting.rowPerPage*i.totalPages,v=it;v<rt;v++)h=n("#"+c+"_child_row_"+v),t.isNullOrUndefined(h)||h.find(".e-dbrd-checkbox-container").length!==y&&h.find(".e-dbrd-radiobtn-container").length!==y||h.remove();u.data("ejScroller").refresh();u.data("ejScroller").option("scrollTop",i.scrollSetting.scrollTop)}},_setChkboxConfigInfo:function(n){n.configInfo.ShowAsRadioButton=!t.isNullOrUndefined(n.configInfo.ShowAsRadioButton)&&n.configInfo.ShowAsRadioButton;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.ShowAll=t.isNullOrUndefined(n.configInfo.ShowAll)||n.configInfo.ShowAll;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column},_renderListBox:function(i,r){var p=0,ft=-1,h=null,u=null,l=null,rt=null,f=null,v=null,d=null,o=0,s=0,c=0,g=!0,et=this,nt=null,w=null,b=!1,e,ot,st,ut,it,y;if(u=i.configInfo,rt=i.getCurrentPageData(),e=this.dashboardControls.getControlByReport(u.Id),ot=JSON.parse(JSON.stringify(this.dashboardParameters)),h=rt.pagedata,rt.isError){st=this._id+t.DashboardConstants.Widget+u.Id;d=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");d.attr({"data-controlId":u.Id,id:st});this._showControlError("",d,u);return}d=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");this._hideControlError(d);var a=[],ht=!1,k=200,lt=400,at=(new t.UrlAdaptor).extend({listboxId:this._id+t.DashboardConstants.Widget+u.Id,processResponse:function(t,i,r,u,f,e){var o=n("#"+this.listboxId+"_lstbx").data("ejListBox"),s;return t.d=JSON.parse(t.d[0].Value[0].value),s=o.model.showCheckbox?o._listitems:o.listitem,t.d.length<k?o.model.totalItemsCount=s.length+t.d.length:(o.model.totalItemsCount=s.length+lt,o._oldStartValue=s.length+k),this.base.processResponse.apply(this,[t,i,r,u,f,e])}}),ct=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",adaptor:new at}):h,tt=(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",u.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("listboxRowCount",JSON.stringify(e.totalCount)).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("filterParameters",this.initialFilters!==null?JSON.stringify(this.initialFilters):null).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(ot)));if(!t.isNullOrUndefined(this.masterData))for(c=0;c<this.masterData.length;c++)this.masterData[c].Key===u.Id&&(nt=this.masterData[c].Filter,ht=!0);if(ht||(nt="Exclude"),e.SelectedFilterInfo.length===p)for(o=0;o<h.length;o++)a.push(o);else for(o=0;o<e.SelectedFilterInfo.length;o++)if(e.SelectedFilterInfo[o].DateFilterInfo!==null&&e.SelectedFilterInfo[o].DateFilterInfo.DateFilterList.length!==0){if(e.SelectedFilterInfo[o].DateFilterInfo.Action===p)for(s=0;s<e.SelectedFilterInfo[o].DateFilterInfo.DateFilterList.length;s++)w=this._getItemIndex(h,e.SelectedFilterInfo[o].DateFilterInfo.DateFilterList[s]),w!==ft&&a.push(w);else if(e.SelectedFilterInfo[o].DateFilterInfo.Action===1)for(s=1;s<h.length;s++){for(b=!1,c=0;c<e.SelectedFilterInfo[o].DateFilterInfo.DateFilterList.length;c++)if(e.SelectedFilterInfo[o].DateFilterInfo.DateFilterList[c]===h[s].id){b=!0;break}b||a.push(s)}}else if(e.SelectedFilterInfo[o].DimensionFilterInfo)if(e.SelectedFilterInfo[o].DimensionFilterInfo.Conditions===4)for(s=0;s<e.SelectedFilterInfo[o].DimensionFilterInfo.Text.length;s++)w=this._getItemIndex(h,e.SelectedFilterInfo[o].DimensionFilterInfo.Text[s]),w!==ft&&a.push(w);else if(e.SelectedFilterInfo[o].DimensionFilterInfo.Conditions===5)for(s=1;s<h.length;s++){for(b=!1,c=0;c<e.SelectedFilterInfo[o].DimensionFilterInfo.Text.length;c++)if(e.SelectedFilterInfo[o].DimensionFilterInfo.Text[c]===h[s].id){b=!0;break}b||a.push(s)}if(n("#"+this._id+t.DashboardConstants.Widget+u.Id+"_lstbx").data("ejListBox")){if(l=this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+u.Id+"_lstbx"),f=l.closest(".e-dbrd-control-listbox"),v=f.parents("td"),ut=l.data("ejListBox"),!t.isNullOrUndefined(f)&&f.height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,f))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,f))return;ut?(ut.destroy(),f.find("ul").ejListBox({dataSource:ct,showCheckbox:u.MultiSelect,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:this.model.enableVirtualLoading?[]:a,totalItemsCount:h.length+k,virtualScrollMode:"continuous",itemRequestCount:k,query:tt,actionBegin:this.model.enableVirtualLoading?function(n){g=et._listBoxActionBegin(this,n,g,e.totalCount,f.find("ul"),h,tt,a,nt)}:null,actionBeforeSuccess:this.model.enableVirtualLoading?n.proxy(this.listBoxActionBeforeSuccess,this,f.find("ul"),u.Id):null,actionComplete:this.model.enableVirtualLoading?n.proxy(this.listBoxActionComplete,this,f.find("ul"),u.Id):null,name:u.Id,width:f.width().toString()+"px",height:f.height().toString(),checkChange:u.MultiSelect?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,l[0].id,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id):null,selected:u.MultiSelect?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,l[0].id,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id),selectedItemIndex:!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>p&&!u.MultiSelect?a[0]:null})):l=null;!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>p?(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(l===null&&(l=this._id+t.DashboardConstants.Widget+u.Id,v=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=v.find(".e-dbrd-control").removeAttr("tabindex"),f.attr({id:l}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),v.find(".e-remove-control-filter").attr({id:l+"_removeControlFilter"}),v.attr({"data-controlType":r?"FilterComboBox":"ListBox","data-controlId":u.Id}),f.attr({"data-controlId":u.Id}),f.addClass("e-dbrd-control-listbox").prop({"data-column":u.ColumnName})),it=l+"_lstbx",y=n("<ul>").attr({id:it}).addClass("dashboardListBox").css({width:"100%"}),f.append(y),!t.isNullOrUndefined(f)&&f.height()>60){if(!this._applyOrRemoveNoDataAvailable(h.length,f))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(h.length,f))return;!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>p&&(v.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),v.find(".e-dbrd-control-container").data({IsFilterApplied:!0}));t.support.stableSort=!1;y.ejListBox({dataSource:ct,showCheckbox:u.MultiSelect,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:this.model.enableVirtualLoading?[]:a,totalItemsCount:h.length+k,virtualScrollMode:"continuous",itemRequestCount:k,query:tt,actionBegin:this.model.enableVirtualLoading?function(n){g=et._listBoxActionBegin(this,n,g,e.totalCount,y,h,tt,a,nt)}:null,actionBeforeSuccess:this.model.enableVirtualLoading?n.proxy(this.listBoxActionBeforeSuccess,this,y,u.Id):null,actionComplete:this.model.enableVirtualLoading?n.proxy(this.listBoxActionComplete,this,y,u.Id):null,name:u.Id,width:f.width().toString()+"px",height:f.height().toString(),checkChange:u.MultiSelect?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,it,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id):null,selected:u.MultiSelect?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,it,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,f[0].id),selectedItemIndex:!t.isNullOrUndefined(e.SelectedFilterInfo)&&e.SelectedFilterInfo.length>p&&!u.MultiSelect?a[0]:null});y.find(".e-ddl-popup").attr("tabindex","-1")},_setListBoxConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.HiddenColumnName=t.isNullOrUndefined(n.configInfo.HiddenColumnName)?null:n.configInfo.HiddenColumnName;n.configInfo.MultiSelect=!t.isNullOrUndefined(n.configInfo.MultiSelect)&&n.configInfo.MultiSelect;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.dd_master)||n.configInfo.IsMasterFilter;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.HiddenDateTimeColumns=t.isNullOrUndefined(n.configInfo.HiddenDateTimeColumns)?[]:n.configInfo.HiddenDateTimeColumns},_getItemIndex:function(n,t){for(var i=0;i<n.length;i++)if(n[i].id===t)return i;return-1},_listBoxActionBegin:function(i,r,u,f,e,o,s,h,c){for(var l=0,l=0;l<r.model.query._params.length;l++)r.model.query._params[l].key==="masterData"?r.model.query._params[l].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()):r.model.query._params[l].key==="currentUser"?r.model.query._params[l].value=JSON.stringify(this.currentUser):r.model.query._params[l].key==="filterParameters"&&(r.model.query._params[l].value=this.initialFilters!==null?JSON.stringify(this.initialFilters):null);return u?(r.cancel=!0,i.model.query=s,i.mergeData(o,!0),i._changeEvent=t.isNullOrUndefined(i.model)?"":i.model.checkChange,e.ejListBox({checkedIndices:h}),n(e).attr("data-isuserunselect",c==="Include"),!1):!1},listBoxActionComplete:function(t){var i=n(t).data("ejListBox");i.model.checkChange=i._changeEvent},listBoxActionBeforeSuccess:function(t,i,r){var s=n(t).data("ejListBox"),u=0,e=0,f,o;for(s._changeEvent=s.model.checkChange,s.model.checkChange=null,f=null,o=0;o<this.masterData.length;o++)this.masterData[o].Key===i&&(f=this.masterData[o].Value[0].Items);if(n(t).attr("data-isuserunselect")==="true"){for(u=0;u<r.result.length;u++)if(f!==null){for(e=0;e<f.length;e++)if(r.result[u].text===f[e].Value){r.result[u].checkBy=!0;break}r.result[u].checkBy=!1}}else for(u=0;u<r.result.length;u++)if(f!==null&&f.length>0)for(e=0;e<f.length;e++)if(r.result[u].text===f[e].Value){r.result[u].checkBy=!1;break}else r.result[u].checkBy=!0;else r.result[u].checkBy=!0},_selectGivenDates:function(n,i,r){if(!t.isNullOrUndefined(r))for(var u=0;u<n.length;u++)if(this.getDateInFormat(r.date)===n[u]){r.element.addClass("e-available-date").removeClass("e-disable");r.element.css({color:i?"white":"black"});break}else r.element.removeClass("e-disable").addClass("e-unavailable-date")},getDateInFormat:function(n){var u=10,r=new Date(n),t=r.getDate(),i=r.getMonth()+1,f=r.getFullYear();return t<u&&(t="0"+t),i<u&&(i="0"+i),t+"/"+i+"/"+f},_calculateCheckBoxSize:function(n,i,r){for(var c,s=0,l=100,a=190,u=1,f=0,e=i.length,o=0,h=0;h<e;h++)c=t.EjSvgRender.utils._measureText(i[h],l,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+23,c>o&&(o=c);return o+=r.attr("data-controlid").indexOf("RadioButton")!==-1?15:10,o>a&&(o=a),u=Math.floor((r.width()-17)/o),u<=s&&(u=1),e<u&&(u=e),f=n<=e?Math.ceil(e/u):parseInt(e/u),u*f>e&&n>l&&(f-=1,f<=s&&(f=1)),f<=s&&(f=1),{ColumnCount:Math.round(u),RowCount:Math.round(f)}},_getCheckBoxSelectionState:function(n,i,r,u,f){var c=0,e=0,o=r,s,l,h;if((o===c||o===4)&&(o="Include"),!u){if(typeof n!="undefined"&&n.length>c){if(i===t.DashboardConstants.SelectAll||(s=n.length>c,l=!s,l))return!1;for(h=s?n:[],e=0;e<h.length;e++)if(f!==null){if(s=o!=="Include",h[e]===i)return o==="Include"}else if(s=o!=="Include",h[e]===i)return o==="Include";return s===!0}return!0}for(e=0;e<n.length;e++)if(n[e]===i)return!0;return!1},_checkSelection:function(t){var i=0,u=n("#"+t),r=n("#"+t+"_popup").find(".e-content .e-ul .e-checkbox").eq(i).data("ejCheckBox");r.model.checkState==="check"&&u.data("ejDropDownList").model.selectedItems[0]===i&&r.option("enableTriState",!1)},_onDatePickerChange:function(i,r,u){for(var f,a,c,e,w,v=0,y=-1,o=[],h=null,l=null,p=null,s=0;s<this.controlRelations.length;s++)if(this.controlRelations[s].Master.lastIndexOf("_"+i)!==y){l=this.controlRelations[s].Master;h=this.controlRelations[s].Slaves;break}if(f=this.dashboardControls.getControlByReport(i),f.SelectedItems.Included=[],f.SelectedFilterInfo=[],!t.isNullOrUndefined(u)&&(u.datePickerType==="single"?o.push(u.value):(o.push(u.selectedValues.start),o.push(u.selectedValues.end)),!t.isNullOrUndefined(r))){this._controlNavigate(r,[]);return}if(this.model.enableVirtualLoading&&(h===null||h.length===v)){p=this._checkFilterOverviewData(i);this._addFilterDataToTitle(p);return}a=f.configInfo.ColumnName;o.length>v&&(c=this._checkFilterInfo(a,f.SelectedFilterInfo),t.isNullOrUndefined(c)||c===y?(e=new selectedFilterInfo,e.UniqueColumnName=a,e.DateFilterInfo.DateFilterList=o,e.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,e.DateFilterInfo.DateFilterType="Exact",e.ReportName=f.reportName,f.SelectedFilterInfo.push(e)):f.SelectedFilterInfo[c].DateFilterInfo.DateFilterList=o);w={master:i,masterData:this.masterData,slaves:h,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(w);t.isNullOrUndefined(u)||(n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+l).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onRangeSliderChange:function(n,i,r,u,f,e,o,s){var k=0,v=-1,d=!1,a,w,nt,b,y,l,tt,it;if(this.controlRelations.length!==k&&(t.isNullOrUndefined(s)||s.isInteraction)){var p=null,g=null,h=[],c=null;if(!t.isNullOrUndefined(s)&&(s.model.sliderType==="minrange"?(h.push(s.model.minDate!==null?f.RangeStart:s.model.minValue),h.push(s.value)):(h.push(s.value[0]),h.push(s.value[1])),this.updateValues(u,n,s),c=this.dashboardControls.getControlByReport(n),c.SelectedItems.Included=h,!t.isNullOrUndefined(r))){this._controlNavigate(r,[]);return}for(a=0;a<this.controlRelations.length;a++)if(!t.isNullOrUndefined(n)&&this.controlRelations[a].Master.indexOf("RangeSlider")!==v&&this.controlRelations[a].Master.lastIndexOf("_"+n)!==v){if(p=this.controlRelations[a].Slaves,this.model.enableVirtualLoading&&(p===null||p.length===k)){g=this._checkFilterOverviewData(n);this._addFilterDataToTitle(g);return}if(w=this.model.enableVirtualLoading?this._checkMasterData(n):null,w!==null){if(nt=this.masterData[w],b=nt.Value[0].Items,s.model.sliderType==="minrange"){if(b[0].Value===s.value)return}else if(b[0].Value===s.value[0]&&b[1].Value===s.value[1])return;this.masterData.splice(w,1)}t.isNullOrUndefined(s)||(s.model.sliderType!=="minrange"&&s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1]||s.model.sliderType!=="minrange"&&t.globalize.format(s.model.minDate,o.dateformat)===s.value[0]&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value[1]||s.model.sliderType==="minrange"&&s.model.maxValue===s.value||s.model.sliderType==="minrange"&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value)&&(d=!0,c.SelectedFilterInfo.push(new selectedFilterInfo),c.SelectedFilterInfo=[],h=[]);h.length>k&&!(s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1])&&(y=this._checkFilterInfo(i,c.SelectedFilterInfo),t.isNullOrUndefined(y)||y===v?(l=new selectedFilterInfo,l.UniqueColumnName=i,l.ReportName=c.reportName,t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===v?(l.MeasureFilterInfo.Conditions="IsBetween",l.MeasureFilterInfo.Values=h):(l.DateFilterInfo.DateFilterList=h,l.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange),c.SelectedFilterInfo.push(l)):t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===v?c.SelectedFilterInfo[y].MeasureFilterInfo.Values=h:c.SelectedFilterInfo[y].DateFilterInfo.DateFilterList=h);tt={master:n,masterData:this.masterData,slaves:p,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(tt);t.isNullOrUndefined(s)||(it=this._id+t.DashboardConstants.Widget+n,this._isSliderHasFilter(it,d));break}}},_isSliderHasFilter:function(t,i){i?(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onSlideChange:function(n,t,i){this.updateValues(n,t,i)},updateValues:function(i,r,u){t.isNullOrUndefined(u)||(u.model.sliderType==="range"&&u.value.length===2?(n("#leftcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[0]):u.value[0]),n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[1]):u.value[1])):u.model.sliderType!=="minrange"||t.isNullOrUndefined(u.value)||n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value):u.value))},_loadListBoxSlaves:function(i,r,u,f,o,s,h,c,l,a,v,y){var ot,st,d,ht,ct;if(!this.clearAllFilter){var w=0,lt=-1,ut=1,at=4,vt=5;if(this.controlRelations.length!==w||!t.isNullOrUndefined(c)){var b=n("#"+o).ejListBox("instance"),et=t.isNullOrUndefined(b.model)?"":b.model.checkChange,g=[],tt=[],yt=[],k="",rt="",it=null,ft=0,nt=0,p=this.dashboardControls.getControlByReport(f);if(h){if(!t.isNullOrUndefined(y))if(y.text===t.DashboardConstants.All)y.event.isChecked?(b.model.checkChange=null,b.checkAll(),b.model.checkChange=et,n("#"+o).attr("data-isuserunselect",!1)):(b.model.checkChange=null,b.unCheckAll(),b.model.checkChange=et,n("#"+o).attr("data-isuserunselect",!0));else{var bt=n("#"+o).children().eq(w).children().attr("aria-checked")==="true",pt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=true]").length,wt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=false]").length;bt?pt-=ut:wt-=ut;wt>w?(b.model.checkChange=null,b.uncheckItemByIndex(w),b.model.checkChange=et):(b.model.checkChange=null,b.checkItemByIndex(w),b.model.checkChange=et);pt===w&&n("#"+o).attr("data-isuserunselect",!0)}if(ot=this.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=true]"),st=this.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=false]"),n("#"+o).attr("data-isuserunselect")==="true"){for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,nt=0;nt<ot.length;nt++)k=ot.eq(nt).parent().attr("id"),t.isNullOrUndefined(k)||(rt=ot.eq(nt).parent()[0].textContent),k!=="All"&&(g.push(k),tt.push(rt));it="Include"}else{for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,nt=0;nt<st.length;nt++)k=st.eq(nt).parent().attr("id"),t.isNullOrUndefined(k)||(rt=st.eq(nt).parent()[0].textContent),k!=="All"&&(g.push(k),tt.push(rt));it="Exclude"}}else k=this.currentTabContentElement.find("#"+o+" .e-select").attr("id"),t.isNullOrUndefined(k)&&!t.isNullOrUndefined(y)&&(k=y.data.id),t.isNullOrUndefined(k)||(rt=this.currentTabContentElement.find("#"+o+" .e-select")[0].textContent,g.push(k),tt.push(rt)),typeof e!="undefined"&&(p.SelectedItems.Included=g),it="Include";(yt.push({Items:g}),t.isNullOrUndefined(c)||(this._controlNavigate(c,yt),l))&&(d=this,this.requestTimer!==null&&clearTimeout(this.requestTimer),ht=null,ct=null,this.requestTimer=setTimeout(function(){var b,e,l,c,h,k;for(ft=0;ft<d.controlRelations.length;ft++)if(d.controlRelations[ft].Master.lastIndexOf("_"+f)!==lt){if(ht=d.controlRelations[ft].Slaves,d.model.enableVirtualLoading&&ht.length===w){ct=d._checkFilterOverviewData(o);d._addFilterDataToTitle(ct);return}if(b=d.model.enableVirtualLoading?d._checkMasterData(f):null,b!==null&&d.masterData.splice(b,ut),y!==null&&g.length!==w)if(p.SelectedFilterInfo.length>w)for(e=null,l=0;l<p.SelectedFilterInfo.length;l++)(p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===s.toUpperCase()||p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===u)&&(e=l),t.isNullOrUndefined(e)||e===lt||(!t.isNullOrUndefined(p.SelectedFilterInfo[e].DateFilterInfo)&&p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList.length>w?(p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&e===w?tt:g,p.SelectedFilterInfo[e].DateFilterInfo.DisplayDateFilterList=tt,p.SelectedFilterInfo[e].DateFilterInfo.Action=it==="Include"?w:ut):t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&e===w?tt:g),t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Conditions=it==="Include"?at:vt,p.SelectedFilterInfo[e].ReportName=p.reportName));else for(c=0;c<r;c++)h=new selectedFilterInfo,h.UniqueColumnName=c===w?s:u,k=c===w?!t.isNullOrUndefined(a)&&a===s.toUpperCase():!t.isNullOrUndefined(i)&&i===u.toUpperCase(),k?(h.DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&c===w?tt:g,h.DateFilterInfo.DisplayDateFilterList=tt,h.DateFilterInfo.Action=it==="Include"?w:ut):h.DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&c===w?tt:g,h.DimensionFilterInfo.Conditions=it==="Include"?at:vt,h.ReportName=p.reportName,p.SelectedFilterInfo.push(h);else p.SelectedFilterInfo=[];d._makeSlaveDataRequest({master:f,slaves:ht,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}t.isNullOrUndefined(y)||p.SelectedFilterInfo===null||p.SelectedFilterInfo.length===w?(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));d.requestTimer=null},y===null||!h?w:1500))}}},_showListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_checkFilterInfo:function(n,i){if(i!==null&&!t.isNullOrUndefined(n))for(var r=0;r<i.length;r++)if(i[r].UniqueColumnName.toUpperCase()===n.toUpperCase())return r;return null},_checkFilterInfos:function(n,i,r){if(!t.isNullOrUndefined(n))for(var u=0;u<r.length;u++)if(r[u].UniqueColumnName.toUpperCase()===n.toUpperCase()||r[u].UniqueColumnName.toUpperCase()===i)return u;return null},_loadCheckBoxSlaves:function(i,r,u,f,e,o,s){var p,d,tt,it,y,h;t.isNullOrUndefined(s&&s.event)||s.event.stopPropagation();var w=0,g=-1,nt=1;if((this.controlRelations.length!==w||!t.isNullOrUndefined(f))&&this.flag){var c=this.dashboardControls.getControlByReport(i),b=n("#"+u+" .e-checkbox.e-js.e-input"),k=null,a=0,l=0,v=null;if(!t.isNullOrUndefined(s)&&!r&&c.configInfo.ShowAll)if(s.model.value===t.DashboardConstants.SelectAll)if(s.isChecked)for(n("#"+s.model.id).attr({userunchecked:!1}),a=0;a<b.length;a++)k=b.eq(a).ejCheckBox("instance"),k.option("checked",!0);else for(n("#"+s.model.id).attr({userunchecked:!0}),a=0;a<b.length;a++)k=b.eq(a).ejCheckBox("instance"),k.option("checked",!1);else p=n("#"+u+" .e-checkbox.e-js.e-input[value='"+t.DashboardConstants.SelectAll+"']"),t.isNullOrUndefined(p)||(d=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]").length,tt=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]").length,p.ejCheckBox("instance").isChecked()?tt-=nt:d-=nt,d>w?(it=p.ejCheckBox("instance").model.change,p.ejCheckBox("instance").model.change=null,p.ejCheckBox("instance").option("checked",!1),p.ejCheckBox("instance").model.change=it):p.ejCheckBox("instance").option("checked",!0));y=null;h=this;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var tt=null,ut=null,e,et,b,p,ot,d;for(a=0;a<h.controlRelations.length;a++)if(h.controlRelations[a].Master.lastIndexOf(i)!==g){if(tt=h.controlRelations[a].Slaves,h.model.enableVirtualLoading&&tt.length===w){ut=h._checkFilterOverviewData(u);h._addFilterDataToTitle(ut);return}var f=[],nt=h.currentTabContentElement.find("#"+u).prop("data-column"),k=[];if(r)t.isNullOrUndefined(s)||s.model.value===t.DashboardConstants.All||(f.push(s.model.value),et=h.currentTabContentElement.find("#"+u+" .e-radiobtn-wrap.e-widget[aria-checked=true]"),k.push(et.eq(w).siblings("label").html()),y=t.DashboardConstants.DateFilterInfoInclude);else if(e=null,c.configInfo.ShowAll){var ft=!1,it=n("#"+u+" .e-checkbox.e-js.e-input[value='"+t.DashboardConstants.SelectAll+"']"),rt=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]");if(e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),it&&it.attr(t.DashboardConstants.UserUnchecked)&&it.attr(t.DashboardConstants.UserUnchecked)==="true"&&(ft=!0),ft){for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,l=0;l<rt.length;l++)v=n(rt.eq(l)).find(".e-checkbox").attr("value"),v!==t.DashboardConstants.SelectAll&&(f.push(v),k.push(rt.eq(l).siblings("label").html()));y=t.DashboardConstants.DateFilterInfoInclude}else{if(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e.length!==c.totalCount)for(l=0;l<e.length;l++)v=n(e.eq(l)).find(".e-checkbox").attr("value"),v!==t.DashboardConstants.SelectAll&&(f.push(v),k.push(e.eq(l).siblings("label").html()));y=t.DashboardConstants.DateFilterInfoExclude}}else{for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),l=0;l<e.length;l++)v=e.eq(l).siblings("label").html(),v!==t.DashboardConstants.SelectAll&&f.push(v);y=t.DashboardConstants.DateFilterInfoExclude}f.length>w?(b=h._checkFilterInfo(nt,c.SelectedFilterInfo),t.isNullOrUndefined(b)||b===g?(p=new selectedFilterInfo,p.UniqueColumnName=nt,t.isNullOrUndefined(o)||o!==nt.toUpperCase()?(p.DimensionFilterInfo.Text=f,p.DimensionFilterInfo.Conditions=y):(p.DateFilterInfo.DateFilterList=f,p.DateFilterInfo.Action=y,p.DateFilterInfo.DisplayDateFilterList=k),p.ReportName=c.reportName,c.SelectedFilterInfo.push(p)):t.isNullOrUndefined(o)||o!==nt.toUpperCase()?(c.SelectedFilterInfo[b].DimensionFilterInfo.Text=f,c.SelectedFilterInfo[b].DimensionFilterInfo.Conditions=y):(c.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=f,c.SelectedFilterInfo[b].DateFilterInfo.Action=y,c.SelectedFilterInfo[b].DateFilterInfo.DisplayDateFilterList=k)):c.SelectedFilterInfo=[];ot={master:i,masterData:h.masterData,slaves:tt,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};h._makeSlaveDataRequest(ot);break}d=h._id+t.DashboardConstants.Widget+i;t.isNullOrUndefined(c.SelectedFilterInfo)||c.SelectedFilterInfo.length===w?(h.currentTabContentElement.find("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),h.currentTabContentElement.find("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(h.currentTabContentElement.find("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),h.currentTabContentElement.find("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));h.requestTimer=null},s===null?w:1500)}}}}(jQuery,Syncfusion);"use strict";var dbrdcontrolData=function(){this.pageNumber=0;this.pagedata=[];this.LastUpdateTime="";this.isError=!1;this.scrollTop=0},dbrdsortSetting=function(){this.column="";this.sortDirection=""},dbrdfilterSetting=function(){this.column="";this.value=""},selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic",DisplayDateFilterList:[]};this.DimensionFilterInfo={Conditions:"Include",IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]};this.PointIndex=-1;this.SeriesIndex=-1;this.IsStdDateTime=!1;this.Value=null},minifyEnum={UniqueColumnName:"ucn",ReportName:"rn",DateFilterInfo:"dfi",DimensionFilterInfo:"dimfi",MeasureFilterInfo:"mfi",PointIndex:"pi",SeriesIndex:"si",IsStdDateTime:"isdt",Value:"v",Action:"a",DateFilterList:"dfl",DateFilterType:"dft",DisplayDateFilterList:"ddfl",DimensionFilterInfoConditions:"c",MeasureFilterInfoConditions:"c",IsBoolean:"ib",ClearAllSelection:"cas",Text:"t",SelectedBoolValues:"sbv",SelectedIndex:"si",Values:"vs"},unMinifyEnum={UniqueColumnName:"UniqueColumnName",ReportName:"ReportName",DateFilterInfo:"DateFilterInfo",DimensionFilterInfo:"DimensionFilterInfo",MeasureFilterInfo:"MeasureFilterInfo",PointIndex:"PointIndex",SeriesIndex:"SeriesIndex",IsStdDateTime:"IsStdDateTime",Value:"Value",Action:"Action",DateFilterList:"DateFilterList",DateFilterType:"DateFilterType",DisplayDateFilterList:"DisplayDateFilterList",DimensionFilterInfoConditions:"Conditions",MeasureFilterInfoConditions:"Conditions",IsBoolean:"IsBoolean",ClearAllSelection:"ClearAllSelection",Text:"Text",SelectedBoolValues:"SelectedBoolValues",SelectedIndex:"SelectedIndex",Values:"Values"},chartsettings={palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],dataLabelColor:"#565656",xAxisLineColor:"#bdbdbd",yAxisLineColor:"#bdbdbd",axisLineColor:"#bdbdbd",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxismajorGridLines:"#dfdfdf",legendfontcolor:"#636363",majorTickColor:"#191919",primaryXAxisfontcolor:"#636363",primaryYAxisfontcolor:"#636363",primaryXAxistitlecolor:"#636363",primaryYAxistitlecolor:"#636363",titletextcolor:"#636363"},bubblemapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",bubbleColor:"#77A7FB"},choroplethmapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",rangecolor:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"]},treemapsettings={drillDownHeaderColor:"#B2B2B2",drillDownSelectionColor:"#FFFFFF",highlightColor:"#666666",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],rangeColorMap:["#77A7FB","#E57368","#FBCB43"],desaturationColorMap:"#77A7FB"},rangenavigatorsettings={toolTipData:"white",toolTipBackground:"gray",backgroundColor:"#F9F9F9",unSelectedRegionColor:"#F9F9F9",borderColor:"black"},gaugesettings={rangeColor1:"#e8e8e8",border1:"#e8e8e8",rangeColor2:"#77A7FB",border2:"#77A7FB",statusData:"#34B67A"},Dbrdcontrol=function(){this.data=[];this.customTheme={};this.theme={};this.errorOccured=!1;this.totalCount=0;this.configInfo=[];this.sortSettings=[];this.filterSetting=[];this.scrollSetting={scrollTop:0,rowPerPage:0,colPerPage:0,heightOfColumn:0,visibleHeight:0,controlPerPage:0,currentScrollTop:0};this.heightPerPage=0;this.heightOfRow=0;this.SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};this.SelectedFilterInfo=[];this.controlType="";this.reportName="";this.loadedPages=[];this.totalPages=0;this.lastUpdateTime="";this.isExpanded=!1;this.currentPage=0;this.maxMinData=[];this.drillLevelInfo=[];this.drillLevels=[];this.SeriesList=[];this.ComparisonChartProp={Type:[],Field:[]};this.drillLevelData=[];this.isExportFromMaximizedView=!1;this.PivotReport=[];this.PivotJSONData=[];this.controlThemeName="";this.staticFiles={};this.isControlFilter=!1;this.controlRelations=[];this.appliedFilterData=[]};Dbrdcontrol.prototype.clone=function(n){return this.data=n.data,this.totalCount=n.totalCount,this.configInfo=n.configInfo,this.sortSettings=n.sortSettings,this.filterSetting=n.filterSetting,this.scrollSetting=n.scrollSetting,this.heightPerPage=n.heightPerPage,this.heightOfRow=n.heightOfRow,this.SelectedItems=n.SelectedItems,this.controlType=n.controlType,this.reportName=n.reportName,this.loadedPages=n.loadedPages,this.totalPages=n.totalPages,this.lastUpdateTime=n.lastUpdateTime,this.isExpanded=n.isExpanded,this.currentPage=n.currentPage,this.drillLevelInfo=n.drillLevelInfo,this.drillLevels=n.drillLevels,this.SeriesList=n.SeriesList,this.ComparisonChartProp=n.ComparisonChartProp,this.drillLevelData=n.drillLevelData,this.isExportFromMaximizedView=n.isExportFromMaximizedView,this.PivotReport=n.PivotReport,this.PivotJSONData=n.PivotJSONData,this.SelectedFilterInfo=n.SelectedFilterInfo,this.customTheme=n.customTheme,this.staticFiles=n.staticFiles,this.isControlFilter=n.isControlFilter,this.controlRelations=n.controlRelations,this.appliedFilterData=n.appliedFilterData,this.maxMinData=n.maxMinData,this};Dbrdcontrol.prototype.getCurrentPageData=function(){for(var t,n=0;n<this.data.length;n++)if(t=this.data[n],t.pageNumber===this.currentPage)return t;return this.data.length===1?this.data[0]:null};Dbrdcontrol.prototype.hasPageData=function(n){for(var i,t=0;t<this.data.length;t++)if(i=this.data[t],i.pageNumber===n)return!0;return!1};Dbrdcontrol.prototype.getPageDataBypage=function(n){for(var i,t=0;t<this.data.length;t++)if(i=this.data[t],i.pageNumber===n)return i;return null};Dbrdcontrol.prototype.getControlPagesforRefresh=function(n){for(var h,c,f=0,i=1,u=[],s=0;s<n.data.length-i;s++){var t=n.data[s].pageNumber,r=n.scrollSetting.currentScrollTop,e=0,o=0;if(n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop&&n.getPageDataBypage(t+i).scrollTop!==f&&n.scrollSetting.currentScrollTop<=n.getPageDataBypage(t+i).scrollTop)if(h=t===i?f:n.getPageDataBypage(t-i).scrollTop-n.scrollSetting.visibleHeight,c=t===i?f:n.getPageDataBypage(t-i).scrollTop+n.scrollSetting.visibleHeight,e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=h&&r<=c)t!==i&&u.push(t-i),u.push(t);else if(r>=e&&r<=o)u.push(t),r>n.getPageDataBypage(t).scrollTop&&u.push(t+i);else{u.push(t+i);break}else n.getPageDataBypage(t+i).scrollTop===f&&n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop?(e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage?(u.push(t),u.push(n.currentPage)):u.push(n.currentPage)):n.getPageDataBypage(i).scrollTop!==f&&r<=n.getPageDataBypage(i).scrollTop&&r>f&&(e=n.getPageDataBypage(i).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(i).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage&&(u.push(i),r>n.getPageDataBypage(i).scrollTop&&u.push(2)))}return u};dbrddashboardControls=function(){this.controls=[]};dbrddashboardControls.prototype.addControl=function(n){for(var i,r=null,t=0;t<this.controls.length;t++)if(i=this.controls[t],i.reportName!==""&&i.WidgetType!=="NoData"&&i.reportName===n.reportName){r=t;break}ej.isNullOrUndefined(r)?this.controls.push(n):this.controls[r]=n};dbrddashboardControls.prototype.getControlByReport=function(n){for(var i,t=0;t<this.controls.length;t++)if(i=this.controls[t],i.reportName===n)return i;return null};dbrddashboardControls.prototype.updateCurrentReport=function(n){for(var t=0;t<this.controls.length;t++)if(this.controls[t].reportName===n.reportName){this.controls[t]=n;break}return!1};dbrddashboardControls.prototype.getAllControls=function(){return this.controls};dbrddashboardControls.prototype.getAllControlsForImageExport=function(n){for(var r,u=n,i=[],t=0;t<this.controls.length;t++)this.controls[t].isControlFilter===!1&&(r=JSON.parse(JSON.stringify(this.controls[t])),r.loadedPages=[],i.push(r));return i.push({controlType:"Title",reportName:u}),i};dbrddashboardControls.prototype.getControlsForCurrentPage=function(n){for(var t,i=[],u=-1,r=0;r<this.controls.length;r++)t=this.controls[r],t.controlType===ej.dashboardViewer.Controls.Label&&n.indexOf(t.currentPage)!==u?i.push(t):n.indexOf(t.configInfo.Page)!==u?i.push(t):t.controlType==="parameterColumnData"&&i.push(t);return i};dbrddashboardControls.prototype.getAllControlsMasterData=function(){for(var t=[],n=0;n<this.controls.length;n++)ej.isNullOrUndefined(this.controls[n].configInfo)||ej.isNullOrUndefined(this.controls[n].SelectedFilterInfo)||ej.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(this.controls[n].SelectedFilterInfo.ReportName=this.controls[n].reportName,t=t.concat(this.controls[n].SelectedFilterInfo));return t};dbrddashboardControls.prototype.getAllControlsIsDefaultProperty=function(){for(var t=[],n=0;n<this.controls.length;n++)ej.isNullOrUndefined(this.controls[n].configInfo)||ej.isNullOrUndefined(this.controls[n].configInfo.SelectFirstItem)||ej.isNullOrUndefined(this.controls[n].reportName)||t.push({ReportName:this.controls[n].reportName,IsFirstItemByDefault:this.controls[n].configInfo.SelectFirstItem});return t};dbrddashboardControls.prototype.getAllcontrolsSelectedItems=function(){for(var t,i=[],n=0;n<this.controls.length;n++)t=null,ej.isNullOrUndefined(this.controls[n].configInfo)||ej.isNullOrUndefined(this.controls[n].SelectedItems)||ej.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(t={ReportName:this.controls[n].reportName,SelectedItems:this.controls[n].SelectedItems}),ej.isNullOrUndefined(t)||i.push(t);return i};dbrddashboardControls.prototype.removeSelectedControlsMasterData=function(n){for(var t=0;t<this.controls.length;t++)if(this.controls[t].configInfo.IsMasterFilter&&this.controls[t].SelectedFilterInfo.length>0&&this.controls[t].SelectedFilterInfo[0].ReportName===n){this.controls[t].SelectedFilterInfo=[];break}};dbrddashboardControls.prototype.getAllControlsForRefresh=function(){for(var n,t,u,f=[],i=0,r=0;r<this.controls.length;r++)if(n=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[r]))),t=null,n.controlType===ej.dashboardViewer.Controls.CheckBox&&n.data.length>1)for(i=n.getControlPagesforRefresh(n),u=0;u<i.length;u++)t={currentPage:i[u],reportName:n.reportName,controlPerPage:n.scrollSetting.controlPerPage},f.push(t),this.controls[r].loadedPages=i;else t={currentPage:n.currentPage,reportName:n.reportName,controlPerPage:ej.isNullOrUndefined(n.scrollSetting)?null:n.scrollSetting.controlPerPage},f.push(t);return f};dbrddashboardControls.prototype.getAllControlsId=function(){for(var t,i=[],n=0;n<this.controls.length;n++)t=this.controls[n].reportName,t!==""&&i.push(t);return i};dbrddashboardControls.prototype.getControlForImageExport=function(n){for(var i,r=[],t=0;t<this.controls.length;t++)this.controls[t].reportName===n&&(i=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[t]))),i.loadedPages=[],r.push(i));return r};dbrddashboardControls.prototype.minifySelectedFilterInfo=function(n){for(var t,i,u=[],r=0;r<n.length;r++)t=n[r],i={},i[minifyEnum.UniqueColumnName]=t.UniqueColumnName,i[minifyEnum.ReportName]=t.ReportName,this.isDefaultValue(t,"PointIndex",-1)||(i[minifyEnum.PointIndex]=t.PointIndex),this.isDefaultValue(t,"SeriesIndex",-1)||(i[minifyEnum.SeriesIndex]=t.SeriesIndex),this.isDefaultValue(t,"IsStdDateTime",!1)||(i[minifyEnum.IsStdDateTime]=t.IsStdDateTime),this.isDefaultValue(t,"Value",null)||(i[minifyEnum.Value]=t.Value),ej.isNullOrUndefined(t.DateFilterInfo)||ej.isNullOrUndefined(t.DateFilterInfo.DateFilterList)||t.DateFilterInfo.DateFilterList.length===0||(i[minifyEnum.DateFilterInfo]={},i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]=t.DateFilterInfo.DateFilterList,this.isDefaultValue(t.DateFilterInfo,"Action","Include")||(i[minifyEnum.DateFilterInfo][minifyEnum.Action]=t.DateFilterInfo.Action),this.isDefaultValue(t.DateFilterInfo,"DateFilterType","Basic")||(i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]=t.DateFilterInfo.DateFilterType),this.isDefaultValue(t.DateFilterInfo,"DisplayDateFilterList",0,!0)||(i[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList]=t.DateFilterInfo.DisplayDateFilterList)),ej.isNullOrUndefined(t.DimensionFilterInfo)||(ej.isNullOrUndefined(t.DimensionFilterInfo.Text)||t.DimensionFilterInfo.Text.length===0)&&(ej.isNullOrUndefined(t.DimensionFilterInfo.SelectedBoolValues)||t.DimensionFilterInfo.SelectedBoolValues.length===0)||(i[minifyEnum.DimensionFilterInfo]={},this.isDefaultValue(t.DimensionFilterInfo,"Conditions",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]=t.DimensionFilterInfo.Conditions),this.isDefaultValue(t.DimensionFilterInfo,"IsBoolean",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]=t.DimensionFilterInfo.IsBoolean),this.isDefaultValue(t.DimensionFilterInfo,"ClearAllSelection",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]=t.DimensionFilterInfo.ClearAllSelection),this.isDefaultValue(t.DimensionFilterInfo,"Text",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.Text]=t.DimensionFilterInfo.Text),this.isDefaultValue(t.DimensionFilterInfo,"SelectedBoolValues",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]=t.DimensionFilterInfo.SelectedBoolValues),this.isDefaultValue(t.DimensionFilterInfo,"SelectedIndex",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex]=t.DimensionFilterInfo.SelectedIndex)),ej.isNullOrUndefined(t.MeasureFilterInfo)||ej.isNullOrUndefined(t.MeasureFilterInfo.Values)||t.MeasureFilterInfo.Values.length===0||(i[minifyEnum.MeasureFilterInfo]={},this.isDefaultValue(t.MeasureFilterInfo,"Conditions","IsBetween")||(i[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]=t.MeasureFilterInfo.Conditions),this.isDefaultValue(t.MeasureFilterInfo,"Values",0,!0)||(i[minifyEnum.MeasureFilterInfo][minifyEnum.Values]=t.MeasureFilterInfo.Values)),ej.isNullOrUndefined(i[minifyEnum.UniqueColumnName])||ej.isNullOrUndefined(i[minifyEnum.ReportName])||u.push(i);return u};dbrddashboardControls.prototype.unMinifySelectedFilterInfo=function(n){for(var i,t,u=[],f=[],r=0;r<n.length;r++)i=new selectedFilterInfo,t=n[r],this.hasValue(t,"dprmn")?f.push(t):(this.hasValue(t,minifyEnum.UniqueColumnName)&&(i[unMinifyEnum.UniqueColumnName]=t[minifyEnum.UniqueColumnName]),this.hasValue(t,minifyEnum.ReportName)&&(i[unMinifyEnum.ReportName]=t[minifyEnum.ReportName]),this.hasValue(t,minifyEnum.PointIndex)&&(i[unMinifyEnum.PointIndex]=t[minifyEnum.PointIndex]),this.hasValue(t,minifyEnum.IsStdDateTime)&&(i[unMinifyEnum.IsStdDateTime]=t[minifyEnum.IsStdDateTime]),this.hasValue(t,minifyEnum.SeriesIndex)&&(i[unMinifyEnum.SeriesIndex]=t[minifyEnum.SeriesIndex]),this.hasValue(t,minifyEnum.Value)&&(i[unMinifyEnum.Value]=t[minifyEnum.Value]),this.hasValue(t,minifyEnum.DateFilterInfo)&&(this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.Action)&&(i.DateFilterInfo[unMinifyEnum.Action]=t[minifyEnum.DateFilterInfo][minifyEnum.Action]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterType)&&(i.DateFilterInfo[unMinifyEnum.DateFilterType]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DisplayDateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DisplayDateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList])),this.hasValue(t,minifyEnum.DimensionFilterInfo)&&(this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.DimensionFilterInfoConditions)&&(i.DimensionFilterInfo[unMinifyEnum.DimensionFilterInfoConditions]=t[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.IsBoolean)&&(i.DimensionFilterInfo[unMinifyEnum.IsBoolean]=t[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.ClearAllSelection)&&(i.DimensionFilterInfo[unMinifyEnum.ClearAllSelection]=t[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.Text)&&(i.DimensionFilterInfo[unMinifyEnum.Text]=t[minifyEnum.DimensionFilterInfo][minifyEnum.Text]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedBoolValues)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedBoolValues]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedIndex)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedIndex]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex])),this.hasValue(t,minifyEnum.MeasureFilterInfo)&&(this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.MeasureFilterInfoConditions)&&(i.MeasureFilterInfo[unMinifyEnum.MeasureFilterInfoConditions]=t[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]),this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.Values)&&(i.MeasureFilterInfo[unMinifyEnum.Values]=t[minifyEnum.MeasureFilterInfo][minifyEnum.Values])),this.hasValue(i,unMinifyEnum.UniqueColumnName)&&this.hasValue(i,unMinifyEnum.ReportName)&&u.push(i));return{masterData:u,dashboardParams:f}};dbrddashboardControls.prototype.hasValue=function(n,t){return!ej.isNullOrUndefined(n[t])};dbrddashboardControls.prototype.isDefaultValue=function(n,t,i,r){return r?n[t].length===i:n[t]===i};RequestHeaders=function(){this.customHeaders=[]};RequestHeaders.prototype.setRequestHeader=function(n,t){if(!ej.isNullOrUndefined(n)&&n!==""&&!ej.isNullOrUndefined(t)&&t!==""){var i=this.isheaderPresent(n);i===-1?this.customHeaders.push({Key:n,Value:t}):this.customHeaders[i].Value=t}};RequestHeaders.prototype.isheaderPresent=function(n){for(var t=0;t<this.customHeaders.length;t++)if(this.customHeaders[t].Key===n)return t;return-1},function(n,t){t.widget("ejrectangularSelector","ej.rectangularSelector",{_rootCSS:"ejrectangularSelector",element:null,model:null,defaults:{selector:""},_init:function(){this._initPrivateProperties();this._wireEvents()},selector:t.util.valueFunction("selector"),_setModel:function(n){for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"selector":this._init()}},dataTypes:{selector:"string"},_initPrivateProperties:function(){this.rectangularSelectionPosition={x1:0,y1:0,x2:0,y2:0};this.ctrlKeyPressed=!1;this.scrollTop=0},_wireEvents:function(){this._on(this.element,"mousedown",this._onMouseDown);this._on(this.element.parents("body"),"mousemove",this._onMouseMove);this._on(this.element.parents("body"),"mouseup",this._onMouseUp);this._on(this.element.parent(),"scroll",this._onWheelMove)},_unWireEvents:function(){this._off(this.element,"mousedown",this._onMouseDown);this._off(this.element.parents("body"),"mousemove",this._onMouseMove);this._off(this.element.parents("body"),"mouseup",this._onMouseUp);this._off(this.element.parent(),"scroll",this._onWheelMove)},_wireSnippingEvents:function(){this.isReadyState=!0},_UnwireSnippingEvents:function(){this.isReadyState=!1},_onMouseDown:function(t){var i,r;t.stopPropagation();this.isReadyState=!1;this.ctrlKeyPressed=t.ctrlKey;i=this.element;i.parent().find(".e-dbrd-rectangularSelector").length===0&&i.parent().append(n("<div>").addClass("e-dbrd-rectangularSelector")).css({position:"relative"});r=i.parent().find(".e-dbrd-rectangularSelector");this.rectangularSelectionPosition.x1=t.clientX-i.parent().offset().left;this.rectangularSelectionPosition.y1=t.clientY-i.parent().offset().top+i.parent().scrollTop();this.scrollTop=i.parent().scrollTop();this._rectangularSelectionReCalc();r.hide();this._wireSnippingEvents()},_onMouseMove:function(n){var t,i;(this.ctrlKeyPressed=n.ctrlKey,this.isReadyState!==!1&&this.element!==null)&&(t=this.element,i=t.parent().find(".e-dbrd-rectangularSelector"),i.length!==0)&&(n.stopPropagation(),this.rectangularSelectionPosition.x2=n.clientX-t.parent().offset().left,this.rectangularSelectionPosition.y2=n.clientY-t.parent().offset().top+t.parent().scrollTop(),this.scrollTop=t.parent().scrollTop(),i.show(),this._rectangularSelectionReCalc())},_onMouseUp:function(t){var o=0,s=10,e,i,u,f,r;if(this.ctrlKeyPressed=t.ctrlKey,e=this.element,i=e.parent().find(".e-dbrd-rectangularSelector"),this.isReadyState===!1||i.css("display")==="none"||i.length===o||i.height()<s||i.width()<s){i.remove();return}for(u=e.find(this.selector()),f=[],r=0;r<u.length;r++){var h=!0,c=n(u[r]).offset().left,l=n(u[r]).offset().top,y=n(u[r]).outerHeight(!0),p=n(u[r]).outerWidth(!0),w=l+y,b=c+p,a=i.offset().left,v=i.offset().top,k=i.outerHeight(!0),d=i.outerWidth(!0),g=v+k,nt=a+d;h=w<v||l>g||b<a||c>nt?!1:!0;h&&f.push(n(u[r]))}f.length>o&&this._trigger("selected",{children:f,ctrlKey:this.ctrlKeyPressed});i.remove();this._UnwireSnippingEvents()},_onWheelMove:function(){var n=this.element;(this.rectangularSelectionPosition.y2=this.rectangularSelectionPosition.y2-this.scrollTop+n.parent().scrollTop(),this.scrollTop=n.parent().scrollTop(),this.isReadyState!==!1)&&this._rectangularSelectionReCalc()},_rectangularSelectionReCalc:function(){var e=this.element,o=e.parent().find(".e-dbrd-rectangularSelector"),n=this.rectangularSelectionPosition.x1,t=this.rectangularSelectionPosition.x2,i=this.rectangularSelectionPosition.y1,r=this.rectangularSelectionPosition.y2,u=Math.min(n,t),s=Math.max(n,t),f=Math.min(i,r),h=Math.max(i,r),c=s-u,l=h-f;o.css({top:f,left:u,height:l,width:c})},remove:function(t){n(t.currentTarget).parent().remove()},_destroy:function(){this._unWireEvents()}})}(jQuery,Syncfusion),function(n,t){t.dashboardFilterPanel=t.dashboardFilterPanel||{};t.widget("ejDashboardFilterPanel","ej.DashboardFilterPanel",{_rootCSS:"e-dashboardfilterpanel",element:null,model:null,validTags:["div"],defaults:{size:{height:"",width:""},dataSource:[],localeSettings:{heading:"Filters",closeButtonText:"Close",backButtonText:"Back",clearFilterText:"Clear Master Filter",knowMore:"Know More...",reloadButtonText:"Reload",NoData:"There is no data to be displayed.",comment:"Comment"},viewerLocale:{},serviceUrl:"",dashboardPath:"",allowComment:!1,commentSettings:{isWidgetCommented:!1,widgets:[]},responsiveSettings:{showMaximize:!1,showExport:!1},enableCustomTheming:!1,customThemeSettings:"",showHeader:!0,currentMasterReport:null,showCloseIcon:!0,selectedData:null,enableVirtualLoading:!0,currentUser:null,controlRelations:null,beforeFilterApplied:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,beforeWidgetRender:null,afterWidgetRender:null,onWidgetCommented:null,onDropDownSearch:null,loaded:null},_init:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});this._unWireEvents();this.initPrivateProperties();this.loadFilterLayout();this._wireEvents();var n=this,i=this.dashboardControls.controls;setTimeout(function(){n._trigger("filterPanelOpen",{dataSource:n.model.dataSource,element:n.element,controls:i})},t.DashboardConstants.Zero);this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&this._applyCustomTheme()},serviceUrl:function(){return this.model.serviceUrl},dashboardPath:function(){return this.model.dashboardPath},initPrivateProperties:function(){this.currentMasterWidget=null;this.target=[];this.locale=this.model.viewerLocale;this.currentTabContentElement=this.element;this.controlRelations=t.isNullOrUndefined(this.model.controlRelations)?[]:this.model.controlRelations;this.dashboardControls=new dbrddashboardControls;this.modifiedConnectionStrings=null;this.externalFilterPanel=this.model.externalFilterPanel;this.currentUser=null;this.flag=!0;this.enableVirtualLoading=!1;this.dashboardName=this.model.dashboardName;this.target=[];this.isPublicDashboard=this.model._isPublic||!1;this.itemId=this.model._itemId||"";this.currentUser=this.model.currentUser;this.filterpanelWrapper=null;this.dashboardParameters=this.model.dashboardParameterSettings},_wireEvents:function(){this._on(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._on(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._on(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._on(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_unWireEvents:function(){this._off(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._off(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._off(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._off(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_onFilterControlTitleMouseOver:function(i){var r,f,u,e;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),i.bubbles=!1,r=this,f=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")f=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var o=n(i.currentTarget),s=null,h=null,c,f;if(o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s){r._onFilterControlTitleMouseLeave(i);return}c=r.element.offset().top===t.DashboardConstants.Zero?15:r.externalFilterPanel?r.element.offset().top+10:15;f=r.element.find(".e-dbrd-tooltip").css({width:""});f.html(n(i.currentTarget).html());f.css({top:e-r.element.offset().top+c,left:r.externalFilterPanel?u:u-r.element.offset().left,display:"block",width:u-r.element.offset().left+f.width()>r.element.width()?r.element.width()-(u-r.element.offset().left):u})},f)}},_onFilterControlTitleMouseLeave:function(n){n.bubbles=!1;this.element.find(".e-dbrd-tooltip").remove()},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_showFilterToolTip:function(i){var r,u,f,e;if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),r=this,u=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(f=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")u=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var o,h,s,u;if(n(i.currentTarget).hasClass("e-dbrd-filter-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),o=n(i.currentTarget).attr("data-tooltip"),o!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}if(n(i.currentTarget).css("cursor")==="default"){r.element.find(".e-dbrd-tooltip").hide();return}h=r.element.offset().top===t.DashboardConstants.Zero?15:r.externalFilterPanel?r.element.offset().top+10:15;s=t.EjSvgRender.utils._measureText(o,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;s=s<300?s:300;r.element.find(".e-dbrd-tooltip").html(o).css({"z-index":"100001",left:r.externalFilterPanel?f-50:f-r.element.offset().left-50,top:e-r.element.offset().top+h,width:""}).stop(!0,!0).show();u=r.element.find(".e-dbrd-tooltip");u.length&&u.offset().top+u.height()+10>n("body").height()&&u.css({top:u.offset().top-u.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},u)},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_searchDropDownList:function(n){t.isNullOrUndefined(this.model.onDropDownSearch)||this._trigger("onDropDownSearch",{data:n})},loadFilterLayout:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});t.isNullOrUndefined(this.model.size.height)?this.element.css({height:"100%"}):this.element.css({height:this.model.size.height});t.isNullOrUndefined(this.model.size.width)?this.element.css({width:"100%"}):this.element.css({width:this.model.size.width+"px"});this._drawFilterBanner();this._drawFilterLayout();var n=this,i=this.element.find(".e-dbrd-filter-banner").height();this.filterpanelWrapper.ejScroller({height:this.element.height()-i+"px",width:this.element.width()-2+"px"});setTimeout(function(){n.element.find("#"+n._id+"_layout_wrapper").data("ejScroller")&&n.element.find("#"+n._id+"_layout_wrapper").data("ejScroller").refresh();n._trigger("loaded",{dataSource:n.model.dataSource,element:n.element,controls:n.dashboardControls,instance:n})},1e3)},_openCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),f,r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-filterPanel-widget-withcomments-menuClicked");r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-filterPanel-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(f=n(i.target).attr("data-widget-id"));this._trigger("onWidgetCommented",{event:i,reportGuid:f,tabId:this.dashboardName})},_drawFilterBanner:function(){var n='<div class = "e-dbrd-filter-banner"><div class= "e-dbrd-filter-back" style = "position: absolute";> <\/div><div class= "e-dbrd-filter-title-container"><p class="e-dbrd-filter-title"> '+this.model.localeSettings.heading+' <\/p> <\/div><div class = "e-dbrd-filter-icon-container"><div class = "e-dbrd-filter-close e-dbrd-filter-hoverable" style = "position: absolute; margin-left: 20px;" data-tooltip="'+this.model.localeSettings.closeButtonText+'"><\/div><\/div><\/div>';this.element.append(n);this._setFilterHeader();this._setFilterCloseIcon()},_setFilterHeader:function(){this.model.showHeader?this.element.find(".e-dbrd-filter-banner").css({display:"block"}):this.element.find(".e-dbrd-filter-banner").css({display:"none"})},_setFilterCloseIcon:function(){this.model.showHeader&&this.model.showCloseIcon?this.element.find(".e-dbrd-filter-banner .e-dbrd-filter-icon-container").css({display:"block"}):this.element.find(".e-dbrd-filter-banner .e-dbrd-filter-icon-container").css({display:"none"})},_drawFilterLayout:function(){this.filterpanelWrapper=n("<div>").addClass("e-dbrd-filterpanel-wrapper e-dbrd-control").css({position:"absolute",width:"100%",height:"98%"}).attr({id:this._id+"_layout_wrapper"});this.filterpanelContentWrapper=n("<div>").addClass("e-dbrd-filterPanel-content");this.filterpanelWrapper.append(this.filterpanelContentWrapper);this.element.append(this.filterpanelWrapper);this._createControlLoader(this.element);this._initializeWidgets();this._createWidgetContainers();this._renderWidgets(null);n(window).width()<768?(this.element.find(".e-dbrd-filter-back").css({display:"block"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}),this.element.find(".e-control-heading").css({"padding-left":"0px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"})):(this.element.find(".e-dbrd-filter-back").css({display:"none"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"}))},_onFilterScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#D9D9D9"});r.find(".e-vup").css({"font-size":"10px",left:"-1px",top:"1px"});r.find(".e-vdown").css({"font-size":"10px",left:"0",top:"0"});r.find(".e-vhandle").css({width:"7px",left:"-2px"});r.find(".e-hup").css({"font-size":"10px",left:"2px",top:"0"});r.find(".e-hdown").css({"font-size":"10px",top:"0"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onFilterScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:(f.fraction===t.DashboardConstants.Zero&&(f={fraction:t.DashboardConstants.Zero,postFixLabel:""},e=r.replace(o,"0")),(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.postFixLabel)}return null},_truncateNumber:function(n){var f=Math.pow(10,3),i=Math.pow(10,6),r=Math.pow(10,9),u=Math.pow(10,12),t=n;return t>=f&&t<i||t<=-f&&t>-i?{fraction:this._calculateFraction(t,f),symbol:"K"}:t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:t,symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyNumberUnit:function(n,i){var r=t.DashboardConstants.One,u=Math.pow(10,3),f=Math.pow(10,6),e=Math.pow(10,9),o=Math.pow(10,12);switch(n){case t.DashboardConstants.One:return{fraction:i/r,postFixLabel:""};case 2:return{fraction:i/u,postFixLabel:"K"};case 3:return{fraction:i/f,postFixLabel:"M"};case 4:return{fraction:i/e,postFixLabel:"B"};case 5:return{fraction:i/o,postFixLabel:"T"};default:return{fraction:i,postFixLabel:""}}},_callFunction:function(n,t){var i=this;setTimeout(function(){i._trigger("beforeWidgetRender",{data:t});t?n.call(i,t):n.call(i);i._trigger("afterWidgetRender",{data:t})},4)},refreshData:function(n){var o,s,r,e,l,c;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){var u="",h=0,i=null,f=null;if(t.isNullOrUndefined(n))return;if(this.flag=!1,t.isNullOrUndefined(this.model.dataSource)||this.model.dataSource.length!==t.DashboardConstants.Zero){if(!t.isNullOrUndefined(n))for(o=0;o<n.length;o++)for(s=0;s<this.model.dataSource.length;s++)n[o].filterId===this.model.dataSource[s].filterId&&(this.model.dataSource[s]=n[o])}else{this.model.dataSource=n;this.loadFilterLayout();return}for(this.target=[],h=0;h<this.model.dataSource.length;h++)if(r=this.model.dataSource[h],i=new Dbrdcontrol,e=new dbrdcontrolData,i.isControlFilter=!0,u=r.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.filterId:r.filterId.substr(t.DashboardConstants.Zero,r.filterId.indexOf("_")),u=u.toLowerCase(),i.reportName=r.filterId,l=this.element.find(".e-dbrd-control .e-dbrd-filter-wrapper[data-controlid="+r.filterId+"]"),l.length===t.DashboardConstants.One&&(c=l.find(".e-js").attr("id"),t.isNullOrUndefined(c)||c===""||this.target.push(c)),u===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||u===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||u===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||u===t.dashboardFilterPanel.controls.ListBox.toLowerCase()){i.currentPage=1;!t.isNullOrUndefined(r.filterInfo.data)&&r.filterInfo.data.length>0&&(e.pagedata=JSON.parse(r.filterInfo.data),i.errorOccured=!1,e.pageNumber=1,e.LastUpdateTime="");t.isNullOrUndefined(r.filterInfo.error)||(e.pagedata=r.filterInfo.error,i.errorOccured=!0,e.isError=!0);t.isNullOrUndefined(r.filterInfo.configInfo)||(i.configInfo=JSON.parse(r.filterInfo.configInfo));t.isNullOrUndefined(r.filterInfo.dynamicData)||(i.dynamicData=JSON.parse(r.filterInfo.dynamicData));t.isNullOrUndefined(r.filterInfo.layout)||(i.layout=JSON.parse(r.filterInfo.layout));i.data.push(e);f=this.dashboardControls.getControlByReport(i.reportName);f!==null&&(f.customTheme!==null&&(i.customTheme=f.customTheme),!e.isError&&f.errorOccured&&(f.configInfo=i.configInfo,f.errorOccured=!1),i.SelectedFilterInfo=f.SelectedFilterInfo,i.SelectedItems=f.SelectedItems);switch(u){case"datepicker":i.controlType=t.dashboardFilterPanel.controls.DatePicker;i.maxMinData=i.dynamicData.Data;break;case"checkbox":case"radiobutton":i.controlType=u==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;i.scrollSetting.controlPerPage=100;i.totalCount=i.dynamicData.totalCount;break;case"rangeslider":i.controlType=t.dashboardFilterPanel.controls.RangeSlider;break;case"combobox":case"filtercombobox":i.controlType=t.dashboardViewer.Controls.FilterComboBox;i.data[0].selectedValues=i.dynamicData.SelectedValues;i.data[0].rowCount=i.dynamicData.totalCount;i.scrollSetting.controlPerPage=100;!t.isNullOrUndefined(i.dynamicData)&&i.dynamicData.SelectedValues!==null&&i.configInfo.SelectFirstItem&&(i.SelectedFilterInfo=t.isNullOrUndefined(i.dynamicData.SelectedValues)?[]:i.dynamicData.SelectedValues);break;case"listbox":i.controlType=t.dashboardViewer.Controls.ListBox;i.scrollSetting.controlPerPage=100;i.totalCount=i.dynamicData.totalCount}i.loadedPages=[];this.dashboardControls.updateCurrentReport(i)}this._renderWidgets(n)}else t.isNullOrUndefined(this.currentMasterWidget)||this._destoryAllLoaders()},_removeAllControlSelectedValues:function(n){var i=[],r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),r=0;r<i.length;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardFilterPanel.controls.ComboBox:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.ListBox:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},resizeFilterPanel:function(){for(var c=n(this.element).find(".e-dashboarddatepicker"),i=null,r=0,u,e,f,l,h,v,a,o,s,y,r=0;r<c.length;r++)i=c.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&c.eq(r).ejDashboardDatePicker({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"});for(u=n(this.element).find(".e-dropdownlist"),r=0;r<u.length;r++)i=u.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&(u.eq(r).ejDropDownList({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(u)||n("#"+n(u).attr("id")+"_popup_list_wrapper").css({"max-width":this.element.width()-this.currentTabContentElement.find("#"+n(u).attr("id")).offset().left+"px"})),i.height()!==t.DashboardConstants.Zero&&u.eq(r).ejDropDownList({height:"31px"});for(e=n(this.element).find(".e-slider"),f=0;f<e.length;f++)i=e.eq(f).parents(".e-dbrd-filter-wrapper"),l=this.dashboardControls.getControlByReport(i.attr("data-controlid")),i.width()!==t.DashboardConstants.Zero&&l&&(l.configInfo.orientation==="vertical"?e.eq(f).ejSlider({height:i.height()-120+"px"}):e.eq(f).ejSlider({width:i.width()-120+"px"}));for(h=n(this.element).find(".e-listbox"),v=n(this.element).find(".e-dbrd-control-listbox"),r=h.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--)i=h.eq(r).parents(".e-dbrd-filter-wrapper"),a=h.eq(r).attr("id"),o=n("#"+a).data("ejListBox"),!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&(o.option("height",i.height()-37+"px"),o.option("width",i.width()-15+"px")),v.eq(r).css({height:"100%",width:"100%"}),n("#"+a+"_container").css({width:"100%",height:"100%"});n(window).width()<768?this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"}):this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"});s=this;y=this.element.find(".e-dbrd-filter-banner").height();n(window).width()<768?this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}):(this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.filterpanelWrapper.ejScroller({height:this.element.height()-y+"px",width:this.element.width()-2+"px"}));setTimeout(function(){s.element.find("#"+s._id+"_layout_wrapper").data("ejScroller")&&s.element.find("#"+s._id+"_layout_wrapper").data("ejScroller").refresh()},1e3)},_createWidgetContainers:function(){var n,i;if(this.dashboardControls.controls.length!==t.DashboardConstants.Zero)for(n=0;n<this.dashboardControls.controls.length;n++)this._createWidgetContainer(this.dashboardControls.controls[n],n===this.dashboardControls.controls.length-t.DashboardConstants.One),n===t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-loader-outer-circle"),i.css({"box-shadow":"0px 1px 3px 0px rgba(0,0,0,0.26)"}))},_createWidgetContainer:function(i,r){var e='<div class="e-dbrd-filter-wrapper" id="'+this._id+"_cell_"+i.configInfo.Row+"_"+i.configInfo.Column+'" data-controlId="'+i.configInfo.Id+'" controlType="'+i.controlType+'"><div class="e-dbrd-control-container" style="position:relative" id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'"><div class="e-control-heading"><div class="e-dbrd-filterwidget-title-container"><div class="e-dbrd-filterwidget-title">'+(t.isNullOrUndefined(i.layout)?i.configInfo.Id:t.isNullOrUndefined(i.layout.DisplayName)?i.layout.ReportName:i.layout.DisplayName)+'<\/div><div class= "e-dbrd-filterwidget-icon-container"><div class="e-remove-control-filter e-dbrd-filter-hoverable e-remove-control-filter-disable e-dbrd-filterpanel-icon" data-tooltip="'+this.model.localeSettings.clearFilterText+'"><\/div><div class="e-dbrd-filterPanel-widget-withoutcomments e-dbrd-filter-hoverable e-dbrd-filterpanel-icon" data-widget-id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'" data-tooltip="'+this.model.localeSettings.comment+'"><\/div><\/div><\/div><\/div><div class ="e-dbrd-filter-control-wrapper"><div class = "e-dbrd-control"> <\/div><\/div>'+(r?"":'<div class = "e-dbrd-control-separater" ><hr  style = "margin: 0!important"/><\/div>')+"<\/div>",u=n(e),f;i.controlType===t.dashboardFilterPanel.controls.ListBox?n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:""+i.configInfo.VisibleItemCount*32+"px"}):i.controlType===t.dashboardFilterPanel.controls.CheckBox||i.controlType===t.dashboardFilterPanel.controls.RadioButton?n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"96px"}):n(u).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"50px"});this.model.allowComment?(f=n(u).find(".e-dbrd-filterPanel-widget-withoutcomments"),this._isWidgetCommented(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)&&f.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"),f.show()):n(u).find(".e-dbrd-filterPanel-widget-withoutcomments").hide();this.filterpanelContentWrapper.append(u)},_isWidgetCommented:function(n){for(var t=0;t<this.model.commentSettings.widgets.length;t++)if(this.model.commentSettings.widgets[t]===n)return!0;return!1},_initializeWidgets:function(){var r,i,f;if(!t.isNullOrUndefined(this.model.dataSource)&&this.model.dataSource.length!==t.DashboardConstants.Zero)for(var u="",e=t.DashboardConstants.Zero,n=null,e=t.DashboardConstants.Zero;e<this.model.dataSource.length;e++)if(r=this.model.dataSource[e],i={},n=new Dbrdcontrol,f=new dbrdcontrolData,n.isControlFilter=!0,u=r.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.filterId:r.filterId.substr(t.DashboardConstants.Zero,r.filterId.indexOf("_")),u=u.toLowerCase(),n.reportName=r.filterId,u===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||u===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||u===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||u===t.dashboardFilterPanel.controls.ListBox.toLowerCase()){n.currentPage=1;!t.isNullOrUndefined(r.filterInfo.data)&&r.filterInfo.data.length>0&&(f.pagedata=JSON.parse(r.filterInfo.data),n.errorOccured=!1,f.pageNumber=1,f.LastUpdateTime="");t.isNullOrUndefined(r.filterInfo.error)||(f.pagedata=r.filterInfo.error,n.errorOccured=!0,f.isError=!0);t.isNullOrUndefined(r.filterInfo.configInfo)||(n.configInfo=JSON.parse(r.filterInfo.configInfo));t.isNullOrUndefined(r.filterInfo.dynamicData)||(i=JSON.parse(r.filterInfo.dynamicData));t.isNullOrUndefined(r.filterInfo.layout)||(n.layout=JSON.parse(r.filterInfo.layout));n.data.push(f);switch(u){case"datepicker":n.controlType=t.dashboardFilterPanel.controls.DatePicker;n.maxMinData=i.Data;i.SelectedValues&&(n.SelectedFilterInfo=i.SelectedValues);this.dashboardControls.addControl(n);break;case"checkbox":case"radiobutton":n.controlType=u==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;n.scrollSetting.controlPerPage=200;n.totalCount=i.totalCount||200;t.isNullOrUndefined(i.SelectedValues)||(n.SelectedFilterInfo=i.SelectedValues);this.dashboardControls.addControl(n);break;case"rangeslider":n.controlType=t.dashboardFilterPanel.controls.RangeSlider;i.SelectedValues&&(n.SelectedFilterInfo=i.SelectedValues);this.dashboardControls.addControl(n);break;case"combobox":n.controlType=t.dashboardFilterPanel.controls.FilterComboBox;n.totalCount=i.totalCount||200;n.scrollSetting.controlPerPage=200;f.rowCount=i.totalCount||200;i.SelectedValues&&(n.SelectedFilterInfo=t.isNullOrUndefined(i.SelectedValues)?[]:i.SelectedValues);this.dashboardControls.addControl(n);break;case"listbox":n.controlType=t.dashboardViewer.Controls.ListBox;n.scrollSetting.controlPerPage=100;n.totalCount=i.totalCount;i.SelectedValues&&(n.SelectedFilterInfo=i.SelectedValues);this.dashboardControls.addControl(n)}this._setSelectedFitlerInfo(n)}},_setSelectedFitlerInfo:function(n){var i,r;if(!t.isNullOrUndefined(this.model.currentMasterReport)&&!t.isNullOrUndefined(n))for(i=0;i<this.model.currentMasterReport.length;i++)if(r=this.model.currentMasterReport[i],r.ReportName===n.reportName){n.SelectedFilterInfo.push(r);break}},_renderWidgets:function(n){var r,e,i,o,s,h,u,f;if(this.dashboardControls.controls.length===t.DashboardConstants.Zero){this._destoryAllLoaders();return}for(r=null,t.isNullOrUndefined(this.model.selectedData)||(r=this.model.selectedData),e=t.DashboardConstants.Zero;e<this.model.dataSource.length;e++){if(i=this.dashboardControls.getControlByReport(this.model.dataSource[e].filterId),o=!1,t.isNullOrUndefined(n))o=!0;else for(s=0;s<n.length;s++)if(n[s].filterId===i.reportName){o=!0;break}if(!t.isNullOrUndefined(i)&&i.reportName!==this.currentMasterWidget&&o){if(h=i.controlType,!t.isNullOrUndefined(r))for(u=0;u<r.length;u++)if(r[u].ReportName===i.reportName){i.SelectedFilterInfo.push(r[u]);break}switch(h){case"ComboBox":case"FilterComboBox":this._callFunction(this._renderFDropDownList,i);break;case"DatePicker":this._callFunction(this._renderDatePicker,i);break;case"RangeSlider":this._callFunction(this._renderRangeSlider,i);break;case"CheckBox":case"RadioButton":this._callFunction(this._renderCheckBoxandRadioButton,i);break;case"ListBox":this._callFunction(this._renderListBox,i)}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues)&&this.applyCustomThemeForWidgets()}}f=this;this.currentMasterWidget=null;this._callFunction(function(){f.model.enableVirtualLoading||f._initializeRelationships();f._destoryAllLoaders()});setTimeout(function(){f.flag=!0},500)},_destroyLoader:function(){var i=this.element.find(".e-dbrd-loader"),n,r;if(i.length!==t.DashboardConstants.Zero)for(n=t.DashboardConstants.Zero;n<i.length;n++)r=i.eq(n),r.remove()},_makeSlaveDataRequest:function(n){if(this.target=[],this.currentMasterWidget=n.master,!t.isNullOrUndefined(this.model.beforeFilterApplied)){var i=this.dashboardControls.getControlByReport(n.master);this._trigger("beforeFilterApplied",{data:n,selectedValue:i.SelectedFilterInfo,filterControls:this.dashboardControls,master:n.master})}},_removeControlFilter:function(i){var r=n(i.currentTarget),u;if(this.clearFilter=!0,!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),r.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n(i.currentTarget).hasClass("e-remove-control-filter-disable"))return;n(r).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(r).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}u=this.element.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&u.remove();var e=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")):n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")),f=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?r.parents(".e-dbrd-filter-wrapper"):r.parents(".e-dbrd-filter-wrapper"),o=n(f).attr("data-controltype");this.CurrentMaster=n(f).attr("data-controlId");this._removeAppliedFilter(e,o,i)},_removeAppliedFilter:function(i,r){var a,s,c,l,h,w,o;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);a=i+"_removeControlFilter";s=this.element.find("#"+a);t.isNullOrUndefined(s)&&s.length!==t.DashboardConstants.Zero||(s.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));var f=t.DashboardConstants.Zero,u=null,e=!1;switch(r){case"CheckBox":if(c=!n("#"+i).hasClass("e-dbrd-control-checkbox"),c)l=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+t.DashboardConstants.All+"]"),l.length!==t.DashboardConstants.Zero&&l.ejRadioButton("instance").option("checked",!0);else if(h=n("#"+i+" .e-checkbox.e-js.e-input"),h.length!==t.DashboardConstants.Zero)for(f=0;f<h.length;f++)h.eq(f).ejCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,c);break;case"RangeSlider":u=n("#"+i).data("ejSlider");t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.Zero]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":u=n("#"+i).ejDashboardDatePicker("instance");u&&(u.model.value=null,u.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":case"ComboBox":u=n("#"+i).data("ejDropDownList");var b=JSON.parse(JSON.stringify(this.dashboardParameters)),v="false",y="false",p=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;if(t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejListBox"),e=!1,t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(this.CurrentMaster,i+"_lstbx","",e,null);else{for(w=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],p.SelectFirstItem=!1,o=t.DashboardConstants.Zero;o<u.model.query._params.length;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}for(f=t.DashboardConstants.Zero;f<u.model.query._params.length;f++)u.model.query._params[f].key==="hasNull"?v=u.model.query._params[f].value:u.model.query._params[f].key==="hasEmpty"&&(y=u.model.query._params[f].value);u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",p.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",u._totalCount).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("selectedItems",JSON.stringify([])).addParams("searchSelectedCount",t.DashboardConstants.Zero).addParams("hasNull",v).addParams("hasEmpty",y).addParams("isPublic",this.isPublicDashboard).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(b))));u.clearText();u.option("watermarkText",t.DashboardConstants.All);this._onGlobalFilterChange(!1,u.model.showCheckbox,!0,this.CurrentMaster,null);u.model.change=w}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejListBox");e=!1;t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",e,null)}},_hideFilterPanel:function(){this.close()},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardfilterpanel"+this.model.cssClass);this._clearTimers()},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.element).find(".e-js").off())}catch(i){console(i.message)}},_destoryAllLoaders:function(){for(var i,r=this.element.find(".e-dbrd-loader"),n=0;n<r.length;n++)r.eq(n).remove();i=this.element.find(".e-dbrd-filterpanel-wrapper");t.isNullOrUndefined(i)||i.css({opacity:"1"})},_createControlLoader:function(i,r){var u,o,f,e;i.length!==t.DashboardConstants.Zero&&(t.isNullOrUndefined(r)&&(r=.5),u=i.find(".e-dbrd-loader"),u.length!==t.DashboardConstants.Zero?(u.show(),u.find("e-dbrd-loader-circle").css({zoom:r})):(o='<div class="e-dbrd-loader"><div class="e-dbrd-loader-outer-circle"><svg class="e-dbrd-loader-circle"><circle class="path" cx="24" cy="24" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div><\/div>',f=this.element.find(".e-dbrd-filterpanel-wrapper"),t.isNullOrUndefined(f)||f.css({opacity:"0.26"}),e=n(o),e.css({fill:"#FFFFFF",opacity:"1"}),i.append(e)))},_hideControlLoader:function(n){var i=n.find(".e-dbrd-loader");i.length!==t.DashboardConstants.Zero&&i.remove()},_checkMasterData:function(n){if(!t.isNullOrUndefined(this.masterData))for(var i=0;i<this.masterData.length;i++)if(this.masterData[i].Key===n)return i;return null},_showControlError:function(i,r,u){var f,e;t.isNullOrUndefined(i&&r&&u)||(f=r,f.hasClass("e-dbrd-layout-cell")&&(f=f.children()),e=f.siblings(".e-dbrd-control-error")||f.children(".e-dbrd-control-error"),f.children().hide(),e.length===t.DashboardConstants.Zero?(e=n("<div>").addClass("e-dbrd-control-error align-center"),e.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.model.localeSettings.knowMore).data({"error-msg":u.msg})),f.css({display:"table"}),e.css({"border-radius":f.parent().css("border-radius")}),e.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'>   Reload<\/button>").addClass("e-dbrd-refresh-link-btn").data({control:f})),f.append(e),e.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single")):e.show().html(i),f.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.hide(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-filter-control-wrapper").css({display:"table"}).append(n('<div style="margin-top:12px;" >').html(this.model.localeSettings.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").remove(),n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-dbrd-control").show(),!0)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,f,e,o;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),f=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),e=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.length===t.DashboardConstants.Zero?(u.children().hide(),f=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),e.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.model.localeSettings.NoData).addClass("e-nodata")),u.css({display:"table"}),f.append(e),u.append(f)):(u.children().hide(),f.show().html(this.model.localeSettings.NoData).addClass("e-nodata")),o=u.height()-e.height(),e.css({"margin-top":o/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.children().show(),u.css({display:"block"}),this._hideControlError(u),f.remove(),this.model.responsiveSettings.showMaximize?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),this.model.responsiveSettings.showExport?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),!0)},clearAppliedFilters:function(){var o=this.model.dataSource,e=null,f=null,u=null,r,i;if(o.length>t.DashboardConstants.Zero)for(r=this.element.find(".e-remove-control-filter-enable"),i=0;i<r.length;i++)r.eq(i).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable"),f=n(r[i]).attr("id"),e=f.substring(t.DashboardConstants.Zero,f.lastIndexOf("_")),u=n(r[i]).parents(".e-dbrd-filter-wrapper").attr("controlType"),u==="ComboBox"&&(u="FilterComboBox"),this._removeAppliedFilter(e,u)},_initializeRelationships:function(){for(var u=this.element.find(".e-dbrd-filter-control-wrapper").find(".e-dbrd-control"),r,u=u.add(n("#"+this._id+" input.e-FilterBox,div.e-FilterBox")).add(n("#"+this._id+" td.e-dbrd-slider-control div.e-slider")),i=0;i<this.controlRelations.length;i++)if(this.element.find("#"+this.controlRelations[i].Master).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master).length===t.DashboardConstants.One&&(this.controlRelations[i].Master=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master),this.controlRelations[i].Slaves.length>t.DashboardConstants.Zero)for(r=0;r<this.controlRelations[i].Slaves.length;r++)this.element.find("#"+this.controlRelations[i].Slaves[r]).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[r]).length===t.DashboardConstants.One&&(this.controlRelations[i].Slaves[r]=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[r])},_applyCustomTheme:function(){!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["background-color"])&&this.model.customThemeSettings.filterPanel["background-color"].length>t.DashboardConstants.Zero&&n(".e-dashboardfilterpanel").css({"background-color":this.model.customThemeSettings.filterPanel["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["separator-color"])&&this.model.customThemeSettings.filterPanel["separator-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-filter-banner").css({"border-bottom-color":this.model.customThemeSettings.filterPanel["separator-color"]}),this.element.find(".e-dbrd-control-separater hr").css({color:this.model.customThemeSettings.filterPanel["separator-color"]}));this._customThemeFontSettings();this._customThemeBannerSettings();this._customThemeForContainer()},_customThemeFontSettings:function(){var i,r;!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filter-title").css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.element[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-dbrd-filter-title").css("font-family",i["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-filter-title").css("font-size",this.model.customThemeSettings.fontSettings["font-size"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))},_customThemeBannerSettings:function(){!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["background-color"])&&this.model.customThemeSettings.bannerSettings["background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filter-banner").css({"background-color":this.model.customThemeSettings.bannerSettings["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["title-color"])&&this.model.customThemeSettings.bannerSettings["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filter-title").css({color:this.model.customThemeSettings.bannerSettings["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["icons-color"])&&this.model.customThemeSettings.bannerSettings["icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-filter-close").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}),this.element.find(".e-dbrd-filter-back").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["font-size"])&&this.model.customThemeSettings.bannerSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.css({"font-size":this.model.customThemeSettings.bannerSettings["font-size"]})},_customThemeForContainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var i=this.model.customThemeSettings.container,r="";!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(r=r+"background-color:"+i["background-color"]+" !important;");!t.isNullOrUndefined(i["border-radius"])&&i["border-radius"].length>t.DashboardConstants.Zero&&(r=r+"border-radius:"+i["border-radius"]+" !important;");!t.isNullOrUndefined(i["box-shadow"])&&i["box-shadow"].length>t.DashboardConstants.Zero&&(r=r+"box-shadow:"+i["box-shadow"]+"!important");n(".e-dbrd-control-container").each(function(){this.style.cssText=r});r="";!t.isNullOrUndefined(i["header-background-color"])&&i["header-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-control-heading").css({"background-color":i["header-background-color"]});!t.isNullOrUndefined(i["title-color"])&&i["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({color:i["title-color"]});!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({"font-size":i["font-size"]});!t.isNullOrUndefined(i["icons-color"])&&i["icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterpanel-icon").css({color:i["icons-color"]})}},applyCustomThemeForWidgets:function(){var r,i,f;if(!t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)&&n(this.model.customThemeSettings.widgetThemeSettings).length>t.DashboardConstants.Zero){var s=this.model.customThemeSettings.widgetThemeSettings,e=this.dashboardControls.controls,u=null,o=null;for(r=t.DashboardConstants.Zero;r<e.length;r++){if(u=e[r],!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues))for(i=t.DashboardConstants.Zero;i<this.model.customThemeSettings.widgetCustomThemeValues.length;i++)f=u.controlType.toLocaleLowerCase(),this.model.customThemeSettings.widgetCustomThemeValues[i].control===f&&(t.isNullOrUndefined(s[f])||(o=this.model.customThemeSettings.widgetCustomThemeValues[i].customThemeValue));this.customThemeForFiltersInPanel(u,o)}}},customThemeForFiltersInPanel:function(i,r){var h,l,c;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!=="")for(var f=null,u=null,s=this.dashboardControls.controls,f=t.DashboardConstants.Zero;f<s.length;f++)if(s[f].controlType===i.controlType&&s[f].reportName===i.reportName&&(h=i.isMaximize?i.Id:this._id+"_"+i.controlType+"_"+i.reportName,s[f].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(l=n("<style>").attr("id",h+"_style"),c=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],c!==null&&c[r]!==null))){var a=c[r],e=Object.keys(a),o=null;for(u=t.DashboardConstants.Zero;u<e.length;u++)t.isNullOrUndefined(o)?o=this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]):o+=" "+this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]);t.isNullOrUndefined(o)||(l.append(o),n("head").append(l))}},_generateCSSFromJson:function(n,i,r,u){var f=t.DashboardConstants.Zero,s=null,o=null,e=Object.keys(u),c,h;for(i==="PivotGrid"&&(n=n+"_div"),f=t.DashboardConstants.Zero;f<e.length;f++)if(c=this._getControlClassName(r,e[f],i,n),!t.isNullOrUndefined(c))for(h=c.split(","),o=t.DashboardConstants.Zero;o<h.length;o++)t.isNullOrUndefined(s)?s="#"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}":s+=" #"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}";return s},_getControlClassName:function(n,i,r,u){switch(r){case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":return"color";case"othermonth-font-color":case"range-color":return"background-color";case"highlight-color":return"border-color"}return n},open:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});this.element.show();this._trigger("filterPanelOpen",{dataSource:this.model.dataSource,element:this.element,controls:this.dashboardControls})},close:function(){this._trigger("beforeFilterPanelClose",{dataSource:this.model.dataSource,element:this.element});this.element.hide();this._trigger("filterPanelClose",{dataSource:this.model.dataSource,element:this.element})},getState:function(){return this.element.css("display")==="block"?t.dashboardFilterPanel.state.Open:t.dashboardFilterPanel.state.Closed},showLoader:function(){this._createControlLoader(this.element)},hideLoader:function(){this._hideControlLoader(this.element)}});t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.filters);t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.dropdownlist);t.isNullOrUndefined(t.dashboardViewer.core)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.core);t.dashboardFilterPanel.controls={RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",ComboBox:"ComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox"};t.dashboardFilterPanel.state={Open:"opened",Closed:"closed"};t.DashboardConstants={All:"All",SelectAll:"(Select All)",MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:768,Resolution:96,Window:window,Widget:"_Widget_"};t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget"}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine={_renderAuthPromptDialog:function(i){var r,f;if(!t.isNullOrUndefined(i)){var h='<div class="e-dbrd-dialog-content"><p class="e-datasource-name"><\/p><p class="e-error">'+this.locale.utils.InvalidCredentials+'<\/p><div class="e-input-container"><span><input type="text" name="username" class="e-text-box" placeholder="'+this.locale.utils.UserName+'"/><\/span><span><input type="password" name="password" class="e-text-box" placeholder="'+this.locale.utils.Password+'" /><\/span><\/div><\/div>',c='<div class="e-dbrd-dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-icon e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.AuthenticationRequired+'<\/strong><span class="e-dbrd-dialog-header-error">'+this.locale.utils.FixIssues+'<\/span><\/div><div class="e-dbrd-dialog-content-wrapper e-dbrd-control" id="'+this._id+'_authWindowWrapper"><div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" value="'+this.locale.utils.Open+'" class="e-dbrd-btn e-success" /><\/div><\/div>',u=n(c);for(r=0;r<i.AuthData.length;r++){var e=i.AuthData[r],o=n(h),s=o.find(".e-datasource-name");s.html(e.DataSourceName);s.attr({"data-name":e.DataSourceName});u.find(".e-dbrd-dialog-content-wrapper>div").append(o)}this.currentTabContentElement.append(u);n(this.currentTabContentElement).find(".e-dbrd-dialog .e-dbrd-control input:first").focus();f=this;this._on(this.currentTabContentElement,"keypress",function(i){i.keyCode===13&&n(f.currentTabContentElement).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&f._validateCredentials()});i.AuthData.length>t.DashboardConstants.One&&u.find("#"+this._id+"_authWindowWrapper").ejScroller({height:"135",orientation:"vertical"});this.model.enableCustomTheming&&this._customTheme(["popup"])}return null},_renderErrorMsgDialog:function(){var t='<div class="e-dbrd-dialog e-dbrd-alert" id="'+this._id+'_error_dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-warning-icon e-dbrd-popup-icon"><\/span><span class ="e-dbrd-error-text-close e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.Error+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-content-wrapper" id="'+this._id+'_error_dialog_content"><div class="e-dbrd-content"><button class="e-dbrd-showDetails">'+this.locale.utils.ShowDetails+'<\/button><div class="e-dbrd-stacktrace  e-dbrd-control" id="'+this._id+'_error_dialog_show_content"><\/div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" class="e-dbrd-btn-support" value="'+this.locale.utils.Clipboard+'" /><input type="button" value="'+this.locale.utils.Ok+'" class="e-dbrd-btn-ok e-success"/><\/div><\/div>',i=n(t);this.currentTabContentElement.append(i,n("<div class='e-dbrd-dialog-bgrnd'>"))},_renderGetLinkDialog:function(){var i='<div class="e-dbrd-dialog e-dbrd-alert e-dbrd-getlink" id="'+this._id+'_get_link_dialog"><div class="e-dbrd-dialog-heading"><strong class="e-dbrd-dialog-title">'+this.locale.utils.GetLink+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-share-content-wrapper e-dbrd-control" id="'+this._id+'_get_link_dialog_content"><div class="e-share-default">'+this.locale.utils.GetLinkContent+'<\/div><div style="padding-top:15px;display:flex;float:left;width:100%;"> <input class="e-share-text" onClick="this.select()" type="text" value="'+this.getCurrentViewUrl()+'"><button class="e-share-copy-btn e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Clipboard+'"><\/button><\/div><\/div>',t=n(i);this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove();this.currentTabContentElement.append(t,n("<div class='e-dbrd-dialog-bgrnd'>"));t.find("#"+this._id+"_get_link_dialog_content").ejScroller({height:"130",orientation:"vertical"})},_renderDashboardLayout:function(i,r){var u=0,f,e,o,s,h,c;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"layout"});return}if(t.isNullOrUndefined(this.dashboardParameters.data))for(f=0;f<r.d.length;f++)r.d[f].Key==="DashboardParameters"&&(this.dashboardParameters=JSON.parse(r.d[f].Value),this._loadDashboardParamData(this.dashboardControls.initialDashboardParameters));if(!t.isNullOrUndefined(r)){if(this.multiTabs===!1){for(u=0;u<r.d.length;u++)r.d[u].Key==="TabInformation"?this.dashboardDetails=JSON.parse(r.d[u].Value):r.d[u].Key==="Culture"&&(this.model.dashboardCulture=r.d[u].Value);t.isNullOrUndefined(this.dashboardDetails)||(e=this.dashboardDetails.length,e>t.DashboardConstants.One?this._createDashboardTabs(r):t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||e!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||e!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId))}if(this.stopRendering)return;if(this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]),r.d[0].Key===t.DashboardConstants.LoadedVersion&&r.d[0].Value!==null&&(this._errorOnHigherVersionReport(r.d[0].Value),this._destroyWaitingPopup()),r.d.length>t.DashboardConstants.Zero&&r.d[1].Key===t.DashboardConstants.RequireAuthentication&&r.d[1].Value!==null){this._renderAuthPromptDialog(JSON.parse(r.d[1].Value));this._destroyWaitingPopup();return}if(this.isWidget=r.d[6].Value,o=JSON.parse(r.d[1].Value),this.currentReport={layout:r.d,data:[]},this.multiTabs)for(s=this._privateFilterData,u=t.DashboardConstants.Zero;u<this.dashboardDetails.length;u++)if(this.dashboardDetails[u].DashboardId===this.model._selectedTabGuid&&this._hasPrivateFilterData&&!t.isNullOrUndefined(s[this.model._selectedTabGuid].masterData)){h=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(s[this.model._selectedTabGuid].masterData));this.model.currentMasterReport=h.masterData;this.dashboardControls.initialDashboardParameters=h.dashboardParams;break}r.d[9]&&r.d[9].Value.length>t.DashboardConstants.Zero&&r.d[9].Key==="Resources"&&(c=JSON.parse(r.d[9].Value),this._updateViewerResources(c));this.isExtendedLayout=o.ColumnCount===24;this.isWidget||this._drawBanner(r.d);this._setDashboardSize();this._trigger("beforeLayoutRender",{layoutData:this.currentReport.layout,tabId:this.dashboardName});this._drawLayout(o,r.d);this._renderErrorMsgDialog();this._trigger("afterLayoutRender",{layoutData:this.currentReport.layout,wrapperElement:this.currentTabContentElement.find("#"+this._id+"layout_wrapper"),tabId:this.dashboardName});this.multiTabs&&this.currentTabContentElement.data({rendered:"true"})}return null},_setDashboardSize:function(){var i,r;this.model.size&&(this.model.size.height?(this.dashboardHeight=this.model.size.height,this.containerHeight=n(this.currentTabContentElement).parent().height(),this.dashboardHeight=typeof this.dashboardHeight=="string"&&this.dashboardHeight.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerHeight/100*parseInt(this.dashboardHeight):parseFloat(this.dashboardHeight)):(i=null,this.multiTabs&&n(window).width()>767&&this.model.showTab?(i=this.element.height()-this.element.find(".e-tab .e-header").height(),this.element.find(".e-tab>.e-content").css({height:i+"px"}),this.dashboardHeight=this.element.find(".e-content").height()):this.dashboardHeight=this.element.height()));this.model.size&&(this.model.size.width?(this.dashboardWidth=this.model.size.width,this.containerWidth=n(this.currentTabContentElement).parent().width(),this.dashboardWidth=typeof this.dashboardWidth=="string"&&this.dashboardWidth.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerWidth/100*parseInt(this.dashboardWidth):parseFloat(this.dashboardWidth)):this.multiTabs?(r=this.element.width(),this.element.find(".e-tab.e-js>.e-content").css({width:r}),this.dashboardWidth=this.element.find(".e-content").width()):this.dashboardWidth=this.currentTabContentElement.width())},_updateViewerResources:function(n){if(!t.isNullOrUndefined(n))for(var i in n)n.hasOwnProperty(i)&&(t.isNullOrUndefined(this.locale.utils[i])?t.isNullOrUndefined(this.locale.errorMessages[i])||(this.locale.errorMessages[i]=n[i].replace(/[""]/g,"")):this.locale.utils[i]=n[i].replace(/[""]/g,""));return null},_errorOnHigherVersionReport:function(i){var r,u,o,f,h,e;if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorOnHigherVersionReportForMobile(i);else{if(this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.currentTabContentElement.css({position:"relative"})),r=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px","z-index":"100000"}),u=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,o=":",u.match(o)){f=u.substr(t.DashboardConstants.Zero,u.indexOf(":"));f=f.toLowerCase();var s=u.substr(u.indexOf(":")+t.DashboardConstants.One),c=this.errorHyperLink.replace("#errorCode","#"+f),l="<a href = "+c+" target= _blank>"+f+"<\/a>";r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(l+":"+s+i+")").attr({"data-tooltip":s+i+")"}),n("<div>").addClass("e-close-notification"))}else r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(u+i+")").attr({"data-tooltip":u+i+")"}),n("<div>").addClass("e-close-notification"));this.element.append(r);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);r.css({left:-(r.width()/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.dashboardWidth/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.currentTabContentElement.css({position:"relative"});h=r.html();e={errorDialog:h};this._trigger("beforePassiveErrorRender",e);r.html(e.errorDialog)}},_errorOnHigherVersionReportForMobile:function(i){var e,h,u,l,a,v,o;this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.currentTabContentElement.css({position:"relative"}));var f=n("<div>").addClass("e-errorDiv").css({width:"100%",height:"100%"}),s=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile").css({"z-index":"10001"}),r;if(r=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,e=null,h=":",r.match(h)){u=r.substr(t.DashboardConstants.Zero,r.indexOf(":"));u=u.toLowerCase();var c=r.substr(r.indexOf(":")+t.DashboardConstants.One),y=this.errorHyperLink.replace("#errorCode","#"+u),p="<a href = "+y+" target= _blank>"+u+"<\/a>";e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+c+i+')">'+p+":"+c+i+")<\/div>"}else e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+r+i+')">'+r+i+")<\/div>";l='<button class = "reload-button-mobile">RELOAD<\/button>';a='<div class = "e-error-icon"><\/div>'+e+l;s.append(a);f.append(s);this.currentTabContentElement.append(f);this._calculateErrorDialogSize();this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this.currentTabContentElement.css({position:"relative"});v=f.html();o={errorDialog:v};this._trigger("beforePassiveErrorRender",o);f.html(o.errorDialog)},_reloadDashboard:function(){this.loadLayout(null,!0)},_calculateErrorDialogSize:function(){var t=this.currentTabContentElement.find(".e-error-notification-mobile");t.css({"margin-left":-n(".e-error-notification-mobile").width()/2,"margin-top":-n(".e-error-notification-mobile").height()/2})},_noWidgetConfiguredMessage:function(){var t=n("<div>").attr({id:this._id+"_noWidgetConfigured"}).addClass("e-higher-popup"),i=n("<div>").attr({id:this._id+"_noWidgetCenterDiv"}).css({position:"absolute"});i.append(n("<div>").addClass("widget-error-icon"),n("<div>").addClass("e-higher-error-message").html(this.locale.utils.NoWidgetConfigured));t.append(i);this.currentTabContentElement.append(t);this._nowidgetPreviewAlign()},_nowidgetPreviewAlign:function(){var t=2,n=this.currentTabContentElement.find("#"+this._id+"_noWidgetCenterDiv");n.css({top:"0px",left:"0px"});n.css("top",this.element.height()/t-n.height()/t);n.css("left",this.element.width()/t-n.width()/t)},_showOrHideBannerIcons:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-icon-container");n(window).width()<t.DashboardConstants.MobileWidth?(i.find(".e-dbrd-banner-smallMenu").css({display:"block"}),i.find(".e-dbrd-banner-menu").css({display:"none"}),i.find(".e-dbrd-banner-refresh").css({display:"none"}),i.find(".e-dbrd-banner-link").css({display:"none"}),i.find(".e-dbrd-banner-params").css({display:"none"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"none"}),i.find(".e-dynamic-title-container").css({display:"none"})):(i.find(".e-dbrd-banner-menu").css({display:"block"}),i.find(".e-dbrd-banner-refresh").css({display:"block"}),i.find(".e-dbrd-banner-link").css({display:"block"}),i.find(".e-dbrd-banner-params").css({display:"block"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"block"}),i.find(".e-dynamic-title-container").css({display:"block"}),i.find(".e-dbrd-banner-smallMenu").css({display:"none"}))},_drawFilterOverviewBanner:function(){var i=this.currentTabContentElement.find(".e-dbrd-overview-banner"),f=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),u=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),r=null,e=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");n(window).width()<t.DashboardConstants.MobileWidth?(this.element.css({"overflow-y":"hidden"}),r=f.find(".e-dbrd-filterListMenu"),u.css({"overflow-y":this.model.enableWidgetMode||this.isWidget?"hidden":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),r.css("display")==="block"?(i.append(r),i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 0px 0px 0px"}),u.css({height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-i.height()})):i.css("display")==="block"?(i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 0px 0px 0px"})):(i.append(r),i.css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}))):(e.css({display:"none"}),r=i.find(".e-dbrd-filterListMenu"),f.append(r),i.css({display:"none"}),n("#"+this._id+"controlDescriptionDiv").remove(),this.currentTabContentElement.find(".e-dbrd-banner").css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),u.css({"overflow-y":"hidden",height:n("#"+this.element.attr("id")).height()}));this._dashboardData().isWidgetSpecific&&u.css({height:"auto","overflow-y":"hidden"})},_drawBanner:function(i){var a,u,s,f,h,p,w,e,l,y,d;if(!t.isNullOrUndefined(i)){for(a=!1,u=0,u=i.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--)s=i[u],s.Key===t.DashboardConstants.HasFilterPanel?this.hasFilterPanel=s.Value:s.Key===t.DashboardConstants.EnableComments&&(a=s.Value);f=n("<div>").addClass("e-dbrd-banner");this.multiTabs&&this.model.showTab&&f.addClass("e-dbrd-multitab-banner");var o=n("<div>").addClass("e-dbrd-banner-icon-container"),r=[],c=n("<div>").attr({id:this._id+"_filter",tabindex:"0"}).addClass("e-dbrd-filterListMenu");for(this.model.favoriteSettings.enabled&&(this.model.favoriteSettings.isFavorite?f.append(n("<div>").addClass("e-dbrd-dashboardfavIcon e-dbrd-hoverable  e-dbrd-bannerIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite})):f.append(n("<div>").addClass("e-dbrd-dashboardunfavIcon e-dbrd-hoverable  e-dbrd-bannerIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite}))),r.push({classname:"e-dbrd-banner-smallMenu e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons e-dbrd-hoverable",tabindex:"0",name:"menu",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datahtml2canvasignore:"true",display:"none"}),this.model.filterPanelSettings.showIcon&&this.hasFilterPanel&&r.push({classname:"e-dbrd-filter-icon e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",name:"filterPanel",tabindex:"0",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.ToggleFilterPanel,datahtml2canvasignore:"true"}),h=n("<div>").addClass("e-dynamic-title-container").append(n("<span>").addClass("e-dynamic-title"),n("<div>").addClass("e-dbrd-banner-description  e-dbrd-bannerIcon").attr({role:"button","aria-label":"description","data-tooltip":this.locale.utils.DashboardDescription,"data-html2canvas-ignore":"true",tabindex:"0"})),r.push({classname:"e-dbrd-banner-menu e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"menu",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.Export,datahtml2canvasignore:"true"}),r.push({classname:"e-dbrd-banner-refresh e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"refresh",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:"Update Dashboard",datatooltip:this.locale.utils.UpdateDashboard,datahtml2canvasignore:"true"}),this.model.showGetLinkIcon&&r.push({classname:"e-dbrd-banner-link e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"Share",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:"Share",datatooltip:this.locale.utils.GetLink,datahtml2canvasignore:"true"}),this.dashboardParameters.showIcon&&!this.multiTabs&&r.push({classname:"e-dbrd-banner-params  e-dbrd-hoverable e-dbrd-bannerIcon",removeClass:"e-dbrd-banner-icons",tabindex:"0",name:"dashboardParameters",role:"button",oncontextmenu:"return false",arialhaspopup:"true",arialabel:this.locale.utils.DashboardParameters,datatooltip:this.locale.utils.DashboardParameters,datahtml2canvasignore:"true"}),this.model.allowComment&&a&&(this.model.commentSettings.isDashboardCommented?r.push({classname:"e-dbrd-banner-dashboardwithcomment",float:"right",name:"comment",removeClass:"e-dbrd-banner-icons",tabindex:"0",role:"menu",ariahaspopup:"true",datatooltip:this.locale.utils.Comment,arialabel:"Dashboard Options",datahtml2canvasignore:"true"}):r.push({classname:"e-dbrd-banner-dashboardwithoutcomment e-dbrd-hoverable",name:"comment",float:"right",removeClass:"e-dbrd-banner-icons",tabindex:"0",role:"menu",ariahaspopup:"true",arialabel:"Dashboard Options",datatooltip:this.locale.utils.Comment,datahtml2canvasignore:"true"})),p=this.model._selectedTabGuid?this.model._selectedTabGuid:null,w=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,this._trigger("beforeDashboardIconRendered",{iconsinformation:r,tabId:p,dashboardPath:w,tabName:this.dashboardName}),u=0;u<r.length;u++)o.append(n("<div>").addClass(r[u].classname+" e-dbrd-banner-icons e-dbrd-hoverable").removeClass(r[u].removeClass).attr({tabindex:r[u].tabindex,name:r[u].name,"data-tooltip":r[u].datatooltip,"aria-haspopup":r[u].ariahaspopup,"aria-label":r[u].arialabel,oncontextmenu:r[u].oncontextmenu,"data-html2canvasignore":r[u].datahtml2canvasignore}).css({float:r[u].float,"margin-top":r[u].margintop,"margin-right":r[u].marginright,display:r[u].display}));o.append(n("<div>").addClass("e-banner-verticalsplitline  e-dbrd-bannerIcon ").css({display:"none"}),c.append(n("<span>").addClass("e-dynamic-title-moreFilter"),n("<span>").html(t.DashboardConstants.FilterOverview).addClass("e-dynamic-title-display"),n("<span>").addClass("e-dynamic-filterdroparrow")).attr({"aria-label":"Filters Applied"}));var b=n.parseJSON(i[3].Value),v=n("<span>"),k=t.EjSvgRender.utils._measureText(v[0].innerText,100,{size:"14",fontStyle:"Normal",fontFamily:"Roboto"}).width;this._appendControlTitle(b.Title,b.Parameters,v);e=n("<div>").attr({role:"heading","aria-label":"Dashboard Title",oncontextmenu:"return false"}).addClass("e-dbrd-banner-title").html(v).css({"line-height":"35px"});k>50?e.css({"min-width":"50px"}):e.css({"min-width":k});f.append(e,o,h,n("<div>").addClass("e-dbrd-banner-filters e-dbrd-banner-filter").addClass("e-dbrd-banner-filter"));this.currentTabContentElement.append(f);this.isExtendedLayout&&f.css({position:"relative"});l=n("<div>").addClass("e-dbrd-overview-banner");n(window).width()<t.DashboardConstants.MobileWidth&&c.length!==t.DashboardConstants.Zero?(l.append(c),this.currentTabContentElement.append(l)):this.currentTabContentElement.append(l);this.model.enableCustomTheming&&this._customTheme(["banner"]);this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&o.remove();this._showOrHideBannerIcons();c.css({visibility:"visible"}).hide();this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(y=null,y=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),d=f.width()-o.width()-h.width()-y-parseInt(e.css("margin-left"))-10+"px",e.css({"white-space":"pre","max-width":d,width:"auto"})):n(window).width()<t.DashboardConstants.MobileWidth&&this.multiTabs?e.css({"white-space":"pre","max-width":f.width()-o.width()-h.width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-10+"px",width:"auto"}):e.css({"white-space":"pre","max-width":f.width()-o.width()-h.width()-12+"px",width:"auto"});this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth&&e.css({"margin-left":"0px"})}return null},_toolBarManipulation:function(i){var f,o,e,l,u;if(!t.isNullOrUndefined(i)){var s=null,h=null,c=null,r=[];if(!i[0].layoutInformation.IsMaster||this.isWidget||this.model.enableWidgetMode||r.push({role:"button",removeClass:"e-dbrd-widget-icons",ariadisabled:"false",name:"filter",id:this._id+i[0].layoutInformation.ReportName+"_filter",classname:"e-remove-control-filter-disable e-remove-control-filter",arialabel:this.locale.utils.ClearMasterFilter,datatooltip:this.locale.utils.ClearMasterFilter}),i[0].layoutInformation.Label.EnableComment&&this.model.allowComment){for(f={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"comment",id:this._id+i[0].layoutInformation.ReportName+"_comment",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"maximize",datatooltip:this.locale.utils.Comment,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datawidgetid:i[0].layoutInformation.Guid},o=this.model.commentSettings.widgets,e=t.DashboardConstants.Zero;e<o.length;e++)if(i[0].layoutInformation.Guid===o[e]){f.classname="e-dbrd-banner-widget-withcomments";break}else f.classname="e-dbrd-banner-widget-withoutcomments";this.isWidget&&this.model.commentSettings.isWidgetCommented&&(f.classname="e-dbrd-banner-widget-withcomments");r.push(f)}for(this._widgetIconInformation(i,r),l=i[0].layoutInformation,s=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),c=parseInt(i[0].controlTitle.css("min-width")),h=Math.round((s-c)/21),this._trigger("beforeWidgetIconRendered",{iconsinformation:r,widgetInformation:l,isFilterWidget:this.isFilterWidget,visibleIconsCount:h,tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),u=0;u<r.length;u++)i[0].controlProp.append(n("<div>").attr({tabindex:r[u].tabindex,name:r[u].name,id:r[u].id,"aria-disabled":r[u].ariadisabled,"aria-haspopup":r[u].ariahaspopup,role:r[u].role}).addClass(r[u].classname).addClass(r[u].menuIcon).addClass("e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon e-dbrd-widget-icons").removeClass(r[u].removeClass).css({"margin-top":r[u].margintop,display:r[u].display,"margin-right":r[u].marginright}).attr({"aria-label":r[u].arialabel,"data-tooltip":r[u].datatooltip,type:r[u].type,value:r[u].value,"data-widget-id":r[u].datawidgetid}).html(r[u].html))}},_triggerCustomEvent:function(t){this._trigger("customIconCliked",{event:t,reportGuid:n(t.target).attr("data-widget-id"),iconName:n(t.target).attr("icon-name")})},_setRefreshSettings:function(n){var r;if(!t.isNullOrUndefined(n)){this.model._isLiveData=!1;var f=[],i=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero;if(n=this._replaceRefreshSettingAPIValues(n),!t.isNullOrUndefined(n))if(this.multiTabs)for(this.model.autoRefreshSettings=[],u=i;u<n.length;u++)r=n[u],n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(r.widgets)),t.isNullOrUndefined(r.autoRefresh)&&this.model.autoRefreshSettings.push(n[u]),r.autoRefresh&&(this.model.enableAutoRefresh=!0,this.model.autoRefreshSettings.push({tabName:r.tabName,tabIndex:r.tabIndex,intervalSettings:this._getAutoRefreshIntervalCollection(r.intervalSettings),showWaitingIndicator:!0,isWidgetSpecific:r.isWidgetSpecific,widgets:f.length>t.DashboardConstants.Zero?f:r.widget.length===t.DashboardConstants.Zero?[]:r.widget,trackData:r.trackData}));else t.isNullOrUndefined(this.model.autoRefreshSettings[i].intervalSettings)||!n[i].autoRefresh||t.isNullOrUndefined(n[i].autoRefresh)||(n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(n[i].widgets)),this.model.enableAutoRefresh=!0,this.model.autoRefreshSettings[i].intervalSettings=this._getAutoRefreshIntervalCollection(n[i].intervalSettings),this.model.autoRefreshSettings[i].widgets=f.length>t.DashboardConstants.Zero?f:n[i].widget,this.model.autoRefreshSettings[i].isWidgetSpecific=n[i].isWidgetSpecific,this.model.autoRefreshSettings[i].trackData=n[i].trackData,this.model.autoRefreshSettings[i].showWaitingIndicator=!1)}return null},_replaceRefreshSettingAPIValues:function(n){for(var r,f,u=!1,i=t.DashboardConstants.Zero;i<this.model.autoRefreshSettings.length;i++)if(this.model.enableAutoRefresh){for(r=t.DashboardConstants.Zero;r<n.length;r++)if(this.multiTabs&&t.isNullOrUndefined(this.model.autoRefreshSettings[i].tabName)&&(this.model.autoRefreshSettings[i].tabName=this.dashboardDetails[t.DashboardConstants.Zero].DashboardDisplayName,this.model.autoRefreshSettings[i].tabIndex=t.DashboardConstants.Zero),this.model.autoRefreshSettings[i].tabName===n[r].tabName){this.model.autoRefreshSettings[i].widgets.length===t.DashboardConstants.Zero&&(f=n[r].widget.length>t.DashboardConstants.Zero?n[r].widget:n[r].widgets.length>t.DashboardConstants.Zero?n[r].widgets:[],this.model.autoRefreshSettings[i].widgets=f);n[r]=this.model.autoRefreshSettings[i];u=!0;break}else if(!this.multiTabs){n[r]=this.model.autoRefreshSettings[i];u=!0;break}u||n.push(this.model.autoRefreshSettings[i])}return n},_getAutoRefreshIntervalCollection:function(n){var r,i,u,e,o,f;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero)for(r={},i=[],u=t.DashboardConstants.Zero;u<n.length;u++){i=t.isNullOrUndefined(n[u].mode)?n[u].intervalSettings:n[u];switch(i.mode){case t.dashboardViewer.refreshTimer.mode.hourly:r={mode:i.mode,hourlySchedule:i.hourlySchedule};break;case t.dashboardViewer.refreshTimer.mode.daily:r={mode:i.mode,dailySchedule:i.dailySchedule};break;case t.dashboardViewer.refreshTimer.mode.weekly:for(e=i.weeklySchedule.weekDay,o=[],f=0;f<e.length;f++)o.push(parseInt(e[f]));i.weeklySchedule.weekDay=o;r={mode:i.mode,weeklySchedule:i.weeklySchedule};break;case t.dashboardViewer.refreshTimer.mode.monthly:r={mode:i.mode,monthlySchedule:i.monthlySchedule};break;case t.dashboardViewer.refreshTimer.mode.yearly:r={mode:i.mode,yearlySchedule:i.yearlySchedule}}t.isNullOrUndefined(n[u].id)?n=r:n[u].intervalSettings=r}return n},_appendControlTitle:function(i,r,u){var s=i,f,o,e;if(!t.isNullOrUndefined(r)){for(f=0;f<r.length;f++){if(o=s.split(r[f].ParameterText),o.length!==t.DashboardConstants.Zero&&(u.append(o[0]),o.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),r[f].ParameterText==="{{:UpdatedTime}}")u.append(n("<span>").html("").addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));else if(r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound){e=null;switch(!0){case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMinutes+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanHours+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Hours;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanDays+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Days;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanWeeks+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Weeks;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMonths+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Months;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanYears+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Years;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;default:u.append(n("<span>").html(r[f].ParameterText).addClass("e-dbrd-param-column").css({"font-weight":"normal"}).attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}))}}else u.append(n("<span>").html(t.DashboardConstants.All).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));s=o.join(" "+r[f].ParameterText+" ")}u.append(s)}return null},_getControlTitleAlignment:function(n){switch(n){case 0:return"e-textalign-left";case 1:return"e-textalign-center";case 2:return"e-textalign-right";case 3:return"e-textalign-center"}return"e-textalign-center"},_inactiveFooterWidth:function(){var t=null,i=null;t=n("#"+this._id+"_InActiveDiv").width();i=this.currentTabContentElement.find(".e-dbrd-inactive-footer").width(t*80/100);this.currentTabContentElement.find(".e-dbrd-inactive-footer-description").width(i.width())},_showFilterPanel:function(i){var o,s,h,u;if(this.filterPanelId=this._id+"_filter_panel",this.filterPanelDiv=null,this.externalFilterPanel=!1,o=null,t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-icons")?t.isNullOrUndefined(i)||n(i.target).removeClass("e-dbrd-icons"):n(i.target).addClass("e-dbrd-icons"),t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(o=this.model.filterPanelSettings.filterPanelId,this.externalFilterPanel=!0),this.externalFilterPanel&&n("#"+o).length!==t.DashboardConstants.Zero?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),n("#"+o).append(this.filterPanelDiv)):t.isNullOrUndefined(this.filterPanelObj)?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),this.currentTabContentElement.append(this.filterPanelDiv)):this.filterPanelDiv=n("#"+this.filterPanelId),s=this.model.showTab?this.element.find(".e-tab>.e-header").height():null,t.isNullOrUndefined(s)&&(s=0),h=null,u=null,this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.filterPanelSettings)&&(h=this.model.enableCustomTheming,u=this.model.customThemeSettings.filterPanelSettings,t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)||(u.widgetThemeSettings=this.model.customThemeSettings.widgetThemeSettings,u.widgetCustomThemeValues=this.filterPanelCustomThemeCol)),t.isNullOrUndefined(this.filterPanelObj)){this.externalFilterPanel||this.filterPanelDiv.css({overflow:"hidden",float:"right",height:"99%","min-width":"250px",width:"20%",position:"absolute",top:s+"px",right:"0px"});var r=this,f=this.currentTabContentElement.width()-250,e=this.currentTabContentElement.width()*.2<250;this.filterPanelObj=this.filterPanelDiv.ejDashboardFilterPanel({showHeader:this.model.filterPanelSettings.showHeader,showCloseIcon:this.model.filterPanelSettings.showCloseIcon,dataSource:this.tempDataForFilter,controlRelations:this.controlRelations,externalFilterPanel:this.externalFilterPanel,currentMasterReport:this.model.currentMasterReport,allowComment:this.model.allowComment,currentUser:this.currentUser,commentSettings:this.model.commentSettings,viewerLocale:this.locale,enableCustomTheming:h,customThemeSettings:u,enableVirtualLoading:t.isNullOrUndefined(this.model.enableVirtualLoading)?null:this.model.enableVirtualLoading,_isPublic:this.isPublicDashboard,_itemId:this.itemId,dashboardName:this.dashboardName,serviceUrl:this.serviceUrl(),dashboardPath:this.dashboardPath(),dashboardParameterSettings:this.dashboardParameters,size:{height:"99%"},beforeWidgetRender:n.proxy(function(n){r._trigger("beforeWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onWidgetCommented:n.proxy(function(n){r._trigger("onWidgetCommented",{event:n.event,reportGuid:n.reportGuid,tabId:r.dashboardName})},this),filterPanelOpen:n.proxy(function(n){r._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}});r.isFilterPanelOpen=!0;r.preventFilterPanelEvents||r._trigger("filterPanelOpen",n);r._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}})},this),afterWidgetRender:n.proxy(function(n){r._trigger("afterWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onDropDownSearch:n.proxy(function(n){r.doAjaxPost(n.data)},this),beforeFilterApplied:n.proxy(function(n){r._updateDashboardControls(!0);r._makeSlaveDataRequest(n.data)},this),beforeFilterPanelOpen:n.proxy(function(i){n(window).width()<t.DashboardConstants.MobileWidth?r.filterPanelDiv.css({left:"0","z-index":"1000",width:"100%"}):r.externalFilterPanel||(r.isExtendedLayout?(r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:e?""+f+"px":"80%"}),r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"99%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})):(r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"79%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})));r.preventFilterPanelEvents||r._trigger("beforeFilterPanelOpen",i)},this),beforeFilterPanelClose:n.proxy(function(n){r.preventFilterPanelEvents||r._trigger("beforeFilterPanelClose",n)},this),filterPanelClose:n.proxy(function(n){r._closeFilterPanel(n)},this),loaded:n.proxy(function(n){for(var t=0;t<n.controls.length;t++)r.dashboardControls.addControl(n.controls[t]);r._initializeRelationships();n.model.controlRelations=n.instance.controlRelations=r.controlRelations;n.model.dashboardName=n.instance.dashboardName=r.dashboardName;n.instance._initializeRelationships()},this)}).data("ejDashboardFilterPanel");this._resizeFilterWidgetTitle();setTimeout(function(){var n,i;if(r._initializeRelationships(),!t.isNullOrUndefined(r.filterPanelObj))for(n=0;n<r.filterPanelObj.dashboardControls.controls.length;n++)i=r.dashboardControls.getControlByReport(r.filterPanelObj.dashboardControls.controls[n].reportName),i===null&&r.dashboardControls.addControl(r.filterPanelObj.dashboardControls.controls[n])},this.tempDataForFilter?this.tempDataForFilter.length:10)}else this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open?this.filterPanelObj.close():(this.filterPanelObj.refreshData(this.tempDataForFilter),this.filterPanelObj.open(),this.filterPanelObj.resizeFilterPanel());this.externalFilterPanel&&this._on(this.filterPanelDiv,"click",this._closeCommentDialog);n(window).width()>=t.DashboardConstants.MobileWidth?this._resizeDashboard():this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"fixed","overflow-y":"auto",width:"100%",height:"100%","max-height":this.element.height()}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"20px"}));this.filterPanelObj.resizeFilterPanel()},_closeFilterPanel:function(i){(!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open||this.isFilterPanelOpen)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}),this.isFilterPanelOpen=!1,n("#"+this._id).find(".e-dbrd-filter-icon").hasClass("e-dbrd-icons")&&n("#"+this._id).find(".e-dbrd-filter-icon").removeClass("e-dbrd-icons"),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:""}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),n(window).width()>=t.DashboardConstants.MobileWidth&&this._resizeDashboard(),this.preventFilterPanelEvents||this._trigger("filterPanelClose",i),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}))}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine.render={_resizeDashboard:function(i){var c,s,h,b,k,l,y,ut,lt,ft,at,u,o,f,et,d,vt,g,yt,pt,p,a,ot,st,ht,wt,nt,tt,it,v,bt;this._clearTimers();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.resize,source:{element:i,data:null}});this._trigger("resizeDashboard",{event:i});this._destroyContextMenu();this._destroyDashboardMenu();this._destroyControlMenu();this._destroyInteractionMenu();(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);this._setDashboardSize();this._calculateExportDialogSize();this._mobileKeyBoardScroll();this._calculateErrorDialogSize();c=null;s=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.multiTabs&&this._hideResPopup();this.multiTabs&&this._resizeContentPadding();var r=0,w=0,e=0,rt=null;for(!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&!window.isExportPdf&&this.isExtendedLayout&&(this.dashboardHeight=this.exportImageHeightForExtendedLayout),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(e=40,rt=Math.max(e,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/12)):(e=80,rt=Math.max(e,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"))),h=this.currentTabContentElement.find(".e-dbrd-control"),b=0;b<h.length;b++)for(k=this.element.find(".e-dbrd-widget-menu"),l=n(h[b]).parent(".e-dbrd-control-container"),y=0;y<k.length;y++)if(!t.isNullOrUndefined(l.attr("type"))&&l.attr("type")===n(k[y]).attr("type")){ut=n(k[y]);n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?ut.css({display:"block"}):ut.css({display:"none"});var ct=l.children(),kt=ct.find(".e-control-title"),dt=ct.find(".e-control-subtitle");l.attr("type")===t.dashboardViewer.Controls.RangeSlider&&(lt=10,l.find(".e-dbrd-control").css({height:"100%"-(kt.height()+dt.height()+lt)+"px"}))}if(n(window).width()>=t.DashboardConstants.MobileWidth)for(ft=this.currentTabContentElement.find(".e-dbrd-layout-cell"),r;r<ft.length;r++)at=ft.eq(r),at.css({height:rt});for(this.model.size.width&&this.element.css({width:this.dashboardWidth}),this.model.size.height&&this.element.css({height:this.dashboardHeight}),u=null,r=0,r=0;r<h.length;r++)u=h.eq(r),n(window).width()<t.DashboardConstants.MobileWidth?u.parents(".e-dbrd-containerWrapper").eq(0).css({height:"100%",width:"100%"}):u.parents(".e-dbrd-containerWrapper").eq(0).css({height:u.parents(".e-dbrd-layout-cell").eq(0).attr("rowspan")+"00%",width:u.parents(".e-dbrd-layout-cell").eq(0).attr("colspan")+"00%"});if(n(window).width()<t.DashboardConstants.MobileWidth){for(o=null,r=0;r<h.length;r++)u=h.eq(r),c=u.parents(".e-dbrd-control-container"),e=this._defaultLayoutCellHeight(c),o=this.isWidget||this.model.enableWidgetMode?Math.max(e,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount")):Math.max(e,this.dashboardHeight/this.totalColumn),o===e&&this.element.css({"overflow-y":"auto"}),f=u.parents(".e-dbrd-layout-cell"),f.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?f.css({height:f.attr("rowspan")*o}):(et=this._heightOfCell(u.parents().eq(0).attr("type"),o),f.css({height:f.attr("rowspan")*o>et?f.attr("rowspan")*o:et})):(w=f.width(),f.width()>n(window).height()&&(w=n(window).height()),f.css({height:w}));if(this.model.enableWidgetMode){for(s=n(".e-bottom-line"),d=0;d<s.length;d++)s.eq(d).css({display:"none"});vt=this.currentTabContentElement.find(".e-dbrd-layout-cell");vt.css({height:o})}}if(this.model.enableWidgetMode)for(s=n(".e-bottom-line"),g=0;g<s.length;g++)s.eq(g).css({display:"none"});if(this.currentTabContentElement.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),this.currentTabContentElement.find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")),yt=this.currentTabContentElement.find("#"+this._id+"_filter_overview_dialog"),yt.css("display")==="block"&&(pt=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),this._filterDlgPosition(pt)),p=this.currentTabContentElement.find(".e-dbrd-control-nodatainfo"),a=0,p)for(a;a<p.length;a++)p.eq(a).css({height:"100%"}),p.eq(a).find(".align-center").css({display:"table-cell"});if(ot=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper"),ot.length!==t.DashboardConstants.Zero&&(st=ot.find(".e-dbrd-filter-view-loader"),ht=this.currentTabContentElement.find("#"+this._id+"_filter"),ht.length===t.DashboardConstants.Zero?st.css({left:"85%"}):st.css({left:ht.offset().left-25+"px"})),!this.isPrintTriggered){if(t.isNullOrUndefined(this.previousDashboardSize)){if(this.previousDashboardSize.width===this.dashboardWidth&&this.previousDashboardSize.height===this.dashboardHeight)return;this.previousDashboardSize.width=this.dashboardWidth;this.previousDashboardSize.height=this.dashboardHeight}else this.previousDashboardSize={height:this.dashboardHeight,width:this.dashboardWidth};for(this.flag=!1,w=t.DashboardConstants.Zero,c=this.currentTabContentElement.find(".e-dbrd-control-container"),wt=15,(this.isWidget||this.model.enableWidgetMode)&&(c.css({width:this.model.size.width?this.dashboardWidth:"100%"}),c.css({height:this.model.size.height?parseInt(this.dashboardHeight-wt)+"px":"100%"})),nt=!1,tt=null,this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero&&(n("#"+this._id+"_InActiveDiv").css({width:this.dashboardWidth,height:this.dashboardHeight}),nt=!0,n(window).width()>t.DashboardConstants.MobileWidth&&this._inactiveFooterWidth(),tt=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),tt.css({height:this.dashboardHeight*.9-120})),it=n(this.currentTabContentElement).find(".e-dashboarddatepicker"),v=null,r=0;r<it.length;r++)v=it.eq(r).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(v.width())||v.width()===t.DashboardConstants.Zero||it.eq(r).ejDashboardDatePicker({width:v.width()-(v.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"});this._resizemMaximizedControlTitle();bt=this;this._resizeRangeSlider();this._resizeMaximizedComboChart(nt);this._resizeChart();this._showOrHideIcons();this._resizeWidgetTitle();this._showOrHideBannerIcons();this._drawFilterOverviewBanner();this._resizeLayout();this._filterPanelResize();this._resizeFilterWidgetTitle();this._resizeWidget(nt,tt);this._resizeMaximizedGrid();this._resizeLabel();this._resizeRangeNavigator();this._resizeCustomWidget();this._resizePivotGrid();this._resizeDropDown();this._resizeMaximizeControl();this._resizeListBox();this._resizeDatePicker();this._resizeImage();this._resizeTreeMap();this._callFunction(this._mapResponsive);this._callFunction(function(){bt.flag=!0});this._resizeTitle();this._resizeErrorDialog();this._mobileExportDropdownResize();this._nowidgetPreviewAlign();this._showGetLinkIcon();this._resizeGetLinkDialog();this._resizeDashboardParametersDialog();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.resizeComplete,source:{element:i,data:null}})}},_defaultLayoutCellHeight:function(n){var i=n.find(".e-control-subtitleHeading").find(".e-control-subtitle");return i.length!==t.DashboardConstants.Zero?105:this.isExtendedLayout?40:80},_resizemMaximizedControlTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-inactive-header"),r=i.find(".e-dbrd-maxControl-title"),u=i.find(".e-dbrd-maximize-controlprop");i&&r&&u&&(r.width()>=i.width()-u.width()?r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}):r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.css({"max-width":"100%",width:"100%"}))},_resizeRangeSlider:function(){var i=this;this.timers.push(setTimeout(function(){for(var u,e,f=n(i.currentTabContentElement).find(".e-slider"),r=0;r<f.length;r++)u=f.eq(r).parents(".e-dbrd-containerWrapper"),e=i.dashboardControls.getControlByReport(u.attr("data-controlid")),u.width()!==t.DashboardConstants.Zero&&e&&(e.configInfo.orientation==="vertical"?f.eq(r).ejSlider({height:u.height()-120+"px"}):f.eq(r).ejSlider({width:u.width()-120+"px"}))},0))},_resizeMaximizedComboChart:function(i){var u=null,r;i&&(r=n(this.currentTabContentElement).find(".e-dbrd-MaximizedControl"),r.attr("data-controlid").indexOf("ComboChart")!==t.DashboardConstants.IndexLowerBound&&(u=r.data("ejScroller"),r.hasClass("e-chartseries")&&u&&(u.option("height",r.height()),u.refresh())))},_resizeChart:function(){var i=this;this.timers.push(setTimeout(function(){for(var e,o,u,r=null,s=n(i.currentTabContentElement).find(".e-dbrd-control.dashboardChartControl"),f=0;f<s.length;f++)r=s.eq(f),e=r.data("ejChart"),t.isNullOrUndefined(e)||e.redraw(),o=i.dashboardControls.getControlByReport(r.attr("data-controlid")),u=r.data("ejScroller"),o&&o.controlType===t.dashboardViewer.Controls.ComparisonChart&&r.hasClass("e-chartseries")&&u&&(u.option("height",r.height()),u.refresh())},0))},_resizeLayout:function(){var i=0,e=0,o=12,s=80,u=3,r,f;this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(e=40,i=Math.max(e,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/o),this.heightOfCell=i,this.pageHeight=i*o):i=Math.max(s,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?i===s?this.multiTabs&&!this.model.showTab?(this.element.find(".e-dbrd-layout-wrapper").css({height:this.element.height()-this.element.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):(this.element.find(".e-dbrd-tab-wrapper").css({height:this.element.height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),"overflow-y":"hidden"})):(this.element.find(".e-dbrd-tab-wrapper").css({height:this.element.height()}),this.multiTabs&&this.currentTabContentElement.css({height:this.element.height()}));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.multiTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.element.height()}),this.currentTabContentElement.css({"max-width":t.DashboardConstants.MinimumWidth,"overflow-x":"auto","overflow-y":"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:t.DashboardConstants.MinimumWidth}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:t.DashboardConstants.MinimumWidth})):(this.currentTabContentElement.css({"max-width":"",overflow:"hidden"}),this.multiTabs&&this.currentTabContentElement.css({height:"auto"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth&&(n(window).height()!==this.previousDashboardSize.height&&Math.max.apply(Math,this.pageInfo)!==t.DashboardConstants.One&&this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0),r=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejScroller"),t.isNullOrUndefined(r)?this.actualPages.length!==t.DashboardConstants.One&&(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").ejScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u),orientation:"vertical",scrollerSize:7,buttonSize:0}),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this._initializeDashboardScroller(this.currentTabContentElement.find(".e-dbrd-layout-wrapper")),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"})):(r.option("height",this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)),r.refresh(),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()))):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.multiTabs&&this.currentTabContentElement.css({height:"auto"}),this.isExtendedLayout&&(this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),f=this.currentTabContentElement.find(".e-dbrd-layout-wrapper.e-scroller").data("ejScroller"),t.isNullOrUndefined(f)||(f.destroy(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0))))},_resizeWidget:function(n,t){for(var r,u=this.dashboardControls.getAllControls(),i=0;i<u.length;i++)r=u[i],this._isFilterPanelWidget(r.reportName)||this._resizeControls(n,t,r)},_resizeMaximizedGrid:function(){var r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero,n=null,i=this;r?this.timers.push(setTimeout(function(){var r=i.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),u;n=r.data("ejGrid");n&&(u=n.model.allowFiltering?r.parent().height()-77:r.parent().height()-49,n.setModel({scrollSettings:{height:u}}),n.element.find(".e-table").width("100%"));i._resizeGrid()},0)):this.timers.push(setTimeout(function(){i._resizeGrid()},0))},_resizeLabel:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),i,h,u;if(r.length!==t.DashboardConstants.Zero)for(i=0;i<r.length;i++){var e=r[i],o=n(e).find(".e-dbrd-control"),f=r.eq(i).find(".e-dbrd-control-container"),s=r.eq(i).find(".e-dbrd-control-container p");s.css({width:f.width()});h=n(e).find(".e-dbrd-containerWrapper");u=o.data("ejScroller");u&&(u.option("height",f.height()),u.option("width",f.width()),u.refresh())}},_resizeRangeNavigator:function(){var i=this;this.timers.push(setTimeout(function(){for(var f=n(i.currentTabContentElement).find(".e-datavisualization-rangenavigator"),u=0;u<f.length;u++){var r=f.eq(u).parents(".e-dbrd-control-container"),e=r.children().eq(t.DashboardConstants.Zero).hasClass("e-control-heading"),o=e?r.height()-50:r.height()-20;f.eq(u).ejRangeNavigator({sizeSettings:{height:o<t.DashboardConstants.Zero?t.DashboardConstants.One:r.height()>120?120:r.height()-15,width:r.width()}})}},0))},_resizeCustomWidget:function(){var t=this;this.timers.push(setTimeout(function(){for(var u,r=n("#"+t._id).find(".dashboardCustomWidget"),i=0;i<r.length;i++)u=t.dashboardControls.getControlByReport(n(r[i]).attr("data-controlid")),t._renderWidget(u,null,{type:"resize",size:{width:n(r[i]).width(),height:n(r[i]).height()}})},0))},_resizePivotGrid:function(){var t=this;this.timers.push(setTimeout(function(){for(var i,f,u=n(t.currentTabContentElement).find(".dashboardPivotGridControl"),r=0;r<u.length;r++)i=n(u[r]),i.css({width:i.parent().width(),"margin-left":"1px",height:i.parent().height()-25}),f=i.find("#"+i.attr("id")+"_div"),f.css({height:i.height(),width:i.parent().width()}),t._pivotGridRenderSuccess(i)},0))},_resizeDropDown:function(){var i=this;this.timers.push(setTimeout(function(){for(var e,u,r=n(i.currentTabContentElement).find(".e-dropdownlist"),f=0;f<r.length;f++)r.eq(f).parents(".e-dbrd-inactive-export").length===t.DashboardConstants.Zero&&(e=r.eq(f).attr("id"),i._isFilterPanelWidget(e)||(u=r.eq(f).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(u.width())||u.width()===t.DashboardConstants.Zero||(r.eq(f).ejDropDownList({width:u.width()-(u.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(r)||n("#"+n(r).attr("id")+"_popup_list_wrapper").css({"max-width":i.currentTabContentElement.width()-i.currentTabContentElement.find("#"+n(r).attr("id")).offset().left+"px"})),t.isNullOrUndefined(u.height())||u.height()===t.DashboardConstants.Zero||r.eq(f).ejDropDownList({height:u.height()<50?"18px":"30px"})))},0))},_resizeMaximizeControl:function(){var i=this;this.timers.push(setTimeout(function(){var r=i.currentTabContentElement.find("#"+i._id+"_InActiveDiv");if(r.length!==t.DashboardConstants.Zero){var u=r.find(".e-dbrd-MaximizedControl"),f=n(u).attr("data-controlid"),e=i._id+f+"_Maximize",o=r.find(".e-dbrd-control-container");t.widget.destroyAll(o.find(".e-js"));r.remove();i._maximizeControl(e)}},0))},_resizeListBox:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,e,u,o=n(i.currentTabContentElement).find(".e-listbox"),s=n(i.currentTabContentElement).find(".e-dbrd-control-listbox"),r=o.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--)f=o.eq(r).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(f)||(e=o.eq(r).attr("id"),i._isFilterPanelWidget(e)||(u=n("#"+e).data("ejListBox"),!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&(u.option("height",f.height()-37+"px"),u.option("width",f.width()-15+"px")),s.eq(r).css({height:"100%",width:"100%"}),n("#"+e+"_container").css({width:"100%",height:"100%"})))},0))},_resizeDatePicker:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,f,o,e=n(i.currentTabContentElement).find(".e-dashboarddatepicker"),u=0;u<e.length;u++)r=e.eq(u).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(r.height())||r.height()===t.DashboardConstants.Zero||(f=r.find(".e-dashboarddatepicker"),f.css({height:"100%",width:"100%"}),o=f.data("ejDashboardDatePicker"),o.option("height",r.height()<50?"18px":"25px"))},t.DashboardConstants.Zero))},_resizeImage:function(){for(var u,f,r=n(this.currentTabContentElement).find("."+this._id+"ImageControl"),i=0;i<r.length;i++)u=r.eq(i).find(".e-dbrd-containerWrapper"),f=r.eq(i).find(".e-dbrd-control"),u.height()!==t.DashboardConstants.Zero&&f.css({height:"100%",width:"100%"})},_resizeTreeMap:function(){var i=this;this.timers.push(setTimeout(function(){for(var u,f=n(i.currentTabContentElement).find(".e-dbrd-control.e-datavisualization-treemap"),r=0;r<f.length;r++)u=f.eq(r).data("ejTreeMap"),t.isNullOrUndefined(u)||u.refresh()},0))},_resizeErrorDialog:function(){var n=this.currentTabContentElement.find("#"+this._id+"_error_dialog"),u=n.find(".e-dbrd-dialog-content-wrapper"),i=0,r=this._getErrorSwitchDetails(n);r==="mobile"?(i=this.currentTabContentElement.height()-(n.find(".e-dbrd-dialog-heading").outerHeight()+n.find(".e-info-msg").outerHeight()+n.find(".e-dbrd-content .e-dbrd-hideDetails").outerHeight()+n.find(".e-dbrd-content .e-dbrd-showDetails").outerHeight()+40),n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(u.css("max-height",this.currentTabContentElement.height()),i=this.currentTabContentElement.height()-n.find(".e-dbrd-dialog-heading").height()-50),this._refreshErrorScroller(i)):r==="Desktop"&&(i=100,n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=130),this._refreshErrorScroller(i))},_resizeGetLinkDialog:function(){var n=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero&&(n.remove(),this.openGetLinkDialog())},_resizeGrid:function(){for(var r=0,u=0,t=null,i=null,f=n(this.currentTabContentElement).find(".dashboardGridControl"),e,r=0;r<f.length;r++)t=f.eq(r),t.css({width:t.parent().width()-20,overflow:"hidden",height:t.parent().height()}),i=t.data("ejGrid"),i&&(t.ejGrid({allowScrolling:!0,scrollSettings:{width:t.parents(".e-dbrd-containerWrapper").width(),height:i.model.allowFiltering?t.parents(".e-dbrd-containerWrapper").height()-100:t.parents(".e-dbrd-containerWrapper").height()-65}}),i.model.allowPaging&&(e=36,u=i.model.scrollSettings.height-e,i.setModel({scrollSettings:{height:u,width:i.model.scrollSettings.width}})),t.find(".e-gridheader").find("table").css({width:t.width()}),t.find(".e-scrollbar").hide())},_mapResponsive:function(){for(var t,i=n(this.currentTabContentElement).find(".dashboardMapControl"),r=0;r<i.length;r++)for(t=0;t<i.length;t++)this.mapControlsData[t].key===i[r].id&&this._callFunction(this._setMapResponsiveProperties,this.mapControlsData[t].key,this.mapControlsData[t].value)},_resizeDrilledChart:function(i){for(var f,e=n(this.currentTabContentElement).find(".e-datavisualization-chart"),u=0;u<e.length;u++){var r=e.eq(u),o=r.attr("id"),s=o.substr(r.attr("id").length-14).split("_")[0];r.attr("data-controlid")===i&&(f=r.data("ejChart"),f.model.size.height=r.height()+"px",s.indexOf("Drilled")!==t.DashboardConstants.IndexLowerBound&&r.css({width:r.parent().width()}),f.model.size.width=r.width()+"px")}},_drawLayout:function(i,r){var s=12,c=80,p=0,k=!1,w=0,f,l,h,a,d,v,y;!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&i.RowCount>s&&(this.exportImageHeightForExtendedLayout=this.dashboardHeight,this.currentTabContentElement.css({height:"auto"}));var e=Math.max(c,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/i.RowCount),o=null,b=null,u=0;if(this.isWidget||this.model.enableWidgetMode?(i.RowCount=1,i.ColumnCount=1,e=Math.max(c,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/i.RowCount)):i.ColumnCount===24&&(this.isExtendedLayout=!0,c=40,e=Math.max(c,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/12),w=(this.currentTabContentElement.find(".e-dbrd-banner").height()+7.5)/s),this.filterHeight>t.DashboardConstants.Zero){var g=this.isExtendedLayout?s:i.RowCount;e=Math.max(c,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15+this.filterHeight))/g);w=(this.currentTabContentElement.find(".e-dbrd-banner").height()+22.5+this.filterHeight)/s}for(f=n('<div id="'+this._id+'layout_wrapper" class = "e-dbrd-layout-wrapper e-dbrd-scroller"><\/div>'),f.attr({rowCount:i.RowCount,columnCount:i.ColumnCount}),this._on(f,"scroll",this._layoutScroll),this.multiTabs&&f.addClass("e-dbrd-res-layout-wrapper"),l=null,l=n(window).width()<t.DashboardConstants.MobileWidth&&!this.model.enableWidgetMode&&!this.isWidget?n('<div id="'+this._id+'_layout"><\/div>').css({margin:"15px 10px"}):n('<div id="'+this._id+'_layout"><\/div>').css({margin:"7.5px"}),h=0,a=null,this.currentTabContentElement.append(f),f.append(l),this._addCellStyle(i.ColumnCount),this.isExtendedLayout&&(p=i.RowCount,i.RowCount=this._calculateRowCount(i.RowCount),this.availableRowCount=this._getAvailabelRowCount(p),this.heightOfCell=e),this._addLayoutCell(i.RowCount,i.ColumnCount,e,l,w),u=0;u<r.length;u++)r[u].Key==="LayoutInformation"&&(o=JSON.parse(r[u].Value)),r[u].Key==="RefreshSettings"&&(b=JSON.parse(r[u].Value)),r[u].Key==="Title"&&(this.model.reportName=n.parseJSON(r[u].Value).Title),r[u].Key==="WidgetCultures"&&this._fetchCultureFiles(JSON.parse(r[u].Value)),r[u].Key==="IsDashboardParameter"&&(k=r[u].Value),r[u].Key===this.locale.utils.Description&&(this.reportDescription=r[u].Value,(t.isNullOrUndefined(r[u].Value)||r[u].Value.length===t.DashboardConstants.Zero)&&this.currentTabContentElement.find(".e-dbrd-banner-description").remove());if(o=this._addPageNumer(o),this.layoutControls=o,this._widgetModeLayoutCreation(o),this.totalColumn=0,this._createLayout(o,null),n(window).width()<t.DashboardConstants.MobileWidth&&this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0),this._dashboardData().isWidgetSpecific)for(u=0;u<i.RowCount;u++)for(h=0;h<i.ColumnCount;h++)a=this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+h),!t.isNullOrUndefined(a[0])&&t.isNullOrUndefined(a[0].childNodes[0])&&this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+h).remove();this._dashboardData().isWidgetSpecific&&(d=0,v=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(d),v.find(".e-dbrd-control-container").attr("type")!=="Grid"&&v.css({height:v.height()-n(".e-dbrd-banner").height()-10}));this._controlSizeCalculationForMobile(o,i);t.isNullOrUndefined(b)||this._dashboardData().isTestCase||this._setRefreshSettings(b);!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero?this._showPromptDialogPopup(this.dashboardParameters.data,k):this._dashboardData().loadFromData||this.loadDashboard();this._showOrHideIcons();this._drawFilterOverviewBanner();this._resizeWidgetTitle();this.model.enableCustomTheming&&(this._customTheme(["dashboard","container"]),t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(y=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(y["font-family"])&&y["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css("font-family")!==y["font-family"]&&this._customTheme(["font"])));this.model._dashboardData.loadFromData&&this.model._dashboardData.isExportImage&&(this.currentTabContentElement.find(".e-control-prop").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-banner-description").css({display:"none"}),this.currentTabContentElement.find(".e-control-description").css({display:"none"}));n(window).width()>t.DashboardConstants.MobileWidth&&this.isExtendedLayout&&p>s&&(this._dashboardData().isExportImage||(this.pageHeight=e*s,f.ejScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+3),orientation:"vertical",scrollerSize:7,buttonSize:0}),f.css({width:"100%"}),this.layoutWrapperHeight=f.height(),this._initializeDashboardScroller(f),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"})));this._layoutSizeCalculation(e)},_addPageNumer:function(n){for(var r=0,f=null,u=0,e=[],i,r=0;r<n.length;r++)f=n[r],u=Math.floor(f.Row/12)+t.DashboardConstants.One,this.actualPages.indexOf(u)===t.DashboardConstants.IndexLowerBound&&this.actualPages.push(u),f.Page=u;for(i=1;i<this.actualPages.length;i++)this.actualPages[i]-this.actualPages[i-t.DashboardConstants.One]!==t.DashboardConstants.One&&e.push(this.actualPages[i]-t.DashboardConstants.One);return this.actualPages=e.concat(this.actualPages.filter(function(n){return e.indexOf(n)<t.DashboardConstants.Zero})),n},_addLayoutCell:function(n,i,r,u,f){var c=12,e=0,o=0,l=null,a="",v=0,s=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One?t.DashboardConstants.Zero:Math.max.apply(Math,this.pageInfo)*c,h;for(!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&(s=t.DashboardConstants.Zero),e=s;e<s+n;e++)for(o=0;o<i;o++)l=this.isWidget||this.model.enableWidgetMode||this._dashboardData().isWidgetSpecific?"e-dbrd-mobile-cell":"e-dbrd-cell",h=Math.floor(e/c)+t.DashboardConstants.One,v=h>=2&&!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&window.isExportPdf?r+f:r,a+='<div class = "e-dbrd-layout-cell '+l+' e-dbrd-cell-block e-dbrd" id = "'+this._id+"_cell_"+e+"_"+o+'" style = "height :'+v+'px" data-Page = "'+h+'"><\/div>';u.append(a)},_calculateRowCount:function(n){var i=12,r=24;return!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage?n:this.availableRowCount===t.DashboardConstants.Zero?n>=r?r:n:n>=i?i:n},_getAvailabelRowCount:function(n){var i=12,r=24;if(this.availableRowCount===t.DashboardConstants.Zero){if(n>=r)return n-r;if(n>=i)return this.isRowsAvailable=!1,n-i}else if(n>=i)return n-i;return t.DashboardConstants.Zero},_hideShowPageForMobile:function(i,r){for(var u=0,o=i+t.DashboardConstants.One,f=n(".e-dbrd-layout-wrapper").find(".e-dbrd-layout-cell"),e,u=0;u<f.length;u++)e=f.eq(u).attr("data-Page"),parseInt(e)===o&&r?f.eq(u).css({display:"none"}):f.eq(u).css({display:"block"})},_initializeDashboardScroller:function(i){var r=this,u=0;i.ejScroller({thumbMove:function(i){if(n(i.originalEvent.currentTarget.activeElement).hasClass("e-dbrd-tab-container")||n(i.originalEvent.currentTarget.activeElement).is("body")){if(i.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(i.model.scrollTop,i.scrollData.scrollable);r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();return}r._getCurrentScrollObjects(i.model.scrollTop,i.scrollData.scrollable);u=r.layoutWrapperHeight+i.model.scrollTop>=r.pageHeight?i.model.scrollTop>=i.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One;r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?r._dashboardScroll(u,i.model.scrollTop,i.scrollData.scrollable):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages())}},wheelMove:function(n){if(n.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();return}r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);u=r.layoutWrapperHeight+n.model.scrollTop>=r.pageHeight?n.model.scrollTop>=n.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One;r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?r._dashboardScroll(u):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages())}})},_getCurrentScrollObjects:function(n,t){this._destroyContextMenu();this._destroyControlMenu();this.currentScrollTop=n;this.currentScrollHeight=t},_getPageForCurrentView:function(){if(this.isExtendedLayout){var r=[],i=0,u=10,s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),e=this.currentTabContentElement.find(".e-dbrd-banner").height();if(n(window).width()<t.DashboardConstants.MobileWidth){if(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop()===t.DashboardConstants.Zero)return r.push(t.DashboardConstants.One),r;var h=document.elementFromPoint(u,e+u),c=document.elementFromPoint(u,s),f=parseInt(n(h).parent(".e-dbrd-layout-cell").attr("data-page")),o=parseInt(n(c).parent(".e-dbrd-layout-cell").attr("data-page"));return f===o?[f]:[f,o]}return this.pageHeight=this.heightOfCell===40?this.dashboardHeight-e:this.pageHeight,this.currentScrollTop===t.DashboardConstants.Zero?(i=t.DashboardConstants.One,r.push(i)):this.currentScrollTop<this.pageHeight?(i=t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):this.currentScrollTop%this.pageHeight!==t.DashboardConstants.Zero?(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i)),r}return this.pageInfo},_onLayoutWrapperMouseMove:function(){this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeIn()},_onLayoutWrapperMouseLeave:function(i){t.isNullOrUndefined(n(i))||n(i.target).hasClass("e-vhandle")||n(i.target).hasClass("e-scrollbar")||this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeOut()},_showPromptDialogPopup:function(n,i){var u=!1,f=[],r;if(n.length>t.DashboardConstants.Zero&&i){for(r=0;r<n.length;r++)n[r].showInPromptDialog&&(f.push(n[r]),u=!0);f.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(f,u)}this._dashboardData().loadFromData||u||this.loadDashboard()},_widgetModeLayoutCreation:function(i,r){var u;if(i.length===t.DashboardConstants.Zero)if(this.model.enableWidgetMode){this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({overflow:"hidden"});var s=this.currentTabContentElement.find("#"+this._id+"_cell_"+t.DashboardConstants.Zero+"_"+t.DashboardConstants.Zero),h=n("<div>").addClass("e-dbrd-control-container"),e=n("<div>").css({height:"100%",width:"100%",padding:"0px"}).css({position:"relative"}).addClass("e-dbrd-containerWrapper").append(h);this.model.size.height&&e.css({height:parseInt(this.model.size.height)-15+"px",width:"100%"});this.model.size.width&&e.css({height:"100%",width:this.model.size.width});this.model.size.width&&this.element.css({width:this.dashboardWidth});this.model.size.height&&this.element.css({height:this.dashboardHeight});s.append(e).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");n(window).width()<t.DashboardConstants.MobileWidth&&s.find("div").eq(0).css({height:"100%",width:"100%"});var c=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true",float:"right"}),f=[];for(this._trigger("beforeWidgetIconRendered",{iconsinformation:f,widgetInformation:{Name:"widget Not Configured"}}),u=0;u<f.length;u++)c.append(n("<div>").attr({"tab-index":f[u].tabindex,role:f[u].role,name:f[u].name,"aria-label":f[u].arialabel,"data-tooltip":f[u].datatooltip,type:f[u].type,value:f[u].value,"data-widget-id":f[u].datawidgetid}).addClass(f[u].classname+" e-dbrd-hoverable e-dbrd-border").removeClass(f[u].removeClass).css({float:f[u].float,"margin-right":f[u].marginright,"margin-top":f[u].margintop}));var o=n("<div>"),l=n("<div>").addClass("e-control-heading").css({"line-height":"20px",height:"20px","background-color":"white"}),a=n("<span/>").addClass("e-control-title").css({display:"block",float:"left"}).html(t.isNullOrUndefined(this.widgetModeSettings.title)?"":this.widgetModeSettings.title);o.addClass("e-textalign-left");o.append(a);l.append(o);h.prepend(l,c,r)}else this._noWidgetConfiguredMessage()},_createLayout:function(i){for(var r,d,v,o,y,nt,a,b,k,f=null,e=null,h=null,u=0;u<i.length;u++)if(r=i[u],(this.isWidget||this.model.enableWidgetMode)&&(r.RowSpan=1,r.ColumnSpan=1,r.Row=0,r.Column=0),d=2,v=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One?r.Page===t.DashboardConstants.One||r.Page===d:r.Page===Math.max.apply(Math,this.pageInfo)+t.DashboardConstants.One,!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&(v=!0),v){f=this.currentTabContentElement.find("#"+this._id+"_cell_"+r.Row+"_"+r.Column);f.attr({IsStandardSize:r.IsStandardSize});this.totalColumn=this.totalColumn+r.RowSpan;o=n("<div>").addClass("e-dbrd-control-container").attr({"data-widget-id":r.ReportName,id:r.Guid,type:r.Name,oncontextmenu:"return false"}).data({IsMaster:r.isMaster,ExportImage:t.isNullOrUndefined(r.Label)?null:r.Label.EnableImageExport,ExportPdf:t.isNullOrUndefined(r.Label)?null:r.Label.EnablePdfExport,ExportCSV:t.isNullOrUndefined(r.Label)?null:r.Label.EnableCsvExport,ExportExcel:t.isNullOrUndefined(r.Label)?null:r.Label.EnableExcelExport,EnableMaximize:t.isNullOrUndefined(r.Label)?null:r.Label.ShowMaximize}).css({border:!t.isNullOrUndefined(r.Label)&&r.Label.ShowBorder?"1px solid #b7b7b7":"none","border-top-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-top-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px"});this._containerWrapperSizeCalculation(r,o,f);n(window).width()<t.DashboardConstants.MobileWidth&&f.find("div").eq(0).css({height:"100%",width:"100%"});y=n("<div>").css({width:"100%"}).addClass("e-dbrd-control").attr({tabindex:"0","data-controlid":r.ReportName});o.append(y);var c=n("<div>").addClass("e-control-heading").css({"line-height":!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px",height:!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?"25px":"0px"}),s=n("<div>"),p=1,tt=f.width(),g=!0,w=null,l=f.height();!this._dashboardData().isExportImage||t.isNullOrUndefined(r.Label)||r.Label.ShowHeader||c.addClass("e-export-control-heading");!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?(e=n("<span/>").addClass("e-control-title").css({display:"block",float:"left","margin-right":"2px",color:"#"+r.Label.HeaderLabelForeground.substr(3)}).attr({oncontextmenu:"return false"}),this._appendControlTitle(t.isNullOrUndefined(this.widgetModeSettings.title)?r.Label.HeaderText:this.widgetModeSettings.title,t.isNullOrUndefined(this.widgetModeSettings.title)?r.ParameterColumns[t.DashboardConstants.Title]:[],e),c.css({"border-top-left-radius":r.Label.CornerRadius+"px","border-top-right-radius":r.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(r.Label.HeaderLabelBackground)?"#f9f9f9":"#"+r.Label.HeaderLabelBackground.substr(3)}),r.Label.IsBold&&e.css({"font-weight":"bold"}),r.Label.IsItalic&&e.css({"font-style":"italic"}),s.addClass(this._getControlTitleAlignment(r.Label.LabelAlignment)),s.append(e),c.append(s),w=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true"}),nt=[{layoutControls:i,layoutInformation:r,width:y.width(),controlProp:w,controlTitle:e}],this._toolBarManipulation(nt),r.Label.ShowDescription&&(a=n("<span>").addClass("e-control-description e-dbrd-containerIcon"),a.css({"margin-left":"2px","margin-top":"0px","margin-right":"5px"}),b=n("<div>").css({display:"none"}),k=n("<p>"),this._appendControlTitle(r.Label.Description,r.ParameterColumns[t.DashboardConstants.Desc],k),b.append(k),a.append(b),s.append(a)),t.isNullOrUndefined(r.Label)||(r.IsLink&&r.Label.ShowLinkIcon?(h=n("<span/>").addClass("e-dbrd-link-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.LinkingEnabled}).css({display:"block","padding-left":"5px","padding-right":"10px"}),s.append(h)):r.IsDrillThrough&&r.Label.ShowDrillThroughIcon&&(h=n("<span/>").addClass("e-dbrd-drill-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.DrillThrough}).css({display:"block","padding-left":"5px","padding-right":"10px","font-size":"10px"}),s.append(h))),t.isNullOrUndefined(r.Label.BorderThickness)||(p=r.Label.BorderThickness===t.DashboardConstants.Zero?t.DashboardConstants.One:r.Label.BorderThickness,tt-=2*p,l-=2*p)):(g=!1,e=null);this._createSubtitleLayoutCreation(r,o,e,c,g,w);o.height()<100&&n(window).width()>this._mobileWidth&&o.find(".e-control-subtitleHeading").hide();this._dashboardData().isExportImage||this._createControlWaitingIndicator(o,!1);this._dashboardData().isWidgetSpecific&&((i[u].Name==="FilterComboBox"||i[u].Name==="IMAGE"||i[u].Name==="DatePicker"||i[u].Name==="CheckBox"||i[u].Name==="RangeNavigator"||i[u].Name==="RangeSlider"||i[u].Name==="RadioButton"||i[u].Name==="ListBox"||i[u].Name==="Label")&&this.currentTabContentElement.find("#"+this._id+"_cell_"+r.Row+"_"+r.Column).remove(),i[u].Name==="Grid"?f.css({height:"auto"}):(l=n(window).height(),f.css({height:l}),i[u].Name==="Card"&&f.css({height:l-5+"px"})),f.css({"page-break-inside":"avoid",position:"relative"}),n("body").css({height:"auto"}),this.element.css({"overflow-y":"hidden"}))}},_createSubtitleLayoutCreation:function(i,r,u,f,e,o){var l=n("<div>"),h=null,s=null,c;h=t.isNullOrUndefined(i.Label)||!i.Label.ShowHeader||t.isNullOrUndefined(i.Label.SubTitle)?n("<div>").addClass("e-control-subtitleHeading").css({"line-height":"0px",height:"0px","margin-top":"0px"}):n("<div>").addClass("e-control-subtitleHeading").css({"line-height":i.Label.SubTitle!==""?"15px":"0px",height:i.Label.SubTitle!==""?"15px":"0px"});t.isNullOrUndefined(i.Label)||!i.Label.ShowHeader||t.isNullOrUndefined(i.Label.SubTitle)||i.Label.SubTitle!==""&&(s=n("<span/>").addClass("e-control-subtitle").attr({oncontextmenu:"return false"}),this._appendControlTitle(t.isNullOrUndefined(this.widgetModeSettings.title)?i.Label.SubTitle:this.widgetModeSettings.title,i.ParameterColumns[t.DashboardConstants.Subtitle].length>t.DashboardConstants.Zero?i.ParameterColumns[t.DashboardConstants.Subtitle]:[],s),h.css({"border-top-left-radius":i.Label.CornerRadius+"px","border-top-right-radius":i.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(i.Label.HeaderLabelBackground)?"#f9f9f9":"#"+i.Label.HeaderLabelBackground.substr(3)}),this._dashboardData().isExportImage&&s.addClass("e-export-control-subtitle"),i.Label.IsBold&&s.css({"font-weight":"bold"}),i.Label.IsItalic&&s.css({"font-style":"italic"}),l.addClass(this._getControlTitleAlignment(i.Label.LabelAlignment)),l.append(s),h.append(l));c=n("<div>").addClass("e-control-singleCard").attr({"data-html2canvas-ignore":"true"}).css({position:"absolute",float:"right",right:"0px"});this._singleCardIcon(i,u,c,r,f,e,o,h);this._controlTiltleSizeCalculation(u,s,r);t.isNullOrUndefined(i.Label)||i.Label.ShowHeader||!this.model.enableWidgetMode||f.css({position:"absolute","white-space":"pre",overflow:"hidden","background-color":"transparent",top:"8px","line-height":"",height:"20px","max-width":r.width()-c.width()-10+"px","text-overflow":"ellipsis",width:r.width()-c.width()})},_containerWrapperSizeCalculation:function(t,i,r){var u=n("<div>").css({height:t.RowSpan*100+"%",width:t.ColumnSpan*100+"%"}).css({position:"relative"}).addClass("e-dbrd-containerWrapper").append(i);(this.isWidget||this.model.enableWidgetMode)&&(u.css({padding:"0"}),this.model.size.height&&u.css({height:parseInt(this.model.size.height)-15+"px",width:t.ColumnSpan*100+"%"}),this.model.size.width&&u.css({height:t.RowSpan*100+"%",width:this.model.size.width}));this._dashboardData().isWidgetSpecific&&u.css({height:"100%",width:"100%"});this.model.size.width&&this.element.css({width:this.dashboardWidth});this.model.size.height&&this.element.css({height:this.dashboardHeight});r.append(u).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");r.attr({rowspan:t.RowSpan,colspan:t.ColumnSpan})},_singleCardIcon:function(i,r,u,f,e,o,s,h){var c,l;if(!t.isNullOrUndefined(i.Label)){if(c=[],!i.Label.ShowHeader&&i.Name==="Card"){i.Label.ShowLinkIcon&&i.IsLink&&c.push({tabindex:"0",classname:"e-dbrd-link-enable",removeClass:"e-dbrd-widget-icons",datatooltip:this.locale.utils.LinkingEnabled,float:"left",margintop:"12px",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_linking"});i.Label.EnableComment&&this.model.allowComment&&(n(window).width()<t.DashboardConstants.MobileWidth?c.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"block",marginright:"3px"}):c.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"none",marginright:"3px"}),this.isWidget&&this.model.commentSettings.isWidgetCommented?c.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}):c.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}));var a=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),v=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.css("min-width"),y=Math.round((a-v)/21);for(this._trigger("beforeWidgetIconRendered",{iconsinformation:c,widgetInformation:i,isFilterWidget:!1,visibleIconsCount:y,tabId:this.dashboardName}),l=0;l<c.length;l++)u.append(n("<div>").attr({"tab-index":c[l].tabindex,id:c[l].id,role:c[l].role,name:c[l].name,"aria-label":c[l].arialabel,"data-tooltip":c[l].datatooltip,type:c[l].type,value:c[l].value,"data-widget-id":c[l].datawidgetid}).addClass(c[l].classname+" e-dbrd-hoverable e-dbrd-border e-dbrd-widget-icons").removeClass(c[l].removeClass).css({float:c[l].float,"margin-right":c[l].marginright,display:c[l].display,"margin-top":c[l].margintop}))}f.prepend(e,u?u:"",o?s:"",i,h)}},_controlTiltleSizeCalculation:function(i,r,u){var f=null,e,o;i!==null&&(f=r!==null?i.height()+r.height():i.height(),u.find(".e-dbrd-control").css({height:"calc(100% - "+f+"px)"}),e=n(u[0]).attr("type"),e===t.dashboardViewer.Controls.RangeSlider&&n(window).width()<t.DashboardConstants.MobileWidth&&(o=10,u.find(".e-dbrd-control").css({height:"calc(100% - "+(f+o)+"px)"})))},_controlSizeCalculationForMobile:function(i,r){var o,u,c;if(n(window).width()<t.DashboardConstants.MobileWidth)for(o=0;o<i.length;o++){var f=i[o],e=null,s="",l=n("#"+f.Guid),h=this._defaultLayoutCellHeight(l);e=this.isWidget||this.model.enableWidgetMode?Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/r.RowCount):Math.max(h,this.dashboardHeight/this.totalColumn);e===h&&this.element.css({"overflow-y":"hidden"});u=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column);u.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?u.css({height:u.attr("rowspan")*e}):(c=this._heightOfCell(f.Name,e),u.css({height:f.RowSpan*e>c?f.RowSpan*e:c})):(s=u.width(),u.width()>n(window).height()&&(s=n(window).height()),u.css({height:s}))}},_layoutSizeCalculation:function(i){var r=this.multiTabs?this.element.find(".e-tab .e-header").height():t.DashboardConstants.Zero,u=this.isExtendedLayout?40:80;this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||i===u&&n(window).width()>t.DashboardConstants.MobileWidth&&!this.isExtendedLayout&&(this.multiTabs&&!this.model.showTab?this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-(this.currentTabContentElement.find(".e-dbrd-banner").height()+r),"overflow-y":"auto"}):this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height(),"overflow-y":"auto"}));this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||!(n(window).width()>t.DashboardConstants.MobileWidth)||this.isExtendedLayout||(this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.multiTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()+this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.css({"max-width":t.DashboardConstants.MinimumWidth,"overflow-x":"auto","overflow-y":"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:t.DashboardConstants.MinimumWidth}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:t.DashboardConstants.MinimumWidth})):(this.currentTabContentElement.css({"max-width":"",overflow:"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:this.currentTabContentElement.width()}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:this.currentTabContentElement.width()})))},_addCellStyle:function(n){var r=100/n,u=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),i;t.type="text/css";i="#"+this._id+" > * .e-dbrd-cell { width:"+r+"%; }";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i));u.appendChild(t)}}}(jQuery,Syncfusion);ej.dashboardViewer=ej.dashboardViewer||{};ej.dashboardViewer.localization=[];ej.dashboardViewer.localization["en-US"]={utils:{NoData:"There is no data to be displayed.",ErrorOnHigherVersion:"DV001:Unable to load the Dashboard since it was created in a higher version of Dashboard Designer(Version:",ErrorOnHigherVersionForWidget:"DV001:Unable to load the Widget since it was created in a higher version of Dashboard Designer(Version:",NoWidgetConfigured:"No Widgets to Preview",LoadedVersion:"LoadedVersion",ExportToCSV:"CSV...",ExportToPdf:"PDF...",ExportToExcel:"Excel...",ExportToExcel97To2003:"Excel 97-2003 Workbook (*.xls)",ExportToExcel2013:"Excel Workbook (*.xlsx)",Maximize:"Maximize",TextMore:"More",TextLess:"Less",Clear:"Clear",RemoveFavorite:"Remove from favorites",MarkFavorite:"Mark as favorite",ExportControl:"Export Widget",ExportDashboard:"Export Dashboard",UpdateDashboard:"Update Dashboard",ExportToImage:"Image...",FileName:"File Name",Format:"Format",FileType:"File Type",Resolution:"Resolution(dpi)",Reload:"Reload",SavedFilters:"VIEW SAVED FILTERS",UnSavedView:"Unsaved View",Export:"Export",Reset:"Reset",Cancel:"Cancel",Title:"Title",Save:"Save",SaveAs:"Save As",ExportTitle:"Dashboard/Widget Title",Jpeg:"JPEG (*.jpg)",Png:"PNG (*.png)",Bmp:"BMP (*.bmp)",FileNameError:"Invalid File Name",A3:"A3",A4:"A4",A5:"A5",AppliedFilters:"Applied Filters:",Letter:"Letter",PageSize:"Page Size",Orientation:"Orientation",Portrait:"Portrait",Landscape:"Landscape",ExportToPdfWaitingText:"Exporting to PDF...",ExportToImageWaitingText:"Exporting to Image...",ExportToCSVWaitingText:"Exporting to CSV...",ExportToExcelWaitingText:"Exporting to Excel...",FetchingData:"Fetching data...",Description:"Description",Information:"Information",DefaultFileName:"Dashboard",ResolutionLow:"The resolution must be greater than or equal to 96 DPI.",ResolutionAlert:"The preferred resolution is between 96 and 300 DPI. Resolution  greater than that leads to out of memory exception if your system does not have enough memory.",WidgetNotConfigured:"This widget has not been configured.",DashboardServerTimedOut:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",AuthenticationFailure:"You require authorization to view this dashboard.",SessionExpired:"Your Session Has Expired",DashboardServerFail:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",ExcelError:"The Excel File in the server is not the one which is used for Designing this Dashboard, Kindly contact the Administrator, or republish the Dashboard.",FixIssues:"Please fix the below errors...",InvalidCredentials:"Invalid Credentials",UserName:"Username",Password:"Password",Open:"Open",Ok:"OK",Refresh:"Refresh",Error:"Error",Clipboard:"Copy to Clipboard",AuthenticationRequired:"SQL Authentication Required",KnowMore:"Know More...",UserNamePasswordEmpty:"Username / Password cannot be empty",EncryptError:"Dashboard service returned an invalid key. Please try again. If the issue persists please contact administrator",ViewData:"View Data",Close:"Close",Row:"{{:Row}}",Value:"{{:Value}}",DashboardDescription:"Dashboard Description",Yes:"Yes",No:"No",Confirm:"Confirmation",ClearMasterFilter:"Clear Master Filter",LinkingEnabled:"This widget navigates to a URL or to another dashboard.",DrillThrough:"This widget is configured to drill into more than one level.",Comment:"Comment",DeleteConfirmText:"Are you sure you want to delete this view?",ClearFilter:"Clear Filter",CultureFileDownloadError:"Unable to load the culture ",ServiceNotConfigured:"DV003:Dashboard could not be rendered since the service URL is not set.",ServiceNotConfiguredForWidget:"DV003:Widget could not be rendered since the service URL is not set.",DashboardNotConfigured:"DV004:Dashboard could not be rendered since the dashboard path is not set.",DashboardNotConfiguredForWidget:"DV004:Widget could not be rendered since the dashboard path is not set.",DataError:"Data Retrieval Error",DefaultOrientation:"Landscape",ToggleFilterPanel:"Toggle Filter Panel",Dashboard:"Dashboard",Widgets:"Widgets",ExportImage:"Image Export",ExportPdf:"PDF Export",ExportExcel:"Excel Export",ExportCsv:"CSV Export",ExportAs:"Export As",ExportDashboards:"Export Dashboard(s)",Dashboards:"Dashboard(s)",ChooseDashboards:"Choose Dashboards",ChooseWidgets:"Choose Widgets",Widget:"Widget(s)",Image:"Image",Pdf:"PDF",Excel:"Excel",Csv:"CSV",ExportBtn:"EXPORT",All:"All",Success:"Success",Failure:"Failure",GetLink:"Get Link",GetLinkContent:"This link holds the current view data along with the filters.",Minutes:"* Minute(s)",Hours:"* Hour(s)",Days:"* Day(s)",Weeks:"* Week(s)",Months:"* Month(s)",Years:"* Year(s)",MoreOptions:"More Options",DatePickerCustomText:"Custom",TimeSpan:"TimeSpan",DashboardParameters:"Parameters",Apply:"Apply",ResetAll:"RESET ALL",ResetParameters:"Reset Parameters",EmptyImageMsg:"No Image to be displayed",ShowDetails:"Show Details",HideDetails:"Hide Details",DataRetrievalError:"Data Retrieval Error",Filter:"Filter",DrillDown:"DrillDown",Linking:"Linking",CopyError:"Error Message:",stacktrace:"Stack-trace:"},mapControl:{fillColor:"#E0E0E0",strokeColor:"#FFFFFF"},errorMessages:{ErrorAccessDenied:"DV005:Access to the service is denied to the current user.",ErrorControlException:"Data retrieval error.",ErrorControlNotConfigured:"The Data received at the service was tampered. Please try again later.",ErrorCrypto:"The Data received at the service was tampered. Please try again later.",ErrorDashboardNotFound:"DV006:The requested dashboard file was not found. It may be either moved or renamed.",ErrorDashboardNotFoundForWidget:"DV006:The requested Widget file was not found. It may be either moved or renamed.",ErrorFileNotFound:"DV007:The requested file or assembly was not found. It may be either moved or renamed.",ErrorGeneral:"DV008:Dashboard could not be viewed due to an error.",ErrorGeneralForWidget:"DV008:Widget could not be viewed due to an error.",ErrorInvalidFile:"DV009:The loaded file is not a valid dashboard file",ErrorInvalidFileForWidget:"DV009:The loaded file is not a valid widget file",ErrorServerError:"DV010:The dashboard could not be viewed since we were unable to validate the current user authorization.",ErrorServerErrorForWidget:"DV010:The widget could not be viewed since we were unable to validate the current user authorization.",ErrorSqlHostNotFound:"The SQL server could not be contacted. Please make sure that the server is accessible.",ErrorSqlTimeout:"An attempt to retrieve data from server failed due to time expiration.",ErrorWcfBinding:"The CorsSupport behavior can only be used in WebHttpBinding endpoints.",ErrorOutOfMemory:"DV011:The exported image File could not be downloaded due to large file size.",ErrorInMultiDbrdExport:"The given dashboard name was not found.",ErrorInMultipleWidgetExport:"The given widget name was not found in the active dashboard."}};ej.Grid.Locale["en-US"].FilterbarTitle=" Search",function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.common={_copyToClipboard:function(i){var u,f,r;t.isNullOrUndefined(i)||(u="",f="",n(i.currentTarget).hasClass("e-share-copy-btn")||n(i.currentTarget).hasClass("e-dbrd-mobileCopyBtn")?u=n(i.currentTarget).parents(".e-dbrd-alert").find(".e-share-text").val():(u=n(i.currentTarget).parents(".e-dbrd-alert").find(".e-info-msg").text(),f=n(i.currentTarget).parents(".e-dbrd-alert").find(".e-stackTrace-content").text()),r=document.createElement("textarea"),n(r).attr({id:this._id+"copy_clipboard_edit"}).css({position:"fixed",bottom:"-200px"}),document.body.appendChild(r),r.value=t.isNullOrUndefined(f)||f===""?this.locale.utils.CopyError+"\n\n"+u:this.locale.utils.CopyError+"\n\n"+u+"\n\n"+this.locale.utils.stacktrace+"\n\n"+f,r.focus(),r.select(),document.execCommand("Copy"),t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?r.parentNode.removeChild(r):r.remove())},_getWidgetDetails:function(n){var f=t.isNullOrUndefined(this.currentReport)?null:this.currentReport.layout,r=0,i=0,u=null,e;if(!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(n))for(r=0;r<f.length;r++)if(t.isNullOrUndefined(f[r].Key)||f[r].Key!=="LayoutInformation"){if(!t.isNullOrUndefined(f[r].Key)&&f[r].Key==="widgetModeLayout"&&this.model.enableWidgetMode)for(u=JSON.parse(f[r].Value),i=0;i<u.length;i++)if(u[i].ReportName===n)return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid}}else for(u=JSON.parse(f[r].Value),i=0;i<u.length;i++)if(u[i].ReportName===n)return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid};if((!t.isNullOrUndefined(this.tempDataForFilter)||!t.isNullOrUndefined(this.filterPanelObj))&&!t.isNullOrUndefined(n))for(e=null,e=t.isNullOrUndefined(this.filterPanelObj)?this.tempDataForFilter:this.filterPanelObj.model.dataSource,r=0;r<e.length;r++)if(e[r].filterId===n)return{type:this._getWidgetType(n),title:JSON.parse(e[r].filterInfo.layout).DisplayName,id:JSON.parse(e[r].filterInfo.layout).Guid};return""},_updateTextWithParameterColumns:function(n,i){var u=n,r;if(!t.isNullOrUndefined(i))for(r=0;r<i.length;r++)u=u.replaceAll(i[r].ParameterText,this._getParemeterColumnTemplate(i[r]));return u},_getParemeterColumnTemplate:function(n){return'<span class="e-dbrd-param-column" data-param="'+n.ParameterText+'" data-source ="'+n.DataSource+'">'+t.DashboardConstants.All+"<\/span>"},_setFilterIcon:function(){this.model.filterPanelSettings.showIcon?this.element.find(".e-dbrd-filter-icon").css({display:"block"}):this.element.find(".e-dbrd-filter-icon").css({display:"none"})},_getControlHeaderAlignment:function(n){return n.find(".e-textalign-left").length>t.DashboardConstants.Zero?"left":n.find(".e-textalign-right").length>t.DashboardConstants.Zero?"right":"center"},_showInactiveDIv:function(){if(n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").length===t.DashboardConstants.Zero){var i=t.buildTag("div");i.attr({id:this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv"}).css({width:this.currentTabContentElement.width(),height:this.currentTabContentElement.height(),position:"absolute",top:this.currentTabContentElement.offset().top,left:"0","z-index":"999"});this.currentTabContentElement.append(i)}else n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").fadeIn()},_applyPaddingInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").css({"background-color":"rgba(0, 0, 0, 0.6)"})},_hideInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").hide()},_showGetLinkDialogForMobile:function(){var i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"),u,f,r;i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"));u=i.find(".e-dbrd-dialog-share-content-wrapper");u.css({height:this.currentTabContentElement.height()-113,"max-height":this.currentTabContentElement.height()-63});i.show();i.addClass("e-dbrd-get-link-content").css({display:"block",width:"100%",height:"100%",position:"absolute","margin-left":"0px"});this.currentTabContentElement.find(".e-dbrd-dialog-close-icon").remove();this.currentTabContentElement.find(".e-share-copy-btn").remove();this.currentTabContentElement.find(".e-share-default").css({"padding-bottom":"0px"});f=n("<button class='e-dbrd-mobileCopyBtn'><\/button>").text(this.locale.utils.Clipboard.toUpperCase());i.append(f);r=this.currentTabContentElement.find(".e-dbrd-dialog-heading");r.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"});r.prepend(n("<div>").addClass("e-dbrd-error-text-close e-dbrd-popup-icon"));this.model.enableCustomTheming&&this._customTheme(["popup"])},_clearAllFilters:function(i){var e=null,o,h,a,u,f,v,c,y;this.clearAllFilter=!0;t.isNullOrUndefined(i)||t.isNullOrUndefined(i.currentTarget)?(e=n("#"+this._id).find(".e-brd-clearDiv"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:e,data:this.appliedFilterData}}),e.length>t.DashboardConstants.Zero&&n("#"+n(e).parent().parent().attr("id")).remove()):(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:n(i.target),data:this.appliedFilterData}}),n("#"+n(i.currentTarget).parent().parent().attr("id")).remove());this.rangeData=[];this.masterData=[];o=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&o.remove();this.removeFilter=!0;this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()});for(var l=this.currentTabContentElement.find(".e-remove-control-filter-enable"),s=[],r=t.DashboardConstants.Zero,r=0;r<l.length;r++)l.eq(r).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable");for(h=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),r=0;r<h.length;r++)a=n(h[r]).parents(".e-dbrd-control-container"),a.data({IsFilterApplied:!1});if(u=this._getMasterWidgets(),!t.isNullOrUndefined(u))for(f=0;f<u.length;f++)v=this._getSlaveWidgets(u[f]),s=this._generateSlaves(s,v),c=this.dashboardControls.getControlByReport(u[f]),this.CurrentMaster=u[f],this._removeWidgetSelection(this._id+t.DashboardConstants.Widget+u[f],t.isNullOrUndefined(c)?null:c.controlType);this.flag=!1;this._removeAllControlSelectedValues();y={master:null,masterList:u,masterData:null,slaves:s,showIndicator:!1,isAutoRefresh:!1};t.isNullOrUndefined(this.filterPanelObj)||(this.filterPanelObj.currentMasterWidget=null);this._updateDashboardControls(!1);this._makeSlaveDataRequest(y);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:t.isNullOrUndefined(i)?e:n(i.target),data:this.appliedFilterData}});this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog);this.clearAllFilter=!1},_updateDashboardControls:function(n){var i,u,r,f;if(!t.isNullOrUndefined(this.filterPanelObj))for(i=0;i<this.filterPanelObj.dashboardControls.controls.length;i++)for(u=this.filterPanelObj.dashboardControls.controls[i],r=0;r<this.dashboardControls.controls.length;r++)f=this.dashboardControls.controls[r],f.reportName===u.reportName&&(n?this.dashboardControls.controls[r]=u:this.filterPanelObj.dashboardControls.controls[i]=f)},_getMasterWidgets:function(){var r=[],n,i;if(!t.isNullOrUndefined(this.getCurrentFilters())&&(n=this.getCurrentFilters().masterData,!t.isNullOrUndefined(n)))for(i=0;i<n.length;i++)this._hasWidget(n[i].Control,r)||r.push(n[i].Control);return r},_hasWidget:function(n,i){if(!t.isNullOrUndefined(i))for(var r=0;r<i.length;r++)if(n===i[r])return!0;return!1},_getSlaveWidgets:function(n){for(var r=[],i=0;i<this.controlRelations.length;i++)this.controlRelations[i].Master.lastIndexOf("_"+n)!==t.DashboardConstants.IndexLowerBound&&(r=this.controlRelations[i].Slaves);return r},_generateSlaves:function(n,i){if(!t.isNullOrUndefined(i))for(var r=0;r<i.length;r++)this._hasWidget(i[r],n)||n.push(i[r]);return n},_toolbarsInBanner:function(i){var u=n(i.target),r=n(i.target).attr("name"),f=t.isNullOrUndefined(this.model._selectedTabGuid)?null:this.model._selectedTabGuid,e=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,o=this.currentTabContentElement.find(".e-dbrd-banner-title").text();this._trigger("onBannerIconClick",{target:u,event:i,tabId:f,dashboardPath:e,headertext:o,name:r,tabName:this.dashboardName});switch(r){case"menu":(i.type==="click"||i.type==="keydown")&&this._showDashoardMenu(i);break;case"comment":this._openDashboardCommentDialog(i);break;case"refresh":this.refreshDashboard(null,!1);break;case"filterPanel":this._showFilterPanel(i);break;case"dashboardParameters":this._openDashboardParametersDialog(this.dashboardParameters.data,!1)}},_filterPanelResize:function(){var u=this.model.showTab?this.element.find(".e-tab>.e-header").height():null,i,r;t.isNullOrUndefined(u)&&(u=0);t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||(n(window).width()>=t.DashboardConstants.MobileWidth?(this.externalFilterPanel||(this.filterPanelDiv.css({right:"0px","z-index":"",left:"","overflow-y":"hidden",top:u+"px",width:"20%",height:"99%","max-height":this.dashboardHeight}),i=this.currentTabContentElement.width()-250,r=this.currentTabContentElement.width()*.2<250,this.isExtendedLayout?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:r?""+i+"px":"80%"}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"99%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"})):(this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"79%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"})),this.model.showFilterPanelClose?this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"block"}):this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"10px"})),this.filterPanelObj.resizeFilterPanel()):this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"fixed","overflow-y":"auto",width:"100%",height:"100%","max-height":this.dashboardHeight}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"20px"})),this.filterPanelObj.resizeFilterPanel())},_tabIndexFocus:function(i){this.isMouseClick=!0;n(this.currentTabContentElement).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.currentTabContentElement).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).css("outline","0")},_focusMultipleSeriesOnClick:function(t){n(t.currentTarget).hasClass("e-Card")||this._handleTabIndexForMultipleSeries(n(t.currentTarget).closest(".e-multiple-parent"),!0)},_handleTabIndexForMultipleSeries:function(i,r){var u=[];n(i).find(".e-multiple-series").attr("tabindex","0");n(i).find(".e-multiple-series").first().addClass("e-first-child");n(i).find(".e-multiple-series").last().addClass("e-last-child");n(i).addClass("e-focus-in");r&&(u=n(i).hasClass("e-parentGauge")?n(i).find(".e-circularGauge-Selected"):n(i).hasClass("e-card-Series")?n(i).find(".e-dbrd-clicked-card"):n(i).hasClass("e-dbrd-control-radiobtn")||n(i).hasClass("e-dbrd-control-checkbox")?n(i).find("div[aria-checked='true']"):n(i).find(".e-multiple-series").first(),u.length>t.DashboardConstants.Zero?n(u[0]).focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus():n(i).find(".e-first-child").focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus());n(document).bind("focusin",{outerElement:n(i)},this._focusInhandler)},_focusInhandler:function(i){n(i.data.outerElement).find(i.target).length===t.DashboardConstants.Zero&&i.target.id!==n(i.data.outerElement).attr("id")&&(n(i.data.outerElement).find(".e-multiple-series").attr("tabindex","-1"),n(i.data.outerElement).removeClass("e-focus-in"),n(this).unbind(i))},_resizeWidgetTitle:function(){for(var i=null,f=null,o=null,l=null,u=null,s=5,a=this.currentTabContentElement.find(".e-dbrd-control"),v=null,h=t.DashboardConstants.Zero,r=null,c=null,y=5,e,p,w,h=t.DashboardConstants.Zero;h<a.length;h++)u=a.eq(h),e=u.parents(".e-dbrd-control-container"),i=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading").find(".e-control-title"),f=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading"),r=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading").find(".e-control-subtitle"),c=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading"),o=u.parents(".e-dbrd-containerWrapper").find(".e-control-prop"),l=u.parents(".e-dbrd-containerWrapper").find(".e-dbrd-link-enable"),f.css("width",e.width()),f.find(".e-control-description").length===t.DashboardConstants.One&&(s=30),v=t.EjSvgRender.utils._measureText(i.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,i.css({"max-width":Math.abs(f.width()-(l.width()+o.width()+4)-s)+"px",width:"auto"}),r.css({"max-width":c.width()}),r.length>t.DashboardConstants.Zero&&(p=2,r.parent().attr("class")==="e-textalign-center"?(r.parent().css({"margin-left":(c.width()-r.width())/p-s}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":y+"px"})):r.parent().attr("class")==="e-textalign-right"&&(r.parent().css({float:"right","margin-right":"10px"}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":y+"px"})),n(window).width()>t.DashboardConstants.MobileWidth?(w=105,e.height()>w?e.find(".e-control-subtitleHeading").css({display:"block"}):e.find(".e-control-subtitleHeading").hide()):e.find(".e-control-subtitleHeading").css({display:"block"})),i&&o&&(v>=f.width()-o.width()?(i.parent().attr("class")==="e-textalign-center"&&i.parent().css({"margin-left":"5px"}),i.parent().attr("class")==="e-textalign-right"&&i.parent().css({float:"left","margin-right":t.DashboardConstants.Zero+"px"})):(i.parent().attr("class")==="e-textalign-center"&&i.parent().css({"margin-left":(f.width()-i.width())/2-s}),i.parent().attr("class")==="e-textalign-right"&&i.parent().css({float:"right","margin-right":o.width()+5+"px"})))},_resizeFilterWidgetTitle:function(){for(var r,e=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=null,u=null,s=null,i=null,h=null,f=0;f<e.length;f++)i=e.eq(f),o=i.find(".e-control-heading"),u=i.find(".e-dbrd-filterwidget-title"),s=i.find(".e-dbrd-filterwidget-icon-container"),r=o.width()-s.width(),h=t.EjSvgRender.utils._measureText(u.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r!==t.DashboardConstants.Zero&&h>r&&u.css({width:"auto","max-width":r})},_showOrHideIcons:function(){for(var f=null,o=null,s=this.currentTabContentElement.find(".e-dbrd-control"),i=null,r=null,u=null,e=0,e=0;e<s.length;e++)o=s.eq(e),f=o.parents(".e-dbrd-containerWrapper").find(".e-control-prop"),i=f.find(".e-dbrd-control-menu"),r=f.find(".e-dbrd-banner-widget-withoutcomments"),u=f.find(".e-dbrd-banner-widget-withcomments"),i.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?i.css({display:"block"}):n(i).hasClass("enable-csv-export")||n(i).hasClass("enable-excel-export")||n(i).hasClass("enable-image-export")||n(i).hasClass("enable-pdf-export")?i.css({display:"block"}):i.css({display:"none"})),r.length>t.DashboardConstants.Zero?n(window).width()<t.DashboardConstants.MobileWidth?r.css({visibility:"hidden",display:"none"}):this.model.responsiveSettings.onWidgetCommented?r.css({visibility:"visible",display:"block"}):r.css({visibility:"visible",display:"block"}):u.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?u.css({visibility:"hidden",display:"none"}):this.model.responsiveSettings.onWidgetCommented?u.css({visibility:"visible",display:"block"}):u.css({visibility:"visible",display:"block"}))},_resizeTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-title"),r=this.element.find(".e-dbrd-banner"),u=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),f,e;this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(f=null,f=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),e=r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-f-10+"px",i.css({"max-width":e,width:"auto","margin-left":"0px"})):this.multiTabs?i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-"2px",width:"auto"}):i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()+"px",width:"auto"})},_showGetLinkIcon:function(){if(n(window).width()>t.DashboardConstants.MobileWidth){var i=this.element.find(".e-dbrd-banner-link");this.model.showGetLinkIcon?i.show():i.hide()}},_validURL:function(n){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n)},_widgetActionHandler:function(n,i){var l=n.id,a=n.actionType,e=this.dashboardControls.getControlByReport(l),o=[],s="",r,u,f;if(!t.isNullOrUndefined(e)){var v=e.configInfo,h=v.ActionSetting,c=!1;for(r=0;r<h.length;r++)if(u=h[r],f=u.ActionType,a===f){s=f;o=u.Action;c=u.ShowMenu;n.push({actionData:o,type:s});c?this._showNavigationMenu(n,i):this._loadNavigation(n,null);break}}},_showNavigationMenu:function(i,r){var o,s;if(!t.isNullOrUndefined(i)){var u=[],e=i.actionData,f=n("<div>").attr({id:this._id+"_InteractionMenuPopup",type:i.type,"data-Widget-Id":i.id});for(o in e)if(e.hasOwnProperty(o))switch(e[o]){case t.dashboardViewer.Action.Filter:u.push({id:50,text:this.locale.utils.Filter,sprite:"e-dbrd-master-filter"});break;case t.dashboardViewer.Action.DrillDown:u.push({id:51,text:this.locale.utils.DrillDown,sprite:"e-dbrd-drilldown"});break;case t.dashboardViewer.Action.Linking:u.push({id:52,text:this.locale.utils.Linking,sprite:"e-dbrd-linking"})}s=this.currentTabContentElement.find("#"+this._id+"_InteractionMenuPopup");s.data("ejMenu")&&s.ejMenu("destroy");this.currentTabContentElement.find("#"+this._id+"_InteractionMenuPopup").remove();f.ejMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._loadNavigation,this,i)});f.css({position:"absolute",top:n(r.target).offset().top,width:"auto","z-index":3});f.css({left:n(r.target).offset().left-f.width()+30+"px"});this.currentTabContentElement.append(f);u.length===t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-menu-wrap").hide()}},_loadNavigation:function(n,i){var u,s,h;if(this._destroyInteractionMenu(),!t.isNullOrUndefined(n)){var f=null,r=n.actionData,e=n.callbackfn,o=this.dashboardControls.getControlByReport(n.id);t.isNullOrUndefined(i)||(r=[],r.push(i.text));t.isNullOrUndefined(o)||(f=o.configInfo);for(u in r)if(r.hasOwnProperty(u))switch(r[u]){case t.dashboardViewer.Action.Filtered:s={master:n.id,masterData:n.masterData,slaves:n.slaves,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(s);break;case t.dashboardViewer.Action.Linking:h=f.ControlLinkData;this._controlNavigate(h,n.dataWrapper,n.widgetInstance);break;case t.dashboardViewer.Action.DrillDown:t.isNullOrUndefined(e)||e.call(this,n.drillDownData)}}},_destroyInteractionMenu:function(){var n=this.currentTabContentElement.find("#"+this._id+"_InteractionMenuPopup");n.length!==t.DashboardConstants.Zero&&n.remove()}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.grid={_renderGrid:function(r,u){var k=0,st=-1,tt=50,e=null,c=null,f=null,s=null,it=null,o=0,h=null,v=null,rt=null,ut=null,d=!1,ht="",l=0,ct=36,lt=!1,at,vt,y,ft,p,yt,g,et,ot,pt,a,w,nt,b,wt,bt,kt,dt;if(f=r.configInfo,c=r.getCurrentPageData(),at=JSON.parse(JSON.stringify(this.dashboardParameters)),this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.weekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gridDiv)){for(o=0;o<this.target.length;o++)if(this.target[o].indexOf(f.Id)!==st&&this.target[o].indexOf("PivotGrid")===st){if(e=n("#"+this.target[o]),it=this.target[o],this.target.splice(o,1),c.isError){this._showControlError(c.pagedata,e,f);return}if(this._hideControlError(e),e.show(),s=e.data("ejGrid"),t.isNullOrUndefined(s)){it=null;break}if(!this._applyOrRemoveNoDataAvailable(c.pagedata.length,e)){e.addClass("e-nodatagrid");return}if(e.removeClass("e-nodatagrid"),s.model.query._params[2].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),s.model.query._params[4].value="",s.model.query._params[6].value=JSON.stringify(r.maxMinData),!t.isNullOrUndefined(s.model.filterSettings.filteredColumns)&&s.model.filterSettings.filteredColumns.length!==k){for(o=0;o<s.model.filterSettings.filteredColumns.length;o++)n("#"+s.model.filterSettings.filteredColumns[o].field+"_filterBarcell").val("");s.model.filterSettings.filteredColumns=[]}vt={instance:s,json:t.parseJSON(c.pagedata),count:r.totalCount,isLocal:!1,update:!0,needRefresh:!0,sortedColumns:f.SortedColumns,dataSource:r.totalCount>tt,reportName:f.Id,formattedData:c.formattedData};this._updateDataSource(vt);e.parent().data("IsFilterApplied",r.SelectedFilterInfo.length>t.DashboardConstants.Zero);e.parent().data("IsFilterApplied")?this._gridInitialSelection(r,s,e):(e.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(it===null&&(y=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),y.find(".e-dbrd-control-container").css({overflow:"hidden"}),e=y.find(".e-dbrd-control"),e.addClass(".e-table dashboardGridControl").css({overflow:"hidden",height:e.height()+7,padding:"1px"}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),y.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),y.find(".e-dbrd-export").attr({value:f.Id}),y.attr({"data-controltype":"Grid"})),c.isError){e.attr({"data-controlId":f.Id});this._showControlError(c.pagedata,e,f);return}this._hideControlError(e)}else e=u.gridDiv,e.addClass("e-dbrd-control"),e.css({position:"relative"}),d=u.isMaximize;if(ft=n(e).height(),e.attr({"data-controlId":f.Id}),p=null,this.model._dashboardData.isExportImage&&window.exportImageDashboardData){for(o=0;o<window.exportImageDashboardData.length;o++)r.reportName===window.exportImageDashboardData[o].Key&&(p=JSON.parse(window.exportImageDashboardData[o].Value),p=JSON.parse(p.Value));ut=new t.DataManager({json:t.parseJSON(p)});rt=p.length;lt=!0;yt=".e-grid .e-columnheader.e-wrap .e-headercelldiv,.e-grid .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-responsive .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-wrap .e-columnheader .e-headercelldiv,.e-grid.e-wrap .e-rowcell,.e-grid.e-wrap.e-responsive .e-rowcell {word-wrap: break-word;}";n("head").prepend('<style type= "text/css">'+yt+"<\/style>")}else ut=new t.DataManager({json:t.parseJSON(c.pagedata)}),rt=tt;if(g={width:e.parent().width(),height:f.AllowFiltering?ft-(32+ct):ft-ct,autoHide:!1,allowVirtualScrolling:f.AllowPaging?!1:r.totalCount>tt,scrollerSize:10,enableTouchScroll:!0,virtualScrollMode:f.AllowPaging?"normal":"continuous"},this.model._dashboardData.isExportImage&&(this.model._dashboardData.isWidgetSpecific||this.model._dashboardData.isControl)&&(g={width:e.parent().width(),height:""},f.AllowPaging=null),this.model._dashboardData.isExportImage&&(f.AllowContenttoFit=null),et=null,ot=null,et=n.proxy(this._applyGrdRowFormatting,this,f.GridColumnFormats,f.GridDeltaColumns,f.ColumnList),ot=n.proxy(this._applyGridFormatting,this,f.Id,f.DateTimeColumns,f.GridDeltaColumns,f.BarTemplate,f.FormattedColumns),pt=n("<div>").attr({id:e.attr("id")+"_indicator"}).addClass("e-dbrd-controlWaiting"),this.currentTabContentElement.append(pt),v={field:"",direction:""},a=[],!t.isNullOrUndefined(f.SortedColumns)&&f.SortedColumns.length>k)for(o=0;o<f.SortedColumns.length;o++)a.push(v={field:f.SortedColumns[o].field,direction:f.SortedColumns[o].direction});if(this.model._dashboardData.isExportImage&&!window.isExportPdf){for(a=[],o=0;o<gridSettings.length;o++)if(gridSettings[o].reportName===r.reportName)for(l=0;l<gridSettings[o].sortSettings.sortedColumns.length;l++)a.push(v={field:gridSettings[o].sortSettings.sortedColumns[l].field,direction:gridSettings[o].sortSettings.sortedColumns[l].direction})}else if(this.model._dashboardData.isExportImage&&window.isExportPdf)for(a=[],w="",nt=0;nt<window.dashboardName.length;nt++)if(w=window.dashboardName[nt],window.gridSettings[w]===""&&(window.gridSettings[w]="[]"),!t.isNullOrUndefined(window.gridSettings[w]))for(b=JSON.parse(window.gridSettings[w]),o=0;o<b.length;o++)if(b[o].reportName===r.reportName)for(l=0;l<b[o].sortSettings.sortedColumns.length;l++)a.push(v={field:b[o].sortSettings.sortedColumns[l].field,direction:b[o].sortSettings.sortedColumns[l].direction});if(f.AllowPaging&&(wt=36,g.height-=wt,ht='<script id="'+e.attr("id")+'_pagerTemplate" type="text/x-jsrender"><div class="dashboard_grid_pagerAlignment pager_marginClass"><input id ="'+e.attr("id")+'_currentPage" type="text" class="dashboard_grid_pagerInput dashboard_grid_pagerAlignment"><\/input><\/div><div class="totalPages dashboard_grid_pagerAlignment"><span class="emptyText dashboard_grid_pagerAlignment pager_marginClass"><\/span><span class="pageCount dashboard_grid_pagerAlignment pager_marginClass"><\/span><span  class="rowCount dashboard_grid_pagerAlignment"><\/span><\/div><div class ="pageNavigationContainer" style="padding-top:2px" ><div><div class="e-prev e-icon e-arrowheadleft-2x e-prevpagedisabled e-disable dashboard_grid_pagerAlignment" title="Go to previous page"><\/div><\/div><div><div class="e-nextpage e-icon e-arrowheadright-2x e-default dashboard_grid_pagerAlignment" title="Go to next page"><\/div><\/div><\/div><\/script>'),h=this.dashboardControls.getControlByReport(f.Id),e.ejGrid({dataSource:ut,allowMultiSorting:f.AllowSorting,allowPaging:f.AllowPaging,enableRTL:this.rtl,query:(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("rangeData",JSON.stringify(this.rangeData)).addParams("action","Initialize").addParams("GridRowCount",JSON.stringify(r.totalCount)).addParams("maxmindata",JSON.stringify(r.maxMinData)).addParams("token",this.token).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(at))),allowResizing:!0,allowKeyboardNavigation:!0,allowResizeToFit:f.AllowContenttoFit,allowSorting:f.AllowSorting,allowFiltering:f.AllowFiltering,allowSelection:f.IsMasterFilter||f.IsLinked,allowScrolling:!0,filterSettings:{filteredColumns:d&&f.AllowFiltering&&(t.isNullOrUndefined(h.filterSetting)||h.filterSetting.length===k||!t.isNullOrUndefined(h.filterSetting)&&h.filterSetting[0].value!=="")?h.filterSetting:[]},allowTextWrap:lt,load:function(){this.element.ejWaitingPopup({showOnInit:!1,template:n("#"+this._id+"_indicator")})},enableAltRow:!1,gridLines:f.ShowHorizontalLine&&f.ShowVerticalLine?"both":f.ShowHorizontalLine&&!f.ShowVerticalLine?"horizontal":!f.ShowHorizontalLine&&f.ShowVerticalLine?"vertical":"none",selectionType:"single",columns:this._CreateColumns(f.ColumnList,f.BarTemplate,f.GridDeltaColumns,f.Id,f.AllowContenttoFit,f.ColorsaturationColumns,f.AllowFiltering,c.formattedData),rowSelected:f.IsMasterFilter||f.IsLinked?n.proxy(this._loadGridSlaves,this,f.Id,f.HiddenColumns,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,d,f.DateTimeColumns):[],rowDataBound:et,queryCellInfo:ot,sortSettings:{sortedColumns:a},scrollSettings:g,pageSettings:{pageSize:rt,totalRecordsCount:r.totalCount,enableTemplates:!0,template:ht},actionBegin:this._actionBeginEvent,actionComplete:n.proxy(this._actionCompleteForVirtualScrolling,this,r.totalCount,a,e)}),!this._applyOrRemoveNoDataAvailable(c.pagedata.length,e)){e.addClass("e-nodatagrid");return}if(e.removeClass("e-nodatagrid"),this.model._dashboardData.isWidgetSpecific&&e.css({overflow:"auto",height:"auto"}),d&&!t.isNullOrUndefined(h.filterSetting)&&h.filterSetting.length!==k)for(o=0;o<h.filterSetting.length;o++)e.find("#"+h.filterSetting[o].field+"_filterBarcell").val(t.isNullOrUndefined(h.filterSetting[o].excelFilterText)?h.filterSetting[o].value:h.filterSetting[o].excelFilterText);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&window.exportImageDashboardData&&(n("body").css({overflow:"auto"}),e.css({overflow:"auto",height:""}),e.parent().css({"overflow-y":"auto","overflow-x":"hidden",height:""}),e.parent().parent().css({overflow:"auto",height:""}),f.AllowContenttoFit=!0,this.model.enableCustomTheming&&this._customTheme(["export"]));this.model._dashboardData.isExportImage&&(bt=".e-rarrowup-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e904' !important}.e-rarrowdown-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e901' !important}",n("head").prepend('<style type= "text/css">'+bt+"<\/style>"),kt=".e-grid .e-rowcell {border-style:solid !important;border-color:rgba(0,0,0,.15)!important;border-width:1px 1px 1px 1px !important;border-collapse:collapse;}.e-DashboardViewer .e-grid .e-gridcontent .e-table tr:last-child .e-rowcell {border-bottom: 1px solid #c4c4c4 !important;border-left:1px solid #c4c4c4 !important;border-right:@grid-border-right1px solid #c4c4c4 !important;}",n("head").prepend('<style type= "text/css">'+kt+"<\/style>"));e.find(".e-scrollbar").hide();f.AllowContenttoFit?e.find(".e-headercelldiv").removeClass("e-grid-header-ellipsis"):e.find(".e-headercelldiv").addClass("e-grid-header-ellipsis");f.AllowFiltering?e.find(".e-gridheader").addClass("e-addfilter-separator"):e.find(".e-gridheader").removeClass("e-addfilter-separator");v=e.find(".e-vhandle");v.css({height:v.height()+16+"px"});this._gridInitialSelection(r,s,e);dt="<script type=\"text/x-jsrender\" id='colTip'>{{:value}}<\/script>";this.currentTabContentElement.append(dt)},_setGridConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AllowContenttoFit=!t.isNullOrUndefined(n.configInfo.AllowContenttoFit)&&n.configInfo.AllowContenttoFit;n.configInfo.AllowFiltering=!t.isNullOrUndefined(n.configInfo.AllowFiltering)&&n.configInfo.AllowFiltering;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.AllowPaging=!t.isNullOrUndefined(n.configInfo.AllowPaging)&&n.configInfo.AllowPaging;n.configInfo.AllowSorting=t.isNullOrUndefined(n.configInfo.AllowSorting)||n.configInfo.AllowSorting;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.BarTemplate=t.isNullOrUndefined(n.configInfo.BarTemplate)?null:n.configInfo.BarTemplate;n.configInfo.GridDeltaColumns=t.isNullOrUndefined(n.configInfo.GridDeltaColumns)?null:n.configInfo.GridDeltaColumns;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ShowHorizontalLine=t.isNullOrUndefined(n.configInfo.ShowHorizontalLine)||n.configInfo.ShowHorizontalLine;n.configInfo.ShowVerticalLine=t.isNullOrUndefined(n.configInfo.ShowVerticalLine)||n.configInfo.ShowVerticalLine;n.configInfo.GridColumnFormats=t.isNullOrUndefined(n.configInfo.GridColumnFormats)?null:n.configInfo.GridColumnFormats;n.configInfo.FormattedColumns=t.isNullOrUndefined(n.configInfo.FormattedColumns)?[]:n.configInfo.FormattedColumns;n.configInfo.SortedColumns=t.isNullOrUndefined(n.configInfo.SortedColumns)?[]:n.configInfo.SortedColumns;n.configInfo.ColorsaturationColumns=t.isNullOrUndefined(n.configInfo.ColorsaturationColumns)?[]:n.configInfo.ColorsaturationColumns;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.HiddenColumns=t.isNullOrUndefined(n.configInfo.HiddenColumns)?null:n.configInfo.HiddenColumns;n.configInfo.ColumnList=t.isNullOrUndefined(n.configInfo.ColumnList)?[]:n.configInfo.ColumnList},_actionBeginEvent:function(n){n.requestType==="filtering"&&(n.currentFilterObject[0].value=n.currentFilterObject[0].value.trimRight())},_actionCompleteForVirtualScrolling:function(i,r,u,f){var a=13,c=null,o=null,h,e,s,l;if(c=n("#"+u[0].id).attr("data-controlid"),f.filterCollection){if(h=this.dashboardControls.getControlByReport(c),h.filterSetting.length>0)for(o=0;o<f.filterCollection.length;o++)f.filterCollection[o].excelFilterText=h.filterSetting[o].excelFilterText;h.filterSetting=f.filterCollection}(e=u.data("ejGrid"),s=u.find(".e-pagercontainer"),!t.isNullOrUndefined(e)&&e.model.allowPaging&&(u.find(".totalPages").find(".emptyText").text("of"),u.find(".totalPages").find(".pageCount").text(e.model.pageSettings.totalPages+" Pages"),u.find(".totalPages").find(".rowCount").text(" - "+e.model.pageSettings.totalRecordsCount+" Items"),e.initialRender&&(s.find("input").val(1),s.find("input").keydown(function(t){if(t.keyCode>=65)return!1;if(t.keyCode===a){var u=t.currentTarget.getAttribute("id"),f=u.replace("_currentPage",""),r=n("#"+f).data("ejGrid"),i=parseInt(n(t.currentTarget).val());return i>r.model.pageSettings.totalPages&&(i=r.model.pageSettings.totalPages),i<=0&&(i=1),isNaN(i)?(i=r.model.pageSettings.currentPage,s.find("input").val(e.model.pageSettings.currentPage)):r.gotoPage(i),!1}return!0})),e.model.pageSettings.currentPage===e.model.pageSettings.totalPages?u.find(".e-nextpage").addClass("e-nextpagedisabled").removeClass("e-nextpage"):u.find(".e-nextpagedisabled").addClass("e-nextpage").removeClass("e-nextpagedisabled"),f.requestType==="paging"&&(e.model.pageSettings.currentPage===1?u.find(".e-prevpage").addClass("e-prevpagedisabled e-disable").removeClass("e-prevpage"):u.find(".e-prevpagedisabled").addClass("e-prevpage").removeClass("e-prevpagedisabled e-disable"),s.find("input").val(e.model.pageSettings.currentPage))),i<50||this.model._dashboardData.isExportImage)||(e.initialRender&&f.requestType==="refresh"&&(l={instance:e,count:i,isLocal:!1,offline:!1,dataSource:!0,sortedColumns:r,reportName:c},this._updateDataSource(l)),e.model.pageSettings.totalPages===2&&(f.requestType==="virtualscroll"||f.requestType==="sorting")&&e.getScrollObject().refresh())},_updateDataSource:function(i){var o=0,s=50,r=i.instance,u=null,e=null,f;if(r._gridRecordsCount=i.count,r._isLocalData=i.isLocal,r.model.sortSettings.sortedColumns=typeof i.sortedColumns!="undefined"&&i.sortedColumns.length>o?i.sortedColumns:[],r.model.pageSettings.totalPages=Math.ceil(i.count/s),i.update){if(r.model.dataSource=i.json,e=r.model.columns,!t.isNullOrUndefined(i.formattedData))for(u=0;u<e.length;u++)t.isNullOrUndefined(e[u].foreignKeyField)||(e[u].dataSource=t.parseJSON(JSON.parse(i.formattedData)));r.model.actionComplete=n.proxy(this._actionCompleteForVirtualScrolling,this,i.count,i.sortedColumns,r.element);r.refreshContent();i.count>s&&r._dataSource(this._getCustomDatamanager());r._isLocalData=i.isLocal}if(i.dataSource===!0)r.option({scrollSettings:{allowVirtualScrolling:!i.instance.model.allowPaging}}),r.model!==null&&n.extend(r.model.dataSource,this._getCustomDatamanager()),r._isLocalData=!1;else if(r._isLocalData=!0,f=this.dashboardControls.getControlByReport(i.reportName),r.dataSource(i.json),!t.isNullOrUndefined(f.filterSetting)&&f.filterSetting.length!==o)for(u=0;u<f.filterSetting.length;u++)n("#"+f.filterSetting[u].field+"_filterBarcell").val(f.filterSetting[u].excelFilterText);i.needRefresh&&(r._gridRecordsCount=i.count,r.getScrollObject().refresh());r.initialRender||r.model===null||(r.model.query._params[5].value=String(i.count))},_processQuery:function(i,r,u){var v=0,y=1,p=null,c=null,w=[],s=[],l=null,f=null,e=null,o=[],b=null,k=JSON.parse(JSON.stringify(this.dashboardParameters)),d=this.model.localeSettings.resourcePath,g=this.model.localeSettings.culture,a,h;if(u.queries[0].fn==="onWhere"){if(a=this.dashboardControls.getControlByReport(u._params[1].value),u.queries[0].e.isComplex)for(o=JSON.parse(JSON.stringify(u.queries[0].e.predicates)),f=0;f<o.length;f++)o[f].excelFilterText=n("#"+o[f].field+"_filterBarcell").val();else o.push(JSON.parse(JSON.stringify(u.queries[0].e))),o[0].excelFilterText=n("#"+o[0].field+"_filterBarcell").val();a.filterSetting=o;this.dashboardControls.updateCurrentReport(a)}else for(e=0;f<this.dashboardControls.controls.length;f++)this.dashboardControls.controls[e].reportName===u._params[1].value&&(this.dashboardControls.controls[e].filterSetting=[]);for(l=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length===v?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+u._params[1].value):this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(v),l&&this._createControlWaitingIndicator(l,!0),f=0;f<u.queries.length;f++)if(u.queries[f].fn==="onPage")p=u.queries[f].e.pageIndex,c=u.queries[f].e.pageSize,b=c*(p-y)+y;else if(u.queries[f].fn==="onSortBy")w.push(u.queries[f].e);else if(u.queries[f].fn==="onWhere")if(u.queries[f].e.isComplex)for(e=0;e<u.queries[f].e.predicates.length;e++)if(u.queries[f].e.predicates[e].isComplex)for(h=0;h<u.queries[f].e.predicates[e].predicates.length;h++)s.push(u.queries[f].e.predicates[e].predicates[h]);else s.push(u.queries[f].e.predicates[e]);else s.push(u.queries[f].e);return{url:r.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({dashboardPath:u._params[0].value,controlId:u._params[1].value,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),controlRowCount:u._params[5].value,startIndex:b,pageSizeOnDemand:c,sortData:JSON.stringify(w),allowFilterData:JSON.stringify(s),maxmindata:u._params[6].value,action:i,modifiedConnectionStrings:this.modifiedConnectionStrings,token:u._params[7].value,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardName:this.dashboardName,customCulture:g,CustomLanguagePath:d,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardParameterSettings:this._setAjaxDashboardParameterValue(k)})}},_processResponse:function(i,r){var v=this,e,u,h,c,o;setTimeout(function(){v._destroyAllControlWaitingIndicator()},500);var s=[],l=[],f=0,a=50;if(t.isNullOrUndefined(r.d[0].Value)||t.isNullOrUndefined(r.d[0].Value[0].value)||(s=JSON.parse(r.d[0].Value[0].value)),e=0,u=n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key).data("ejGrid"),t.isNullOrUndefined(u)||u.model.allowPaging?e=u._gridRecordsCount:(h=JSON.parse(s.Result.replace("/\r?\r\n|\r/","")),e=h.length<a?u._gridRecordsCount-h.length:u._gridRecordsCount+a),c=this.dashboardControls.getControlByReport(r.d[0].Key),c.totalCount=e,this.dashboardControls.updateCurrentReport(c),!t.isNullOrUndefined(r.d[0].Value)&&!t.isNullOrUndefined(r.d[0].Value[1].value))for(this._setLoadedAttr(r.d[0].Key),o=n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key).data("ejGrid").model.columns,f=0;f<o.length;f++)t.isNullOrUndefined(o[f].foreignKeyField)||(l=JSON.parse(r.d[0].Value[1].value),o[f].dataSource=t.parseJSON(JSON.parse(l.Result.replace("/\r?\r\n|\r/",""))));return{result:t.parseJSON(JSON.parse(s.Result.replace("/\r?\r\n|\r/",""))),count:e}},_getCustomDatamanager:function(i){var r=(new t.Adaptor).extend({processQuery:n.proxy(this._processQuery,this,i),beforeSend:function(){},processResponse:n.proxy(this._processResponse,this,i)},this);return t.DataManager({url:this.serviceUrl()+"/GetControlDataOnDemand",crossDomain:!0,adaptor:new r})},_gridInitialSelection:function(n,i,r){var g=-1,nt=1,e,o,s,h,k,it;if(n.configInfo.IsMasterFilter&&n.SelectedFilterInfo&&n.SelectedFilterInfo.length>0){var c=null,a=n.getCurrentPageData(),f=0,u=0,v=0,y=r.data("ejGrid"),rt=y.model.rowSelected;for(y.model.rowSelected=null,e=[],u=0;u<n.SelectedFilterInfo.length;u++)if(n.SelectedFilterInfo[u].DateFilterInfo&&n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList),n.SelectedFilterInfo[u].DimensionFilterInfo&&n.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DimensionFilterInfo.Text),c)for(f=0;f<a.pagedata.length;f++)for(o=-1,v=0;v<c.length;v++){if(s=a.pagedata[f][n.SelectedFilterInfo[u].UniqueColumnName.toUpperCase()],h=c[v],s&&h)if(Date.parse(s).toString()==="NaN"&&Date.parse(h).toString()==="NaN"&&s===h)o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else if(Date.parse(h)!=="NaN"&&Date.parse(s)!=="NaN"&&Date.parse(h)===Date.parse(s))o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else{o=g;break}o!==g&&e.push(o)}for(var p="",d="",l=t.DashboardConstants.Zero,w=t.DashboardConstants.Zero,b=t.DashboardConstants.Zero,tt=t.DashboardConstants.Zero,l=t.DashboardConstants.Zero;l<e.length;l++){for(k=e[l],b=t.DashboardConstants.Zero,w=l+t.DashboardConstants.One;w<e.length;w++)it=e[w],k===it&&(p=k,b+=t.DashboardConstants.One);p===""&&(p=k);b>=tt&&(tt=b,d=p)}d!==""&&y.selectRows(d);r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0");r.parents(".e-dbrd-control-container").data({IsFilterApplied:!0});y.model.rowSelected=rt}else r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})},_applyGrdRowFormatting:function(i,r,u,f){var l=0,w=-1,tt=2,it=3,st=100,o=0,lt=String.fromCharCode(127),rt=null,ut=null,h,ft,e,et,ct,ot,k,v;if(!t.isNullOrUndefined(i)&&i.length>l)for(h=0;h<i.length;h++)for(o=0;o<f.model.columns.length;o++)if(f.model.columns[o].field===i[h].name&&i[h].type!==tt&&(ft=f.data[i[h].name],f.data[i[h].mappingcolor])){var at=f.data[i[h].mappingcolor],a=at.toString().split(lt),vt=a[0],b=a[1],d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);t.isNullOrUndefined(d)||(b="rgba("+parseInt(d[1],16)+", "+parseInt(d[2],16)+", "+parseInt(d[3],16)+", 0.6)");var ht=a[2],g="normal",nt="normal";if(b!==""&&vt===i[h].formatName){i[h].colorScaleStyle===l&&a.length>it&&(rt=a[3].indexOf("True")!==w?"line-through":"",ut=a[4].indexOf("True")!==w?"underline":"",g=a[5].indexOf("True")!==w?"bold":g,nt=a[6].indexOf("True")!==w?"italic":nt);i[h].type===l?n(f.row).children().eq(o).html(ft.value).css("cssText","text-align:"+(i[h].isDimension?"left":"right")+"; color:"+ht+"!important; background-color:"+b+" !important; text-decoration: "+rt+" "+ut+"; font-style:"+nt+";font-weight: "+g+";"):(n(f.row).css({color:ht,"background-color":b,"text-decoration":rt+" "+ut,"font-style":nt,"font-weight":g,opacity:"0.6"}),n(f.row).children().eq(o).html(ft));break}}for(o=0;o<f.model.columns.length;o++)if(e=f.model.columns[o].field.toUpperCase(),!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r[e])&&r[e].deltaExpression!==l){var y=r[e].indication===l,p=null,s=null,c=null;r[e].deltaExpression!==4?(et=f.data[r[e].actualValue],p=f.data[r[e].targetValue],ct=f.data[f.model.columns[o].field],ot=et-p,s=this._calculateGridDeltaActualValue(et,p,ct,r[e].deltaExpression===it||r[e].deltaExpression===tt,y,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),r[e].deltaExpression!==t.DashboardConstants.One||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.GroupSeparator)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),c=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),c.append(n("<div>").addClass("img"),n("<div>").html(s.value).addClass("value")),n(f.row).children().eq(o).html(c),r[e].isBackground&&(ot>l?n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):ot===l?n(f.row).children().eq(o).html(c.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#E57368 !important;":"background-color :#34B67A !important;"))):(p=f.data[r[e].targetValue],k=f.data[f.model.columns[o].field],s=this._calculateGridDeltaColumnValues(k,r[e].deltaExpression===it,r[e].deltaExpression===tt,y,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),v=p!==l?parseFloat(k/p*st):st,v=Math.round(v),v=parseFloat(v)<l?parseFloat(v)*w:v,c=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),c.append(n("<div>").addClass("img"),n("<div>").html(s.value+"("+v+"%)").addClass("value")),n(f.row).children().eq(o).html(c),r[e].isBackground&&(k>l?n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):k===l?n(f.row).children().eq(o).html(c.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(c.value).css("cssText",y?"background-color :#E57368 !important;":"background-color :#34B67A !important;")))}},_applyGridFormatting:function(i,r,u,f,e,o){var h=0,l=-1,p=2,c=null,a=null,v=null,s=o.column.field.toUpperCase(),y,w;if(!t.isNullOrUndefined(f)&&f[s]){if(c=f[s],isNaN(parseFloat(o.text)))return;a=n(o.cell).parents("tbody").children().index(n(o.cell).parent());v=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(v);parseFloat(o.text)>=h?(v.ejProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?l*c.Min:c.Max,value:parseFloat(o.text).toFixed(p)}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+" .e-progress").css({background:"#00A551"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text)})):(v.ejProgressBar({minvalue:c.Max<h?l*c.Max:h,maxValue:l*c.Min,value:l*parseFloat(o.text).toFixed(p),enableRTL:!0}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+" .e-progress").css({background:"#E04946"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text)}));return}if(e[s]){e[s].type==="Percent"?n(o.cell).html(this._applyPercentage(e[s].format,e[s].culture,e[s].unit,o.text)):t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")):n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator));return}if(!t.isNullOrUndefined(u)&&u[s]){if(u[s].isBar){if(c=u[s],isNaN(parseFloat(o.text)))return;a=n(o.cell).parents("tbody").children().index(n(o.cell).parent());v=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(v);parseFloat(o.text)>=h?(v.ejProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?l*c.Min:c.Max,value:parseFloat(o.text).toFixed(p)}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+" .e-progress").css({background:u[o.column.field].indication===h?"#00A551":"#E04946"}).attr({"data-value":o.text})):(v.ejProgressBar({minvalue:c.Max<h?l*c.Max:h,maxValue:l*c.Min,value:l*parseFloat(o.text).toFixed(p),enableRTL:!0}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+a+" .e-progress").css({background:u[o.column.field].indication===h?"#E04946":"#00A551"}).attr({"data-value":o.text}));return}u[s].deltaExpression===h&&(y=this._calculateGridDeltaColumnValues(o.text,!1,!1,u[s].indication===h,u[s].isBackground,this._getFormatString(u[s].formatproperties.FormatType,u[s].formatproperties.DecimalPoints),u[s].formatproperties.Culture,u[s].formatproperties.Unit),t.isNullOrUndefined(u[s].formatproperties.DecimalSeparator)||t.isNullOrUndefined(u[s].formatproperties.GroupSeparator)||(y.value=y.value.replaceAll(u[s].formatproperties.DecimalSeparator.CurrentValue,u[s].formatproperties.DecimalSeparator.AliasValue),y.value=y.value.replaceAll(u[s].formatproperties.GroupSeparator.CurrentValue,u[s].formatproperties.GroupSeparator.AliasValue)),w=u[s].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+y.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+y.css),w.append(n("<div>").addClass("img"),n("<div>").html(y.value).addClass("value")),n(o.cell).html(w),u[s].isBackground&&(parseFloat(o.text)>h?n(o.cell).css("cssText",u[s].indication===h?"background-color :#34B67A !important":"background-color :#E57368 !important"):parseFloat(o.text)===h?n(o.cell).css("cssText","background-color :#FBCB43 !important"):n(o.cell).css("cssText",u[s].indication===h?"background-color :#E57368 !important":"background-color :#34B67A !important")))}},_CreateColumns:function(n,i,r,u,f,e,o,s){var h,p,l,v,a,y;this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(f=!0);var w=100,c=[],b=0;for(h=0;h<n.length;h++){if(p=!1,l=0,!t.isNullOrUndefined(r))for(l=0;l<r.length;l++)if(r[l].toLowerCase()===n[h].ColumnName.replace(/\s/g,"").toLowerCase()){p=!0;break}if(v=!1,!t.isNullOrUndefined(e))for(l=0;l<e.length;l++)if(e[l].toLowerCase()===n[h].Field.toLowerCase()){v=!0;break}if(n[h].IsLinkTemplate?(a=n[h].ColumnUrlLink,y=a.match(/~currentdomain~ *?/gi),y!==null&&y.length!==t.DashboardConstants.Zero&&(a=a.replace(y[0],encodeURI(location.protocol+"//"+location.host))),this._CreateLinkTemplate("LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),n[h].Field,n[h].IsDate,n[h].Format,n[h].IsColumnTypeUrl,a),c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,allowSorting:!0,isFilter:n[h].IsFilterColumn,template:!0,templateID:"#LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip})):p?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,allowSorting:!1,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):!t.isNullOrUndefined(i)&&i[n[h].ColumnName.toUpperCase()]?c.push({field:n[h].Field.toLowerCase(),headerText:n[h].ColumnName,textAlign:n[h].TextAlign,type:"number",isFilter:n[h].IsFilterColumn}):n[h].Format&&n[h].IsDate&&!n[h].IsTime?n[h].IsCustomFormat?c.push({field:n[h].Field,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",headerText:n[h].ColumnName,textAlign:n[h].TextAlign,dataSource:t.parseJSON(s),format:"{0:"+n[h].Format+"}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,format:"{0:"+n[h].Format+"}",type:"DateTime",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsDate&&n[h].IsTime?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,template:"{{:"+n[h].Field+".Hours}} : {{:"+n[h].Field+".Minutes}} : {{:"+n[h].Field+".Seconds}}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):v?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,width:n[h].Width,isFilter:n[h].IsFilterColumn}):n[h].IsBooleanColumn?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,type:"string",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsCustomFormat?c.push({field:n[h].Field,headerText:n[h].ColumnName,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",dataSource:t.parseJSON(s),textAlign:n[h].TextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}),f&&!v||this.model._dashboardData.isExportImage||(c[h].width=n[h].Width>w?n[h].Width:w),o&&(c[h].filterBarTemplate={create:this.createFilterBar,write:this.writeFilterBar,read:this.readFilterBar}),b+=1,b===n.length)break}return c},createFilterBar:function(){return"<input type='search'>"},writeFilterBar:function(n){n.element.after('<span class="e-cancel e-icon e-hide"><\/span>');this._off(this.element,"keyup",n.element)._on(n.element,"keyup",t.proxy(n.column.filterBarTemplate.read,this,n))},readFilterBar:function(n){var r=this,u=-1,f=2,t=1,i=0;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var e=n.element.val(),o="startswith";e.indexOf("*")!==u&&(e.match(/[*]/g).length===f?(o="contains",e=e.replace(/[*]/g,"")):e.lastIndexOf("*")===e.length-t?(o="startswith",e=e.replace(/[*]/g,"")):(o="endswith",e=e.replace(/[*]/g,"")));e.length>i&&e[0]==='"'&&e[e.length-t]==='"'&&(o="equal",e=e.replace(/["]/g,""));r.filterColumn(n.column.field,o,e,"and",!1)},n===null?i:1500)},_CreateLinkTemplate:function(n,t,i,r,u,f){var e=null;e=i?u?'<script type="text/x-jsrender" id='+n+">{{if "+t+" == null}}{{:"+t+"}}{{else}}<a data-url ='"+f+"' class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a>{{/if}}<\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == null}}{{:"+t+"}}{{else}}<a class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a>{{/if}}<\/script>":u?'<script type="text/x-jsrender" id='+n+"> {{if "+t+" == '(Null)' || field == '(Blanks)'}} {{:"+t+"}} {{else}} <a data-url ='"+f+"' class='e-gridhyperlink'>{{:"+t+"}}<\/a>{{/if}}<\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == '(Null)' || field == '(Blanks)'}} {{:"+t+"}} {{else}} <a class='e-gridhyperlink'>{{:"+t+"}}<\/a>{{/if}}<\/script>";this.currentTabContentElement.append(e)},_gridLinking:function(i){var u=i.currentTarget.dataset.url,e=n("#"+n(i.currentTarget).parents(".e-dbrd-control").attr("id")).data("ejGrid"),f={widgetInstance:e,viewerInstance:this},r={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:f};if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:r}),this._trigger("beforeNavigate",{data:r}),!r.handled){switch(r.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(r))return}r.url===""||t.isNullOrUndefined(r.url)||t.DashboardConstants.Window.open(r.url,r.target);r={url:u,target:t.dashboardViewer.navigationTargets.Blank,source:f};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:r});this._trigger("afterNavigate",{data:r})}},_calculateGridDeltaColumnValues:function(n,t,i,r,u,f,e,o){var c=0,l=1,h=100,s=parseFloat(n);return(s.toString()==="Infinity"&&(s=100),isNaN(s))?{value:n,css:""}:u===!0?(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"up"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"down"}:(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"greenUp":"redUp"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"redDown":"greenDown"}},_calculateGridDeltaActualValue:function(n,t,i,r,u,f,e,o,s){var a=0,c=100,h=n-t,l=Math.abs(parseFloat(i));return(h.toString()==="Infinity"&&(h=100),isNaN(h))?{value:n,css:""}:f===!0?h>a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"up"}:h===a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"down"}:h>a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:u?"greenUp":"redUp"}:h===a?{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?l/c:n),css:u?"redDown":"greenDown"}},_getFormatString:function(n,t){switch(n){case 0:case 1:return"N"+t;case 2:return"C"+t;case 3:return"P"+t}return"N"+t},_showGridBarToolTip:function(t){var r=0,i=null,u;n("#"+this._id+"_Grid_ToolTip").length===r?(i=n("<div>").attr({id:this._id+"_Grid_ToolTip","class":"e-grid-bar-tooltip"}),this.currentTabContentElement.append(i)):(i=n("#"+this._id).find("#"+this._id+"_Grid_ToolTip"),i.css({display:"block"}));u=this._applyStringFormatting("N2","en-us",r,n(t.currentTarget).find("div").attr("data-value"));i.html(u).css({top:t.clientY-20,left:t.clientX,position:"fixed","z-index":"10000"})},_hideGridBarToolTip:function(){n("#"+this._id+"_Grid_ToolTip").length!==0&&n("#"+this._id+"_Grid_ToolTip").css({display:"none"})},_getDateFormatValue:function(n,t){switch(t){case"MMM":return this.month[n.getMonth()];case"MMM yyyy":return this.month[n.getMonth()]+" "+n.getFullYear();case"dd/MM/yyyy":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear();case"MM/dd/yyyy":return this._getMonth(n)+"/"+this._getDate(n)+"/"+n.getFullYear();case"dddd":return this.weekDays[n.getDay()];case"dd/MM/yyyy HH":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear()+" "+(n.getHours()<9?"0"+n.getHours():n.getHours().toString());case"yy":return n.getYear();case"yyyy":return n.getFullYear();default:return n.toISOString()}},_getMonth:function(n){var t=1;return n.getMonth()<10?"0"+n.getMonth()+t:n.getMonth()+t},_getDate:function(n){return n.getDate()<10?"0"+n.getDate():n.getDate()},_loadGridSlaves:function(i,r,u,f,e,o,s){var w=0,b=-1,nt=1,tt=2,ot=!t.isNullOrUndefined(u),h=0,p=0,k=0,l=0,rt,ut,ft,a;if((this.controlRelations.length!==w||ot)&&this.flag){var c=[],it=null,et=null,d=[],v=[],g=[],y=null;if(!t.isNullOrUndefined(s)){if(s.model.selectionType===t.Grid.SelectionType.Multiple)for(rt=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejGrid").selectedRowsIndexes,p=0;p<rt.length;p++){for(c=[],h=0;h<s.model.columns.length;h++)v.push(s.model.dataSource[rt[p]][s.model.columns[h].field]),c.push({Column:s.model.columns[h].field,Value:v});if(r!==null)for(h=0;h<r.length;h++)v.push(s.model.dataSource[s.rowIndex][r[h].toLowerCase()]),c.push({Column:r[h].toLowerCase(),Value:v});d.push({Items:c})}else{for(h in s.model.columns)t.isNullOrUndefined(u)&&s.model.columns[h].type==="number"||{}.hasOwnProperty.call(s.model.columns,h)&&(v=[],g=[],!t.isNullOrUndefined(u)&&(u.LinkType===w||u.LinkType===tt)&&s!==null&&s.target.hasClass("e-gridhyperlink")?s.target.html()===s.data[s.model.columns[h].field]&&(v.push(s.data[s.model.columns[h].field]),t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,g.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue])),c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:g,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="date",Format:s.model.columns[h].format})):(v.push(s.data[s.model.columns[h].field]),t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,g.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue])),c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:g,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="date",Format:s.model.columns[h].format})));if(r!==null)for(k=0;k<r.length;k++)v=[],v.push(s.data[r[k]]),c.push({Column:r[k].toLowerCase(),Value:v});y=this.dashboardControls.getControlByReport(i);e||s.model.columns[h].type==="number"||(ut=[],ut.push({ColumnValues:c}),y.SelectedItems.Included=ut);d.push({Items:c})}if(ft=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejGrid"),!t.isNullOrUndefined(u)&&(u.LinkType===w||u.LinkType===tt)&&s!==null&&s.target.hasClass("e-gridhyperlink")){if(this._controlNavigate(u,d),s!==null&&s.target.hasClass("e-gridhyperlink")||!f)return}else if(t.isNullOrUndefined(u)||u.LinkType!==w&&u.LinkType!==tt){if(!t.isNullOrUndefined(u)&&u.LinkType===nt){if(u.GridUrlType===w){this._controlNavigate(u,d,ft);return}if(s!==null&&s.target.hasClass("e-gridhyperlink")||!f)return}}else{this._controlNavigate(u,d,ft);return}}e||(this.requestTimer!==null&&clearTimeout(this.requestTimer),a=this,this.requestTimer=setTimeout(function(){var f,u,e,r,k,v;for(h=0;h<a.controlRelations.length;h++)if(a.controlRelations[h].Master.indexOf("Grid")!==b&&a.controlRelations[h].Master.lastIndexOf("_"+i)!==b){if(it=a.controlRelations[h].Slaves,it.length===w){et=a._checkFilterOverviewData(i);a._addFilterDataToTitle(et);return}if(f=0,u=a._checkMasterData(i),l=-1,u!==null)for(l=0;l<a.masterData[u].Value.length;l++)a.masterData[u].Value.length===c.length&&a.masterData[u].Value[l].Column===c[l].Column&&a.masterData[u].Value[l].value===c[l].value&&(f+=nt);if(f===l)return;if(u!==null&&a.masterData.splice(u,nt),s!==null&&c.length>w)for(y=a.dashboardControls.getControlByReport(i),h=0;h<c.length;h++)if(e=o.length!==w?o:[],l=a._checkFilterInfo(c[h].Column,y.SelectedFilterInfo),t.isNullOrUndefined(l)||l===b){if(r=new selectedFilterInfo,r.UniqueColumnName=c[h].Column,e.indexOf(c[h].Column.toUpperCase())!==b){if(c[h].IsDateTime)for(p=0;p<c[h].Value.length;p++);r.DateFilterInfo.DateFilterList=c[h].Value;r.DateFilterInfo.DisplayDateFilterList=c[h].DisplayValue;r.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude}else r.DimensionFilterInfo.Text=c[h].Value,r.DimensionFilterInfo.Conditions="Include";r.ReportName=y.reportName;y.SelectedFilterInfo.push(r)}else{if(e.indexOf(c[h].Column.toUpperCase())!==b){if(c[h].IsDateTime)for(p=0;p<c[h].Value.length;p++);y.SelectedFilterInfo[l].DateFilterInfo.DateFilterList=c[h].Value;y.SelectedFilterInfo[l].DateFilterInfo.DisplayDateFilterList=c[h].DisplayValue}else y.SelectedFilterInfo[l].DimensionFilterInfo!==null&&(y.SelectedFilterInfo[l].DimensionFilterInfo.Text=c[h].Value);y.SelectedFilterInfo[l].ReportName=y.reportName}a.target=[];k={master:i,masterData:a.masterData,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};a._makeSlaveDataRequest(k);break}t.isNullOrUndefined(s)||(v=a._id+t.DashboardConstants.Widget+i,n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},s===null?w:1500))}}}}(jQuery,Syncfusion);$.views.helpers({_dateFormat:function(n,t){return t!==""?ej.format(n,t):n}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.gauges={_renderGauges:function(r,u){var o=r.configInfo,et=this.dashboardControls.getControlByReport(o.Id),a=0,ot=-1,v=1,l=2,li=10,st=5,ai=24,dt=null,c=null,y=null,k=null,p,gt,g,it,ni,at,vt,vi,ti,ii,yt,e,s,pi,wi,tt,hi,ci,bt,ir,kt;t.isNullOrUndefined(r.data)||t.isNullOrUndefined(r.data[0].pagedata)||!this._dashboardData().isExportImage||(dt=r.data[0],r.currentPage=v,dt.scrollTop=0);var d=this._dashboardData().isExportImage?dt:r.getCurrentPageData(),ht=n("#"+this._id+"_cell_"+o.Row+"_"+o.Column),f=ht.find(".e-dbrd-control");if(d.isError){f.attr({"data-controlId":o.Id});f.attr({id:this._id+t.DashboardConstants.Widget+o.Id});this._showControlError(d.pagedata,n("#"+this._id+"_cell_"+o.Row+"_"+o.Column).find(".e-dbrd-control"),o);return}if(this._hideControlError(n("#"+this._id+"_cell_"+o.Row+"_"+o.Column).find(".e-dbrd-control")),t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gaugeDiv)?(ht.attr({"data-controltype":"CircularGauge"}),f.attr({"data-controlId":o.Id,"data-controlLinkData":JSON.stringify(o.IsLinked?o.ControlLinkData:""),"data-isMaster":o.IsMasterFilter}).addClass("dashboardGaugeControl"),f.attr({id:this._id+t.DashboardConstants.Widget+o.Id})):f=u.gaugeDiv,this._applyOrRemoveNoDataAvailable(d.pagedata.length,f)){if(p=f.attr("id"),r.loadedPages.length===a||u&&u.isMaximize){r.loadedPages.indexOf(r.currentPage)===ot&&r.loadedPages.push(r.currentPage);p=f.attr("id");t.isNullOrUndefined(u)?(f.attr({id:this._id+t.DashboardConstants.Widget+o.Id}).addClass("dashboardGaugeControl"),p=f.attr("id"),ht.find(".e-remove-control-filter").attr("id",p+"_removeControlFilter"),r.SelectedItems.Included&&r.SelectedItems.Included.length!==a&&ht.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),ht.find(".e-dbrd-export").attr({value:o.Id})):f.html("");gt=0;f.children().length>a&&(f.data("ejScroller")&&(gt=f.data("ejScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove());var rr=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),lt=f.parents(".e-dbrd-control-container").height()-f.parents(".e-dbrd-control-container").find(".e-control-heading").height()-(rr+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top"))))-st;f.css({height:lt+"px"});g=this._calculateGaugeSize(d.pagedata.length,f.height(),f.width()-24,r.currentPage,f,r.scrollSetting.controlPerPage);it=g.table;k=n("<div>").css({width:"98%"});f.append(k.append(it));it.css({position:"relative"});r.scrollSetting.rowPerPage=g.RowCount;r.scrollSetting.colPerPage=g.ColumnCount;r.totalPages=Math.ceil(r.totalCount/r.scrollSetting.controlPerPage);r.scrollSetting.heightOfColumn=g.Height;r.scrollSetting.widthOfColumn=g.Width;r.currentPage===v?(k.css({position:"absolute"}),r.heightPerPage=it.height()):r.currentPage>v&&(it.prepend(n("<tr>").css({height:(r.currentPage-v)*r.heightPerPage})),it.append(n("<tr>").css({height:(r.totalPages-r.currentPage)*r.heightPerPage})),r.scrollSetting.scrollTop!==a||f.hasClass("e-dbrd-MaximizedControl")||(r.scrollSetting.scrollTop=(r.currentPage-v)*r.heightPerPage));ni=!1;f.data("ejScroller")&&(f.ejScroller("destroy"),ni=!0);ni&&f.css({height:lt+"px"});g.RowCount>v?f.ejScroller({height:lt,scrollerSize:13,scrollTop:gt}):(k.css({width:"98%"}),f.css({display:"table"}));r.scrollSetting.visibleHeight=lt}else{for(at=0,vt=0,c=0;c<r.totalPages;c++)r.loadedPages.indexOf(r.currentPage-c-v)!==ot&&at===a&&(at=r.currentPage-c-v),r.loadedPages.indexOf(r.currentPage+c+v)!==ot&&vt===a&&(vt=r.currentPage+c+v);r.loadedPages.indexOf(r.currentPage)===ot&&(r.loadedPages.push(r.currentPage),vi={controlId:p,previousPage:at,nextPage:vt,data:r,heightofColumn:r.scrollSetting.heightOfColumn},this._renderRowsOndemand(vi))}for(ti=o.Properties.SelectedValues,ii=[],yt=0;yt<ti.length;yt++)ii.push(ti[yt].Value);var ur=r.getPageDataBypage(r.currentPage),ri=ur.pagedata,w=r.scrollSetting.heightOfColumn,nt=[],yi=.5,ui=r.scrollSetting.widthOfColumn,b=0;for(c=0;c<r.scrollSetting.controlPerPage;c++)if(ri[c]){if(e=JSON.parse(ri[c]),s=n("<div>").attr({id:p+"_child_"+c}).addClass("e-multiple-series").css({overflow:"hidden","vertical-align":"middle"}),o.seriesName.toLowerCase()!==""){if(ii.indexOf(e.Title)!==ot&&s.addClass("e-circularGauge-Selected"),s.removeClass("e-childGauge").addClass("e-childGauge-Series pull-left e-multiple-series"),(o.IsMasterFilter||o.IsLinked)&&s.addClass("e-childGauge-Series-master"),r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DimensionFilterInfo&&r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==a){for(b=0;b<r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length;b++)r.SelectedFilterInfo[0].DimensionFilterInfo.Text[b]===e.ActualTitle&&nt.push(s.attr("id"));n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DateFilterInfo&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==a){for(b=0;b<r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length;b++)r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[b]===e.ActualTitle&&nt.push(s.attr("id"));n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}}else f.addClass("e-childGauge"),w>f.height()&&(w=f.height()-yi),k||(k=f.children().first()),(o.IsMasterFilter||o.IsLinked)&&f.addClass("e-childGauge-Series-master"),k.css({display:"table-cell","vertical-align":"middle"}),f.css({display:"table","vertical-align":"middle"});d.pagedata.length===v&&(s=n("<div>").attr({id:p+"_child_"+c}));n("#"+p+"_child_column_"+((r.currentPage-v)*r.scrollSetting.controlPerPage+c)).html("");n("#"+p+"_child_column_"+((r.currentPage-v)*r.scrollSetting.controlPerPage+c)).append(s);pi=this;wi=4;!t.isNullOrUndefined(e.customHeader)&&e.customHeader.visible&&(e.customHeader.text=pi._updateTextWithParameterColumns(e.customHeader.text,o.ParameterColumns));s.attr({"data-stuff":'["'+o.Properties.ValueExpression+'","'+o.Properties.GoalExpression+'"]',"data-value":e.ActualTitle}).prop({Value:e.Title});d.pagedata.length>v?s.css({height:r.scrollSetting.heightOfColumn,width:r.scrollSetting.widthOfColumn}):s.css({height:f.height()-yi-st,width:f.width()-wi});var pt=.9,bi=1.25,h=Math.min(s.width()/l,s.height()/bi)*pt,rt=null;this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&this._dashboardData().isControl&&r.length>v&&(s.css({height:f.height()/null-5}),f.css({"overflow-y":"visible"}));var fi=null,ut=null,ei=null,oi=null,si=null,ki=50,di=200,gi=2.5;o.Properties.FrameType==="FullCircular"?(h=Math.min(s.width()/l,s.height()/l)*pt,fi="FullCircular",ut={halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,startAngle:122,sweepAngle:296},w=s.height(),ui=s.width(),ei={x:s.width()/l,y:w/l},oi={x:s.width()/l,y:w/l+h/st},si="far",rt=h<ki?0:h<di?12:14):(fi="halfcircle",h=Math.min(s.width()/l,s.height()/bi)*pt,w=s.height(),ui=s.width(),ut={halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,startAngle:180,sweepAngle:180},ei={x:s.width()/l,y:(w-h)/l+h-h/li-h/st},oi={x:s.width()/l,y:(w-h)/l+h-h/li},si="near",rt=h<ki?0:h<di?12:14);var fr={height:50,width:h*l,adjustFont:"width",text:e.ValueLabel+" "+o.ShowSuffix?o.CustomLabelText:""},er=Math.min(h/st,parseInt((this._getOptimumFontSize(fr)+"px").replace("px",""))),ct=[{value:e.ValueLabel+" "+(o.ShowSuffix?o.CustomLabelText:""),font:{size:(rt!==a?er:a)+"px",fontFamily:"Roboto",fontStyle:"Bold"},position:ei}];if(e.HasTarget&&ct.push({value:e.StatusText,font:{size:rt!==a&&e.HasTarget?Math.min(h/9,14)+"px":"0px",fontFamily:"Roboto",fontStyle:"normal"},position:oi,color:et.customTheme.statusData}),ri.length>=v&&(o.seriesName!==""||o.ColumnInfo.seriesColumn===null)&&(h*=pt,c===a)){var nr=r.data[0].pagedata,ft=null,tr=0,wt=[];for(tt=0;tt<nr.length;tt++)wt.push(JSON.parse(nr[tt]).Title),wt[tt].length>tr&&(tr=wt[tt].length,ft=wt[tt]);if(hi={height:w,width:h*l,adjustFont:"both",text:ft},ci={height:w,width:h*l,adjustFont:"width",text:ft},y=Math.min(this._getOptimumFontSize(hi),this._getOptimumFontSize(ci)),Math.floor(y)===a)do ft=ft.slice(v,ft.length),y=Math.min(this._getOptimumFontSize(hi),this._getOptimumFontSize(ci));while(Math.floor(y)===a)}y=Math.floor(Math.min(w/12,h/6,y));y=Math.max(y,12);y=Math.min(y,ai);y>ai&&(h-=y-12);o.ColumnInfo.seriesColumn!==null&&(ct.push({value:e.Title,font:{size:(rt!==a?y:a)+"px",fontFamily:"Roboto",fontStyle:"Bold"},position:{x:s.width()/l,y:y},positionType:"inner"}),ct[0].position.x=s.width()/l,ct[1].position.x=s.width()/l);bt=(e.ActualValuename===""?e.TargetValueName:e.ActualValuename)+": "+e.ValueLabel+" "+o.CustomLabelText;e.HasTarget&&(bt=bt+"<div style = 'margin-top:5px;'>"+e.TargetValueName+" : "+e.GoalLabelText+"<div style = 'margin-top:5px;'>Variation: "+e.Variance+"<div style = 'margin-top: 5px;'>Percent Of Target: "+e.Percent+"%");s.addClass("e-dbrd-gaugeControl").prop({toolTipText:bt});e.Value<e.MinimumValue&&(e.Value=e.MinimumValue);s.ejCircularGauge({radius:h,value:e.Value,backgroundColor:"transparent",width:ui,height:w,frame:{frameType:fi,halfCircleFrameStartAngle:ut.halfCircleFrameStartAngle,halfCircleFrameEndAngle:ut.halfCircleFrameEndAngle},drawLabels:function(n){n.position.startY+=n.model.frame.frameType==="halfcircle"?10:3},enableAnimation:!1,tooltip:{showLabelTooltip:!1,showCustomLabelTooltip:!1},outerCustomLabelPosition:"top",scales:[{showScaleBar:!1,radius:h,startAngle:ut.startAngle,sweepAngle:ut.sweepAngle,majorIntervalValue:e.MaximumValue-e.MinimumValue,showRanges:!0,ticks:[{height:0,width:0}],ranges:[{size:h/gi,startValue:e.MinimumValue,endValue:e.MaximumValue,backgroundColor:et.customTheme.rangeColor1,border:{color:et.customTheme.border1,width:0},distanceFromScale:0,placement:"near"},{size:h/gi,startValue:e.MinimumValue,endValue:e.Value>e.MaximumValue?e.MaximumValue:e.Value,backgroundColor:et.customTheme.rangeColor2,border:{color:et.customTheme.border2,width:0},distanceFromScale:0,placement:"near"}],pointers:e.HasTarget?[{type:"marker",markerType:t.datavisualization.CircularGauge.MarkerType.RoundedRectangle,width:h*.36,length:h*.01,distanceFromScale:h*.02,backgroundColor:"gray",border:{color:"#515151",width:0},value:e.Goal,placement:"center"}]:[],minimum:e.MinimumValue,maximum:e.MaximumValue,customLabels:ct,labels:[{placement:si,unitText:e.UnitText,font:{size:rt+"px",fontFamily:"Roboto",fontStyle:"normal"}}]}]});this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({"overflow-y":"auto",height:"100%"}),f.css({"overflow-y":"auto","overflow-x":"hidden"}),f.parent().css({"overflow-y":"auto",height:"","overflow-x":"hidden"}),this.model.enableCustomTheming&&this._customTheme(["export"]))}if(r.currentPage===r.totalPages)for(ir=Math.ceil(r.totalCount/r.scrollSetting.colPerPage),c=ir;c<r.scrollSetting.rowPerPage*r.totalPages;c++)kt=n("#"+p+"_child_row_"+c),t.isNullOrUndefined(kt)||kt.find(".e-widget").length!==a||kt.remove();if(f.data("ejScroller")!==i&&f.data("ejScroller").refresh(),this._AddCardSelection(nt,f,d.pagedata.length,!0),!t.isNullOrUndefined(nt))for(c=0;c<nt.length;c++)n("#"+nt[c]).hasClass("e-circularGauge-Selected")||n("#"+nt[c]).addClass("e-circularGauge-Selected")}},_showGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);var i=this,u=0,r=1,f=60,e=18,o=20,s=5,h=1e3;this._gaugetoolTipTimer=setTimeout(function(){i._gaugeTooltipTarget=n(t.currentTarget);var l={},v=n(t.currentTarget).prop("toolTipText"),a={},y=null,c=v.split("<div style = 'margin-top: 5px;'>");c&&c.length===r?y=v:c&&c.length>r&&(y=c&&c[0].length>c[1].length?c[0]:c[1]);a=i._measureText(y,i._gaugeTooltipTarget.width(),"Normal 14 "+i._gaugeTooltipTarget.css("font-family"));i.currentTabContentElement.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")).length===u?(l=n("<div>").attr({id:i._gaugeTooltipTarget.attr("id")+"_toolTip"}).addClass("e-gauge-tooltip"),i.currentTabContentElement.append(l)):(l=i.currentTabContentElement.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")),a=i._measureText(l,i._gaugeTooltipTarget.width(),"Normal  14  "+i._gaugeTooltipTarget.css("font-family")));l.html(v).css({top:t.clientY+a.height+l.height()+f>n(window).height()?t.clientY-a.height-l.height():t.clientY+e+"px",left:t.clientX+a.width>n(window).width()?t.clientX-a.width-o+"px":t.clientX+s+"px","z-index":h}).fadeIn()},300);t.stopPropagation();t.bubbles=!1},_hideGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);this._gaugeTooltipTarget=null;var i=n(t.currentTarget);n("#"+i.attr("id")+"_toolTip").fadeOut()},_calculateGaugeSize:function(t,i,r,u,f,e){var k=n("<table>").css({width:"100%","margin-left":"1px","margin-right":"1px"}),o=null,l=0,s=1,it=15,h=s,d=null,c,rt,a,tt,v,y,p,w,b;for(t===s&&k.css({"margin-left":"-3px"}),c={width:r,height:i},rt=170,o=Math.round(r/t),(o>15||o<3)&&(o=10);;){if(d=r/o-10,h=Math.ceil(t/o),o<=s){o=s;break}if(d<rt){o-=s;continue}break}c.width<=100&&(d=this._getValueInPixels(7,c.width),o=s);u===s&&t===e&&(h=Math.ceil(t/o));c.height<=15&&c.width>it||c.height<=35&&c.width>it;h<=l&&(h=s);o<=l&&(o=s);o>t&&(o=t);var ut=f.attr("id"),g=null,nt=null,ft=7;for(a=0;a<h;a++){for(tt=h*(u-s)+a,v=n("<tr>").attr({id:ut+"_child_row_"+tt}),y=0;y<o;y++)p=Math.max(140,(f.height()-h*ft)/h),w=(f.width()-o*ft)/o-5,o===l&&v===l&&(w=f.width(),p=f.height()),g=p>i?i-10:p,nt=w>r?r:w,b=n("<td>").attr({id:ut+"_child_column_"+(tt*o+y)}),b.width(nt),b.height(g),v.append(b);k.append(v)}return{ColumnCount:Math.round(o),RowCount:Math.round(h),Height:g,Width:nt,table:k}},_getValueInPixels:function(n,t){return t*n/100},_loadGaugeSlaves:function(r,u,f,e,o){var s=0,ut=1,h=null,tt=!1,c=null,v=null,d=null,p=null,b;if(!t.isNullOrUndefined(r)&&t.isNullOrUndefined(e)&&(h=n(r.target),d=h.parents(".e-dbrd-control-container").find(".dashboardGaugeControl").eq(s).attr("data-controlLinkData"),h.parents(".e-dbrd-control-container").find(".e-dbrd-MaximizedControl").length>s&&(d=h.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlLinkData"),tt=!0),t.isNullOrUndefined(d)||(e=n.parseJSON(d)),o=h.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(s).attr("data-isMaster")==="true",e===""&&(e=i)),(this.controlRelations.length!==s||!t.isNullOrUndefined(e))&&this.flag){var a=[],it=null,y=null;it=h.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlId");t.isNullOrUndefined(it)||(u=it);var g=[],nt=[],ft=[];t.isNullOrUndefined(r)||h.hasClass("e-remove-control-filter")?h.hasClass("e-remove-control-filter")&&h.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove():(h=n(n(r.currentTarget).find("canvas")),a=h.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),r.ctrlKey?h.parent().hasClass("e-circularGauge-Selected")?(h.parent().removeClass("e-circularGauge-Selected"),h.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),a=h.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),p=this.dashboardControls.getControlByReport(u),y=p.configInfo.ColumnInfo):(h.parent().addClass("e-circularGauge-Selected"),a=h.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),p=this.dashboardControls.getControlByReport(u),y=p.configInfo.ColumnInfo):a.length>s?(a.removeClass("e-circularGauge-Selected"),h.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),h.parent()[s].id!==a[s].id&&(h.parent().addClass("e-circularGauge-Selected"),p=this.dashboardControls.getControlByReport(u),y=p.configInfo.ColumnInfo),a=h.parents(".e-dbrd-control").find(".e-circularGauge-Selected")):(h.parent().addClass("e-circularGauge-Selected"),a=h.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),p=this.dashboardControls.getControlByReport(u),y=p.configInfo.ColumnInfo));var w=[],et=[],ot=[];if(!t.isNullOrUndefined(a)&&a.length>s)for(v=0;v<a.length;v++)b=a.eq(s).ejCircularGauge("instance"),et.push(a.eq(v).attr("id")),t.isNullOrUndefined(y.seriesColumn)||(w.push(a.eq(v).attr("data-value")),ot.push(n(a[v]).prop("Value")),nt.push({Column:y.seriesColumn,Value:a.eq(v).attr("data-value")})),t.isNullOrUndefined(y.actualColumn)||t.isNullOrUndefined(e)||(w.push(b.model.scales[0].ranges[0].endValue),nt.push({Column:y.actualColumn,Value:b.model.scales[0].ranges[0].endValue})),t.isNullOrUndefined(y.targetColumn)||t.isNullOrUndefined(y.targetColumn.toLowerCase())||t.isNullOrUndefined(e)||b.model.scales[0].pointers.length===s||(w.push(b.model.scales[0].pointers[0].value),nt.push({Column:y.targetColumn,Value:b.model.scales[0].pointers[0].value}));c=this.dashboardControls.getControlByReport(u);w.length>s&&t.isNullOrUndefined(e)?(c.SelectedFilterInfo.length===s&&c.SelectedFilterInfo.push(new selectedFilterInfo),t.isNullOrUndefined(c.configInfo.DateTimeColumns)||c.configInfo.DateTimeColumns!=="DateTime"?(c.SelectedFilterInfo[s].DimensionFilterInfo.Text=w,c.SelectedFilterInfo[s].DimensionFilterInfo.Conditions=4):(c.SelectedFilterInfo[s].DateFilterInfo.DateFilterList=w,c.SelectedFilterInfo[s].DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude,c.SelectedFilterInfo[s].DateFilterInfo.DisplayDateFilterList=ot),t.isNullOrUndefined(y.seriesColumn)||(c.SelectedFilterInfo[0].Column=y.seriesColumn.toLowerCase(),c.SelectedFilterInfo[0].UniqueColumnName=y.seriesColumn.toLowerCase()),c.SelectedFilterInfo[0].ReportName=c.reportName):t.isNullOrUndefined(c)||t.isNullOrUndefined(c.SelectedFilterInfo)||(c.SelectedFilterInfo=[]);t.isNullOrUndefined(e)&&(!o||tt)||this._AddCardSelection(et,h.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(s),c.getCurrentPageData().pagedata.length,!0);var k=null,rt=null,st=null,l=this;g.push({Items:w});ft.push({Items:nt});this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var f=null,i,o;if(n("#"+l._id+t.DashboardConstants.Widget+u).hasClass("e-guage-Series")||(f=n("#"+l._id+t.DashboardConstants.Widget+u).data("ejCircularGauge")),!t.isNullOrUndefined(e)){l._controlNavigate(e,ft,f);return}if(!tt){for(v=0;v<l.controlRelations.length;v++)if(l.controlRelations[v].Master.lastIndexOf("_"+u)+u.length===l.controlRelations[v].Master.length-ut){if(k=l.controlRelations[v].Master,rt=l.controlRelations[v].Slaves,rt.length===s){st=l._checkFilterOverviewData(u);l._addFilterDataToTitle(st);return}i=l._checkMasterData(u);i!==null&&l.masterData.splice(i,ut);r!==null&&g[s].Items.length>s&&l.masterData.push({Key:u,Value:g,isMultiSelect:!0});l.target=[];o={master:u,masterData:l.masterData,slaves:rt,canDrill:!1,showIndicator:!1,isAutoRefresh:null};l._makeSlaveDataRequest(o);break}g[s].Items.length>s?(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+k+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));l.requestTimer=null}},r===null||!f?s:1e3)}}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.charts={_renderChart:function(r,u){var tt=-1,lt=127,a=0,et=9,ii=3,p=1,ri=.8,f=r.configInfo,ot=r.getCurrentPageData(),s=[],st=r.reportName,it=null,c,ui,at,dt,ei,oi,si,g,gt,vt,ht,ft,ni,yt,w,b,ct,pt,hi,wt,ti,k,bt,ci,nt,kt;ot.isError||(it=Object.keys(ot.pagedata));var rt=null,h=null,v=!1,d=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),o=d.find(".e-dbrd-control"),e=0,y=0;if(t.isNullOrUndefined(u)||(rt=u.id,o=u.chartDiv,st=o.attr("data-controlid"),v=u.isMaximize),ot.isError){o.attr({id:this._id+t.DashboardConstants.Widget+f.Id});o.attr({"data-controlId":f.Id});this._showControlError(ot.pagedata,o,f);return}for(this._hideControlError(o),e=0;e<it.length;e++)s.push(JSON.parse(ot.pagedata[it[e]]));for(this.dashboardControls.getControlByReport(st)&&(h=new Dbrdcontrol,h=h.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(st)))),this.model._dashboardData.isExportImage||(h=this.dashboardControls.getControlByReport(st))),c=0,c=0;c<this.target.length;c++){if(this._updateValuesInDrillLevelInfo(h,f.Id,[],v),this._updateValuesInDrillLevelData(h,f.Id,[],v),this.target[c].indexOf("_"+f.Id)!==tt){for(ui=this.target[c],v||(o=this.currentTabContentElement.find("#"+this.target[c]),this.target.splice(c,p)),at=n("#"+ui).nextAll(),y=0;y<at.length;y++)dt=at.eq(y).data("ejChart"),dt&&dt.destroy();at.remove()}this.dashboardControls.updateCurrentReport(h)}var ut=null,l=null,fi=!0;if(l=o.data("ejChart"),t.isNullOrUndefined(l))rt=null;else{if(s&&s.length)for(y=0;y<s.length;y++)if(s[y]&&s[y].points)for(fi=!1,ei=s[y].points.length,e=0;e<ei;e++)if(s[y].points[e].y!==a)break;if(l&&(!f.MultipleSeries||s.length<=p)){if(!this._applyOrRemoveNoDataAvailable(fi?a:p,o))return;for(ut=0,e=0;e<s.length;e++)s[e].points.length===a&&(ut+=p);if(ut===s.length&&!this._applyOrRemoveNoDataAvailable(a,o))return;if(o.children(".e-nodata").length>a&&o.children(".e-nodata").remove(),oi=r.SelectedFilterInfo.length>a,si=o.parent(".e-dbrd-control-container").find(".e-dbrd-maximize"),si.css({display:"block"}),l.model.preRender=(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):n.proxy(this._ChartPreRenderer,this,s,f),l.model.series=this._CreateChartSeries(s,it,f,r,o),l.model.primaryXAxis.pointsLength=r.totalCount,l.model.size.height=o.height()+"px",l.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+rt))for(n(document).find("#ScrollerParent_horizontal_"+rt).remove(),e=0;e<l.model._axes.length;e++)l.model._axes[e].zoomFactor=1,l.model._axes[e].zoomPosition=0;if(oi){for(g=null,y=0;y<this.masterData.length;y++)gt=this.masterData[y],"dashboard_Chart_"+gt.Key===rt&&(g=gt.Value);for(e=0;e<s.length;e++)for(c=0;c<s[e].points.length;c++)f.IsMasterFilter&&s[e].points[c]&&g&&(!t.isNullOrUndefined(f.seriesColumn)&&f.Argument===""&&s[e].points[c].Argument&&s[e].points[c].Argument.split(String.fromCharCode(lt))[0]===g[0].Items[1].Value?(l.model.selectedDataPointIndexes[0].pointIndex=c,l.model.selectedDataPointIndexes[0].seriesIndex=e):t.isNullOrUndefined(f.seriesColumn)&&g[0].Items[0].Value===s[e].points[c].x?(l.model.selectedDataPointIndexes[0].pointIndex=c,l.model.selectedDataPointIndexes[0].seriesIndex=e):f.Argument!==""&&s[e].points[c].x===g[0].Items[0].Value&&s[e].points[c].Argument.split(String.fromCharCode(lt))[0]===g[0].Items[1].Value&&(l.model.selectedDataPointIndexes[0].pointIndex=c,l.model.selectedDataPointIndexes[0].seriesIndex=e))}else l.model.selectedDataPointIndexes=[];this._chartMasterSelection(o,r);l.redraw();return}for(e in o)o.children().hasOwnProperty(e)&&(s.length>p&&o.data("ejChart")?o.ejChart("destroy"):o.children().eq(e).data("ejChart")&&o.children().eq(e).ejChart("destroy"));o.html("")}if(vt=f.Id,rt===null&&(o.attr({"data-controlId":f.Id}),o.addClass("dashboardChartControl"),o.html(""),vt.indexOf("DrillChart")!==tt?(o.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),d.attr({"data-controltype":"DrillDownChart"})):(o.attr({id:this._id+(v?"_maximized_":t.DashboardConstants.Widget)+f.Id}),vt.indexOf("ProportionChart")!==tt?d.attr({"data-controltype":"ProportionChart"}):d.attr({"data-controltype":"Chart"})),d.find(".e-remove-control-filter").attr("id",v?u.id+"_removeControlFilter":o.attr("id")+"_removeControlFilter"),d.find(".e-dbrd-export").attr({value:f.Id}),d.data({"data-measure-columns":JSON.stringify(f.MeasureColumns)})),this._applyOrRemoveNoDataAvailable(s[0].length,o)){if(ht=null,ft=this.theme.palette,ft=[],this.model.enableCustomTheming){if(f.Properties.SeriesColorPalette.length>h.customTheme.palette.length)for(e=0;e<h.customTheme.palette.length;e++)f.Properties.SeriesColorPalette[e].CustomColor=h.customTheme.palette[e];else for(e=0;e<f.Properties.SeriesColorPalette.length;e++)f.Properties.SeriesColorPalette[e].CustomColor=h.customTheme.palette[e];for(e=0;e<f.Properties.SeriesColorPalette.length;e++)ht=f.Properties.SeriesColorPalette[e].CustomColor.length===et?"#"+f.Properties.SeriesColorPalette[e].CustomColor.substring(ii,et):f.Properties.SeriesColorPalette[e].CustomColor,ft.push(ht);f.Properties.UseDefaultPalette=!1}for(ni=a,yt=!1,e=0;e<this.controlRelations.length;e++)this.controlRelations[e].Master.indexOf("Chart")!==tt&&this.controlRelations[e].Master.lastIndexOf(f.Id)!==tt&&(ni=this.controlRelations[e].Slaves.length);if(yt=ni>a,w=f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Pyramid"||f.Properties.ChartType==="Funnel"||f.Properties.ChartType==="Doughnut",w)for(e=0;e<f.Properties.SeriesColorPalette.length;e++)ht=f.Properties.SeriesColorPalette[e].CustomColor.length===et?"#"+f.Properties.SeriesColorPalette[e].CustomColor.substring(ii,et):f.Properties.SeriesColorPalette[e].CustomColor,ft.push(ht);if(w&&f.MultipleSeries&&s.length>p){b=this._CreateChartSeries(s,it,f,r,o);o.addClass("e-chartseries").attr({"data-header":String(String(f.ChartSeriesHeaderName))+""});o.css({"overflow-y":"hidden",overflow:"hidden"});ct=this._generateContainersForProprortionChart(o.parent(),b);try{t.widget.destroyAll(o.find(".e-js").off())}catch(li){console.info(li.message)}for(pt=o.attr("id"),hi=n("<div>"),o.data("ejScroller")&&o.ejScroller("destroy"),o.html(""),o.append(hi.append(ct.table)),o.ejScroller({height:o.parents(".e-dbrd-control-container").height()-o.parents(".e-dbrd-control-container").find(".e-control-heading").height()-et,width:o.width(),scrollerSize:13}),wt=ct.table.find("td"),e=0;e<b.length;e++){if(ti=[],ti.push(b[e]),k=n("<div>").attr({id:pt+"_childChart_"+e}).css({width:"100%",height:"100%",outline:"none","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none"}).addClass("e-chartChild"),wt.eq(e).append(k),b[e].dataSource.length===a){k.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(ut=0,c=0;c<b[e].dataSource.length;c++)b[e].dataSource[c].y>=a&&b[e].dataSource[c].y<=a&&(ut+=p);if(ut===b[e].dataSource.length){k.css({"vertical-align":"middle",height:""});k.html(n("<div style='width:100%;'>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}k.ejChart({size:{height:ct.height.toString(),width:ct.width.toString()},commonSeriesOptions:{highlightSettings:{enable:f.IsMasterFilter&&!v||f.isDrillDown&&f.DrilledChartProperties.RowCount>p,opacity:.8,border:{width:1},mode:!w&&!f.ComparisonMultipleSeries?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:f.IsMasterFilter&&!v,opacity:.8,border:{width:1},mode:w||f.ComparisonMultipleSeries?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:f.Properties.PieDoughnutCoefficient,doughnutCoefficient:.3,doughnutSize:f.Properties.DoughnutSize===a?ri:f.Properties.DoughnutSize,explode:(f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Doughnut")&&(f.isDrillDown||f.IsMasterFilter&&!v),explodeOffset:5,type:f.Properties.ChartType.toLowerCase(),enableAnimation:f.Properties.EnableAnimation,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",smartLabelEnabled:!0,tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2}},palette:f.Properties.SeriesColorPalette.length===a?this.theme.palette:w&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ft:this.theme.palette,canResize:!1,adaptiveRendering:!0,series:ti,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:f.MeasureColumns.length>p?b[e].name.replace(String.fromCharCode(lt),""):b[e].name.replace(String.fromCharCode(lt),"").split("(")[0],visible:!0},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:f.Properties.ShowLegends,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Properties.ChartType==="Bar"||f.Properties.ChartType==="StackingBar"?f.Showyaxis:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.yTitle,enableTrim:!0},labelFormat:f.yTypeChar,labelIntersectAction:"trim",valueType:f.yType,visible:f.Properties.ChartType==="Bar"||f.Properties.ChartType==="StackingBar"?f.Showxaxis:f.Showyaxis},legendItemClick:f.Properties.ChartType==="Bar"||f.Properties.ChartType==="Column"||f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"||f.Properties.ChartType==="Line"||f.Properties.ChartType==="Spline"||f.Properties.ChartType==="Area"||f.Properties.ChartType==="Scatter"?n.proxy(this._chartLegendClick,this,f):(f.Properties.ChartType==="Doughnut"||f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Pyramid"||f.Properties.ChartType==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,k[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),preRender:(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[s[e]],f):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[s[e]],f):n.proxy(this._ChartPreRenderer,this,[s[e]],f),pointRegionClick:f.isDrillDown&&!f.IsLinked&&((!f.IsMasterFilter||!yt)&&!f.IsLinked||v)?n.proxy(this._onChartDrilled,this,o,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:f.isDrillDown,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:f.IsMasterFilter,id:o.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},f.IsLinked?f.ControlLinkData:i,v):f.IsMasterFilter&&!v||f.IsLinked?n.proxy(this._loadChartSlaves,this,f,f.Id,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},f.IsLinked?f.ControlLinkData:i,f.IsLinked?!1:f.IsMasterFilter):[],seriesRegionClick:w?n.proxy(this._clearSelectionForProportionChart,this,k.attr("id")):n.proxy(this._clearSelection,this,k.attr("id"))});r.SelectedFilterInfo&&r.SelectedFilterInfo.length!==a&&r.SelectedFilterInfo[0].Name===String(e)&&(l=k.data("ejChart"),n("#"+o.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),o.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),l.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),l.redraw())}for(this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({overflow:"auto"}),bt=this.currentTabContentElement.find(".e-dbrd-control"),bt.css({overflow:"auto",height:""}),bt.parent().css({overflow:"auto",height:"","overflow-x":"hidden"}),bt.parent().parent().css({"overflow-y":"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));e<wt.length;)wt.eq(e++).remove();this.currentTabContentElement.find("#"+pt).data("ejScroller")&&this.currentTabContentElement.find("#"+pt).data("ejScroller").refresh();return}if((ci=this._labelRotationAngleValue(f.Properties.AngleValue),o.ejChart({commonSeriesOptions:{highlightSettings:{enable:f.IsMasterFilter&&!v||f.isDrillDown&&f.DrilledChartProperties.RowCount>p,opacity:.8,border:{width:1},mode:!w&&(!f.ComparisonMultipleSeries||!f.IsMasterFilter)?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:f.IsMasterFilter&&!v,opacity:.8,border:{width:1},mode:w||f.ComparisonMultipleSeries?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:f.Properties.PieDoughnutCoefficient,doughnutCoefficient:.3,doughnutSize:f.Properties.DoughnutSize===a?ri:f.Properties.DoughnutSize,explode:(vt.indexOf("DrillChart")!==tt||f.isDrillDown||f.IsMasterFilter&&!v)&&(f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Doughnut")?!0:!1,explodeOffset:5,type:f.Properties.ChartType.toLowerCase(),enableAnimation:f.Properties.EnableAnimation,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:h.customTheme.dataLabelColor}}}},sideBySideSeriesPlacement:!(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn"||f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"),size:{height:o.height()+"px"},palette:f.Properties.SeriesColorPalette.length===a?this.theme.palette:w&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ft:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,series:this._CreateChartSeries(s,it,f,r,o),adaptiveRendering:!0,legend:{font:{fontFamily:"Roboto",color:h.customTheme.legendfontcolor,size:this.theme.legendFontSize},visible:f.Properties.ShowLegends,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:h.customTheme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},majorGridLines:{color:h.customTheme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:ci,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount},primaryYAxis:{font:{fontFamily:"Roboto",color:h.customTheme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.yAxisLineColor},majorGridLines:{color:h.customTheme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,visible:f.Showyaxis,name:f.PrimaryAxisMaximumValueColumnName,opposedPosition:f.isAllSecondary&&!f.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.axisLineColor},majorGridLines:{color:h.customTheme.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},orientation:(f.Properties.ChartType==="Bar"||f.Properties.ChartType==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(f.SecondaryAxisMaximumValueColumnName)?!1:f.PrimaryAxisMaximumValueColumnName!==""&&f.SecondaryAxisMaximumValueColumnName!==""&&f.ShowSecondaryYAxis}],legendItemClick:f.Properties.ChartType==="Bar"||f.Properties.ChartType==="Column"||f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"||f.Properties.ChartType==="Line"||f.Properties.ChartType==="Spline"||f.Properties.ChartType==="Area"||f.Properties.ChartType==="Scatter"?n.proxy(this._chartLegendClick,this,f):(f.Properties.ChartType==="Doughnut"||f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Pyramid"||f.Properties.ChartType==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,o[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),scrollChanged:n.proxy(this._chartScrollChange,this,f,o,[],r),preRender:(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):n.proxy(this._ChartPreRenderer,this,s,f),pointRegionClick:f.isDrillDown&&!f.IsLinked&&((!f.IsMasterFilter||!yt)&&!f.IsLinked||v)?n.proxy(this._onChartDrilled,this,o,{DrilledChartProperties:f.DrilledChartProperties,TooltipForRowColCalc:f.TooltipForRowColCalc,TooltipForRowColumns:f.TooltipForRowColumns,drill:f.isDrillDown,drillId:f.Id,CustomAdornmentText:f.CustomAdornmentText,master:f.IsMasterFilter,id:o.attr("id"),ColumnProperties:f.ColumnProperties,Properties:f.Properties,MultipleSeries:f.MultipleSeries,Argument:f.Argument,PrimaryAxisFormatProp:f.PrimaryAxisFormatProp,SecondaryAxisFormatProp:f.SecondaryAxisFormatProp},f.IsLinked?f.ControlLinkData:i,v):f.IsMasterFilter&&!v||f.IsLinked?n.proxy(this._loadChartSlaves,this,f,f.Id,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},f.IsLinked?f.ControlLinkData:i,f.IsLinked?!1:f.IsMasterFilter):[],seriesRegionClick:w?n.proxy(this._clearSelectionForProportionChart,this,o.attr("id")):n.proxy(this._clearSelection,this,o.attr("id"))}),o.data("ejScroller")&&o.ejScroller("destroy"),this._chartMasterSelection(o,r),s.length!==a||this._applyOrRemoveNoDataAvailable(s.length,o))&&this._dashboardData().isExportImage&&(nt=null,kt=this._getValuesFromDrillLevelData(h,st,h.isExportFromMaximizedView),kt.length>a&&(nt=kt[kt.length-p]),h.isExportFromMaximizedView&&(nt.ConfigInfo.id=this._id+t.DashboardConstants.Widget+nt.ConfigInfo.drillId),!t.isNullOrUndefined(nt))){this._drawDrilledChart(nt.ConfigInfo,nt.Data,null,!1);return}}},_setChartConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.Argument=t.isNullOrUndefined(n.configInfo.Argument)?"":n.configInfo.Argument;n.configInfo.argumentColumn=t.isNullOrUndefined(n.configInfo.argumentColumn)?"":n.configInfo.argumentColumn;n.configInfo.ChartSeriesHeaderName=t.isNullOrUndefined(n.configInfo.ChartSeriesHeaderName)?"":n.configInfo.ChartSeriesHeaderName;n.configInfo.ColumnProperties=t.isNullOrUndefined(n.configInfo.ColumnProperties)?[]:n.configInfo.ColumnProperties;n.configInfo.ComparisonChartProp=t.isNullOrUndefined(n.configInfo.ComparisonChartProp)?[]:n.configInfo.ComparisonChartProp;n.configInfo.ComparisonMultipleSeries=!t.isNullOrUndefined(n.configInfo.ComparisonMultipleSeries)&&n.configInfo.ComparisonChartProp;n.configInfo.CustomAdornmentText=t.isNullOrUndefined(n.configInfo.CustomAdornmentText)?"":n.configInfo.CustomAdornmentText;n.configInfo.CustomLegend=!t.isNullOrUndefined(n.configInfo.CustomLegend)&&n.configInfo.CustomLegend;n.configInfo.CustomLegends=t.isNullOrUndefined(n.configInfo.CustomLegends)?[]:n.configInfo.CustomLegends;n.configInfo.DrilledChartProperties=t.isNullOrUndefined(n.configInfo.DrilledChartProperties)?[]:n.configInfo.DrilledChartProperties;n.configInfo.isAllPrimary=!t.isNullOrUndefined(n.configInfo.isAllPrimary)&&n.configInfo.isAllPrimary;n.configInfo.isAllSecondary=!t.isNullOrUndefined(n.configInfo.isAllSecondary)&&n.configInfo.isAllSecondary;n.configInfo.isDrillDown=!t.isNullOrUndefined(n.configInfo.isDrillDown)&&n.configInfo.isDrillDown;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.MultipleSeries=!t.isNullOrUndefined(n.configInfo.MultipleSeries)&&n.configInfo.MultipleSeries;n.configInfo.PrimaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.PrimaryAxisFormatProp)?[]:n.configInfo.PrimaryAxisFormatProp;n.configInfo.PrimaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.PrimaryAxisMaximumValueColumnName)?"":n.configInfo.PrimaryAxisMaximumValueColumnName;n.configInfo.PrimaryAxisTitle=t.isNullOrUndefined(n.configInfo.PrimaryAxisTitle)?"":n.configInfo.PrimaryAxisTitle;n.configInfo.Properties=t.isNullOrUndefined(n.configInfo.Properties)?[]:n.configInfo.Properties;n.configInfo.SecondaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.SecondaryAxisFormatProp)?[]:n.configInfo.SecondaryAxisFormatProp;n.configInfo.SecondaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.SecondaryAxisMaximumValueColumnName)?"":n.configInfo.SecondaryAxisMaximumValueColumnName;n.configInfo.SecondaryAxisTitle=t.isNullOrUndefined(n.configInfo.SecondaryAxisTitle)?"":n.configInfo.SecondaryAxisTitle;n.configInfo.seriesColumn=t.isNullOrUndefined(n.configInfo.seriesColumn)?null:n.configInfo.seriesColumn;n.configInfo.ShowHeader=t.isNullOrUndefined(n.configInfo.ShowHeader)?"":n.configInfo.ShowHeader;n.configInfo.Seriesname=t.isNullOrUndefined(n.configInfo.Seriesname)?"":n.configInfo.Seriesname;n.configInfo.showSecondaryAxisGridLine=!t.isNullOrUndefined(n.configInfo.showSecondaryAxisGridLine)&&n.configInfo.showSecondaryAxisGridLine;n.configInfo.ShowSecondaryYAxis=!t.isNullOrUndefined(n.configInfo.ShowSecondaryYAxis)&&n.configInfo.ShowSecondaryYAxis;n.configInfo.Showyaxis=!t.isNullOrUndefined(n.configInfo.Showyaxis)&&n.configInfo.Showyaxis;n.configInfo.Showxaxis=!t.isNullOrUndefined(n.configInfo.Showxaxis)&&n.configInfo.Showxaxis;n.configInfo.TooltipForColumns=!t.isNullOrUndefined(n.configInfo.TooltipForColumns)&&n.configInfo.TooltipForColumns;n.configInfo.TooltipForRowCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowCalc)&&n.configInfo.TooltipForRowCalc;n.configInfo.TooltipForRowColumns=!t.isNullOrUndefined(n.configInfo.TooltipForRowColumns)&&n.configInfo.TooltipForRowColumns;n.configInfo.TooltipForRowColCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowColCalc)&&n.configInfo.TooltipForRowColCalc;n.configInfo.xAxisLabelFormat=t.isNullOrUndefined(n.configInfo.xAxisLabelFormat)?"":n.configInfo.xAxisLabelFormat;n.configInfo.xTitle=t.isNullOrUndefined(n.configInfo.xTitle)?"":n.configInfo.xTitle;n.configInfo.xType=t.isNullOrUndefined(n.configInfo.xType)?"":n.configInfo.xType;n.configInfo.xTypeChar=t.isNullOrUndefined(n.configInfo.xTypeChar)?"":n.configInfo.xTypeChar;n.configInfo.yAxisLabelFormat=t.isNullOrUndefined(n.configInfo.yAxisLabelFormat)?"":n.configInfo.yAxisLabelFormat;n.configInfo.yTitle=t.isNullOrUndefined(n.configInfo.yTitle)?"":n.configInfo.yTitle;n.configInfo.yType=t.isNullOrUndefined(n.configInfo.yType)?"":n.configInfo.yType;n.configInfo.yTypeChar=t.isNullOrUndefined(n.configInfo.yTypeChar)?"":n.configInfo.yTypeChar},_renderComparisonChart:function(r,u){var p=1,l=0,ct=9,h=null,f=r.configInfo,tt=r.getCurrentPageData(),pt=String.fromCharCode(127)+"(",s=[],y=null,et=r.reportName,g=r.SeriesList,ut,lt,d,c,ot,st,at,vt,ht,a,yt,it,ft,w;tt.isError||(y=Object.keys(tt.pagedata));var nt=null,b=!1,k=0,o=0,v=0,rt=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=rt.find(".e-dbrd-control");if(t.isNullOrUndefined(u)||(nt=u.id,e=u.chartDiv,b=u.isMaximize),tt.isError){e.attr({id:this._id+t.DashboardConstants.Widget+f.Id});e.attr({"data-controlId":f.Id});this._showControlError(tt.pagedata,e,f);return}for(this._hideControlError(e),this.dashboardControls.getControlByReport(et)&&(h=new Dbrdcontrol,h=h.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(et)))),this.model._dashboardData.isExportImage||(h=this.dashboardControls.getControlByReport(et))),o=0;o<y.length;o++)s.push(JSON.parse(tt.pagedata[y[o]]));if(ut=[],this.model.enableCustomTheming){if(f.Properties.SeriesColorPalette.length>h.customTheme.palette.length)for(o=0;o<h.customTheme.palette.length;o++)f.Properties.SeriesColorPalette[o].CustomColor=h.customTheme.palette[o];else for(o=0;o<f.Properties.SeriesColorPalette.length;o++)f.Properties.SeriesColorPalette[o].CustomColor=h.customTheme.palette[o];for(o=0;o<f.Properties.SeriesColorPalette.length;o++)lt=f.Properties.SeriesColorPalette[o].CustomColor.length===ct?"#"+f.Properties.SeriesColorPalette[o].CustomColor.substring(3,ct):f.Properties.SeriesColorPalette[o].CustomColor,ut.push(lt);f.Properties.UseDefaultPalette=!1}if(d=null,c=null,typeof u=="undefined"){if(c=e.data("ejChart"),t.isNullOrUndefined(c))nt=null;else{if(ot=!0,st=!0,s&&s.length)for(v=0;v<s.length;v++)if(s[v]&&s[v].points)for(st=!1,at=s[v].points.length,o=0;o<at;o++)if(s[v].points[o].y!==l){ot=!1;break}if(c&&(!f.ComparisonMultipleSeries||s.length<=p)){if(!this._applyOrRemoveNoDataAvailable(st?l:p,e))return;for(d=0,o=0;o<s.length;o++)s[o].points.length===l&&(d+=p);if(d===s.length&&!this._applyOrRemoveNoDataAvailable(l,e))return;if(e.children(".e-nodata").length>l&&e.children(".e-nodata").remove(),vt=e.parent().data("IsFilterApplied"),c.model.preRender=(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):n.proxy(this._ChartPreRenderer,this,s,f),c.model.series=this._CreateChartSeries(s,y,f,r,e),c.model.primaryXAxis.pointsLength=r.totalCount,c.model.size.height=e.height()+"px",c.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+nt))for(n(document).find("#ScrollerParent_horizontal_"+nt).remove(),o=0;o<c.model._axes.length;o++)c.model._axes[o].zoomFactor=1,c.model._axes[o].zoomPosition=0;vt?c.model.selectedDataPointIndexes.length>l&&c.model.series.length>=p&&c.model.series[0].dataSource.length===p&&(c.model.selectedDataPointIndexes[0].pointIndex=0,c.model.selectedDataPointIndexes[0].seriesIndex=0):c.model.selectedDataPointIndexes=[];c.redraw();return}if(s[0].length===l||ot===!0){if(!this._applyOrRemoveNoDataAvailable(s[0].length,e))return;for(o in e)e.children().hasOwnProperty(o)&&e.children().eq(o).data("ejChart")&&e.children().eq(o).ejChart("destroy")}e.html("")}nt===null&&(e.attr({"data-controlId":f.Id}),e.addClass("dashboardChartControl"),e.html(""),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),rt.attr({"data-controltype":"ComparisonChart"}),rt.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),rt.find(".e-dbrd-export").attr({value:f.Id}))}if(this._applyOrRemoveNoDataAvailable(s[0].length,e)){if(ht=this._labelRotationAngleValue(f.Properties.AngleValue),f.ComparisonMultipleSeries&&g.length>l){for(e.addClass("e-chartseries").attr({"data-header":String(f.ChartSeriesHeaderName)+""}),this.model._dashboardData.isExportImage||e.css({overflow:"hidden"}),e.append(n("<div>")),k=0;k<g.length;k++){for(a=[],y=[],v=0;v<g[k].length;v++)for(o=0;o<s.length;o++)g[k][v]===s[o].seriesName&&(a.push(s[o]),y.push(s[o].seriesName));if(a.length!==l||y.length!==l){for(yt=this._CreateChartSeries(a,y,f,r,e),it=0;it<a.length;it++)typeof a[it].yAxisName!="undefined"&&(f.SecondaryAxisMaximumValueColumnName=a[it].yAxisName);ft=[];a.length>l&&(ft=a[0].seriesName.split(pt));w=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+f.Id+(typeof u=="undefined"?"":nt)+"_childChart_"+k});w.addClass("pull-left");e.children().eq(l).append(w);w.css({width:"100%",height:"100%",overflow:"hidden"}).addClass("e-chartChild");w.ejChart({commonSeriesOptions:{highlightSettings:{enable:f.IsMasterFilter&&!b,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:f.IsMasterFilter&&!b,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:f.Properties.ChartType.toLowerCase(),enableAnimation:f.Properties.EnableAnimation,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},smartLabelEnabled:!0,border:{width:2}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===l?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ut:this.theme.palette,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:ft.length>l?ft[0]:""},canResize:!0,adaptiveRendering:!0,series:yt,legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:f.Properties.ShowLegends,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:ht,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:(f.Properties.ChartType==="Bar"||f.Properties.ChartType==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn"||f.Properties.ChartType==="StackingBar100"?n.proxy(this._chartLegendClick,this,f):(f.Properties.ChartType==="Doughnut"||f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Pyramid"||f.Properties.ChartType==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,w[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),preRender:(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,a,f):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,a,f):n.proxy(this._ChartPreRenderer,this,a,f),pointRegionClick:f.IsMasterFilter&&!b||f.IsLinked?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},f.IsLinked?f.ControlLinkData:i,f.IsLinked?!1:f.IsMasterFilter):[],seriesRegionClick:n.proxy(this._clearSelectionForProportionChart,this,w.attr("id"))});r.SelectedFilterInfo!==null&&r.SelectedFilterInfo.length!==l&&r.SelectedFilterInfo[0].Name===String(k)&&(c=w.data("ejChart"),n("#"+e.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),c.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),c.redraw())}}(e.data("ejScroller")||!t.isNullOrUndefined(e.data("ejScroller"))&&g.length<=p)&&e.ejScroller("destroy");this.model._dashboardData.isExportImage||g.length>p&&e.ejScroller({height:e.height()-20,scrollerSize:13});this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({overflow:"auto"}),e.css({overflow:"auto",height:""}),e.parent().css({overflow:"auto",height:""}),e.parent().parent().css({overflow:"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));return}if(e.ejChart({commonSeriesOptions:{highlightSettings:{enable:f.IsMasterFilter&&!b,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:f.IsMasterFilter&&!b,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:f.Properties.ChartType.toLowerCase(),enableAnimation:f.Properties.EnableAnimation,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:h.theme.dataLabelColor}}}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===l?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ut:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,adaptiveRendering:!0,series:this._CreateChartSeries(s,y,f,r,e),legend:{font:{fontFamily:"Roboto",color:h.customTheme.legendfontcolor,size:this.theme.legendFontSize},visible:f.Properties.ShowLegends,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:h.customTheme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},majorGridLines:{color:h.customTheme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:ht,labelFormat:f.xTypeChar,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount,valueType:f.xType===f.yType?"category":f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:h.customTheme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.yAxisLineColor},majorGridLines:{color:h.customTheme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:h.customTheme.axisLineColor},majorGridLines:{color:h.customTheme.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:h.customTheme.majorTickColor},orientation:(f.Properties.ChartType==="Bar"||f.Properties.ChartType==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:h.customTheme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:f.Properties.ChartType==="Bar"||f.Properties.ChartType==="Column"||f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingArea100"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn"||f.Properties.ChartType==="StackingBar100"||f.Properties.ChartType==="StackingColumn100"||f.Properties.ChartType==="Line"||f.Properties.ChartType==="Spline"||f.Properties.ChartType==="Area"||f.Properties.ChartType==="Scatter"?n.proxy(this._chartLegendClick,this,f):(f.Properties.ChartType==="Doughnut"||f.Properties.ChartType==="Pie"||f.Properties.ChartType==="Pyramid"||f.Properties.ChartType==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,e[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),scrollChanged:n.proxy(this._chartScrollChange,this,f,e,[],r),preRender:(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):(f.Properties.ChartType==="StackingArea"||f.Properties.ChartType==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,s,f,!1):n.proxy(this._ChartPreRenderer,this,s,f),pointRegionClick:f.IsMasterFilter&&!b||f.IsLinked?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},f.IsLinked?f.ControlLinkData:i,f.IsLinked?!1:f.IsMasterFilter):[],seriesRegionClick:n.proxy(this._clearSelection,this,e.attr("id"))}),this._chartMasterSelection(e,r),s[0].length===l){if(!this._applyOrRemoveNoDataAvailable(s[0].length,e))return}else{for(d=0,o=0;o<s.length;o++)s[o].points.length===l&&(d+=p);if(d===s.length&&!this._applyOrRemoveNoDataAvailable(l,e))return}}},_generateLabelOverflowMode:function(n){var t="Hide";return n.Properties.LabelOverflowMode!==null?(t=n.Properties.LabelOverflowMode,n.Properties.LabelOverflowMode):n.Properties.PrimaryAxisLabelTrim?"Trim":"Hide"},_chartMasterSelection:function(i,r){var f=0,u;t.isNullOrUndefined(r.SelectedFilterInfo)||r.SelectedFilterInfo.length===f?r.SelectedFilterInfo.length===f&&(n("#"+i.attr("id")+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),u=i.data("ejChart"),t.isNullOrUndefined(r.SelectedFilterInfo[0].PointIndex)||t.isNullOrUndefined(r.SelectedFilterInfo[0].SeriesIndex)||(u.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),u.redraw()))},_clearSelection:function(t,i){var u=1,r,f,e;if(i.selectedData.length>u)for(r=0;r<i.selectedData.length-u;r++)f=document.getElementById(t+"_svg_Series"+i.selectedData[r].seriesIndex+"_Point"+i.selectedData[r].pointIndex),n(f).attr("class",""),e=document.getElementById("container_svg_LegendItemShape"+i.selectedData[r].seriesIndex),n(e).attr("class","")},_clearSelectionForProportionChart:function(t,i){window.previousElement&&n(window.previousElement).attr("class","");window.previousElement=i.selectedData.length>0?document.getElementById(t+"_svg_Series"+i.selectedData[0].seriesIndex+"_Point"+i.selectedData[0].pointIndex):"";i.model.selectedData=[]},_labelIntersect:function(n,t){switch(n){case 0:return"hide";case-90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none";case-45:return"none";case 45:return"none";case 90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none"}return"none"},_labelRotationAngleValue:function(n){var t=0;switch(n){case 1:t=-90;break;case 2:t=-45;break;case 3:t=45;break;case 4:t=90}return t},_chartScrollChange:function(n,t,i,r,u){var f={},e=0,s=JSON.parse(JSON.stringify(this.dashboardParameters)),o;u.reportName=n.Properties.AllowDrilldown&&i.length!==e&&i!==null?n.drillId:n.Id;this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);o=u.data.startIndex+1;n=JSON.stringify({dashboardPath:this.dashboardPath(),controlId:u.reportName,startIndex:o,pageSizeOnDemand:50,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:200,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,drilledLevelInfo:n.Properties.AllowDrilldown&&i.length!==e&&i.length!==null?i:null,enableDrilldown:n.Properties.AllowDrilldown,controlUniqueId:t[0].id,data:r,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,mobileToken:this.mobileDeviceToken,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(s)});f={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:n,onSuccess:this._processChartControlDataOnDemand,additionalParameter:n};this.doAjaxPost(f)},_processChartControlDataOnDemand:function(i,r,u){var g=0,y=null,c=JSON.parse(r),f=this.dashboardControls.getControlByReport(c.controlId),p=[],k=[],o=null,h=n("#"+c.controlUniqueId).data("ejChart"),d=50,nt=0,e=0,s=0,l,v,w,b,a,tt;if(c.drilledLevelInfo!==null&&c.drilledLevelInfo.length!==g&&c.enableDrilldown){for(l=0;l<u.d.length;l++)for(v=0;v<u.d[l].Value.length;v++)u.d[l].Value[v].key==="WidgetType"&&u.d[l].Value.splice(v);for(e=0;e<u.d.length;e++)for(s=0;s<u.d[e].Value.length;s++)k.push({Key:u.d[e].Value[s].key,Value:n.parseJSON(u.d[e].Value[s].value)}),p.push(k[s].Value.points),u.d[e].Value[s].key==="DrilledChartProp"&&(o=n.parseJSON(u.d[e].Value[s].value));h.model.series=this._CreateDrilledChartSeries(k,o);h.model.preRender=(o.Properties.ChartType==="StackingArea"||o.Properties.ChartType==="StackingBar"||o.Properties.ChartType==="StackingColumn")&&o.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],o):(o.Properties.ChartType==="StackingArea"||o.Properties.ChartType==="StackingBar"||o.Properties.ChartType==="StackingColumn")&&o.Properties.ShowSegmentWiseLabel!==null&&o.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],o):n.proxy(this._ChartDrillPreRenderer,this,[{points:p}],o)}else{for(e=0;e<u.d.length;e++)if(u.d[e].Key===JSON.parse(r).controlId)for(s=0;s<u.d[e].Value.length;s++)if(u.d[e].Value[s].key==="Data"){if(y=JSON.parse(u.d[e].Value[s].value),w=JSON.parse(Object.values(y)[g]),t.isNullOrUndefined(w.points)){h.model.primaryXAxis.pointsLength=f.totalCount;h.redraw();this._destroyAllControlWaitingIndicator();return}w.points.length<d?(f.totalCount=f.totalCount-d+w.points.length,h.model.primaryXAxis.pointsLength=f.totalCount):f.totalCount+=d;nt=f.totalCount}for(b=Object.keys(y),a=[],e=0;e<b.length;e++)a.push(JSON.parse(y[b[e]]));h.model.series=this._CreateChartSeries(a,b,f.configInfo,c.data);h.model.preRender=(f.configInfo.Properties.ChartType==="StackingArea"||f.configInfo.Properties.ChartType==="StackingBar"||f.configInfo.Properties.ChartType==="StackingColumn")&&f.configInfo.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,a,f.configInfo):(f.configInfo.Properties.ChartType==="StackingArea"||f.configInfo.Properties.ChartType==="StackingBar"||f.configInfo.Properties.ChartType==="StackingColumn")&&f.configInfo.Properties.ShowSegmentWiseLabel!==null&&f.configInfo.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,a,f.configInfo):n.proxy(this._ChartPreRenderer,this,a,f.configInfo);h.model.primaryXAxis.pointsLength=nt}h.model.size.height=n("#"+c.controlUniqueId).height()+"px";h.redraw();this._setLoadedAttr(f.configInfo.Id);tt=this;setTimeout(function(){tt._destroyAllControlWaitingIndicator()},500)},_getFromChartDataCache:function(n){for(var t=0;t<this.proportionChartData.length;t++)if(this.proportionChartData[t].Key===n)return this.proportionChartData[t].Value;return null},_addOrUpdateChartDataCache:function(n,i){for(var u=!1,r=0;r<this.proportionChartData.length;r++)this.proportionChartData[r].Key===i&&t.isNullOrUndefined(n.isResize)&&(this.proportionChartData[r].Value=n,u=!0);!u&&t.isNullOrUndefined(n.isResize)&&this.proportionChartData.push({Key:i,Value:n})},_generateContainersForProprortionChart:function(t,i){var u=100,s=0,h=1,b=10,a=15,k=17,v=null,y=null,r=1,f=1,d=i.length,e=null,o=null,g=Math.round(t.width()/this.currentTabContentElement.width()*u),c=Math.round(t.height()/this.currentTabContentElement.height()*u),p=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+s+" cellpadding="+s+">"),l,nt,w;for(i.length===h&&p.css({height:"100%"}),l=t.width()-b,nt=200,r=Math.round(l/d),(r>a||r<3)&&(r=10);;){if(e=l/r-b,o=e,f=Math.ceil(d/r),r<=h){r=1;break}if(e<nt){r-=h;continue}if((t.height()-o*f)*(u/t.height())>a){r-=h;continue}break}for(g=t.width()*(u/this.currentTabContentElement.width()),c=t.height()*(u/this.currentTabContentElement.height()),c<=26&&g>a&&(o=(c>k?c:k)/u*l),f<=s&&(f=1),r<=s&&(r=1),v=0;v<f;v++){for(w=n("<tr>"),y=0;y<r;y++)w.append(n("<td>").css({height:o+"px",width:e+"px"}));p.append(w)}return{table:p,height:o,width:e}},_legendRender:function(n,t){var e=127,o=-1,f=String.fromCharCode(e),u=String.fromCharCode(e)+"_",i=null,r=t.data.legendItem;if(t.model.legend.responsiveVisibility&&n.CustomLegend&&(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel"))for(i=0;i<n.CustomLegends.length;i++){var c=n.TooltipForColumns||n.TooltipForRowCalc?n.CustomLegends[i].name:n.CustomLegends[i].displayname,s=r.Text,h="";(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o&&(s=r.Text.split(u)[1],h=r.Text.split(u)[0]);n.CustomLegends.length>r.SeriesIndex&&s.toString()===c?r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].displayname:n.CustomLegends[i].customName.replace(f,""):n.CustomLegends[i].displayname===null&&n.CustomLegends[i].name===h&&(r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].name:n.CustomLegends[i].customName.replace(f,""))}else r.Text=(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o?r.Text.split(u)[0]:r.Text,r.Text=this._typecheck(r.Text,f)},_typecheck:function(n,t){switch(typeof n){case"number":case"boolean":return n;case"string":return n.replace(t,"")}return""},_chartAxisRenderer:function(n,t){var i=0;t.data.axis.valueType==="double"&&(t.data.label.Text=t.data.axis.opposedPosition?n.SecondaryAxisFormatProp!==null?n.SecondaryAxisFormatProp.FormatType==="Percent"?this._applyPercentageForChart(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,t.data.label.Text):this._applyStringFormatting(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,t.data.label.Text):this._applyStringFormatting("N2","en-US",i,t.data.label.Text):n.PrimaryAxisFormatProp!==null?n.PrimaryAxisFormatProp.FormatType==="Percent"?this._applyPercentageForChart(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,t.data.label.Text):this._applyStringFormatting(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,t.data.label.Text):this._applyStringFormatting("N2","en-US",i,t.data.label.Text));return},_ChartPreRendererforStacking:function(n,r,u,f){for(var b=-1,w=0,h=[],l=[],e=0,o=0,s=0,y,p,k,c,v,a,d,o=0;o<f.model.series.length;o++)if(f.model.series[o].type==="line")for(e=0;e<f.model.series[o].dataSource.length;e++)f.model.series[o].points[e].text=f.model.series[o].dataSource[e].text+r.CustomAdornmentText;for(s=0;s<f.model.series.length;s++)if(f.model.series[s].type==="stackingcolumn"||f.model.series[s].type==="stackingbar"||f.model.series[s].type==="stackingarea"){for(e=0;e<f.model.series[s].points.length;e++)u||n[s].points[e]===i||n[s].points[e].visible===i?u&&n[0].points[s][e]!==i&&n[0].points[s][e].visible!==i&&(f.model.series[s].points[e].visible=!1):f.model.series[s].points[e].visible=!1;l.push(f.model.series[s])}for(y=l.length,p=null,e=0;e<this.stackChartConfig.length;e++)if(this.stackChartConfig[e].Key===r.Id){if(this.stackChartConfig[e].Values.length===y)return;p=this.stackChartConfig[e].Values;break}for(k=0,e=0;e<y;e++)if(p===null||p.indexOf(e)===b)for(c=l[e].points,o=0;o<c.length;o++)v=this._getPointLocation(h,c[o].x),v!==b?(h[v].Value+=c[o].y,Math.abs(c[o].y)>w&&(h[v].SeriesIndex=e,h[v].Location=o)):h[k++]={Key:c[o].x,Value:c[o].y,SeriesIndex:e,Location:o};for(o=y-1;o>=w;o--)for(e=0;e<l[o].points.length;e++)l[o].points[e].text="   ";for(e=0;e<h.length;e++)a=h[e],d=t.isNullOrUndefined(r.PrimaryAxisFormatProp)?this._applyStringFormatting("N2","en-US",w,a.Value):r.PrimaryAxisFormatProp.FormatType==="Percent"?this._applyPercentageForChart(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.unit,a.Value):this._applyStringFormatting(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.Unit,a.Value),l[a.SeriesIndex].points[a.Location].text=d+r.CustomAdornmentText},_getPointLocation:function(n,t){for(var i=0;i<n.length;i++)if(n[i].Key===t)return i;return-1},_ChartPreRenderer:function(n,t,r){for(var f,e,o,u=0;u<r.model.series.length;u++)for(f=0;f<r.model.series[u].points.length;f++)e=null,typeof n[u].points[f]!="undefined"&&(e=n[u].points[f].text,n[u].points[f].visible!==i&&(r.model.series[u].points[f].visible=!1),o=n[u].points[f].y,r.model.series[u].points[f].text=o===0&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":e+t.CustomAdornmentText)},_ChartDrillPreRenderer:function(n,t,i){for(var u,f,o,s,e=0,r=0;r<i.model.series.length;r++)for(u=0;u<i.model.series[r].points.length;u++)f=null,(t.Properties.ChartType==="Pie"||t.Properties.ChartType==="Pyramid"||t.Properties.ChartType==="Doughnut"||t.Properties.ChartType==="Funnel")&&t.MultipleSeries&&typeof n[r].points[u]!="undefined"&&(f=n[r].points[u].text,o=n[r].points[u].y,i.model.series[r].points[u].text=o===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText),typeof n[0].points[r][u]!="undefined"&&(f=n[0].points[r][u].text,s=n[0].points[r][u].y,i.model.series[r].points[u].text=s===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText)},_CreateDrilledChartSeries:function(n,i){for(var h,v,y=127,e=-1,c=[],o=null,l=null,u=String.fromCharCode(y)+"_",s=i.Properties.ChartType,r=0;r<n.length-1;r++){h=null;h=i.TooltipForRowColumns?this._setTrendLines(i,s,i.yTitles[r],null):{visibility:""};var a=null,f="",p=String.fromCharCode(y)+"_(";a=this._generateCustomLegendInSeriesForBasicChart(i,i.yTitles[r],r);a.indexOf(p)!==e?(v=a.split(p),i.yTitles[r]=v[0],f=v[1]):i.yTitles[r]=a;o=this._setChartColorPalatteForDrillChart(i,n[r].Value.points[0],r);l=this._setChartMarker(i,s,i.Properties.ShowAdornmentInfo,o);s!=="Area"&&s!=="SplineArea"&&s!=="StackingArea"&&s!=="StackingArea100"?i.Properties.UseDefaultPalette===null||i.Properties.UseDefaultPalette?c.push({enableSmartLabels:!0,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):c.push({enableSmartLabels:!0,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):i.Properties.UseDefaultPalette===null||i.Properties.UseDefaultPalette?c.push({enableSmartLabels:!0,opacity:.5,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points}):c.push({enableSmartLabels:!0,opacity:.5,marker:l,fill:o,trendlines:h,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(u)!==e?i.yTitles[r].split(u)[0]:i.yTitles[r],customSeriesName:f.indexOf(u)!==e?f.split(u)[0]:f,Argument:n[r].Value.points})}return c},_CreateChartSeries:function(n,i,r,u){var s=0,ut=1,h=-1,nt=127,a=[],e=null,y=null,d=!1,ft=r.Properties.ShowAdornmentInfo,f=null,c=null,o=null,v=null,l=null,ht,et,it,p,ot,st,g;if(!r.Properties.IsBasicChartType&&(u.ComparisonChartProp.Field.length>s||r.yTitle==="Values"))for(f=0;f<n.length;f++){if(n[f]!==s)for(c=0;c<n[f].points.length;c++)d=n[f].points.length>ut;if(i[f]==="Target Line"&&r.Properties.EnableTargetLine)e="line",l=this._setChartColorPalatte(r,n[f].points[0],f),y=this._setChartMarker(r,e,ft,l);else if(u.ComparisonChartProp)for(c=0;c<u.ComparisonChartProp.Field.length;c++)if(u.ComparisonChartProp.Field[c]===i[f]){e=u.ComparisonChartProp.Type[c];l=this._setChartColorPalatte(r,n[f].points[0],f);y=this._setChartMarker(r,e,ft,l);break}var tt=[],w=null,b=null;r.ComparisonMultipleSeries&&r.Id.indexOf("ComboChart")!==h?(o=String.fromCharCode(nt)+"_",ht=String.fromCharCode(nt)+"(",i[f].indexOf(o)!==h?(tt=i[f].split(o),et=tt[0].split(ht),w=et[1].replace(")",""),b=et[0]):(tt=i[f].split(o),w=tt[1].replace(")",""),b=tt[0])):(o=String.fromCharCode(nt)+"_",w=i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],b=i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f]);it=null;r.Id.indexOf("ComboChart")!==h&&r.TooltipForRowColumns&&d?(it=r.Properties.ChartType,v=this._setTrendLines(r,it,n[f].points[0].UniqueName,n[f].points[0].Argument)):r.Id.indexOf("Chart")!==h&&r.TooltipForRowColumns&&d?(it=r.Properties.ChartType,v=this._setTrendLines(r,it,n[f].points[0].UniqueName,n[f].points[0].Argument)):v={visibility:""};p=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));p=p.replace(/[^A-Z0-9]/ig,"");t.isNullOrUndefined(e)||(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"?r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,p,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:w,seriesname:b,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,p,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:w,seriesname:b,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:w,seriesname:b,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(p,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:y,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:w,seriesname:b,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}else for(f=0;f<n.length;f++)if(n[f]!==s){for(ot=0,c=0;c<n[f].points.length;c++)d=n[f].points.length>ut,n[f].points[c].y===s&&(ot+=ut);e=r.Properties.ChartType;l=this._setChartColorPalatte(r,n[f].points,f);y=this._setChartMarker(r,e,ft,l);v=r.Id.indexOf("ComboChart")!==h&&r.TooltipForRowColumns&&d?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):r.Id.indexOf("Chart")!==h&&r.TooltipForRowColumns&&d?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):{visibility:""};o=String.fromCharCode(nt)+"_";var rt=null,k="",ct=String.fromCharCode(nt)+"_(";rt=this._generateCustomLegendInSeriesForBasicChart(r,i[f],f);rt.indexOf(ct)!==h?(st=rt.split(ct),i[f]=st[0],k=st[1]):i[f]=rt;g=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));g=g.replace(/[^A-Z0-9]/ig,"");(ot!==n[f].length&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")||e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel")&&(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"&&e!=="StackingArea100"?a.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(g,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,size:"size",marker:y,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,g,r,u):n[f].points,xName:"x",yName:["y"],Argument:"Argument",name:i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],customSeriesName:k.indexOf(o)!==h?k.split(o)[0]:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):a.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(g,u):"visible",enableSmartLabels:!0,fill:l,trendlines:v,size:"size",marker:y,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:n[f].points,xName:"x",yName:["y"],Argument:"Argument",border:{color:"transparent"},opacity:.5,name:i[f].indexOf(o)!==h?i[f].split(o)[0]:i[f],customSeriesName:k.indexOf(o)!==h?k.split(o)[0]:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(s,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(s,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}return this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One&&(a[0].points=a[0].dataSource,a[0].dataSource=null),a},_getProportionVisibleValue:function(n,i,r,u){var e,f,o;if(u.filterSetting.length!==t.DashboardConstants.Zero)for(e=n[0].points,f=0;f<e.length;f++)e[f]._visibility="visible",o=e[f].x,o=o.replace(/[^A-Z0-9]/ig,""),e[f]._visibility=this._getVisibilityValue(o,u);return n[0].points},_getVisibilityValue:function(n,i){var r,u;if(i.filterSetting.length!==t.DashboardConstants.Zero)for(r=0;r<i.filterSetting.length;r++)if(u=i.filterSetting[r].LegendItem.Text,u=u.replace(/[^A-Z0-9]/ig,""),n===u)return"hidden";return"visible"},_generateCustomLegendInSeriesForBasicChart:function(n,t){var f=null,i=127,r,u,h;if(n.Properties.IsBasicChartType&&n.Properties.IsGroupCustomLegend&&(n.TooltipForRowColCalc||n.TooltipForRowCalc)){var c=String.fromCharCode(i)+"(",l=String.fromCharCode(i)+"_",e=t.split(l),o=null,s=null,a=t.split(c);for(r=0;r<n.Properties.GroupCustomLegends.length;r++)if(e[1]===n.Properties.GroupCustomLegends[r].Name)for(u=0;u<n.Properties.SeriesCustomLegends.length;u++)if(a[0]===n.Properties.SeriesCustomLegends[u].Name){h=n.Properties.CustomLegendSeriesFormat.replaceAll(this.locale.utils.Row,n.Properties.SeriesCustomLegends[u].CustomName);o=h.replaceAll(this.locale.utils.Value,n.Properties.GroupCustomLegends[r].CustomName)+String.fromCharCode(i)+"_"+e[1];s=n.Properties.SeriesCustomLegends[u].CustomName+String.fromCharCode(i)+"("+n.Properties.GroupCustomLegends[r].CustomName+")"+String.fromCharCode(i)+"_"+e[1];break}f=o+String.fromCharCode(i)+"_("+s}else f=t;return f},_setTrendLines:function(n,i,r,u){var e={visibility:""},o=[],f;if(i!=="StackingColumn100"&&i!=="StackingArea100"&&i!=="StackingBar100"&&i!=="StackingArea"&&i!=="StackingColumn"&&i!=="StackingBar"&&i!=="Pie"&&i!=="Pyramid"&&i!=="Doughnut"&&i!=="Funnel")for(f=0;f<n.Properties.TrendLines.length;f++)r=t.isNullOrUndefined(n.Properties.TrendLines[f].UniqueName)?u:r,r===n.Properties.TrendLines[f].UniqueName&&(e={visibility:n.Properties.TrendLines[f].LineVisible?"visible":"",type:n.Properties.TrendLines[f].LineType.toLowerCase(),name:n.Properties.TrendLines[f].CustomName!==null&&n.Properties.TrendLines[f].CustomName!==""?n.Properties.TrendLines[f].CustomName:this._DisplayLineTypeInLegend(n.Properties.TrendLines[f].LineType)+"("+u+")",fill:"#"+n.Properties.TrendLines[f].LineColor.substring(3,9),polynomialOrder:n.Properties.TrendLines[f].Order,dashArray:this._TrendLineStyle(n.Properties.TrendLines[f].LineStyle)},o.push(e));return o},_TrendLineStyle:function(n){switch(n){case"Solid":return"";case"Dot":return"2,3";case"Dash":return"4,8";case"DotDash":return"2,6,6,10";case"LongDash":return"15";case"LongDashDotDot":return"20, 10, 5, 5, 5, 10"}return""},_DisplayLineTypeInLegend:function(n){switch(n){case"Logarithmic":return"Log.";case"Polynomial":return"Poly.";case"Exponential":return"Expon.";default:return n}},_getLegendPosition:function(n){switch(n){case 0:return"left";case 1:return"top";case 2:return"right";case 3:return"bottom";case 4:return"floating"}return"bottom"},_setChartColorPalatteForDrillChart:function(n,t,i){var r=0,f=0,e=3,u=9,o=127,s,h;if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(n.Properties.SeriesColorPalette.length===f||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(r=0;r<n.Properties.SeriesColorPalette.length;r++)if(n.Properties.SeriesColorPalette[r].Name===t.UniqueName)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(e,u):n.Properties.SeriesColorPalette[r].CustomColor}else{if(n.Properties.SeriesColorPalette.length===f||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(s=t.Argument.split(String.fromCharCode(o)+"(")[0],h=s+String.fromCharCode(o)+"("+t.UniqueName+")",r=0;r<n.Properties.SeriesColorPalette.length;r++)if(n.Properties.SeriesColorPalette[r].Name===h)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(e,u):n.Properties.SeriesColorPalette[r].CustomColor}return this.theme.palette[i%this.theme.palette.length]},_setChartColorPalatte:function(n,t,i){var r=0,u=0,o=0,f=9,s=3,c=127,e=null,h,l,a;if(n.Id.indexOf("ComboChart")!==-1){if(n.Properties.SeriesColorPalette.length===o||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(r=0;r<n.Properties.SeriesColorPalette.length;r++)if(n.Properties.SeriesColorPalette[r].Name===t.UniqueName)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(s,f):n.Properties.SeriesColorPalette[r].CustomColor}else if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(n.Properties.SeriesColorPalette.length===o||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(u=0;u<t.length;u++)if(t[u].UniqueName!==""){e=t[u].UniqueName;break}for(r=0;r<n.Properties.SeriesColorPalette.length;r++)if(n.Properties.SeriesColorPalette[r].Name===e)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(s,f):n.Properties.SeriesColorPalette[r].CustomColor}else{if(n.Properties.SeriesColorPalette.length===o||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(h=null,u=0;u<t.length;u++)if(t[u].Argument!==""){e=t[u].Argument;h=t[u].UniqueName;break}for(l=e.split(String.fromCharCode(c)+"(")[0],a=l+String.fromCharCode(c)+"("+h+")",r=0;r<n.Properties.SeriesColorPalette.length;r++)if(n.Properties.SeriesColorPalette[r].Name===a)return n.Properties.SeriesColorPalette[r].CustomColor.length===f?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(s,f):n.Properties.SeriesColorPalette[r].CustomColor}return this.theme.palette[i%this.theme.palette.length]},_setChartMarker:function(n,t,i,r){var e=10,o=-18,s=-22,f=this._labelRotationAngleValue(n.Properties.ValueLabelAngle),u={showText:!1};switch(t){case"Pie":case"Doughnut":case"Funnel":case"Pyramid":u={dataLabel:{font:{size:"9",fontFamily:"Roboto"},visible:i,shape:"none"}};break;case"StackingColumn100":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:this._getColorBrightness(r)},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:o}};break;case"StackingColumn":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(r):this.theme.labelscolor},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?o:e}};break;case"Column":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:e}};break;case 19:case"Scatter":case"Bubble":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near"}};break;case"SplineArea":case"Area":case"Spline":case"Line":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:e}};break;case"StackingArea":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?s:e}};break;case"StackingArea100":u={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,verticalTextAlignment:"near",textPosition:"top",offset:s}};break;case"Bar":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto"},visible:i,horizontalTextAlignment:"near",textPosition:"top"}};break;case"StackingBar":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(r):this.theme.labelscolor},visible:i,textAnchor:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?"end":"middle",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?{x:o}:{}}};break;case"StackingBar100":u={dataLabel:{angle:f,font:{size:"9",fontFamily:"Roboto",color:this._getColorBrightness(r)},visible:i,textPosition:"top",textAnchor:"end",offset:{x:o}}}}return u},_getColorBrightness:function(n){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(n),i="rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+");";return i>=204?"black":"white"},_getChartType:function(n){switch(n){case 0:return"column";case 1:return"area";case 2:return"bar";case 3:return"line";case 4:return"pie";case 5:return"rangecolumn";case 6:return"splinearea";case 7:return"scatter";case 8:case 9:return"stackingarea";case 10:case 11:return"stackingbar";case 12:case 13:return"stackingcolumn";case 14:return"stepline";case 15:return"doughnut";case 16:return"line";case 17:return"pyramid";case 19:return"spline";default:return"line"}},_chartLegendClickForAccumulation:function(t,i,r){for(var s,f,l,h=100,a="#"+i,c=n(a).ejChart("instance"),u=[],v=0,e=0,y=0,p=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex]._visibility,w=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex].actualIndex,o=0;o<r.model._visibleSeries[0].points.length;o++)u[v++]={x:r.model._visibleSeries[0].points[o].x,y:r.model._visibleSeries[0].points[o].y,text:r.model._visibleSeries[0].points[o].text,visible:r.model._visibleSeries[0].points[o].actualIndex===w?p==="visible"?!1:!0:r.model._visibleSeries[0].points[o]._visibility==="visible"?!0:!1};for(s=0;s<u.length;s++)u[s].visible===!0&&(e+=Math.abs(u[s].y));for(e=e===0?1:e,f=0;f<u.length;f++)l=u[f].y/e*h===h?u[f].y/e*h+"%":(u[f].y/e*h).toFixed(2)+"%",u[y++]={x:u[f].x,y:u[f].y,text:t.Properties.ChartDataLabel==="ValueAndPercentage"?u[f].text.split("(")[0]+"("+l+")":l,_visibility:u[f].visible===!0?"visible":"hidden"};c.model.series[0].dataSource=null;c.model.series[0].points=u;c.model.preRender=n.proxy(this._ChartPreRenderer,this,[{points:u}],t);c.redraw();this._chartLegendValue(t,r)},_chartLegendClick:function(n,t){var r,i,u,o,e;if(n.Properties.ChartType==="Bar"||n.Properties.ChartType==="Column"||n.Properties.ChartType==="StackingColumn100"||n.Properties.ChartType==="Line"||n.Properties.ChartType==="Spline"||n.Properties.ChartType==="Area"||n.Properties.ChartType==="Scatter")this._chartLegendValue(n,t);else{var f=!1;for(r=0;r<this.stackChartConfig.length;r++)if(i=this.stackChartConfig[r],i.Key===n.Id){if(f=!1,t.data.series.visibility==="visible"){i.Values[this.stackChartConfig[r].Values.length]=t.data.legendItem.Style.SeriesIndex;break}for(u=0;u<i.Values.length;u++)if(o=i.Values[u],o===t.data.legendItem.Style.SeriesIndex){i.Values.splice(u,1);break}}else f=!0;(this.stackChartConfig.length===0||f)&&t.data.series.visibility==="visible"&&(e=[],e.push(t.data.legendItem.Style.SeriesIndex),this.stackChartConfig.push({Key:n.Id,Values:e}));this._chartLegendValue(n,t)}},_chartLegendValue:function(n,i){for(var r,u,f=i.data,e=0;e<this.dashboardControls.controls.length;e++)if(r=this.dashboardControls.controls[e],r.reportName===n.Id)if(f.legendItem.LegendItem.visibility==="visible")r.filterSetting.push(f.legendItem);else if(f.legendItem.LegendItem.visibility==="hidden")for(u=0;u<r.filterSetting.length;u++)r.filterSetting[u].LegendItem.Text===f.legendItem.LegendItem.Text&&r.filterSetting.splice(u,t.DashboardConstants.One)},_initDrillChartToolTip:function(n,t){var f=0,e=1,s=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex]:t.model._visibleSeries[t.data.seriesIndex].points[t.data.pointIndex],h=String.fromCharCode(127)+"(",i=null,l=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument:t.model._visibleSeries[t.data.seriesIndex].Argument[t.data.pointIndex].Argument,r,u,c,o;n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Funnel"||n.Properties.ChartType==="Pyramid"?n.TooltipForRowColumns?t.data.currentText=n.Argument+" : "+s.x+"<br/>"+l+" : "+s.text+n.CustomAdornmentText:n.TooltipForRowColCalc&&(i=l.split(h),t.data.currentText=n.Argument+" : "+s.x+"<br/>"+n.Seriesname+" : "+(i.length>e?i[0]:"(null)")+"<br/>"+(i.length>e?i[1].substring(f,i[1].length-e):i[0])+" : "+s.text+n.CustomAdornmentText):(r=null,u=null,n.TooltipForRowColumns?(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),u=t.model.legend.responsiveVisibility&&n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u):n.TooltipForRowColCalc&&(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),c=n.Properties.IsGroupCustomLegend?t.model._visibleSeries[t.data.seriesIndex].customSeriesName:t.model._visibleSeries[t.data.seriesIndex].name,i=c.split(h),o=null,t.model.legend.responsiveVisibility&&n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u))},_initChartToolTip:function(n,i){var p=127,e=0,w=-1,s=1,r=i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex]:i.model._visibleSeries[i.data.seriesIndex].visiblePoints[i.data.pointIndex],l=String.fromCharCode(p)+"(",v=String.fromCharCode(p)+"_",u=null,f=null,a=null,o,c,y;if(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel")typeof r.actualIndex=="undefined"&&(r.actualIndex=i.data.seriesIndex),n.TooltipForColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?r.x.split(v)[0]+" : "+r.text:i.model.legendCollection[r.actualIndex].Text+" : "+r.text:r.x.indexOf(v)!==w?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text):n.TooltipForRowCalc?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+r.x.split(v)[0]+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+i.model.legendCollection[r.actualIndex].Text+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+(r.x.indexOf(v)!==w)?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColCalc&&(u=i.model._visibleSeries[i.data.seriesIndex].name.split(l),(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text)),f=i.data.currentText,i.data.currentText=f+(i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?n.CustomAdornmentText:"");else if(o=null,c=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].BubbleText,n.TooltipForColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else if(n.TooltipForRowColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=n.drill?n.DrilledChartProperties.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else{var h=null,b=null,k=null;n.TooltipForRowCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(b=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument,y=b.split(l),k=y[1].substr(e,y[1].length-s),y.length===2&&(f=k+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText)):f=n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):n.TooltipForRowColCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):(o=i.data.currentText.substr(e,i.data.currentText.indexOf(":")),f="",f=(i.model._visibleSeries.length>=s?i.model._visibleSeries[i.data.seriesIndex].name+"<br/>":"")+o+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text,i.data.currentText=f+n.CustomAdornmentText+(t.isNullOrUndefined(c)?"":"<br/>"+c))}},_loadDrilledChart:function(i,r,u,f){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:f}});!this._isAjaxCacheEnabled()||t.isNullOrUndefined(u)||t.isNullOrUndefined(u.data)||(this._getValueFromStore(u.data)||this._addToStore(u.data,f),this._cleanUpStore());for(var e=0;e<f.d.length;e++)f.d[e].Key==="WidgetType"&&f.d.splice(e);this._drawDrilledChart(r,f,null,!0);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:f}})},_drawDrilledChart:function(r,u,f,e){var l=0,b=1,ni=9,vt=2,ti=.8,yt=25,pt=[],o=null,ui=this._id+"_maximized_"+r.drillId,a=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length!==l,s=a?ui:r.id,rt=r.drillId,p=[],g=[],c=0,nt=0,tt=0,v=null,h,lt,ri,bt,d,kt,it,dt,gt,et;this.dashboardControls.getControlByReport(rt)&&(v=new Dbrdcontrol,v=v.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(rt)))));var w=this._getValuesFromDrillLevelInfo(v,r.drillId,v.isExportFromMaximizedView&&this._dashboardData().isExportImage?!0:a),ct=[],wt=!1,ot=w;if(ot!==null&&typeof ot!="undefined"){if(e){if(typeof v.drillLevelData!="undefined"&&v.drillLevelData.length>l)for(c=0;c<v.drillLevelData.length;c++)v.drillLevelData[c].Key===(a?r.drillId+"_Maximize":r.drillId)&&(wt=!0);wt&&(ct=this._getValuesFromDrillLevelData(v,r.drillId,a));ct.push({Data:u,ConfigInfo:r});wt?this._updateValuesInDrillLevelData(v,r.drillId,ct,a):v.drillLevelData.push({Key:a?r.drillId+"_Maximize":r.drillId,Values:ct});this.dashboardControls.updateCurrentReport(v)}for(c=0;c<=w.length;c++)pt[c]=c===l?r.Argument.toString():w[c-b].toString();for(h=null,this._hideInactiveDiv(),this._destroyAllControlWaitingIndicator(),nt=0;nt<u.d.length;nt++)g.push({Key:u.d[nt].Key,Value:n.parseJSON(u.d[nt].Value)}),p.push(g[nt].Value.points),u.d[nt].Key==="DrilledChartProp"&&(h=n.parseJSON(u.d[nt].Value));for(lt=null,c=0;c<g.length;c++)if(g[c].Key!=="DrilledChartProp"){lt=!1;break}else lt=!0;lt&&g.push({Key:"DrilledData",Value:""});var ii=this._labelRotationAngleValue(r.Properties.AngleValue),st=0,ht=r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Funnel"||r.Properties.ChartType==="Pyramid",at=this.theme.palette;if(ht)for(at=[],c=0;c<r.Properties.SeriesColorPalette.length;c++)ri=r.Properties.SeriesColorPalette[c].CustomColor.length===ni?"#"+r.Properties.SeriesColorPalette[c].CustomColor.substring(3,ni):r.Properties.SeriesColorPalette[c].CustomColor,at.push(ri);t.isNullOrUndefined(w)||(st=w.length);var y=null,ut=null,k=null,ft=null;if(ht&&h.MultipleSeries){if(o=n("<div>").attr({"data-controlid":rt,id:s+"_DrilledChart_"+st}),this._removePreviousBreadcrumbDiv(s),a&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+rt,chartDiv:n("#"+s),isMaximize:!0}),y=n("<div>").attr({id:a?s+"_drillclose_maximize":s+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),y.ejBreadcrumb({dataSource:this._getBreadcrumbDatasource(pt,s),width:String(n("#"+s).width()),selected:n.proxy(this._closeDrilledChart,this,r,a)}),n("#"+s).parent().append(y),n("#"+s).hasClass("e-dbrd-MaximizedControl")?(o.css({width:n("#"+s).parent().width()-5,height:n("#"+s).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart"),y.css({top:0,left:0})):(k=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+s).siblings(".e-control-heading").height(),o.css({position:"absolute",top:k?22:l}).addClass("drilledChart"),ft=n("#"+s).parent(),o.width(ft.width()),o.height(ft.height()-(k?k+vt:l)-vt),y.css({top:k?17:l,left:0})),typeof p[0]=="undefined"){for(n("#"+s).parent().append(o),this._applyOrRemoveNoDataAvailable(l,o),tt=0;tt<st;tt++)bt=n("#"+s+"_DrilledChart_"+tt),bt.data("ejScroller")&&bt.ejScroller("destroy");this._appendChartDiv(f,y,o);return}for(n("#"+s).parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),d=this._CreateDrilledChartSeries(g,h,o),o.css({overflow:"hidden"}),n("#"+s).parent().append(o),o.append(n("<div>")),c=0;c<d.length;c++){if(ut=n("#"+r.id).find(".e-datavisualization-chart").eq(c).offset(),typeof ut=="undefined"&&d.length===b&&(ut=n("#"+s).offset()),kt=[],kt.push(d[c]),it=n("<div>").attr({id:s+"_DrilledChart_"+st+"_childChart_"+c}),it.addClass("pull-left"),it.css({width:"100%",height:"100%",position:"relative",top:String(ut.top),left:String(ut.left)}).addClass("e-chartChild"),d[c].dataSource.length===l){it.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(dt=0,tt=0;tt<d[c].dataSource.length;tt++)parseInt(d[c].dataSource[tt].y)===l&&(dt+=b);if(dt===d[c].dataSource.length){it.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}o.children().eq(l).height(o.height());o.children().eq(l).append(it);it.ejChart({commonSeriesOptions:{highlightSettings:{enable:r.drill&&r.DrilledChartProperties.RowCount-b!==w.length,opacity:.8,border:{width:1},mode:!ht&&!r.DrilledChartProperties.TooltipForRowCalc?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:!a,opacity:.8,border:{width:1},mode:ht||r.DrilledChartProperties.TooltipForRowCalc?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===l?ti:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-b!==w.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:r.Properties.SeriesColorPalette.length===l?this.theme.palette:ht&&r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?at:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:kt,title:{text:r.DrilledChartProperties.ShowHeader!==""?ot+"("+h.yTitle+")":""},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:h.xTitles,enableTrim:!0},labelFormat:h.xTypeChars,valueType:"category",labelRotation:ii,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof r.Properties.ShowHorizontalLine=="undefined"?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(h.PrimaryAxisTitle)?h.yTitle:h.PrimaryAxisTitle!==""||h.SecondaryAxisTitle!==""?h.PrimaryAxisTitle:h.yTitle},labelFormat:h.yTypeChars,valueType:"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof r.Properties.ShowVerticalLine=="undefined"?!0:r.Properties.ShowVerticalLine},name:h.PrimaryAxisMaximumValueColumnName,opposedPosition:h.isAllSecondary&&!h.isAllPrimary},legendItemClick:(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,it[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,h),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:p[c]}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:p[c]}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:p[c]}],r),pointRegionClick:r.drill&&r.DrilledChartProperties.RowCount-b!==w.length?n.proxy(this._onChartDrilled,this,o,{DrilledChartProperties:r.DrilledChartProperties,TooltipForRowColumns:r.TooltipForRowColumns,TooltipForRowColCalc:r.TooltipForRowColCalc,drill:r.drill,drillId:r.drillId,CustomAdornmentText:r.CustomAdornmentText,master:r.master,id:r.id,ColumnProperties:r.ColumnProperties,Properties:r.Properties,MultipleSeries:r.MultipleSeries,Argument:r.Argument,PrimaryAxisFormatProp:r.PrimaryAxisFormatProp,SecondaryAxisFormatProp:r.SecondaryAxisFormatProp},r.IsLinked?r.ControlLinkData:i,a):[]})}o.data("ejScroller")&&o.ejScroller("destroy");d.length!==b&&(o.ejScroller({height:o.height(),width:o.width(),scrollerSize:13}),o.find(".e-scrollbar").css({"z-index":"2000"}));o.addClass("e-dbrd-control")}else{if(n("#"+s+"_DrilledChart").length===l){if(o=n("<div>").attr({"data-controlid":rt,id:s+"_DrilledChart_"+st}),this._removePreviousBreadcrumbDiv(s),a&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+rt,chartDiv:n("#"+s),isMaximize:!0}),y=n("<div>").attr({id:a?s+"_drillclose_maximize":s+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),y.ejBreadcrumb({dataSource:this._getBreadcrumbDatasource(pt,s),width:String(n("#"+s).width()),selected:n.proxy(this._closeDrilledChart,this,r,a)}),n("#"+s).parent().append(y),ut=n("#"+s).offset(),n("#"+s).hasClass("e-dbrd-MaximizedControl")?(o.css({width:n("#"+s).parent().width()-6,height:n("#"+s).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart e-dbrd-control"),y.css({top:0,left:0})):(k=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+s).siblings(".e-control-heading").height(),gt=this.currentTabContentElement.find("#"+s).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading"),gt.length>t.DashboardConstants.Zero&&(yt+=gt.height()),o.css({position:"absolute",top:k?yt:l,left:0}).addClass("drilledChart e-dbrd-control"),ft=n("#"+s).parent(),o.width(ft.width()-4),o.height(ft.height()-(k?k+vt:l)-7),y.css({top:k?yt:l,left:0})),n("#"+s).parent().append(o),this._applyOrRemoveNoDataAvailable(p[0]===i?l:b,o),p[0]===i){this._appendChartDiv(f,y,o);return}}else{o.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});o.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});o=n("#"+s+"_DrilledChart");n("#"+s).parent().children(".e-drillClose").fadeIn();o.fadeIn();et=o.data("ejChart");et&&(et.model.series=this._CreateDrilledChartSeries(g,h,o),et.model.title.text=r.DrilledChartProperties.ShowHeader!==""?ot+"("+h.yTitle+")":"",et.model.preRender=n.proxy(this._ChartDrillPreRenderer,this,[{points:p[0]}],r),et.redraw());return}o.ejChart({commonSeriesOptions:{highlightSettings:{enable:!0,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},selectionSettings:{enable:!0,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===l?ti:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-b!==w.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:r.Properties.SeriesColorPalette.length===l?this.theme.palette:r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?at:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:this._CreateDrilledChartSeries(g,h,o),title:{text:r.DrilledChartProperties.ShowHeader!==""?ot+"("+h.yTitle+")":""},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowXaxisTitle===null?!0:r.Properties.ShowXaxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:h.xTitles,enableTrim:!0},labelFormat:h.xTypeChars,valueType:"category",labelRotation:ii,enableScrollbar:r.TooltipForRowColumns,pointsLength:h.TotalCount,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:r.Properties.ShowHorizontalLine===i?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowYaxisTitle===null?!0:r.Properties.ShowYaxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(h.PrimaryAxisTitle)?h.yTitle:h.PrimaryAxisTitle!==""||h.SecondaryAxisTitle!==""?h.PrimaryAxisTitle:h.yTitle},labelFormat:r.yTypeChars,valueType:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.Properties.ShowVerticalLine===i?!0:r.Properties.ShowVerticalLine},name:h.PrimaryAxisMaximumValueColumnName,opposedPosition:h.isAllSecondary&&!h.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:this.theme.axisFontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.DrilledChartProperties.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:r.Properties.ChartType==="Bar"?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":r.yTypeChars,valueType:h.yType,title:{visible:r.Properties.ShowSecondaryYAxisTitle===null?!0:r.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:h.SecondaryAxisTitle},name:h.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(h.SecondaryAxisMaximumValueColumnName)?!1:h.PrimaryAxisMaximumValueColumnName!==""&&h.SecondaryAxisMaximumValueColumnName!==""&&r.DrilledChartProperties.Showyaxis}],legendItemClick:r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn"||r.Properties.ChartType==="StackingBar100"?n.proxy(this._chartLegendClick,this,r):(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Pyramid"||r.Properties.ChartType==="Funnel")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,o[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,h),scrollChanged:n.proxy(this._chartScrollChange,this,r,o,w,[]),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.EnableDataLabel!==null&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:p}],r),pointRegionClick:r.drill&&r.DrilledChartProperties.RowCount-b!==w.length?n.proxy(this._onChartDrilled,this,o,{DrilledChartProperties:r.DrilledChartProperties,TooltipForRowColumns:r.TooltipForRowColumns,TooltipForRowColCalc:r.TooltipForRowColCalc,drill:r.drill,drillId:r.drillId,CustomAdornmentText:r.CustomAdornmentText,master:r.master,id:r.id,ColumnProperties:r.ColumnProperties,Properties:r.Properties,MultipleSeries:r.MultipleSeries,Argument:r.Argument,PrimaryAxisFormatProp:r.PrimaryAxisFormatProp,SecondaryAxisFormatProp:r.SecondaryAxisFormatProp},r.IsLinked?r.ControlLinkData:i,a):[]})}this._appendChartDiv(f,y,o);this.model.enableCustomTheming&&(this._customTheme(["container"]),!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.container)&&!t.isNullOrUndefined(this.model.customThemeSettings.container["background-color"])&&this.model.customThemeSettings.container["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+rt+"_drillclose_breadcrumbDiv").css({"background-color":this.model.customThemeSettings.container["background-color"]}))}},_appendChartDiv:function(n,t,i){n!==null&&(n.chartDiv.append(t),n.chartDiv.append(i))},_removePreviousBreadcrumbDiv:function(t){for(var i=0,r=null,i=0;i<n("#"+t).parent().children().length;i++)n("#"+t).parent().children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).parent().children().eq(i).attr("id"),n("#"+r).remove());for(i=0;i<n("#"+t).children().length;i++)n("#"+t).children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).children().eq(i).attr("id"),n("#"+r).remove())},_getBreadcrumbDatasource:function(n,t){for(var r=[],i=0,i=0;i<n.length;i++)r.push({id:t+"_DrilledCharts_"+i,displayText:n[i]});return r},_loadChartSlaves:function(i,r,u,f,e,o){var v=0,y=-1,d=!0,rt,c,g,ut,nt,p,l,a,ft,et;if((this.controlRelations.length!==v||!t.isNullOrUndefined(f))&&this.flag){var h=[],b=[],s=0,it=String.fromCharCode(127)+"(";if(!t.isNullOrUndefined(o)){if(o.model.selectedDataPointIndexes!==null&&o.model.selectedDataPointIndexes.length>v&&o.model.selectedDataPointIndexes[0].pointIndex===o.data.region.Region.PointIndex&&o.model.selectedDataPointIndexes[0].seriesIndex===o.data.region.SeriesIndex)h=[],o.model.selectedDataPointIndexes=[];else{if(o.model.selectedDataPointIndexes=[],t.isNullOrUndefined(u.argumentColumn)||(rt=o.model._visibleSeries[o.data.region.SeriesIndex].points[o.data.region.Region.PointIndex].x,h.push({Column:u.argumentColumn,Value:rt})),c="",r.indexOf("ProportionChart")!==y)c=o.model._visibleSeries[o.data.region.SeriesIndex].name.split(it);else for(g=o.model._visibleSeries[o.data.region.SeriesIndex].dataSource,ut=g.length,s=0;s<ut;s++)if(c=g[s].Argument.split(it),c[0]!=="")break;if(!t.isNullOrUndefined(u.measureColumns))for(nt=null,nt=r.indexOf("ProportionChart")!==y?c:t.isNullOrUndefined(c[1])?c:c[1].substring(v,c[1].length-1),p=0;p<u.measureColumns.length;p++)nt.indexOf(u.measureColumns[p].Caption)!==y&&h.push({Column:u.measureColumns[p].Column,Value:o.model._visibleSeries[o.data.region.SeriesIndex].points[o.data.region.Region.PointIndex].y});t.isNullOrUndefined(u.seriesColumn)||h.push({Column:u.seriesColumn,Value:c[0]});b.push({Items:h})}if(l=this.dashboardControls.getControlByReport(r),h.length===v?(l.SelectedFilterInfo.push(new selectedFilterInfo),l.SelectedFilterInfo=[],d=!1):l.SelectedFilterInfo=[],h.length>v&&t.isNullOrUndefined(f))for(s=0;s<h.length;s++)a=new selectedFilterInfo,i.DateTimeColumns.indexOf(h[s].Column)!==y?a.DateFilterInfo.DateFilterList.push(h[s].Value):a.DimensionFilterInfo.Text.push(h[s].Value),a.DimensionFilterInfo.Conditions=4,a.UniqueColumnName=h[s].Column,a.ReportName=l.reportName,l.SelectedFilterInfo.push(a);if(ft=n("#"+this._id+t.DashboardConstants.Widget+i.Id).data("ejChart"),l.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(l.SelectedFilterInfo[0].PointIndex=o.data.region.Region.PointIndex,l.SelectedFilterInfo[0].SeriesIndex=o.data.region.SeriesIndex),!t.isNullOrUndefined(f)){this._controlNavigate(f,b,ft);return}}var w=null,tt=null,k=null;for(s=0;s<this.controlRelations.length;s++)if(this.controlRelations[s].Master.indexOf("Chart")!==y&&this.controlRelations[s].Master.lastIndexOf("_"+r)!==y){if(w=this.controlRelations[s].Master,tt=this.controlRelations[s].Slaves,tt.length===v){k=this._checkFilterOverviewData(r);this._addFilterDataToTitle(k);return}o!==null&&d?this.masterData.push({Key:r,Value:b}):this.masterData.push({Key:r,Value:b});this.target=[];k=this.masterData;et={master:r,masterData:k,slaves:tt,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(et);break}o!==null&&d?(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))}},_loadComparisonChartSlaves:function(r,u,f,e,o,s){var a=0,k=-1,d=!0,tt,g,y,v,it,l,rt,ut;if((this.controlRelations.length!==a||!t.isNullOrUndefined(e))&&this.flag){var c=[],w=[],h=0,ft=String.fromCharCode(127)+"(";if(!t.isNullOrUndefined(s)){if(s.model.selectedDataPointIndexes!==null&&s.model.selectedDataPointIndexes.length>a&&s.model.selectedDataPointIndexes[0].pointIndex===s.data.region.Region.PointIndex&&s.model.selectedDataPointIndexes[0].seriesIndex===s.data.region.SeriesIndex)c=[],s.model.selectedDataPointIndexes=[];else{if(s.model.selectedDataPointIndexes=[],t.isNullOrUndefined(f.argumentColumn)||(tt=s.model._visibleSeries[s.data.region.SeriesIndex].points[s.data.region.Region.PointIndex].x,c.push({Column:f.argumentColumn,Value:tt})),g=s.model._visibleSeries[s.data.region.SeriesIndex].seriesname.split(ft),!t.isNullOrUndefined(f.measureColumns))for(y=0;y<f.measureColumns.length;y++)g.indexOf(f.measureColumns[y].Caption)!==k&&c.push({Column:f.measureColumns[y].Column,Value:s.model._visibleSeries[s.data.region.SeriesIndex].points[s.data.region.Region.PointIndex].y});t.isNullOrUndefined(f.seriesColumn)||c.push({Column:f.seriesColumn,Value:g[0]});w.push({Items:c})}if(v=this.dashboardControls.getControlByReport(u),c.length===a?(v.SelectedFilterInfo.push(new selectedFilterInfo),v.SelectedFilterInfo=[],d=!1):v.SelectedFilterInfo=[],c.length>a&&t.isNullOrUndefined(e))for(h=0;h<c.length;h++)it=r.DateTimeColumns.length!==a&&r.DateTimeColumns[h]!==i?r.DateTimeColumns[h]:[],l=new selectedFilterInfo,it.indexOf(c[h].Column)!==k?l.DateFilterInfo.DateFilterList.push(c[h].Value):l.DimensionFilterInfo.Text.push(c[h].Value),l.DimensionFilterInfo.Conditions=4,l.UniqueColumnName=c[h].Column,l.ReportName=v.reportName,v.SelectedFilterInfo.push(l);if(rt=n("#"+this._id+t.DashboardConstants.Widget+r.Id).data("ejChart"),!t.isNullOrUndefined(e)&&(this._controlNavigate(e,w,rt),!o))return}var p=null,nt=null,b=null;for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master.indexOf("ComboChart")!==k&&this.controlRelations[h].Master.lastIndexOf("_"+u)+u.length===this.controlRelations[h].Master.length-1){if(p=this.controlRelations[h].Master,nt=this.controlRelations[h].Slaves,nt.length===a){b=this._checkFilterOverviewData(u);this._addFilterDataToTitle(b);return}s!==null&&d?this.masterData.push({Key:u,Value:w}):this.masterData.push({Key:u,Value:w});this.target=[];b=this.masterData;ut={master:u,masterData:b,slaves:nt,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(ut);break}s!==null&&d?(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var r=0;r<n.drillLevelInfo.length;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var u=0;u<n.drillLevelInfo.length;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_getValuesFromDrillLevelData:function(n,t,i){for(var r=0;r<n.drillLevelData.length;r++)if(n.drillLevelData[r].Key===(i?t+"_Maximize":t))return n.drillLevelData[r].Values;return[]},_updateValuesInDrillLevelData:function(n,t,i,r){for(var u=0;u<n.drillLevelData.length;u++)if(n.drillLevelData[u].Key===(r?t+"_Maximize":t)){n.drillLevelData[u].Values=i;break}return null},_containsKey:function(n,t){for(var i=0;i<n.length;i++)if(n[i].Key===t)return n[i];return null},_onChartDrilled:function(t,r,u,f,e){var l={},v=JSON.parse(JSON.stringify(this.dashboardParameters)),y=this.model.localeSettings.resourcePath,p=this.model.localeSettings.culture,h,a;if(r.drill){var w=e.model._visibleSeries[e.data.region.SeriesIndex].dataSource!==null?e.model._visibleSeries[e.data.region.SeriesIndex].dataSource[e.data.region.Region.PointIndex]:e.model._visibleSeries[e.data.region.SeriesIndex].points[e.data.region.Region.PointIndex],s=[],c=!1,o=null;if(this.dashboardControls.getControlByReport(r.drillId)&&(o=new Dbrdcontrol,o=o.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(r.drillId))))),o.drillLevelInfo!==i&&o.drillLevelInfo.length>0)for(h=0;h<o.drillLevelInfo.length;h++)o.drillLevelInfo[h].Key===(f?r.drillId+"_Maximize":r.drillId)&&(c=!0);c&&(s=this._getValuesFromDrillLevelInfo(o,r.drillId,f));s.push(w.x);c?this._updateValuesInDrillLevelInfo(o,r.drillId,s,f):o.drillLevelInfo.push({Key:f?r.drillId+"_Maximize":r.drillId,Values:s});this.dashboardControls.updateCurrentReport(o);this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);this._showInactiveDIv();a=JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:s,controlId:r.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:p,customLanguagePath:y,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(v)});l={type:"POST",url:this.serviceUrl()+"/GetDrillControlData",data:a,onSuccess:n.proxy(this._loadDrilledChart,this,e,r)};this.doAjaxPost(l)}},_closeDrilledChart:function(i,r,u){var h=1,w=n(u.currentTarget),e=0,f,s,c,y,p,a;this.target=[];f=null;this.dashboardControls.getControlByReport(i.drillId)&&(f=new Dbrdcontrol,f=f.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(i.drillId)))));var o=this._getValuesFromDrillLevelInfo(f,i.drillId,r),l=this._getValuesFromDrillLevelData(f,i.drillId,r),v=o.length;if(e=u.tabId.split("_DrilledCharts_"),e=parseInt(e[1]),e!==v){for(s=v-h;parseInt(e)<=s;s--)o.splice(s,h),l.splice(s,h);this._updateValuesInDrillLevelInfo(f,i.drillId,o,r);this._updateValuesInDrillLevelData(f,i.drillId,l,r);this.dashboardControls.updateCurrentReport(f);this._createControlWaitingIndicator(w.parents(".e-dbrd-control-container"),!0);this.model.enableAutorefresh&&!1||(o.length!==0?(c=l[e-h],y=JSON.parse(JSON.stringify(this.dashboardParameters)),this._showInactiveDIv(),c!==""?this._drawDrilledChart(c.ConfigInfo,c.Data,null,!1):this.doAjaxPost("POST",this.serviceUrl()+"/GetDrillControlData",JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:o,controlId:i.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(y)}),n.proxy(this._loadDrilledChart,this,null,i))):(f=this.dashboardControls.getControlByReport(i.drillId),r?(this.target.push(String(this._id)+"_maximized_"+i.drillId),p=n("#"+String(this._id)+"_maximized_"+i.drillId).parent(),n("#"+String(this._id)+"_maximized_"+i.drillId).remove(),a=t.buildTag("div"),p.append(a),a.attr({id:String(this._id)+"_maximized_"+i.drillId,"data-controlid":i.drillId}).css({height:"100%",width:"100%",position:"relative"}).addClass("e-dbrd-MaximizedControl e-dbrd-control"),this._renderChart(f,{id:String(this._id)+"_maximized_"+i.drillId,chartDiv:this.currentTabContentElement.find("#"+String(this._id)+"_maximized_"+i.drillId),isMaximize:!0})):(this.target.push(this._id+t.DashboardConstants.Widget+i.drillId),this._renderChart(f))))}}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maps={_renderBubbleMap:function(r,u){var o=null,tt=null,d=r.getCurrentPageData(),f=r.configInfo,s=this.dashboardControls.getControlByReport(f.Id),e=null,l=null,a=!1,p=0,it=3,h=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),nt,c,w,b,k,rt,ut,ft;if(e=h.find(".e-dbrd-control"),d.isError){e.attr({"data-controlId":f.Id});e.attr({id:this._id+t.DashboardConstants.Widget+f.Id});this._showControlError(d.pagedata,e,f);return}this._hideControlError(e);var v=n.parseJSON(r.configInfo.MapInput),y=d.pagedata,g=null;if(r.SelectedFilterInfo.length>p&&(g=r.SelectedFilterInfo),t.isNullOrUndefined(u)||t.isNullOrUndefined(u.bubbleMapDiv)){if(this.mapControlsData.length===p)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+f.Id,value:{}});else{for(nt=!1,o=0;o<this.mapControlsData.length;o++)if(this.mapControlsData[o].key===f.Id){this.mapControlsData[o].value.d[0]={};nt=!0;break}nt||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+f.Id,value:{}})}if(n("#"+this._id+t.DashboardConstants.Widget+f.Id).data("ejMap")){if(e=n("#"+this._id+t.DashboardConstants.Widget+f.Id),!this._applyOrRemoveNoDataAvailable(y.length,e))return;l=e.parents(".e-dbrd-control-container");(typeof f.DrillDownEnabled=="undefined"||!f.DrillDownEnabled)&&e.data("ejMap")&&(c=e.data("ejMap"),c?(c.model.layers[0].dataSource=y,c.model.layers[0].selectedItems=[],c.model.layers[0].bubbleSettings=this._setMapBubbleSettings(f.BubbleSettings,e,s),c.model.zoomSettings.level=1,c.refresh()):tt=null,n(e).unbind("dblclick"),this._mapInitialSelection(f,e,g,a));return}if(tt===null&&(h.attr({"data-controltype":"BubbleMap"}),e.addClass("dashboardMapControl").attr({"data-controlId":f.Id}),l=h.find(".e-dbrd-control-container"),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),h.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:f.Id})),w=null,v&&(this.MapType.push({Key:f.Id,Value:v}),w=v),w===null)for(o=0;o<this.MapType.length;o++)if(this.MapType[o].Key===f.Id){w=this.MapType[o].Value;break}if(f.DrillDownEnabled&&f.DrillableMapEntries===i){f.Id+="_Drilled";h=e.parents("td");this._generateMapToolTipTemplate(f);b=null;n("#"+e.attr("id")+"_P_Drilled").length!==p?(typeof n("#"+e.attr("id")+"_P_Drilled").children(".e-map").data("ejMap")!="undefined"&&n("#"+e.attr("id")+"_P_Drilled").children(".e-map").ejMap("destroy"),n("#"+e.attr("id")+"_P_Drilled").html("").fadeIn()):(k=n("<div>").attr({id:e.attr("id")+"_P_Drilled"}).addClass("e-drilledMap"),h.append(k),k.css({position:"absolute",top:e.position().top,left:e.position().left,width:e.width(),height:e.height(),"z-index":100}),rt=n("<div>").html("Back").addClass("e-drilledMap-bBtn").css({position:"absolute",top:20,left:10}),b=n("<div>").attr({id:e.attr("id")+"_Drilled"}),k.append(rt,b));b.ejMap({enableResize:!0,enableAnimation:!0,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},navigationControl:{enableNavigation:!0,orientation:"vertical",absolutePosition:{x:10,y:20},dockPosition:"centerleft"},layers:[{dataSource:y,enableMouseHover:!0,enableSelection:!0,tooltipTemplate:f.Id+"_Drilled_ToolTip",showTooltip:!0,shapePropertyPath:"name",alternatePropertyPath:f.AlternatePropertyPath,shapeDataPath:f.columnfirst.toString().replace(/\s/g,""),shapeSetting:{fill:f.ShapeFill!==null?"#"+f.ShapeFill.substr(it):"#626171",highlightColor:"#F7CD1C",highlightStroke:"white",mouseHoverStrokeWidth:"1",stroke:f.ShapeStroke!==null?"#"+f.ShapeStroke.substr(it):"#6F6F79",autoFill:!1,valuePath:f.columnfirst.toString().replace(/\s/g,""),colorValuePath:f.columnsecond.toString().replace(/\s/g,""),enableGradient:f.IsGradient},bubbleSettings:this._setMapBubbleSettings(f.BubbleSettings),shapeData:v}]});return}n("#"+e.attr("id")+"_P_Drilled").size()>p&&(n("#"+e.attr("id")+"_P_Drilled").children(".e-map").ejMap("destroy"),n("#"+e.attr("id")+"_P_Drilled").hide());f.DrillDownEnabled&&f.DrillableMapEntries!==null&&(this.DrillableMapEntries[f.Id]=f.DrillableMapEntries);ut=[];ut.Id=this._id+"_"+f.Id;l.removeAttr("range");l.removeAttr("formatSettings");l.attr({formatSettings:f.columnsecond!==null?JSON.stringify({Format:f.ColumnFormatting[1].Format,Culture:f.ColumnFormatting[1].Culture,Unit:f.ColumnFormatting[1].Unit}):JSON.stringify({Format:f.ColumnFormatting[0].Format,Culture:f.ColumnFormatting[0].Culture,Unit:f.ColumnFormatting[0].Unit})});l.attr({range:JSON.stringify({Min:f.Min,Max:f.Max})})}else e=u.bubbleMapDiv,a=u.isMaximize;this._generateMapToolTipTemplate(f);ft=this._setMapBubbleSettings(f.BubbleSettings,e,s);e.addClass("e-bubblemap-position");e.ejMap({enableResize:!1,navigationControl:{enableNavigation:!1,content:f.NavigatorEnabled?e.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,shapeSelected:a?f.IsLinked?n.proxy(this._loadBubbleMapSlaves,this,f.Id,a,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[]:f.IsMasterFilter||f.DrillDownEnabled||f.IsLinked?n.proxy(this._loadBubbleMapSlaves,this,f.Id,a,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[],background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},layers:[{selectionMode:f.SelectionMode.toLowerCase(),enableSelection:!0,showMapItems:f.showItemValue,mapItemsTemplate:f.showItemValue?this._id+"_"+f.Id+"_labelTemplate":null,dataSource:y,enableMouseHover:!0,shapeDataPath:f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),tooltipTemplate:this._id+"_"+f.Id+"_ToolTip",showTooltip:!0,shapePropertyPath:f.ShapePropertyPath,alternatePropertyPath:f.AlternatePropertyPath,shapeSettings:{fill:s.customTheme.fillColor,strokeThickness:"0.25",stroke:s.customTheme.borderColor,highlightColor:s.customTheme.highlightColor,highlightStroke:s.customTheme.highlightBorderColor,selectionColor:s.customTheme.selecionColor,selectionStroke:s.customTheme.selectionBorderColor,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),enableGradient:f.IsGradient},bubbleSettings:ft,shapeData:v}]});f.NavigatorEnabled&&this._generateNavigatorTemplate(e.attr("id"));n(e).unbind("dblclick");this._mapInitialSelection(f,e,g,a);!this._applyOrRemoveNoDataAvailable(y.length,e)},_setBubbleMapConfigInfo:function(n){n.configInfo.DrillDownEnabled=!1;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.Columnfirst=t.isNullOrUndefined(n.configInfo.Columnfirst)?null:n.configInfo.Columnfirst;n.configInfo.ColumnFirstAlias=t.isNullOrUndefined(n.configInfo.ColumnFirstAlias)?null:n.configInfo.ColumnFirstAlias;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.Columnsecond=t.isNullOrUndefined(n.configInfo.Columnsecond)?null:n.configInfo.Columnsecond;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnSecondAlias=t.isNullOrUndefined(n.configInfo.ColumnSecondAlias)?null:n.configInfo.ColumnSecondAlias;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.ShowItemValue=!t.isNullOrUndefined(n.configInfo.ShowItemValue)&&n.configInfo.ShowItemValue;n.configInfo.BubbleSettings=t.isNullOrUndefined(n.configInfo.BubbleSettings)?null:n.configInfo.BubbleSettings},_mapInitialSelection:function(n,i,r,u){n.IsMasterFilter&&r&&r.length>0?(this._selectMapShape(i,n,r),i.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0"),u||this.masterData.push({Key:n.Id,Value:r,MultiSelection:n.SelectionMode.toLowerCase()!=="default"})):t.isNullOrUndefined(r)&&(i.siblings().find(".e-remove-control-filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_generateNavigatorTemplate:function(t){var i=n("<div>").attr({id:t+"_Navigator"}).css({"margin-left":"10px",width:"40px",height:"106px"});i.append(n("<div>").attr("id",t+"_Home").css({"margin-top":"24px"}).addClass("map-home map-navi-border"),n("<div>").css({"margin-top":"3px",width:"22px"}).addClass("map-navi-border").append(n("<div>").attr("id",t+"_ZoomIn").addClass("map-zoom-in"),n("<div>").addClass("map-split-line"),n("<div>").attr("id",t+"_ZoomOut").addClass("map-zoom-out")));this.currentTabContentElement.append(i);n("#"+t+"_Navigator").css("display","none");n("#"+t).mouseenter(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block")});n("#"+t).mouseleave(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!1;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","none")});n("#"+t).touchstart(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block")});n("#"+t+"_Home").on("click touchend",function(){n("#"+t).ejMap("zoom",1)});n("#"+t+"_ZoomIn").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level+1)});n("#"+t+"_ZoomOut").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level-1)})},_selectMapShape:function(n,t,i){var u=n.data("ejMap"),e=u.model.shapeSelected,r,f;for(u.model.shapeSelected=null,r=0;r<i.length;r++)if(("M"+i[r].UniqueColumnName).toLowerCase()===t.columnfirst.toLowerCase())for(f=0;f<i[r].DimensionFilterInfo.Text.length;f++)u.selectShape(i[r].DimensionFilterInfo.Text[f]);u.model.shapeSelected=e},_renderChoroplethMap:function(r,u){var o=0,ut=null,s=r.getCurrentPageData(),f=r.configInfo,p=null,e=null,a=null,k=null,v=!1,c=this.dashboardControls.getControlByReport(f.Id),d=0,ft=3,l=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),g,rt,h,nt,y,tt,et;if(e=l.find(".e-dbrd-control"),s.isError){e.attr({"data-controlId":f.Id});e.attr({id:this._id+t.DashboardConstants.Widget+f.Id});this._showControlError(s.pagedata,e,f);return}this._hideControlError(e);var w=n.parseJSON(r.configInfo.MapInput),b=s.pagedata,it=null;if(this.model.enableCustomTheming){for(g=JSON.parse(s.rangeColor),o=0;o<g.rangeColorMapping.length;o++)g.rangeColorMapping[o].color=c.customTheme.rangecolor[o];s.rangeColor=JSON.stringify(g)}if(p=n.parseJSON(s.rangeColor),r.SelectedFilterInfo.length>d&&(it=r.SelectedFilterInfo),t.isNullOrUndefined(u)||t.isNullOrUndefined(u.choroplethMapDiv)){if(this.mapControlsData.length===d)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+f.Id,value:{ShowLegend:f.showLegend}});else{for(rt=!1,o=0;o<this.mapControlsData.length;o++)if(this.mapControlsData[o].key===f.Id){this.mapControlsData[o].value.d[0]={ShowLegend:f.showLegend};rt=!0;break}rt||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+f.Id,value:{ShowLegend:f.showLegend}})}if(n("#"+this._id+t.DashboardConstants.Widget+f.Id).data("ejMap")){if(e=n("#"+this._id+t.DashboardConstants.Widget+f.Id),!this._applyOrRemoveNoDataAvailable(b.length,e))return;a=e.parents(".e-dbrd-control-container");(typeof f.DrillDownEnabled=="undefined"||!f.DrillDownEnabled)&&e.data("ejMap")&&(h=e.data("ejMap"),h?(h.model.layers[0].dataSource=b,h.model.layers[0].selectedItems=[],h.model.layers[0].shapeSettings.colorMappings=this.customRangeApplied?this.customRange[f.Id]:p,h.model.layers[0].legendSettings.leftLabel=f.IsGradient?s.legendPrefx.toString():"",h.model.layers[0].legendSettings.rightLabel=f.IsGradient?s.legendPostfix.toString():"",h.model.zoomSettings.level=1,h.refresh()):ut=null,n(e).unbind("dblclick"),this._mapInitialSelection(f,e,it,v));return}if(ut===null&&(l.attr({"data-controltype":"ChoroplethMap"}),e.addClass("dashboardMapControl").attr({"data-controlId":f.Id}),a=l.find(".e-dbrd-control-container"),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),l.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),l.find(".e-dbrd-export").attr({value:f.Id})),nt=null,w&&(this.MapType.push({Key:f.Id,Value:w}),nt=w),nt===null)for(o=0;o<this.MapType.length;o++)if(this.MapType[o].Key===f.Id){nt=this.MapType[o].Value;break}if(f.DrillDownEnabled&&f.DrillableMapEntries===i){f.Id+="_Drilled";l=e.parents("td");this._generateMapToolTipTemplate(f);y=null;n("#"+e.attr("id")+"_P_Drilled").length!==d?(typeof n("#"+e.attr("id")+"_P_Drilled").children(".e-map").data("ejMap")!="undefined"&&n("#"+e.attr("id")+"_P_Drilled").children(".e-map").ejMap("destroy"),n("#"+e.attr("id")+"_P_Drilled").html("").fadeIn()):(tt=n("<div>").attr({id:e.attr("id")+"_P_Drilled"}).addClass("e-drilledMap"),l.append(tt),tt.css({position:"absolute",top:e.position().top,left:e.position().left,width:e.width(),height:e.height(),"z-index":100}),et=n("<div>").html("Back").addClass("e-drilledMap-bBtn").css({position:"absolute",top:20,left:10}),y=n("<div>").attr({id:e.attr("id")+"_Drilled"}),tt.append(et,y));y.ejMap({enableResize:!0,enableAnimation:!0,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},navigationControl:{enableNavigation:!0,orientation:"vertical",absolutePosition:{x:10,y:20},dockPosition:"centerleft"},layers:[{dataSource:b,enableSelection:!0,enableMouseHover:!0,tooltipTemplate:f.Id+"_Drilled_ToolTip",showTooltip:!0,shapePropertyPath:"name",alternatePropertyPath:f.AlternatePropertyPath,shapeDataPath:f.columnfirst.toString().replace(/\s/g,""),legendSettings:{showLegend:f.showLegend,height:y.height()*.05,width:y.width()*.3,position:f.showLegend?f.LegendPosition.toLowerCase():"",type:"Layers",mode:"interactive",title:f.IsGradient?f.columnsecond.replace("M","").replace("(","").replace(")",""):"",leftLabel:f.IsGradient?f.LegendPrefx:"",rightLabel:f.IsGradient?f.LegendPostfix:""},shapeSetting:{fill:f.ShapeFill!==null?"#"+f.ShapeFill.substr(ft):"#626171",highlightColor:"#F7CD1C",highlightStroke:"white",mouseHoverStrokeWidth:"1",stroke:f.ShapeStroke!==null?"#"+f.ShapeStroke.substr(ft):"#6F6F79",autoFill:!0,valuePath:f.columnfirst.toString().replace(/\s/g,""),colorValuePath:f.columnsecond.toString().replace(/\s/g,""),enableGradient:f.IsGradient,colorMappings:p},shapeData:w}]});return}n("#"+e.attr("id")+"_P_Drilled").size()>d&&(n("#"+e.attr("id")+"_P_Drilled").children(".e-map").ejMap("destroy"),n("#"+e.attr("id")+"_P_Drilled").hide());f.DrillDownEnabled&&f.DrillableMapEntries!==null&&(this.DrillableMapEntries[f.Id]=f.DrillableMapEntries);k=[];k.Id=this._id+"_"+f.Id;this.defaultRange[k.Id]=p;a.removeAttr("range");a.removeAttr("formatSettings");a.attr({formatSettings:f.columnsecond!==null?JSON.stringify({Format:f.ColumnFormatting[1].Format,Culture:f.ColumnFormatting[1].Culture,Unit:f.ColumnFormatting[1].Unit}):JSON.stringify({Format:f.ColumnFormatting[0].Format,Culture:f.ColumnFormatting[0].Culture,Unit:f.ColumnFormatting[0].Unit})});a.attr({range:JSON.stringify({Min:f.Min,Max:f.Max})})}else e=u.choroplethMapDiv,v=u.isMaximize;this._generateMapToolTipTemplate(f);e.addClass("e-bubblemap-position");f.IsGradient&&e.addClass("e-gradient");this.model._dashboardData.isExportImage&&(f.showLegend=!1);e.ejMap({enableResize:!1,navigationControl:{enableNavigation:!1,content:f.NavigatorEnabled?e.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,shapeSelected:v?f.IsLinked?n.proxy(this._loadChoroplethMapSlaves,this,f.Id,v,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[]:f.IsMasterFilter||f.DrillDownEnabled||f.IsLinked?n.proxy(this._loadChoroplethMapSlaves,this,f.Id,v,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[],background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},layers:[{selectionMode:f.SelectionMode.toLowerCase(),enableSelection:!0,showMapItems:f.showItemValue,mapItemsTemplate:f.showItemValue?this._id+"_"+f.Id+"_labelTemplate":null,dataSource:b,enableMouseHover:!0,shapeDataPath:f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),tooltipTemplate:this._id+"_"+f.Id+"_ToolTip",showTooltip:!0,shapePropertyPath:f.ShapePropertyPath,alternatePropertyPath:f.AlternatePropertyPath,legendSettings:this._setMapLegendSettings(f,e,s),shapeSettings:{fill:c.customTheme.fillColor,strokeThickness:"0.25",stroke:c.customTheme.borderColor,highlightColor:c.customTheme.highlightColor,highlightStroke:c.customTheme.highlightBorderColor,selectionColor:c.customTheme.selecionColor,selectionStroke:c.customTheme.selectionBorderColor,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),colorValuePath:f.SetColorForValue?f.ColorPath.toString().replace(/\s/g,"").replace(")","").replace("(",""):f.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(",""),enableGradient:f.CustomRange?!1:f.IsGradient,colorMappings:this.customRangeApplied?this.customRange[k.Id]:p},shapeData:w}]});f.NavigatorEnabled&&this._generateNavigatorTemplate(e.attr("id"));n(e).unbind("dblclick");this._mapInitialSelection(f,e,it,v);!this._applyOrRemoveNoDataAvailable(b.length,e)},_setChoroplethMapConfigInfo:function(n){n.configInfo.DrillDownEnabled=!1;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.ColorPath=t.isNullOrUndefined(n.configInfo.ColorPath)?"":n.configInfo.ColorPath;n.configInfo.Columnfirst=t.isNullOrUndefined(n.configInfo.Columnfirst)?null:n.configInfo.Columnfirst;n.configInfo.ColumnFirstAlias=t.isNullOrUndefined(n.configInfo.ColumnFirstAlias)?null:n.configInfo.ColumnFirstAlias;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.Columnfourth=t.isNullOrUndefined(n.configInfo.Columnfourth)?null:n.configInfo.Columnfourth;n.configInfo.ColumnfourthAlias=t.isNullOrUndefined(n.configInfo.ColumnfourthAlias)?null:n.configInfo.ColumnfourthAlias;n.configInfo.Columnsecond=t.isNullOrUndefined(n.configInfo.Columnsecond)?null:n.configInfo.Columnsecond;n.configInfo.Columnthird=t.isNullOrUndefined(n.configInfo.Columnthird)?null:n.configInfo.Columnthird;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnSecondAlias=t.isNullOrUndefined(n.configInfo.ColumnSecondAlias)?null:n.configInfo.ColumnSecondAlias;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.ColumnThirdAlias=t.isNullOrUndefined(n.configInfo.ColumnThirdAlias)?null:n.configInfo.ColumnThirdAlias;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.DockOnMap=!t.isNullOrUndefined(n.configInfo.DockOnMap)&&n.configInfo.DockOnMap;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.LegendMode=t.isNullOrUndefined(n.configInfo.LegendMode)?"INTERACTIVE":n.configInfo.LegendMode;n.configInfo.LegendPosition=t.isNullOrUndefined(n.configInfo.LegendPosition)?n.configInfo.LegendPosition:"NONE";n.configInfo.LegendTitle=t.isNullOrUndefined(n.configInfo.LegendTitle)?"":n.configInfo.LegendTitle;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.SelectedValues=t.isNullOrUndefined(n.configInfo.SelectedValues)?null:n.configInfo.SelectedValues;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.SetColorForValue=!t.isNullOrUndefined(n.configInfo.SetColorForValue)&&n.configInfo.SetColorForValue;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.ShowItemValue=!t.isNullOrUndefined(n.configInfo.ShowItemValue)&&n.configInfo.ShowItemValue;n.configInfo.ShowLegend=!t.isNullOrUndefined(n.configInfo.ShowLegend)&&n.configInfo.ShowLegend;n.configInfo.ShowToolTip=!t.isNullOrUndefined(n.configInfo.ShowToolTip)&&n.configInfo.ShowToolTip},_generateMapToolTipTemplate:function(i){var r=0,s=".",h=",",c,e,f,u,o;if(n("#"+this._id+"_"+i.Id+"_toolTip").length===r){if(c=n("<div>").attr({id:this._id+"_"+i.Id+"_ToolTip","class":"e-tree-tooltip"}),e=n("<table>").addClass("e-tree-tool-table"),c.append(e),f=null,u=null,t.isNullOrUndefined(i.columnfirst)||(f=n("<tr>"),u=n("<td>").html(i.columnFirstAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=n("<td>").html("{{:(#data['"+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}"),f.append(u),e.append(f)),t.isNullOrUndefined(i.columnthird)||(f=n("<tr>"),u=n("<td>").html("{{:"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}").css({"text-align":"center","font-size":"medium",color:"black"}).attr({colspan:"3"}),u=n("<td>").html(i.columnThirdAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=t.isNullOrUndefined(i.columnfourth)?n("<td>").html("{{:(#data['"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}"):n("<td>").html("{{:(#data['"+i.columnfourth.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}"),f.append(u),e.append(f)),!t.isNullOrUndefined(i.columnsecond)){for(o=0;o<i.ColumnFormatting.length;o++)if(i.columnsecond==="M"+i.ColumnFormatting[o].ColumnName){r=o;break}f=n("<tr>");u=n("<td>").html(i.columnSecondAlias).addClass("e-tool-value");f.append(u);u=n("<td>").html(":").addClass("e-tool-value");f.append(u);u=t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value"):n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value");f.append(u);e.append(f)}this.currentTabContentElement.append(c)}i.showItemValue&&(t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'):this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'))},_setMapResponsiveProperties:function(t,i){var c=300,s=0,l=.3,h=.05,a=.005,e=n("#"+t).data("ejMap");if(e){var u=n("#"+t).width(),f=n("#"+t).height(),r=e.model.layers[0],o=null;(f<=c||u<=c)&&(r.shapeSettings.colorMappings===null?(o=u<=f?u:f,r.bubbleSettings.minValue=o*a,r.bubbleSettings.maxValue=o*h):(r.legendSettings.showLegend=!1,r.legendSettings.dockOnMap=!1,r.legendSettings.width=0,r.legendSettings.height=0));r.shapeSettings.colorMappings===null?(o=u<=f?u:f,e.model.layers[0].bubbleSettings.minValue=o*a,e.model.layers[0].bubbleSettings.maxValue=o*h):typeof r.shapeSettings.colorMappings.equalColorMapping!="undefined"?(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=r.legendSettings.showLegend,r.legendSettings.position="none",f*.9>=u*.7?(r.legendSettings.dockPosition="bottom",r.legendSettings.width=r.legendSettings.showLegend?u:s,r.legendSettings.height=r.legendSettings.showLegend?f*.1:s):(r.legendSettings.dockPosition="right",r.legendSettings.width=r.legendSettings.showLegend?u*l:s,r.legendSettings.height=r.legendSettings.showLegend?f:s)):typeof e.model.layers[0].shapeSettings.colorMappings.rangeColorMapping!="undefined"&&(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=i.ShowLegend,r.legendSettings.position="TopLeft",r.legendSettings.width=u*l,r.legendSettings.height=f*h);n("#"+t).find(".e-dbrd-control-nodatainfo").length===s&&e.refresh()}},_setMapBubbleSettings:function(n,i,r){var f=[],u;return t.isNullOrUndefined(n)||(u=i.width()<=i.height()?i.width():i.height(),f={showBubble:!0,valuePath:n.ValuePath.replace(/\s/g,"").replace("(","").replace(")",""),minValue:u*.005,maxValue:u*.05,bubbleOpacity:.6,color:r.customTheme.bubbleColor}),f},_setMapLegendSettings:function(n,i,r){var f=.3,u=null,e=i.height()>=196&&i.width()>=317;return t.isNullOrUndefined(n.BubbleSettings)?(n.LegendMode.toLowerCase()==="interactive"?u={showLegend:e?n.showLegend:!1,height:i.height()*.05,width:i.width()*f,position:n.showLegend?n.LegendPosition.toLowerCase():"",type:"layers",mode:n.LegendMode.toLowerCase(),title:n.LegendTitle,leftLabel:n.IsGradient?r.legendPrefx:"",rightLabel:n.IsGradient?r.legendPostfix:"",dockOnMap:n.showLegend}:(n.LegendPosition=i.height()*.9>=i.width()*.7?"bottom":"right",u={showLegend:e?n.showLegend:!1,height:n.LegendPosition.toLowerCase()==="bottom"?i.height()*.1:i.height(),width:n.LegendPosition.toLowerCase()==="bottom"?i.width():i.width()*f,dockPosition:n.LegendPosition.toLowerCase(),dockOnMap:n.showLegend,type:"layers",mode:n.LegendMode.toLowerCase()}),u):null},_loadBubbleMapSlaves:function(r,u,f,e,o,s,h){var w=0,g=1,tt=-1,k,et,nt,d,ut;if(this.controlRelations.length!==w||!t.isNullOrUndefined(s)){var l=this.dashboardControls.getControlByReport(r),it=null,ft=null,b=null,v=[],y=0,rt=null,p=-1,c=0,a=null;if(h!==null){for(y=0;y<h.originalEvent.length;y++){rt=[];k=h.originalEvent[y].data;for(c in k)({}).hasOwnProperty.call(k,c)&&c!=="M"+o.MeasureColumns[0]&&rt.push({Column:c.toLowerCase().replace(" ","").substr(g),Value:k[c]});typeof k!="undefined"&&v.push({Items:rt})}if(l.SelectedFilterInfo=[],v.length>w&&t.isNullOrUndefined(s))for(c=0;c<v.length;c++)for(y=0;y<v[c].Items.length;y++)p=this._checkFilterInfo(v[c].Items[y].Column,l.SelectedFilterInfo),t.isNullOrUndefined(p)||p===tt?(a=new selectedFilterInfo,a.DimensionFilterInfo.Text.push(v[c].Items[y].Value),a.DimensionFilterInfo.Conditions=4,a.UniqueColumnName=v[c].Items[y].Column,a.ReportName=l.reportName,l.SelectedFilterInfo.push(a)):(l.SelectedFilterInfo[p].DimensionFilterInfo.Text.push(v[c].Items[y].Value),l.SelectedFilterInfo[p].ReportName=l.reportName);if(et=n("#"+this._id+t.DashboardConstants.Widget+o.Id).data("ejMap"),!t.isNullOrUndefined(s)){this._controlNavigate(s,v,et);return}}for(c=0;c<this.controlRelations.length;c++)if(this.controlRelations[c].Master.indexOf("BubbleMap")!==tt&&this.controlRelations[c].Master.lastIndexOf("_"+r)+r.length===this.controlRelations[c].Master.length-g){if(b=this.controlRelations[c].Master,it=this.controlRelations[c].Slaves,it.length===w){ft=this._checkFilterOverviewData(r);this._addFilterDataToTitle(ft);return}if(h!==null&&v.length===w&&h.originalEvent.length>w&&h.originalEvent[w].data===i)for(v=[],l.SelectedFilterInfo=[],nt=0;nt<h.model.layers[0].dataSource.length;nt++){d=h.model.layers[0].dataSource[nt];for(c in d)({}).hasOwnProperty.call(d,c)&&c!=="M"+o.MeasureColumns[0]&&(p=this._checkFilterInfo(c.substr(g),l.SelectedFilterInfo),t.isNullOrUndefined(p)||p===tt?(a=new selectedFilterInfo,a.DimensionFilterInfo.Text.push(d[c]),a.DimensionFilterInfo.Conditions=5,a.UniqueColumnName=c.substr(g),a.ReportName=l.reportName,l.SelectedFilterInfo.push(a)):(l.SelectedFilterInfo[p].DimensionFilterInfo.Text.push(d[c]),l.SelectedFilterInfo[p].ReportName=l.reportName))}this._makeSlaveDataRequest({master:r,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}for(ut=n("body").find(".e-tree-tool-table"),c=0;c<ut.length;c++)n(ut[c]).parent().css({display:"none"});h!==null&&h.originalEvent.length>w?(n("#"+b+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+b).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+b+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+b).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))}},_loadChoroplethMapSlaves:function(r,u,f,e,o,s,h){var b=0,g=1,k=-1,tt,ot,d,ft;if(this.controlRelations.length!==b||!t.isNullOrUndefined(s)){var v=this.dashboardControls.getControlByReport(r),nt=null,rt=null,et=null,l=[],a=0,ut=null,c=0,p=0,w=-1,y=null,it=o!==null&&o.DateTimeColumns.length!==b&&typeof o.DateTimeColumns[c]!="undefined"?o.DateTimeColumns[c].toLowerCase():[];if(h!==null){for(a=0;a<h.originalEvent.length;a++){ut=[];tt=h.originalEvent[a].data;for(c in tt)({}).hasOwnProperty.call(tt,c)&&c!=="M"+o.MeasureColumns[0]&&ut.push({Column:c.toLowerCase().replace(" ","").substr(g),Value:tt[c]});typeof tt!="undefined"&&l.push({Items:ut})}if(v.SelectedFilterInfo=[],l.length>b&&t.isNullOrUndefined(s))for(c=0;c<l.length;c++)for(a=0;a<l[c].Items.length;a++)if(w=this._checkFilterInfo(l[c].Items[a].Column,v.SelectedFilterInfo),t.isNullOrUndefined(w)||w===k){if(y=new selectedFilterInfo,it.indexOf(l[c].Items[a].Column)!==k){for(y.DateFilterInfo.DateFilterList.push(l[c].Items[a].Value),p=0;a<l[c].Items.length;p++)if(l[c].Items[p].Column===l[c].Items[a].Column+"_displayvalue"){y.DateFilterInfo.DisplayDateFilterList.push(l[c].Items[p].Value);break}}else y.DimensionFilterInfo.Text.push(l[c].Items[a].Value);y.DimensionFilterInfo.Conditions=4;y.UniqueColumnName=l[c].Items[a].Column;y.ReportName=v.reportName;v.SelectedFilterInfo.push(y)}else{if(it.indexOf(l[c].Items[a].Column)!==k){for(v.SelectedFilterInfo[w].DateFilterInfo.DateFilterList.push(l[c].Items[a].Value),p=0;p<l[c].Items.length;p++)if(l[c].Items[p].Column===l[c].Items[a].Column+"_displayvalue"){v.SelectedFilterInfo[w].DateFilterInfo.DisplayDateFilterList.push(l[c].Items[p].Value);break}}else v.SelectedFilterInfo[w].DimensionFilterInfo.Text.push(l[c].Items[a].Value);v.SelectedFilterInfo[w].ReportName=v.reportName}if(ot=n("#"+this._id+t.DashboardConstants.Widget+o.Id).data("ejMap"),!t.isNullOrUndefined(s)){this._controlNavigate(s,l,ot);return}}for(c=0;c<this.controlRelations.length;c++)if(this.controlRelations[c].Master.indexOf("ChoroplethMap")!==k&&this.controlRelations[c].Master.lastIndexOf("_"+r)+r.length===this.controlRelations[c].Master.length-g){if(nt=this.controlRelations[c].Master,rt=this.controlRelations[c].Slaves,rt.length===b){et=this._checkFilterOverviewData(r);this._addFilterDataToTitle(et);return}if(h!==null&&l.length===b&&h.originalEvent.length>b&&h.originalEvent[b].data===i)for(l=[],v.SelectedFilterInfo=[],p=0;p<h.model.layers[0].dataSource.length;p++){d=h.model.layers[0].dataSource[p];for(c in d)({}).hasOwnProperty.call(d,c)&&c!=="M"+o.MeasureColumns[0]&&(w=this._checkFilterInfo(c.substr(g),v.SelectedFilterInfo),t.isNullOrUndefined(w)||w===k?(y=new selectedFilterInfo,it.indexOf(c.substr(g).toLowerCase())!==k?y.DateFilterInfo.DateFilterList.push(d[c]):(y.DimensionFilterInfo.Text.push(d[c]),y.DimensionFilterInfo.Conditions=5),y.UniqueColumnName=c.substr(g),y.ReportName=v.reportName,v.SelectedFilterInfo.push(y)):(it.indexOf(c.substr(g))!==k?v.SelectedFilterInfo[w].DateFilterInfo.DateFilterList.push(d[c]):v.SelectedFilterInfo[w].DimensionFilterInfo.Text.push(d[c]),v.SelectedFilterInfo[w].ReportName=v.reportName))}this._makeSlaveDataRequest({master:r,slaves:rt,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}for(ft=n("body").find(".e-tree-tool-table"),c=0;c<ft.length;c++)n(ft[c]).parent().css({display:"none"});h!==null&&h.originalEvent.length>b?(n("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+nt+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+nt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))}},_removeDrilledMap:function(t){n(t.currentTarget).parents(".e-drilledMap").css({display:"none"})}}}(jQuery,Syncfusion);$.views.helpers({MapToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var w=0,y="",p,v;if(ej.preferredCulture(e),p=ej.isNullOrUndefined(l)?w:l,v=parseFloat(p.toString()),isNaN(v))return p;if((n==="Number"||n==="Default")&&(Math.abs(p)>1e15||Math.abs(p)<1e-15))return p=p.replaceAll(i,r),p=p.replaceAll(u,f),h+p+c;if(n==="Percent")return $.views.helpers.ApplyPercentage(t,e,o,v,a);if((n==="Number"||n==="Default")&&v<0){v=Math.abs(v);v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a);y=n==="Default"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ej.globalize.format(v.fraction,t,e)+v.symbol;y=y.replaceAll(i,r);y=y.replaceAll(u,f);switch(s){case"Default":y="-"+y;break;case"NoNegativeSignWithBracket":y="("+y+")";break;case"NegativeSignInSuffix":y+="-"}}else v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a),y=n==="Default"||n==="Number"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ej.globalize.format(v.fraction,t,e)+v.symbol,y=y.replaceAll(i,r),y=y.replaceAll(u,f);return h+y+c},_adjustZeros:function(n,t,i,r){var f=0;ej.preferredCulture(r);var e=i,o=parseInt(i.replace(/^\D+/g,"")),u=n;return parseInt(t)===f?(n.fraction===f?(n.symbol="",e=i.replace(o,"0")):(n.fraction===parseInt(n.fraction)||n.fraction%o===f)&&(e=i.replace(o,"0")),ej.globalize.format(n.fraction,e,r)):t===""?u.fraction:(u.fraction===f&&(u={fraction:f,postFixLabel:""},e=i.replace(o,"0")),(u.fraction===parseInt(u.fraction)||u.fraction%o===f)&&(e=i.replace(o,"0")),ej.globalize.format(u.fraction,e,r)+(u.postFixLabel?u.postFixLabel:""))},ApplyNumberUnit:function(n,t,i){var r=10,o=2,s=4,h=5,c=3,f=6,e=7,u=1,l=Math.pow(r,c),p=Math.pow(r,h),a=Math.pow(r,f),w=Math.pow(r,e),v=Math.pow(r,9),y=Math.pow(r,12);if(i==="en-IN")switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case c:return{fraction:t/p,symbol:"L"};case s:return{fraction:t/a,symbol:"M"};case h:return{fraction:t/w,symbol:"C"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}else switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case s:return{fraction:t/a,symbol:"M"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}},ApplyPercentage:function(n,t,i,r,u){var f;return(ej.preferredCulture(t),f=parseFloat(r.toString()),isNaN(f))?r:(f*=100,f=i===0?$.views.helpers.truncateNumber(f,u):$.views.helpers.ApplyNumberUnit(i,f),typeof f.symbol!="undefined")?ej.globalize.format(f.fraction,n.replace("P","N"),t)+f.symbol+"%":ej.globalize.format(f.fraction,n.replace("P","N"),t)+"%"},truncateNumber:function(n,t){var e=10,o=Math.pow(e,3),s=Math.pow(e,5),r=Math.pow(e,6),h=Math.pow(e,7),u=Math.pow(e,9),f=Math.pow(e,12),i=n;if(t==="en-IN"){if(i>=o&&i<s||i<=-o&&i>-s)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=s&&i<r||i<=-s&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,s),symbol:"L"};if(i>=r&&i<h||i<=-r&&i>-h)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=h&&i<u||i<=-h&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,h),symbol:"C"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}else{if(i>=o&&i<r||i<=-o&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=r&&i<u||i<=-r&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}return{fraction:i,symbol:""}},_calculateFraction:function(n,t){return n/t}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.pivotGrid={_renderPivotGrid:function(r,u){var k=0,d=1,p=null,w=!1,f=null,l=null,e=null,o=null,a=null,v=null,h=null,tt,s,y,c,it,rt,ut,b,ft;e=r.configInfo;l=r.getCurrentPageData();var et=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.jsonRecords)?u.jsonRecords:r.getCurrentPageData().pagedata,ot=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.filterInfo)?u.filterInfo:null,g=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.pvtReport)?u.pvtReport:null,nt=r.reportName;if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.pivotgridDiv)){if(f=n("#"+this._id+t.DashboardConstants.Widget+e.Id),p=f.attr("id"),tt=f.data("ejPivotgrid"),t.isNullOrUndefined(tt)&&(p=null),t.isNullOrUndefined(f.find("#"+f.attr("id")+"_div").data("ejPivotGrid"))||(f.find("#"+f.attr("id")+"_div").data("ejPivotGrid")&&f.find("#"+f.attr("id")+"_div").ejPivotGrid("destroy"),f.find("#"+f.attr("id")+"_div").html("")),s=this.currentTabContentElement.find("#"+this._id+"_cell_"+e.Row+"_"+e.Column),p!==null||f.hasClass(".e-table dashboardPivotGridControl")||(e.EnableFrozenHeaders?(f=s.find(".e-dbrd-control"),f.addClass(".e-table dashboardPivotGridControl").css({width:f.parent().width(),margin:"1px",height:f.height()-d}).attr({id:this._id+t.DashboardConstants.Widget+e.Id}),s.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),s.find(".e-dbrd-export").attr({value:e.Id}),s.attr({"data-controltype":"PivotGrid"})):(f=s.find(".e-dbrd-control"),f.addClass(".e-table dashboardPivotGridControl").css({width:f.parent().width(),overflow:"hidden","margin-left":"-1px",height:f.height()-d}).attr({id:this._id+t.DashboardConstants.Widget+e.Id}),s.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),s.find(".e-dbrd-export").attr({value:e.Id}),s.attr({"data-controltype":"PivotGrid"}))),f.attr({"data-controlId":e.Id}),l.isError){this._showControlError(l.pagedata,f,e);return}this._hideControlError(f)}else f=u.pivotgridDiv,w=u.isMaximize;if(!this._applyOrRemoveNoDataAvailable(l.pagedata.length,f)){f.data("ejScroller")&&f.ejScroller("destroy");return}if(this._dashboardData().isExportImage&&t.isNullOrUndefined(r.PivotReport))for(y=this._dashboardData().widgetData.d,o=0;o<y.length;o++)if(y[o].reportName===r.reportName){r.PivotReport=y[o].PivotReport;break}if(this.dashboardControls.getControlByReport(nt)&&(a=new Dbrdcontrol,a=a.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(nt)))),h=n.parseJSON(a.PivotReport),h=g!==null?n.parseJSON(g):h),f.find("#"+f.attr("id")+"_div").length===k&&f.append(n("<div>").attr({id:f.attr("id")+"_div"})),c={},e.IsMasterFilter&&!e.IsLinked&&!t.isNullOrUndefined(r.SelectedFilterInfo))for(o=0;o<r.SelectedFilterInfo.length;o++)r.SelectedFilterInfo[o].DimensionFilterInfo!==null&&(v=r.SelectedFilterInfo[o].UniqueColumnName,c[v]=r.SelectedFilterInfo[o].DimensionFilterInfo.Text),r.SelectedFilterInfo[o].DateFilterInfo!==null&&(v=r.SelectedFilterInfo[o].UniqueColumnName,c[v]=r.SelectedFilterInfo[o].DateFilterInfo.DateFilterList);e.EnableFrozenHeaders&&(it=f.find("#"+f.attr("id")+"_div"),it.css({height:f.height(),width:f.parent().width()}));rt=this.model.localeSettings.resourcePath;ut=this.model.localeSettings.culture;f.find("#"+f.attr("id")+"_div").ejPivotGrid({enableJSONRendering:!0,operationalMode:"servermode",jsonRecords:{JsonRecords:et,PivotReport:h},serviceMethodSettings:{drillDown:"GetDrillControlData",fetchMembers:"GetDrillControlData",filtering:"GetDrillControlData",sorting:"GetDrillControlData",valueSorting:"GetDrillControlData"},renderSuccess:n.proxy(this._pivotGridRenderSuccess,this,f),drillSuccess:n.proxy(this._pivotGridDrillSuccess,this,f),frozenHeaderSettings:{enableFrozenHeaders:e.EnableFrozenHeaders},enableValueSorting:e.EnableMeasureSorting,isResponsive:!0,loadOnDemand:!0,selectedCells:c!==null?c:null,enableCellSelection:e.IsMasterFilter&&!w||e.IsLinked,enableCollapseByDefault:!0,cellSelection:e.IsMasterFilter&&!w||e.IsLinked?n.proxy(this._loadPivotGridSlaves,this,e.Id,e.IsLinked?e.ControlLinkData:i,e.IsMasterFilter,e.DateTimeColumns):[],enableColumnGrandTotal:e.EnableColumnGrandTotal,enableRowGrandTotal:e.EnableRowGrandTotal,enableGroupingBar:e.EnableGroupingBar,columnHeaderHyperlinkClick:n.proxy(this._headerHyperlinkClick,this,f),rowHeaderHyperlinkClick:n.proxy(this._headerHyperlinkClick,this,f),summaryCellHyperlinkClick:n.proxy(this._headerHyperlinkClick,this,f),beforeServiceInvoke:n.proxy(this._beforeServiceInvoke,this,f),customObject:{dashboardPath:this.dashboardPath(),controlId:e.Id,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,customCulture:ut,customLanguagePath:rt}});b=f.find("#"+f.attr("id")+"_div").data("ejPivotGrid");b._tempFilterData=ot;b._createGroupingBar(h);!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>k&&(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));e.EnableFrozenHeaders||this._refreshScroller(f);this.model._dashboardData.isExportImage&&(ft=".filter:before{font-family:ejDashboardViewerIconFont; content:'\\e805'}.e-pivotgrid .sorting.descending:before{font-family:ejDashboardViewerIconFont; content:'\\e800'}.e-pivotgrid .sorting:before{font-family:ejDashboardViewerIconFont; content:'\\e80a'}.expand { content : '' !important}",n("head").prepend('<style type= "text/css">'+ft+"<\/style>"))},_pivotGridRenderSuccess:function(i){var s=0,r=i.children().data("ejPivotGrid"),e,u,h,o,f,c;if(n(i).hasClass("e-dbrd-MaximizedControl")||(r._pivotJSONData=n.extend(!0,[],r.getJSONRecords()),r._pivotFilterData=n.extend(!0,[],r._tempFilterData)),e=0,u=new Dbrdcontrol,!t.isNullOrUndefined(r)){if(h=i.attr("data-controlid"),this.dashboardControls.getControlByReport(h)&&(u=u.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(h))))),o=JSON.parse(r._olapReport).Filters,n("#dashboard_maximized").length>s&&o.length>s)for(e=0;e<o.length;e++)f="#pivotButton"+o[e].DimensionName,f.length>s&&(f=f.match(/\S+/g)[0]),n(f).siblings(".filter").hasClass("filtered")&&(c="#dashboard_maximized "+f,n(c).siblings(".filter").addClass("filtered"));u.PivotReport!==r._olapReport&&r._olapReport&&(u.PivotReport=r._olapReport,u.data[u.data.length-1].pagedata=r._JSONRecords,this.dashboardControls.updateCurrentReport(u))}!t.isNullOrUndefined(r)&&r.model.enableJSONRendering?(r.model.url=this.serviceUrl(),r.model.enableJSONRendering=!1):t.isNullOrUndefined(r)||r._errorMessage===""||this._showPivotGridError(r,i);r.model.frozenHeaderSettings.enableFrozenHeaders?(this._refreshScrollerForFrozenHeaders(i),this._refreshGroupingBarForFrozenHeaders(i)):(this._refreshScroller(i),this._refreshGroupingBar(i))},_pivotGridDrillSuccess:function(n){var f,i,u,r;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:n}});f=1;i=n.children().data("ejPivotGrid");t.isNullOrUndefined(i)||i._errorMessage===""||this._showPivotGridError(i,n);u=n.attr("data-controlid");this.dashboardControls.getControlByReport(u)&&(r=new Dbrdcontrol,r=r.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(u)))),r.data[r.data.length-f].pagedata=i._JSONRecords,this.dashboardControls.updateCurrentReport(r));i.model.frozenHeaderSettings.enableFrozenHeaders?(this._refreshScrollerForFrozenHeaders(n),this._refreshGroupingBarForFrozenHeaders(n)):(this._refreshScroller(n),this._refreshGroupingBar(n));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:n}})},_beforeServiceInvoke:function(n){var i=n.children().data("ejPivotGrid"),r=this.model.localeSettings.resourcePath,u=this.model.localeSettings.culture;t.isNullOrUndefined(i)||t.isNullOrUndefined(i.model.customObject)||(i.model.customObject.masterData=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),i.model.customObject.rangeData=JSON.stringify(this.rangeData),i.model.customObject.customCulture=u,i.model.customObject.customLanguagePath=r)},_refreshScroller:function(t){var u=t.parent(),i=u.height()-(u.find(".e-control-heading").height()+u.find(".e-control-subtitleHeading").height()),f=t.width(),r;i=i-(n(t).find(".pivotGridTable").width()>f?-6:13);n(t).find(".e-pivotgrid").height(i);r=t.data("ejScroller");typeof r!="undefined"?(r.model.height=i,r.model.width=f,r.refresh()):(t.ejScroller({height:i,width:f}),t.ejScroller("refresh"))},_refreshGroupingBar:function(n){var r=n.find(".pivotGridTable"),t=n.find(".groupingBarPivot"),u,i,f;t.width(r.width()-1);u=r.find(".grpRow");i=t.find(".values");i.width(u.width()+3);f=t.find(".columns");f.width(t.width()-i.width()-5)},_refreshScrollerForFrozenHeaders:function(t){var f=13,o=t.height(),e=t.width(),i,r,u;n(t).find(".e-pivotgrid").height(o);n(t).find(".e-pivotgrid").width(e);n(t).find(".pivotGridTable").width(e);i=n(t).find(".e-pivotgrid").data("ejPivotGrid");i._applyFrozenHeaderWidth(i._JSONRecords);n(t).find(".e-scroller .e-hscroll").length>0&&(r=n(t).find("#rowvaluecontent"),u=n(t).find(".rowhead"),r.height(r.height()-f),n(t).find(".rowhead").css({"padding-bottom":"0px"}),u.css({height:u.height()-f}))},_refreshGroupingBarForFrozenHeaders:function(n){var f=n.find(".pivotGridTable"),t=n.find(".groupingBarPivot"),r,i,u;t.width(n.width()-1);r=f.find(".colfreeze");i=t.find(".values");i.width(r.width());u=t.find(".columns");u.width(t.width()-i.width()-5);i.css({"min-width":r.width()})},_showPivotGridError:function(n,t){this._showControlError(n._errorMessage,t,JSON.parse(n._configInfo));n.ogridWaitingPopup!==null&&n.ogridWaitingPopup.hide();return},_loadPivotGridSlaves:function(i,r,u,f,e){var l=0,d=-1,g=1,rt=!t.isNullOrUndefined(r),a,w,b,c,it,k;if(this.controlRelations.length!==l||rt){var s=[],y=null,nt=null,p=[],o=0,v=0,h=null,tt=[];if(!t.isNullOrUndefined(e)){for(o in e.JSONRecords)({}).hasOwnProperty.call(e.JSONRecords,o)&&(a=[],e.JSONRecords[o].CSS!=="summary gtot"&&e.JSONRecords[o].Info!=="GrandTotal"&&(t.isNullOrUndefined(e.JSONRecords[o].ActualValue)?a.push(e.JSONRecords[o].Value):a.push(e.JSONRecords[o].ActualValue),tt.push(e.JSONRecords[o].Value)),a.length>0&&s.push({Column:e.JSONRecords[o].Tag,Value:a,IsDateTime:!1}));if(w=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejPivotGrid"),h=this.dashboardControls.getControlByReport(i),h.SelectedItems.Included=e.model.selectedCells,p.push({Items:s}),t.isNullOrUndefined(r)||r.LinkType!==l&&r.LinkType!==2){if(!t.isNullOrUndefined(r)&&r.LinkType===g){if(r.GridUrlType===l){this._controlNavigate(r,p,w);return}if(e!==null&&!u)return}}else{this._controlNavigate(r,p,w);return}}for(o=0;o<this.controlRelations.length;o++)if(this.controlRelations[o].Master.indexOf("Grid")!==d&&this.controlRelations[o].Master.lastIndexOf("_"+i)+i.length===this.controlRelations[o].Master.length-g){if(y=this.controlRelations[o].Slaves,y.length===l){nt=this._checkFilterOverviewData(i);this._addFilterDataToTitle(nt);return}if(!t.isNullOrUndefined(e)&&s.length>l)for(h=this.dashboardControls.getControlByReport(i),h.SelectedFilterInfo=[],o=0;o<s.length;o++){for(b=!1,v=0;v<f.length;v++)if(f[v].indexOf(s[o].Column.toUpperCase())!==d){b=!0;break}c=new selectedFilterInfo;c.UniqueColumnName=s[o].Column;b?(c.DateFilterInfo.DateFilterList=s[o].Value,c.DateFilterInfo.DisplayDateFilterList=tt):(c.DimensionFilterInfo.Text=s[o].Value,c.DimensionFilterInfo.Conditions="Include");c.ReportName=h.reportName;h.SelectedFilterInfo.push(c)}else s.length===0&&(h=this.dashboardControls.getControlByReport(i),h.SelectedFilterInfo=[]);this.target=[];it={master:i,masterData:this.dashboardControls.getAllControlsMasterData(),slaves:y,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(it);break}t.isNullOrUndefined(e)||(k=this._id+t.DashboardConstants.Widget+i,n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}},_headerHyperlinkClick:function(i,r){var h,f,c,e;if(!t.isNullOrUndefined(r.args.target)){var s=n(r.args.target.parentElement).attr("role"),u=null,o=null;s==="rowheader"?(h=n(r.args.target.parentElement).attr("p").split(",")[0],f=r.model.jsonRecords.PivotReport.PivotRows[h],t.isNullOrUndefined(f)||!f.EnableHyperlink||t.isNullOrUndefined(f.UrlLink)||(o=r.args.target.parentElement.textContent,u=f.UrlLink.replace("{{:"+f.FieldName.toUpperCase()+"}}",o),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u)))):s==="columnheader"&&(c=n(r.args.target.parentElement).attr("p").split(",")[1],e=r.model.jsonRecords.PivotReport.PivotColumns[c],t.isNullOrUndefined(e)||!e.EnableHyperlink||t.isNullOrUndefined(e.UrlLink)||(o=r.args.target.parentElement.textContent,u=e.UrlLink.replace("{{:"+e.FieldName.toUpperCase()+"}}",o),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u))))}}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.rangeNavigator={_renderRangeNavigator:function(r){var c=0,w=1,b=120,l=r.getCurrentPageData(),u=r.configInfo,s=this.dashboardControls.getControlByReport(u.Id),k=null,o=[],h=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=h.find(".e-dbrd-control"),a,v,y,e,p;if(l.isError){f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id});this._showControlError(l.pagedata,f,u);return}for(a=0;a<l.pagedata.length;a++)o.push(JSON.parse(l.pagedata[a]));if(this._hideControlError(f),v=null,y=null,this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f)){if(e=f.data("ejRangeNavigator"),!t.isNullOrUndefined(e)){e?(e.model.series=this._CreateNaviSeries(o,u,this.theme.RangeNavigator[0]),t.isNullOrUndefined(r.SelectedItems.DateRange.start)||t.isNullOrUndefined(r.SelectedItems.DateRange.end)||r.SelectedItems.DateRange.start===""||r.SelectedItems.DateRange.end===""||!this._validateSelectedRanges(o,r.SelectedItems.DateRange)?(e.model.zoomPosition=w,e.model.zoomFactor=w,!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c?(e.model.selectedRangeSettings.start=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],e.model.selectedRangeSettings.end=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):(e.model.selectedRangeSettings.start="",e.model.selectedRangeSettings.end=""),e.renderNavigator()):(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),e.model.selectedRangeSettings.start=t.globalize.format(new Date(r.SelectedItems.DateRange.start),"yyyy/MM/dd"),e.model.selectedRangeSettings.end=t.globalize.format(new Date(r.SelectedItems.DateRange.end),"yyyy/MM/dd"),e.renderNavigator())):k=null;return}(p=null,k===null&&(h.attr({"data-controltype":"RangeNavigator"}),p=n('<div style="height:100%; width:100%; display:table">'),h.find(".e-dbrd-control-container").append(p),p.append(f),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id}),h.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:u.Id})),v="",y="",!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c&&(v=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]),"yyyy/MM/dd"),y=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]),"yyyy/MM/dd"),n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),f.attr({"data-stuff":'["'+u.xTitle+'","'+u.yTitle+'"]'}),f.addClass("e-dbrd-rangenavi"),this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f))&&(this._CreateNaviThumbTemplate(u),f.ejRangeNavigator({enableDeferredUpdate:!0,enableAutoResizing:!0,padding:"15",sizeSettings:{height:f.height()>200?150:f.height()>b?b:f.height()-15,width:f.width()},selectedRangeSettings:{start:v,end:y},palette:this.theme.palette,seriesSettings:{type:u.Type?u.Type.toLowerCase():"line",animation:!0,style:{borderColor:"transparent",opacity:.5,fill:"green",borderWidth:.5},fill:"green"},tooltipSettings:{visible:!(f.width()<125),labelFormat:String(u.LabelFormat),backgroundColor:s.customTheme.toolTipBackground,tooltipDisplayMode:"always",font:{color:s.customTheme.toolTipData,fontStyle:"Normal",fontFamily:"Segoe UI",size:"12px",opacity:1,fontWeight:"regular"}},series:this._CreateNaviSeries(o,u,this.theme.RangeNavigator[0]),valueType:"datetime",labelSettings:{higherLevel:{intervalType:"",style:{font:{color:"transparent",fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",opacity:1,fontWeight:"regular"},horizontalAlignment:"left"},gridLineStyle:{color:"transparent",width:1,dashArray:"17 5 0"},labelPlacement:"inside"},lowerLevel:{intervalType:u.IntervalType?u.IntervalType.toLowerCase():"quarters",style:{font:{color:this.theme.RangeNavigator[0].labelSettingsLowerLevelColor,fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"},horizontalAlignment:"middle"},gridLineStyle:{color:"black",width:1,dashArray:"0 13 5"},labelPlacement:"inside"}},valueAxisSettings:{rangePadding:"none",font:{size:"0px"},majorTickLines:{size:0}},navigatorStyleSettings:{selectedRegionColor:"transperant",unselectedRegionColor:s.customTheme.unSelectedRegionColor,unselectedRegionOpacity:.5,leftThumbTemplate:this._id+"_"+u.Id+"_thumb",rightThumbTemplate:this._id+"_"+u.Id+"_thumb",background:s.customTheme.backgroundColor,thumbStroke:s.customTheme.navigatorBorderColor,thumbColor:s.customTheme.navigatorBackgroundColor,border:{color:s.customTheme.borderColor,width:.5},majorGridLineStyle:{color:"transparent"},minorGridLineStyle:{color:"transparent"}},rangeChanged:u.IsMasterFilter?n.proxy(this._loadRangeNaviSlaves,this,u.Id,u.IsLinked?u.ControlLinkData:i,u.ColumnName.toLowerCase()):null}))}},_setRangeNavigatorConfigInfo:function(n){n.configInfo.IsToolTipVisible=t.isNullOrUndefined(n.configInfo.IsToolTipVisible)||n.configInfo.IsToolTipVisible;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.Type=t.isNullOrUndefined(n.configInfo.Type)?"SplineArea":n.configInfo.Type;n.configInfo.IntervalType=t.isNullOrUndefined(n.configInfo.IntervalType)?"Years":n.configInfo.IntervalType;n.configInfo.LabelFormat=t.isNullOrUndefined(n.configInfo.LabelFormat)?"":n.configInfo.LabelFormat;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column},_CreateNaviSeries:function(n,t){for(var r=[],i=0;i<n.length;i++)r.push({dataSource:n[i],xName:["xValue"],yName:["yValue"],xAxis:{title:{text:t.xTitle}},yAxis:{title:{text:t.yTitle}},fill:this.theme.palette[i],opacity:.5});return r},_CreateNaviThumbTemplate:function(i){var r;n("#"+this._id+"_"+i.Id+"_thumb").length===0&&(r=null,r=n("#"+this._id+t.DashboardConstants.Widget+i.Id).height()>100?'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 46px;width: 12px;border-radius:46px;background-color: #404041; margin-left: 2px;"/><\/script>':'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 30px;width: 12px;border-radius:30px;background-color: #404041; margin-left: 2px;"/><\/script>',this.currentTabContentElement.append(r))},_validateSelectedRanges:function(n,t){var i=n[0],r=new Date(parseFloat(i[0].xValue.toString().replace("/Date(","").replace(")/",""))),u=new Date(parseFloat(i[i.length-1].xValue.toString().replace("/Date(","").replace(")/","")));return new Date(t.start)>=r&&new Date(t.end)<=u?!0:(t.start="",t.end="",!1)},_loadRangeNaviSlaves:function(i,r,u,f){var p=0,a=-1,c,e,s,o,v,w,y,l,h,b;if((this.controlRelations.length!==p||!t.isNullOrUndefined(r))&&this.flag&&(c=null,e=0,t.isNullOrUndefined(f)||t.isNullOrUndefined(c)||c[0]===null||c[1]===null||c[0].indexOf(new Date(f.selectedRangeSettings.start).toJSON())===a||c[1].indexOf(new Date(f.selectedRangeSettings.end).toJSON())===a)){for(s=[],o=this.dashboardControls.getControlByReport(i),f!==null&&(f.selectedRangeSettings.start!==""&&f.selectedRangeSettings.end!==""?(s.push(f.selectedRangeSettings.start.toISOString()),s.push(f.selectedRangeSettings.end.toISOString()),o.SelectedItems.DateRange.start=s[0],o.SelectedItems.DateRange.end=s[1]):(o.SelectedItems.DateRange.start="",o.SelectedItems.DateRange.end="")),v=null,w=null,this.target=[],y=null,l=-1,e=0;e<this.controlRelations.length;e++)if(this.controlRelations[e].Master.indexOf("RangeNavigator")!==a&&this.controlRelations[e].Master.lastIndexOf("_"+i)+i.length===this.controlRelations[e].Master.length-1){if(y=this.controlRelations[e].Master,v=this.controlRelations[e].Slaves,v.length===p){w=this._checkFilterOverviewData(i);this._addFilterDataToTitle(w);return}s.length>p&&(l=this._checkFilterInfo(u,o.SelectedFilterInfo),t.isNullOrUndefined(l)||l===a?(h=new selectedFilterInfo,h.UniqueColumnName=u,h.DateFilterInfo.DateFilterList=s,h.DateFilterInfo.DateFilterType="Exact",h.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,h.DateFilterInfo.DateFormat="Default",h.ReportName=o.reportName,o.SelectedFilterInfo.push(h)):o.SelectedFilterInfo[l].DateFilterInfo.DateFilterList=s);b={master:i,masterData:this.masterData,slaves:v,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(b);break}f!==null&&(n("#"+y+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+y).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.card={_renderCards:function(i,r){var u=i.configInfo,ht=null,y=null,c=0,v=null,g=-1,s=1,pt,ct,d,lt,it,rt,wt,e,w,dt,vt,ft,b,et,gt,ot,st;t.isNullOrUndefined(i.data)||t.isNullOrUndefined(i.data[0].pagedata)||!this._dashboardData().isExportImage||(ht=i.data[0],ht.scrollTop=0,i.currentPage=1);var p=this._dashboardData().isExportImage?ht:i.getCurrentPageData(),k=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=k.find(".e-dbrd-control");if(p.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl");this._showControlError(p.pagedata,f,u);return}if(this._hideControlError(f),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.cardDiv)?(k.attr({"data-controltype":"Card"}),f.attr({"data-controlId":u.Id})):f=r.cardDiv,this._applyOrRemoveNoDataAvailable(p.pagedata.length,f)){var nt=null,l=f.attr("id"),a=null,tt=null,o=0,h=0,yt=0;if(i.loadedPages.length===c||r&&r.isMaximize)i.loadedPages.indexOf(i.currentPage)===g&&i.loadedPages.push(i.currentPage),l=f.attr("id"),t.isNullOrUndefined(r)&&f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl"),l=f.attr("id"),k.find(".e-remove-control-filter").attr("id",t.isNullOrUndefined(r)?f.attr("id")+"_removeControlFilter":r.id+"_removeControlFilter"),k.find(".e-dbrd-export").attr({value:u.Id}),f.children().length>c&&(f.data("ejScroller")&&(yt=f.data("ejScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove()),pt=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),ct=f.parent(".e-dbrd-control-container").height(),f.parent(".e-dbrd-control-container").length===t.DashboardConstants.Zero&&(ct=f.height()),d=ct-(f.siblings(".e-control-heading").children().height()+pt+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top")))+5),f.css({height:d+"px"}),y=this._renderThePages(f,p.pagedata.length,i.currentPage,u,l,i.scrollSetting.controlPerPage),a=y.table,tt=n("<div>").width(f.width()+10),f.append(tt.append(a)),a.css({position:"relative"}),i.scrollSetting.rowPerPage=y.rowCount,i.scrollSetting.colPerPage=y.colCount,i.scrollSetting.controlPerPage=i.scrollSetting.rowPerPage*i.scrollSetting.colPerPage,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),i.scrollSetting.heightOfColumn=y.heightOfColumn,nt=y.widthOfColumn,i.scrollSetting.widthOfColumn=y.widthOfColumn,i.currentPage===s?i.heightPerPage=a.height():i.currentPage>s&&(a.prepend(n("<tr>").css({height:(i.currentPage-s)*i.heightPerPage})),a.append(n("<tr>").css({height:(i.totalPages-i.currentPage)*i.heightPerPage})),i.scrollSetting.scrollTop!==c||f.hasClass("e-dbrd-MaximizedControl")||(i.scrollSetting.scrollTop=(i.currentPage-s)*i.heightPerPage)),lt=!1,f.data("ejScroller")&&(f.ejScroller("destroy"),lt=!0),lt&&f.css({height:d+"px"}),p.pagedata.length>s&&f.ejScroller({height:d,scrollerSize:13,scrollTop:yt}),i.scrollSetting.visibleHeight=d;else{for(a=f.find("table"),it=0,rt=0,nt=i.scrollSetting.widthOfColumn,o=0;o<i.totalPages;o++)i.loadedPages.indexOf(i.currentPage-o-s)!==g&&it===c&&(it=i.currentPage-o-s),i.loadedPages.indexOf(i.currentPage+o+s)!==g&&rt===c&&(rt=i.currentPage+o+s);i.loadedPages.indexOf(i.currentPage)===g&&(i.loadedPages.push(i.currentPage),wt={controlId:l,previousPage:it,nextPage:rt,data:i,heightofColumn:i.scrollSetting.heightOfColumn},this._renderRowsOndemand(wt))}var ni=i.getPageDataBypage(i.currentPage),ut=ni.pagedata,bt=i.scrollSetting.heightOfColumn,at=[],kt=[];for(o=0;o<i.scrollSetting.controlPerPage;o++)if(e=ut[o],e){if(v=n("<div>").attr({id:l+"_child_"+o}).addClass("e-multiple-series").css({overflow:"hidden","margin-left":"auto","margin-right":"auto","vertical-align":"middle"}),i.SelectedFilterInfo&&i.SelectedFilterInfo.length>c){if(i.SelectedFilterInfo[0].DimensionFilterInfo&&i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==c)for(h=0;h<i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length;h++)i.SelectedFilterInfo[0].DimensionFilterInfo.Text[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),at.push(v.attr("id")),kt.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));else if(i.SelectedFilterInfo[0].DateFilterInfo&&i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==c)for(h=0;h<i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length;h++)i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),at.push(v.attr("id")),kt.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(ut.length>s||i.totalCount>s)this.model._dashboardData.isExportImage?f.removeClass("e-Card-Single"):f.removeClass("e-Card-Single").addClass("e-card-Series e-multiple-parent");else{if(f.addClass("e-Card-Single"),ut[0].actualValue.value===""&&ut[0].targetValue.value===""){this._applyOrRemoveNoDataAvailable(c,f);return}bt=f.height()-.5;nt=f.width()-4;tt=a.parent();tt.css({display:"table-cell","vertical-align":"middle",position:"relative"});f.css({display:"table","vertical-align":"middle"})}if(a.find("#"+l+"_child_column_"+((i.currentPage-s)*i.scrollSetting.controlPerPage+o)).html(""),a.find("#"+l+"_child_column_"+((i.currentPage-s)*i.scrollSetting.controlPerPage+o)).append(v),w=this,!t.isNullOrUndefined(e.customHeader)&&e.customHeader.visible&&(e.customHeader.value=e.customHeader.value.replace('<span class="e-dbrd-param-column" data-param="',""),e.customHeader.value=e.customHeader.value.replace('">All<\/span>',""),e.customHeader.value=w._updateTextWithParameterColumns(e.customHeader.value,u.ParameterColumns),e.customHeader.text=t.isNullOrUndefined(e.customHeader.text)||e.customHeader.text===""?e.customHeader.value:e.customHeader.text),dt={HighCustomMinimum:u.HighCustomMinimum,HighCustomMaximum:u.HighCustomMinimum,LowCustomMinimum:u.LowCustomMinimum,LowCustomMaximum:u.LowCustomMaximum,AverageCustomMinimum:u.AverageCustomMinimum,AverageCustomMaximum:u.AverageCustomMaximum,HighPercentMinimum:u.HighPercentMinimum,HighPercentMaximum:u.HighPercentMaximum,LowPercentMinimum:u.LowPercentMinimum,LowPercentMaximum:u.LowPercentMaximum,AveragePercentMinimum:u.AveragePercentMinimum,AveragePercentMaximum:u.AveragePercentMaximum,RangeSelectedIndex:u.RangeSelectedIndex,CustomRange:u.CustomRange},v.ejCard({size:{height:bt,width:nt},selected:u.IsMasterFilter||u.IsLinked?n.proxy(w._LoadCardSlaves,w,u.Id,u.ColumnInfo,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,p.pagedata.length,u.DateTimeColumns):null,enableRightClick:e.enableRightClick,culture:w.model.dashboardCulture,actualValue:e.actualValue,targetValue:e.targetValue,customHeader:e.customHeader,headers:e.headers,rangeSettings:dt,showIndicatorOnly:u.ShowIndicatorOnly,subTitle:{visible:u.ShowSubtitle,text:w._updateTextWithParameterColumns(u.SubText,u.ParameterColumns),color:u.SubColor?u.SubColor:"",size:u.SubFontSize?u.SubFontSize:""},secondaryValueType:u.SecondaryValueType,background:{type:u.BackgroundType.toLowerCase(),imageSrc:u.Image,opacity:u.Opacity},enableResize:!1,valueRepresentation:{variationType:u.VariationType.toLowerCase(),abbreviationType:u.AbbrevationType.toLowerCase(),decimalSeparator:t.isNullOrUndefined(u.DecimalSeparator)?".":u.DecimalSeparator,groupSeparator:t.isNullOrUndefined(u.GroupSeparator)?",":u.GroupSeparator,numberOfDecimals:u.decimalPlaces,currencyCulture:u.currencyCulture,format:u.Format==="Currency"?t.Card.Format.Currency:u.Format==="Percent"?t.Card.Format.Percentage:t.Card.Format.Number,negativeValueFormat:u.NegativeValueFormat.toLowerCase(),prefix:u.Prefix,suffix:u.Suffix},higherValueGood:u.higherValueGood}),this.resize)for(vt=this.dashboardControls.getAllControls(),ft=0;ft<vt.length;ft++)if(b=vt[ft],b.controlType==="parameterColumnData"){for(et=[],h=0;h<b.data.length;h++)if(b.data[h].pageNumber===t.DashboardConstants.Zero){b.data[h].scrollTop=0;et.push(b.data[h]);break}et.length>t.DashboardConstants.Zero&&(this._callFunction(this._updateParameterColumns,et[0].pagedata),this.resize=!1)}}if(i.SelectedFilterInfo&&i.SelectedFilterInfo.length===c&&(f.find(".e-dbrd-selected-card").remove(),n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+l).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),u.Label.ShowHeader===!1&&this._resizeSingleCardTitle(k),i.currentPage===i.totalPages)for(gt=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),o=gt;o<i.scrollSetting.rowPerPage*i.totalPages;o++)ot=n("#"+l+"_child_row_"+o),t.isNullOrUndefined(ot)||ot.find(".e-card").length!==c||ot.remove();t.isNullOrUndefined(f.data("ejScroller"))||f.data("ejScroller").refresh();f.find(".e-content").css({position:"relative"});this._AddCardSelection(at,f,p.pagedata.length,!1);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&i.totalCount>s&&(st=n("table").height()+v.height(),n("body").css({overflow:"auto",height:st}),this.currentTabContentElement.find(".e-dbrd-control").css({overflow:"auto",height:st}),this.currentTabContentElement.find(".e-content").css({overflow:"auto",height:st}),this.model.enableCustomTheming&&this._customTheme(["export"]))}},_setCardConfigInfo:function(n){n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AbbrevationType=t.isNullOrUndefined(n.configInfo.AbbrevationType)?"ONES":n.configInfo.AbbrevationType;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.AverageCustomMaximum=t.isNullOrUndefined(n.configInfo.AverageCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMaximum;n.configInfo.AverageCustomMinimum=t.isNullOrUndefined(n.configInfo.AverageCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMinimum;n.configInfo.AveragePercentMaximum=t.isNullOrUndefined(n.configInfo.AveragePercentMaximum)?null:n.configInfo.AveragePercentMaximum;n.configInfo.AveragePercentMinimum=t.isNullOrUndefined(n.configInfo.AveragePercentMinimum)?null:n.configInfo.AveragePercentMinimum;n.configInfo.BackgroundType=t.isNullOrUndefined(n.configInfo.BackgroundType)?"":n.configInfo.BackgroundType;n.configInfo.CardArrangementCount=t.isNullOrUndefined(n.configInfo.CardArrangementCount)?null:n.configInfo.CardArrangementCount;n.configInfo.CardArrangeMentType=t.isNullOrUndefined(n.configInfo.CardArrangeMentType)?"AutoArrange":n.configInfo.CardArrangeMentType;n.configInfo.ColumnSpan=t.isNullOrUndefined(n.configInfo.ColumnSpan)?null:n.configInfo.ColumnSpan;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.currencyCulture=t.isNullOrUndefined(n.configInfo.currencyCulture)?"en-US":n.configInfo.currencyCulture;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?null:n.configInfo.DateTimeColumns;n.configInfo.decimalPlaces=t.isNullOrUndefined(n.configInfo.decimalPlaces)?null:n.configInfo.decimalPlaces;n.configInfo.DecimalSeparator=t.isNullOrUndefined(n.configInfo.DecimalSeparator)?null:n.configInfo.DecimalSeparator;n.configInfo.Format=t.isNullOrUndefined(n.configInfo.Format)?"Number":n.configInfo.Format;n.configInfo.GroupSeparator=t.isNullOrUndefined(n.configInfo.GroupSeparator)?null:n.configInfo.GroupSeparator;n.configInfo.HighCustomMaximum=t.isNullOrUndefined(n.configInfo.HighCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMaximum;n.configInfo.HighCustomMinimum=t.isNullOrUndefined(n.configInfo.HighCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMinimum;n.configInfo.higherValueGood=t.isNullOrUndefined(n.configInfo.higherValueGood)||n.configInfo.higherValueGood;n.configInfo.HighPercentMaximum=t.isNullOrUndefined(n.configInfo.HighPercentMaximum)?null:n.configInfo.HighPercentMaximum;n.configInfo.HighPercentMinimum=t.isNullOrUndefined(n.configInfo.HighPercentMinimum)?null:n.configInfo.HighPercentMinimum;n.configInfo.Image=t.isNullOrUndefined(n.configInfo.Image)?"":n.configInfo.Image;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.Label=t.isNullOrUndefined(n.configInfo.Label)?"":n.configInfo.Label;n.configInfo.LowCustomMaximum=t.isNullOrUndefined(n.configInfo.LowCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMaximum;n.configInfo.LowCustomMinimum=t.isNullOrUndefined(n.configInfo.LowCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMinimum;n.configInfo.LowPercentMaximum=t.isNullOrUndefined(n.configInfo.LowPercentMaximum)?null:n.configInfo.LowPercentMaximum;n.configInfo.LowPercentMinimum=t.isNullOrUndefined(n.configInfo.LowPercentMinimum)?null:n.configInfo.LowPercentMinimum;n.configInfo.NegativeValueFormat=t.isNullOrUndefined(n.configInfo.NegativeValueFormat)?"DEFAULT":n.configInfo.NegativeValueFormat;n.configInfo.Opacity=t.isNullOrUndefined(n.configInfo.Opacity)?"1":n.configInfo.Opacity;n.configInfo.ParameterColumns=t.isNullOrUndefined(n.configInfo.ParameterColumns)?null:n.configInfo.ParameterColumns;n.configInfo.Prefix=t.isNullOrUndefined(n.configInfo.Prefix)?"":n.configInfo.Prefix;n.configInfo.RangeSelectedIndex=t.isNullOrUndefined(n.configInfo.RangeSelectedIndex)?t.DashboardConstants.Zero:n.configInfo.RangeSelectedIndex;n.configInfo.RowSpan=t.isNullOrUndefined(n.configInfo.RowSpan)?null:n.configInfo.RowSpan;n.configInfo.SecondaryValueType=t.isNullOrUndefined(n.configInfo.SecondaryValueType)?"variance":n.configInfo.SecondaryValueType;n.configInfo.ShowIndicatorOnly=!t.isNullOrUndefined(n.configInfo.ShowIndicatorOnly)&&n.configInfo.ShowIndicatorOnly;n.configInfo.ShowSubtitle=!t.isNullOrUndefined(n.configInfo.ShowSubtitle)&&n.configInfo.ShowSubtitle;n.configInfo.SubColor=t.isNullOrUndefined(n.configInfo.SubColor)?"":n.configInfo.SubColor;n.configInfo.SubFontSize=t.isNullOrUndefined(n.configInfo.SubFontSize)?"":n.configInfo.SubFontSize;n.configInfo.SubText=t.isNullOrUndefined(n.configInfo.SubText)?"":n.configInfo.SubText;n.configInfo.Suffix=t.isNullOrUndefined(n.configInfo.Suffix)?"":n.configInfo.Suffix;n.configInfo.VariationType=t.isNullOrUndefined(n.configInfo.VariationType)?"PERCENTOFTARGET":n.configInfo.VariationType},_resizeSingleCardTitle:function(n){if(!t.isNullOrUndefined(n)){var i=null,r=null;i=n.find(".e-dbrd-control").find(".e-card-header");r=n.find(".e-control-singleCard");!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(r)&&i.length>t.DashboardConstants.Zero&&r.length>t.DashboardConstants.Zero&&n.find(".e-control-heading").children().length===t.DashboardConstants.Zero&&i.offset().top-r.offset().top<r.children().innerHeight()&&i.css({"max-width":i.width()-r.width()+"px"})}},_renderThePages:function(i,r,u,f,e){var s=1,d=30,g=100,nt=45,w=116,b=Math.floor(i.width()/r)<s?s:Math.floor((i.width()-50)/w),v,y,k,p,ut;r<b&&(b=r);var tt=250,c=100,l=null,it=r===s?"0":"3",a=t.browserInfo().name==="msie"?i.height()-20:i.height(),rt=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+it+" cellpadding="+it+">"),o=f.CardArrangeMentType==="ArrangeCardsinRows"?Math.ceil(r/f.CardArrangementCount):f.CardArrangeMentType==="ArrangeCardsinColumns"?f.CardArrangementCount:b,h=f.CardArrangeMentType==="ArrangeCardsinRows"?f.CardArrangementCount:Math.ceil(r/o);o=Math.round(i.width()/r);(o>15||o<3)&&(o=10);o>r&&(o=r);do{if(l=i.width()/o-d,c=l*.6,h=Math.ceil(r/o),o<=s){o=1;break}if(l>=w&&(a-c*h)*(g/a)<=nt)break;o-=s}while(l<w||(a-c*h)*(g/a)>nt);for(r===s&&(h=1,o=1,l=i.width()/o-d,c=a,c>i.height()&&(c=i.height())),h<=0&&(h=1),v=0;v<h;v++){for(y=n("<tr>"),k=h*(u-s)+v,y.attr({id:e+"_child_row_"+k}),p=0;p<o;p++)ut=n("<td>").attr({id:e+"_child_column_"+(k*o+p)}).css({height:c,"padding-top":r>s?"10px":"0px","padding-bottom":r>s?"10px":"0px"}),y.append(ut);rt.append(y)}return tt=l,{table:rt,rowCount:h,colCount:o,heightOfColumn:c,widthOfColumn:tt}},_AddCardSelection:function(i,r,u){var h=0,v=1,y=2,p=10,e,l,a;if(!t.isNullOrUndefined(i))for(e=0;e<i.length;e++)if(i[e]!==""&&!t.isNullOrUndefined(i[e])){r.find(".e-dbrd-selected-card").remove();var b=i[e].split("child_")[1],o=n("<div>").attr({id:"e-dbrd-selected-card_"+b}).addClass("e-dbrd-selected-card"),c=n("<div>").addClass("e-corner-triangle");o.append(c);var f=n("#"+i[e]),s=r.find(".e-content"),k=r.attr("data-controlid").split("_")[0],w=k==="Card"?4:2;s.length===h&&(s=r);!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&(c.css({left:f.width()-8}),l=f.offset().left-f.offsetParent().offset().left,a=f.offset().top-f.offsetParent().offset().top,o.prop({"data-selected-widget":i[e]}).css({top:a,left:l,display:"block",width:f.width()+w+"px",height:f.height()+(u>v?w:h)+"px"}),l===9&&a===-1&&(o.prop({"data-selected-widget":i[e]}).css({top:1,left:1,display:"block",width:f.width()-y+"px",height:f.height()+"px"}),c.css({left:f.width()-p})),u===v&&o.prop({"data-selected-widget":i[e]}).css({top:(r.height()-f.height())/y,left:"0px"}),e===h&&r.animate({scrollTop:f.position().top-p}));s.append(o);s.css({position:"relative"})}},_LoadCardSlaves:function(i,r,u,f,e,o,s){var ot=n(s.currentTarget),v,rt,et,y,p;if(!t.isNullOrUndefined(s)&&!ot.closest(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")||!t.isNullOrUndefined(u)){var w=0,l=0,nt=-1,b=1;if(!t.isNullOrUndefined(s)&&(this._handleTabIndexForMultipleSeries(n(s.currentTarget).closest(".e-multiple-parent")),this.controlRelations.length===w&&(t.isNullOrUndefined(u)||!this.flag)))return;var a=[],g=[],k=[],ut=[],ft=[],d=null,tt=!1,h=this,it=[],c=this.dashboardControls.getControlByReport(i);if(!t.isNullOrUndefined(s)){for(v=n(s.currentTarget).parents(".dashboardCardControl"),rt=v.find(".e-dbrd-clicked-card"),l=0;l<h.controlRelations.length;l++)if(h.controlRelations[l].Master.indexOf("Card")!==nt&&h.controlRelations[l].Master.lastIndexOf("_"+i)+i.length===h.controlRelations[l].Master.length-b){d=h.controlRelations[l].Master;break}for(n(s.currentTarget).parents(".e-dbrd-MaximizedControl").length&&(v=n(s.currentTarget).parents(".e-dbrd-control"),rt=v.find(".e-dbrd-clicked-card")),n(s.currentTarget).hasClass("e-dbrd-clicked-card")&&rt.length===b?(tt=!0,f&&t.isNullOrUndefined(u)&&(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))):f&&t.isNullOrUndefined(u)&&(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),n(s.currentTarget).hasClass("e-dbrd-ctrlClick")&&(s.ctrlKey=!0,n(s.currentTarget).removeClass("e-dbrd-ctrlClick")),s.ctrlKey||(v.find(".e-dbrd-selected-card").remove(),v.find(".e-dbrd-clicked-card").removeClass("e-dbrd-clicked-card")),s.ctrlKey&&n(s.currentTarget).hasClass("e-dbrd-clicked-card")&&(et=n(s.currentTarget).attr("id").split("child_")[1],n(s.currentTarget).removeClass("e-dbrd-clicked-card"),n("#"+s.currentTarget.attr("id")+"_selected").remove(),n("#e-dbrd-selected-card_"+et).remove(),tt=!0),tt&&t.isNullOrUndefined(u)||(h._AddCardSelection([n(s.currentTarget).attr("id")],n(s.currentTarget).parents(".e-dbrd-control"),e,!1),n(s.currentTarget).addClass("e-dbrd-clicked-card")),k=v.find(".e-dbrd-clicked-card"),n(s.currentTarget).parents(".e-content").first().css({position:"relative"}),c.SelectedFilterInfo=[],y=0;y<k.length;y++)t.isNullOrUndefined(r.seriesColumn)||(a.push(n(k[y]).find(".e-card-header").attr("data-value")),it.push(n(k[y]).find(".e-card-header").html()),g.push({Column:r.seriesColumn,Value:n(k[y]).find(".e-card-header").attr("data-value")})),t.isNullOrUndefined(r.actualColumn)||t.isNullOrUndefined(u)||(a.push(s.actualValue.value),g.push({Column:r.actualColumn,Value:s.actualValue.value})),t.isNullOrUndefined(r.targetColumn)||t.isNullOrUndefined(u)||(a.push(s.targetValue.value),g.push({Column:r.targetColumn,Value:s.targetValue.value}))}a.length>w&&t.isNullOrUndefined(u)&&(p=this._checkFilterInfo(r.seriesColumn,c.SelectedFilterInfo),t.isNullOrUndefined(p)||p===nt||(t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?c.SelectedFilterInfo[p].DimensionFilterInfo.Text=a:(c.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=a,c.SelectedFilterInfo[p].DateFilterInfo.DisplayDateFilterList=it)),c.SelectedFilterInfo.length===w&&(c.SelectedFilterInfo.push(new selectedFilterInfo),t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?(c.SelectedFilterInfo[0].DimensionFilterInfo.Text=a,c.SelectedFilterInfo[0].DimensionFilterInfo.Conditions=4):(c.SelectedFilterInfo[0].DateFilterInfo.DateFilterList=a,c.SelectedFilterInfo[0].DateFilterInfo.DisplayDateFilterList=it,c.SelectedFilterInfo[0].DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),t.isNullOrUndefined(r.seriesColumn)||(c.SelectedFilterInfo[0].UniqueColumnName=r.seriesColumn.toLowerCase()),c.SelectedFilterInfo[0].ReportName=c.reportName));ut.push({Items:a});ft.push({Items:g});c.SelectedItems.Included=a;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var o=null,r=null,e=null,f;if(n("#"+h._id+t.DashboardConstants.Widget+i).hasClass("e-card-Series")||(e=n("#"+h._id+t.DashboardConstants.Widget+i).data("ejCard")),!t.isNullOrUndefined(u)){h._controlNavigate(u,ft,e);return}for(l=0;l<h.controlRelations.length;l++)if(h.controlRelations[l].Master.indexOf("Card")!==nt&&h.controlRelations[l].Master.lastIndexOf("_"+i)+i.length===h.controlRelations[l].Master.length-b){if(o=h.controlRelations[l].Master,r=h.controlRelations[l].Slaves,r.length===w)return;f=h._checkMasterData(i);f!==null&&h.masterData.splice(f,b);s!==null&&h.masterData.push({Key:i,Value:ut,MultiSelection:a.length>b});h._makeSlaveDataRequest({master:i,masterData:h.masterData,slaves:r,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}},s===null?w:1500)}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.exportView={_printDashboard:function(){window.print()},_printMapControl:function(t){n(t.target).parents("td").children().printThis()},_printControl:function(i,r){var u,e,s,c,l,h,a,f,o,v;if(this.currentTabContentElement.find("sv`").attr({"data-html2canvas-ignore":"true"}),r!==this.currentTabContentElement.attr("id"))for(u="",n("#"+r).hasClass("e-card-Series")||n("#"+r).hasClass("e-parentGauge")||n("#"+r).hasClass("e-chartseries")?(u=n("#"+r).children().clone(),u.css({width:n("#"+r).children().width(),height:n("#"+r).children().height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")})):n("#"+r).hasClass("e-grid")?(u=n("#"+r).clone().css({"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find(".e-gridcontent").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height()),u.find(".e-content").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height())):(u=n("#"+r).clone().off().unbind(),u.removeClass("e-datavisualization-chart"),u.css({width:n("#"+r).children().width(),height:n("#"+r).height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find("*").removeAttr("id")),e=n("<div>").addClass("e-dbrd-print-inactive"),n(this.currentTabContentElement).append(e),s=n("<div>").addClass("e-dbrd-print-icons-container"),c=this,s.append(n("<div>").addClass("e-dbrd-print-icon").html("Print").addClass("e-dbrd-noPrint").ejButton({click:n.proxy(this._printSelectedControl,this)}),n("<div>").html("Cancel").addClass("e-dbrd-print-icon").css({"margin-left":"-45px"}).ejButton({click:n.proxy(function(){c.currentTabContentElement.find(".e-dbrd-print-inactive").remove()},this)})),l=n("<div>").attr("id",this.currentTabContentElement.attr("id")+"_printDiv").addClass("e-dbrd-print-div"),n(e).append(s,l.append(u.css({margin:"auto",height:"auto","margin-top":"50px"}))),e.click(function(i){n(i.target).hasClass("e-dbrd-print-div")||n(i.target).hasClass("e-dbrd-print-icon")||n(i.target).parents(".e-dbrd-print-div").length>t.DashboardConstants.Zero||n(i.currentTarget).remove()}),h=n("#"+r).find("canvas"),a=u.find("canvas"),f=0;f<h.length;f++)o=a[f],v=o.getContext("2d"),v.drawImage(h[f],t.DashboardConstants.Zero,t.DashboardConstants.Zero,o.width,o.height)},_printSelectedControl:function(){this.isPrintTriggered=!0;this.currentTabContentElement.children().addClass("e-dbrd-noPrint");n("body").css({overflow:"auto"});n(".e-dbrd-print-div").css({height:Math.max(n(".e-dbrd-print-div").children().height(),this.currentTabContentElement.height())});this.currentTabContentElement.find(".e-dbrd-print-inactive").removeClass("e-dbrd-noPrint");window.print();this.currentTabContentElement.find(".e-dbrd-noPrint").removeClass("e-dbrd-noPrint");this.isPrintTriggered=!1;n("body").css({overflow:"hidden"});n(".e-dbrd-print-div").css({height:"100%"})},_exportDialogPage:function(){var i,r,u,f,e,o,s;if(this.exportSettings.exportType!==""){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}});this.exportSettings.isMobile=!1;this.exportSettings.isExportTriggered=!0;switch(this.exportSettings.exportType){case"image":i='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportImage" style = "top: '+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_imageExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportImage+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left e-dbrd-hoverable">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportImagefilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_imageExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_imageExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_imageExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.currentTabContentElement.append(i);r=this._imageExportContentCreation(this.exportSettings.filename);n(r).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName, .e-brd-inactive-export-DashWidgetTitle, .e-brd-inactive-img-res-wrap").wrapAll("<div class='e-brd-export-content e-brd-export-imageContent'><\/div>");this.exportSettings.exportDpi!==""&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._exportImageDropdownCreation();this._calculateExportDialogSize();break;case"pdf":u='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportPdf" style = "top:'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_pdfExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon e-brd-popup-title-bar" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle e-brd-popup-title-bar">'+this.locale.utils.ExportPdf+'<\/div><div class= "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportPdffilename" contentEditable = true><\/input><span class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/span><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_pdfExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_pdfExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_pdfExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.currentTabContentElement.append(u);f=this._pdfExportContentCreation(this.exportSettings.filename);n(f).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose,.e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName,.e-brd-widgetTitleBar,.e-brd-pagesize,.e-brd-orientation,.e-brd-export-widget-pdf-options").wrapAll("<div class='e-brd-export-pdfContent e-brd-export-content'><\/div>");this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this._calculateExportDialogSize();break;case"excel":e='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportExcel"'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_excelExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportExcel+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportExcelfilename" contentEditable = true><\/input><div class = "e-brd-filenameError e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons" style ="margin-top:70px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_excelExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_excelExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_excelExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.currentTabContentElement.append(e);o=this._excelExportContentCreation(this.exportSettings.filename);n(o).insertAfter(this.currentTabContentElement.find(".e-brd-inactive-export-fileName"));this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.currentTabContentElement.find(".e-brd-inactive-export-fileName, .e-brd-excel-export").wrapAll("<div class='e-brd-export-excelContent e-brd-export-content'><\/div>");this._exportExcelDropDownCreation();this._calculateExportDialogSize();break;case"csv":s='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportCSV" style = "top:'+this.currentTabContentElement.scrollTop()+'px"><div class = "e-dbrd-inactive-export" style = "height: 250px" id = "'+this._id+'_CSVExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportCsv+'<\/div><div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "width: 420px" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportCSVfilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><\/div><div class = "e-brd-exportButtons" style="position:absolute;bottom:0px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_CSVExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_CSVExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_CSVExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.currentTabContentElement.append(s);this.currentTabContentElement.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this._calculateExportDialogSize()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}})}this.model.enableCustomTheming&&this._customTheme(["popup"])},_createExportDbrdDrpdwn:function(){var u=n("<div class='e-brd-multibrd-export'><\/div>"),v=n("<div class='e-brd-dashboards e-brd-inactive-left'><\/div><").text(this.locale.utils.Dashboards),e=n("<div class = 'e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown'>"),y=n("<input class='e-dbrd-control e-brd-exportImageField e-multibrd-export-selection' id="+this._dashboardId+"_dashboardDropdown><\/input>"),i,f,r,s,h,a;e.append(y);e.insertAfter(".e-brd-dashboards");u.append(v);u.append(e);i=null;f=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px"):n(window).width()<t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.currentTabContentElement.find(".e-dbrd-fileContentBar").prepend(u),this.currentTabContentElement.find(".e-dbrd-fileContentBar .e-brd-dashboards ").text(this.locale.utils.ChooseDashboards),i=this._mobileDropDownWidthCalc(),f="30px"):(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px");var c=[],l=[],o=this.tabInformation;for(r=0;r<o.length;r++)c={id:this._dashboardId+"_"+n(o[r]).attr("data-tabid").replace(/ /g,"_"),text:o[r].textContent,value:this.dashboardDetails[r].DashboardId},l.push(c);this.multiDashboardExport=!0;this.exportDashboard=!1;this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList({dataSource:l,fields:{text:"text",id:"id",value:"value"},create:n.proxy(this._defaultSelection,this),beforePopupHide:n.proxy(this._getSelection,this),width:i,height:f,showCheckbox:!0,watermarkText:"All",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeSelection,this),popupWidth:i,popupHeight:"130px",popupShown:n.proxy(this._addSpaceForScrollbar,this)});n("#"+this._dashboardId+"_dashboardDropdown_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");s=n("<span class = 'e-dbrd-multibrd-drpdown-label' id="+this._id+"_dashboardDropdownSelection><\/span>");n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").addClass("e-drpdwn-align");s.insertAfter(".e-multibrd-export-selection");s.text(this.locale.utils.All);h=this.currentTabContentElement.find(".e-dbrd-multibrd-drpdown-label").next();h.hasClass("e-input")&&h.css("display","none");this.exportSettings.dashboardSelection!==""&&(a=n("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList("instance"),a.selectItemByValue(this.exportSettings.dashboardSelection))},_changeSelection:function(){var r=n("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList("instance"),i;this.exportSettings.dashboardSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Dashboards):i===t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_getSelectedItems:function(){var i=n("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList("instance"),r=i.getSelectedItem(),t=[];return n(r).each(function(){t.push(n(this).children(".e-ddltxt").text())}),this._getDashboardSelectionDetails(t)},_getSelection:function(){var n=this._getSelectedItems();this._getSelectedDashboardInfo(n)},_getSelectedDashboardInfo:function(n){var i,u,r;if(!t.isNullOrUndefined(n[t.DashboardConstants.Zero]))if(i=n[t.DashboardConstants.Zero].selectedItems,this.multiSelectCollection=[],u=null,i.length>t.DashboardConstants.Zero)for(r=0;r<i.length;r++)u=this._dashboardId+"_"+i[r].DashboardName,u===this._id?this._setCurrentTabInfoForExport(i[r]):this._setTabInfoForExport({id:i[r].DashboardName,dashId:i[r].DashboardId,dashTitle:i[r].DashboardDisplayName});else this._defaultSelection()},_defaultSelection:function(){var t=null,n;for(this.multiSelectCollection=[],n=0;n<this.dashboardDetails.length;n++)t=this._dashboardId+"_"+this.dashboardDetails[n].DashboardName,t===this._id?this._setCurrentTabInfoForExport(this.dashboardDetails[n]):this._setTabInfoForExport({id:this.dashboardDetails[n].DashboardName,dashId:this.dashboardDetails[n].DashboardId,dashTitle:this.dashboardDetails[n].DashboardDisplayName});this._addHorizontalScrollbar(!0)},_setCurrentTabInfoForExport:function(n){var i=0,u=this._getGridSettings(this.dashboardControls,this._id),r;for(u.length===t.DashboardConstants.Zero&&(u=""),r=this.dashboardControls.getAllControlsForImageExport(),i=0;i<r.length;i++)r[i].controlType==="parameterColumnData"&&(r[i].controlRelations=this.controlRelations,r[i].appliedFilterData=this.appliedFilterData);this.multiSelectCollection.push({id:n.DashboardName,layoutInfo:JSON.stringify(this.currentReport.layout),widgetInfo:JSON.stringify(r),dashbrdId:n.DashboardId,gridSettings:JSON.stringify(u),dashboardTitle:n.DashboardDisplayName,masterControls:JSON.stringify(this.appliedFilterData),isLoadCompletes:this.actualPages.length===this.pageInformations.length})},_setTabInfoForExport:function(n){for(var i=!0,t=0;t<this.tabInfoCollection.length;t++)if(this.tabInfoCollection[t].initPrivatePropertiesInfo._id===this._dashboardId+"_"+n.id&&this.tabInfoCollection[t].initPrivatePropertiesInfo._id!==this._id){this._setLoadedTabInfoForExport(n,this.tabInfoCollection[t]);i=!1;break}i&&this.multiSelectCollection.push({id:n.id,widgetInfo:"",layoutInfo:"",dashbrdId:n.dashId,gridSetting:"",dashboardTitle:n.dashTitle,masterControls:JSON.stringify([]),isLoadCompletes:!1})},_setLoadedTabInfoForExport:function(n,t){for(var u=this._getGridSettings(t.initPrivatePropertiesInfo.dashboardControls,t.initPrivatePropertiesInfo._id),i=0,r=t.initPrivatePropertiesInfo.dashboardControls.getAllControlsForImageExport(),i=0;i<r.length;i++)r[i].controlType==="parameterColumnData"&&(r[i].controlRelations=t.initPrivatePropertiesInfo.controlRelations,r[i].appliedFilterData=t.initPrivatePropertiesInfo.appliedFilterData);this.multiSelectCollection.push({id:n.id,widgetInfo:JSON.stringify(r),layoutInfo:JSON.stringify(t.initPrivatePropertiesInfo.currentReport.layout),dashbrdId:n.dashId,gridSetting:u,dashboardTitle:n.dashTitle,masterControls:JSON.stringify(t.initPrivatePropertiesInfo.appliedFilterData),isLoadCompletes:t.initPrivatePropertiesInfo.actualPages.length===t.initPrivatePropertiesInfo.pageInformations.length})},_captureFiles:function(i,r){var f,s,h;this._destroyWaitingPdfPopup();var u=JSON.parse(r),e=null,c=u.MultipleDashboardsExportResult.substring(u.MultipleDashboardsExportResult.indexOf("\\")+t.DashboardConstants.One,u.MultipleDashboardsExportResult.indexOf(".")),o=u.MultipleDashboardsExportResult.substr(u.MultipleDashboardsExportResult.indexOf(".")+t.DashboardConstants.One);o==="zip"?e=this._ExportedImageFileName:o==="pdf"&&(e=this.newfilename);f=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(f=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(f)):f=this.currentTabContentElement.find("#"+this._id+"_exportIframe");s=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.downloadedexportedfiles,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});h=JSON.stringify({imageFile:u.MultipleDashboardsExportResult,fileName:c,fileType:o,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:e});s.append(n('<input type="hidden">').attr({name:"argument",value:h}));s.appendTo(f).submit().remove();f.hide()},_multiTabExportExcel:function(){for(var r,u,t,i=[],f="",n=0;n<this.multiSelectCollection.length;n++)if(r=this._dashboardId+"_"+this.multiSelectCollection[n].id,r!==this._id){for(u=!0,t=0;t<this.tabInfoCollection.length;t++)if(r===this.tabInfoCollection[t].initPrivatePropertiesInfo._id){u=!1;var e=this.tabInfoCollection[t].initPrivatePropertiesInfo.dashboardControls,o=JSON.stringify(e.getAllControlsMasterData()),s=JSON.stringify(this.tabInfoCollection[t].initPrivatePropertiesInfo.rangeData);i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:o,rangeData:s,gridSettings:this.multiSelectCollection[n].gridSettings,dashboardTitle:this.multiSelectCollection[n].dashboardTitle})}u&&i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:null,rangeData:null,gridSettings:null,dashboardTitle:this.multiSelectCollection[n].dashboardTitle})}else f=this._getGridSettings(this.dashboardControls),i.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),gridSettings:JSON.stringify(f),dashboardTitle:this.multiSelectCollection[n].dashboardTitle});return i},_imageExportContentCreation:function(){return'<div class ="e-brd-inactive-img-res-wrap"><div class ="e-brd-inactive-img-format" ><div class = "e-brd-inactive-left" style = "padding-left:0px">'+this.locale.utils.Format+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown"><input class = "e-brd-exportImageField e-brd-exportImageFormat" type ="text" id = "'+this._id+'_imageType" "readonly"= true> <\/input><\/div><\/div ><div class="e-brd-inactive-img-res" style = "float: left"><div class = "e-brd-inactive-left">'+this.locale.utils.Resolution+'<\/div><input class = "e-brd-exportImageField e-brd-imageResolution" style = "float: left" type= "number" name = "resolution" value = "96" id = "'+this._id+'_ExportImageresolution"><\/input><span class = "e-dbrd-resolutionAlert e-dbrd-hoverable e-dbrd-popup-icon" data-tooltip = "'+this.locale.utils.ResolutionAlert+'" ><\/span><div class = "e-brd-resolutionErrorLow"><\/div><\/div><\/div><\/div>'},_exportImageDropdownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f;t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px";u=t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.Jpeg},{ImageFormat:this.locale.utils.Png},{ImageFormat:this.locale.utils.Bmp}];this.exportSettings.exportFormat!==""&&(u=this.exportSettings.exportFormat);this.currentTabContentElement.find("#"+this._id+"_imageType").ejDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportFormat,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",selectedIndex:u,width:i,height:r,popupShown:n.proxy(this._drppopupshow,this)});n("#"+this._id+"_imageType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportFormat:function(n){this.exportSettings.exportFormat=n.model.selectedItemIndex},_pdfExportContentCreation:function(){return'<div class = "e-brd-export-widget-pdf-options"><div class = "e-brd-radio-pdf-export"><div class = "e-brd-inactive-left e-dbrd-dashPdf"><input style = "margin-right:5px" id = "'+this._id+'_dashboardRadio" class = "e-brd-radio-dashboard" type ="radio" name ="export" checked= "checked" >'+this.locale.utils.Dashboard+'<\/input><\/div><div class = "e-brd-inactive-left e-dbrd-widgetPdf"><input style = "margin-right:5px" id = "'+this._id+'_widgetRadio" class = "e-brd-radio-widgets" type ="radio" name ="export">'+this.locale.utils.Widgets+'<\/input><\/div><div class = "e-brd-widget-dropdown" style = "float: left; display:none; "><div class = "e-dbrd-control e-brd-export-dropdown e-brd-pdfExport-dropdown"><input class = "e-brd-exportImageField e-brd-widget-selection" type ="text" id = "'+this.currentTabContentElement.attr("id")+'_widgetsName" "readonly"= true><\/input><\/div><\/div><\/div><\/div><div class="e-brd-pagesize"><div class = "e-brd-pagesize-label"><div class = "e-brd-inactive-left e-brd-pdf-pagesize">'+this.locale.utils.PageSize+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-pdfExport-dropdown e-brd-export-pagesize-dropdown"><input class = "e-brd-exportImageField" type ="text" id = "'+this.currentTabContentElement.attr("id")+'_pageSizeType" "readonly"= true> <\/input><\/div><\/div><div class="e-brd-orientation"><div class = "e-brd-inactive-left"  style ="margin-bottom:10px;">'+this.locale.utils.Orientation+'<\/div><div class = "e-brd-PdfOrientationforportrait e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this.currentTabContentElement.attr("id")+'_pdfPortrait" data-tooltip = '+this.locale.utils.Portrait+'><\/div><div class = "e-brd-PdfOrientationforlandscape e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this.currentTabContentElement.attr("id")+'_pdfLandscape" data-tooltip = '+this.locale.utils.Landscape+"><\/div><\/div>"},_exportPdfDropDownCreation:function(){var s,f,h,u,e,c,l,a;this.isExtendedLayout&&this._initiateGetWidgetTitleInfo();var i=this._mobileDropDownWidthCalc(),r=null,o=t.DashboardConstants.One;for(t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px",s=[{ImageFormat:this.locale.utils.A3},{ImageFormat:this.locale.utils.A4},{ImageFormat:this.locale.utils.A5},{ImageFormat:this.locale.utils.Letter}],this.exportSettings.pagesize!==""&&(o=this.exportSettings.pagesize),this.isDialogNotCreated=!0,this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").ejRadioButton({size:"medium"}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").ejRadioButton({size:"medium"}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDropDownList({dataSource:s,fields:{text:"ImageFormat",value:"ImageFormat"},popupHide:"drppopuphide",popupShown:"drppopupshow",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportPageSize,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",height:r,width:i,selectedIndex:o,enablePopupResize:!1}),n("#"+this._id+"_pageSizeType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control"),this.isDialogNotCreated=!1,f=this._getWidgetNames(),h=[],u=0;u<f.length;u++)h.push(u);this.currentTabContentElement.find("#"+this._id+"_widgetsName").ejDropDownList({dataSource:f,fields:{text:"WidgetsName",id:"WidgetsId"},create:n.proxy(this._addHorizontalScrollbar,this),showCheckbox:!0,watermarkText:"All",height:r,width:i,popupWidth:i,popupHeight:"130px",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeWidgetSelection,this),popupShown:n.proxy(this._addSpaceForScrollbar,this),checkAll:!1});n("#"+this._id+"_widgetsName_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");e=n("<span class = 'e-dbrd-widget-drpdown-label' id="+this._id+"_widgetDropdownSelection ><\/span>");e.insertAfter(".e-brd-widget-selection");e.text(this.locale.utils.All);c=this;n(".e-brd-radio-widgets").click(function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth&&(n(".e-brd-choose-label").length===t.DashboardConstants.Zero?(i=n("<div class = 'e-brd-choose-label'><\/div>").text(c.locale.utils.ChooseWidgets),i.insertBefore(n(".e-brd-widget-dropdown"))):n(".e-brd-choose-label").css({display:"block"}));n(".e-brd-widget-dropdown").css({display:"block"});n(".e-brd-radio-widgets").attr("checked","checked");r=n(".e-brd-widget-dropdown").height()+n(".e-dbrd-fileContentBar").height();n(".e-dbrd-fileContentBar").height(r)});n(".e-brd-radio-dashboard").click(function(){var t=n(".e-dbrd-fileContentBar").height()-n(".e-brd-widget-dropdown").height();n(".e-dbrd-fileContentBar").height(t);n(".e-brd-widget-dropdown").css({display:"none"});n(".e-brd-choose-label").css({display:"none"})});this.multiDashboardExport&&n(".e-brd-radio-pdf-export").hide();this.exportDashboard?n(".e-brd-radio-pdf-export").show():n(".e-brd-radio-pdf-export").hide();this.exportSettings.widgetDrpDwnDisplay&&(n(".e-brd-radio-pdf-export").show(),n(".e-brd-widget-dropdown").css({display:"block"}),l=this.currentTabContentElement.find("#"+this._id+"_widgetRadio").data("ejRadioButton"),l.option("checked",!0));this.exportSettings.widgetSelection!==""&&(a=n("#"+this._id+"_widgetsName").ejDropDownList("instance"),a.selectItemByValue(this.exportSettings.widgetSelection))},_initiateGetWidgetTitleInfo:function(){if(this.actualPages.length!==this.pageInformations){var n=this.model.localeSettings.resourcePath,t=this.model.localeSettings.culture,i={type:"POST",url:this.serviceUrl()+"/GetWidgetTitleInfo",data:JSON.stringify({dashboardPath:this.dashboardPath(),token:this.token,customLanguagePath:n,customCulture:t,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName}),onSuccess:this._getWidgetTitleInfo,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(i)}},_getWidgetTitleInfo:function(n,i){var u=JSON.parse(i.d[0].Value),r=this.currentTabContentElement.find("#"+this._id+"_widgetsName").data("ejDropDownList");t.isNullOrUndefined(r)||r.option("dataSource",u)},_addSpaceForScrollbar:function(i){var u=null,f=0,e=null,r=null,s=this.currentTabContentElement.find("#"+this._id+"_widgetsName_wrapper").width(),o;n("#"+this._id+"_widgetsName_popup_list_wrapper").css({width:s});t.isNullOrUndefined(i)||i!==!0?(r=n("#"+this._id+"_widgetsName").data("ejDropDownList"),e=n("#"+this._id+"_widgetsName_popup"),u=e.children(".e-content"),f=parseInt(n("#"+this._id+"_widgetsName_popup_list_wrapper").css("max-height"))):(r=n("#"+this._dashboardId+"_dashboardDropdown").data("ejDropDownList"),e=n("#"+this._dashboardId+"_dashboardDropdown_popup"),u=e.children(".e-content"),f=parseInt(n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css("max-height")));t.isNullOrUndefined(r)||(o=u.width()+"px",u[0].style.setProperty("width",o,"important"),u.height(f),e.height(f),r.scrollerObj.model.width=o,r.scrollerObj.model.height=f,r.scrollerObj.refresh())},_addHorizontalScrollbar:function(i){var r=null;r=t.isNullOrUndefined(i)||i!==!0?n("#"+this._id+"_widgetsName").data("ejDropDownList"):n("#"+this._dashboardId+"_dashboardDropdown").data("ejDropDownList");t.isNullOrUndefined(r)||(r.ultag.children("li").css({"white-space":"nowrap"}),r.scrollerObj.model.width=r.popupListWrapper.outerWidth(),r.scrollerObj.refresh())},_getWidgetNames:function(){for(var f=[],i=0,u=this.currentTabContentElement.find(".e-dbrd-control-container"),r,n,e,i=0;i<u.length;i++)r=null,n=u.eq(i).attr("type"),t.isNullOrUndefined(n)||(n!=="FilterComboBox"&&n!=="IMAGE"&&n!=="DatePicker"&&n!=="CheckBox"&&n!=="RangeNavigator"&&n!=="RangeSlider"&&n!=="RadioButton"&&n!=="ListBox"&&n!=="Card"&&n!=="Label"&&(r=u.eq(i).find(".e-control-title").text()),n==="Card"&&(r=u.eq(i).find(".e-control-title").text(),r===""&&(r=u.eq(i).find(".e-card-header").text())),t.isNullOrUndefined(r)||(e={WidgetsName:r,WidgetsId:u.eq(i).attr("id")},f.push(e)));return f},_changeExportPageSize:function(n){this.exportSettings.pagesize=n.model.selectedItemIndex},_changeWidgetSelection:function(){var r=n("#"+this._id+"_widgetsName").ejDropDownList("instance"),i;this.exportSettings.widgetSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Widget):i===t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_excelExportContentCreation:function(){return'<div class ="e-brd-excel-export" style = "float: left; width:100%"><div class = "e-brd-inactive-left e-dbrd-filetype-label">'+this.locale.utils.FileType+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-excel-dropdown" ><input class = "e-brd-exportImageField" type ="text" id = "'+this._id+'_excelType" "readonly"= true> <\/input><\/div><\/div>'},_exportExcelDropDownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f;t.isNullOrUndefined(i)?(i="420px",r="25px"):r="30px";u=t.DashboardConstants.Zero;u=this.exportSettings.excelFileType!==""?this.exportSettings.excelFileType:t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.ExportToExcel2013},{ImageFormat:this.locale.utils.ExportToExcel97To2003}];this.currentTabContentElement.find("#"+this._id+"_excelType").ejDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",popupShown:"drppopupshow",beforePopupShown:"drpbeforepopupshow",change:n.proxy(this._changeExportExcelFileTye,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",width:i,height:r,selectedIndex:u});n("#"+this._id+"_excelType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportExcelFileTye:function(n){this.exportSettings.excelFileType=n.model.selectedItemIndex},_mobileDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.find(".e-dbrd-fileContentBar"),i=this.element.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right"))-5,i=i+"px"),i},_mobileExport:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}});this.exportSettings.isMobile=!0;this.exportSettings.isExportTriggered=!0;var i=n("<div class='e-dbrd-mobileExport' id="+this._id+"_mobileExport><\/div>"),u="<div class='e-dbrd-tiltleBar' id="+this._id+"_titleBar><div class='e-dbrd-exportBack' id="+this._id+"_exportBack><span class='e-dbrd-titleBackIcon' id="+this._id+"_titleBackIcon><\/span><\/div><div class='e-dbrd-exportTitle' id="+this._id+"_exportTitle>"+this.locale.utils.ExportAs+"<\/div><div class='e-dbrd-exportReset' id="+this._id+"_exportReset><span class='e-dbrd-exportResetIcon' id="+this._id+"_exportResetIcon><\/span><\/div><\/div>",r=n("<div class='e-dbrd-mobileContentWrap' id="+this._id+"_mobileContentWrap><\/div>"),f="<div class='e-dbrd-filemenuSelection' id="+this._id+"_fileMenuSelectionBar><div class='e-dbrd-mobileExportFilename' id="+this._id+"_mobileExportFilename>"+this.locale.utils.FileName+'<\/div><input class = "e-brd-mobileFilenameText" type = "text" name = "file_name" id = "'+this._id+'_mobileExportFilenameText" value = "'+this.exportSettings.filename+'" contentEditable = true><\/input><div class = "e-brd-filenameError" >'+this.locale.utils.FileNameError+"<\/div><div class='e-dbrd-mobileExportOption' id="+this._id+"_mobileExportOption><div class='e-dbrd-mobileExportImage e-dbrd-exportype' data-exportType='image' id="+this._id+"_mobileExportImage><div class='e-dbrd-mobileExportImageIconWrap' id="+this._id+"_mobileExportImageIconWrap><span class='e-dbrd-mobileExportImageIcon' id="+this._id+"_mobileExportImageIcon><\/span><\/div><span class='e-dbrd-mobileExportImageText' id="+this._id+"_mobileExportImageText>"+this.locale.utils.Image+"<\/span><\/div><div class='e-dbrd-mobileExportPdf e-dbrd-exportype' data-exportType='pdf' id="+this._id+"_mobileExportPdf><div class='e-dbrd-mobileExportPdfIconWrap' id="+this._id+"_mobileExportPdfIconWrap><span class='e-dbrd-mobileExportPdfIcon' id="+this._id+"_mobileExportPdfIcon><\/span><\/div><span class='e-dbrd-mobileExportPdfText' id="+this._id+"_mobileExportPdfText>"+this.locale.utils.Pdf+"<\/span><\/div><div class='e-dbrd-mobileExportExcel e-dbrd-exportype' data-exportType='excel' id="+this._id+"_mobileExportExcel><div class='e-dbrd-mobileExportExcelIconWrap' id="+this._id+"_mobileExportExcelIconWrap><span class='e-dbrd-mobileExportExcelIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportExcelText' id="+this._id+"_mobileExportExcelText>"+this.locale.utils.Excel+"<\/span><\/div><div class='e-dbrd-mobileExportCsv e-dbrd-exportype' data-exportType='csv' id="+this._id+"_mobileExportCsv><div class='e-dbrd-mobileExportCsvIconWrap' id="+this._id+"_mobileExportCsvIconWrap><span class='e-dbrd-mobileExportCsvIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportCsvText' id="+this._id+"_mobileExportCsvText>"+this.locale.utils.Csv+"<\/span><\/div><\/div><\/div>",e=n("<div class='e-dbrd-fileContentBar' id="+this._id+"_fileContentBar><\/div>"),o=n("<button class='e-dbrd-mobileExportBtn' id="+this._id+"_mobileExportBtn> "+this.locale.utils.ExportBtn+"<\/button>");i.append(u);n(r).append(f);n(r).append(e);i.append(r);i.append(o);this.currentTabContentElement.append(i);this._mobileDashboardMenu();this._heightScrollCalculation();this.exportSettings.exportType===""?(this._mobileExportDisableMenu(),this.exportSettings.exportType=this.currentTabContentElement.find(".e-dbrd-mobileExportOption").children().eq(t.DashboardConstants.Zero).attr("data-exporttype"),this._mobileExportContentCreate()):this._mobileExportDisableMenu();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}})},_mobileExportDisableMenu:function(){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),n=null,u,i;if(!t.isNullOrUndefined(this.currentTabContentElementData)&&!t.isNullOrUndefined(this.currentTabContentElementData.attr("data-widget-id")))for(u=this.currentTabContentElementData.attr("data-widget-id"),i=0;i<r.length;i++)n=r.eq(i),t.isNullOrUndefined(n.attr("data-widget-id"))||n.attr("data-widget-id")!==u||((t.isNullOrUndefined(n.data("ExportImage"))||!n.data("ExportImage"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove(),(t.isNullOrUndefined(n.data("ExportPdf"))||!n.data("ExportPdf"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove(),(t.isNullOrUndefined(n.data("ExportExcel"))||!n.data("ExportExcel"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove(),(t.isNullOrUndefined(n.data("ExportCSV"))||!n.data("ExportCSV"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").remove())},_mobileExportContentCreate:function(i){var r,u,f,e;if(t.isNullOrUndefined(i)||(n(i.currentTarget).hasClass("e-brd-multitab-mob-export-btn")?(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.multiDashboardExport=!0,this.exportDashboard=!1,this.exportSettings.filename=this.locale.utils.Dashboards,this._mobileExport(),this._mobileDashboardMenu()):this.exportSettings.exportType=n(i.currentTarget).attr("data-exportType")),this.exportSettings.exportType!=="")switch(this.exportSettings.exportType){case"image":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportImage").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();r=this._imageExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(r);this._exportImageDropdownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();(this.exportSettings.exportDpi!==""||this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block")&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._heightScrollCalculation();break;case"pdf":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();u=this._pdfExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(u);this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._selectPdfOrientation();f=n("<div class = 'e-dbrd-orientation-selection'><\/div>").text(this.orientation);this.currentTabContentElement.find(".e-brd-orientation").append(f);this._heightScrollCalculation();break;case"excel":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();e=this._excelExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(e);this._exportExcelDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._heightScrollCalculation();break;case"csv":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();this._heightScrollCalculation()}n(this.currentTabContentElement).find(".e-dbrd-fileContentBar .e-dbrd-hoverable").removeClass("e-dbrd-hoverable");n(this.currentTabContentElement).find(".e-dbrd-resolutionAlert").addClass("e-dbrd-hoverable");this.model.enableCustomTheming&&this._customTheme(["popup"])},_mobileDashboardMenu:function(){this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup").length>t.DashboardConstants.Zero?(this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide(),this.exportDashboard=!0):(this.multiDashboardExport||this.exportSettings.exportDashboard)&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide()},_heightScrollCalculation:function(){var f=this.element.height(),r,e,o,i,u;this.currentTabContentElement.find(".e-dbrd-mobileExport").height(f);r=t.DashboardConstants.Zero;n(this.currentTabContentElement).find(".e-dbrd-mobileContentWrap").height(r);e=this.currentTabContentElement.find(".e-dbrd-tiltleBar").height();o=this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").height();r=f-(e+o);n(this.currentTabContentElement).find(".e-dbrd-mobileContentWrap").height(r);i=t.DashboardConstants.Zero;switch(this.exportSettings.exportType){case"image":i=t.DashboardConstants.Zero;u=20;n(this.currentTabContentElement.find(".e-dbrd-fileContentBar >")).children().each(function(){i+=n(this).height()});this.multiDashboardExport&&(i+=this.currentTabContentElement.find(".e-brd-imageExport-dropdown").height());this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i+u);break;case"pdf":i=t.DashboardConstants.Zero;u=30;i+=this.currentTabContentElement.find(".e-dbrd-dashPdf").height();i+=this.currentTabContentElement.find(".e-brd-pagesize").height();this.multiDashboardExport&&(i+=this.currentTabContentElement.find(".e-brd-multibrd-export").height());this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i+u);break;case"excel":i=t.DashboardConstants.Zero;n(this.currentTabContentElement.find(".e-dbrd-fileContentBar")).children().each(function(){i+=n(this).height()});this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i);break;case"csv":i=t.DashboardConstants.Zero;this.currentTabContentElement.find(".e-dbrd-fileContentBar").height(i)}},_mobileKeyBoardScroll:function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth?(i=this.currentTabContentElement.find(".e-brd-exportImageField.e-brd-imageResolution"),i.is(":focus")&&(r=i.offset().top+this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").height(),this.currentTabContentElement.find(".e-dbrd-mobileContentWrap").scrollTop(r))):this._heightScrollCalculation()},_exportSettingsClear:function(){this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1}},_calculateExportDialogSize:function(){if(this.exportSettings.isExportTriggered){if(this.exportSettings.exportDashboard=this.exportDashboard,n(window).width()>t.DashboardConstants.MobileWidth&&this.exportSettings.isMobile){this.exportSettings.filename=n("#"+this._id+"_mobileExportFilenameText").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.currentTabContentElement.find(".e-brd-imageResolution").val();this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.currentTabContentElement.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0;break;case"excel":this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0;break;case"csv":this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0}}else if(n(window).width()<t.DashboardConstants.MobileWidth&&!this.exportSettings.isMobile){this.exportSettings.filename=this.currentTabContentElement.find(".e-brd-exportFilename").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.currentTabContentElement.find(".e-brd-imageResolution").val();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.currentTabContentElement.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0;break;case"excel":this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();break;case"csv":this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0}var i=this.currentTabContentElement.find(".e-dbrd-inactive-export");i.css({"margin-left":-n(".e-dbrd-inactive-export").width()/2,"margin-top":-n(".e-dbrd-inactive-export").height()/2})}this._validatingImageFilename();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._heightScrollCalculation()}},_validatingImageResolution:function(i){var u=n(i.target).val(),r=i.which?i.which:i.keyCode;return!((r!==46||u.indexOf(".")!==t.DashboardConstants.IndexLowerBound)&&(r<48&&r!==8||r>57))},_validatingResolutionLimit:function(i){var r=null;t.isNullOrUndefined(i)?r=this.exportSettings.exportDpi:(r=n(i.target).val(),this.exportSettings.exportDpi=r);r<96?(n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"200px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"100%"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").html(this.locale.utils.ResolutionLow).css({display:"block",float:"left"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!1,this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):r>300?(this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"block",float:"left"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"160px","margin-bottom":"10px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"92%","margin-bottom":"10px"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"])):this.currentTabContentElement.find(".e-brd-filenameError").css("display")==="block"||n(this.currentTabContentElement.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"200px"}):this.currentTabContentElement.find(".e-brd-imageResolution").css({width:"100%"}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"]))},_validatingImageFilename:function(i){var r=null,u;r=t.isNullOrUndefined(i)?this.exportSettings.filename:n(i.target).val();u=/[*?<>/":|\\]/;t.isNullOrUndefined(r)||(r.match(u)||r===""||r.trim().length===t.DashboardConstants.Zero?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"block"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"||n(this.currentTabContentElement.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"})):(this.imageValidation=!0,this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"}),this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"outline-color":"#dcdcdc","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.model.enableCustomTheming&&this._customTheme(["enableBtn"])))},_validatingImageWidgetTitle:function(t){var i=n(t.target).val();i===""?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"}),this.model.enableCustomTheming&&this._customTheme("disableBtn")):this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block"||this.currentTabContentElement.find(".e-brd-filenameError").css("display")==="block"?(this.imageValidation=!1,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(this.imageValidation=!0,this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc"}),this.model.enableCustomTheming&&this._customTheme("enableBtn"))},_hideExport:function(i){var r,u;if(t.isNullOrUndefined(i))(this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").length>t.DashboardConstants.Zero||this.element.find(".e-dbrd-mobileExport").length>t.DashboardConstants.Zero)&&(r=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":this.currentTabContentElement.find(".e-dbrd-inactive-export").attr("id").split("_")[1],this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide(),this.isDialogNotCreated||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}}),n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear()),this.multiDashboardExport=!1,this.exportDashboard=!1,this.currentTabContentElement.find("#"+this._id+"_imageType").ejDropDownList("destroy"),this.isPageTypeDropDownCreated&&this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_excelType").ejDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}})));else{u=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":n(i.target).parents().find(".e-dbrd-inactive-export").attr("id").split("_")[1];this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();var e=n(i.target).hasClass("e-dbrd-dialog-bgrnd-export"),o=n(i.target).hasClass("e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon"),s=n(i.target).hasClass("e-brd-ControlImageCancel"),f=n(i.target).hasClass("e-dbrd-titleBackIcon")||n(i.target).hasClass("e-dbrd-exportBack");f&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear());(e||o||s||f)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}),this.multiDashboardExport=!1,this.exportDashboard=!1,this.currentTabContentElement.find("#"+this._id+"_imageType").ejDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDropDownList("destroy"),this.currentTabContentElement.find("#"+this._id+"_excelType").ejDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}))}this.model.enableCustomTheming&&this._customTheme(["dashboard"])},_selectPdfOrientationforportrait:function(i){if(n(i.target).attr("id")===this.currentTabContentElement.attr("id")+"_pdfPortrait"&&(this.orientation="Portrait",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientationforlandscape:function(i){if(n(i.target).attr("id")===this.currentTabContentElement.attr("id")+"_pdfLandscape"&&(this.orientation="Landscape",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientation:function(){this.orientation==="Landscape"?(n("#"+this.currentTabContentElement.attr("id")+"_pdfPortrait").css({"background-color":"#fff"}),n("#"+this.currentTabContentElement.attr("id")+"_pdfLandscape").css({"background-color":"#3B99FC"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({color:"#fff"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({color:"black"})):(n("#"+this.currentTabContentElement.attr("id")+"_pdfLandscape").css({"background-color":"#fff"}),n("#"+this.currentTabContentElement.attr("id")+"_pdfPortrait").css({"background-color":"#3B99FC"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({color:"#fff"}),this.currentTabContentElement.find(".e-brd-PdfOrientationforlandscape").css({color:"black"}));this.currentTabContentElement.find(".e-dbrd-orientation-selection").text(this.orientation)},_ControlImageReset:function(){var r,i,u,f;this.filename=t.isNullOrUndefined(this.filename)?this.exportSettings.filename:this.filename;this.currentTabContentElement.find(".e-brd-mobileFilenameText").val(this.filename);this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({border:"1px solid #dcdcdc","outline-color":"#1E90FF"});this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({display:"none"});this.currentTabContentElement.find(".e-dbrd-resolutionAlert").css({display:"none"});this.currentTabContentElement.find(".e-brd-filenameError").css({display:"none"});this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"});this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"});this.imageValidation=!0;this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList("instance"),r.unCheckAll(),r.hidePopup(),this._defaultSelection());switch(this.exportSettings.exportType){case"image":this._exportSettingsClear();this.exportSettings.exportType="image";this.imageValidation=!0;this.currentTabContentElement.find("#"+this._id+"_ExportImagefilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportImagetitle").val(this.title);this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportImageresolution").val(t.DashboardConstants.Resolution);this.currentTabContentElement.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_imageType").ejDropDownList({selectedIndex:0});break;case"pdf":this._exportSettingsClear();this.exportSettings.exportType="pdf";this.currentTabContentElement.find("#"+this._id+"_ExportPdffilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_ExportPdftitle").val(this.title);this.currentTabContentElement.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.orientation=this.locale.utils.DefaultOrientation;this.currentTabContentElement.find("#"+this._id+"_pdfLandscape").val(this.orientation).css({"background-color":"#3B99FC",color:"#fff"});this.currentTabContentElement.find("#"+this._id+"_pdfPortrait").val(this.orientation).css({"background-color":"#fff",color:"black"});this.currentTabContentElement.find("#"+this._id+"_pageSizeType").ejDropDownList({selectedIndex:1});this.model.enableCustomTheming&&(t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-PdfOrientationforportrait").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pdfLandscape").css({"background-color":"#3B99FC"})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]})));this.exportDashboard&&(u=n("#"+this._id+"_widgetsName").ejDropDownList("instance"),u.unCheckAll(),u.hidePopup(),this.currentTabContentElement.find(".e-brd-widget-dropdown").css({display:"none"}),f=this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").ejRadioButton("instance"),f.option("checked",!0),this.currentTabContentElement.find(".e-brd-choose-label").css({display:"none"}));this.currentTabContentElement.find(".e-dbrd-orientation-selection").text(this.orientation);break;case"excel":this._exportSettingsClear();this.exportSettings.exportType="excel";this.currentTabContentElement.find("#"+this._id+"_ExportExcelfilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.currentTabContentElement.find("#"+this._id+"_excelType").ejDropDownList({selectedIndex:0});break;case"csv":this._exportSettingsClear();this.exportSettings.exportType="csv";this.imageValidation=!0;this.currentTabContentElement.find("#"+this._id+"_ExportCSVfilename").val(this.filename);this.currentTabContentElement.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"})}this.exportSettings.isMobile=n(window).width()<t.DashboardConstants.MobileWidth?!0:!1;this.exportSettings.isExportTriggered=!0},_exportImagePopup:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exporting,source:{element:this.exportSettings,data:this.exportSettings.exportType}});switch(this.exportSettings.exportType){case"image":this._exportToImage();break;case"pdf":this._exportToPdf();break;case"excel":this.imageValidation&&this._exportToExcel();break;case"csv":this.imageValidation&&this._exportToCSV()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportCompleted,source:{element:this.exportSettings,data:this.exportSettings.exportType}})},_exportToExcel:function(){var u=null,f=!1,r=!1,n,i;u=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportExcelfilename").val();n=this.currentTabContentElement.find("#"+this._id+"_excelType").val();n===""&&(n=this.locale.utils.ExportToExcel97To2003);this.currentTabContentElement.find(".e-dbrd-exportExcel").remove();this.exportDashboard=!1;i=t.isNullOrUndefined(this.currentTabContentElementData)?this.currentTabContentElementData:this.currentTabContentElementData.attr("data-widget-id");(t.isNullOrUndefined(this.currentTabContentElementData)||t.isNullOrUndefined(i))&&(f=!0);this.multiDashboardExport&&this.multiTabs||(r=!0);t.isNullOrUndefined(i)||(r=!1);this.exportToExcel(i,u,n,!1,f,[],r)},_exportToCSV:function(){var n=null;n=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportCSVfilename").val();this.currentTabContentElement.find(".e-dbrd-exportCSV").remove();this.exportDashboard=!1;this._exportControlData(this.currentTabContentElementData.attr("type"),this.currentTabContentElementData.attr("control-id"),n)},_exportToImage:function(){var i=null,r,e,o,s;i=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportImagefilename").val();var h=this.exportSettings.subtitleName,n=this.currentTabContentElement.find("#"+this._id+"_imageType").val(),u=this.exportSettings.filename,f=this.currentTabContentElement.find("#"+this._id+"_ExportImageresolution").val();n=n.substr(n.lastIndexOf(".")+1);n=n.substring(0,n.length-1);this.imageValidation&&(r=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.multiDashboardExport=!1,e={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),imageType:n,resolution:f,filename:i,title:u,subtitle:h},this._exportControlImage(e,r)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),o={imageType:n,resolution:f,filename:i,title:u},this._exportDashboardImage(o,r)),this.multiDashboardExport&&(this.exportDashboard=!1,this.currentTabContentElement.find(".e-dbrd-exportImage").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),s={imageType:n,resolution:f,filename:i,title:u,fileType:"zip"},this._exportDashboardImage(s,r)))},_exportToPdf:function(){var r=null,f,c;r=this.currentTabContentElement.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.currentTabContentElement.find(".e-brd-mobileFilenameText").val():this.currentTabContentElement.find("#"+this._id+"_ExportPdffilename").val();var e=this.exportSettings.filename,l=this.exportSettings.subtitleName,i=this.currentTabContentElement.find("#"+this._id+"_pageSizeType").val(),o=this.currentTabContentElement.find("#"+this._id+"_widgetsName").data("ejDropDownList"),u=o.getSelectedItemsID();u.length===t.DashboardConstants.Zero&&(n(".e-brd-radio-widgets").is(":checked")&&o.option("checkAll",!0),u=o.getSelectedItemsID());var h=null,s=!1;i===""&&(i=this.locale.utils.A4);n(".e-brd-radio-widgets").is(":checked")&&(s=!0);this.imageValidation&&(f=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.multiDashboardExport=!1,this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),c={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),filename:r,pageSizeType:i,title:e,subtitle:l},this._exportControlPdf(c,f)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.multiDashboardExport=!1,this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this._exportDashboardPdf(r,i,e,null,f,u,s)),this.multiDashboardExport&&(this.currentTabContentElement.find(".e-dbrd-mobileExport").remove(),this.currentTabContentElement.find(".e-dbrd-exportPdf").remove(),h="pdf",this._exportDashboardPdf(r,i,e,h,f,u,s,!1)))},_exportDashboardPdf:function(i,r,u,f,e,o,s){var ut,k,p,ft,ht,ct,v,d,nt,rt,vt;this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();e||this._showwaitingpdfpopup("pdf");ut=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i;var c=null,y="",et=null,ot=[],a=null,h=0,l=0,b=0,st=[];for(this.filterDetials=!0,l=0;l<this.appliedFilterData.length;l++)this.filterDetials=!1,st.push(this.appliedFilterData[l]);if(this.multiDashboardExport){for(v=0;v<this.multiSelectCollection.length;v++)this.multiSelectCollection[v].widgetInfo!==""&&(d=JSON.parse(this.multiSelectCollection[v].widgetInfo),d=this._setWidgetStringForPivotGrid(d),this.multiSelectCollection[v].widgetInfo=JSON.stringify(d));et=JSON.stringify(this.multiSelectCollection)}else{if(c=this.dashboardControls.getAllControlsForImageExport(i),this._getDatePickerData(c),y="",k="",a=JSON.parse(JSON.stringify(this.currentReport.layout)),p=[],s)for(h=0;h<c.length;h++)if(c[h].controlType!=="parameterColumnData"&&c[h].controlType!=="Title"){for(ft=!1,l=0;l<o.length;l++)ht=this.currentTabContentElement.find("#"+o[l]).attr("data-widget-id"),ht===c[h].reportName&&(ft=!0);ft&&p.push(c[h])}else p.push(c[h]);if(p.length>t.DashboardConstants.Zero&&(c=p),this.model.enableCustomTheming)for(h=0;h<c.length;h++)c[h].controlType!=="parameterColumnData"&&c[h].controlType!=="Title"&&(k=this._id+"_"+c[h].controlType+"_"+c[h].reportName+"_style",ct=n("head").find("#"+k).html(),y=y+'<style id = "'+k+'">'+ct+"<\/style>");for(c=this._setWidgetStringForPivotGrid(c),h=0;h<c.length;h++)c[h].controlType==="parameterColumnData"&&(c[h].controlRelations=this.controlRelations,c[h].appliedFilterData=this.appliedFilterData);c=JSON.stringify(c)}var lt=n(window).height(),at=n(window).width(),g=this.orientation;t.isNullOrUndefined(g)&&(g=this.locale.utils.DefaultOrientation);nt=null;t.isNullOrUndefined(this.model.customThemeSettings)||(nt=JSON.stringify(this.model.customThemeSettings));var w=null,tt=null,it=this.dashboardControls.getAllControlsMasterData();if(this.multiDashboardExport)tt={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({selectedDashboards:et,widgetCssString:y,pageSize:r,pageLayout:JSON.stringify(g),data:t.isNullOrUndefined(it)?null:JSON.stringify(it),fileType:f,height:lt,width:at,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:nt,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(w),currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ut),isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(tt);else{if(w=this._getGridSettings(),w.length===t.DashboardConstants.Zero&&(w=""),s&&o.length>t.DashboardConstants.Zero)for(h=0;h<a.length;h++)if(a[h].Key==="LayoutInformation"){for(rt=JSON.parse(a[h].Value),b=0;b<o.length;b++)for(l=0;l<rt.length;l++)rt[l].Guid===o[b]&&ot.push(rt[l]);vt=JSON.stringify(ot);a[h].Value=vt;break}tt={type:"POST",url:this.serviceUrl()+"/SavePdf",data:JSON.stringify({layoutString:JSON.stringify(a),widgetString:c,widgetCssString:y,data:t.isNullOrUndefined(it)?null:JSON.stringify(it),pageSize:r,pageLayout:JSON.stringify(g),height:lt,width:at,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",dashboardPath:this.dashboardPath(),customThemeSupport:this.model.enableCustomTheming,customThemeSettings:nt,gridSettings:JSON.stringify(w),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardName:this.dashboardName,isWidgetSpecific:s,initialDashboard:JSON.stringify(this.initialDashboard),masterControls:JSON.stringify(st),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ut),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout,widgetsToExport:JSON.stringify(o)}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(tt)}},_capturePdf:function(t,i){var u,r;this._destroyWaitingPdfPopup();this.orientation=this.locale.utils.DefaultOrientation;this._ExportedPdfFileName=this.newfilename;u=JSON.parse(i);r=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(r=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(r)):r=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var e=this._ExportedPdfFileName?this._ExportedPdfFileName+".pdf":"Dashboard.pdf",f=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.savePdfFile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),o=JSON.stringify({pdfFile:u.SavePdfResult,fileName:e,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});f.append(n('<input type="hidden">').attr({name:"arguments",value:o}));f.appendTo(r).submit().remove();r.hide()},_exportDashboardImage:function(i,r){var v,c,o,l,b,e,a,s;this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();r||this._showwaitingpdfpopup("image");v=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedImageFileName=i.filename;var u="",h="",p=null,w=[],f=0;for(c=0;c<this.appliedFilterData.length;c++)w.push(this.appliedFilterData[c]);if(o="",this.multiDashboardExport){for(e=0;e<this.multiSelectCollection.length;e++)this.multiSelectCollection[e].widgetInfo!==""&&(a=JSON.parse(this.multiSelectCollection[e].widgetInfo),a=this._setWidgetStringForPivotGrid(a),this.multiSelectCollection[e].widgetInfo=JSON.stringify(a));p=JSON.stringify(this.multiSelectCollection)}else{if(u=this.dashboardControls.getAllControlsForImageExport(i.title),this._getDatePickerData(u),l="",this.model.enableCustomTheming)for(f=0;f<u.length;f++)u[f].controlType!=="parameterColumnData"&&u[f].controlType!=="Title"&&(l=this._id+"_"+u[f].controlType+"_"+u[f].reportName+"_style",b=n("head").find("#"+l).html(),h=h+'<style id = "'+l+'">'+b+"<\/style>");for(u=this._setWidgetStringForPivotGrid(u),u=JSON.stringify(u),f=0;f<u.length;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData);o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="")}var k=n(window).height(),d=n(window).width(),y=null;t.isNullOrUndefined(this.model.customThemeSettings)||(y=JSON.stringify(this.model.customThemeSettings));s=null;this.multiDashboardExport&&this.multiSelectCollection.length!==t.DashboardConstants.One?(s={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({selectedDashboards:p,widgetCssString:h,isControl:!1,height:k,width:d,imageType:i.imageType,fileType:i.fileType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customThemeSettings:y,currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(v),isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(s)):(s={type:"POST",url:this.serviceUrl()+"/SaveImage",data:JSON.stringify({layoutString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].layoutInfo:JSON.stringify(this.currentReport.layout),widgetString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].widgetInfo:u,widgetCssString:h,isControl:!1,height:k,width:d,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:y,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].id:this.dashboardName,masterControls:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].masterControls:JSON.stringify(w),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(v),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(s))},_setWidgetStringForPivotGrid:function(n){for(var i=0;i<n.length;i++)n[i].controlType===t.dashboardViewer.Controls.PivotGrid&&(n[i].data[n[i].data.length-t.DashboardConstants.One].pagedata=n[i].PivotJSONData);return n},_captureImage:function(i,r){var f,u,e,o,s;this._destroyWaitingPdfPopup();f=r.SaveImageResult.substr(r.SaveImageResult.lastIndexOf(".")+t.DashboardConstants.One);u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");e=null;e=t.isNullOrUndefined(this._ExportedImageFileName)?"Dashboard."+f:this._ExportedImageFileName+"."+f;o=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveImagefile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});s=JSON.stringify({imageFile:r.SaveImageResult,fileName:e,type:f,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});o.append(n('<input type="hidden">').attr({name:"argument",value:s}));o.appendTo(u).submit().remove();u.hide()},_getDatePickerData:function(n){for(var r,u,i=0;i<n.length;i++)r=[],n[i].controlType!==t.dashboardViewer.Controls.DatePicker||t.isNullOrUndefined(n[i].data[0])||(u=n[i].data[0].pagedata.length,u>t.DashboardConstants.Zero&&r.push(n[i].data[0].pagedata[0]),u>t.DashboardConstants.One&&r.push(n[i].data[0].pagedata[u-t.DashboardConstants.One]),n[i].data[0].pagedata=r)},_getDashboardSelectionDetails:function(t){for(var i,r,e,o=[],u=[],s=[],f=0;f<t.length;f++)for(i=0;i<this.dashboardDetails.length;i++)t[f].toLocaleLowerCase().trim()===this.dashboardDetails[i].DashboardDisplayName.toLocaleLowerCase().trim()&&(o.push(this.dashboardDetails[i]),s.push(this.dashboardDetails[i].DashboardDisplayName));for(r=0;r<t.length;r++)e=t[r].trim(),n.inArray(e,s)===-1&&n.inArray(e,u)===-1&&u.push(t[r]);return[{selectedItems:o,nonMatchedItems:u}]},_getWidgetSelectionDetails:function(t){for(var i,r,s,h=[],f=[],e=[],u=this._getWidgetNames(),o=0;o<t.length;o++)for(i=0;i<u.length;i++)t[o].toLocaleLowerCase().trim()===u[i].WidgetsName.toLocaleLowerCase().trim()&&(e.push(u[i].WidgetsName),h.push(u[i].WidgetsId));for(r=0;r<t.length;r++)s=t[r].trim(),n.inArray(s,e)===-1&&n.inArray(s,f)===-1&&f.push(t[r]);return[{selectedWidgetsList:h,nonMatchedItems:f,selectedWidgetNames:e}]},_getStatus:function(n){var i=0,r=[];if(n[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero)for(i=0;i<n[t.DashboardConstants.Zero].selectedItems.length;i++)r.push({status:this.locale.utils.Success,name:n[t.DashboardConstants.Zero].selectedItems[i].DashboardDisplayName});if(n[t.DashboardConstants.Zero].nonMatchedItems.length>t.DashboardConstants.Zero)for(i=0;i<n[t.DashboardConstants.Zero].nonMatchedItems.length;i++)r.push({status:this.locale.utils.Failure,name:n[t.DashboardConstants.Zero].nonMatchedItems[i],Reason:this.locale.errorMessages.ErrorInMultiDbrdExport});return r},_getSuccessStatus:function(n,t){var r=[],i;if(t)for(i=0;i<this.dashboardDetails.length;i++)r.push({status:this.locale.utils.Success,name:this.dashboardDetails[i].DashboardDisplayName});else r.push({status:this.locale.utils.Success,name:n});return r},_getFailureStatusForWidget:function(n){var t=[];return t.push({status:this.locale.utils.Failure,name:n,Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport}),t},_b64toBlob:function(n,t,i){for(var f,e,r,c,l=t||"",o=i||512,s=atob(n),h=[],u=0;u<s.length;u+=o){for(f=s.slice(u,u+o),e=new Array(f.length),r=0;r<f.length;r++)e[r]=f.charCodeAt(r);c=new Uint8Array(e);h.push(c)}return new Blob(h,{type:l})},_processWebpageImageForExport:function(i,r){for(var l,p,a,w,u,o,s,v,y,f,h,c=r.find("svg"),e=0;e<c.length;e++)l=n("<div>"),p=n(c[e]).clone(),l.append(p),a=document.createElement("canvas"),canvg(a,l[0].innerHTML),w=i.getContext("2d"),w.drawImage(a,n(c[e]).offset().left,n(c[e]).offset().top);r===this.currentTabContentElement.attr("id")?(u=n("#"+r),!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&(o=u.width()-30,y=u.offset().left,v=u.offset().top,s=u.height())):(o=i.width,s=i.height,v=0,y=0);f=document.createElement("canvas");f.width=o;f.height=s;f.getContext("2d").drawImage(i,y,v,o,s,t.DashboardConstants.Zero,t.DashboardConstants.Zero,o,s);this.isPrintTriggered?(this.isPrintTriggered=!1,h=window.open(),h.document.write("<br><img src='"+f.toDataURL()+"'/>"),h.print(),h.location.reload(),h.close()):this.saveFileFromServer("IMAGE",f.toDataURL("image/png"))},_exportControlData:function(t,i,r){var f=null,u,e;(t==="ComparisonChart"||t==="Grid"||t==="PivotGrid"||t==="TreeMap"||t==="BubbleMap"||t==="ChoroplethMap"||t==="Card"||t==="CircularGauge"||t==="Chart"||t==="ProportionChart"||t==="CustomWidget")&&(f=n("#"+i).parents(".e-dbrd-layout-cell").find(".e-dbrd-control"),u={},u.controlId=f.attr("data-controlId"),u.controlType=n("#"+i).parents(".e-dbrd-layout-cell").attr("data-controlType"),u.headerText=r,u.controlType==="CircularGauge"&&(u.controlType="Gauge"),e=[],this._exportDataAsCSV(u,e))},_getGridSettings:function(i,r){var s=[],u=null,o=null,f,e;for(this.multiDashboardExport?(u=i.controls,o=r):(u=this.dashboardControls.controls,o=this._id),f=0;f<u.length;f++)u[f].controlType==="Grid"&&(e=n("#"+o+"_Widget_"+u[f].reportName).data("ejGrid"),t.isNullOrUndefined(e)||s.push({reportName:u[f].reportName,sortSettings:e.model.sortSettings,filterSettings:e.model.filterSettings}));return s},_exportDataAsCSV:function(n,t){this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();this._showwaitingpdfpopup("csv");this._ExportedCSVFileName=n.headerText;this.model.enableAutorefresh&&this._resetAutoRefresh();var i=JSON.parse(JSON.stringify(this.dashboardParameters)),r=this._getGridSettings(),u=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),f=JSON.stringify(this.rangeData),e=JSON.stringify(this.initialFilters),o=JSON.stringify(t),s=this.modifiedConnectionStrings,h=JSON.stringify(this.currentUser),c={type:"POST",url:this.serviceUrl()+"/exportAsCsv",data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:u,rangeData:f,drilledData:o,modifiedConnectionStrings:s,fileName:n.headerText,currentUser:h,isPublic:this.isPublicDashboard,itemId:this.itemId,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,filterParameters:e,gridSettings:JSON.stringify(r),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(i)}),onSuccess:this._captureCSV,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(c)},_captureCSV:function(i,r){var f,u;this._destroyWaitingPdfPopup();this._ExportedPdfFileName=this.newfilename;f=r;t.isNullOrUndefined(f.ExportAsCsvResult)&&(f=JSON.parse(f));u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var o=this._ExportedCSVFileName?this._ExportedCSVFileName+".csv":"Dashboard.csv",e=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveCsvFile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),s=JSON.stringify({csvFile:f.ExportAsCsvResult+".csv",fileName:o,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});e.append(n('<input type="hidden">').attr({name:"arguments",value:s}));e.appendTo(u).submit().remove();u.hide()},_exportDataAsExcel:function(n,t,i,r){var a=this.model.localeSettings.resourcePath,v=this.model.localeSettings.culture,e,u,c,l;this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-tab-res-popup").hide();r||this._showwaitingpdfpopup("excel");this.model.enableAutorefresh===!0&&this._resetAutoRefresh();e=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedExcelFileName=n.headerText;u=t===this.locale.utils.ExportToExcel2013;this._excelfileVersion=u?".xlsx":".xls";var o=JSON.stringify(this.currentUser),s=JSON.stringify(this.initialFilters),h=this.modifiedConnectionStrings,f=null;if(this.multiDashboardExport)c=this._multiTabExportExcel(),l=JSON.stringify(c),f={type:"POST",url:this.serviceUrl()+"/MultipleDashboardsExport",data:JSON.stringify({dashboardPath:this.dashboardPath(),excelDashboards:l,controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,modifiedConnectionStrings:h,fileName:n.headerText,currentUser:o,isExcel2013Version:u,isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:s,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,fileType:i,version:this._excelfileVersion,dashboardParameterSettings:this._setAjaxDashboardParameterValue(e)}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(f);else{var y=this._getGridSettings(),p=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),w=JSON.stringify(this.rangeData);f={type:"POST",url:this.serviceUrl()+"/exportAsExcel",data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:p,rangeData:w,modifiedConnectionStrings:h,fileName:n.headerText,currentUser:o,isExcel2013Version:u,isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:s,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(y),dashboardName:this.dashboardName,customCulture:v,customLanguagePath:a,dashboardParameterSettings:this._setAjaxDashboardParameterValue(e)}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(f)}},_captureExcel:function(i,r){var u,f;if(this._destroyWaitingPdfPopup(),u=r,f=null,this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(f=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(f)):f=this.currentTabContentElement.find("#"+this._id+"_exportIframe"),!t.isNullOrUndefined(u)&&(!t.isNullOrUndefined(u.ExportAsExcelResult)||!t.isNullOrUndefined(u.MultipleDashboardsExportResult))){var o=t.isNullOrUndefined(u.ExportAsExcelResult)?u.MultipleDashboardsExportResult:u.ExportAsExcelResult,s=this._ExportedExcelFileName+this._excelfileVersion,e=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.saveExcelfile,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),h=JSON.stringify({excelFile:o+this._excelfileVersion,fileName:s,isPublic:this.isPublicDashboard,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName});e.append(n('<input type="hidden">').attr({name:"arguments",value:h}));e.appendTo(f).submit().remove();f.hide()}},_exportControlImage:function(i,r){var f=0,l,s,h,o,a;this.model.enableAutorefresh&&this._resetAutoRefresh();r||this._showwaitingpdfpopup("image");var v=JSON.parse(JSON.stringify(this.dashboardParameters)),e="",y=JSON.parse(JSON.stringify(this.currentReport.layout)),u=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid")),c=this._getHeightAndWidthForExport(i.type,i.element);for(this._ExportedImageFileName=i.filename,l=this.getMasterControlsBySlave(i.element),this.model.enableCustomTheming&&(s=this._id+"_"+u[0].controlType+"_"+u[0].reportName+"_style",e=n("head").find("#"+s).html(),e='<style id = "'+s+'">'+e+"<\/style>"),u=this._setWidgetStringForPivotGrid(u),u=JSON.stringify(u),f=0;f<u.length;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData);h=null;t.isNullOrUndefined(this.model.customThemeSettings)||(h=JSON.stringify(this.model.customThemeSettings));o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");a={type:"POST",url:this.serviceUrl()+"/SaveImage",data:JSON.stringify({layoutString:JSON.stringify(y),widgetString:u,widgetCssString:e,isControl:!0,controlHeader:i.title,height:c.height,width:c.width,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:i.type,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:h,gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(l),initialDashboard:JSON.stringify(this.initialDashboard),dashboardPath:this.dashboardPath(),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(v)}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(a)},_exportControlPdf:function(i,r){var o,b,c,l,a,v,y,d;this.model.enableAutorefresh&&this._resetAutoRefresh();var p=[],w=[],f=0,e="";p=this.dashboardControls.getAllControlsMasterData();o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");r||this._showwaitingpdfpopup("pdf");b=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i.filename;var s=this.orientation,k=!1,g=this.getMasterControlsBySlave(i.element),nt=JSON.parse(JSON.stringify(this.currentReport.layout)),u=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid")),h=u.length>t.DashboardConstants.Zero?u[0].reportName:null;for(u=this._setWidgetStringForPivotGrid(u),c=u.length>t.DashboardConstants.Zero?u[0].totalCount:null,l=t.DashboardConstants.Zero,c>50&&(k=!0),this.model.enableCustomTheming&&(a=this._id+"_"+u[0].controlType+"_"+h+"_style",e=n("head").find("#"+a).html(),e='<style id = "'+a+'">'+e+"<\/style>"),u=JSON.stringify(u),f=0;f<u.length;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData);v=this._getHeightAndWidthForExport(i.type,i.headerWidthelement);t.isNullOrUndefined(i.pageSizeType)||(l=JSON.parse(JSON.stringify(i.pageSizeType)));t.isNullOrUndefined(s)&&(s=this.locale.utils.DefaultOrientation);this._ExportedImageFileName=i.filename;y=null;t.isNullOrUndefined(this.model.customThemeSettings)||(y=JSON.stringify(this.model.customThemeSettings));w.push({Method:"LoadWidget",Control:h,ErrorOccured:!1});d={type:"POST",url:this.serviceUrl()+"/SavePdf",data:JSON.stringify({layoutString:JSON.stringify(nt),widgetString:u,widgetCssString:e,isControl:!0,controlHeader:i.title,pageSize:l,pageLayout:JSON.stringify(s),height:v.height,width:v.width,isPublic:this.isPublicDashboard,itemId:this.itemId,reportName:i.type,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:y,isVirtualScrolling:k,dashboardPath:this.dashboardPath(),controlId:h,totalCount:c,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(o),data:JSON.stringify(p),action:JSON.stringify(w),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(g),initialDashboard:JSON.stringify(this.initialDashboard),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(b)}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(d)},_showwaitingpdfpopup:function(i){this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._exportSettingsClear();var u=null,e=n("<div>").attr({id:this._id+"_popupPdfDiv"}).addClass("e-dbrd-dialog-bgrnd-export-waiting").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)",top:this.currentTabContentElement.scrollTop()+"px"}),r=n("<div>").attr({id:this._id+"_imageExport"}).addClass("e-dbrd-waiting-inactive-export").css({height:"126px",width:"256px"}),f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv" style = "position:initial"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>';i==="pdf"||i==="csv"?(r.append(f),u=i==="pdf"?this.locale.utils.ExportToPdfWaitingText:this.locale.utils.ExportToCSVWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"16px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):i==="scroll"?(r.append(f),u=this.locale.utils.FetchingData,r.append(n("<div>").addClass("e-dbrd-datafetching-indicator").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_datafetchingindicator"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):(r.append(f),u=i==="image"?this.locale.utils.ExportToImageWaitingText:this.locale.utils.ExportToExcelWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this.currentTabContentElement.attr("id")+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel)));e.append(r);this.currentTabContentElement.append(e);this.model.enableCustomTheming&&this._customTheme(["popup"])},_cancelWaitingIndicator:function(i){n(i.target).parents(".e-dbrd-dialog-bgrnd-export-waiting").remove();t.isNullOrUndefined(this.slaveDataRequest)||this.slaveDataRequest.abort()},_destroyWaitingPdfPopup:function(){this.currentTabContentElement.find("#"+this._id+"_popupPdfDiv").remove()},_mobileExportDropdownResize:function(){var r,i,u,f,e;if(n(window).width()<t.DashboardConstants.MobileWidth&&this.exportSettings.isExportTriggered){this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDropDownList("instance"),r.option("height","30px"),r.option("width","100%"));switch(this.exportSettings.exportType){case"image":i=n("#"+this._id+"_imageType").ejDropDownList("instance");!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(i.option("height","30px"),i.option("width","100%"));break;case"pdf":u=n("#"+this._id+"_pageSizeType").ejDropDownList("instance");u.option("height","30px");u.option("width","100%");f=n("#"+this._id+"_widgetsName").ejDropDownList("instance");f.option("height","30px");f.option("width","100%");break;case"excel":e=n("#"+this._id+"_excelType").ejDropDownList("instance");e.option("height","30px");e.option("width","100%")}}},_drppopupshow:function(){this.model.enableCustomTheming&&this._customTheme(["popup"])},_handleKeyPress:function(n){n.keyCode===27&&(this.currentTabContentElement.find(".e-brd-exportPopupWindowClose").length===t.DashboardConstants.One?this.currentTabContentElement.find(".e-brd-exportPopupWindowClose").click():this.currentTabContentElement.find(".e-dbrd-inactive").length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-inactive-header-close").length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-inactive-header-close").click())},_exportEnter:function(i){var f;if(!t.isNullOrUndefined(i)){var r=n(document.activeElement).attr("class"),e=n(document.activeElement).parents(".e-brd-export-dropdown"),u=e.attr("class");if(t.isNullOrUndefined(u)||u.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound)i.keyCode===13&&this.exportSettings.exportType!==""&&r.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageReset")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageCancel")===t.DashboardConstants.IndexLowerBound&&(f=this.currentTabContentElement.find(".e-brd-ControlImageExport"),this._exportImagePopup(f));else if(i.keyCode===27&&this.exportSettings.exportType!=="")this._hideExport(i);else return}},_manageFocusWithInElement:function(i){var u=this,r=function(f){i!==null&&i.length>t.DashboardConstants.Zero&&i.find(f.target).length===t.DashboardConstants.Zero&&(n("#"+u.currentTabContentElement.attr("id")).find(i).length===t.DashboardConstants.Zero||n(".e-dbrd-exportImage").css("display")==="block"||n(".e-dbrd-exportPdf").css("display")==="block"||n(".e-dbrd-exportExcel").css("display")==="block"?document.removeEventListener("focus",r,!0):i.focus())};document.addEventListener("focus",r,!0)},_getHeightAndWidthForExport:function(t,i){var r=Math.max(650,n("#"+i).find("table").height()),u=Math.max(1366,n("#"+i).find("table").width());return(t==="Card"||t==="CircularGauge"||t==="Grid"||t==="ProportionChart"||t==="PivotGrid")&&n("#"+i).find("td").length>1&&(r=n("#"+i).find("table").height(),u=n("#"+i).find("table").width(),t==="Grid"&&(r=n("#"+i).find(".e-gridcontent").find("table").height()-20,u=n("#"+i).find(".e-gridcontent").find("table").width(),r>1560&&(r=1560)),t==="PivotGrid"&&(r=n("#"+i).find(".pivotGridTable").height(),u=n("#"+i).find(".pivotGridTable").width())),{height:parseInt(r+0).toString(),width:parseInt(u+0).toString()}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.misc={_renderLabel:function(i,r){var c=i.getCurrentPageData(),u=c.pagedata,f=null,s,e,o,h;u&&(s=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}),this.isWidget&&(u.Row=0,u.Column=0),f=r?n("#"+this._id+"_filterCell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"):n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"),f.attr({"data-controlId":u.Id,"data-controltype":"Label"}),f.find(".e-dbrd-control").remove(),e=n(f).find(".e-dbrd-control-container"),o=n("<div>").addClass("e-dbrd-control"),f.css({"background-color":"transparent"}),s.css({overflow:"hidden",position:"relative",height:"100%",width:"100%",display:"table-cell","vertical-align":u.VerticalTextAlignment}).addClass("e-dbrd-label-control"),o.css({display:"table",border:"none","background-color":u.Background,overflow:"hidden",height:"100%",width:"100%"}),h={span:s,div:e},this._appendLabelText(u.FormatText,u.ParamColumns,h),o.append(h.span),e.append(o),o.ejScroller({scrollerSize:13,height:e.height(),width:e.width()}))},_renderImage:function(i){var s=i.getCurrentPageData(),r=null,e,u,f,o;if(s.isError){this._showControlError(s.pagedata,n("#"+this.id+"_cell"+configInfo.Row+"_"+configInfo.Column+" .e-dbrd-control "),configInfo);return}r=s.pagedata;this._hideControlError(n("#"+this._id+"_cell_"+r.Row+"_"+r.Column));e=n("#"+this._id+"_cell_"+r.Row+"_"+r.Column);e.addClass("dashboardImageControl").attr({"data-controlId":r.Id,"data-controltype":"Image"});u=n(e).find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+r.Id});f=n(e).find(".e-dbrd-containerWrapper");u.css({position:"absolute"});switch(r.Stretch){case"Fill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"100% 100%","-webkit-background-repeat":"no-repeat"});break;case"None":o=n("<img>").attr({id:this._id+"_"+r.Id,src:r.Image});o.css({visibility:"hidden"});u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-repeat":"no-repeat"});u.append(o);setTimeout(function(n,t){n.height()<t.height()&&u.css({"background-position-y":"50%","background-position-x":"50%"})},100,o,u);this._emptyImageContenyCreate(i.data[0].pagedata.IsImageExist,r);return;case"Uniform":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"contain","-webkit-background-size":"contain","background-position":"50% 50%","background-repeat":"no-repeat"});break;case"UniformToFill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"cover","-webkit-background-size":"cover","background-repeat":"no-repeat"})}},_emptyImageContenyCreate:function(i,r){var e=this.element.find(".emptyImage").length===t.DashboardConstants.Zero,f;if(!i&&e){var u=n("<div class = 'emptyImage'><\/div>").attr({id:this._id+"_empty"+r.Id}),o=n('<div class="emptyImageIcon"><\/div>'),s=n('<div class="emptyImagemsg"><\/div>').attr({id:this._id+"_emptyImgMsg"+r.Id}).text(this.locale.utils.EmptyImageMsg);u.append(o);u.append(s);f=this.currentTabContentElement.find("#"+this._id+"_"+r.Id).parents(".e-dbrd-control");f.append(u)}else this.element.find(".emptyImage").remove()},_appendLabelText:function(i,r,u){var rt=3,ut,h,v,e,w,y,st,s,nt,p,tt,ht,ct,it;if(i!==null)for(ut=i.RichTextParagraphs.length,h=0;h<ut;h++){var b=i.RichTextParagraphs[h],lt=b.Runs.length,a=n("<p>"),k=8;for(v=0;v<lt;v++){var ft=0,d=[],et=!1,f=i.RichTextParagraphs[h].Runs[v],o=n("<span>"),c=f.Text||"",l=c,at=l.indexOf("{"),vt=l.lastIndexOf("}");if(l=l.substring(at,vt+t.DashboardConstants.One),r!==null&&r.length!==t.DashboardConstants.Zero){for(e=0;e<r.length;e++){var yt=l.split(/[{,\/}]/),g=yt.filter(Boolean),pt=r[e].ParameterText.split(/[{,\/}]/),ot=pt.filter(Boolean);for(w=0;w<d.length;w++)if(d[w]===ot[t.DashboardConstants.Zero]){et=!0;break}for(y=0;y<g.length;y++)g[y]!==ot[t.DashboardConstants.Zero]||et||(d.push(g[y]),st=r[e].ParameterText.replace(/(?!\w|\s)./g,"").replace(/\s+/g," ").replace(/^(\s*)([\W\w]*)(\b\s*$)/g,"$2"),s=c.split(r[e].ParameterText),(s.length!==t.DashboardConstants.One||s.length!==t.DashboardConstants.Zero)&&(s.length!==t.DashboardConstants.Zero&&(o.append(s[0]),s.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),l.indexOf(r[e].ParameterText)!==t.DashboardConstants.IndexLowerBound?f.Bold?(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").css({"font-weight":"bold"}).attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):l===st?(nt=/[{}:]/,p=v,v!==t.DashboardConstants.Zero&&nt.test(i.RichTextParagraphs[h].Runs[p-t.DashboardConstants.One].Text)&&nt.test(i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text)&&(tt=a.children().last(),ht=tt.text().replace("{{:",""),tt[t.DashboardConstants.Zero].innerHTML=ht,ct=i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text.replace("}}",""),i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text=ct,o.empty(),o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" "))):c=s.join()))}o.append(c)}else o.append(c);k<f.FontSize&&(k=f.FontSize);o.css({"font-size":f.FontSize+"px","font-weight":f.Bold?"bold":"normal","font-style":f.Italic?"italic":"normal","text-decoration":f.Underline?"underline":"initial"});t.isNullOrUndefined(f.FontFamily)||o.css({"font-family":f.FontFamily});t.isNullOrUndefined(f.ForegroundColor)||o.css({color:"#"+f.ForegroundColor.substr(rt)});t.isNullOrUndefined(f.BackgroundColor)||o.css({"background-color":"#"+f.BackgroundColor.substr(rt)});f.IsHyperlink&&!t.isNullOrUndefined(f.HyperlinkData)&&(ft=1,f.HyperlinkData.NavigateUrl.match(/^[a-zA-Z]+:\/\//)||f.HyperlinkData.NavigateUrl.toUpperCase().startsWith("MAILTO:")||(f.HyperlinkData.NavigateUrl="http://"+f.HyperlinkData.NavigateUrl),it=n("<a>").attr({href:f.HyperlinkData.NavigateUrl,target:this._getTargetType(f.HyperlinkData.Target)}).html(f.HyperlinkData.Alias),it.html(o),a.append(it));ft!==t.DashboardConstants.One&&a.append(o)}t.isNullOrUndefined(b.TextAlignment)||a.css({"text-align":b.TextAlignment.toLowerCase()});a.css({"min-height":k+"px",width:u.div.width()});u.span.append(a)}},_getTargetType:function(n){switch(n){case"New Window":case"New Tab":return"_blank";case"Same Window":return"_self"}return"_blank"}}}(jQuery,Syncfusion),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.treemap={_renderTreeMap:function(r,u){var l=r.getCurrentPageData(),f=r.configInfo,o=this.dashboardControls.getControlByReport(f.Id),c=r.drillLevels,y=!1,tt=null,it=null,rt=15,ft=null,e=null,p=0,ut=1,v=0,h=0,k=[],a,d,s,w,g,b,nt;if(this.levels=[],o.columnFormating=f.ColumnFormatting,a=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=a.find(".e-dbrd-control"),e.css({"margin-left":"-2px"}),f.ColorType==="range")for(v=0;v<f.ColorMapping.ColorMapping.length;v++)f.ColorMapping.ColorMapping[v].color=o.customTheme.rangeColorMap[v];if(f.ColorType==="desat"&&(d=JSON.parse(f.ColorMapping.ColorMapping),d.color=o.customTheme.desaturationColorMap,f.ColorMapping.ColorMapping=JSON.stringify(d)),l.isError){e.attr({"data-controlId":f.Id});e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id});this._showControlError(l.pagedata,e,f);return}if((this._hideControlError(e),this._applyOrRemoveNoDataAvailable(l.pagedata.length,e))&&(!f.isNodata||this._applyOrRemoveNoDataAvailable(p,e))){if(!t.isNullOrUndefined(u)&&u.isMaximize){if(k.push(c[0]),c=[],c=k,o.drillLevelInfo!==i&&o.drillLevelInfo.length>p)for(h=0;h<o.drillLevelInfo.length;h++)o.drillLevelInfo[h].Key===(u.isMaximize?f.Id+"_Maximize":f.Id)&&(o.drillLevelInfo[h]=[]);o.drillLevelInfo.push({Key:f.Id+"_Maximize",Values:[]});o.drillLevels=[];o.drillLevels=k}if(e.data("ejTreeMap")&&t.isNullOrUndefined(u)){for(s=e.data("ejTreeMap"),w=0;w<l.pagedata.length;w++)l.pagedata[w][s.model.weightValuePath]===p&&(ft+=ut);if(g="ColorMapping",s.model.dataSource=l.pagedata,s.model.rangeColorMapping=f.ColorType==="range"?f.ColorMapping[g]:[],s.model.tooltipTemplate=s.model.enableDrillDown?this._id+"_"+e.attr("data-controlId")+"_toolTip0":this._id+"_"+e.attr("data-controlId")+"_toolTip",s.model.desaturationColorMapping=f.ColorType==="desat"?JSON.parse(f.ColorMapping[g]):[],s.model.headerLabelClicked=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,s.model.drillStarted=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,s.model.drillDownLevel=0,s._drilldownHeaders=[],s._prevData=[],s._prevLevels=[],s._prevLegend=[],b=e.attr("data-controlId"),s.model.enableDrillDown)for(h=0;h<c.length;h++)n("#"+this._id+"_"+b+"_toolTip"+h).remove(),n("#"+this._id+"_"+b+"_labeltemplate"+h).remove();else n("#"+s.model.tooltipTemplate).remove(),n("#"+this._id+"_"+b+"_labeltemplate0").remove();this._createTreeMapTemplates(["label","tooltip"],f,c);s.refresh();this._treeMapInitialSelection(o,e,f.Id);return}if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.treemapDiv)?(a.find("e-dbrd-control-container").css({overflow:"hidden"}),a.attr({"data-controltype":"TreeMap"}),this.model._dashboardData.isExportImage?e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}):e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}).css({overflow:"hidden"}),a.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),a.find(".e-dbrd-export").attr({value:f.Id})):(e=u.treemapDiv,y=u.isMaximize),f.isNodata){this._applyOrRemoveNoDataAvailable(p,e);return}for(h=0;h<c.length;h++)c[h].labelTemplate=this._id+"_"+f.Id+"_labeltemplate"+h,c[h].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],f,c);nt=f.ColorMapping.MeasureFormat;f.ColorType==="desat"&&(tt=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMinimum,nt),it=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMaximum,nt));e.ejTreeMap({leafItemSettings:{showLabels:!0,labelPosition:f.LabelPosition,labelTemplate:this._id+"_"+f.Id+"_labeltemplate0",labelVisibilityMode:"hideonexceededlength"},palette:o.customTheme.palette,dataSource:l.pagedata,enableResize:!0,weightValuePath:f.WeightValue,colorValuePath:f.ColorValue,showLegend:f.ShowLegend,borderBrush:"green",enableDrillDown:f.EnableDrillDown&&!f.IsLinked,drillDownSelectionColor:o.customTheme.drillDownSelectionColor,drillDownHeaderColor:o.customTheme.drillDownHeaderColor,drillDownHeaderCaption:f.ColumnFormatting[0].ColumnName,selectionMode:"default",highlightBorderThickness:3,highlightBorderBrush:o.customTheme.highlightColor,legendSettings:{dockPosition:f.LegendPosition.toLowerCase(),mode:f.ColorType==="range"?"default":"interactive",iconWidth:rt,iconHeight:rt,leftLabel:f.ColorType==="desat"?tt:null,rightLabel:f.ColorType==="desat"?it:null,height:f.ColorType==="range"?40:20,width:f.ColorType==="range"?700:200},highlightOnSelection:f.IsMasterFilter||f.IsLinked,showTooltip:!0,tooltipTemplate:f.EnableDrillDown&&!f.IsLinked?this._id+"_"+f.Id+"_toolTip0":this._id+"_"+f.Id+"_toolTip",rangeColorMapping:f.ColorType==="range"?f.ColorMapping.ColorMapping:[],desaturationColorMapping:f.ColorType==="desat"?JSON.parse(f.ColorMapping.ColorMapping):[],levels:c,treeMapItemSelected:f.IsMasterFilter&&!y&&!f.EnableDrillDown||f.IsLinked?n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter):null,drillDownItemSelected:f.EnableDrillDown&&!f.IsLinked?n.proxy(this._drillDownTemplate,this,f,y):null,isVirtualRender:f.EnableDrillDown&&c.length===ut,preRender:f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f,y):null});n(".tooltipelement").length>t.DashboardConstants.Zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(o,e,f.Id);!this._applyOrRemoveNoDataAvailable(l.pagedata.length,e)}},_setTreeMapConfigInfo:function(n){n.configInfo.ShowLegend=!t.isNullOrUndefined(n.configInfo.ShowLegend)&&n.configInfo.ShowLegend;n.configInfo.isNodata=!t.isNullOrUndefined(n.configInfo.isNodata)&&n.configInfo.isNodata;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.EnableDrillDown=!t.isNullOrUndefined(n.configInfo.EnableDrillDown)&&n.configInfo.EnableDrillDown;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.ColorMapping=t.isNullOrUndefined(n.configInfo.ColorMapping)?[]:n.configInfo.ColorMapping;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column},drillStartedForTreeMap:function(n,r,u){var s,o,f,e;if(!t.isNullOrUndefined(u)&&(n.ColorType==="range"&&u.type==="preRender"&&this._applyRangeColor(u.model.drillDownLevel,u,u.model.headerLabel,n),s=n.ColorMapping.MeasureFormat,n.ColorType!=="desat"||t.isNullOrUndefined(u.legend)||(u.legend.leftLabel=this.formatLegend(u.minimumValue.colorWeight,s),u.legend.rightLabel=this.formatLegend(u.maximumValue.colorWeight,s),u.model.desaturationColorMapping.rangeMinimum=u.minimumValue.colorWeight,u.model.desaturationColorMapping.rangeMaximum=u.maximumValue.colorWeight),t.isNullOrUndefined(u)||(u.model.tooltipTemplate=this._id+"_"+n.Id+"_toolTip"+Number(u.model.drillDownLevel)),o=0,f=this.dashboardControls.getControlByReport(n.Id),f.drillLevelInfo!==i&&f.drillLevelInfo.length>o))for(e=0;e<f.drillLevelInfo.length;e++)f.drillLevelInfo[e].Key===(r?n.Id+"_Maximize":n.Id)&&u.model.drillDownLevel!==f.drillLevelInfo[e].Values.length&&(f.drillLevels.pop(),f.drillLevelInfo[e].Values.pop(),f.drillLevelInfo[e].Values.length===o&&r?f.drillLevelInfo.pop():f.drillLevelInfo[e].Values.length===o&&(f.drillLevelInfo=[]))},_applyRangeColor:function(n,t,i,r){var e=0,h=1,l=-1,o=2,c=t.maximumValue.colorWeight,u=t.minimumValue.colorWeight,s=(c-u)/3;u=u===e?l:u;c+=h;var a=u=u===l?e:u,v=u+s,y=u+o*s,p=u+s,w=u+o*s,b=c,f=r.ColorMapping.MeasureFormat;t.model.rangeColorMapping[e]={from:a,to:p,legendLabel:this.formatLegend(a,f)+"-"+this.formatLegend(p,f),color:t.model.rangeColorMapping[e].color};t.model.rangeColorMapping[h]={from:v,to:w,legendLabel:this.formatLegend(v,f)+"-"+this.formatLegend(w,f),color:t.model.rangeColorMapping[h].color};t.model.rangeColorMapping[o]={from:y,to:b,legendLabel:this.formatLegend(y,f)+"-"+this.formatLegend(b,f),color:t.model.rangeColorMapping[o].color}},formatLegend:function(n,i){var u=10,f=3,s=5,e=6,h=7,o=9,r=null;if(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),Math.abs(n)>1e15||Math.abs(n)<1e-15)return i.MeasureFormat.toLowerCase()==="number"||i.MeasureFormat.toLowerCase()==="default"?(t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=r.replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=r.replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),r=i.Prefix+n+i.Suffix):r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i),r;if(this.model.dashboardCulture==="en-IN")switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"lakhs":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L%":this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"crores":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C%":this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}else switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}return t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=r.replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=r.replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),i.Prefix+r+i.Suffix},_truncateNumberForTreeMap:function(n,t){var o=10,e=Math.pow(o,3),s=Math.pow(o,5),r=Math.pow(o,6),h=Math.pow(o,7),u=Math.pow(o,9),i=n,f=null;return this.model.dashboardCulture==="en-IN"?i>=e&&i<s||i<=-e&&i>-s?f=this._applyCultureForTreeMap(i/e,t)+"K":i>=s&&i<r||i<=-s&&i>-r?f=this._applyCultureForTreeMap(i/s,t)+"L":i>=r&&i<h||i<=-r&&i>-h?f=this._applyCultureForTreeMap(i/r,t)+"M":i>=h&&i<u||i<=-h&&i>-u?(f=this._applyCultureForTreeMap(i/h,t)+"C",f=this._applyCultureForTreeMap(i/r,t)+"M"):f=i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t):f=i>=e&&i<r||i<=-e&&i>-r?this._applyCultureForTreeMap(i/e,t)+"K":i>=r&&i<u||i<=-r&&i>-u?this._applyCultureForTreeMap(i/r,t)+"M":i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t),f},_applyCultureForTreeMap:function(n,i){var u=0,r;return(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),i.AbbreviationType.toLowerCase()==="auto")?this._adjustZerosForTreeMap(n,i):(r=t.globalize.parseFloat(n.toString(),i.Culture),isNaN(r))?"NAN":(i.MeasureFormat.toLowerCase()==="percentage"&&(r*=100),t.preferredCulture(i.Culture),i.MeasureFormat.toLowerCase()==="currency")?parseInt(r)===u?t.globalize.format(r,"C",i.Culture):t.globalize.format(r,"C"+i.DecimalPoints,i.Culture):i.MeasureFormat.toLowerCase()==="number"&&r<u?this._applyNegativeFormattingForTreeMap(r,i):t.globalize.format(r,"N"+i.DecimalPoints,i.Culture)},_adjustZerosForTreeMap:function(n,i){var e=0,r,u,f,s,o;if(t.preferredCulture(i.Culture),r=n,u="",i.MeasureFormat.toLowerCase()==="percentage"?(r*=100,u="P"+i.DecimalPoints):u=i.MeasureFormat.toLowerCase()==="currency"?"C"+i.DecimalPoints:"N"+i.DecimalPoints,f=u,r===e?(r=e,f=u.replace(i.DecimalPoints,"0")):(r===parseInt(r)||r%i.DecimalPoints===e)&&(f=u.replace(i.DecimalPoints,"0")),i.MeasureFormat.toLowerCase()==="number"&&r<e){s=Math.abs(t.globalize.parseFloat(r.toString(),i.Culture));o=t.globalize.format(s,f,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+o;case"nonegativesignwithbracket":return"("+o+")";case"negativesigninsuffix":return o+"-"}}return t.globalize.format(t.globalize.parseFloat(r.toString(),i.Culture),f,i.Culture)},_applyNegativeFormattingForTreeMap:function(n,i){var u=Math.abs(t.globalize.parseFloat(n.toString(),i.Culture)),r=t.globalize.format(u,"N"+i.DecimalPoints,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+r;case"nonegativesignwithbracket":return"("+r+")";case"negativesigninsuffix":return r+"-";default:return"-"+r}},_treeMapInitialSelection:function(t,i,r){var l,h;if(t.SelectedFilterInfo.length>0){var c=[],u=0,f=0;n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0");n("#"+i.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0});l=i.data("ejTreeMap");l.selectedItems=[];var e=[],o=[],s=[];for(u=0;u<t.SelectedFilterInfo.length;u++){if(t.SelectedFilterInfo[u].DimensionFilterInfo!==null)for(f=0;f<t.SelectedFilterInfo[u].DimensionFilterInfo.Text.length;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]);if(t.SelectedFilterInfo[u].DateFilterInfo!==null)for(f=0;f<t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f])}c.push({Items:e});i.ejTreeMap("selectItemByPath",o.join(":"),s.join(":"),":");h=this._checkMasterData(r);h!==null&&this.masterData.splice(h,1);this.masterData.push({Key:r,Value:c,MultiSelection:!0})}else n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+i.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})},_createTreeMapTemplates:function(n,t,i,r,u){for(var o,f=null,e=t.ColorType==="desat"?JSON.parse(t.ColorMapping.ColorMapping):[],s=0;s<n.length;s++)switch(n[s]){case"label":if(!t.EnableDrillDown){for(f='<script id="'+this._id+"_"+t.Id+'_labeltemplate0" type="application/jsrender"><div>',o=0;o<i.length;o++)f+='<label style="color:'+(t.ColorType==="desat"?'{{:~labelColor(#data["'+t.ColorValue+'"],"'+e.rangeMinimum+'","'+e.rangeMaximum+'", "'+e.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+i[o].groupPath+'"]}}<\/label><br />';f+="<\/div><\/script>  ";this.currentTabContentElement.append(f)}break;case"tooltip":this._generateTreeMapToolTiptemplate(t,i,e,r,u)}},_generateTreeMapToolTiptemplate:function(i,r,u,f){var g=1,k=".",d=",",s=i.ColumnFormatting.slice(),o=[],e;if(i.WeightValue!==null){for(e=0,e=s.length-g;e>=0;e--)i.WeightValue.toLowerCase()===s[e].fieldName.toLowerCase()&&(o.push(s[e]),s.splice(e)),i.WeightValue!==i.ColorValue&&typeof s[e]!="undefined"&&i.ColorValue.toLowerCase()===s[e].fieldName.toLowerCase()&&(o.push(s[e]),s.splice(e));var v=[],w=[],b=null,c=null,p=null;for(e=0;e<o.length;e++)c=n("<tr>"),p=n("<td>").html(o[e].ColumnName).addClass("e-tool-value"),c.append(p,n("<td>").html(":").addClass("e-tool-value")),v.push(c.clone()),w.push(c.clone()),t.isNullOrUndefined(o[e].DecimalSeparator)||t.isNullOrUndefined(o[e].GroupSeparator)?(w[e].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+o[e].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+o[e].FormatType+'","'+o[e].Format+'","'+o[e].Culture+'","'+o[e].Unit+'","'+o[e].NegativeValueFormat+'","'+k+'","'+k+'","'+d+'","'+d+'","'+o[e].Prefix+'","'+o[e].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),v[e].append(n("<td>").html('{{:~MapToolTipFormat("'+o[e].FormatType+'","'+o[e].Format+'","'+k+'","'+k+'","'+d+'","'+d+'","'+o[e].Culture+'","'+o[e].Unit+'","'+o[e].NegativeValueFormat+'","'+o[e].Prefix+'","'+o[e].Suffix+'",#data["'+o[e].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone())):(w[e].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+o[e].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+o[e].FormatType+'","'+o[e].Format+'","'+o[e].Culture+'","'+o[e].Unit+'","'+o[e].NegativeValueFormat+'","'+o[e].DecimalSeparator.CurrentValue+'","'+o[e].DecimalSeparator.AliasValue+'","'+o[e].GroupSeparator.CurrentValue+'","'+o[e].GroupSeparator.AliasValue+'","'+o[e].Prefix+'","'+o[e].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),v[e].append(n("<td>").html('{{:~MapToolTipFormat("'+o[e].FormatType+'","'+o[e].Format+'","'+o[e].DecimalSeparator.CurrentValue+'","'+o[e].DecimalSeparator.AliasValue+'","'+o[e].GroupSeparator.CurrentValue+'","'+o[e].GroupSeparator.AliasValue+'","'+o[e].Culture+'","'+o[e].Unit+'","'+o[e].NegativeValueFormat+'","'+o[e].Prefix+'","'+o[e].Suffix+'",#data["'+o[e].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()));var y=null,a=null,h=0,l=0;if(i.EnableDrillDown&&!i.IsLinked)for(e=0;e<r.length;e++){for(y=n("<div>").attr({style:"white-space: nowrap;"}),a=n("<table>").addClass("e-tree-tool-table"),h=0;h<=e;h++)c=n("<tr>"),p=n("<td>").html(s[h].ColumnName).addClass("e-tool-value"),c.append(p,n("<td>").html(":").addClass("e-tool-value")),e===r.length?t.isNullOrUndefined(s[h].displayName)?c.append(n("<td>").html("{{:(#data['"+s[h].fieldName+"'])}}").addClass("e-tool-value")):c.append(n("<td>").html("{{:(#data['"+s[h].displayName+"'])}}").addClass("e-tool-value")):h===s.length?c.append(n("<td>").html("{{:label}}").addClass("e-tool-value")):c.append(n("<td>").html("{{:~GetRowName(data,'"+s[h].fieldName+"')}}").addClass("e-tool-value")),a.append(c);if(e===s.length)for(l=0;l<v.length;l++)a.append(v[l].clone());else for(l=0;l<w.length;l++)a.append(w[l].clone());if(y.append(a),t.isNullOrUndefined(f)?this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+e+'" type="application/jsrender">'+y[0].outerHTML+"<\/script>"):this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+'" type="application/jsrender">'+y[0].outerHTML+"<\/script>"),b=t.isNullOrUndefined(f)?'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+e+'" type="application/jsrender">':'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+f.model.drillDownLevel+'" type="application/jsrender">',e===s.length-g)for(h=0;h<s.length;h++)b+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[h].groupPath+'"]}}<\/label><br />';else for(l=0;l<=e;l++)b+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[l].groupPath+'"]}}<\/label><br />';b+="<\/script>  ";this.currentTabContentElement.append(b)}else{for(y=n("<div>").attr({style:"white-space: nowrap;"}),a=n("<table>").addClass("e-tree-tool-table"),y.append(a),h=0;h<s.length;h++)c=n("<tr>"),p=n("<td>").html(s[h].ColumnName).addClass("e-tool-value"),c.append(p,n("<td>").html(":").addClass("e-tool-value")),t.isNullOrUndefined(s[h].displayName)?(c.append(n("<td>").html("{{:#data['"+s[h].fieldName+"']}}").addClass("e-tool-value")),a.append(c)):(c.append(n("<td>").html("{{:#data['"+s[h].displayName+"']}}").addClass("e-tool-value")),a.append(c));for(l=0;l<v.length;l++)a.append(v[l]);this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+'_toolTip" type="application/jsrender">'+y[0].outerHTML+"<\/script>")}}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var r=0;r<n.drillLevelInfo.length;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var u=0;u<n.drillLevelInfo.length;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_drillDownTemplate:function(t,r,u){var f=this.dashboardControls.getControlByReport(t.Id),o,c;if(t.EnableDrillDown){var l=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+t.Id),e=[],s=!1,h=[];if(n.each(u.prevLevel,function(n,t){h.push({Key:n,Value:t})}),this.levels.push(u.prevLevel),t.rowCount===u.model.drillDownLevel&&t.IsMasterFilter&&this._loadTreeMapSlaves(t,t.IsLinked?t.ControlLinkData:null,t.IsMasterFilter,u,f),t.rowCount===u.model.drillDownLevel){u.data.cancelDrilldown=!0;return}if(f.drillLevelInfo!==i&&f.drillLevelInfo.length>0)for(o=0;o<f.drillLevelInfo.length;o++)f.drillLevelInfo[o].Key===(r?t.Id+"_Maximize":t.Id)&&(s=!0);s&&(e=this._getValuesFromDrillLevelInfo(f,t.Id,r));e.push(h[1].Value);s?this._updateValuesInDrillLevelInfo(f,t.Id,e,r):f.drillLevelInfo.push({Key:r?t.Id+"_Maximize":t.Id,Values:e});this._createControlWaitingIndicator(l.parents(".e-dbrd-control-container"),!0);c=JSON.stringify({action:"GetInnerLevelDrill",dashboardPath:this.dashboardPath(),data:e,controlId:t.Id,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,customLanguagePath:this.model.localeSettings.resourcePath,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(JSON.parse(JSON.stringify(this.dashboardParameters)))});this.doAjaxPost({type:"POST",url:this.serviceUrl()+"/GetDrillControlData",data:c,onSuccess:n.proxy(this._loadDrilledTreeMap,this,u,t,r,h[1].Value)})}this.dashboardControls.updateCurrentReport(f);u.model.tooltipTemplate=this._id+"_"+t.Id+"_toolTip"+u.model.drillDownLevel},_loadDrilledTreeMap:function(t,i,r,u,f,e){for(var l=[],b=[],h=this.dashboardControls.getControlByReport(i.Id),c=[],v=15,o=[],a=null,s=0,y,p,w,s=0;s<e.d.length-1;s++)b.push({Key:e.d[s].Key,Value:n.parseJSON(e.d[s].Value)}),e.d[s].Key==="Data"&&l.push(n.parseJSON(e.d[s].Value)),e.d[s].Key==="DynamicData"&&(c=n.parseJSON(e.d[s].Value).SerializeLevelInfo),e.d[s].Key==="ConfigInfo"&&(o=n.parseJSON(e.d[s].Value));h.drillLevelData.push(l[0]);h.drillLevels.push({Key:r?o.Id+"_Maximize":o.Id,Values:c[0]});h.columnFormating.push(o.ColumnFormatting[0]);h.columnFormating.push(o.ColumnFormatting[1]);y={columnCount:0,template:"",dockPosition:o.LegendPosition.toLowerCase(),mode:o.ColorType==="range"?"default":"interactive",iconWidth:v,iconHeight:v,height:o.ColorType==="range"?40:20,width:o.ColorType==="range"?700:200};a=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+o.Id);p=a.ejTreeMap("instance");c[0].labelTemplate=this._id+"_"+o.Id+"_labeltemplate"+t.model.drillDownLevel;c[0].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],o,c,t,h);p.runTimeSubitems(l[0],u,c[0],y);this._setLoadedAttr(o.Id);w=this;setTimeout(function(){w._destroyAllControlWaitingIndicator()},500);n(".tooltipelement").length>this.zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(h,a,o.Id);!this._applyOrRemoveNoDataAvailable(l[0].length,a)},_loadTreeMapSlaves:function(i,r,u,f){var v=0,w=-1,g=1,d,b,y,l,rt,a,ut,p;if(this.controlRelations.length!==v||!t.isNullOrUndefined(r)){var nt=0,k=null,tt=null,o=0,h=0,e=[],it=[],s=0,c=this.dashboardControls.getControlByReport(i.Id);if(!t.isNullOrUndefined(f)){for(d=i.EnableDrillDown?this.levels:f.selectedItems,o=0;o<d.length;o++){b=d[o];for(h in b)b.hasOwnProperty(h)&&e.push({Column:this._getColumnName(h.toLowerCase(),c.columnFormating),Value:b[h]});it.push({Items:e})}if(c.SelectedFilterInfo=[],e.length>v)for(o=0;o<e.length;o++)if(s=this._checkFilterInfo(e[o].Column,c.SelectedFilterInfo),y=i.DateTimeColumns,t.isNullOrUndefined(s)||s===w){if(l=new selectedFilterInfo,t.isNullOrUndefined(y)||y.indexOf(e[o].Column.toUpperCase())===w)l.DimensionFilterInfo.Text.push(e[o].Value);else for(l.DateFilterInfo.DateFilterList.push(e[o].Value),h=0;h<e.length;h++)if(e[h].Column===e[o].Column+"_displayvalue"){l.DateFilterInfo.DisplayDateFilterList.push(e[h].Value);break}l.DimensionFilterInfo.Conditions=4;l.UniqueColumnName=e[o].Column;l.ReportName=c.reportName;c.SelectedFilterInfo.push(l)}else{if(t.isNullOrUndefined(y)||y.indexOf(e[o].Column.toUpperCase())===w)c.SelectedFilterInfo[s].DimensionFilterInfo.Text.push(e[o].Value);else for(c.SelectedFilterInfo[s].DateFilterInfo.DateFilterList.push(e[o].Value),h=0;h<e.length;h++)if(e[h].Column===e[o].Column+"_displayvalue"){c.SelectedFilterInfo[s].DateFilterInfo.DisplayDateFilterList.push(e[h].Value);break}c.SelectedFilterInfo[s].DimensionFilterInfo.Conditions="Include";c.SelectedFilterInfo[s].ReportName=c.reportName}if(rt=n("#"+this._id+t.DashboardConstants.Widget+i.Id).data("ejTreeMap"),!t.isNullOrUndefined(r)){this._controlNavigate(r,it,rt);return}}for(o=0;o<this.controlRelations.length;o++)if(this.controlRelations[o].Master.lastIndexOf("_"+i.Id)!==w){if(k=this.controlRelations[o].Slaves,k.length===v){tt=this._checkFilterOverviewData(i.Id);this._addFilterDataToTitle(tt);return}if(a=this._checkMasterData(i.Id),a!==null){for(s=0;s<this.masterData[a].Value.length;s++)this.masterData[a].Value.length===e.length&&this.masterData[a].Value[s].Column===e[s].Column&&this.masterData[a].Value[s].value===e[s].value&&(nt+=g);if(nt===this.masterData[a].Value.length)return;this.masterData.splice(a,g)}this.target=[];ut={master:i.Id,masterData:this.masterData,slaves:k,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(ut);break}t.isNullOrUndefined(f)||(p=this._id+t.DashboardConstants.Widget+i.Id,f.selectedItems.length>v||this.levels.length>v?(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+p+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+p).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})))}},_getColumnName:function(n,i){for(var r=0;r<i.length;r++){if(n===i[r].columnName.toLowerCase().replace("&",""))return i[r].columnName.toLowerCase();if(!t.isNullOrUndefined(i[r].displayName)&&n===i[r].displayName.toLowerCase().replace("&",""))return i[r].displayName.toLowerCase()}return""},_overrideTreemapDrillHeader:function(){var n=1;t.datavisualization.TreeMap.prototype.getDrillDownHeader=function(t){var r="",i;if(t.length===n)return t[0]=this.model.drillDownHeaderCaption,t[0];for(i=0;i<t.length;i++)r+=t[i],i!==t.length-n&&(r+=".");return r}}}}(jQuery,Syncfusion);$.views.helpers({TreeMapFirstLevelToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var w=0,y=[],p,b;for(ej.isNullOrUndefined(n.length)?y.push(n):y=n,p=0;p<y.length;p++)b=y[p][t],w+=b;return $.views.helpers.MapToolTipFormat(i,r,o,s,h,c,u,f,e,l,a,w,v)},GetRowName:function(n,t){var r=0,i=[];return ej.isNullOrUndefined(n.length)&&(i.push(n),i!==null&&i.length>r)?i[0][t]:n!==null&&n.length>r?n[0][t]:""},labelColor:function(n,t,i){var r=Number(t),u=Number(i);return n<(u-r)/3+r?"black":"white"}}),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgets={_renderWidget:function(i,r,u){var w,b,v,o,s,tt,y,p;try{var e=null,h=i.getCurrentPageData(),f=i.configInfo,c=0,g=i.configInfo.ColumnUrlDetails.length>c?i.configInfo.ColumnUrlDetails:t.isNullOrUndefined(i.configInfo.ControlLinkData)?"":i.configInfo.ControlLinkData.Path,it=!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.isMaximize)&&r.isMaximize,a=this._id+this.widget+f.Id+"_iframe"+(it?"_maximized":"");if(t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Div)?(w=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),w.attr({"data-controltype":"CustomWidget"}),e=w.find(".e-dbrd-control"),e.attr({id:this._id+this.widget+f.Id,"data-controlId":f.Id}).addClass("dashboardCustomWidget")):e=r.Div,!(i.configInfo.BoundColumns==="{}")&&!this._applyOrRemoveNoDataAvailable(h.pagedata.length,e))return;if(i.configInfo.EnableIFrame){if(n(document.getElementById(a)).length>this.zero){b=document.getElementById(a).contentWindow;t.isNullOrUndefined(u)?b.postMessage(JSON.stringify({action:"update",type:"refresh",data:h.pagedata}),"*"):u.type==="resize"&&(u.action="update",b.postMessage(JSON.stringify(u),"*"));return}var nt=n("<iframe>").attr({id:a,frameBorder:"0",marginwidth:"0",marginheight:"0",scrolling:"no"}).css({width:"100%",height:"100%"}),l="",k="",d={JS:[this.serviceUrl()+"//GetCustomWidgetCoreFiles/customwidgetcore.min.js"]};for(v=0;v<d.JS.length;v++)l=l+" <script src='"+d.JS[v]+"' type='text/javascript'> <\/script> ";if(i.staticFiles.JS!==null)for(o=0;o<i.staticFiles.JS.length;o++)this._validURL(i.staticFiles.JS[o])||(i.staticFiles.JS[o]=this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.configInfo.ExtractedPath+"/"+i.staticFiles.JS[o])),l=l+" <script src='"+i.staticFiles.JS[o]+"' type='text/javascript'> <\/script> ";if(i.staticFiles.CSS!==null)for(s=0;s<i.staticFiles.CSS.length;s++)this._validURL(i.staticFiles.CSS[s])||(i.staticFiles.CSS[s]=this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.configInfo.ExtractedPath+"/"+i.staticFiles.CSS[s])),k=k+' <link rel="stylesheet" href="'+i.staticFiles.CSS[s]+'" type="text/css" > <\/link>';var rt={coreDependencies:d,customThemeSettings:jQuery.isEmptyObject(i.customTheme)?null:i.customTheme,dependencies:i.staticFiles,guid:f.Guid,dataSource:h.pagedata,boundColumns:JSON.parse(i.configInfo.BoundColumns),enableLinking:i.configInfo.ColumnUrlDetails.length>c||!t.isNullOrUndefined(i.configInfo.ControlLinkData),linkSettings:{enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>c,urlPattern:g},isDataBound:!(i.configInfo.BoundColumns==="{}"),initMode:this.model._dashboardData.isExportImage?"export":"runtime",properties:this._parseCustomProperties(f.Properties),dashboardId:this._dashboardId,widgetId:f.Id,baseURL:this.serviceUrl()+"//GetScriptsForCustomWidget/"+(f.ExtractedPath+"/")},ut=JSON.stringify({action:"init",data:rt});nt.src="data:text/html;charset=utf-8,"+encodeURI("<html><head><\/head><body><\/body><\/html>");e.append(nt);tt="<html><head> <style> html,body { margin:0px; padding:0px; width:100%; height:100%; border : 0px solid;} <\/style> "+l+" "+k+" <script> window.onload = function (e) { ej.dashboard.createWidgetWithInIFrame('"+ut+"'); }; <\/script>  <\/head> <body> <div id ='container' style = 'width: 100%; height: 100%;' > <\/div><\/body><\/html>";y=document.getElementById(a).contentWindow;y.document.open();y.document.write(tt);y.document.close()}else{if(!t.isNullOrUndefined(t.dashboard.getWidgetInstance(e[0]))){p=t.dashboard.getWidgetInstance(e[0]);t.isNullOrUndefined(u)?(p.model.dataSource=h.pagedata,p.update({type:"refresh",data:h.pagedata})):u.type==="resize"&&p.update(u);return}t.dashboard.createWidgetInstance(f.Guid,e[0],{dataSource:h.pagedata,isIFrameEnable:!1,customThemeSettings:jQuery.isEmptyObject(i.customTheme)?null:JSON.stringify(i.customTheme),enableLinking:i.configInfo.ColumnUrlDetails.length>c||!t.isNullOrUndefined(i.configInfo.ControlLinkData),linkSettings:{enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>c,urlPattern:g},boundColumns:JSON.parse(i.configInfo.BoundColumns),isDataBound:!(i.configInfo.BoundColumns==="{}"),initMode:this.model._dashboardData.isExportImage?"export":"runtime",properties:this._parseCustomProperties(f.Properties),dashboardId:this._dashboardId,widgetId:f.Id,baseURL:this.serviceUrl()+"//GetScriptsForCustomWidget/"+(f.ExtractedPath+"/")})}}catch(ft){return}},_receiveIFramePostMessage:function(i){try{var r=JSON.parse(i.data),u=n("#"+r.dashboardId).data("ejDashboardViewer");t.isNullOrUndefined(r.action)||r.action!=="interaction"||u._loadWidgetSlaves(r.widgetId,r.selectedData);t.isNullOrUndefined(r.action)||r.action!=="linking"||u._navigationThroughLinking(r.selectedData,r.url,r.widgetId)}catch(f){return}},_navigationThroughLinking:function(n,i,r){var s=this.dashboardControls.getControlByReport(r),c=s.configInfo.ControlLinkData,u,e,o,h,f;if(t.isNullOrUndefined(c)){for(u=i,e=0;e<s.configInfo.ColumnUrlDetails.length;e++)for(o=0;o<n[0].Items.length;o++)n[0].Items[o].Column===s.configInfo.ColumnUrlDetails[e].UniqueColumnName&&(u=u.replaceAll("{{:"+s.configInfo.ColumnUrlDetails[e].CaptionName+"}}",n[0].Items[o].Value));h=u.match(/~currentdomain~ *?/gi);h!==null&&h.length!==t.DashboardConstants.Zero&&(u=u.replace(h[0],encodeURI(location.protocol+"//"+location.host)));u.match(/^[a-zA-Z]+:\/\//)||(u="http://"+u);f={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:null};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:f});this._trigger("beforeNavigate",{data:f});f.url===""||t.isNullOrUndefined(f.url)||t.DashboardConstants.Window.open(f.url,f.target);f={url:i,target:t.dashboardViewer.navigationTargets.Blank,source:null};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:f});this._trigger("afterNavigate",{data:f})}else t.isNullOrUndefined(i)||(c.Path=i),this._controlNavigate(c,n,null)},_loadWidgetSlaves:function(t,i){var u=0,r=0,e=this.dashboardControls.getControlByReport(t),f=null;for(e.SelectedFilterInfo=[],i!==null&&i.length>u&&(e.SelectedFilterInfo=i),r=0;r<this.controlRelations.length;r++)if(this.controlRelations[r].Master.lastIndexOf("_"+t)+t.length===this.controlRelations[r].Master.length-1){if(f=this.controlRelations[r].Slaves,f.length===u)return;this._makeSlaveDataRequest({master:t,slaves:f,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}i!==null&&i.length>u?(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_getViewData:function(n){var t=this.dashboardControls.getControlByReport(n)},_parseCustomProperties:function(n){for(var i={},t=0;t<n.length;t++)try{i[n[t].PropertyName]=JSON.parse(n[t].PropertyValue)}catch(r){i[n[t].PropertyName]=n[t].PropertyValue}return i}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgetscore={_renderWidgetControl:function(i){var a=null,c=0,e=0,v=3,p=i.widgetType,f=i.dynamicData,r=i.control,k=i.staticFiles,o=i.controldata,u=f.SelectedValues,y=100,w=50,l,s,b,h;switch(p){case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;this._updateVirtualScrollSettings(i,r,y);t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=f.Data;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;r.reportName=o.pagedata.Id;this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.scrollSetting.controlPerPage=200;r.configInfo.AllowPaging?r.totalCount=f.totalCount:this._updateVirtualScrollSettings(i,r,w);r.maxMinData=f.MaxminData;r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u;this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=f.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;t.isNullOrUndefined(f.SelectedCells)||(r.SelectedFilterInfo=f.SelectedCells);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.Chart:if(r.controlType=p,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(e=0;e<r.configInfo.Properties.SeriesColorPalette.length;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(f.SeriesList)||(r.SeriesList=f.SeriesList),this._updateVirtualScrollSettings(i,r,w),r.scrollSetting.controlPerPage=100,!t.isNullOrUndefined(f.ComparisonChartProp))for(l=f.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},s=0;s<l.length;s++)r.ComparisonChartProp.Type.push(l[s].Type),r.ComparisonChartProp.Field.push(l[s].Field);t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(v),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(v)),!r.data[0].isError)for(c=0;c<r.data[0].pagedata.length;c++)a=JSON.parse(r.data[0].pagedata[c]),a.StatusColor!=="undefined"&&(r.customTheme.statusData=a.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;this._updateVirtualScrollSettings(i,r,y);r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;r.SelectedFilterInfo=u;this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.BubbleMap:r.controlType=t.dashboardViewer.Controls.BubbleMap;r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(v));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);o.rangeColor=f.RangeAndColor;o.legendPrefx=f.LegendPrefx;o.legendPostfix=f.LegendPostfix;this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorType==="desat"&&(b=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=b.color),r.configInfo.ColorType==="range")for(h=0;h<r.configInfo.ColorMapping.ColorMapping.length;h++)r.customTheme.rangeColorMap[h]=r.configInfo.ColorMapping.ColorMapping[h].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.currentPage=1;r.drillLevels=f.SerializeLevelInfo;t.isNullOrUndefined(f.SelectedValue)||(r.SelectedFilterInfo=f.SelectedValue);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;this._updateVirtualScrollSettings(i,r,y);u=f.SelectedValue;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=f.SelectedValue);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Label:r.controlType=t.dashboardViewer.Controls.Label;r.reportName=o.pagedata.Id;this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.FilterComboBox:r.controlType=t.dashboardViewer.Controls.FilterComboBox;r.scrollSetting.controlPerPage=100;u!==null&&(r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;r.staticFiles=k;this.dashboardControls.addControl(r)}},_updateVirtualScrollSettings:function(n,i,r){var u=0;Array.isArray(n.controldata.pagedata)?u=n.controldata.pagedata.length:typeof n.controldata.pagedata=="string"?u=0:typeof n.controldata.pagedata=="object"&&(n.widgetType===t.dashboardViewer.Controls.ComparisonChart||n.widgetType===t.dashboardViewer.Controls.Chart)&&(u=t.isNullOrUndefined(JSON.parse(Object.values(n.controldata.pagedata)[0]).points)?t.DashboardConstants.Zero:JSON.parse(Object.values(n.controldata.pagedata)[0]).points.length);u<r?i.totalCount+=u:i.totalCount=u+r},_renderControlsForStarting:function(n){for(var r=null,i=0;i<n.length;i++)switch(n[i].controlType){case t.dashboardViewer.Controls.Card:this._callFunction(this._renderCards,n[i],null,!0);break;case t.dashboardViewer.Controls.CheckBox:this._callFunction(this._renderCheckBoxandRadioButton,n[i],null,!0);break;case t.dashboardViewer.Controls.Gauge:this._callFunction(this._renderGauges,n[i],null,!0);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:this._callFunction(this._renderChart,n[i],null,!0);break;case t.dashboardViewer.Controls.ComparisonChart:this._callFunction(this._renderComparisonChart,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeNavigator:this._callFunction(this._renderRangeNavigator,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeSlider:this._callFunction(this._renderRangeSlider,n[i],null,!0);break;case t.dashboardViewer.Controls.DatePicker:this._callFunction(this._renderDatePicker,n[i],null,!0);break;case t.dashboardViewer.Controls.TreeMap:this._callFunction(this._renderTreeMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ListBox:this._callFunction(this._renderListBox,n[i],null,!0);break;case t.dashboardViewer.Controls.FilterComboBox:n[i].configInfo.ShowAsListBox?this._callFunction(this._renderListBox,n[i],null,!0):this._callFunction(this._renderFDropDownList,n[i],null,!0);break;case t.dashboardViewer.Controls.Grid:this._callFunction(this._renderGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.PivotGrid:this._callFunction(this._renderPivotGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.BubbleMap:this._callFunction(this._renderBubbleMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ChoroplethMap:this._callFunction(this._renderChoroplethMap,n[i],null,!0);break;case t.dashboardViewer.Controls.Image:this._callFunction(this._renderImage,n[i],null,!0);break;case t.dashboardViewer.Controls.Label:this._callFunction(this._renderLabel,n[i],null,!0);break;case"parameterColumnData":r=n[i].data[0].pagedata;t.isNullOrUndefined(n[i].controlRelations)||n[i].controlRelations.length===t.DashboardConstants.Zero||(this.controlRelations=n[i].controlRelations);t.isNullOrUndefined(n[i].appliedFilterData)||n[i].appliedFilterData.length===t.DashboardConstants.Zero||(this.appliedFilterData=n[i].appliedFilterData);this._callFunction(this._updateParameterColumns,n[i].data[0].pagedata);break;case"Title":this.currentTabContentElement.find(".e-dbrd-banner-title").append("<p>"+n[i].reportName+"<\/p>");break;case"NoData":this._callFunction(this._WidgetNotConfigured,n[i]);break;case"CustomWidget":this._callFunction(this._initializeCustomWidgets,n[i],null,!0)}this._callFunction(this._updateParameterColumns,r)},_processWidgetData:function(n,i){switch(n.controlType){case t.dashboardViewer.Controls.Card:this._renderCards(n,{id:"",cardDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.CheckBox:this._renderCheckBoxandRadioButton(n);break;case t.dashboardViewer.Controls.Gauge:this._renderGauges(n,{id:"",gaugeDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.TreeMap:this._renderTreeMap(n,{id:"",treemapDiv:i,isMaximize:!1})}},_removeAppliedFilter:function(i,r,u){var a,p,w,l,b,k,h;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);a=this._checkMasterData(this.CurrentMaster);a!==null&&this.masterData.splice(a,t.DashboardConstants.One);var o=[],e=0,f=null,s=!1;switch(r){case"Grid":n("#"+i).ejGrid("clearSelection");this._loadGridSlaves(this.CurrentMaster,null);break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");f=n("#"+i+"_div").data("ejPivotGrid");f.model.selectedCells=null;this._loadPivotGridSlaves(this.CurrentMaster,null);break;case"Chart":case"ProportionChart":case"DrillDownChart":if(this._loadChartSlaves(null,this.CurrentMaster,null,null,!0,null),o=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&o.length>t.DashboardConstants.Zero)for(e=0;e<o.length;e++)f=o.eq(e).data("ejChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"ComparisonChart":if(this._loadComparisonChartSlaves(null,this.CurrentMaster,null,null,!1,null),o=n("#"+i+" .e-datavisualization-chart"),o.length>t.DashboardConstants.Zero)for(e=0;e<o.length;e++)f=o.eq(e).data("ejChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");this._loadGaugeSlaves(u,this.CurrentMaster,!1,null,null);break;case"Linear":this._loadGaugeSlaves(null,this.CurrentMaster);break;case"RangeNavigator":this.flag=!1;f=n("#"+i).data("ejRangeNavigator");f.model.zoomPosition="0";f.model.zoomFactor="1";f.model.selectedRangeSettings={start:"",end:""};f.renderNavigator();this.flag=!0;this._loadRangeNaviSlaves(this.CurrentMaster,null,null,null);break;case"BubbleMap":this._loadBubbleMapSlaves(this.CurrentMaster,null,!1,!1,null,null,null);this._clearMapSelectedShapes(i);break;case"ChoroplethMap":this._loadChoroplethMapSlaves(this.CurrentMaster,null,!1,!1,null,null,null);this._clearMapSelectedShapes(i);break;case"TreeMap":var c=n("#"+i).data("ejTreeMap"),v=n("#"+i).attr("data-controlid"),y=this.dashboardControls.getControlByReport(v);y.configInfo.EnableDrillDown&&y.configInfo.ColorType==="range"&&this._applyRangeColor(0,c,c.model.drillDownHeaderCaption,y.configInfo);c.selectedItems=[];c.model.tooltipTemplate=c.model.enableDrillDown?this._id+"_"+v+"_toolTip0":this._id+"_"+v+"_toolTip";this._loadTreeMapSlaves({Id:this.CurrentMaster},null);n("#"+i).ejTreeMap("refresh");break;case"Card":n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});t.isNullOrUndefined(u)||(u.name="");this._LoadCardSlaves(this.CurrentMaster,"",null,!1,null,null,u);break;case"CheckBox":if(p=!n("#"+i).hasClass("e-dbrd-control-checkbox"),p)w=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+t.DashboardConstants.All+"]"),w.length!==t.DashboardConstants.Zero&&w.ejRadioButton("instance").option("checked",!0);else if(l=n("#"+i+" .e-checkbox.e-js.e-input"),l.length!==t.DashboardConstants.Zero)for(e=0;e<l.length;e++)l.eq(e).ejCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,p);break;case"RangeSlider":f=n("#"+i).data("ejSlider");t.isNullOrUndefined(f._isDate)?(f.option("values",[f.model.minValue,f.model.maxValue]),f.option("value",f.model.maxValue)):f.model.sliderType==="range"?f.option("dateValue",[f.model.minDate,f.model.maxDate]):f.option("dateValue",f.model.maxDate);f.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[0]:this._applyFormattingForSlider(f.model.formatColumn,f.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":f=n("#"+i).ejDashboardDatePicker("instance");f&&(f.model.value=null,f.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":if(f=n("#"+i).data("ejDropDownList"),b=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo,t.isNullOrUndefined(f))f=n("#"+i+"_lstbx").data("ejListBox"),s=!1,t.isNullOrUndefined(f)||(s=f.model.showCheckbox,s?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(f.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(this.CurrentMaster,i+"_lstbx","",s,null);else{for(k=f.model.change,f.model.change=null,f._isFilterCleared=!0,f._totalSelectedItems=[],b.SelectFirstItem=!1,h=0;h<f.model.query._params.length;h++)switch(f.model.query._params[h].key){case"masterData":f.model.query._params[h].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":f.model.query._params[h].value=JSON.stringify([]);break;case"searchSelectedCount":f.model.query._params[h].value=0}f.model.showCheckbox?f.option("checkAll",!1):f.unselectItemsByIndices(f.model.selectedItems);f.clearText();f.option("watermarkText",t.DashboardConstants.All);this._onGlobalFilterChange(!1,f.model.showCheckbox,!0,this.CurrentMaster,null);f.model.change=k}break;case"ListBox":f=n("#"+i+"_lstbx").data("ejListBox");s=!1;t.isNullOrUndefined(f)||(s=f.model.showCheckbox,s?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):f.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",s,null);break;case"CustomWidget":this._loadWidgetSlaves(this.CurrentMaster,null)}},_removeWidgetSelection:function(i,r){var y=this._checkMasterData(this.CurrentMaster),p,v,c,w,b,o;y!==null&&this.masterData.splice(y,t.DashboardConstants.One);var e=[],f=0,u=null,s=!1;switch(r){case"Grid":n("#"+i).ejGrid("clearSelection");break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");u=n("#"+i+"_div").data("ejPivotGrid");u.model.selectedCells=null;break;case"Chart":case"ProportionChart":case"DrillDownChart":if(e=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&e.length>t.DashboardConstants.Zero)for(f=0;f<e.length;f++)u=e.eq(f).data("ejChart"),u.model.selectedDataPointIndexes=[],u.redraw();else u=n("#"+i).data("ejChart"),u.model.selectedDataPointIndexes=[],u.redraw();break;case"ComparisonChart":if(e=n("#"+i+" .e-datavisualization-chart"),e.length>t.DashboardConstants.Zero)for(f=0;f<e.length;f++)u=e.eq(f).data("ejChart"),u.model.selectedDataPointIndexes=[],u.redraw();else u=n("#"+i).data("ejChart"),u.model.selectedDataPointIndexes=[],u.redraw();break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");break;case"RangeNavigator":this.flag=!1;u=n("#"+i).data("ejRangeNavigator");u.model.zoomPosition="0";u.model.zoomFactor="1";u.model.selectedRangeSettings={start:"",end:""};u.renderNavigator();this.flag=!0;break;case"BubbleMap":this._clearMapSelectedShapes(i);break;case"ChoroplethMap":this._clearMapSelectedShapes(i);break;case"TreeMap":var h=n("#"+i).data("ejTreeMap"),l=n("#"+i).attr("data-controlid"),a=this.dashboardControls.getControlByReport(l);a.configInfo.EnableDrillDown&&a.configInfo.ColorType==="range"&&this._applyRangeColor(0,h,h.model.drillDownHeaderCaption,a.configInfo);h.selectedItems=[];h.model.tooltipTemplate=h.model.enableDrillDown?this._id+"_"+l+"_toolTip0":this._id+"_"+l+"_toolTip";n("#"+i).ejTreeMap("refresh");break;case"Card":n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});break;case"CheckBox":if(p=!n("#"+i).hasClass("e-dbrd-control-checkbox"),p)v=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+t.DashboardConstants.All+"]"),v.length!==t.DashboardConstants.Zero&&v.ejRadioButton("instance").option("checked",!0);else if(c=n("#"+i+" .e-checkbox.e-js.e-input"),c.length!==t.DashboardConstants.Zero)for(f=0;f<c.length;f++)c.eq(f).ejCheckBox("instance").option("checked",!0);break;case"RangeSlider":u=n("#"+i).data("ejSlider");t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[0]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));break;case"DatePicker":u=n("#"+i).ejDashboardDatePicker("instance");u&&(u.model.value=null,u.redraw());break;case"FilterComboBox":if(u=n("#"+i).data("ejDropDownList"),w=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo,t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejListBox"),s=!1,t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0)));else{for(b=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],w.SelectFirstItem=!1,o=0;o<u.model.query._params.length;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.clearText();u.option("watermarkText",t.DashboardConstants.All);u.model.change=b}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejListBox");s=!1;t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll())}},_refreshWidgetData:function(i,r,u){var a=3,v=null,f={},h=200,e,c,o,l,y,s;switch(i){case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderListBox,r);break;case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:f=this.dashboardControls.getControlByReport(r.reportName);r.configInfo.Row=f.configInfo.Row;r.configInfo.Column=f.configInfo.Column;r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderCheckBoxandRadioButton,r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=u.Data;this._callFunction(this._renderDatePicker,r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.totalCount=r.configInfo.AllowPaging?u.totalCount:this._updateWidgetTotalCount(r,50);r.maxMinData=u.MaxminData;this._callFunction(this._renderGrid,r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=u.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;this._callFunction(this._renderPivotGrid,r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(r.controlType=i,f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo=f.configInfo,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(e=0;e<r.configInfo.Properties.SeriesColorPalette.length;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(u.SeriesList)||(r.SeriesList=u.SeriesList),Array.isArray(r.data[0].pagedata)?r.totalCount=r.data[0].pagedata.length:typeof r.data[0].pagedata=="string"?r.totalCount=0:typeof r.data[0].pagedata=="object"&&(i===t.dashboardViewer.Controls.ComparisonChart||i===t.dashboardViewer.Controls.Chart)&&(r.totalCount=t.isNullOrUndefined(JSON.parse(Object.values(r.data[0].pagedata)[0]).points)?t.DashboardConstants.Zero:JSON.parse(Object.values(r.data[0].pagedata)[0]).points.length),!t.isNullOrUndefined(u.ComparisonChartProp))for(c=u.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},o=0;o<c.length;o++)r.ComparisonChartProp.Type.push(c[o].Type),r.ComparisonChartProp.Field.push(c[o].Field);this.dashboardControls.updateCurrentReport(r);i===t.dashboardViewer.Controls.ComparisonChart?this._callFunction(this._renderComparisonChart,r):this._callFunction(this._renderChart,r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo.ColumnInfo=f.configInfo.ColumnInfo,r.configInfo.Row=f.configInfo.Row,r.configInfo.Column=f.configInfo.Column,t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(a),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(a)),!r.data[0].isError)for(l=0;l<r.data[0].pagedata.length;l++)v=JSON.parse(r.data[0].pagedata[l]),v.StatusColor!=="undefined"&&(r.customTheme.statusData=v.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=Math.ceil(r.totalCount/r.scrollSetting.controlPerPage);this._callFunction(this._renderGauges,r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;this._callFunction(this._renderRangeNavigator,r);break;case t.dashboardViewer.Controls.BubbleMap:r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(a));r.controlType=t.dashboardViewer.Controls.BubbleMap;this._callFunction(this._renderBubbleMap,r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.data.length!==t.DashboardConstants.Zero&&(r.data[0].rangeColor=u.RangeAndColor,r.data[0].legendPrefx=u.LegendPrefx,r.data[0].legendPostfix=u.LegendPostfix);this._callFunction(this._renderChoroplethMap,r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorType==="desat"&&(y=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=y.color),r.configInfo.ColorType==="range")for(s=0;s<r.configInfo.ColorMapping.ColorMapping.length;s++)r.customTheme.rangeColorMap[s]=r.configInfo.ColorMapping.ColorMapping[s].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.drillLevels=u.SerializeLevelInfo;this._callFunction(this._renderTreeMap,r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=Math.ceil(r.totalCount/r.scrollSetting.controlPerPage);this._callFunction(this._renderCards,r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;this._callFunction(this._renderRangeSlider,r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;this._callFunction(this._renderWidget,r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;this._callFunction(this._renderImage,r);break;case t.dashboardViewer.Controls.FilterComboBox:r.configInfo.ShowAsListBox?(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.scrollSetting.controlPerPage=100,r.totalCount=200,this._callFunction(this._renderListBox,r)):(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.data[0].selectedValues=u.SelectedValues,r.data[0].rowCount=u.totalCount,r.configInfo.SelectFirstItem&&u.SelectedValues!==null?r.SelectedFilterInfo=t.isNullOrUndefined(u.SelectedValues)?[]:u.SelectedValues:r.configInfo.SelectFirstItem&&u.SelectedValues===null&&(r.SelectedFilterInfo=[]),r.scrollSetting.controlPerPage=100,this._callFunction(this._renderFDropDownList,r))}},_updateWidgetTotalCount:function(n,t){var r=0,i;return n.data.length>r?(i=n.data[r].pagedata.length,i<t)?i:i+t:r},_getWidgetType:function(n){if(!t.isNullOrUndefined(n)){var i=n.split("_")[0];switch(i){case"ComboBox":return t.dashboardViewer.Controls.FilterComboBox;case"ListBox":return t.dashboardViewer.Controls.ListBox;case"RangeSlider":return t.dashboardViewer.Controls.RangeSlider;case"DatePicker":return t.dashboardViewer.Controls.DatePicker;case"RadioButton":case"CheckBox":return t.dashboardViewer.Controls.CheckBox}}return""},_removeAllControlSelectedValues:function(n){var i=[],r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),r=0;r<i.length;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.CustomWidget:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.PivotGrid:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},_getControlClassName:function(n,i,r,u){switch(r){case"Grid":switch(n){case"header":if(i==="background-color")return".e-grid .e-gridheader";if(i==="font-color"||i==="font-family")return".e-grid .e-headercell";break;case"content":return".e-grid .e-gridcontent";case"hover":return".e-grid .e-gridcontent tr.e-hover";case"border":return".e-grid .e-rowcell, .e-grid .e-indentcell";case"selection":return".e-grid td.e-active"}break;case"PivotGrid":switch(n){case"grouping-bar":return".e-pivotgrid .valueColumn,.e-pivotgrid .grpRow";case"grouping-button":return".e-pivotgrid .pivotButton,.e-pivotgrid .pivotButton .e-btn.e-select";case"icon":if(i==="sort-icon-color")return".e-pivotgrid .sorting:before";if(i==="filter-icon-color")return".e-pivotgrid .filter:before";break;case"header":return".e-pivotgrid .colheader,.e-pivotgrid .rowheader,.e-pivotgrid .calc";case"content":return".e-pivotgrid .value";case"summary":return".e-pivotgrid .summary";case"hover":return".e-pivotgrid .colheader:hover,.e-pivotgrid .rowheader:hover,.e-pivotgrid .calc:hover"}break;case"Card":switch(n){case"title":return" td .e-card-header";case"value":return" td .e-value";case"variation":return" .e-card .e-variation";case"card":return" .e-card";case"selection":return" .e-dbrd-selected-card, .e-dbrd-selected-card .e-corner-triangle border-left-color"}break;case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_generateAPIFromJson:function(n,i){var f=null,s=0,u=[],o=null,r=null,e=null;switch(n){case"BubbleMap":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"bubble":u.bubbleColor=r["background-color"]}}break;case"ChoroplethMap":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"range":u.rangecolor=r["background-color"]}}break;case"TreeMap":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"drilldownhover":u.drillDownSelectionColor=r["background-color"];break;case"select":u.highlightColor=r["border-color"];break;case"drilldownheader":u.drillDownHeaderColor=r["background-color"];break;case"desaturatecolor":u.desaturationColorMap=r["background-color"];break;case"rangecolormap":u.rangeColorMap=r["background-color"]}}break;case"RangeNavigator":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"tooltip":u.toolTipBackground=r["background-color"];u.toolTipData=r["font-color"];break;case"selected":u.backgroundColor=r["background-color"];break;case"unselected":u.unSelectedRegionColor=r["background-color"];break;case"border":u.borderColor=r["border-color"];break;case"navigator":u.navigatorBackgroundColor=r["background-color"];u.navigatorBorderColor=r["border-color"]}}break;case"Gauge":for(e=Object.keys(i),f=t.DashboardConstants.Zero;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"range1":u.rangeColor1=r["background-color"];u.border1=r["border-color"];break;case"range2":u.rangeColor2=r["background-color"];u.border2=r["border-color"];break;case"data":u.statusData=r["font-color"]}}break;case"Chart":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.xAxisLineColor=r["xaxisline-color"];u.primaryXAxismajorGridLines=r["primaryxaxis-majorgridlines"];u.primaryXAxisfontcolor=r["primaryxaxis-fontcolor"];u.primaryXAxistitlecolor=r["primaryxaxis-titlecolor"];break;case"y-axis":u.yAxisLineColor=r["yaxisline-color"];u.primaryYAxismajorGridLines=r["primaryyaxis-majorgridlines"];u.primaryYAxisfontcolor=r["primaryyaxis-fontcolor"];u.primaryYAxistitlecolor=r["primaryyaxis-titlecolor"];break;case"axes":u.axisLineColor=r["axisline-color"];u.titletextcolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"];break;case"legend":u.legendfontcolor=r["legendfont-color"];break;case"tick":u.majorTickColor=r["majortick-color"]}}break;case"ComparisonChart":for(e=Object.keys(i),f=s;f<e.length;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.primaryXAxisfontcolor=r["font-color"];u.primaryXAxistitlecolor=r["title-color"];break;case"y-axis":u.primaryYAxisfontcolor=r["font-color"];u.primaryYAxistitlecolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"]}}}return u},_widgetMaximize:function(i,r,u){var a=0,s=0,k=1,p=10,e="",w=null,c=null,d=u.elementType,f=u.control,o=u.reportName,h=u.element,g,l,v,tt;switch(d){case t.dashboardViewer.Controls.Grid:e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-p});this._renderGrid(f,{id:e,gridDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(c=h.find(".e-dbrd-control"),e=c.attr("id"),i[0].id=this._id+"_maximized_"+o,g=this._getValuesFromDrillLevelInfo(f,o,!1),l=this._getValuesFromDrillLevelData(f,o,!1),!t.isNullOrUndefined(l)&&l.length>t.DashboardConstants.Zero){w=l[l.length-t.DashboardConstants.One];var b=JSON.parse(JSON.stringify(g)),nt=this._containsKey(f.drillLevelInfo,o+"_Maximize"),y=[];if(t.isNullOrUndefined(nt)){for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:b}),a=0;a<l.length-k;a++)y.push(l[a]);f.drillLevelData.push({Key:o+"_Maximize",Values:y})}else{for(s=0;s<f.drillLevelInfo.length;s++)f.drillLevelInfo[s].Key===o+"_Maximize"&&f.drillLevelInfo.splice(s);for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:b}),a=0;a<l.length-k;a++)y.push(l[a]);for(s=0;s<f.drillLevelData.length;s++)f.drillLevelData[s].Key===o+"_Maximize"&&f.drillLevelData.splice(s);f.drillLevelData.push({Key:o+"_Maximize",Values:y});nt.Values=b}f.isExportFromMaximizedView=!0;this.dashboardControls.updateCurrentReport(f);this._drawDrilledChart(w.ConfigInfo,w.Data,{id:this._id+"_maximized_"+o,chartDiv:i,isMaximize:!0},!0)}else f.drillLevelInfo.push({Key:o+"_Maximize",Values:[]}),f.isExportFromMaximizedView=!0,this.dashboardControls.updateCurrentReport(f),this._renderChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.ComparisonChart:e=h.find(".e-dbrd-control").attr("data-controlId");this._renderComparisonChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:v=t.buildTag("div");tt=h.find(".e-dbrd-control").attr("id")+"_Maximized";v.css({width:"100%",height:"100%","background-color":"white"}).attr({id:tt});i.append(v).attr({id:"mapParent"}).css({width:"100%",height:"100%","margin-left":"-2px"});d===t.dashboardViewer.Controls.BubbleMap?this._renderBubbleMap(f,{id:e,bubbleMapDiv:v,isMaximize:!0}):this._renderChoroplethMap(f,{id:e,choroplethMapDiv:v,isMaximize:!0});break;case t.dashboardViewer.Controls.TreeMap:c=h.find(".e-dbrd-control");e=c.attr("id");f.currentPage=t.DashboardConstants.One;i.css({"margin-left":"-2px"});this._renderTreeMap(f,{id:e,treemapDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Card:c=h.find(".e-dbrd-control");e=c.attr("id");f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;f.scrollSetting.controlPerPage=100;this._renderCards(f,{id:e,cardDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Gauge:c=h.find(".e-dbrd-control");e=c.attr("id");i.attr({"data-controlLinkData":c.attr("data-controlLinkData")});f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;this._renderGauges(f,{id:e,gaugeDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.PivotGrid:r.css({"background-color":"white"});e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-p});var rt=h.find(".e-dbrd-control").attr("id"),it=n("#"+rt).children().data("ejPivotGrid"),ut=f.PivotJSONData,ft=n.extend(!0,[],it._tempFilterData),et=it.getOlapReport();this._renderPivotGrid(f,{id:e,pivotgridDiv:i,isMaximize:!0,jsonRecords:ut,filterInfo:ft,pvtReport:et});break;case"CustomWidget":r.css({"background-color":"white"});e=h.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-p});this._renderWidget(f,{id:e,Div:i,isMaximize:!0})}},_heightOfCell:function(n,i){var r=null;switch(n){case t.dashboardViewer.Controls.PivotGrid:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.DrillDownChart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.CustomWidget:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.Gauge:r=3*i;break;case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.Label:case t.dashboardViewer.Controls.Image:r=2*i;break;case t.dashboardViewer.Controls.RangeSlider:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.FilterComboBox:r=i;break;default:r=i}return r},_chartmaximizefind:function(n){switch(n){case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:return!0}return!1},_widgetIconInformation:function(i,r){var s=150,o,u,e,f;i[0].layoutInformation.Name!=="CustomWidget"&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Gauge&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Card&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Chart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ProportionChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ComparisonChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Grid&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ChoroplethMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.BubbleMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.TreeMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DrillDownChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.PivotGrid||!i[0].layoutInformation.Label.ShowMaximize||this.isWidget||this.model.enableWidgetMode||(o={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"Maximize",id:this._id+i[0].layoutInformation.ReportName+"_Maximize",classname:"e-dbrd-hide-maximize",arialabel:"Maximize",datatooltip:this.locale.utils.Maximize,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id},i[0].width<s?r.push(o):(o.classname="e-dbrd-maximize",r.push(o)));this.isFilterWidget=i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox?!0:!1;u=null;(!this.model.allowComment||this.model.enableWidgetMode||i[0].layoutInformation.Label.EnableCsvExport||i[0].layoutInformation.Label.EnableImageExport||i[0].layoutInformation.Label.EnablePdfExport||i[0].layoutInformation.Label.EnableExcelExport)&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.RangeSlider&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DatePicker&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.FilterComboBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.CheckBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ListBox||(u={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.Export,margintop:"3.5px",marginright:"6px"},u.display=n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?"block":"none",i[0].width<s?r.push(u):(u.classname="e-dbrd-widget-menu e-dbrd-border",r.push(u)));e=null;i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox||!(i[0].layoutInformation.Label.EnableCsvExport||i[0].layoutInformation.Label.EnableImageExport||i[0].layoutInformation.Label.EnablePdfExport||i[0].layoutInformation.Label.EnableExcelExport||i[0].layoutInformation.Label.ShowDescription&&!this.model.allowComment)||this.isWidget||this.model.enableWidgetMode||(f="",i[0].layoutInformation.Label.EnableCsvExport&&(f+=" enable-csv-export"),i[0].layoutInformation.Label.EnableExcelExport&&(f+=" enable-excel-export"),i[0].layoutInformation.Label.EnableImageExport&&(f+=" enable-image-export"),i[0].layoutInformation.Label.EnablePdfExport&&(f+=" enable-pdf-export"),e={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",menuIcon:f,arialabel:"Export Option",classname:"e-dbrd-control-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.Export,margintop:"3.5px",marginright:"4px"},i[0].width<s?r.push(e):(e.classname="e-dbrd-control-menu e-dbrd-border",r.push(e)))},_resizeControls:function(i,r,u){var s;this.resize=!0;var e=0,o=null,f=this;switch(u.controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:this.timers.push(setTimeout(function(s){var l=[],c,a,h;for(e=0;e<s.data.length;e++)if(s.data[e].pageNumber===t.DashboardConstants.One){s.data[e].scrollTop=0;l.push(s.data[e]);break}if(s.data=l,s.currentPage=1,s.loadedPages=[],s.scrollSetting.scrollTop=0,c=null,s.controlType===t.dashboardViewer.Controls.Card){for(a=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card]"),c=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card] .e-control-heading"),h=t.DashboardConstants.Zero;h<c.length;h++)n(c[h]).css({width:n(a[h]).width()});i&&s.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(JSON.parse(JSON.stringify(u))),f._renderCards(o,{id:"",cardDiv:r,isMaximize:!1}));s.loadedPages=[];f._callFunction(f._renderCards,s)}else s.controlType===t.dashboardViewer.Controls.Gauge?(i&&u.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(s),f._renderGauges(o,{id:"",gaugeDiv:r,isMaximize:!1})),s.loadedPages=[],f._callFunction(f._renderGauges,s)):f._callFunction(f._renderCheckBoxandRadioButton,s)},t.DashboardConstants.Zero,u));break;case t.dashboardViewer.Controls.Chart:this.timers.push(setTimeout(function(n){var s=[],u;for(e=0;e<n.data.length;e++)if(n.data[e].pageNumber===t.DashboardConstants.One){s.push(n.data[e]);break}n.data=s;n.currentPage=1;n.loadedPages=[];u=f._getValuesFromDrillLevelData(n,n.reportName,i);i&&n.reportName===r.attr("data-controlid")&&(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(o=new Dbrdcontrol,o=o.clone(n),f.target.push(""+f._id+"_maximized_"+n.reportName),f._callFunction(f._renderChart,n,{id:""+f._id+"_maximized_"+n.reportName,chartDiv:r,isMaximize:!0})));!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(f.target.push(""+f._id+"_Chart_"+n.reportName),f._callFunction(f._renderChart,n))},t.DashboardConstants.Zero,u));break;case"parameterColumnData":for(s=[],e=0;e<u.data.length;e++)if(u.data[e].pageNumber===t.DashboardConstants.Zero){u.data[e].scrollTop=0;s.push(u.data[e]);break}s.length>t.DashboardConstants.Zero&&(this.isDashboardResize=!0,this._callFunction(this._updateParameterColumns,s[0].pagedata))}},_widgetContextMenu:function(i,r,u){var f=u;return r===t.dashboardViewer.Controls.FilterComboBox?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"):r===t.dashboardViewer.Controls.DatePicker?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-datepicker").attr("id"):r===t.dashboardViewer.Controls.RangeSlider&&(f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-slider").attr("id")),f},_dashboardDrillThrough:function(n){var t={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.navigateTo,data:JSON.stringify({reportName:this.dashboardPath(),controlName:n}),onSuccess:this._navigate,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(t)},_navigate:function(i,r){var h,l;!this._isAjaxCacheEnabled()||t.isNullOrUndefined(i)||t.isNullOrUndefined(i.data)||(this._getValueFromStore(i.data)||this._addToStore(i.data,r),this._cleanUpStore());var c=n.parseJSON(r.d),f=[],e="",o=null,u=t.DashboardConstants.Zero;if(c.IsReport){for(f=c.ReportName.split("\\"),e="",u=0;u<f.length;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];h=t.buildTag("div");h.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));l=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+e+'",url:"'+this.serviceUrl()+'"  });';o=window.open("","_blank","");var a=n("head").find("link").add("style"),v=n("head").find("script").add("style"),s="";t.browserInfo().name==="msie"?(a.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),v.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.write('<html style="width:100%;height:100%;"><head><\/head><body style="width:100%;height:100%;">'+s+h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>")):(o.document.write('<html style="width:100%;height:100%;"/>'),a.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),v.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.writeln(s+'<\/head><body style="width:100%;height:100%;">'),o.document.writeln(h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>"));o.focus()}else{for(f=c.CustomURL.split("\\"),e="",u=0;u<f.length;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];o=window.open(e,"_blank");o.focus()}},_truncateNumber:function(n){var f=Math.pow(10,3),e=Math.pow(10,5),i=Math.pow(10,6),o=Math.pow(10,7),r=Math.pow(10,9),u=Math.pow(10,12),t=n;if(this.model.dashboardCulture==="en-IN"){if(t>=f&&t<e||t<=-f&&t>-e)return{fraction:this._calculateFraction(t,f),symbol:"K"};if(t>=e&&t<i||t<=-e&&t>-i)return{fraction:this._calculateFraction(t,e),symbol:"L"};if(t>=i&&t<o||t<=-i&&t>-o)return{fraction:this._calculateFraction(t,i),symbol:"M"};if(t>=o&&t<r||t<=-o&&t>-r)return{fraction:this._calculateFraction(t,o),symbol:"C"};if(t>=r&&t<u||t<=-r&&t>-u)return{fraction:this._calculateFraction(t,r),symbol:"B"};if(t>=u||t<=-u)return{fraction:this._calculateFraction(t,u),symbol:"T"}}else if(t>=f&&t<i||t<=-f&&t>-i)return{fraction:this._calculateFraction(t,f),symbol:"K"};return t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:t,symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyPercentage:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyPercentageForChart:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyStringFormatting:function(n,i,r,u){var f=u;return isNaN(f)?u:(f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),this._adjustZeros(f,r,n,i))},_applyStringFormattingForGrid:function(n,i,r,u,f,e,o,s,h){var l="",c=o;if(isNaN(c))return o;if((Math.abs(c)>1e15||Math.abs(c)<1e-15)&&n.indexOf("N")!==-1)return f+c+e;if(n.toString().indexOf("N")>-1&&c<0){c=Math.abs(c);c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c);l=this._adjustZeros(c,r,n,i);switch(u){case"Default":l="-"+l;break;case"NoNegativeSignWithBracket":l="("+l+")";break;case"NegativeSignInSuffix":l+="-"}}else c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c),l=this._adjustZeros(c,r,n,i);return h!==null&&s!==null&&(l=l.replaceAll(s.CurrentValue,s.AliasValue),l=l.replaceAll(h.CurrentValue,h.AliasValue)),f+l+e},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:(f.fraction===t.DashboardConstants.Zero&&(f={fraction:t.DashboardConstants.Zero,postFixLabel:""},e=r.replace(o,"0")),(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.postFixLabel)}return null},_applyNumberUnit:function(n,t){var i=10,e=2,o=4,s=5,h=3,u=6,f=7,r=1,c=Math.pow(i,h),y=Math.pow(i,s),l=Math.pow(i,u),p=Math.pow(i,f),a=Math.pow(i,9),v=Math.pow(i,12);if(this.model.dashboardCulture==="en-IN")switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case h:return{fraction:t/y,postFixLabel:"L"};case o:return{fraction:t/l,postFixLabel:"M"};case s:return{fraction:t/p,postFixLabel:"C"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}else switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case o:return{fraction:t/l,postFixLabel:"M"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.sdk={exportToPdf:function(n,i,r,u,f,e,o,s,h){var w="pdf",a=[],c=0,g,v,l,b,k,d,y,p,nt;if(o&&this.multiTabs)this._defaultSelection(),this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e),a=this._getSuccessStatus(null,this.multiTabs);else if(o&&!this.multiTabs)this._exportDashboardPdf(i,r,u),g=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),a=this._getSuccessStatus(g,this.multiTabs);else if(!o&&s.length>t.DashboardConstants.Zero)v=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(v),v[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e)),a=this._getStatus(v);else if(h.length>t.DashboardConstants.Zero){if(l=this._getWidgetSelectionDetails(h),b=!1,l[t.DashboardConstants.Zero].selectedWidgetsList.length>t.DashboardConstants.Zero){for(b=!0,this._exportDashboardPdf(i,r,u,w,e,l[t.DashboardConstants.Zero].selectedWidgetsList,b),c=0;c<l[t.DashboardConstants.Zero].selectedWidgetNames.length;c++)a.push({status:this.locale.utils.Success,name:l[t.DashboardConstants.Zero].selectedWidgetNames[c]});if(l[0].nonMatchedItems.length>t.DashboardConstants.Zero)for(c=0;c<l[t.DashboardConstants.Zero].nonMatchedItems.length;c++)a.push({status:this.locale.utils.Failure,name:l[t.DashboardConstants.Zero].nonMatchedItems[c],Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport})}}else{for(k=this.currentTabContentElement.find(".e-dbrd-control-container"),d=!1,y=0;y<k.length;y++)if(p=k.eq(y),nt=p.attr("data-widget-id"),nt===n){this.orientation=f;var tt=p.find(".e-dbrd-control").attr("id"),it=p.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),rt={type:it,element:tt,filename:i,pageSizeType:r,title:u};this._exportControlPdf(rt,e);d=!0;break}a=d?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return a},resizeDashboard:function(){this._resizeDashboard()},refreshData:function(n){!t.isNullOrUndefined(n)&&n&&this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this.refreshDashboard(null,!1)},applyComments:function(i){var f=null,e=null,o=null,h=null,s=null,r,a,c,u,v,l;if(this.model.allowComment){if(this.model.commentSettings=i,!t.isNullOrUndefined(i.widgets)){for(f=i.widgets.length>t.DashboardConstants.Zero?i.widgets:"",e=this.currentTabContentElement.find(".e-dbrd-control-container"),s=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),r=0;r<e.length;r++)for(a=n(e[r]).attr("id"),c=0;c<f.length;c++)f[c]===a&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(o=n(e[r]).find(".e-dbrd-banner-widget-withoutcomments"),o.length>t.DashboardConstants.Zero&&o.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(o=n(e[r]).find(".e-dbrd-banner-widget-withcomments"),o.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"))));for(u=0;u<s.length;u++)for(v=n(s[u]).attr("id"),l=0;l<f.length;l++)f[l]===v&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(h=n(s[u]).find(".e-dbrd-filterPanel-widget-withoutcomments"),h.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(h=n(s[u]).find(".e-dbrd-banner-widget-withcomments"),h.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"))))}t.isNullOrUndefined(i.isDashboardCommented)||(i.isDashboardCommented?this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithoutcomment").removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment"):this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithcomment").removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"))}},setFocus:function(t){n(t).focus()},applyCustomTheme:function(i,r){var b,k,l,y,a;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!==""){this._filterPanelCustomValues(i,r);for(var w=0,u=null,e=null,f=this.dashboardControls.controls,u=w;u<f.length;u++)if(f[u].controlType===i.controlType&&f[u].reportName===i.reportName)if(f[u].controlType==="CustomWidget"){if(b=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLocaleLowerCase()],k=b[r],f[u].customTheme=k,this.model.enableCustomTheming&&!t.isNullOrUndefined(f[u].customTheme))for(var o=0,s=0,v=Object.keys(f[u].customTheme),o=0;o<f[u].configInfo.Properties.length;o++)for(s=0;s<v.length;s++)if(v[s]===f[u].configInfo.Properties[o].PropertyName){f[u].configInfo.Properties[o].PropertyValue=f[u].customTheme[v[s]];break}}else if(f[u].controlType==="BubbleMap"||f[u].controlType==="ChoroplethMap"||f[u].controlType==="TreeMap"||f[u].controlType==="RangeNavigator"||f[u].controlType==="Gauge"||f[u].controlType==="Chart"||f[u].controlType==="ComparisonChart")this._customThemeforAPI(i,f[u],r);else if(l=i.isMaximize?i.Id:this._id+t.DashboardConstants.Widget+i.reportName,f[u].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(y=n("<style>").attr("id",l+"_style"),a=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],a!==null&&a[r]!==null)){var p=a[r],h=Object.keys(p),c=null;for(e=w;e<h.length;e++)t.isNullOrUndefined(c)?c=this._generateCSSFromJson(l,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id):c+=" "+this._generateCSSFromJson(l,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id);t.isNullOrUndefined(c)||(y.append(c),n("head").append(y))}}},getWidgetTitle:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):{type:this._getWidgetDetails(n).type,title:this._getWidgetDetails(n).title}},getWidgetId:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):this._getWidgetDetails(n).id},clearAllFilters:function(){var n=this.dashboardControls.getAllControlsMasterData();n.length!==t.DashboardConstants.Zero&&this._clearAllFilters()},clearWidgetFilter:function(n,i){var e=null,o,f;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(this._isFilterPanelWidget(n)){this.filterPanelObj.CurrentMaster=n;o=this.filterPanelObj._id+"_"+i+"_"+n;this.filterPanelObj._removeAppliedFilter(o,i);return}var r=this._id+t.DashboardConstants.Widget+n,s=r+"_removeControlFilter",u=this.currentTabContentElement.find("#"+s);if(!t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero){if(u.hasClass("e-remove-control-filter-disable"))return;u.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}i==="Gauge"&&(f=this.currentTabContentElement.find("#"+r),f.find(".e-dbrd-selected-card").length!==t.DashboardConstants.Zero&&f.find(".e-dbrd-selected-card").removeClass("e-dbrd-selected-card"));(i==="Gauge"||i==="Card")&&(e={target:this.currentTabContentElement.find("#"+r)});i==="ProportionChart"&&(r=this._id+t.DashboardConstants.Widget+n);this.CurrentMaster=n;this._removeAppliedFilter(r,i,e)}},getCurrentFilters:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?null:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r})},getCurrentDashboardFilters:function(){for(var o,u,s,f,r=null,n="",e=0,i=t.DashboardConstants.Zero;i<this.dashboardDetails.length;i++){for(o=!1,u=t.DashboardConstants.Zero;u<this.tabInfoCollection.length;u++)if(this.tabInfoCollection[u].initPrivatePropertiesInfo._id.indexOf(this.dashboardDetails[i].DashboardName)!==t.DashboardConstants.IndexLowerBound){if(o=!0,r=this.tabInfoCollection[u].initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData(),s=this._getAppliedDashboardParameters(),r.length===t.DashboardConstants.Zero&&s.length===t.DashboardConstants.Zero){n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId;e+=t.DashboardConstants.One;break}r=this.dashboardControls.minifySelectedFilterInfo(r);r=r.concat(s);n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r)):n+"::"+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r));break}o||(f=this.getCurrentFiltersRevamp(),this.dashboardDetails[i].DashboardId===this.model._selectedTabGuid&&f!==null?n=n===""?f.encryptedData:n+"::"+f.encryptedData.substr(12):(e+=t.DashboardConstants.One,n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId))}return this.dashboardDetails.length===e?null:{encryptedData:n}},getCurrentFiltersRevamp:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?null:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+this.model._selectedTabGuid+":"+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r})},updateFilterOverview:function(i,r){var o,h;if(!t.isNullOrUndefined(this.model.filterOverviewSettings)){this.model.filterOverviewSettings.viewName=i;this.model.filterOverviewSettings.viewId=r;this.filterDataLength=this.appliedFilterData;var f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),e=f.find(".e-dbrd-save-filterData"),s=f.find(".e-dbrd-saveAs-filterData"),u=f.find(".e-dbrd-filter-nameList");t.isNullOrUndefined(i)||(n(window).width()<t.DashboardConstants.MobileWidth?(o=f.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),u.length===t.DashboardConstants.Zero?(u=n("<div>").addClass("e-dbrd-filter-nameList").css({padding:"14px 10px"}),u.html(i)):u.html(i),e.length!==t.DashboardConstants.Zero&&e.css({display:"none"}),h=n("<div>").addClass("e-dbrd-filterOverView-menu"),this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?o.append(u,h):o.append(u)):(this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?(e.css({cursor:"default",color:"#dbdbdb"}),s.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?(e.css({cursor:"default",color:"#dbdbdb"}),u.html(i)):(s.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):u.html(i),this.model.filterOverviewSettings.showViewSavedFilterIcon&&f.find(".e-dbrd-view-saved").css({display:"block"})))}},showViewSavedFilter:function(n){var i=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),r=i.find(".e-dbrd-view-saved");i.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(n)&&n?r.css({display:"block"}):r.css({display:"none"})},redrawDashboard:function(){this._clearTimers();this._unWireEvents();this._destroy();this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass);this._init()},refreshDashboard:function(i,r,u,f){this._clearTimers();this._clearCacheOnRefresh();var e=this,o=e.pageInfo,s=JSON.parse(JSON.stringify(e.dashboardParameters));setTimeout(function(){var v=f,y={},k=[],c,h,a,l,p,w,d;for(t.isNullOrUndefined(i)?y=e.dashboardControls.getAllControlsForRefresh():(k.push(e.dashboardControls.getControlByReport(i)),y=k),e._trigger("actionBegin",{eventType:t.dashboardViewer.event.refresh,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}}),c=e._isFilterPanelWidget(i)&&!t.isNullOrUndefined(e.model.filterPanelSettings.filterPanelId)&&!t.isNullOrUndefined(e.filterPanelDiv)?e.filterPanelDiv.find(".e-dbrd-control"):e.currentTabContentElement.find(".e-dbrd-control"),h=0,t.isNullOrUndefined(e.filterPanelObj)||e.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||e.filterPanelObj.showLoader(),a=null,l="",h=0;h<c.length;h++)a=n(c[h]).parents(".e-dbrd-control-container"),l=c.eq(h).attr("data-controlid"),c[h].id!==""&&e.target.push(c[h].id),e._isFilterPanelWidget(l)||t.isNullOrUndefined(l)||(i===null?(p=e.dashboardControls.getControlByReport(l),e.isExtendedLayout&&!t.isNullOrUndefined(p)&&o.indexOf(p.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(a,!0):e._createControlWaitingIndicator(a,!0)):l===i&&e._createControlWaitingIndicator(a,!0));for(c=e.currentTabContentElement.find(".e-FilterBox"),h=0;h<c.length;h++)a=n(c[h]).parents(".e-dbrd-control-container"),c[h].id!==""&&e.target.push(c[h].id),l=c.eq(h).attr("data-controlid"),e._isFilterPanelWidget(l)||t.isNullOrUndefined(l)||(i===null?(w=e.dashboardControls.getControlByReport(l),e.isExtendedLayout&&!t.isNullOrUndefined(w)&&o.indexOf(w.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(a,!0):e._createControlWaitingIndicator(a,!0)):l===i&&e._createControlWaitingIndicator(a,!0));var g=e.model.localeSettings.resourcePath,nt=e.model.localeSettings.dateFormat,tt=e.model.localeSettings.culture,b=e._getGridSettings();b.length===t.DashboardConstants.Zero&&(b="");t.isNullOrUndefined(v)&&!e.isFromHistory&&(v=e.dashboardControls.getAllControlsMasterData());o=e._getPageForCurrentView();d={type:"POST",url:e.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:e.dashboardPath(),data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(v),rangeData:JSON.stringify(e.rangeData),widgetInfo:JSON.stringify(y),modifiedConnectionStrings:e.modifiedConnectionStrings,rowCountList:e.model.autoRefreshSettings.trackData?e.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(e.currentUser),itemId:e.itemId,isRefresh:r,isPublic:e.isPublicDashboard,customLanguagePath:g,dateFormat:nt,timeFormat:e.model.localeSettings.timeFormat,customCulture:tt,isWidget:e.model.enableWidgetMode,widgetName:e.widgetModeSettings.name,widgetId:e.widgetModeSettings.id,filterParameters:JSON.stringify(e.initialFilters),dashboardName:e.dashboardName,dashboardParameterSettings:e._setAjaxDashboardParameterValue(s),gridSettings:JSON.stringify(b),page:JSON.stringify(o)}),onSuccess:e._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};e.doAjaxPost(d);e._destroyDashboardMenu();e._trigger("actionComplete",{eventType:t.dashboardViewer.event.refreshComplete,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}})},t.DashboardConstants.Zero)},loadLayout:function(i,r){var f,u,e;this.currentTabContentElement.html("");this.initialDashboard=null;f=!1;r&&(this.initialDashboard={id:this.model._selectedTabGuid,index:this.model.selectedTabIndex,name:this.model.selectedTabName});this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip"));n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>');this.model.enableCustomTheming&&this._customTheme(["font"]);this.isWidget||this._showWaitingPopup(!1);i!==null&&this.dashboardPath(i);u={Id:null,IsGroup:!1,UserName:null,FullName:null,Email:null,AccessToken:this.model.accessToken};this._trigger("setCurrentUser",{model:this.model,data:u});t.isNullOrUndefined(u.Id)&&t.isNullOrUndefined(u.AccessToken)||(this.currentUser=u);this.dashboardParameters.length===t.DashboardConstants.Zero&&(f=!0);var o=this.model.localeSettings.resourcePath,s=this.model.localeSettings.dateFormat,h=this.model.localeSettings.culture;this.dashboardPath()!==""&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeLayoutRender,source:{element:this.dashboardPath(),data:null}}),e={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.initializeControl,data:JSON.stringify({dashboardPath:this.dashboardPath(),action:JSON.stringify([{Method:"LoadLayout"}]),data:null,serverSideCache:this.model.enableServerSideCache,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:o,dateFormat:s,timeFormat:this.model.localeSettings.timeFormat,customCulture:h,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:JSON.stringify(this.initialDashboard),dashboardParameterSettings:this.model.dashboardParameterSettings,isDashboardParametersNeed:f}),onSuccess:this._renderDashboardLayout,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(e),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.layoutRendered,source:{element:this.dashboardPath(),data:null}}))},loadDashboard:function(n){this._destroyWaitingPopup();this._destroyWaitingPopup();n!==null&&this.dashboardPath(n);this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var i=this,u=this.model.localeSettings.resourcePath,f=this.model.localeSettings.dateFormat,e=this.model.localeSettings.culture,o=JSON.parse(JSON.stringify(this.dashboardParameters)),r={dashboardPath:i.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(i.model.currentMasterReport)?null:JSON.stringify(i.model.currentMasterReport),serverSideCache:i.model.enableServerSideCache,filterParameters:JSON.stringify(i.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:u,dateFormat:f,timeFormat:this.model.localeSettings.timeFormat,customCulture:e,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(o),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo)};this._trigger("onApplyConnection",{model:this.model,data:r,tabId:this._id});r.token=this.token;setTimeout(function(){if(i.dashboardPath()!==""){i._trigger("actionBegin",{eventType:t.dashboardViewer.event.onApplyConnection,source:{element:i.dashboardPath(),data:r}});i.modifiedConnectionStrings=r.modifiedConnectionStrings;var n={type:"POST",url:i.serviceUrl()+"/"+i.model.serviceMethods.initializeControl,data:JSON.stringify(r),onSuccess:i._renderControl,needRequestParameter:!1,additionalParameter:null};i.doAjaxPost(n)}},100)},loadDashboardOnDemand:function(){this._destroyWaitingPopup();this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var n=this,u=this.model.localeSettings.resourcePath,f=this.model.localeSettings.dateFormat,e=this.model.localeSettings.culture,o=JSON.parse(JSON.stringify(this.dashboardParameters)),r=this.dashboardControls.getAllControlsMasterData(),i={dashboardPath:n.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(r)?null:JSON.stringify(r),serverSideCache:n.model.enableServerSideCache,filterParameters:JSON.stringify(n.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:u,dateFormat:f,timeFormat:this.model.localeSettings.timeFormat,customCulture:e,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(o),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo)};i.token=this.token;setTimeout(function(){if(n.dashboardPath()!==""){n.modifiedConnectionStrings=i.modifiedConnectionStrings;var t={type:"POST",url:n.serviceUrl()+"/"+n.model.serviceMethods.initializeControl,data:JSON.stringify(i),onSuccess:n._renderControl,needRequestParameter:!1,additionalParameter:null};n.doAjaxPost(t)}},100)},exportToImage:function(n,i,r,u,f,e,o,s){var h=0,c=[],y,p,w,l,b,a,v,k;if(o&&this.multiTabs)this._defaultSelection(),this.multiDashboardExport=!0,y={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(y,e),c=this._getSuccessStatus(null,this.multiTabs);else if(o&&!this.multiTabs)p={imageType:i,resolution:r,filename:u,title:f},this._exportDashboardImage(p,e),w=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),c=this._getSuccessStatus(w,this.multiTabs);else if(!o&&s.length>t.DashboardConstants.Zero)l=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(l),l[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,b={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(b,e)),c=this._getStatus(l);else{for(a=this.currentTabContentElement.find(".e-dbrd-control-container"),v=!1,h=0;h<a.length;h++)if(k=a.eq(h).attr("data-widget-id"),k===n){var d=a.eq(h),g=d.find(".e-dbrd-control").attr("id"),nt=d.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),tt={type:nt,element:g,resolution:r,imageType:i,filename:u,title:f};this._exportControlImage(tt,e);v=!0;break}c=v?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return c},exportToExcel:function(n,i,r,u,f,e,o){var v=this.currentTabContentElement.find(".e-dbrd-control-container"),l=[],s={},c,h,w,a,y,b,p;s.headerText=i;c=0;h="";switch(r){case"xlsx":case this.locale.utils.ExportToExcel2013:h=this.locale.utils.ExportToExcel2013;break;default:h=this.locale.utils.ExportToExcel97To2003}if(f&&this.multiTabs&&!o)this.multiDashboardExport=!0,this._exportDataAsExcel(s,h,r,u),l=this._getSuccessStatus(null,this.multiTabs);else if(f&&!this.multiTabs||o)this._exportDataAsExcel(s,h,r,u),w=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),l=this._getSuccessStatus(w,this.multiTabs);else if(!f&&e.length>t.DashboardConstants.Zero)a=this._getDashboardSelectionDetails(e),this._getSelectedDashboardInfo(a),a[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDataAsExcel(s,h,r,u)),l=this._getStatus(a);else{for(y=!1,c=0;c<v.length;c++)if(b=v.eq(c).attr("data-widget-id"),b===n){p=v.eq(c);s.controlId=n;s.controlType=p.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype");(t.isNullOrUndefined(i)||i==="")&&(s.headerText=p.find(".e-control-title").html());s.controlType==="CircularGauge"&&(s.controlType="Gauge");this._exportDataAsExcel(s,h,r,u);y=!0;break}l=y?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return l},removeCommentToggleState:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),n;i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");n.length>t.DashboardConstants.Zero&&n.removeClass("e-dbrd-banner-widget-withcomments-menuClicked")},dynamicwithCommentIconChange:function(i){var u=this.currentTabContentElement.find(".e-dbrd-control-container"),e,f,r,h,o,s;if(!t.isNullOrUndefined(this.filterPanelId))for(e=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),f=0;f<e.length;f++)u.push(e[f]);for(r=0;r<u.length;r++)h=n(u[r]).attr("id"),i===h&&(o=n(u[r]).find(".e-dbrd-banner-widget-withoutcomments"),s=n(u[r]).find(".e-dbrd-filterPanel-widget-withoutcomments"),o.length>t.DashboardConstants.Zero?o.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"):s.length>t.DashboardConstants.Zero&&s.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"))},dynamicwithoutCommentIconChange:function(i){var u=this.currentTabContentElement.find(".e-dbrd-control-container"),e,f,r,h,o,s;if(!t.isNullOrUndefined(this.filterPanelId))for(e=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),f=0;f<e.length;f++)u.push(e[f]);for(r=0;r<u.length;r++)h=n(u[r]).attr("id"),i===h&&(o=n(u[r]).find(".e-dbrd-banner-widget-withcomments"),s=n(u[r]).find(".e-dbrd-filterPanel-widget-withcomments"),o.length>t.DashboardConstants.Zero?o.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):s.length>t.DashboardConstants.Zero&&s.removeClass("e-dbrd-filterPanel-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"))},toggleDashboardComment:function(){var n=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithcomment"),i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithoutcomment");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment")},toggleWidgetComment:function(){this.element.find(".e-dbrd-tooltip").hide();var n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments"),i=this.currentTabContentElement.find(".e-dbrd-banner-widget-withoutcomments");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")},toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.element.find(".e-dbrd-dashboardfavIcon"),i=this.element.find(".e-dbrd-dashboardunfavIcon");n.length===t.DashboardConstants.Zero?i.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}},toggleDashboardParameterIcon:function(){this.model.dashboardParameterSettings.showIcon?this.element.find(".e-dbrd-banner-params").css({display:"block"}):this.element.find(".e-dbrd-banner-params").css({display:"none"})},getWidgetDataByReportName:function(n){for(var s,e,r=this.currentTabContentElement.find(".e-dbrd-control-container"),u=null,o=null,f=null,i=0;i<r.length;i++)if(o=r.eq(i).attr("id"),u=r.eq(i).attr("data-widget-id"),o===n||u===n){f=this.dashboardControls.getControlByReport(u);break}return t.isNullOrUndefined(f)?null:(s=this.dashboardControls.getControlByReport("parameterColumnData"),e=[],e.push(f,s),e)},doAjaxPost:function(i){var u=null,o=null,r=this,s,h,f,e;(this.model.enableAutoRefresh&&this.rendered&&(s=this._getSlaveIdList(JSON.parse(i.data)),s.length>t.DashboardConstants.Zero&&this._restartTimerForSlaves(s)),this._isAjaxCacheEnabled()&&!this.model._isLiveData&&(u=n.parseJSON(i.data),delete u.context,!t.isNullOrUndefined(u.action)&&this._isJsonString(u.action)&&!t.isNullOrUndefined(JSON.parse(u.action))&&JSON.parse(u.action).length>t.DashboardConstants.Zero&&JSON.parse(u.action)[0].Method!=="LoadLayout"&&JSON.parse(u.action)[0].Method!=="Initialize"&&i.url.indexOf("GetComboBoxRows")===t.DashboardConstants.IndexLowerBound&&(this._cleanUpStore(),h=this._generateKeyFromDataForCache(u.data),this._checkKeyInStore(h,i.onSuccess))))||(f=JSON.parse(i.data),o={data:f.data,tabId:this.dashboardName},e=null,!t.isNullOrUndefined(f.action)&&this._isJsonString(f.action)&&(e=JSON.parse(f.action)),this.slaveDataRequest&&this.slaveDataRequest.readyState!==4&&!t.isNullOrUndefined(e)&&e[0].Method!=="LoadLayout"&&e[0].Method!=="Initialize"&&i.url.indexOf("GetComboBoxRows")===t.DashboardConstants.IndexLowerBound&&this.slaveDataRequest.abort(),this.slaveDataRequest=n.ajax({type:i.type,url:i.url,data:i.data,datatype:"json",contentType:"application/json;charset=utf-8",success:i.needRequestParameter?n.proxy(i.onSuccess,this,o,i.data):t.isNullOrUndefined(i.additionalParameter)?n.proxy(i.onSuccess,this,o):n.proxy(i.onSuccess,this,o,i.additionalParameter),beforeSend:n.proxy(function(u){var f,e,o,s;if(r.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(f=t.DashboardConstants.Zero;f<r.requestHeaders.customHeaders.length;f++)e=r.requestHeaders.customHeaders[f],u.setRequestHeader(e.Key,e.Value);u.setRequestHeader("X-Sync-Header",JSON.stringify(r.requestHeaders.customHeaders))}r.isFromAutoRefresh||(r.isDashboardScrolled||(o=n("<div/>").attr({id:r._id+"_InactiveDiv"}).addClass("e-inactivediv"),s=r.element.find(".e-tab"),s.length!==t.DashboardConstants.Zero&&o.css({top:s.find("ul").height()}),r.currentTabContentElement.append(o)),r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequest,source:{element:i.url,data:i.data}}))},this),complete:n.proxy(function(n){n.status===200&&(r.isFromFilterDialog||(r.currentTabContentElement.find(".e-error-notification").remove(),r.currentTabContentElement.css({position:""})));r.slaveDataRequest=null;r.element.find(".e-inactivediv").remove();r._trigger("actionComplete",{eventType:t.dashboardViewer.event.ajaxRequestCompleted,source:{element:i.url,data:i.data}})},this),error:n.proxy(function(u,f,e){if(!r._isUnLoad){if(e==="timeout")r._errorMsgPopup(r.locale.utils.DashboardServerTimedOut);else{if(e==="abort")return;u.responseText.indexOf("Session Expired")!==t.DashboardConstants.IndexLowerBound?r._errorMsgPopup(r.locale.utils.SessionExpired):e==="Internal Server Error"?t.isNullOrUndefined(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()])?r._errorMsgPopup(n(u.responseXML.childNodes).find("Message").text()):r._errorMsgPopup(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()]):r._errorMsgPopup(r.locale.utils.DashboardServerFail)}e!=="abort"&&(r._destroyWaitingPopup(),r._destroyAllControlWaitingIndicator(),r._destroyWaitingPdfPopup());r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequestFailure,source:{element:i.url,data:e}})}},this),timeout:52e4}))},doPostBack:function(t,i){var u=n("<form>").attr({action:t,method:"POST",name:"export"}),f=function(t,i){n('<input type="hidden" title="params">').attr({id:t,name:t,value:i}).appendTo(u)};for(var r in i)i.hasOwnProperty(r)&&f(r,i[r]);u.appendTo(document.body).submit().remove()},saveFileFromServer:function(n,t){var i={FileType:n.toString(),base64String:t};this.doPostBack(this.serviceUrl()+"\\SaveFile",i)},getMasterControlsBySlave:function(n){for(var r,i,u=[],f=null,t=0;t<this.controlRelations.length;t++)for(r=0;r<this.controlRelations[t].Slaves.length;r++)if(this.controlRelations[t].Slaves[r]===n)for(f=this.controlRelations[t].Master,i=0;i<this.appliedFilterData.length;i++)f.indexOf(this.appliedFilterData[i].Control)!==-1&&u.push(this.appliedFilterData[i]);return u},refreshWidgetData:function(n){var u,o,f,r,s;if(!t.isNullOrUndefined(n)){var e=[],i=[],h=JSON.parse(JSON.stringify(this.dashboardParameters));if(jQuery.type(n)==="string"&&(n=[n]),jQuery.type(n)==="array")for(e=this.currentTabContentElement.find(".e-dbrd-control"),u=0;u<n.length;u++)for(o=n[u],f=0;f<e.length;f++)if(r=e.eq(f),r.id!==""&&this.target.push(r.id),r.attr("data-controlid")===o){this._createControlWaitingIndicator(r,!0);i.push(this.dashboardControls.getControlByReport(o));break}this._initializeFilterParameters();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRefresh,source:{element:n,data:i}});s={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(i)?null:JSON.stringify(i),rangeData:JSON.stringify(this.rangeData),widgetInfo:JSON.stringify([]),modifiedConnectionStrings:this.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),itemId:this.itemId,isRefresh:!1,isPublic:this.isPublicDashboard,customLanguagePath:this.model.localeSettings.resourcePath,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(h)}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(s);this._destroyDashboardMenu();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRefresh,source:{element:n,data:i}})}},selectTabByName:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByTabName(n);this.selectTabByIndex(i)}},selectTabByIndex:function(n){this._renderSelectedDashboard(n,null)},getCurrentTab:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName,t.tabElement=this.currentTabContentElement);return t},openParameterDialog:function(){!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(this.dashboardParameters.data,!1)},getDashboardTabsInfo:function(){for(var i,t=[],r=this.dashboardDetails.length,n=0;n<r;n++)i={tabId:this.dashboardDetails[n].DashboardName,tabName:this.dashboardDetails[n].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[n].DashboardName)},t.push(i);return t},getFilterPanelState:function(){return t.isNullOrUndefined(this.filterPanelObj)?null:this.filterPanelObj.getState()},openFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)?this._showFilterPanel():this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open&&this.filterPanelObj.open()},closeFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Close||this.filterPanelObj.close()},getFilterPanel:function(){return this.filterPanelObj},getFilterPanelParent:function(){return this.filterPanelDiv},closeAllWindows:function(){this._closeMaximize();this._hideExport();this._closeFilterOverviewDialog();this._hideDescription();this._closeFilterPanel();this._cancelDashboardParameters();this._hideGetLinkDialog()},openGetLinkDialog:function(){var r={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},i;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:r});r.data.handled||(n(window).width()<t.DashboardConstants.MobileWidth?this._showGetLinkDialogForMobile():(this._on(n("body"),"keydown",this._hideErrorDialog),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog"),i.css({"max-width":this.currentTabContentElement.width()-100+"px"}),i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog")),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").show(),i.show(),this.model.enableCustomTheming&&this._customTheme(["popup"])));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:r}})},_parseParameterQuery:function(i){var c,l,s,h,a,f,v,e,r,u,o,y,p;if(t.isNullOrUndefined(i)||i===""||i.length===t.DashboardConstants.Zero)return null;c=[];try{for(c=decodeURIComponent(i).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),l=c.split("|,|"),s=0;s<l.length;s++)if(h=l[s].split("|:|"),h.length>=2){if(a=h[0],f=h[1],a===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254))return v=CryptoJS.AES.decrypt(f,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":"),this._getDashboardViewsData(n.parseJSON(v));if(a.trim().toUpperCase()==="FILTERQUERY"){if(e=null,r=f.split("::"),!t.isNullOrUndefined(f)&&r.length>t.DashboardConstants.One){for(u=t.DashboardConstants.Zero;u<r.length;u++)if(o=r[u].indexOf(":"),y=o!==t.DashboardConstants.IndexLowerBound?r[u].substring(t.DashboardConstants.Zero,o):r[u],y===this.model._selectedTabGuid&&o!==t.DashboardConstants.IndexLowerBound){p=n.parseJSON(r[u].substring(o+t.DashboardConstants.One));e=this.dashboardControls.unMinifySelectedFilterInfo(p);this.dashboardControls.initialDashboardParameters=e.dashboardParams;break}}else t.isNullOrUndefined(f)||(e=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(f)),this.dashboardControls.initialDashboardParameters=e.dashboardParams);return this._getDashboardViewsData(e.masterData)}}}catch(w){return null}return null},_getDashboardViewsData:function(n){for(var i=[],f=0;f<n.length;f++){var r=n[f],u=[],e=this._getMasterInfo(r,i);t.isNullOrUndefined(e)?(this._pushMasterData(u,r),i[i.length]={Control:r.ReportName,Data:u[0],ControlTitle:this.getWidgetTitle(r.ReportName)}):(this._pushMasterData(u,r),e.data=u[t.DashboardConstants.Zero],this._updateMasterInfo(e,i))}return i},_getMasterInfo:function(n,t){for(var i=0;i<t.length;i++)if(t[i].Control===n.ReportName)return t[i];return null},_updateMasterInfo:function(n,i){for(var r=0;r<i.length;r++)i[r].Control===n.Control&&i[r].Data.push(n.data[t.DashboardConstants.Zero])},_pushMasterData:function(n,i){!t.isNullOrUndefined(i.DateFilterInfo)&&i.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&n.push(i.DateFilterInfo.DateFilterList);!t.isNullOrUndefined(i.DimensionFilterInfo)&&i.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&n.push(i.DimensionFilterInfo.Text);!t.isNullOrUndefined(i.MeasureFilterInfo)&&i.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero&&n.push(i.MeasureFilterInfo.Values)},loadHistoryData:function(n){var t=!1;return this.isFromHistory=!0,t=this._loadDashboardFromSessionData(n),t&&this._replaceState(n),t},getCurrentViewUrl:function(){var n=this._isRenderWithInframe();return this._updateQueryStringParam("filterQuery",n)},disableAutoRefreshTimer:function(n){var i,r,u;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!1;else{for(i=0;i<n.length;i++)r=n[i].dashboardName,u=this._isCheckUserValidTabName(r),u&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].disable=null,this.autoRefreshUserCollection[r].enable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].disable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!1));this._disableAutoRefreshCollection()}},enableAutoRefreshTimer:function(n){var i,r,u;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!0,this._clearAllDisablecollection(),this._resetAutoRefreshRevamp(!0);else{for(i=0;i<n.length;i++)r=n[i].dashboardName,u=this._isCheckUserValidTabName(r),u&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].enable=null,this.autoRefreshUserCollection[r].disable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].enable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!0));this._enableAutoRefreshCollection()}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.multiTabs={_createDashboardTabs:function(){var i,e,r,f,v,h;if(this.tabObj=this._getDashboardName(this.dashboardDetails),this.count=0,this.multiDashboardExport=!1,i=!t.isNullOrUndefined(this.model._selectedTabGuid)&&this.model._selectedTabGuid!==""?this._getTabIndexByDashboardId(this.model._selectedTabGuid):null,e=t.isNullOrUndefined(this.model.selectedTabName)||this.model.selectedTabName===""?this.model.selectedTabIndex:this._getTabIndexByTabName(this.model.selectedTabName),!t.isNullOrUndefined(this.tabObj)&&this.tabObj.length>t.DashboardConstants.One){var c=n("<div class='e-dbrd-tab-wrapper' id="+this._id+"_tabWrapper><\/div>"),u=n("<div class='e-dbrd-tab-container' id="+this._id+"_tabContainer><\/div>"),o=n("<ul><\/ul>").css({height:"40px",display:this.model.showTab?"block":"none"});for(this.model.enableWidgetMode&&o.css({display:"none"}),r=0;r<this.tabObj.length;r++){var s=this.dashboardDetails[r],l=n("<li data-tabId='"+this.tabObj[r]+"'><\/li>"),a=n("<span>");this._appendControlTitle(s.DashboardDisplayName,s.Parameters,a);u.append("<div id="+this._id+"_"+this.tabObj[r].replace(/ /g,"_")+"><\/div>");l.append(n("<a>").attr({href:"#"+this._id+"_"+this.tabObj[r].replace(/ /g,"_"),"data-tooltip":s.DashboardDisplayName,oncontextmenu:"return false"}).append(a));o.append(l)}c.append(u);this.element.append(c);u.prepend(o);f=!t.isNullOrUndefined(i)&&i!==t.DashboardConstants.IndexLowerBound&&i!==""?i:e!==t.DashboardConstants.IndexLowerBound&&e!==""?e:t.DashboardConstants.Zero;v=u.ejTab({selectedItemIndex:f,beforeActive:n.proxy(this._beforeTabSwitch,this),itemActive:n.proxy(this._afterTabActive,this)}).ejTab("instance");this.element.find(".e-content").css({border:"none"});this.multiTabs=!0;this.currentTabContentElement=n(u).find(".e-active-content");u.removeClass("e-widget");this._id=this.currentTabContentElement.attr("id");this.dashboardName=this.dashboardDetails.length>f?this.dashboardDetails[f].DashboardName:this.dashboardDetails[0].DashboardName;v.refreshTabScroll();i!==null&&f!==i&&this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this._getCurrentDashboardGuid()});this.tabInformation=this.element.find(".e-tab>.e-header>.e-item");this.tabInfoCollection=[];this.length=0;this._scrollCheck();this._createTabIcons();this._createMobResDiv();h=this.getCurrentTab();this.model.selectedTabIndex=h.tabIndex;this.model.selectedTabName=h.tabName;this.model._selectedTabGuid=this._getCurrentDashboardGuid();this.model.showTab||(this.element.find(".e-active-content").css({"padding-top":"0px"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}));n(window).width()<768&&this._hideTab();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}},_getDashboardName:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i.push(n[t].DashboardName);return i},_getTabIndexByTabName:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardDisplayName.trim()===n.trim())return i;return t.DashboardConstants.IndexLowerBound},_getTabIndexById:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardName===n)return i;return t.DashboardConstants.IndexLowerBound},_getCurrentDashboardGuid:function(){for(var i=this.dashboardDetails.length,n=0;n<i;n++)if(this.dashboardDetails[n].DashboardName===this.dashboardName)return this.dashboardDetails[n].DashboardId;return t.DashboardConstants.IndexLowerBound},_getTabInfoByDashboardName:function(n){for(var i=this.dashboardDetails.length,t=0;t<i;t++)if(this.dashboardDetails[t].DashboardName===n)return{tabId:this.dashboardDetails[t].DashboardName,tabName:this.dashboardDetails[t].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[t].DashboardName)};return""},_beforeTabSwitch:function(i){var u,r,f,e;t.isNullOrUndefined(i)||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),this._clearTimers(),u=this._getTabInfoByDashboardName(this.dashboardName),this._tabObjectInformationCollection(i),r=n(i.activeHeader),r.find(".e-link").css({padding:"12px 15px 0px"}),n(i.prevActiveHeader).find(".e-link").css({padding:"9px 15px 0px"}),f=r.data("tabid"),e=this._getTabInfoByDashboardName(f),this._trigger("tabSelect",{tabArgs:i,currentTab:u,nextTab:e}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:r.data("tabid")}}))},_afterTabActive:function(i){var e,f,o,r,u;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),e=this._getTabInfoByDashboardName(this.dashboardName),f=n(i.activeHeader),this.currentTabContentElement=this.element.find(".e-dbrd-tab-container").find(".e-active-content"),this.dashboardName=f.data("tabid"),o=this._reinitializeTabObjChk(i),this._id=this._dashboardId+"_"+f.attr("data-tabid").replace(/ /g,"_"),r=this._getTabInfoByDashboardName(this.dashboardName),this.model.reportName=r.tabName,this.model.selectedTabIndex=r.tabIndex,this.model.selectedTabName=r.tabName,this.model._selectedTabGuid=this._getCurrentDashboardGuid(),this._errorMsgPos(),this._scrollTabSwitch(i),this._closeExternalFilterPanels(),this._hasDataForCurrentTab(this.dashboardName)&&!this.isLinking)this._applyHiddenTabDataIfAny(this.dashboardName);else if(o||this.isLinking)this.isLinking=!1,this.filterPanelObj=null,t.widget.destroyAll(this.currentTabContentElement.find(".e-js")),this.currentTabContentElement.data({rendered:"false"}),this.loadLayout(null,!0),this.tabSwitchFromHistory=!0;else{if(this.isFilterPanelOpen&&this.externalFilterPanel&&(this.filterPanelObj!==null?(this.filterPanelObj.open(),this.filterPanelObj.refreshData(this.tempDataForFilter)):(this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1)),!t.isNullOrUndefined(this.multiTabDashboardParameter.data)&&this.multiTabDashboardParameter.data.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero)for(u=0;u<this.multiTabDashboardParameter.data.length;u++)if(this.multiTabDashboardParameter.data[u].value!==this.dashboardParameters.data[u].value){this.multiTabDashboardParameter=[];this.refreshDashboard(null,!1);break}this._updateHiddenTabRefreshTimeOnSwitch();this._resizeDashboard();this._updateDashboardTitle();this.model.enableAutoRefresh&&this._resetCurrentTabRefreshTimer();this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("none")}this._trigger("tabActive",{tabArgs:i,currentTab:r,previousTab:e});this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.isFromHistory=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:f.data("tabid")}})}},_closeExternalFilterPanels:function(){var e,r,u,i,o,f;if(this.preventFilterPanelEvents=!0,e=this.isFilterPanelOpen,this.externalFilterPanel&&!t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)&&(r=n("#"+this.model.filterPanelSettings.filterPanelId),r.length!==t.DashboardConstants.Zero))for(u=r.find(".e-dashboardfilterpanel"),i=0;i<u.length;i++)o=u.eq(i),f=o.data("ejDashboardFilterPanel"),t.isNullOrUndefined(f)||f.close();this.isFilterPanelOpen=e;this.preventFilterPanelEvents=!1},_tabInitPrivatePropertiesInformation:function(){return{hasFilterPanel:this.hasFilterPanel,filterPanelId:this.filterPanelId,filterPanelDiv:this.filterPanelDiv,filterPanelObj:this.filterPanelObj,slaveDataRequest:this.slaveDataRequest,tempDataForFilter:this.tempDataForFilter,isFromAutoRefresh:this.isFromAutoRefresh,rendered:this.rendered,locale:this.locale,isReloaded:this.isReloaded,isFilterWidget:this.isFilterWidget,_isUnLoad:this._isUnLoad,widgetModeSettings:this.widgetModeSettings,theme:this.theme,controlRelations:n.parseJSON(JSON.stringify(this.controlRelations)),Context:this.Context,requestTimer:this.requestTimer,autorefreshTimer:this.autorefreshTimer,_id:this._id,flag:this.flag,isWidget:this.isWidget,rangeData:this.rangeData,masterData:this.masterData,mapControlsData:this.mapControlsData,isMouseClick:this.isMouseClick,target:this.target,lastFocusElement:this.lastFocusElement,currentReport:this.currentReport,CurrentMaster:this.CurrentMaster,MapType:this.MapType,customRange:this.customRange,defaultRange:this.defaultRange,modifiedConnectionStrings:this.modifiedConnectionStrings,customRangeApplied:this.customRangeApplied,DrillableMapEntries:this.DrillableMapEntries,rtl:this.rtl,stackChartConfig:this.stackChartConfig,TitleLabels:this.TitleLabels,scrollTop:this.scrollTop,previousDashboardSize:this.previousDashboardSize,isPrintTriggered:this.isPrintTriggered,reportName:this.reportName,reportDescription:this.reportDescription,dashboardControls:this.dashboardControls,maximizeddashboardControls:this.maximizedashboardControls,appliedFilterData:this.appliedFilterData,_gaugeTooltipTarget:this._gaugeTooltipTarget,_gaugetoolTipTimer:this._gaugetoolTipTimer,_ExportedImageFileName:this._ExportedImageFileName,fileName:this.fileName,title:this.title,exportDashboard:this.exportDashboard,imageValidation:this.imageValidation,isPublicDashboard:this.isPublicDashboard,itemId:this.itemId,dashboardHeight:this.dashboardHeight,dashboardWidth:this.dashboardWidth,containerWidth:this.containerWidth,containerHeight:this.containerHeight,month:this.month,weekDays:this.weekDays,clearFilter:this.clearFilter,removeFilter:this.removeFilter,orientation:this.orientation,isExtendedLayout:this.isExtendedLayout,availableRowCount:this.availableRowCount,layoutControls:this.layoutControls,pageInfo:this.pageInfo,pageInformations:this.pageInformations,heightOfCell:this.heightOfCell,isDashboardScrolled:this.isDashboardScrolled,isWidgetExceedCurrentPage:this.isWidgetExceedCurrentPage,isRowsAvailable:this.isRowsAvailable,actualPages:this.actualPages,layoutWrapperHeight:this.layoutWrapperHeight,pageHeight:this.pageHeight,currentScrollTop:this.currentScrollTop,currentScrollHeight:this.currentScrollHeight,hiddenPageWidgetsForRefresh:this.hiddenPageWidgetsForRefresh,exportImageHeightForExtendedLayout:this.exportImageHeightForExtendedLayout,initialLoading:this.initialLoading}},_tabObjectInformationCollection:function(i){var e=n(i.prevActiveHeader).children().attr("href"),f,r,u;if(n(e).children(".e-error-notification").length===t.DashboardConstants.Zero)if(f=this._tabInitPrivatePropertiesInformation(i),this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(r=-1,u=0;u<this.tabInfoCollection.length;u++)if(n(i.prevActiveHeader).data("tabid")===this.tabInfoCollection[u].tabIdInfo){r=u;break}r===-1?this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)}):(this.count=0,this.tabInfoCollection[r].initPrivatePropertiesInfo={},this.tabInfoCollection[r].initPrivatePropertiesInfo=jQuery.extend(!0,{},f))}else this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)})},_reInitializationOfInitPrivateProperties:function(t){this.hasFilterPanel=t.hasFilterPanel;this.filterPanelId=t.filterPanelId;this.filterPanelDiv=t.filterPanelDiv;this.filterPanelObj=t.filterPanelObj;this.tempDataForFilter=t.tempDataForFilter;this.slaveDataRequest=t.slaveDataRequest;this.isFromAutoRefresh=t.isFromAutoRefresh;this.rendered=t.rendered;this.locale=t.locale;this.isReloaded=t.isReloaded;this.isFilterWidget=t.isFilterWidget;this._isUnLoad=t._isUnLoad;this.widgetModeSettings=t.widgetModeSettings;this.theme=t.theme;this.controlRelations=n.parseJSON(JSON.stringify(t.controlRelations));this.Context=t.Context;this.requestTimer=t.requestTimer;this.autorefreshTimer=t.autorefreshTimer;this._id=t._id;this.flag=t.flag;this.isWidget=t.isWidget;this.rangeData=t.rangeData;this.masterData=t.masterData;this.mapControlsData=t.mapControlsData;this.isMouseClick=t.isMouseClick;this.target=t.target;this.lastFocusElement=t.lastFocusElement;this.currentReport=t.currentReport;this.CurrentMaster=t.CurrentMaster;this.MapType=t.MapType;this.customRange=t.customRange;this.defaultRange=t.defaultRange;this.modifiedConnectionStrings=t.modifiedConnectionStrings;this.customRangeApplied=t.customRangeApplied;this.DrillableMapEntries=t.DrillableMapEntries;this.rtl=t.rtl;this.stackChartConfig=t.stackChartConfig;this.TitleLabels=t.TitleLabels;this.scrollTop=t.scrollTop;this.previousDashboardSize=t.previousDashboardSize;this.isPrintTriggered=t.isPrintTriggered;this.reportName=t.reportName;this.reportDescription=t.reportDescription;this.dashboardControls=t.dashboardControls;this.maximizedashboardControls=t.maximizeddashboardControls;this.appliedFilterData=t.appliedFilterData;this._gaugeTooltipTarget=t._gaugeTooltipTarget;this._gaugetoolTipTimer=t._gaugetoolTipTimer;this._ExportedImageFileName=t._ExportedImageFileName;this.fileName=t.fileName;this.title=t.title;this.exportDashboard=t.exportDashboard;this.imageValidation=t.imageValidation;this.isPublicDashboard=t.isPublicDashboard;this.itemId=t.itemId;this.dashboardHeight=t.dashboardHeight;this.dashboardWidth=t.dashboardWidth;this.containerWidth=t.containerWidth;this.containerHeight=t.containerHeight;this.month=t.month;this.weekDays=t.weekDays;this.clearFilter=t.clearFilter;this.removeFilter=t.removeFilter;this.orientation=t.orientation;this.isExtendedLayout=t.isExtendedLayout;this.availableRowCount=t.availableRowCount;this.layoutControls=t.layoutControls;this.pageInfo=t.pageInfo;this.pageInformations=t.pageInformations;this.heightOfCell=t.heightOfCell;this.isDashboardScrolled=t.isDashboardScrolled;this.isWidgetExceedCurrentPage=t.isWidgetExceedCurrentPage;this.isRowsAvailable=t.isRowsAvailable;this.actualPages=t.actualPages;this.layoutWrapperHeight=t.layoutWrapperHeight;this.pageHeight=t.pageHeight;this.currentScrollTop=t.currentScrollTop;this.currentScrollHeight=t.currentScrollHeight;this.hiddenPageWidgetsForRefresh=t.hiddenPageWidgetsForRefresh;this.exportImageHeightForExtendedLayout=t.exportImageHeightForExtendedLayout;this.initialLoading=t.initialLoading},_reinitializeTabObjChk:function(i){var f=!0,u,r,e;if(this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(u=-1,r=0;r<this.tabInfoCollection.length;r++)if(n(i.activeHeader).data("tabid")===this.tabInfoCollection[r].tabIdInfo){u=r;break}u===-1||this.errorMsg?this._initPrivateProperties():(this._reInitializationOfInitPrivateProperties(this.tabInfoCollection[u].initPrivatePropertiesInfo),e=this.currentTabContentElement.data("rendered"),t.isNullOrUndefined(e)||e==="false"?(this.currentTabContentElement.html(""),f=!0):f=!1)}else this._initPrivateProperties();return f},_createTabIcons:function(){var t=n("<div  class='e-dbrd-tab-menu-container e-dbrd-hoverable' id="+this._dashboardId+"_tabMenu tabindex = '0'><\/div>").attr({"data-tooltip":this.locale.utils.MoreOptions}).css({display:this.model.showTab?"block":"none"}),r=n("<div class='e-dbrd-tab-menu-border'><\/div>"),i=n("<span class='e-dbrd-tab-menu'><\/div>");t.insertAfter(this.element.find(".e-tab .e-header"));t.append(i);r.insertBefore(i)},_showTabMenu:function(i){var h,e,r,f,u,o,s;if(this.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i),n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.element.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")&&this._destroyReportDescription(),this._destroyContextMenu(),this._destroyControlMenu(),this._destroyDashboardMenu(),this._onControlDescriptionMouseLeave(i),this.element.find("#"+this._dashboardId+"_tabMenuPopup").length===t.DashboardConstants.Zero){for(i.stopImmediatePropagation(),h=[],e=[],this.dashboardParameters.showIcon&&e.push({id:this._id+"_dashboardparameters",text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"}),e.push({id:this._dashboardId+"_tabExport",text:this.locale.utils.ExportDashboards,sprite:"e-dbrd-tab-menu-export-image"}),r=n('<div class="e-dbrd-tab-menu-popup">').attr({id:this._dashboardId+"_tabMenuPopup",oncontextmenu:"return false"}).css({"z-index":"1000"}),f=this.tabInformation,u=0;u<f.length;u++)h=n(f[u]).hasClass("e-active")?{id:this._dashboardId+"_"+n(f[u]).attr("data-tabid").replace(/ /g,"_"),text:f[u].textContent,sprite:"e-dbrd-tab-menu-popup-image"}:{id:this._dashboardId+"_"+n(f[u]).attr("data-tabid").replace(/ /g,"_"),text:f[u].textContent},e.push(h);for(o=[],o=[{id:1,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToImage},{id:2,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToPdf},{id:3,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToExcel}],s=0;s<o.length;s++)e.push(o[s]);r.ejMenu({orientation:"vertical",fields:{dataSource:e,parentId:"parentId",text:"text",spriteCssClass:"sprite"},click:n.proxy(this._tabSelection,this,r)});this.element.append(r);i.type==="keydown"?(r.css({position:"absolute",top:n(i.target).find(".e-dbrd-tab-menu").offset().top-n(this.element).offset().top+n(i.target).find(".e-dbrd-tab-menu").height()+2,width:"auto","z-index":10002}),r.css({left:n(window).width()-22-n(this.element).offset().left-r.width()})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.element).offset().top+n(i.target).height()+2,width:"auto","z-index":10002}),r.css({left:i.pageX-n(this.element).offset().left-r.width()}));this.model.enableCustomTheming&&this._customTheme(["menu"])}else this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"?this._tabMenuPopupHide(i):this._showMenuPopupHide(i)},_tabSelection:function(i,r){var f,u,e,o,s,h;if(r.parentId===null&&r.text===this.locale.utils.DashboardParameters)this._openDashboardParametersDialog(this.dashboardParameters.data,!1);else if(r.parentId===null){for(f=this.tabInformation,u=0;u<f.length+t.DashboardConstants.One;u++)if(u===t.DashboardConstants.Zero)continue;else if(e=this._dashboardId+"_"+n(f[u-t.DashboardConstants.One]).data("tabid").replace(/ /g,"_"),r.ID===e){o=this.element.find(".e-dbrd-tab-container").attr("id");s=n("#"+o).data("ejTab");s.showItem(u-t.DashboardConstants.One);break}}else h=this.locale.utils.Dashboard,this._controlMenuSelected(i,h,"",r)},_tabMenuPopupHide:function(i){t.isNullOrUndefined(i)||(this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide(),n(i.target).parent().attr("id")!==this._dashboardId+"_tabExport"&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide())},_showMenuPopupHide:function(t){var e,r,i,o,u,f;for(t.stopImmediatePropagation(),e=this.element.find(".e-dbrd-tab-menu-popup .e-dbrd-tab-menu-popup-image").detach(),r=this.element.find(".e-dbrd-tab-menu-popup > .e-list"),i=0;i<r.length;i++)o=this.element.find(".e-tab .e-header .e-active").children("a").text(),u=n(r[i]).children("a"),o===u.text()&&u.prepend(e);f=this.element.find("#"+this._dashboardId+"_tabMenuPopup");this.model.showGetLinkIcon||f.find("#"+this._dashboardId+"_Link").remove();f.show()},_resizeContentPadding:function(){this.element.find(".e-dbrd-tab-menu-popup").remove();this.length=0;n(window).width()<768?(this._hideTab(),this.element.find(".e-active-content").css({"padding-top":"0px"}),this.model.showTab&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"})),this.element.find(".e-error-notification").length>t.DashboardConstants.Zero&&this.element.find(".e-error-notification").css({top:"2px"})):(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),!this.model.showTab||this.model.enableWidgetMode?this._hideTab():(this._showTab(),this._scrollCheck(),this._scrollResizeHandler()),this._errorMsgPos())},_createMobResDiv:function(){var t=n("<div class='e-dbrd-tab-res-icon-container' id="+this._dashboardId+"_tabResIconContainer><\/div>"),i=n("<span class='e-dbrd-tab-res-icon' id="+this._dashboardId+"_tabResIcon><\/span>");t.append(i);this.element.find(".e-dbrd-tab-wrapper").prepend(t)},_createNavigationDrawers:function(){var s,u,i,e,o,c,l;if(this.element.find(".e-dbrd-tab-res-inactive").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tab-res-popup").length===t.DashboardConstants.Zero){s=n("<div class='e-dbrd-tab-res-inactive' id="+this._dashboardId+"_tabResInactive><\/div>");u=n("<div class='e-dbrd-tab-res-popup' id="+this._dashboardId+"_tabResPopup><\/div>");this.element.prepend(s);this.element.prepend(u);var h=n("<ul class='e-dbrd-res-ulist'><\/ul>"),r=null,f=null;for(i=0;i<this.tabInformation.length;i++)e=n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),o=n(this.tabInformation[i]).children(".e-link").text(),n(this.tabInformation[i]).hasClass("e-active")?(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>").addClass("e-res-selected-element"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o).addClass("e-res-selected-font")):(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o)),r.append(f),h.append(r);u.append(h);this.dashboardParameters.showIcon&&this.multiTabs&&(c=n("<button class='e-brd-multitab-mob-params-btn'><div class = 'e-brd-multitab-mob-params-btn'><\/div><\/button>").text(this.locale.utils.DashboardParameters),this.element.find(".e-dbrd-tab-res-popup").append(c));l=n("<button class='e-brd-multitab-mob-export-btn'><div class = 'e-brd-multitab-mob-export-btn-icon'><\/div><\/button>").text(this.locale.utils.ExportBtn);this.element.find(".e-dbrd-tab-res-popup").append(l);this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}else this.element.find(".e-dbrd-tab-res-inactive").show(),this.element.find(".e-dbrd-tab-res-popup").show();this._on(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_navigationItemClick:function(t){var h=n(t.currentTarget).parent().data("tabid"),r=this._dashboardId+"_"+h,i,u,f,e,o,s;if(r!==this.element.find(".e-active-content").attr("id")){for(i=0;i<this.tabInformation.length;i++)u=this._dashboardId+"_"+n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),r===u&&(f=this.element.find(".e-dbrd-tab-container").attr("id"),e=n("#"+f).data("ejTab"),e.showItem(i));o=this.element.find(".e-res-selected-font");o.removeClass("e-res-selected-font");s=this.element.find(".e-res-selected-element");s.removeClass("e-res-selected-element");n(t.currentTarget).parent().addClass("e-res-selected-element");n(t.currentTarget).addClass("e-res-selected-font")}this._hideResPopup()},_hideResPopup:function(){this.element.find(".e-dbrd-tab-res-popup").hide();this.element.find(".e-dbrd-tab-res-inactive").hide();this._off(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_selectTabById:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByDashboardId(n);this.selectTabByIndex(i)}},_getTabIndexByDashboardId:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardId===n)return i;return t.DashboardConstants.IndexLowerBound},_scrollIconCreation:function(){var e,h;if(this.element.find(".e-dbrd-ryt-scroll-container").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length===t.DashboardConstants.Zero){var u=n("<div class='e-dbrd-ryt-scroll-container'><\/div>"),i=n("<div class='e-dbrd-scroll-wrap'><\/div>"),f=n("<div class='e-dbrd-ryt-icon-scroll-wrap'><\/div>"),c=n("<span class='e-dbrd-scroll-right'><\/span>");f.append(c);i.append(f);u.append(i);this.element.find(".e-tab").prepend(u);e=n("<div class='e-dbrd-scroll-ryt-trans'><\/div>");i.append(e);var o=n("<div class='e-dbrd-left-scroll-container'><\/div>"),r=n("<div class='e-dbrd-scroll-wrap'><\/div>"),s=n("<div class='e-dbrd-left-icon-scroll-wrap'><\/div>"),l=n("<span class='e-dbrd-scroll-left'><\/span>");s.append(l);r.append(s);o.append(r);this.element.find(".e-tab").prepend(o);h=n("<div class='e-dbrd-scroll-left-trans'><\/div>");r.append(h);this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");this._scrollTransCheck();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"])}else this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this._scrollTransCheck()},_scrollCheck:function(){var f,u,i,e,o,r,s;if(n(window).width()>768){for(f=this.tabInformation,u=0;u<f.length;u++)this.length=this.length+n(f[u]).outerWidth();this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero?(i=this.element.find(".e-tab>.e-header").width(),e=n(".e-dbrd-tab-wrapper").width(),i<e&&(this._scrollIconRemove(),i=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(i),this.element.find(".e-tab>.e-header").css({width:i,"margin-left":"0px"}))):(o=n(".e-dbrd-tab-wrapper").width(),r=0,o<this.length?(this._scrollIconCreation(),r=this.length+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").width(r),s=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").css({"margin-left":s+"px","margin-right":"0px"}),this.initialForward=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))):(r=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(r)))}},_hideTab:function(){this.element.find(".e-tab>.e-header").css({display:"none"});this.element.find(".e-active-content").css({"padding-top":"0px"});this.element.find(".e-dbrd-ryt-scroll-container").css({display:"none"});this.element.find(".e-dbrd-left-scroll-container").css({display:"none"});this.model.showTab||(this.element.find(".e-dbrd-tab-menu-container").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"0px"}))},_showTab:function(){this.model.showTab&&n(window).width()>=t.DashboardConstants.MobileWidth?(this.element.find(".e-tab>.e-header").css({display:"block"}),this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-tab-menu-container").css({display:"block"})):this.model.showTab&&n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"}))},_scrollForward:function(){var r=this.element.find(".e-dbrd-ryt-scroll-container"),f,e;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),o=r.offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();i===this.initialForward?(i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":"-"+i+"px"}),this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable")):(this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))-u,this.element.find(".e-tab>.e-header").css({"margin-left":i+"px"}));f=this.element.find(".e-tab>.e-header").find("li").last().offset().left+this.element.find(".e-tab>.e-header").find("li").last().width();f<o&&(r.addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-left-scroll-container").removeClass(".e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-ryt-scroll-container").hasClass("e-dbrd-navi-disable")&&(e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+this.element.find(".e-dbrd-scroll-ryt-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":e}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollBackward:function(){var r=this.element.find(".e-dbrd-left-scroll-container"),e,o;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),s=r.offset().left,f=r.width(),h=this.initialForward+f;i===-h?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u+f,this.element.find(".e-tab>.e-header").css({"margin-left":i})):i!==-this.initialForward?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":i})):(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),this.element.find(".e-tab>.e-header").css({"margin-left":this.initialForward+"px"}));e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"));e>=s&&(this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-left-scroll-container").hasClass("e-dbrd-navi-disable")&&(o=this.element.find(".e-dbrd-left-scroll-container").width()-this.element.find(".e-dbrd-scroll-left-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":o}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollIconRemove:function(){this.element.find(".e-dbrd-left-scroll-container").remove();this.element.find(".e-dbrd-ryt-scroll-container").remove()},_scrollTabSwitch:function(){var l;if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab>.e-header"),e=this.element.find(".e-tab .e-header .e-active"),i=e.offset().left,o=e.width(),a=i+o,s=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),v=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),h=this.element.find(".e-dbrd-tab-menu-container").width(),y=this.element.find(".e-dbrd-tab-wrapper").width()-(s+v+h),p=parseInt(this.element.find(".e-dbrd-tab-wrapper").css("margin-left")),c=null,r=null,u=this.element.find(".e-tab>.e-header").children("li").last().offset().left+n.children("li").last().width(),f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();if(u>f&&this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i>p&&a<=y)return;i<=t.DashboardConstants.Zero?(c=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),r=c+-i+s,n.css({"margin-left":r})):(l=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").offset().left,r=i+o-(l+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width()-h),n.css({"margin-left":parseInt(n.css("margin-left"))-r+"px"}));parseInt(n.css("margin-left"))<this.element.find(".e-dbrd-left-icon-scroll-wrap").width()?this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"):parseInt(n.css("margin-left"))>=this.element.find(".e-dbrd-left-icon-scroll-wrap").width()&&this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");u=n.children("li").last().offset().left+n.children("li").last().width();f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();u<=f?this.element.find(".e-dbrd-ryt-scroll-container").addClass("e-dbrd-navi-disable"):this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable");this._scrollTransCheck()}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollResizeHandler:function(){var n=this.element.find(".e-tab .e-header");if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var r=this.element.width(),i=parseFloat(n.css("margin-left")),u=n.width()+i,f=r-u;n.css({"margin-left":i+f+"px"})}this._scrollTabSwitch()},_currentlyEleVisibleOrNot:function(){var n=this.element.find(".e-tab .e-header .e-active"),t=n.offset().left+n.width(),i=this.element.find(".e-dbrd-ryt-icon-scroll-wrap"),u=this.element.find(".e-dbrd-left-icon-scroll-wrap").offset().left+i.width(),f=i.offset().left,r=!1;return t>u&&t<=f&&(r=!0),r},_errorMsgPos:function(){if(this.element.find(".e-error-notification").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab .e-header").height()+5;this.element.find(".e-error-notification").css({top:n})}},_scrollTransCheck:function(){var n=this.element.find(".e-dbrd-scroll-left-trans"),i=this.element.find(".e-dbrd-scroll-ryt-trans"),r=n.parents(".e-dbrd-left-scroll-container"),u=i.parents(".e-dbrd-ryt-scroll-container");r.hasClass("e-dbrd-navi-disable")?(n.css({display:"none"}),this.element.find(".e-dbrd-scroll-left").css({color:"#dbdbdb"})):u.hasClass("e-dbrd-navi-disable")&&(i.css({display:"none"}),this.element.find(".e-dbrd-scroll-right").css({color:"#dbdbdb"}));r.hasClass("e-dbrd-navi-disable")||(n.css({display:"block"}),this.element.find(".e-dbrd-scroll-left").css({color:"#6d6e70"}));u.hasClass("e-dbrd-navi-disable")||(i.css({display:"block"}),this.element.find(".e-dbrd-scroll-right").css({color:"#6d6e70"}));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_saveHiddenTabData:function(n,t){this.hiddenTabData[n]=t},_isHiddenTabData:function(n){return this.dashboardName!==n},_hasDataForCurrentTab:function(n){return!t.isNullOrUndefined(this.hiddenTabData[n])},_applyHiddenTabDataIfAny:function(n){if(this._hasDataForCurrentTab(n)){var t=this.hiddenTabData[n];switch(t.type){case"layout":this._renderDashboardLayout(null,t.data);break;case"refreshData":this._refreshControlData(null,t.data);break;case"initData":this._renderControl(null,t.data)}delete this.hiddenTabData[n]}},_getTabNameByTabIndex:function(n){for(var r=null,i=this.getDashboardTabsInfo(),t=0;t<i.length;t++)if(i[t].tabIndex===n){r=i[t].tabName;break}return r},_clearTimers:function(){if(this.timers!==null){for(var n=0;n<this.timers.length;n++)clearTimeout(this.timers[n]);this.timers=[]}this.updateTimer!==null&&clearTimeout(this.updateTimer);this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);t.isNullOrUndefined(this.showContextMenu)||clearTimeout(this.showContextMenu);this.longPress!==null&&clearTimeout(this.longPress);t.isNullOrUndefined(this.tooltip)||clearTimeout(this.tooltip);this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);this.requestTimer!==null&&clearTimeout(this.requestTimer);this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer)}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.history={_pushSessionStorage:function(n){var i;if(this.model.interactionSettings.allowHistoryMaintenance){var f=null,e=null,o=[],s=this._dashboardId,u=this.dashboardControls.controls,h=[];for(this.multiTabs&&(f=this._getCurrentTabInfo(),s=this.currentTabContentElement.attr("id")),this.hasFilterPanel&&!t.isNullOrUndefined(this.filterPanelObj)&&(e=this.filterPanelObj.dashboardControls.getAllControlsMasterData(),o=this.filterPanelObj.dashboardControls.getAllcontrolsSelectedItems()),i=0;i<u.length;i++)h.push({id:u[i].reportName,loadedPages:n==="initial"?[]:u[i].loadedPages});var c={type:n,masterData:this.dashboardControls.getAllControlsMasterData(),selectedItems:this.dashboardControls.getAllcontrolsSelectedItems(),appliedFilterData:this.appliedFilterData,filterPanelMasterData:e,filterPanelSelectedItems:o,tabId:s,tabInfo:f,widgetProp:h,dashboardPath:this.dashboardPath(),dashboardParameters:this._getAppliedDashboardParameters(!0)},r=this._getSessionKey(),l=sessionStorage.getItem(r);t.isNullOrUndefined(l)?sessionStorage.setItem(r,JSON.stringify(c)):r=this._getSessionKey();n!=="initial"?this._pushBrowserHistory(r):this._replaceState(r)}},_getSessionKey:function(){return this._getGUIDFromRandom()},_getGUIDFromRandom:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},_popSessionStorageData:function(n){var i=sessionStorage.getItem(n);return t.isNullOrUndefined(i)?null:JSON.parse(i)},_replaceState:function(n){var i,r;t.isNullOrUndefined(n)||n===""||(i=JSON.stringify({"sync-dbrd-key":n}),this._updateCookie(n),r=this._isRenderWithInframe(),!t.isNullOrUndefined(n)&&r?window.top.history.replaceState(i,"DashboardViewer",top.location.href):t.isNullOrUndefined(n)||window.history.replaceState(i,"DashboardViewer",location.href))},_pushBrowserHistory:function(n){var u,i,r;t.isNullOrUndefined(n)||n===""||(u=this._isRenderWithInframe(),this._updateCookie(n),i=JSON.stringify({"sync-dbrd-key":n}),r="DashboardViewer",!t.isNullOrUndefined(i)&&u?window.top.history.pushState(i,r,top.location.href):t.isNullOrUndefined(i)||window.history.pushState(i,r,location.href))},_updateCookie:function(n){var t=new Date;t.setHours(t.getHours()+24);document.cookie="sync-dbrd-key="+n+";expires="+t.toUTCString()},_getKeyFromCookie:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)sync-dbrd-key\s*\=\s*([^;]*).*$)|^.*$/,"$1")},_updateQueryStringParam:function(n,i){var f=null,r=null,e=null,s=null,o=null,u,c,h;return t.isNullOrUndefined(this.model._baseUrl)?i?(f=[parent.location.protocol,"//",parent.location.host,parent.location.pathname].join(""),r=window.top.location.search):(f=[location.protocol,"//",location.host,location.pathname].join(""),r=document.location.search):f=this.model._baseUrl,u=this.getCurrentFilters(),t.isNullOrUndefined(u)&&r===""?(this.multiTabs&&(f+="?~tabname~="+this.model.selectedTabName),s=f):t.isNullOrUndefined(u)&&r!==""?s=f+r:(c=this._checkUrlHasTabName(),this.multiTabs&&!c?(e="~tabname~="+this.model.selectedTabName+(t.isNullOrUndefined(u)?"":"&"+u.encryptedData),o=t.isNullOrUndefined(u)?"":"?"+e):(e=t.isNullOrUndefined(u)?"":u.encryptedData,o=t.isNullOrUndefined(u)?"":"?"+e),h=new RegExp("([?&])"+n+"[^&]*"),r&&(o=r.match(h)!==null?r.replace(h,"$1"+e):!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero?r+"&"+e:r),s=f+o),s},_checkUrlHasTabName:function(){for(var u,f=!1,i=[],n=null,e=this._isRenderWithInframe()?window.top.location.href.slice(window.top.location.href.indexOf("?")+t.DashboardConstants.One).split("&"):window.location.href.slice(window.location.href.indexOf("?")+t.DashboardConstants.One).split("&"),r=t.DashboardConstants.Zero;r<e.length;r++)n=e[r].split("="),i.push(n[t.DashboardConstants.Zero]),i[n[t.DashboardConstants.Zero]]=n[1];return u=decodeURIComponent(i.tab),t.isNullOrUndefined(u)||this.model.selectedTabName!==u||(f=!0),f},_isRenderWithInframe:function(){return self===top?!1:self!==top||document.location.origin===parent.location.origin?!0:!1},_popBrowserHistory:function(i){var e;if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.originalEvent.state)&&this.model.interactionSettings.handleHistoryEvent){var f=JSON.parse(i.originalEvent.state),r=null,u=null;t.isNullOrUndefined(f)||t.isNullOrUndefined(f["sync-dbrd-key"])||f["sync-dbrd-key"]===""||(r=f["sync-dbrd-key"]);t.isNullOrUndefined(r)||r===""||(u=this._popSessionStorageData(r),u!==null&&this._updateCookie(r));e={event:i,handled:!1,sessionData:u};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}});this._destroyInactiveElements();this._trigger("onHistoryPopstateChange",e);e.handled||t.isNullOrUndefined(u)||this._loadDashboardFromSessionData(r);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}})}},_destroyInactiveElements:function(){this.currentTabContentElement.find(".e-dbrd-inactive").remove();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").remove();this.currentTabContentElement.find(".e-dbrd-dialog.e-dbrd-alert").remove();this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove();this.currentTabContentElement.find(".e-dbrd-mobileExport").remove();this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").remove()},_loadDashboardFromSessionData:function(n){var r=!1,i;if(!t.isNullOrUndefined(n)&&n!==""&&(i=this._popSessionStorageData(n),!t.isNullOrUndefined(i))){i.tabId!==this._id&&this._tabSwitchingFromHistory(i);switch(i.type){case"initial":case"TabSwitch":case"refreshControls":this._initialRenderingFromHistory(i);r=!0;break;case"none":this._tabSwitchingFromHistory(i);r=!0}}return r},_initialRenderingFromHistory:function(n){var i=this;setTimeout(function(){var u,c,r,e,s,l,o,f,h,a;if(i._id===n.tabId){for(i.isFromHistory=!0,u=i.dashboardControls.controls,c=n.masterData,r=0;r<u.length;r++){for(e=0;e<n.widgetProp.length;e++)u[r].reportName===n.widgetProp[e].id&&(u[r].loadedPages=n.widgetProp[e].loadedPages);for(s=0;s<n.selectedItems.length>t.DashboardConstants.Zero;s++)l=n.selectedItems[s],u[r].reportName===l.ReportName&&(u[r].SelectedItems=l.SelectedItems)}if(n.length!==t.DashboardConstants.Zero&&i._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(c)){if(i._reassignFilterData(n,i.dashboardControls.controls),i.hasFilterPanel&&!t.isNullOrUndefined(i.filterPanelObj)){for(o=i.filterPanelObj.dashboardControls.controls,f=0;f<o.length;f++)for(n.filterPanelSelectedItems.length===t.DashboardConstants.Zero&&(o[f].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}}),h=0;h<n.filterPanelSelectedItems.length>t.DashboardConstants.Zero;h++)a=n.filterPanelSelectedItems[h],o[f].reportName===a.ReportName&&(o[f].SelectedItems=a.SelectedItems);i._reassignFilterData(n,i.filterPanelObj.dashboardControls.controls)}i.refreshDashboard(null,!1,null,c)}}},250)},_updateFilterOverviewFromHistory:function(n){var t=this;setTimeout(function(){var i=[];i.InteractionData=n;t._addFilterDataToTitle(i)},500)},_reassignFilterData:function(i,r){var h=[],l=[],o=i.masterData,u,f,e,c,s;if(o.length>t.DashboardConstants.Zero)for(u=0;u<r.length;u++)for(f=r[u].reportName,e=0;e<o.length;e++)c=o[e].ReportName,f===c&&r[u].configInfo.IsMasterFilter?n.inArray(f,h)===-1&&(this._applySelectedFilterInfo(f,o[e],r[u]),h.push(f)):f!==""&&r[u].configInfo.IsMasterFilter&&n.inArray(f,h)===-1&&(this._filterRemoveForSlave(r[u],f),l.push(r[u]));else for(s=0;s<r.length;s++)this._filterRemoveForSlave(r[s])},_applySelectedFilterInfo:function(n,i,r){if(r.SelectedFilterInfo.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r.SelectedFilterInfo[0]))r.SelectedFilterInfo.length===t.DashboardConstants.Zero&&r.SelectedFilterInfo.push({DateFilterInfo:i.DateFilterInfo,DimensionFilterInfo:i.DimensionFilterInfo,MeasureFilterInfo:i.MeasureFilterInfo,PointIndex:i.PointIndex,SeriesIndex:i.SeriesIndex,UniqueColumnName:i.UniqueColumnName,ReportName:i.ReportName,IsStdDateTime:i.IsStdDateTime,Value:i.Value});else{var u=r.SelectedFilterInfo[0];u.DateFilterInfo=i.DateFilterInfo;u.DimensionFilterInfo=i.DimensionFilterInfo;u.MeasureFilterInfo=i.MeasureFilterInfo;u.PointIndex=i.PointIndex;u.SeriesIndex=i.SeriesIndex;u.UniqueColumnName=i.UniqueColumnName}},_filterRemoveForSlave:function(n){n.SelectedFilterInfo=[]},_tabSwitchingFromHistory:function(n){if(n.length!==t.DashboardConstants.Zero&&this._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n.tabInfo)&&!t.isNullOrUndefined(n.tabInfo.tabName)){this.isFromHistory=!0;var i=n.tabInfo.tabName;this.selectTabByName(i)}},_getCurrentTabInfo:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName);return t},_setSessionTabAndMaster:function(){var i=this._getKeyFromCookie(),n;t.isNullOrUndefined(i)||i===""||(n=this._popSessionStorageData(i),t.isNullOrUndefined(n)||n.dashboardPath!==this.dashboardPath()||(n.masterData.length>0&&(this.model.currentMasterReport=n.masterData),t.isNullOrUndefined(n.tabInfo)||t.isNullOrUndefined(n.tabInfo.tabName)||(this.model.selectedTabName=n.tabInfo.tabName)))},_getAppliedDashboardParameters:function(n){var u=[],r,i;if(!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(r=t.DashboardConstants.Zero;r<this.dashboardParameters.data.length;r++)i=this.dashboardParameters.data[r],(i.defaultValue!==i.value||n)&&u.push({dprmn:i.parameterName,dprmv:i.value});return u},_loadDashboardParamData:function(n){var i,r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(i=t.DashboardConstants.Zero;i<n.length;i++)r=n[i],u=this._isParamPresent(r),u!==t.DashboardConstants.IndexLowerBound&&(this.dashboardParameters.data[u].value=r.dprmv)},_isParamPresent:function(n){for(var i=t.DashboardConstants.Zero;i<this.dashboardParameters.data.length;i++)if(this.dashboardParameters.data[i].parameterName===n.dprmn)return i;return t.DashboardConstants.IndexLowerBound}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.scroller={_onControlMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);if(n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible"),r.hasClass("e-waitingLoadedPopup")||r.find(".e-scrollbar").hasClass("onScrolling")){r.removeClass("mouseEntered");return}r.removeClass("mouseEntered")}},_onMaximizeLeave:function(i){var u,r;if(!t.isNullOrUndefined(i)&&!n(i.currentTarget).hasClass("mouseEntered"))for(u=n("body").find(".e-dbrd-active-scrollbar"),r=0;r<u.length;r++)if(!u.eq(r).hasClass("onScrolling")){if(u.eq(r).stop(!0).show().fadeOut(1500),!n(i.target).hasClass("e-vhandle")&&n(i.target).find(".e-vhandle").length===t.DashboardConstants.Zero)return;u.eq(r).removeClass("e-dbrd-active-scrollbar")}},_onControlMouseOver:function(i){var r,f,u;if(!t.isNullOrUndefined(i)&&(this.currentTabContentElement.find(".mouseEntered").removeClass("mouseEntered"),r=n(i.currentTarget),!n(r).hasClass("e-ejinputtext"))){for(r.addClass("mouseEntered"),f=n("body").find(".e-dbrd-active-scrollbar"),u=0;u<f.length;u++){if(f.eq(u).hasClass("onScrolling"))return;f.eq(u).stop(!0).show().fadeOut(1500);n(i.target).hasClass("e-vhandle")||n(i.target).hasClass("e-hhandle")||f.eq(u).trigger("mouseleave");f.eq(u).removeClass("e-dbrd-active-scrollbar")}n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible");r.hasClass("e-dbrd-showMenuOnHover")&&r.find(".e-dbrd-control").children().length!==t.DashboardConstants.Zero&&r.find(".e-control-prop-onHover").addClass("e-control-prop-Visible");r.find(".e-vhandle").css({"background-color":"#838383",border:"1px solid #838383"});r.find(".e-scrollbar").addClass("e-dbrd-active-scrollbar");r.find(".e-hhandle").css({"background-color":"#838383",border:"1px solid #838383",height:"8px",bottom:t.DashboardConstants.Zero});r.find(".e-scrollbar").hasClass("onScrolling")||(r.find(".e-scrollbar").stop(!0).hide().fadeIn(1500),r.find(".e-hhandle").css({bottom:"3px"}));this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css("display")==="none"&&this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"block"})}},_onScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#D9D9D9"});r.find(".e-vup").css({"font-size":"10px",left:"-1.25px",top:"-2px"});r.find(".e-vdown").css({"font-size":"10px",left:"0px",top:"0.5px"});r.find(".e-vhandle").css({width:"7px",left:"-2px"});r.find(".e-hup").css({"font-size":"10px",left:"-2px",top:"-1px"});r.find(".e-hdown").css({"font-size":"10px",left:"3px",top:"-1px"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.tooltips={_unWireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",this._wireMouseMoveEvents)},_wireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mousemove",this._wireMouseMoveEvents)},_onControlTitleMouseLeave:function(t){n.isFunction(t.preventDefault)&&t.preventDefault();t.bubbles=!1;this.element.find(".e-dbrd-tooltip").hide()},_showTitleFilterToolTip:function(t){var r=n(t.currentTarget),i=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.offset().left+i.width()>window.outerWidth?(i.find(".e-dbrd-title-filter-arrow").css({left:i.width()-66+"px"}),i.css({top:r.offset().top,left:r.offset().left-(i.width()-(r.offset().left+r.width()+2>window.outerWidth?12:18))})):(i.css({top:r.offset().top,left:r.offset().left-15}),i.find(".e-dbrd-title-filter-arrow").css({left:""}));i.stop(!0,!0,!0).show()},_hideTitleFilterToolTip:function(i){if(!(n(i.relatedTarget).parents(".e-dbrd-title-filter-wrapper").length>t.DashboardConstants.Zero)&&!n(i.relatedTarget).hasClass("e-dbrd-title-filter-wrapper")){var r=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.stop(!0,!0,!0).hide()}},_onControlTitleMouseOver:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(i.bubbles=!1,r=this,e=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var o="",s,h,c,e;if(n(i.target).hasClass("e-control-title")?o=n(i.currentTarget).find(".e-control-title"):n(i.target).hasClass("e-control-subtitle")&&(o=n(i.currentTarget).find(".e-control-subtitle")),s=null,h=null,o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s){r._onControlTitleMouseLeave(i);return}(c=t.EjSvgRender.utils._measureText(n(i.currentTarget).text().trim(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e=r.element.find(".e-dbrd-tooltip"),e.html(n(i.target).html()),r.locale.utils.ExportDashboards!==e[0].innerText)&&(e.css({top:f+15-r.element.offset().top,left:(u-r.element.offset().left+c>n(r.currentTabContentElement).width()?u-r.element.offset().left-c:u-r.element.offset().left)+r.element.scrollLeft(),display:"block"}),o.length>t.DashboardConstants.Zero&&e.css({left:u-f,"margin-left":"15px","margin-right":"15px"}),e.offset().left<t.DashboardConstants.Zero&&e.css({left:"0px","margin-left":"15px","margin-right":"15px"}))},e)}},_onControlDescriptionMouseLeave:function(i){if(!t.isNullOrUndefined(i)&&!n(i.target).hasClass("e-control-description")&&!n(i.target).hasClass("e-dbrd-desc-tooltip")&&!n(i.target).parents().hasClass("e-dbrd-desc-tooltip")){var r=this.element.find(".e-dbrd-desc-tooltip");this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&(this.element.find(".e-dbrd-desc-tooltip").removeClass("e-dbrd-control"),this.element.find(".e-dbrd-desc-tooltip").ejScroller("destroy"));r.css({width:"auto",height:"auto"});this.element.find(".e-tooltip-active").removeClass("e-tooltip-active");r.hide()}},_showbreadscrumblevelChartToolTip:function(i){var r,f,u;(n(i.target).hasClass("e-dbrd-drill")||n(i.target).hasClass("e-dbrd-dropDown ul li"))&&(i.bubbles=!1,n.isFunction(i.stopPropagation)&&i.stopPropagation(),r=i.currentTarget.textContent,r!=="")&&(f=window.innerWidth,u=t.EjSvgRender.utils._measureText(i.currentTarget.textContent.trim(),100,{size:"11px",fontStyle:"Normal",fontFamily:"Roboto"}).width,n(i.target).width()<u&&(n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}),n(this.element).find(".e-dbrd-tooltip").html(r).css({top:i.pageY+15,left:i.pageX+f>n(window).width()?i.pageX-u:i.pageX}).stop(!0,!0).show()))},_hidebreadscrumblevelChartToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showFilterToolTip:function(i){var r,u;n(i.target).hasClass("e-brd-list")&&(i.bubbles=!1,n.isFunction(i.stopPropagation)&&i.stopPropagation(),r=i.currentTarget.textContent,r!=="")&&(u=t.EjSvgRender.utils._measureText(r,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12,n(i.target).width()<u&&n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)","z-index":"1000000"}).html(r).css({top:i.pageY+15,left:i.pageX+u>n(window).width()?i.pageX-u:i.pageX}).stop(!0,!0).show())},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showDashboardToolTip:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(r=this,e=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var s,e,o;if(n(i.currentTarget).hasClass("e-dbrd-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),s=n(i.currentTarget).attr("data-tooltip"),s!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}e=t.EjSvgRender.utils._measureText(s,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;e=e<300?e:300;r.element.find(".e-dbrd-tooltip").html(s).css({"z-index":"100001",top:f+15-r.element.offset().top,left:(u-r.element.offset().left+e>n(r.element).width()?u-r.element.offset().left-e<t.DashboardConstants.Zero?t.DashboardConstants.Zero:u-r.element.offset().left-e:u-r.element.offset().left)+r.element.scrollLeft()}).stop(!0,!0).show();o=r.element.find(".e-dbrd-tooltip");o.length&&o.offset().top+o.height()+10>n("body").height()&&o.css({top:o.offset().top-o.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},e)}},_hideDashboardToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_onControlDescriptionMouseOver:function(i){var e;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});n.isFunction(i.preventDefault)&&i.preventDefault();n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation();this._destroyControlMenu();this._destroyContextMenu();this._destroyDashboardMenu();this._closeFilterOverviewDialog(i);i.bubbbles=!1;var u=300,f=t.EjSvgRender.utils._measureText(n(i.currentTarget).text(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r=this.element.find(n(".e-dbrd-desc-tooltip"));n(i.target).hasClass("e-tooltip-active")?(this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({width:"auto",height:"auto"}),n(i.target).removeClass("e-tooltip-active"),r.hide()):(this.element.find(".e-tooltip-active").removeClass("e-tooltip-active"),this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({top:i.pageY-this.element.offset().top+15,left:i.pageX-this.element.offset().left+f>n(window).width()?i.pageX-this.element.offset().left>f?i.pageX-this.element.offset().left-f:t.DashboardConstants.Zero:i.pageX-this.element.offset().left,display:"block","word-wrap":"break-word",margin:"0px 15px 0px 15px"}),r.css({width:"auto",height:"auto"}),r.html(n(i.currentTarget.children[0]).html()),n(i.target).addClass("e-tooltip-active"),r.addClass("e-dbrd-active"),r.width()>u&&(r.empty(),r.append('<div class="e-dbrd-scroll"><\/div>'),r.find(".e-dbrd-scroll").html(n(i.currentTarget.children[0]).html()),e=n(i.target).offset().left,e+u>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()?r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left-u}):r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left}),r.addClass("e-dbrd-active"),r.find(".e-dbrd-scroll").css({width:"300px"}),n(".e-dbrd-scroll").height()>150&&(r.addClass("e-dbrd-control"),r.ejScroller({width:"300px",height:"150px"}))));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});this.model.enableCustomTheming&&this._customTheme(["description"])},_descShowOrLess:function(i){var e=n(i.currentTarget),r=n(e).parents(".e-dbrd-inactive"),s=r.find(".e-dbrd-inactive-footer-description"),h=r.find(".e-dbrd-inactive-footer"),u=null,c=r.find(".e-dbrd-downArrow"),l=r.find(".e-dbrd-upArrow"),a=r.find(".e-dbrd-moreLessDiv"),v=n("#"+this._id+"_InActiveDiv"),o,f;if(e.hasClass("e-dbrd-desc-moreDiv"))for(o=n(e).children(),f=0;f<o.length;f++)n(o[f]).css("display")==="block"&&(u=n(o[f]),u=n(u[0].innerHTML));u.length!==t.DashboardConstants.Zero&&(u[0].innerText===this.locale.utils.TextMore?(h.css({height:s.height()+55}),c.css({display:"none"}),l.css({display:"block"}),a.css({"margin-top":s.height()-e.height()-10+"px"}),v.css({"overflow-y":"auto"})):(h.css({height:"70px"}),c.css({display:"block"}),l.css({display:"none"}),a.css({"margin-top":"0px"}),v.css({"overflow-y":"hidden"})))},_hideDescription:function(){if(this.currentTabContentElement.find(".e-dbrd-control-desc").length>t.DashboardConstants.Zero){var n=this.currentTabContentElement.find(".e-control-descDiv p").html();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}});this.currentTabContentElement.find(".e-dbrd-control-desc").css({display:"none"});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}})}},_destroyReportDescription:function(){n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")},_showReportDescription:function(i){var r,e,o,f;if(!t.isNullOrUndefined(i)&&(r=300,e=150,this._tabMenuPopupHide(i),n(this.currentTabContentElement).find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.currentTabContentElement.find(".e-dbrd-divHtml p").html()}}),n(this.currentTabContentElement).find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active"))this._destroyReportDescription();else{n(this.currentTabContentElement).find(".e-dbrd-banner-description").addClass("e-dbrd-banner-infoclick");n(this.currentTabContentElement).find(".e-dbrd-report-desc").hasClass("e-dbrd-control")||n(this.currentTabContentElement).find(".e-dbrd-report-desc").addClass("e-dbrd-control");var u=n(this.currentTabContentElement).find(".e-dbrd-banner-description"),s=u.offset().left-this.element.offset().left+u.width(),h=u.offset().top-this.element.offset().top+u.height();n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"block",left:s,top:h}).addClass("e-dbrd-descr-active")}o=n(i.target).offset().left;o+r>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()&&n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({left:n(i.target).offset().left-r+50});t.isNullOrUndefined(i)||(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").css({width:"auto",height:"auto"}),f=this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv"),f.width()>r&&(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").css({width:"300px"}),this.currentTabContentElement.find(".e-dbrd-divHtml").height()>e?(this.currentTabContentElement.find("#"+this._id+"reportDescriptionDiv").addClass("e-dbrd-control"),f.ejScroller({height:"150px"})):f.css({height:"auto"})),this.model.enableCustomTheming&&this._customTheme(["description"]));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.currentTabContentElement.find(".e-dbrd-divHtml p").html()}})}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dataRefresh={_refreshMasterControl:function(){var n,i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport))for(n=0;n<this.model.currentMasterReport.length;n++)for(i=0;i<this.dashboardControls.controls.length;i++)if(r=this.dashboardControls.controls[i],u=this.model.currentMasterReport[n],u.ReportName===r.reportName){r.SelectedFilterInfo.push(u);break}},_resetAutoRefreshRevamp:function(i){var r=null,u;if(this.multiTabs)for(u=0;u<this.model.autoRefreshSettings.length;u++)if(r=this._getTabsInfoForAutoRefresh(n.extend(!0,[],this.model.autoRefreshSettings[u])),!t.isNullOrUndefined(r)&&t.isNullOrUndefined(i)&&r.tabName===this.getCurrentTab().tabName){this._initializeAutoRefreshFunctions(r);break}else!t.isNullOrUndefined(r)&&i&&this._initializeAutoRefreshFunctions(r);else r=n.extend(!0,[],this.model.autoRefreshSettings[t.DashboardConstants.Zero]),r.reportName=this.reportName,this._stopDisableTimerWidgetsIntialization(r),this._initializeAutoRefreshFunctions(r)},_getTabsInfoForAutoRefresh:function(n){for(var i,e,u=null,f=this.getDashboardTabsInfo(),r=t.DashboardConstants.Zero;r<f.length;r++)if(i=f[r],i.tabName===n.tabName||t.isNullOrUndefined(n.tabName)&&i.tabIndex===n.tabIndex){n.tabName=i.tabName;e=this._checkDbrdIsRenderedOrNotByDbrdName(n.tabName);e&&(n.reportName=n.tabName,u=this._stopDisableTimerWidgetsIntialization(n));break}return u},_getDashboardTabControls:function(n,t){var r=null,i;if(n===this.reportName)r=t?this.dashboardControls.getAllControlsForRefresh():this.dashboardControls;else for(i=0;i<this.tabInfoCollection.length;i++)if(this.tabInfoCollection[i].initPrivatePropertiesInfo.reportName===n){r=t?this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls.getAllControlsForRefresh():this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls;break}return r},_initializeAutoRefreshFunctions:function(n){var i=this._getDashboardRefreshDetails(n);t.isNullOrUndefined(i)||this._initializeAutoRefresh(i);t.isNullOrUndefined(this.scheduler12ClkTimer)&&this._initialize24HrsTimerForScheduling(!0)},_getDashboardRefreshDetails:function(n){var r=null,u,i;return t.isNullOrUndefined(n)||(u=this._getIntervalTimeForDbrd(n),i=this._getWidgetListCollectionForRefresh(n),r={interval:u,isWidgetSpecific:n.isWidgetSpecific,widgets:t.isNullOrUndefined(i)?null:i.hourlyWidgets,reportName:n.reportName,showWaitingIndicator:n.showWaitingIndicator,scheduleWidgets:t.isNullOrUndefined(i)?null:i.scheduleWidgets},this._schedulerKeyGeneration(r)),r},_getIntervalTimeForDbrd:function(n){var i=null;return t.isNullOrUndefined(n.intervalSettings)||n.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly?t.isNullOrUndefined(n.intervalSettings)||(i=n.intervalSettings):i=this._getIntervalTimeToRefresh(n.intervalSettings),i},_getWidgetListCollectionForRefresh:function(n){var i=null,r,u;return n.isWidgetSpecific?i=this._checkWidgetHasMinTimeIntervalForRefresh(n.widgets,n.reportName):!t.isNullOrUndefined(n.widgets)&&n.widgets.length>t.DashboardConstants.Zero?i=this._getWidgetListForDbrdRefresh(n.widgets,n.reportName,n.intervalSettings):(t.isNullOrUndefined(n.widgets)||n.widgets.length>t.DashboardConstants.Zero)&&(r=this.multiTabs?this._getDashboardTabControls(n.tabName,!1):this.dashboardControls,u=r.getAllControlsId(),i=this._getWidgetListForDbrdRefresh(u,n.reportName,n.intervalSettings)),i},_checkWidgetHasMinTimeIntervalForRefresh:function(i,r){var u=n.extend(!0,[],i),o=[],c=null,l=[],s,e,h,f,a;if(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero){for(s=0;s<u.length;s++)o.push(u[s].id);for(c=this._getDashboardControlsForAutoRefresh(o,r),o=[],e=0;e<u.length;e++)for(h=0;h<c.length;h++)c[h].reportName===u[e].id&&(f=u[e],a=!t.isNullOrUndefined(f.intervalSettings)&&!t.isNullOrUndefined(f.intervalSettings.mode)?f.intervalSettings.mode:t.dashboardViewer.refreshTimer.mode.hourly,t.isNullOrUndefined(a)||(f.interval=f.intervalSettings.mode===t.dashboardViewer.refreshTimer.mode.hourly?this._getIntervalTimeToRefresh(f.intervalSettings):null,t.isNullOrUndefined(f.interval)?l.push(f):(delete u[e].intervalSettings,o.push(f))));u=o}return{hourlyWidgets:u,scheduleWidgets:l}},_getWidgetListForDbrdRefresh:function(i,r,u){var f=n.extend(!0,[],i),e=[],c=null,v=null,l=!1,s,o,h,a;if(t.isNullOrUndefined(u)||u.mode===t.dashboardViewer.refreshTimer.mode.hourly||(l=!0),!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero){for(s=0;s<f.length;s++)e.push(f[s]);for(c=this._getDashboardControlsForAutoRefresh(e,r),e=[],o=0;o<f.length;o++)for(h=0;h<c.length;h++)c[h].reportName===f[o]&&e.indexOf(f[o])===t.DashboardConstants.IndexLowerBound&&(a=l?{id:f[o],intervalSettings:u}:f[o],e.push(a))}return v=l?{scheduleWidgets:e}:{hourlyWidgets:e}},_initializeAutoRefresh:function(n){var e=n.interval,h=n.isWidgetSpecific,i=n.widgets,o=n.reportName,s=n.showWaitingIndicator,f=null,r=[],u;if(!h&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){for(u=0;u<i.length;u++)f=i[u],f!==""&&r.push({interval:e,id:f});this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._restrictPreviousPageWidgets(r));this._widgetAutoRefresh(r,o,s)}else!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(i=this._restrictPreviousPageWidgets(i)),this._widgetAutoRefresh(i,o,s))},_processAutoRefreshData:function(i,r){var b,h,s,f,e,u,o,nt,y,p;this.isFromAutoRefresh=!1;this.isDashboardResize=!1;var a=[],tt=null,it=null,rt=null,l={},v=[],w={};for(this.currentSlaveInfo=[],this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(b=this._generateKeyFromDataForCache(i.data),this._getValueFromStore(b)||this._addToStore(b,r),this._cleanUpStore()),h=0;h<r.d.length;h++)if(s=r.d[h],s.Key==="ParamColumns")r.d[h].Value!==null&&(l=new Dbrdcontrol,w=this.dashboardControls.getControlByReport("parameterColumnData"),rt=JSON.parse(r.d[h].Value),l.controlType="parameterColumnData",w.data=[],v=new dbrdcontrolData,v.pagedata=rt,l.data.push(v),l=w,l.data=[],l.data.push(v)),tt=n.parseJSON(s.Value);else if(s.Key==="FilterPanel"){this.tempDataForFilter=n.parseJSON(r.d[h].Value);t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.refreshData(this.tempDataForFilter);continue}else if(s.Key==="Widgets"){var k=JSON.parse(s.Value),d=[],c=[],g=[],ut=!1;for(f in k)Object.prototype.hasOwnProperty.call(k,f)&&(e=k[f],c={},e!==null&&(t.isNullOrUndefined(e.Data)||(d=JSON.parse(e.Data)),t.isNullOrUndefined(e.Error)||(ut=!0),t.isNullOrUndefined(e.ConfigInfo)||t.isNullOrUndefined(e.ConfigInfo)||(g=JSON.parse(e.ConfigInfo)),t.isNullOrUndefined(e.DynamicData)||(c=JSON.parse(e.DynamicData)))),u=this.dashboardControls.getControlByReport(f.split(":")[0]),this.currentSlaveInfo.push(u.reportName),f.split(":").length===t.DashboardConstants.One&&(f=f+":1"),f.split(":").length===2?(o=this.dashboardControls.getControlByReport(f.split(":")[0]),o.getPageDataBypage(parseInt(f.split(":")[1])).pagedata=d,ut===!1&&(o.getPageDataBypage(parseInt(f.split(":")[1])).isError=!1),o.configInfo=g,this._updateConfigInfo(o.controlType,o),u.controlType==="PivotGrid"?(o.PivotReport=c.PivotReport,o.PivotJSONData=o.data[t.DashboardConstants.Zero].pagedata):u.controlType==="TreeMap"&&(o.drillLevels=c.SerializeLevelInfo),u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f.split(":")[0])))),u.currentPage=parseInt(f.split(":")[1]),a.push(u)):(this.dashboardControls.getControlByReport(f).getCurrentPageData().pagedata=d,u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f)))),a.push(u)),u.controlType!=="Grid"||g.AllowPaging||t.isNullOrUndefined(u.totalCount)?t.isNullOrUndefined(c.totalCount)||c.totalCount===u.totalCount||(u.totalCount=c.totalCount,u.totalPages=Math.ceil(u.totalCount/u.scrollSetting.controlPerPage)):u.totalCount=this._updateWidgetTotalCount(u,50)}else s.Key==="Title"&&(it=JSON.parse(s.Value));if(this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,it),this._startRenderingControls(a),this._callFunction(this._updateParameterColumns,tt),this.model.enableAutoRefresh===!0){for(nt=[],y=0;y<a.length;y++)p=a[y],t.isNullOrUndefined(p.reportName)||p.reportName===""||nt.push(p.reportName);this._restartTimerForSlaves(nt)}this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_refreshControl:function(t){var i=n(t.currentTarget).parents(".e-dbrd-control").attr("data-controlid");this.refreshDashboard(i,!0)},_resetAutoRefresh:function(){var t=this,i;this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);i=[];this.autorefreshTimer=setTimeout(function(){t.rangeData=[];t._setSlaveData(i,n(t.currentTabContentElement).find(".e-dbrd-control"));t._setSlaveData(i,n(t.currentTabContentElement).find(".e-FilterBox"));var r={master:null,masterData:t.masterData,slaves:i,showIndicator:t.model.autoRefreshSettings.showWaitingIndicator,isAutoRefresh:!0};t._makeSlaveDataRequest(r)},this.model.autoRefreshSettings.interval*1e3)},_setSlaveData:function(n,t){for(var i=0;i<t.length;i++)t[i].id!==""&&n.push(t[i].id)},_widgetAutoRefresh:function(n,i,r){if(n.length>t.DashboardConstants.Zero){var u=this._getWidgetHasSameTimer(n,r),f=this._generateAutoRefreshCollection(u,i);this._setTimerForCurrentTabWidgets(f)}},_generateAutoRefreshCollection:function(n,i){for(var u,f=[],r=t.DashboardConstants.Zero;r<n.length;r++)u=i+t.DashboardConstants.AutoRefreshList+(Object.keys(this.autoRefreshCollection).length+t.DashboardConstants.One),this.autoRefreshCollection[u]=n[r],f.push(u);return f},_getWidgetHasSameTimer:function(n,i){for(var r,o,u,s,h=[],f=[],e=t.DashboardConstants.Zero;e<n.length;e++)if(r=n[e],f.length===t.DashboardConstants.Zero||f.indexOf(r.interval)===t.DashboardConstants.IndexLowerBound){for(o=[],u=t.DashboardConstants.Zero;u<n.length;u++)s=n[u],r.interval===s.interval&&o.push(s.id);f.push(r.interval);h.push({intervalTime:r.interval,showWaitingIndicator:i,refreshWidgets:o})}return h},_getDashboardControlsForAutoRefresh:function(n,i){for(var u,e=[],f=this.reportName===i?this.dashboardControls.getAllControlsForRefresh():this._getDashboardTabControls(i,!0),r=t.DashboardConstants.Zero;r<f.length;r++)for(u=t.DashboardConstants.Zero;u<n.length;u++)f[r].reportName!==""&&n[u]!==""&&f[r].reportName===n[u]&&e.push(f[r]);return e},_autoRefreshWaitingIndicatorCreate:function(i){var r,u;for(this.isFromAutoRefresh=!0,r=t.DashboardConstants.Zero;r<i.length;r++)u="#"+this._id+t.DashboardConstants.Widget+i[r].reportName,this._createControlWaitingIndicator(n(u).parents(".e-dbrd-control-container"),!0)},_autoRefreshCallSender:function(n){var t=JSON.parse(JSON.stringify(this.dashboardParameters)),i={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(n),data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionString:null,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(t),page:JSON.stringify(this.pageInfo)}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(i)},_getSlaveIdList:function(n){var u=null,i=[],r;if(t.isNullOrUndefined(n.controlsIdList)&&!t.isNullOrUndefined(n.widgetInfo))for(u=JSON.parse(n.widgetInfo),r=t.DashboardConstants.Zero;r<u.length;r++)i.push(u[r].reportName);else t.isNullOrUndefined(n.controlsIdList)?!t.isNullOrUndefined(n.action)&&n.action.indexOf("GetInnerLevelDrill")>=t.DashboardConstants.Zero&&i.push(n.controlId):i=JSON.parse(n.controlsIdList);return i},_restartTimerForSlaves:function(n){if(n.length>t.DashboardConstants.Zero){var r=this._getRefreshListKeyFromAutoRefreshCollection(n),i=this._getCurrentTabKeyList(r);i.length>t.DashboardConstants.Zero&&this._restartWidgetTimer(i,n)}},_getCurrentTabKeyList:function(n){for(var i=null,u=[],r=t.DashboardConstants.Zero;r<n.length;r++)i=n[r],i.indexOf(this.reportName)===t.DashboardConstants.IndexLowerBound?this.hiddenTabRefreshKey.indexOf(i)===t.DashboardConstants.IndexLowerBound&&this.hiddenTabRefreshKey.push(i):i.indexOf(this.reportName)>=t.DashboardConstants.Zero&&u.push(i);return u},_getRefreshListKeyFromAutoRefreshCollection:function(n){for(var r,h,u,c,i=[],e=this.autoRefreshCollection,o=Object.keys(e),s=t.DashboardConstants.Zero,f=t.DashboardConstants.Zero;f<o.length;f++){if(s===n.length)break;for(r=o[f],h=e[r].refreshWidgets,u=t.DashboardConstants.Zero;u<n.length;u++)c=n[u],(i===t.DashboardConstants.Zero||h.indexOf(c)!==t.DashboardConstants.IndexLowerBound)&&(s++,i.indexOf(r)===t.DashboardConstants.IndexLowerBound&&i.push(r))}return i},_restartWidgetTimer:function(n,i){var r=null,u=t.DashboardConstants.Zero,e,f;if(n.length>t.DashboardConstants.Zero)for(u=t.DashboardConstants.Zero;u<n.length;u++)r=n[u],e=this._checkAllItemsInRefreshCollection(this.autoRefreshCollection[r].refreshWidgets,i),e?(f=this.autoRefreshTimerCollection[r],f!==null&&clearTimeout(f),this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)):this._removeItemAndStartIndividualWidgteTimer(n,i)},_setAutoRefreshWidgetTimer:function(n,i){var r=this;t.isNullOrUndefined(i)||i===t.DashboardConstants.Zero||(this.autoRefreshTimerCollection[n]=setTimeout(function(n){var i,u,f;n.indexOf(r.reportName)>=t.DashboardConstants.Zero?(i=r._getDashboardControlsForAutoRefresh(r.autoRefreshCollection[n].refreshWidgets,r.reportName),u=r.autoRefreshCollection[n].showWaitingIndicator,r.isFromAutoRefresh=!0,r.isExtendedLayout&&r.actualPages.length!==t.DashboardConstants.One&&(f=r._getPageForCurrentView(),i=r._getAutoRefreshWidgetsForCurrentPage(i,f)),u&&r._autoRefreshWaitingIndicatorCreate(i),r._autoRefreshCallSender(i)):n.indexOf(r.reportName)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.indexOf(n)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.push(n)},i*t.DashboardConstants.Thousand,n))},_removeItemAndStartIndividualWidgteTimer:function(n,i){for(var r,f,v,y,p,w,s=[],e=null,o=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,c=null,l=[],a=null,h=0;h<n.length;h++)for(c=n[h],r=this.autoRefreshCollection[c],e=r.refreshWidgets,a=r.showWaitingIndicator,o=t.DashboardConstants.Zero;o<i.length;o++)for(u=t.DashboardConstants.Zero;u<e.length;u++)e[u]===i[o]&&(f=e[u],(s===t.DashboardConstants.Zero||s.indexOf(f)===t.DashboardConstants.IndexLowerBound)&&(s.push(f),v=f,r.refreshWidgets.splice(r.refreshWidgets.indexOf(v),t.DashboardConstants.One),y={interval:r.intervalTime,id:f},l.push(y)));p=this._getWidgetHasSameTimer(l,a);w=this._generateAutoRefreshCollection(p,this.reportName);this._setTimerForCurrentTabWidgets(w)},_setTimerForCurrentTabWidgets:function(n){for(var r,i=t.DashboardConstants.Zero;i<n.length;i++)r=n[i],this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)},_checkAllItemsInRefreshCollection:function(n,i){for(var e,u=t.DashboardConstants.Zero,f=!1,r=0;r<i.length;r++)e=i[r],n.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u++;return u===n.length&&(f=!0),f},_resetCurrentTabRefreshTimer:function(){var n,i,r,e,o,u,s,f;if(this.multiTabs&&this.hiddenTabRefreshKey.length>t.DashboardConstants.Zero&&(n=[],i=this._getCurrentTabKeyList(this.hiddenTabRefreshKey),i.length>t.DashboardConstants.Zero)){for(r=0;r<i.length;r++){for(e=i[r],o=this.autoRefreshCollection[e].refreshWidgets,u=t.DashboardConstants.Zero;u<o.length;u++)s=o[u],n.indexOf(s)===t.DashboardConstants.IndexLowerBound&&n.push(s);this.hiddenTabRefreshKey.splice(this.hiddenTabRefreshKey.indexOf(e),t.DashboardConstants.One)}this._refreshHiddenTabWidgets(n)}this.multiTabs&&Object.keys(this.schedulerHiddenTabKeys).length>t.DashboardConstants.Zero&&(f=this.schedulerHiddenTabKeys[this.reportName],!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&(this._refreshHiddenTabWidgets(f),this.schedulerHiddenTabKeys.splice(this.schedulerHiddenTabKeys.indexOf(this.reportName),t.DashboardConstants.One)))},_refreshHiddenTabWidgets:function(n){var i=this._getDashboardControlsForAutoRefresh(n,this.reportName),r;this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._getPageForCurrentView(),i=this._getAutoRefreshWidgetsForCurrentPage(i,r));this._autoRefreshWaitingIndicatorCreate(i);this._autoRefreshCallSender(i)},_stopDisableTimerWidgetsIntialization:function(i){var o,f,r,e,u;if(!t.isNullOrUndefined(this.autoRefreshUserCollection)&&Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(o=t.isNullOrUndefined(i.tabName)?i.reportName:i.tabName,f=this.autoRefreshUserCollection[o].disable,t.isNullOrUndefined(f))i.widgets=[];else if(r=t.DashboardConstants.Zero,e=null,!t.isNullOrUndefined(i.widgets)){for(u=n.extend(!0,[],i.widgets),r=0;r<u.length;r++)e=i.isWidgetSpecific?u[r].id:u[r],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u.splice(r,t.DashboardConstants.One);i.widgets=u}return i},_clearAutoRefreshTimerAndCollection:function(){for(var i=[],r=Object.keys(this.autoRefreshCollection),n=t.DashboardConstants.Zero;n<r.length;n++)i.push(r[n]);this._clearAutoRefreshTimer(i);this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=null},_clearAutoRefreshTimer:function(n){for(var i=t.DashboardConstants.Zero,r=null,u=null,i=t.DashboardConstants.Zero;i<n.length;i++)r=n[i],u=this.autoRefreshTimerCollection[r],u!==null&&(clearTimeout(u),this.autoRefreshCollection[r].intervalTime=t.DashboardConstants.Zero)},_isCheckUserValidTabName:function(n){var u=this.reportName,i=!1,r,t;if(this.multiTabs||u!==n){if(this.multiTabs)for(r=this.getDashboardTabsInfo(),t=0;t<r.length;t++)n===r[t].tabName&&(i=!0)}else i=!0;return i},_checkDbrdIsRenderedOrNotByDbrdName:function(i){var f=!1,u,r,e;if(f=i===this.reportName&&!this.multiTabs&&n("#"+this._dashboardId).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero,this.multiTabs)for(u=this.getDashboardTabsInfo(),r=0;r<u.length;r++)if(i===u[r].tabName){e=u[r].tabId;f=n("#"+this._dashboardId+"_"+e).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero;break}return f},_disableAutoRefreshCollection:function(){var n=this._getDisableOrEnableWidgetCollection(!0),i;n.length>t.DashboardConstants.Zero&&(i=this._getRefreshListKeyFromAutoRefreshCollection(n),this._removeWidgetsToDisableAutoRefresh(i,n),this._removeWidgetsFromScheduleCollection(),this._clearTimerForDisableWidgets())},_getDisableOrEnableWidgetCollection:function(n){for(var r,a,u,f,o,c,s=this.autoRefreshUserCollection,e=[],i=null,l=Object.keys(s),h=0;h<l.length;h++)if(r=l[h],a=this._checkDbrdIsRenderedOrNotByDbrdName(r),a)if(u=n?s[r].disable:s[r].enable,t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero)for(i=this._getControlsIdFromRefreshApi(r),f=0;f<i.length;f++)e.indexOf(i[f])===t.DashboardConstants.IndexLowerBound&&e.push(i[f]);else for(i=this._getControlsIdFromRefreshApi(r),o=0;o<u.length;o++)c=u[o],i.indexOf(c)!==t.DashboardConstants.IndexLowerBound&&e.push(c);return e},_removeWidgetsToDisableAutoRefresh:function(n,i){for(var s,r,f,u,o=n,e=t.DashboardConstants.Zero;e<o.length;e++)for(s=o[e],r=this.autoRefreshCollection[s].refreshWidgets,f=t.DashboardConstants.Zero;f<i.length;f++)for(u=t.DashboardConstants.Zero;u<r.length;u++)r[u]===i[f]&&r.splice(r.indexOf(r[u]),t.DashboardConstants.One)},_getControlsIdFromRefreshApi:function(i){for(var s,r,u,h,o=[],e=n.extend(!0,[],this.model.autoRefreshSettings),f=0;f<e.length;f++)if(s=this._getDashboardNameFromRefreshAPI(e[f]),!t.isNullOrUndefined(s)&&s===i)if(r=e[f].widgets,t.isNullOrUndefined(r))h=this.multiTabs?this._getDashboardTabControls(i,!1):this.dashboardControls,o=h.getAllControlsId();else for(u=t.DashboardConstants.Zero;u<r.length;u++)r[u].id!==""&&o.push(e[f].isWidgetSpecific?r[u].id:r[u]);return o},_getDashboardNameFromRefreshAPI:function(n){var i=null;return this.multiTabs&&!t.isNullOrUndefined(n.tabName)?i=n.tabName:this.multiTabs&&!t.isNullOrUndefined(n.tabIndex)?i=this._getTabNameByTabIndex(n.tabIndex):this.multiTabs||(i=this.reportName),i},_clearTimerForDisableWidgets:function(){for(var r,f,n=[],u=Object.keys(this.autoRefreshCollection),i=0;i<u.length;i++)r=u[i],f=this.autoRefreshCollection[r].refreshWidgets,f.length<=t.DashboardConstants.Zero&&n.push(r);n.length>t.DashboardConstants.Zero&&this._clearAutoRefreshTimer(n)},_enableAutoRefreshCollection:function(){var i=this._getDisableOrEnableWidgetCollection(!1),r,t,n;for(this._restartTimerForSlaves(i),r=this._getEnableTimerwidgetListToRefresh(i),t=this._getIntervalTimeToEnableWidgets(r),n=0;n<t.length;n++)this._widgetAutoRefresh(t[n].hourlyWidgets,t[n].reportName,t[n].showWaitingIndicator),this._schedulerKeyGeneration(t[n])},_getEnableTimerwidgetListToRefresh:function(n){for(var o,s,i,r,u=Object.keys(this.autoRefreshCollection),f=u.length===t.DashboardConstants.Zero?n:[],e=0;e<u.length;e++)for(o=u[e],s=this.autoRefreshCollection[o].refreshWidgets,i=0;i<n.length;i++)r=n[i],s.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.push(r);return f},_getIntervalTimeToEnableWidgets:function(i){for(var e,s,u,o=[],f=n.extend(!0,[],this.model.autoRefreshSettings),r=0;r<f.length;r++)e=this._getDashboardNameFromRefreshAPI(f[r]),s=this._checkDbrdIsRenderedOrNotByDbrdName(e),s&&(u=this._getEnableWidgetListWithInterval(f[r],e,i),(u.hourlyWidgets.length||u.scheduleWidgets.length>t.DashboardConstants.Zero)&&o.push({reportName:e,hourlyWidgets:u.hourlyWidgets,scheduleWidgets:u.scheduleWidgets,showWaitingIndicator:f[r].showWaitingIndicator}));return o},_getEnableWidgetListWithInterval:function(n,t,i){n.reportName=t;var r=this._getWidgetListCollectionForRefresh(n),u=this._getIntervalSettingsFromAPI(r.hourlyWidgets,i,n),f=this._getIntervalSettingsFromAPI(r.scheduleWidgets,i,n);return{hourlyWidgets:u,scheduleWidgets:f}},_getIntervalSettingsFromAPI:function(n,i,r){var c=r.isWidgetSpecific,h=!t.isNullOrUndefined(r.intervalSettings)&&r.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly,s=[],f=null,e=null,u,o;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero)for(u=0;u<n.length;u++)for(o=0;o<i.length;o++)c&&!h?(f=n[u].id,e=i[o],f===e&&s.push(n[u])):c||h?h&&(f=n[u].id,e=i[o],f===e&&s.push(n[u])):(f=n[u],e=i[o],f===e&&s.push({id:n[u],interval:r.intervalSettings}));return s},_enableToDisableOrDisableToEnableWidgetStatus:function(i,r){var u,f,o,e;if(Object.keys(this.autoRefreshUserCollection[i]).length===2)for(u=n.extend(!0,[],this.autoRefreshUserCollection[i].enable),f=n.extend(!0,[],this.autoRefreshUserCollection[i].disable),o=0;o<u.length;o++)e=u[o],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&r&&(f.splice(f.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].disable=f),u.indexOf(e)===t.DashboardConstants.IndexLowerBound||r||(u.splice(u.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].enable=u)},_getIntervalTimeToRefresh:function(n){var i=t.DashboardConstants.Zero,r,u;return t.isNullOrUndefined(n)||t.isNullOrUndefined(n.mode)||(r=n.mode,r===t.dashboardViewer.refreshTimer.mode.hourly&&(u=n.hourlySchedule,i=this._getIntervalTimeForHourlyMode(u),i=i<t.DashboardConstants.AutoRefreshMinTimer?t.DashboardConstants.AutoRefreshMinTimer:i)),i},_getIntervalTimeForHourlyMode:function(n){var i=t.DashboardConstants.Zero,r=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,f=t.DashboardConstants.Zero;return i=t.isNullOrUndefined(n.hours)?i:this._getSecondsForHours(n.hours),r=t.isNullOrUndefined(n.minutes)?r:this._getSecondsForMins(n.minutes),u=t.isNullOrUndefined(n.seconds)?u:n.seconds,i+r+u},_getSecondsForHours:function(n){return n*3600},_getSecondsForMins:function(n){return n*60},_getCurrentTime:function(){return this._getSecondsForHours((new Date).getHours())+this._getSecondsForMins((new Date).getMinutes())+(new Date).getSeconds()},_schedulerKeyGeneration:function(n){var o=n.scheduleWidgets,i,r,s,h,c,u,l,f,e,a;if(!t.isNullOrUndefined(o)){for(i=[],r=0;r<o.length;r++)s=o[r],h=s.intervalSettings.mode,h!==t.dashboardViewer.refreshTimer.mode.hourly&&(c=this._generateCollectionForScheduling(s,h),t.isNullOrUndefined(c)||i.push(c));if(i.length>t.DashboardConstants.Zero&&t.isNullOrUndefined(this.scheduleCollection[n.reportName])&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero)this.scheduleCollection[n.reportName]={scheduleWidgets:i,showWaitingIndicator:n.showWaitingIndicator};else if(!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){for(u=this.scheduleCollection[n.reportName].scheduleWidgets,l=[],f=0;f<u.length;f++)l.push(u[f].id);for(e=0;e<i.length;e++)a=i[e],l.indexOf(a.id)===t.DashboardConstants.IndexLowerBound&&u.push(a)}}},_generateCollectionForScheduling:function(n,i){var f=null,r=null,e=n.id,u=null;switch(i){case t.dashboardViewer.refreshTimer.mode.daily:u=new Date;r=n.intervalSettings.dailySchedule;f={id:e,isSchedule:!1,mode:i,days:r.days,nextRenderDate:this._getNextRenderDateForDaily(r.days,u)};break;case t.dashboardViewer.refreshTimer.mode.weekly:u=new Date;r=n.intervalSettings.weeklySchedule;f={id:e,isSchedule:!1,mode:i,weeks:r.weeks,weekDay:r.weekDay,nextRenderDate:this._getNextRenderDateForWeekly(r.weeks,r.weekDay,u),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.monthly:u=new Date;r=n.intervalSettings.monthlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,months:r.months,nextRenderDate:this._getNextRenderDateForMonthly(r.day,r.months,u,!1),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.yearly:u=new Date;r=n.intervalSettings.yearlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,month:r.month,years:r.years,nextRenderDate:this._getNextRenderDateForYearly(r.day,r.month,r.years,u,!1),dashboardName:this.reportName}}return f},_getNextRenderDateForDaily:function(n,t){return new Date(new Date(t).setDate(new Date(t).getDate()+n))},_getNextRenderDateForWeekly:function(n,i,r){var u=new Date(r),f=this._getNextRenderDay(u,i),o=null,s=t.DashboardConstants.Zero,c,l,h;if(f!==t.DashboardConstants.Zero)if(c=this._getRemainingDaysOfTheWeek(u),l=c.indexOf(f)!==t.DashboardConstants.IndexLowerBound,l)h=this._getStartDateOfWeek(u),s=h.getDay()+(f-t.DashboardConstants.One),o=new Date(h.setDate(h.getDate()+s));else{var a=n*7,v=new Date(u.setDate(u.getDate()+a)),e=this._getStartDateOfWeek(v);e.getDay()===f-t.DashboardConstants.One?o=e:(s=e.getDay()+(f-t.DashboardConstants.One),o=new Date(e.setDate(e.getDate()+s)))}return o},_getNextRenderDay:function(n,i){for(var f,e,u=t.DashboardConstants.Zero,r=0;r<i.length;r++)if(f=n.getDay()+t.DashboardConstants.One,i[r]>f){u=i[r];break}else e=i.sort((n,t)=>n>t),u=e[t.DashboardConstants.Zero];return u},_getStartDateOfWeek:function(n){var i=n?new Date(Number(n)):new Date;return i.setHours(t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero),i.setDate(i.getDate()-n.getDay()),i},_getRemainingDaysOfTheWeek:function(n){for(var r=[],u=n.getDay()+t.DashboardConstants.One,i=1;i<=7;i++)i>u&&r.indexOf(i)===t.DashboardConstants.IndexLowerBound&&r.push(i);return r},_getNextRenderDateForMonthly:function(n,i,r,u){var f=new Date(r),o=null,c,a;if(u&&n===f.getDate())o=new Date(f.setMonth(f.getMonth()+i));else{var e=n,l=t.DashboardConstants.Zero;if(e===32&&(c=new Date,a=new Date(c.getFullYear(),c.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero),e=a.getDate()),e>f.getDate())l=e-f.getDate(),o=new Date(f.setDate(f.getDate()+l));else{var s=new Date(f.setMonth(f.getMonth()+i)),h=new Date(s.getFullYear(),s.getMonth(),t.DashboardConstants.One),v=new Date(s.getFullYear(),s.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero);e===h.getDate()?o=h:e<=v.getDate()&&(o=new Date(h.setDate(h.getDate()+(e-t.DashboardConstants.One))))}}return o},_getNextRenderDateForYearly:function(n,i,r,u,f){var e=new Date(u),o=null,a,v;if(f)n===e.getDate()&&i===e.getMonth()+t.DashboardConstants.One&&(o=new Date(e.setFullYear(e.getFullYear()+r)));else{var l=null,c=null,h=null,s=e.getMonth()+t.DashboardConstants.One;n>e.getDate()&&i===s?(l=n-e.getDate(),o=new Date(e.setDate(e.getDate()+l))):i>s?(h=i-s,a=new Date(e.setMonth(e.getMonth()+h)),o=this._getDateForYearlyMode(n,a)):i<=s&&(c=new Date(e.setFullYear(e.getFullYear()+r)),h=s-i,v=new Date(c.setMonth(c.getMonth()-h)),o=this._getDateForYearlyMode(n,v))}return o},_getDateForYearlyMode:function(n,i){var r=null,u=t.DashboardConstants.Zero;return n>i.getDate()?(u=n-i.getDate(),r=new Date(i.setDate(i.getDate()+u))):n===i.getDate()?r=i:n<i&&(u=i.getDate()-n,r=new Date(i.setDate(i.getDate()-u))),r},_initialize24HrsTimerForScheduling:function(n){if(Object.keys(this.scheduleCollection).length>t.DashboardConstants.Zero){var i=this._getBalanceTimeOfTheDay(n);this._setTimerForScheduling(i)}},_getBalanceTimeOfTheDay:function(n){var t=null,i=null;return t=new Date,i=n?new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,58,0):new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,-2,0),i-t},_setTimerForScheduling:function(n){var i=new Date,r=new Date(i.setDate(i.getDate()+t.DashboardConstants.One)),u=this;this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=setTimeout(function(){var n=u._getWidgetListForScheduling(r);Object.keys(n).length>t.DashboardConstants.Zero&&u._refreshSchecduleCollection(n,r)},n)},_getWidgetListForScheduling:function(n){for(var f=Object.keys(this.scheduleCollection),e=[],r=0;r<f.length;r++){var u=f[r],o=this.scheduleCollection[u].scheduleWidgets,i=this._getScheduleWidgetDetails(u,o,n);!t.isNullOrUndefined(i)&&i.scheduleWidgets.length>t.DashboardConstants.Zero&&i.dateResetWidgets.length>t.DashboardConstants.Zero&&(e[u]={scheduleWidgets:i.scheduleWidgets,dateResetWidgets:i.dateResetWidgets})}return e},_getScheduleWidgetDetails:function(n,i,r){for(var u,e=[],o=[],f=0;f<i.length;f++)u=i[f],!t.isNullOrUndefined(u.nextRenderDate)&&this._checkDateMonthYear(u.nextRenderDate,r)&&(e.push(u.id),o.push(u));return{scheduleWidgets:e,dateResetWidgets:o}},_checkDateMonthYear:function(n,t){var i=!1;return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&(i=!0),i},_refreshSchecduleCollection:function(n,i){var r,u;Object.keys(n).length>t.DashboardConstants.Zero&&(this._resetNextRenderDate(n,i),r=this._getCurrentTabScheduleCollection(n),t.isNullOrUndefined(r)||(u=this._getDashboardControlsForAutoRefresh(r,this.reportName),this.isFromAutoRefresh=!0,!t.isNullOrUndefined(this.scheduleCollection[this.reportName])&&this.scheduleCollection[this.reportName].showWaitingIndicator&&this._autoRefreshWaitingIndicatorCreate(u),this._autoRefreshCallSender(u),this._initialize24HrsTimerForScheduling(!1)))},_getCurrentTabScheduleCollection:function(n){for(var t,r=null,u=Object.keys(n),i=0;i<u.length;i++)t=u[i],t===this.reportName?r=n[t].scheduleWidgets:this._addHiddenTabScheduleKeys(n[t].scheduleWidgets,t);return r},_addHiddenTabScheduleKeys:function(n,i){var e=Object.keys(this.schedulerHiddenTabKeys),u,r,f;if(e.indexOf(i)===t.DashboardConstants.IndexLowerBound)this.schedulerHiddenTabKeys[i]=n;else for(u=this.schedulerHiddenTabKeys[i],r=0;r<n.length;r++)f=n[r],u.indexOf(f)===t.DashboardConstants.IndexLowerBound&&u.push(f)},_resetNextRenderDate:function(n,i){for(var s,e,u,r,h,o=Object.keys(n),f=0;f<o.length;f++)for(s=o[f],e=n[s].dateResetWidgets,u=0;u<e.length;u++){r=e[u];r.isSchedule=!0;h=r.mode;switch(h){case t.dashboardViewer.refreshTimer.mode.daily:r.nextRenderDate=this._getNextRenderDateForDaily(r.days,i);break;case t.dashboardViewer.refreshTimer.mode.weekly:r.nextRenderDate=this._getNextRenderDateForWeekly(r.weeks,r.weekDay,i);break;case t.dashboardViewer.refreshTimer.mode.monthly:r.nextRenderDate=this._getNextRenderDateForMonthly(r.day,r.months,i,!0);break;case t.dashboardViewer.refreshTimer.mode.yearly:r.nextRenderDate=this._getNextRenderDateForYearly(r.day,r.month,r.years,i,!0)}}},_removeWidgetsFromScheduleCollection:function(){var e=Object.keys(this.scheduleCollection),f,u,i,n,r;if(e.length>t.DashboardConstants.Zero)for(f=this.autoRefreshUserCollection,u=Object.keys(f),i=0;i<u.length;i++)n=u[i],r=this.scheduleCollection[n],!t.isNullOrUndefined(r)&&r.scheduleWidgets.length>t.DashboardConstants.Zero&&(this._removeScheduleWidgetsByDashboardName(n,r.scheduleWidgets),this.scheduleCollection[n].scheduleWidgets.length===t.DashboardConstants.Zero&&delete this.scheduleCollection[n])},_removeScheduleWidgetsByDashboardName:function(n,i){var u=this.autoRefreshUserCollection[n].disable,f,e,r,o;if(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero)for(f=0;f<u.length;f++)for(e=u[f],r=0;r<i.length;r++)o=i[r].id,e===o&&i.splice(i.indexOf(i[r]),t.DashboardConstants.One)},_clearAllDisablecollection:function(){var i,r,n;if(Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(i=null,this.multiTabs)for(r=this.getDashboardTabsInfo(),n=0;n<r.length;n++)i=r[n].tabName,this._removeDisableListOfDbrd(i);else this._removeDisableListOfDbrd(this.reportName)},_removeDisableListOfDbrd:function(n){var i=this.autoRefreshUserCollection[n];!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.disable)&&i.disable.length>t.DashboardConstants.Zero&&(i.disable=[])},_getAutoRefreshWidgetsForCurrentPage:function(n,i){for(var u,f,e,o=[],s=this.pageInformations.filter(function(n){return i.indexOf(n)===t.DashboardConstants.IndexLowerBound}),r=0;r<n.length;r++)for(u=0;u<this.dashboardControls.controls.length;u++)f=this.dashboardControls.controls[u],e=n[r],f.reportName===e.reportName&&(i.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?o.push(e):s.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.indexOf(n[r])===t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.push(e));return o},_refreshControlForUpdatedPages:function(){var f,n,i,r,u;if(this.hiddenPageWidgetsForRefresh.length>t.DashboardConstants.Zero){for(f=this._getPageForCurrentView(),n=[],i=0;i<this.hiddenPageWidgetsForRefresh.length;i++)for(r=0;r<this.dashboardControls.controls.length;r++)u=this.dashboardControls.controls[r],u.reportName===this.hiddenPageWidgetsForRefresh[i].reportName&&f.indexOf(u.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&n.push(this.hiddenPageWidgetsForRefresh[i]);this.hiddenPageWidgetsForRefresh=this.hiddenPageWidgetsForRefresh.filter(function(i){return n.indexOf(i)<t.DashboardConstants.Zero});this._autoRefreshWaitingIndicatorCreate(n);this._autoRefreshCallSender(n)}},_restrictPreviousPageWidgets:function(n){for(var f,e,r,i,o=Object.keys(this.autoRefreshCollection),u=0;u<o.length;u++)if(f=o[u],e=this.autoRefreshCollection[f].refreshWidgets,f.indexOf(this.reportName)!==t.DashboardConstants.IndexLowerBound)for(r=0;r<e.length;r++)for(i=0;i<n.length;i++)if(e[r]===n[i].id){n.splice(n.indexOf(n[i]),t.DashboardConstants.One);break}return n}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.linking={_controlNavigate:function(n,i,r){var u=0,o=0,h=0,f="",d={data:i,widgetInstance:r,viewerInstance:this},ht=t.dashboardViewer.navigationTargets.Blank,it=!1,c,a,v,rt,ut,b,g,p,nt,w,e,ft,l,s,et,ot,tt,k,st,y;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){for(c=0;c<i.length;c++)for(a=0;a<i[c].Items.length;a++)i[c].Items[a].IsDateTime&&(i[c].Items[a].Value=t.globalize.format(new Date(i[c].Items[a].Value),i[c].Items[a].Format.replace(/[{0:}]/gi,"")));if(n.LinkType===t.DashboardConstants.One){if(v="",f=n.Path,!t.isNullOrUndefined(n.ColumnsCollection))for(u=0;u<n.ColumnsCollection.length;u++){for(v="",rt=n.ColumnsCollection[u],o=0;o<i.length;o++)for(ut=i[o].Items,h=0;h<ut.length;h++)b=ut[h],t.isNullOrUndefined(b.Column)||b.Column.toUpperCase().replaceAll(" ","").toString()!==rt.UColumn.toUpperCase().replaceAll(" ","").toString()||(v=v===""?b.Value:v+","+b.Value);v!==""&&(f=f.replaceAll("{{:"+rt.Column+"}}",v))}g=f.match(/~currentdomain~ *?/gi);g!==null&&g.length!==t.DashboardConstants.Zero&&(f=f.replace(g[0],encodeURI(location.protocol+"//"+location.host)));f.match(/^[a-zA-Z]+:\/\//)||(f="http://"+f);this._navigateLink(f,ht,it,d,n)}else if(p=[],!t.isNullOrUndefined(n.LinkedControls)){for(nt=[],w=0;w<n.LinkedControls.length;w++){for(e=n.LinkedControls[w].ColumnsCollection,o=0;o<i.length;o++)for(ft=i[o].Items,o!==t.DashboardConstants.Zero&&p.push("Or"),h=0;h<ft.length;h++)for(l=ft[h],u=0;u<e.length;u++)if(!t.isNullOrUndefined(e[u].SourceControl)&&l.Column.toUpperCase()===e[u].SourceColumn.replace(/[^\w\s]/gi,"").toUpperCase()&&!t.isNullOrUndefined(e[u].UColumn)){s=new selectedFilterInfo;s.UniqueColumnName=e[u].UColumn.toLowerCase().replaceAll(" ","").toString();s.ReportName=n.LinkedControls[w].MasterControl;l.IsDateTime?(s.DateFilterInfo.DateFilterList.push(l.Value),s.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(l.Value.length>t.DashboardConstants.One?s.DimensionFilterInfo.Text.push(l.Value):s.DimensionFilterInfo.Text=l.Value,s.DimensionFilterInfo.Conditions="Include");nt.push(s);p.length!==t.DashboardConstants.Zero&&p.push("And");p.push(e[u].Column+"="+l.Value);break}for(u=0;u<e.length;u++)t.isNullOrUndefined(e[u].SourceControl)||(et=this.dashboardControls.getAllControlsMasterData(),ot=this._checkFilterInfoByReportName(e[u].SourceControl,et),ot!==null&&(tt=et[ot],tt.UniqueColumnName=e[u].UColumn,tt.ReportName=n.LinkedControls[w].MasterControl,nt.push(tt)))}k={masterReport:nt,path:n.Path,title:p,isPhysicalPath:n.IsPhysicalPath,tabName:n.ReportDisplayName,tabId:n.ReportUniqueName};n.LinkType===2?(st=k.path,y={tabName:st,handled:it,source:d},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:y}),this._trigger("beforeNavigate",{data:y}),y.handled||this._renderLinkedDashboard(k),y={tabName:st,source:d},this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:y}),this._trigger("afterNavigate",{data:y})):(f=k.path,this._navigateLink(f,ht,it,d,n,k))}}},_navigateLink:function(n,i,r,u,f,e){var o={url:n,target:i,handled:r,source:u};switch(o.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(o))return}if(f.LinkType===t.DashboardConstants.Zero)this._launchNewDashboardWindow(e,o);else if(o.url!==""){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:o}),this._trigger("beforeNavigate",{data:o}),o.handled)return;o.url.indexOf("%")!==t.DashboardConstants.IndexLowerBound?t.DashboardConstants.Window.open(o.url,o.target):t.DashboardConstants.Window.open(encodeURI(o.url),o.target)}o={url:n,target:i,source:u};this._trigger("afterNavigate",{data:o});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:o})},_isTargetFrame:function(n){var i=null;return(i=document.getElementById(n.target),i===null&&(i=document.getElementsByName(n.target),t.isNullOrUndefined(i)||i.length===t.DashboardConstants.Zero||(i=i[t.DashboardConstants.Zero])),i!==null&&i.length!==t.DashboardConstants.Zero)?(i.setAttribute("src",n.url),!0):(n.target=t.dashboardViewer.navigationTargets.Blank,!1)},_renderLinkedDashboard:function(n){var i,r,u;t.isNullOrUndefined(n)||(i=254,r="",n.masterReport.length!==t.DashboardConstants.Zero?r=encodeURI(String.fromCharCode(i)+"filterQuery"+String.fromCharCode(i)+"="+CryptoJS.AES.encrypt(JSON.stringify(n.masterReport).replaceAll(":",String.fromCharCode(i)),"RGFzaGJvYXJkIFVybCBLZXk=").toString()):this.model.currentMasterReport=null,u=this._getTabIndexByTabName(n.tabName),this._renderSelectedDashboard(u,r))},_renderSelectedDashboard:function(i,r){var e,u,f,o;if(!t.isNullOrUndefined(i)){if(e=this.tabInformation,t.isNullOrUndefined(e))return;for(u=null,f=0;f<e.length;f++)if(i===f){o=this.element.find(".e-dbrd-tab-container").attr("id");u=n("#"+o).data("ejTab");break}t.isNullOrUndefined(u)||(t.isNullOrUndefined(r)||(this.isLinking=!0,this.model.filterParameters=r,this._initializeFilterParameters()),u.option({selectedItemIndex:i}),this.model.selectedTabIndex=i)}},_launchNewDashboardWindow:function(i,r){var e,u;if(!t.isNullOrUndefined(i))if(e=t.buildTag("div"),u=i.path,i.isPhysicalPath){u=u.replace(/\\/g,"\\\\");e.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));var s=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+u+'",currentMasterReport:'+JSON.stringify(i.masterReport)+',url:"'+this.serviceUrl()+'"  });',f=window.open("","_blank",""),h=n("head").find("link").add("style"),c=n("head").find("script").add("style"),o="";h.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);o+=i.outerHTML});c.each(function(t,i){i.tagName==="SCRIPT"&&i.src!==""&&n(i).attr("src",i.src);o+=i.outerHTML});t.browserInfo().name==="msie"?f.document.write('<html style="width:100%;height:100%;"><head  title="{{:reportName  }  } '+i.title.join(" ")+'"><title><\/title><\/head><body style="width:100%;height:100%;">'+o+e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"):(f.document.write('<html style="width:100%;height:100%;"/>'),f.document.writeln('<head title="{{:reportName  }  } '+i.title.join(" ")+'">'+o+'<title><\/title><\/head><body style="width:100%;height:100%;">'),f.document.writeln(e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"));f.focus()}else if(i.masterReport.length!==t.DashboardConstants.Zero){if(u=u.match(/\?./)?u+"&"+encodeURI(this.multiTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))):u+"?"+encodeURI(this.multiTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))),r.url=u,this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:r}),this._trigger("beforeNavigate",{data:r}),r.handled)return;t.DashboardConstants.Window.open(u,r.target,"")}else{if(u=u+"?~tabname~="+i.tabName,r.url=u,this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:r}),this._trigger("beforeNavigate",{data:r}),r.handled)return;t.DashboardConstants.Window.open(u,r.target,"")}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maximize={_maximizeControl:function(i){var o=n(this.currentTabContentElement).find("#"+i),bt=o.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlid"),dt,gt,u,lt,g,ft,at,ni,h,st,ti,b,ui,y,fi,ei,k,tt,wt,oi;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:o,data:bt}});this.lastFocusElement=o;this.scrollTop=n(window).scrollTop();var r=t.buildTag("div"),f=o.closest(".e-dbrd-layout-cell"),v=o.attr("type"),kt=f.find(".e-control-title").html()||"",ht=f.children().find(".e-control-description"),si="black",e=null,s=null,d=o.parents(".e-dbrd-control-container"),p=f.find(".e-control-subtitle").html(),l=f.find(".e-dbrd-link-enable"),rt=f.find(".e-dbrd-drill-enable"),ct=null,w=null,ut=null;if(this.element.find(".e-dbrd-tooltip").hide(),this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._dashboardId+"_toolTip"}).addClass("e-dbrd-tooltip")),this._closeCommentDialog(o),this._destroyControlMenu(),this._destroyContextMenu(),this._destroyDashboardMenu(),this._tabMenuPopupHide(),this.currentTabContentElement.css({"overflow-x":"hidden"}),this.element.css({"overflow-x":"hidden"}),d.find(".e-control-title").length>t.DashboardConstants.Zero&&(si=d.find(".e-control-title").css("color")),dt=this._getControlHeaderAlignment(d),t.isNullOrUndefined(ht)&&(ht=""),gt=n("#"+this.currentTabContentElement.attr("id")).children(),gt.attr("aria-hidden",!0),n(window).width()<t.DashboardConstants.MobileWidth?r.attr({role:"dialog",tabindex:"-1",id:this.currentTabContentElement.attr("id")+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(v),"data-id":f.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"}).css({width:this.element.width(),height:this.element.height(),position:"absolute",top:this.element.scrollTop(),left:"0px","z-index":"999"}):r.attr({role:"dialog",tabindex:"-1",id:this.currentTabContentElement.attr("id")+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(v),"data-id":f.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"}).css({width:this.element.width(),height:this.element.height(),position:"absolute",top:this.element.scrollTop(),left:this.element.scrollLeft(),"background-color":"rgba(0, 0, 0, 0.6)","z-index":"999"}),this.currentTabContentElement.append(r),u=n("<div>").addClass("e-dbrd-inactive-header").css({display:"none","margin-top":"45px"}),n(window).width()<t.DashboardConstants.MobileWidth&&u.css({height:"45px",display:"none","margin-top":"0px"}),e=n("<div>").addClass("e-dbrd-maxControl-title").css({"text-align":""+dt}),n(window).width()<=t.DashboardConstants.MobileWidth&&(e.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon")),lt=n("<div>").addClass("e-dbrd-maximize-titleDiv"),lt.append(n("<span>").addClass("e-dbrd-maxTitleText").html(kt)),e.append(lt),u.append(e)),g=o.siblings(".e-dbrd-banner-widget-withcomments"),ft=o.siblings(".e-dbrd-banner-widget-withoutcomments"),s=n("<div>").addClass("e-dbrd-maximize-controlprop").css({float:"right",width:"auto",height:"30px"}),this.model.allowComment&&(g.length>0||ft.length>0)&&(at=g.length>t.DashboardConstants.Zero?n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:v,"data-widget-id":f.find(".e-dbrd-control-container")[0].id,id:g[0].id}).css({float:"left","border-top-width":"0px","padding-left":"10px","padding-right":"10px"}):n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:v,"data-widget-id":f.find(".e-dbrd-control-container")[0].id,id:ft.length!==t.DashboardConstants.Zero?ft[0].id:g[0].id}).css({float:"left","border-top-width":"0px","padding-left":"10px","padding-right":"10px"}),n(window).width()<t.DashboardConstants.MobileWidth&&at.css({float:"left","border-left-width":"0px","border-right-width":"0px","padding-right":"20px"}),s.append(at)),(d.find(".e-dbrd-control-menu").length>t.DashboardConstants.Zero||o.id==="dashboard_contextMenuPopup"&&o.siblings(".e-control-prop").children(".e-dbrd-control-menu").length>t.DashboardConstants.Zero||d.find(".e-dbrd-control-small-menu").length>t.DashboardConstants.Zero)&&s.append(n("<div>").addClass("e-dbrd-inactive-header-Menu-button e-dbrd-maxIcon").attr("control-id",f.find(".e-dbrd-control").attr("id"))),t.isNullOrUndefined(p)||(ut=n("<div>").addClass("e-dbrd-inactive-subtitle").css({display:"none","margin-top":"0px"}),ct=n("<div>").addClass("e-dbrd-maxcontrol-subTitle").css({float:"left"}),n(window).width()<t.DashboardConstants.MobileWidth?(w=n("<div>").addClass("e-dbrd-maximize-subTitleDiv").css({float:"left"}),w.append(n("<span>").addClass("e-dbrd-maxSubTitleText").html(p)),u.css({height:"52px"}),e.css({height:"49px"})):(ct.html(p),ut.append(ct))),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(l)&&l.length>t.DashboardConstants.Zero?l.clone().appendTo(e).css({"padding-left":"10px","padding-right":"10px"}):t.isNullOrUndefined(rt)||rt.clone().appendTo(e).css({"padding-left":"10px","padding-right":"15px","padding-top":"5px"}),e.append(s),u.append(e),t.isNullOrUndefined(p)||(u.append(w),w.css({"margin-left":"32px"}))),n(window).width()>t.DashboardConstants.MobileWidth){e.html(kt).css({float:"left"});u.append(e);!t.isNullOrUndefined(l)&&l.length>t.DashboardConstants.Zero?l.clone().appendTo(u).css({display:"inline-block","padding-left":"10px","padding-right":"10px","padding-top":"3px"}):t.isNullOrUndefined(rt)||rt.clone().appendTo(u).css({display:"inline-block","padding-left":"10px","padding-right":"15px","padding-top":"5px"});s.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.Close}));var hi=e.find(".e-dbrd-inactive-header-Menu-button"),et=s.find(".e-dbrd-banner-widget-withcomments"),ot=s.find(".e-dbrd-banner-widget-withoutcomments");n(window).width()<t.DashboardConstants.MobileWidth&&hi.length===t.DashboardConstants.Zero&&(et.length!==t.DashboardConstants.Zero?et.css({"margin-right":"10px"}):ot.length!==t.DashboardConstants.Zero&&ot.css({"margin-right":"10px"}));ni=s.find(".e-dbrd-inactive-header-Menu-button");n(window).width()>=t.DashboardConstants.MobileWidth&&ni.length===t.DashboardConstants.Zero&&(et.length!==t.DashboardConstants.Zero?et.css({"margin-right":"30px"}):ot.length!==t.DashboardConstants.Zero&&ot.css({"margin-right":"30px"}));u.append(s)}h=n("<div>").addClass("e-dbrd-control-container e-dbrd-control-container-avoid ").css({width:"80%",height:"calc(90% - 120px)","margin-left":"10%",display:"none","background-color":"white"});n(window).width()<t.DashboardConstants.MobileWidth&&h.css({width:"100%",height:"calc(100% - 94px)","margin-left":"0%",display:"none","background-color":"white"});t.browserInfo().name==="webkit"&&h.height(r.parent().height()*.9-80);var nt=n("<div class='e-dbrd-inactive-footer-description'>"),a=n("<div>").addClass("e-dbrd-inactive-footer").html(nt),c=null;t.isNullOrUndefined(ht)||(c=nt.append(f.children().find(".e-control-description").text()),n(window).width()<t.DashboardConstants.MobileWidth?nt.css({"padding-right":"0px"}):(a.css({"overflow-y":"hidden"}),this._inactiveFooterWidth()));n(window).width()>t.DashboardConstants.MobileWidth&&c[0].innerText===""&&u.css({"margin-top":this.currentTabContentElement.find(".e-dbrd-banner").height()*2});var vt=n("<div>").addClass("e-dbrd-moreLessDiv").css({height:"25px",width:"100%","background-color":"#ffffff"}),yt=n("<div>").addClass("e-dbrd-desc-moreDiv").css({height:"25px",width:"80px","padding-left":"45%","background-color":"#ffffff",color:"#009aef"}),ci='<div class = "e-dbrd-downArrow"><div class = "e-dbrd-moreText">'+this.locale.utils.TextMore+"<\/div><\/div>",li='<div class = "e-dbrd-upArrow"><div class = "e-dbrd-lessText">'+this.locale.utils.TextLess+"<\/div><\/div>";yt.append(ci);yt.append(li);vt.append(yt);st=n("<div>").addClass("e-dbrd-descriptionDiv").css({"margin-top":"45px",height:"90px",width:"100%","background-color":"#ffffff"});st.append(a);n(window).width()<t.DashboardConstants.MobileWidth&&c!==null&&c[0].innerText!==""&&!t.isNullOrUndefined(p)?r.append(u,st).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&c!==null&&c[0].innerText!==""?r.append(u,st).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&!t.isNullOrUndefined(p)?r.append(u).addClass("e-dbrd-inactive"):c!==null&&c[0].innerText!==""?r.append(u,ut,a).addClass("e-dbrd-inactive"):r.append(u,ut).addClass("e-dbrd-inactive");n(window).width()<t.DashboardConstants.MobileWidth&&nt.height()>a.height()?(ti=vt.height()+u.height()+a.height()+57,h.css({height:"calc(100% - "+ti+"px)"}),r.append(vt,h).addClass("e-dbrd-inactive")):n(window).width()<t.DashboardConstants.MobileWidth&&c[0].innerText===""?(h.css({height:"calc(100% - "+u.height()+"px)","margin-top":u.height()}),r.append(h).addClass("e-dbrd-inactive")):r.append(h).addClass("e-dbrd-inactive");var ai=r.find(".e-dbrd-inactive-header-close-button"),vi=r.find(".e-dbrd-inactive-header-Menu-button"),yi=!t.isNullOrUndefined(l)&&l.length>t.DashboardConstants.Zero?r.find(".e-dbrd-link-enable"):r.find(".e-dbrd-drill-enable"),pt=ai.width()+vi.width()+yi.width()+60;if(this.model.allowComment&&n(window).width()<t.DashboardConstants.MobileWidth){var ii=r.find(".e-dbrd-banner-widget-withcomments"),ri=r.find(".e-dbrd-banner-widget-withoutcomments");(ii.length!==t.DashboardConstants.Zero||ri.length!==t.DashboardConstants.Zero)&&(pt+=ii.width()+ri.width()+30,r.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+pt+"px)",display:"inline-block","margin-left":"0px"}))}else r.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+pt+"px)",display:"inline-block","margin-left":"7px"});if(b=t.buildTag("div"),h.append(b),r.children().show(),r.children().show(),n(window).width()>=t.DashboardConstants.MobileWidth?(a.find(".e-dbrd-inactive-footer-description").height()>a.height()&&(r.find(".e-dbrd-inactive-footer").ejScroller({height:a.height()}),r.find(".e-dbrd-inactive-footer-description").css({width:nt.width()-10})),e.width()>=u.width()-s.width()&&(ui=(s.children.length+1)*10,e.css({"max-width":u.width()-s.width()-ui+"px",width:"auto",display:"inline-block"}))):t.isNullOrUndefined(w)||w.find(".e-dbrd-maxSubTitleText").css({"max-width":u.width()-40+"px"}),b.attr({id:this._id+"_maximized"}).css({height:"100%",width:"100%",position:"relative"}).addClass("e-dbrd-MaximizedControl e-dbrd-control"),y=f.find(".e-dbrd-control").attr("data-controlId"),b.attr({"data-controlid":y}),this.model.enableCustomTheming&&(this._customTheme(["maximize"]),fi={controlType:v,reportName:y,isMaximize:!0,Id:"dashboard_maximized"},ei=this.dashboardControls.getControlByReport(y),this.applyCustomTheme(fi,ei.controlThemeName)),k=null,this.dashboardControls.getControlByReport(y)&&(k=new Dbrdcontrol,k=k.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(y)))),this.maximizedashboardControls.addControl(k)),f.find(".e-nodata").length>t.DashboardConstants.Zero&&v!=="ProportionChart")h.css({"background-color":"white"}),b.css({width:h.width()-10,"margin-left":"5px"}).append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));else{if(tt=t.DashboardConstants.Zero,n("body").find("#preventDiv").length!==t.DashboardConstants.Zero){for(n("body").find("#preventDiv").remove(),wt=n(".e-pivotgrid"),tt=0;tt<wt.length;tt++)wt.eq(tt).data("ejWaitingPopup").hide();n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()}oi={elementType:v,reportName:y,control:k,element:f};this._widgetMaximize(b,h,oi)}var it=n("<div><\/div>").addClass("e-dbrd-max-wrapper"),pi=r.find(".e-dbrd-inactive-header").detach(),wi=r.find(".e-dbrd-inactive-subtitle").detach(),bi=r.find(".e-dbrd-inactive-footer").detach(),ki=r.find(".e-dbrd-control-container").detach();it.append(pi);it.append(wi);it.append(bi);it.append(ki);r.append(it);this._destroyWaitingPopup();this._manageFocusWithInElement(r);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:o,data:bt}})},_hideMaximize:function(i){var s=n(i.target),h=n(i.currentTarget),c,u,o;if(s.hasClass("e-dbrd-viewdata")){c=n("#"+this._id+"_data_Div");c.data().ejGrid.destroy();s.remove();return}if(h.hasClass("canClose")&&(u=i.target.id.split("_DrilledCharts_"),h.attr("chartmaximixed")!=="true"||u[0]===this._id+"_InActiveDiv"||!(("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("canvas")>t.DashboardConstants.IndexLowerBound||("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("svg")>t.DashboardConstants.IndexLowerBound||u[0]!==""))){var e=n("#"+this._id+"_InActiveDiv"),l=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=l.split("_Maximize")[0],r=new 673;if((this.dashboardControls.getControlByReport(f)&&(r=r.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f))))),f.indexOf("PivotGrid")>t.DashboardConstants.IndexLowerBound&&(n(i.target).hasClass("e-dbrd-inactive-header-close")||n(i.target).hasClass("canClose"))&&(o=n("#dashboard_PivotGrid_"+f).children().data("ejPivotGrid"),r.data[0].pagedata=o._JSONRecords,r.PivotReport=o._olapReport,this.dashboardControls.updateCurrentReport(r)),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(r.isExportFromMaximizedView=!1,this._updateValuesInDrillLevelInfo(r,f,[],!0)),this.dashboardControls.updateCurrentReport(r),n(i.target).hasClass("e-dbrd-inactive")||n(i.target).hasClass("e-dbrd-inactive-header-close"))&&(i.type!=="keypress"||i.key==="Esc")){e.children().fadeOut("slow");n("html,body").animate({scrollTop:this.scrollTop},"slow");try{t.widget.destroyAll(e.find(".e-js").off())}catch(a){console.info(a.message)}e.remove();this.maximizedashboardControls=new dbrddashboardControls;this.setFocus(this.lastFocusElement)}}},_onMaximizeMove:function(t){n(t.currentTarget).hasClass("e-dbrd-viewdata")||n(t.currentTarget).addClass("canClose")}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.errordialogs={_showErrorDialog:function(i){var u,f,e;if(!t.isNullOrUndefined(i)){this._on(n("body"),"keydown",this._hideErrorDialog);var s=n(i.currentTarget).data("err-informative-msg"),o=n(i.target).attr("class"),r=this.currentTabContentElement.find("#"+this._id+"_error_dialog");r.length===t.DashboardConstants.Zero&&(this._renderErrorMsgDialog(),r=this.currentTabContentElement.find("#"+this._id+"_error_dialog"));u=r.find(".e-dbrd-dialog-content-wrapper");t.isNullOrUndefined(o)||o.indexOf("e-dbrd-learnMore")===t.DashboardConstants.IndexLowerBound?(r.find(".e-dbrd-dialog-title").html(this.locale.utils.DataRetrievalError),r.find(".e-info-msg").length>t.DashboardConstants.Zero&&r.find(".e-info-msg").remove(),u.children(".e-dbrd-content").prepend("<p class='e-info-msg'>"+s+"<\/p>")):(this.currentTabContentElement.find("#"+u.attr("id")).ejScroller({height:"130",orientation:"vertical"}),u.addClass("e-dbrd-control"),this.currentTabContentElement.find(".e-dbrd-showDetails, .e-dbrd-stacktrace.e-dbrd-control").css("display","none"),u.children(".e-dbrd-content").html(this.dashboardError));this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").show();this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);this._on(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._on(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);r.show();f=this.currentTabContentElement.find(".e-dbrd-dialog.e-dbrd-alert");f.addClass("e-dbrd-error-desc");n(window).width()<t.DashboardConstants.MobileWidth&&f.addClass("e-dbrd-error-mob");e=u.data("ejScroller");t.isNullOrUndefined(e)||e.refresh();this.model.enableCustomTheming&&this._customTheme(["popup"])}},_hideErrorDialog:function(i){if(n.isFunction(i.preventDefault)){i.preventDefault();i.bubbles=!1;var r=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(r)||r.length!==t.DashboardConstants.Zero?this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}}):r=this.currentTabContentElement.find("#"+this._id+"_error_dialog");t.isNullOrUndefined(r)||i.keyCode!==13&&i.keyCode!==27&&i.type!=="click"||(r.remove(),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove(),this._hideErrorDetails(),this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails),this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails),this._off(n("body"),"keydown",this._hideErrorDialog));this.currentTabContentElement.find(".e-dbrd-error-text-close").remove();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})}},_hideGetLinkDialog:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}});var i=this.currentTabContentElement.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(i)||(i.remove(),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").remove(),this._off(n("body"),"keydown",this._hideErrorDialog));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})},_showControlError:function(i,r,u){var f,e;t.isNullOrUndefined(i&&r&&u)||(f=r,f.hasClass("e-dbrd-layout-cell")&&(f=f.children()),i.length===t.DashboardConstants.Zero&&(i=this.locale.utils.DataError),e=f.siblings(".e-dbrd-control-error")||f.children(".e-dbrd-control-error"),f.children().hide(),e.length===t.DashboardConstants.Zero?(e=n("<div>").addClass("e-dbrd-control-error align-center"),e.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.locale.utils.KnowMore).data({"error-msg":u.msg,"err-informative-msg":u.informativeMsg})),f.css({display:"table"}),e.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'><span style = 'padding-left:6px'>"+this.locale.utils.Reload+"<\/span><\/button>").addClass("e-dbrd-refresh-link-btn").css({"font-size":"13px"}).data({control:f})),f.append(e),f.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"&&f.parents(".e-dbrd-layout-cell").attr("colspan")==="1"?(e.find(".widget-error-icon").remove(),e.prepend(n("<div>").addClass("widget-error-icon-single").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable").css({"font-size":"18px"})),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-link-btn").css({"font-size":"7px"}),e.find(".e-dbrd-refresh-link-btn").css({border:"none","font-size":"7px",color:"#3b99fc",height:"15px","margin-top":"0px"})):f.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"&&(e.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single"))):e.show().html(i),f.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.hide(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_displayNoDataAvailable:function(i){for(var f,r,u=0;u<i.length;u++)f=n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control"),r="",t.isNullOrUndefined(f)||(r=f.attr("data-controlid").toLowerCase()),r.indexOf("datepicker")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangenavigator")!==t.DashboardConstants.IndexLowerBound||r.indexOf("radiobutton")!==t.DashboardConstants.IndexLowerBound||r.indexOf("listbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("combobox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("checkbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangeslider")!==t.DashboardConstants.IndexLowerBound?(n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n("#"+i[u]).closest(".e-dbrd-control-container").append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide()):this._applyOrRemoveNoDataAvailable(t.DashboardConstants.Zero,f)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,f,o,s,e;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),f=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),o=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),f.length===t.DashboardConstants.Zero?(u.children().hide(),f=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),o.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),u.css({display:"table"}),f.append(o),u.append(f)):(u.children().hide(),f.show().html(this.locale.utils.NoData).addClass("e-nodata")),s=u.height()-o.height(),o.css({"margin-top":s/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.children().show(),u.css({display:"block"}),this._hideControlError(u),f.remove(),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):(e=u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu"),n(e).hasClass("enable-csv-export")||n(e).hasClass("enable-excel-export")||n(e).hasClass("enable-image-export")||n(e).hasClass("enable-pdf-export")?e.css({display:"block"}):e.css({display:"none"})),this.model.responsiveSettings.isWidgetCommented?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})):n(window).width()<t.DashboardConstants.MobileWidth?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"})):(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})),!0)},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-control-container").css({display:"table"}).append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-control-container").find(".e-nodata").remove(),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").show(),!0)},_showErrorDetails:function(){var i=this.currentTabContentElement.find(".e-dbrd-dialog"),r=100,u;n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.height()-(i.find(".e-dbrd-dialog-content-wrapper .e-dbrd-content").height()+60));i.find(".e-dbrd-showDetails").html(this.locale.utils.HideDetails).removeClass("e-dbrd-showDetails").addClass("e-dbrd-hideDetails");i.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-visible").removeClass("e-dbrd-err-hide");u=this.currentTabContentElement.find(".e-dbrd-link-btn").data("error-msg");i.find(".e-dbrd-stacktrace").append("<div class='e-stackTrace-content'><p class ='e-err-stack-content'><\/p><\/div>");i.find(".e-stackTrace-content .e-err-stack-content").html(u);i.find("#"+this._id+"_error_dialog_show_content").ejScroller({height:r+"px",orientation:"vertical"})},_hideErrorDetails:function(){var n=this.currentTabContentElement.find(".e-dbrd-dialog"),i;n.find(".e-dbrd-hideDetails").html(this.locale.utils.ShowDetails).removeClass("e-dbrd-hideDetails").addClass("e-dbrd-showDetails");n.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-hide").removeClass("e-dbrd-err-visible");n.find("#"+this._id+"_error_dialog_show_content").length>t.DashboardConstants.Zero&&(i=this.currentTabContentElement.find("#"+this._id+"_error_dialog_show_content").data("ejScroller"),t.isNullOrUndefined(i)||i.destroy(),n.find(".e-stackTrace-content").remove())},_getErrorSwitchDetails:function(i){var r=null;return n(window).width()<t.DashboardConstants.MobileWidth?(r="mobile",i.hasClass("e-dbrd-error-mob")||i.addClass("e-dbrd-error-mob")):n(window).width()>t.DashboardConstants.MobileWidth&&i.hasClass("e-dbrd-error-mob")&&(r="Desktop",i.removeClass("e-dbrd-error-mob")),r},_refreshErrorScroller:function(n){var r=this.currentTabContentElement.find("#"+this._id+"_error_dialog"),u=r.find(".e-dbrd-dialog-content-wrapper"),i=null;i=r.find("#"+this._id+"_error_dialog_show_content").data("ejScroller");t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+this._id+"_error_dialog_show_content").ejScroller({height:n+"px",orientation:"vertical"}));r.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=u.data("ejScroller"),t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+u.attr("id")).ejScroller({height:n+"px",orientation:"vertical"})))}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.waitingIndicator={_showWaitingPopup:function(i){var r,u,f;this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._dashboardId+"_popupContainerDiv").remove();r=null;u=null;n("#"+this._id+"_popupContainerDiv").length>t.DashboardConstants.Zero?i?(n("#"+this._id+"_popupContainerDiv").css({"background color":"#000000",position:"fixed",top:"0",right:"0",opacity:"0.7","z-index":1e3}),n("#"+this._id+"_popupContainerDiv #"+this._id+"_popupCenterDiv").html('<div class="FilterLoaderIndicator"><\/div>'),n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeIn()):(r=n("#"+this._id+"_popupContainerDiv"),r.show().html("").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)"}),u='<svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class = "waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg>',r.append(u)):(f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>',this.element.append(f))},_destroyWaitingPopup:function(){this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeOut();n("#"+this._dashboardId+"_popupContainerDiv").stop(!0,!0,!0).fadeOut()},_createControlWaitingIndicator:function(i,r,u){n(i).length===t.DashboardConstants.Zero||n(i).parents(".e-dbrd-filter-control-wrapper").length>t.DashboardConstants.Zero||n(i).hasClass("e-dbrd-filterpanel-wrapper")||(n(i).attr("isLoaded",!1),setTimeout(function(){var u,f,e,o;(n(i).attr("isLoaded")==="false"||t.isNullOrUndefined(n(i).attr("isLoaded")))&&(u=n("<div>").addClass("e-dbrd-controlWaiting"),r&&u.css({background:" rgba(255, 255, 255, 0.30) "}),u.css({width:"100%",height:"100%","z-index":"5",position:"absolute",top:"0",left:"0"}),f=20,e=4,(t.browserInfo().name==="mozilla"||t.browserInfo().name==="msie")&&(f=10,e=2),(t.browserInfo().name==="chrome"||t.browserInfo().name==="edge"||t.browserInfo().name==="webkit")&&(u.css({zoom:"0.5"}),t.browserInfo().name==="edge"&&(f=15)),o='<svg class = "e-dbrd-blueWaitingIndcator"><circle class = "e-dbrd-circlePath" cx = "27" cy = "27" r = "'+f+'" fill = "none" stroke-width = "'+e+'" stroke-miterlimit = "10"><\/circle><\/svg>',u.append(o),n(i).css({position:"relative"}),n(i).append(u),n(i).attr("isLoaded",!0))},this.initialLoading||u?t.DashboardConstants.Zero:500))},_destroyAllControlWaitingIndicator:function(){t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||n("#"+this.model.filterPanelSettings.filterPanelId).find(".e-dbrd-controlWaiting").remove();this.currentTabContentElement.find(".e-dbrd-controlWaiting").remove();this.isReloaded=!1},_showFilterViewLoader:function(){this._hideFilterViewLoader();var r=n("<div class='e-dbrd-filter-view-loader-wrapper'>"),i=n("<img class='e-dbrd-filter-view-loader' src='"+this.serviceUrl().toLowerCase().replace("dashboardservice.svc","themes/ViewerIcons/initial_loader.gif")+"'>"),u=this.currentTabContentElement.find("#"+this._id+"_filter");u.length===t.DashboardConstants.Zero&&i.css({left:"85%"});i.css({left:u.offset().left-25+"px"});r.append(i);this.currentTabContentElement.append(r)},_hideFilterViewLoader:function(){var n=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper");n.length!==t.DashboardConstants.Zero&&n.remove()}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filteroverview={_showMoreFiltersMenu:function(i){var p,tt,c,r,e,h,l,v,k,d,g,f,y,nt,rt,ut;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}}),p=n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp"),p.length!==t.DashboardConstants.Zero&&p.css("display")==="block"){n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").attr("id")).remove();n("#"+n(i.target).parent().attr("id")).removeClass("e-dbrd-filterListMenus");return}n("#"+n(i.target).parent().attr("id")).addClass("e-dbrd-filterListMenus");var s=n("<div>").attr({id:this._id+"_Commonmenupopupfilter"}).addClass("e-dbrd-filterListMenuPopUp").attr("tabindex","0").css({display:"block"}),ft='<div class = "e-dbrd-title"><div class = "e-dbrd-overview-back"><\/div><div class = "e-dbrd-titleDiv"><span class = "e-dbrd-titleText e-dbrd-filter-title">'+t.DashboardConstants.AppliedFilters+'<\/span><\/div><div class = "e-dbrd-clearDiv" tabindex = "0"><div class = "e-dbrd-clearAllFilters">'+t.DashboardConstants.ClearAllFilters+"<\/div><\/div><\/div>",u=this.currentTabContentElement.find(".e-dbrd-filterListMenu");this.multiTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"hidden"}),s.css({top:this.currentTabContentElement.scrollTop(),"z-index":"100000",width:"100%",height:"100%"})):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()+this.element.find(".e-tab>.e-header").height()+5,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()+this.currentTabContentElement.scrollLeft()-295,right:"1px","z-index":"100000"}):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()+8,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()+this.currentTabContentElement.scrollLeft()-295,right:"1px","z-index":"100000"});tt=n("<div>").addClass("e-dbrd-report-filter-arrow").css({position:"absolute","z-index":"1001",top:"-11px",left:u.width()+74});c=n("<div>").attr({id:this._id+"_commonmenufilterlist"}).addClass("e-dbrd-filterList e-dbrd-control");this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showViewSavedFilterIcon?c.css({height:"calc(100% - 112px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291}):c.css({height:"calc(100% - 45px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291});var a=n("<div>").attr({id:this._id+"_commonmenufilterlistscroll"}).addClass("e-dbrd-filterLists").css({height:"100%"}),w=n("<div>").attr({id:this._id+"_commonmenufilterlistinnerscroll"}).addClass("e-dbrd-filterListscollection"),b=null,it=t.DashboardConstants.One;for(r=this.appliedFilterData.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--){for(e=this.appliedFilterData[r].Control,h=0,l=0;l<this.appliedFilterData.length;l++)l!==r&&this.appliedFilterData[l].Control===e&&(h+=t.DashboardConstants.One);if(h===t.DashboardConstants.Zero)for(v=0;v<this.appliedFilterData.length;v++)this._getWidgetDetails(this.appliedFilterData[v].Control).type==="Grid"&&(h+=t.DashboardConstants.One);var et=this.getWidgetTitle(e),ot=n("<div>").attr({id:r+"__commonmenufilterlistinitset"}).addClass("e-dbrd-filterListMenuPopUp-item"),o=n("<div>").attr({id:e+"_controlId"}).addClass("e-brd-clearfilterclosetext");for((t.isNullOrUndefined(b)||this.appliedFilterData[b].Control!==e)&&(o.append(n("<span>").attr({"data-tooltip":this.locale.utils.Clear,tabindex:"0",id:e+"_controlId"}).addClass("e-brd-clearFilters e-dbrd-hoverable")),k=n("<div>").addClass("e-brd-overview-widgetTitle").css({"white-space":"nowrap"}),k.html(et.title),o.append(k)),h>t.DashboardConstants.Zero&&(d=n("<div>").addClass("e-brd-lists").css({height:"20px"}),d.html(t.isNullOrUndefined(this.appliedFilterData[r].DisplayName)?this.appliedFilterData[r].Column:this.appliedFilterData[r].DisplayName),o.append(d),it!==t.DashboardConstants.One&&o.css({padding:"0px 0px 3px 0px"})),g=n("<div>").addClass("e-brd-controlList"),g.html(this.appliedFilterData[r].Control),o.append(g),ot.append(o),f=0;f<this.appliedFilterData[r].Data.length;f++)this.appliedFilterData[r].Control.indexOf("DatePicker")!==t.DashboardConstants.IndexLowerBound&&this.appliedFilterData[r].Data[f].indexOf("single")!==t.DashboardConstants.IndexLowerBound?(y=this.appliedFilterData[r].Data[f].substr(this.appliedFilterData[r].Data[f].lastIndexOf("_")+t.DashboardConstants.One),o.append(n("<div>").attr({id:this._id+"_"+e+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(y.Value)?y:y.Value))):(nt=n("<div>").attr({id:this._id+"_"+e+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(this.appliedFilterData[r].Data[f].Value)?this.appliedFilterData[r].Data[f]:this.appliedFilterData[r].Data[f].Value),h>t.DashboardConstants.Zero&&(nt.css({"padding-left":"52px"}),it=t.DashboardConstants.Zero),o.append(nt));w.append(o);r!==t.DashboardConstants.Zero&&this.appliedFilterData[r].Control!==this.appliedFilterData[r-t.DashboardConstants.One].Control&&w.append(n("<div>").attr({id:e+"_commonmenufilterlisthr"}).addClass("e-brd-style-two"));b=r}rt=n("<div>").addClass("e-dbrd-saveViewed-filters");a.append(w);c.append(a);s.html(ft);s.append(rt);s.append(tt,c);ut=n("<div>").addClass("e-dbrd-view-saved");s.append(ut);this.currentTabContentElement.append(s);(this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon||this.model.filterOverviewSettings.showViewSavedFilterIcon)&&(n(window).width()<t.DashboardConstants.MobileWidth?this._mobileUpdatedFilterOverview():this._updateSavedViewFilters());this.filterOverviewHeight=a.height();a.height()>240&&(n(window).width()<t.DashboardConstants.MobileWidth?n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")).ejScroller({height:"100%"}):n("#"+n(this.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")).ejScroller({height:220}));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}});this.model.enableCustomTheming&&this._customTheme(["filterOverview"]);this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog);this._on(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)}},_removeMoreFilterMenu:function(i){var r=this;setTimeout(function(){var l,p,w,a,h,u,v,f,o,s,y,c,b,e;if(!t.isNullOrUndefined(i)){for(r._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}}),l=n(i.target).parent(),p=l.find(".e-brd-controlList"),i.stopPropagation(),i.bubbles=!1,r._hideDashboardToolTip(i),w=p[0].innerText,a=r.dashboardControls.getAllControlsMasterData(),h=0;h<a.length;h++)u=a[h].ReportName,w===u&&(v=r.dashboardControls.getControlByReport(u).controlType,r._isFilterPanelWidget(u)?(r.filterPanelObj.CurrentMaster=u,u=r.filterPanelObj._id+t.DashboardConstants.Widget+u,r.filterPanelObj._removeAppliedFilter(u,v)):r.clearWidgetFilter(u,v),n("#"+n(i.target).parent().attr("id")).hide());for(f=r.currentTabContentElement.find(".e-dbrd-filterListscollection").children(),o=[],s=0;s<f.length;s++)n(f[s]).attr("id")===n(i.target).attr("id")&&o.push(f[s]);for(r.filterOverviewHeight-=l.height()*o.length,r.filterOverviewHeight<=240&&(y=n("#"+n(r.currentTabContentElement).find(".e-dbrd-filterLists").attr("id")),y.hasClass("e-scroller")&&y.ejScroller("destroy")),c=null,c=o.length===t.DashboardConstants.One?n(i.target).parent().next().attr("id"):n(f[o.length]).attr("id"),b=n(i.target).parent().prev().attr("id"),t.isNullOrUndefined(c)&&!t.isNullOrUndefined(b)&&n(i.target).parent().prev().remove(),e=0;e<f.length;e++)(n(f[e]).attr("id")===n(i.target).attr("id")||n(f[e]).attr("id")===c)&&n(f[e]).remove();if(r.currentTabContentElement.find(".e-dbrd-filterListscollection").children().length===t.DashboardConstants.Zero&&(r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+r.element.attr("id")).height()-r.currentTabContentElement.find(".e-dbrd-banner").height()}),n("#"+n(i.target).parent().attr("id")).remove(),n(r.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(r.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus")),r.model.filterOverviewSettings.viewName&&r.currentTabContentElement.find(".e-dbrd-save-filterData").css({cursor:"pointer",color:"#6d6e70"}),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}}),r.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length===t.DashboardConstants.Zero&&r._off(r.currentTabContentElement,"click",r._closeFilterOverviewDialog),r.currentTabContentElement.find(".e-brd-clearfilterclosetext").length===t.DashboardConstants.Zero)r._closeFilterOverviewDialog(i);else return}},500)},_mobileUpdatedFilterOverview:function(){var r=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),s,u,o,h,c;if(r.length!==t.DashboardConstants.Zero)if(s=r.find(".e-dbrd-title"),u=this.model.filterOverviewSettings.viewName,t.isNullOrUndefined(u))c='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" style = "height:45px;padding-left:13px;width:45px" data-tooltip = "'+this.locale.utils.Save+'"><\/div>',this.model.filterOverviewSettings.showSaveIcon&&s.append(c);else{var f=n("<div>").addClass("e-dbrd-filter-nameList"),i=r.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),l=n("<div>").addClass("e-dbrd-filterOverView-menu"),e=r.find(".e-dbrd-save-filterData");f.html(u);this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?i.append(f,l):i.append(f);o=i.find(".e-dbrd-filterOverView-menu");h=o.length!==t.DashboardConstants.Zero?o[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;i.find(".e-dbrd-filter-nameList").css({width:i.width()-h,padding:"14px 10px",height:"45px"});t.isNullOrUndefined(e)||e.length===t.DashboardConstants.Zero||e.css({display:"none"})}},_showFilterOverviewMenu:function(i){var h,u,r,c,f,s,o,e,l;if(!t.isNullOrUndefined(i)){if(n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),h=this.currentTabContentElement.find(".e-dbrd-titleDiv").text(),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_FilterOverviewMenuPopup").ejMenu("destroy");n("#"+this._id+"_FilterOverviewMenuPopup").remove();return}for(u=[],this.model.filterOverviewSettings.showSaveIcon&&u.push({id:11,parentId:null,text:this.locale.utils.Save}),this.model.filterOverviewSettings.showSaveAsIcon&&u.push({id:22,parentId:null,text:this.locale.utils.SaveAs}),r=n("<div>").attr({id:this._id+"_FilterOverviewMenuPopup"}),n(i.currentTarget).addClass("menuClicked"),c="",r.ejMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,h,c)}),f=0;f<this.filterDataLength.length;f++)for(s=this.filterDataLength[f],o=this.appliedFilterData[f],e=0;e<o.Data.length;e++)s.Data[e]!==o.Data[e]||this.appliedFilterData.length!==this.filterDataLength.length||s.Data.length!==o.Data.length?r.ejMenu("instance").enableItem(this.locale.utils.Save):r.ejMenu("instance").disableItem(this.locale.utils.Save);this.currentTabContentElement.append(r.parent());r.css({position:"absolute",top:n(i.target).offset().top+n(i.target).offset().top/2,left:n(i.target).offset().left-r.width()+80+"px",width:"auto","z-index":3});l=this.currentTabContentElement.find(".e-menu-wrap");l.css({"z-index":1e5});r.parent().find(".e-menu.e-vertical>.e-list>a").attr("style","padding: 0px 38px 0px 10px !important;");u.length===t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"]);this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)}},_destroyFilterOverviewMenu:function(){var i=this.currentTabContentElement.find("#"+this._id+"_FilterOverviewMenuPopup");i.length!==t.DashboardConstants.Zero&&(n("#"+this._id+"_FilterOverviewMenuPopup").ejMenu("destroy"),n("#"+this._id+"_FilterOverviewMenuPopup").remove(),this.currentTabContentElement.find(".e-dbrd-filterOverView-menu").removeClass("menuClicked"));this._on(this.currentTabContentElement,"click",this._closeFilterOverviewDialog)},_hideFilterOverviewDialog:function(i){t.isNullOrUndefined(i)||(this.showFilterMenu=!0,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-this.currentTabContentElement.find(".e-dbrd-overview-banner").height()}),this._closeFilterOverviewDialog(i));this.showFilterMenu=!1},_closeFilterOverviewDialog:function(i){if(t.isNullOrUndefined(i))n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}));else{if(i&&n(i.target).parents().hasClass("e-dbrd-filterListMenuPopUp")&&!this.showFilterMenu)return;n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.currentTabContentElement).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.currentTabContentElement).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.currentTabContentElement,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}))}return},_updateSavedViewFilters:function(){var e=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),i=e.find(".e-dbrd-saveViewed-filters").css({display:"block"}),s=e.find(".e-dbrd-view-saved").css({display:"none"}),y=this.model.filterOverviewSettings.viewName,r=n("<div>").addClass("e-dbrd-filter-nameList"),h,c,l,b,k,u,a,o,f,d,v;r.html(this.locale.utils.UnSavedView).css({cursor:"default"});h='<div class = "e-dbrd-saveAs-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.SaveAs+'"><\/div>';c='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.Save+'"><\/div>';i.empty();this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?i.append(r,h,c):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?i.append(r,c):(l=n(h),l.css({cursor:"pointer",color:"#6d6e70"}),i.append(r,l)):i.append(r);var p=i.find(".e-dbrd-save-filterData"),w=i.find(".e-dbrd-saveAs-filterData"),g=p.length!==t.DashboardConstants.Zero?p[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero,nt=w.length!==t.DashboardConstants.Zero?w[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;if(i.find(".e-dbrd-filter-nameList").css({width:i.width()-(g+nt+t.DashboardConstants.One)}),!t.isNullOrUndefined(y))for(r.html(y).css({cursor:"pointer"}),b=e.find(".e-dbrd-save-filterData").css({cursor:"default",color:"#dbdbdb"}).removeClass("e-dbrd-hoverable"),k=e.find(".e-dbrd-saveAs-filterData").css({cursor:"pointer",color:"#6d6e70"}),u=0;u<this.filterDataLength.length;u++)for(a=this.filterDataLength[u],o=this.appliedFilterData[u],f=0;f<o.Data.length;f++)(a.Data[f]!==o.Data[f]||this.appliedFilterData.length!==this.filterDataLength.length||a.Data.length!==o.Data.length)&&(b.css({cursor:"pointer",color:"#6d6e70"}),k.css({cursor:"pointer",color:"#6d6e70"}));d=n("<div>").addClass("e-dbrd-icon-views");v=n("<div>").addClass("e-dbrd-viewText");v.html(this.locale.utils.SavedFilters);s.empty();this.model.filterOverviewSettings.showViewSavedFilterIcon&&(s.css({display:"block"}),s.append(d,v));this.filterDataLength=this.appliedFilterData}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.server={_showFilterOverview:function(){var i=this.element.find(".e-dbrd-filterListMenu"),r=n(this.currentTabContentElement).find("#"+this._id+"_Commonmenupopupfilter");this.enableFilterOverview()&&this.appliedFilterData.length>t.DashboardConstants.Zero?i.show():r.length===t.DashboardConstants.One&&(i.hide(),r.hide())},_saveFilterData:function(i){if(n(i.currentTarget).css("cursor")!=="default"){var u=n(i.currentTarget),f=t.isNullOrUndefined(i.currentTarget)?i.text:null,r=this.getCurrentFilters(),e=this.getCurrentTab(),s=this.model.filterOverviewSettings.viewName,h=this.model.filterOverviewSettings.viewId,o=this._getCurrentDashboardGuid();u.hasClass("e-dbrd-save-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.Save?r.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}}),this._trigger("onSaveFilter",{data:r,tabInfo:e,dashboardId:o,viewName:s,viewID:h,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}})):(u.hasClass("e-dbrd-saveAs-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.SaveAs)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}),this._trigger("onSaveAsFilter",{data:r,tabInfo:e,dashboardId:o,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}))}else return},_viewSavedFilter:function(){var n=this.getCurrentTab(),t=this._getCurrentDashboardGuid();this.model.onViewSavedFilters&&this._trigger("onViewSavedFilters",{tabInfo:n,dashboardId:t,model:this.model})},_enableOrDisableComment:function(){for(var e,s,o,h,c,l,a,f=this.currentTabContentElement.find(".e-dbrd-control-container"),u=t.DashboardConstants.Zero;u<f.length;u++){var r=f.eq(u).find(".e-control-prop"),y=n(f[u]).attr("data-widget-id"),v=n(f[u]).attr("id"),i=n(f[u]).attr("type"),p=this._id+y+"_"+this.locale.utils.Comment;if(r.length===t.DashboardConstants.Zero&&i===t.dashboardViewer.Controls.Card&&(r=f.eq(u).find(".e-control-singleCard")),this.model.allowComment){for(e=n("<div>").attr({tabIndex:"0",name:this.locale.utils.Comment,id:p,"data-tooltip":this.locale.utils.Comment,type:i,"data-widget-id":v}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon").css({visibility:"visible",display:"block"}),s=this.model.commentSettings.widgets,o=t.DashboardConstants.Zero;o<s.length;o++)if(v===s[o]&&this.model.commentSettings.isWidgetCommented){e.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments");break}r.hasClass("e-control-singleCard")&&(e.css({float:"left"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"block"}));n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"block"}):n(window).width()>t.DashboardConstants.MobileWidth&&(h=r.find(".su"),c=r.find(".e-remove-control-filter"),c.length!==t.DashboardConstants.Zero?c.after(e):h.length!==t.DashboardConstants.Zero?h.after(e):r.prepend(e))}else l=f.eq(u).find(".e-dbrd-banner-widget-withoutcomments"),a=f.eq(u).find(".e-dbrd-banner-widget-withcomments"),r.hasClass("e-control-singleCard")&&n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"none"}),n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"none"}):n(window).width()>t.DashboardConstants.MobileWidth&&(l.length!==t.DashboardConstants.Zero&&l.remove(),a.length!==t.DashboardConstants.Zero&&a.remove())}},_openDashboardCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked"),r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-widget-withcomments-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("onDashboardCommented",{event:i,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_openWidgetCommentDialog:function(i){var u,r,f;n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");f=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");f.length>t.DashboardConstants.Zero?f.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(r=n(i.target).attr("data-widget-id"),n(window).width()<t.DashboardConstants.MobileWidth&&!n(i.currentTarget).hasClass("e-dbrd-maxIcon")&&(r=n(i.currentTarget).attr("widgetid")));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});this._trigger("onWidgetCommented",{event:i,reportGuid:r,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_closeCommentDialog:function(i){t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-banner-dashboardwithcomment")||n(i.target).hasClass("e-dbrd-banner-dashboardwithoutcomment")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withoutcomments")||this._destroyCommentDialog(i)},_destroyCommentDialog:function(i){var u=null,r=null;u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),this._trigger("onCommentDialogClosing",{event:i}));r=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");r.length===t.DashboardConstants.Zero&&(r=n("#"+this.filterPanelId).find(".e-dbrd-filterPanel-widget-withcomments-menuClicked"));r.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),r.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"),r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),this._trigger("onCommentDialogClosing",{event:i}))},_setAsFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!0,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!0;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}})},_setAsUnFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!1,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}})},_toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon"),t=this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon");this.model.favoriteSettings.isFavorite?t.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.menu={_controlMenuSelected:function(i,r,u,f){var ht,ct,lt,l,p,a,w,rt,b,c,ut,ft,et,k,d;this.imageContent=null;this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this.model._dashboardData.loadFromData===!1&&(t.isNullOrUndefined(f.event)||n.isFunction(f.event.stopImmediatePropagation)&&f.event.stopImmediatePropagation());var e=t.isNullOrUndefined(f.text)?f.menuText:f.text,o=i,s=r,v=null,st=null,y=null,g="",nt=t.isNullOrUndefined(f.element)?f.selectedItem[0]:f.element;if(this._destroyContextMenu(),ht=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("widgetId"),ct=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("data-Widget-Id"),this._trigger("onMenuItemClick",{menuItem:i,headertext:r,args:f,widgetId:ht,dataWidgetId:ct,reportPath:this.dashboardPath(),tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),t.isNullOrUndefined(u)?this.exportSettings.subtitleName="":u.length>=t.DashboardConstants.Zero&&(this.exportSettings.subtitleName=u),e==="Print"?(this._printControl(o.attr("type"),o.attr("control-id")),f.cancel=!0,n(nt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked")):e===this.locale.utils.ExportToImage||e===this.locale.utils.ExportToExcel||e===this.locale.utils.ExportToPdf||e===this.locale.utils.ExportToCSV||e===this.locale.utils.Image||e===this.locale.utils.Excel||e===this.locale.utils.Pdf?(f.cancel=!0,n(nt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this.isPrintTriggered=!1,this.currentTabContentElementData=o,lt=this.currentTabContentElementData.parents(".e-dbrd-layout-cell").attr("data-controltype"),this.currentTabContentElementData.attr({type:lt}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,l=n(window).width()<t.DashboardConstants.MobileWidth,this.exportSettings.filename=this.filename,e!==this.locale.utils.ExportToImage&&e!==this.locale.utils.Image||l?e!==this.locale.utils.ExportToPdf&&e!==this.locale.utils.Pdf||l?e!==this.locale.utils.ExportToExcel&&e!==this.locale.utils.Excel||l?e!==this.locale.utils.ExportToCSV||l||(this.exportSettings.exportType="csv",this._exportDialogPage()):(this.exportSettings.exportType="excel",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="pdf",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="image",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1),this.model.enableCustomTheming&&this._customTheme(["popup"])):f.ID==="12"?this.refreshDashboard(null,!1):f.ID==="37"&&(p={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:p}),p.data.handled||this._showGetLinkDialogForMobile(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:p}})),e===this.locale.utils.ViewData)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}}),f.cancel=!0,n(nt).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}});else if(e===this.locale.utils.UpdateDashboard)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this.refreshDashboard(null,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Maximize)v=n(f.event.currentTarget).attr("control-id"),st=this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize"):this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-hide-maximize"),y=st.attr("id"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:y}}),this._maximizeControl(y),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:y}});else if(e===this.locale.utils.RemoveFavorite||e===this.locale.utils.MarkFavorite)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),a=n(f.event.currentTarget).find(".e-dbrd-dashboardunfavIcon"),a.length!==t.DashboardConstants.Zero?(f.event.currentTarget=a[0],this._setAsFavorite(f.event),this._destroyDashboardMenu()):(a=n(f.event.currentTarget).find(".e-dbrd-dashboardfavIcon"),f.event.currentTarget=a[0],this._setAsUnFavorite(f.event),this._destroyDashboardMenu()),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Comment)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this._openWidgetCommentDialog(f.event),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Export&&n(window).width()<t.DashboardConstants.MobileWidth)this.currentTabContentElementData=o,w=this.currentTabContentElementData.parent().parent().parent().attr("data-controltype"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:w}}),this.currentTabContentElementData.attr({type:w}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,this.exportSettings.filename=this.filename,this._mobileExport(this.exportSettings.filename),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:w}});else if(e===this.locale.utils.Information){if(n(window).width()<t.DashboardConstants.MobileWidth){var h=r,tt=u,pt=n(f.event.currentTarget).attr("id"),it="",wt=this._id+"_controlMenuPopup";if(pt===wt){for(rt=n(this.currentTabContentElement).find(".e-control-description"),b=rt.prev(),c=0;c<b.length;c++)b[c].innerText===r&&(ut=n(rt[c].innerHTML),ut.length!==t.DashboardConstants.Zero&&(it=ut[0].innerHTML,h=b[c].innerHTML));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:h}})}else ft=n(this.currentTabContentElement).find(".e-dbrd-divHtml"),ft.length!==t.DashboardConstants.Zero&&(it=ft[0].innerHTML,et=n(this.currentTabContentElement).find(".e-dbrd-banner-title"),t.isNullOrUndefined(et)||(h=et[0].innerHTML)),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:h}});var at=n("<div>").attr({id:this._id+"controlDescriptionDiv"}).addClass("e-dbrd-control-desc e-dbrd-fontfamily"),ot=n('<div class = "e-control-descDiv" style = "padding:0px 20px 0px 20px; width: 100%; font-size: 13px; font-weight: 400">'),vt=n("<div>").addClass("e-control-desc-bar").css({height:"45px","box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),bt=n("<div>").addClass("e-control-desc-back"),yt=n("<div>").addClass("e-control-desc-title");yt.html(this.locale.utils.Information);vt.append(bt,yt);k=n("<div>").addClass("e-control-mobile-div").css({height:"calc(100% - 45px)","overflow-y":"auto"});d=n("<div>").addClass("e-dbrd-information-title").css({width:"calc(100%-20px)"});tt.length>t.DashboardConstants.Zero&&(g=n("<div>").addClass("e-dbrd-information-subtitle").css({width:"calc(100%-20px"}),g.html(tt));d.html(h);tt.length>t.DashboardConstants.Zero?k.append(d,g,ot):k.append(d,ot);at.append(vt,k);ot.html(it);this.currentTabContentElement.append(at);this.model.enableCustomTheming&&this._customTheme(["description"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:h}})}}else e===this.locale.utils.Save||e===this.locale.utils.SaveAs?this._saveFilterData(f):e===this.locale.utils.ClearFilter?(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}),this._destroyContextMenu(),this._removeControlFilter(n("#"+o.attr("control-id")))):e===this.locale.utils.DashboardParameters&&(this._openDashboardParametersDialog(this.dashboardParameters.data,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}))},_showDashoardMenu:function(i){var e,o,f,s,u,r,h,c,l;if(!t.isNullOrUndefined(i)){if(n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(i)),this.currentTabContentElement.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control")),(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i),n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),this._closeCommentDialog(i),n(window).width()<t.DashboardConstants.MobileWidth&&n(i.currentTarget).removeClass("menuClicked"),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_DashboardMenuPopup").ejMenu("destroy");this.exportDashboard=!1;n("#"+this._id+"_DashboardMenuPopup").remove();return}for(o=!1,f=0;f<this.dashboardControls.controls.length-t.DashboardConstants.One;f++)if(s=this.dashboardControls.controls[f],s.controlType!==""&&s.controlType!=="NoData"){o=!0;break}u=[];o&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElement.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-dbrd-banner-description"}),u.push({id:34,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption e-brd-style-two"}),this.model.favoriteSettings.enabled&&(this.model.favoriteSettings.isFavorite?u.push({id:35,parentId:null,text:this.locale.utils.RemoveFavorite,sprite:"e-dbrd-dashboardfavIcon"}):u.push({id:35,parentId:null,text:this.locale.utils.MarkFavorite,sprite:"e-dbrd-dashboardunfavIcon"})),u.push({id:36,parentId:null,text:this.locale.utils.UpdateDashboard,sprite:"e-dbrd-banner-refresh"}),this.model.showGetLinkIcon&&u.push({id:37,parentId:null,text:this.locale.utils.GetLink,sprite:"e-dbrd-tab-link"}),!this.multiTabs&&this.dashboardParameters.showIcon&&u.push({id:38,parentId:null,text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"})):u=[{id:11,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"},{id:22,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"},{id:13,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"}],!t.isNullOrUndefined(this.model.beforeDashboardMenuOpen)&&this.model.showMaximize&&this._trigger("beforeDashboardMenuOpen",{menuData:u,headerText:e}));r=n("<div>").attr({id:this._id+"_DashboardMenuPopup"});n(window).width()>t.DashboardConstants.MobileWidth&&(h='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportDashboard+"<\/p>",r.html(h));n(i.currentTarget).addClass("menuClicked");n("#"+this.id+"_DashboardMenuPopup").data("ejMenu")&&r.ejMenu("show");this.exportDashboard=!0;c="";r.ejMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,e,c)});this.currentTabContentElement.append(r.parent());this._destroyContextMenu();this._tabMenuPopupHide(i);l=this.model.showTab?this.element.find(".e-tab .e-header").height():0;!this.multiTabs&&!this.model.showTab||n(window).width()<t.DashboardConstants.MobileWidth?(r.css({position:"absolute",top:n(i.target).offset().top,width:"auto","z-index":3}),r.css({left:n(i.target).offset().left-r.width()+30+"px"})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.currentTabContentElement).offset().top+n(i.target).height()+10+l,width:"auto","z-index":3}),r.css({left:t.isNullOrUndefined(i.pageX)?n(i.target).offset().left-r.width()*.9:i.pageX-n(this.currentTabContentElement).offset().left-r.width()}));this.isExtendedLayout&&r.css({"z-index":500});!this.multiTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&r.css({left:i.pageX-n(this.currentTabContentElement).offset().left-r.width()+this.currentTabContentElement.scrollLeft()+"px"});u.length===t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"])}},_destroyDashboardMenu:function(){var i=this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup");i.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}),n("#"+this._id+"_DashboardMenuPopup").ejMenu("destroy"),n("#"+this._id+"_DashboardMenuPopup").remove(),this.currentTabContentElement.find(".e-dbrd-banner-icon-container").removeClass("menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}))},_showContextMenu:function(i){if(!t.isNullOrUndefined(i)){if(n(i.currentTarget).find(".e-dbrd-control-nodatainfo.align-center").length===t.DashboardConstants.One)return!1;var r=this,u=t.DashboardConstants.Zero;if(this._onControlDescriptionMouseLeave(i),this.showContext||this.toolbarMethods)return this.showContext=!1,this.toolbarMethods=!1,!1;if(i.type==="touchend"&&!t.isNullOrUndefined(this.showContextMenu)){clearTimeout(this.showContextMenu);return}i.type==="touchstart"&&(u=1e3);this.showContextMenu=setTimeout(function(){var u,a,v,e,y,p;if(r.showContext=!0,!t.isNullOrUndefined(i)){if(r._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),r.model.enableWidgetMode||r.isWidget)return!1;r.element.find(".e-dbrd-descr-active").length!==t.DashboardConstants.Zero&&(n(r.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(r.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active"));r.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&r._closeFilterOverviewDialog(i);n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();r.exportDashboard=!1;r._destroyContextMenu();r._destroyDashboardMenu();r._tabMenuPopupHide(i);var c=n(i.currentTarget).parents(".e-dbrd-layout-cell"),s=n(i.currentTarget).data("IsFilterApplied"),f=n(i.currentTarget).parents(".e-dbrd-layout-cell").attr("data-controltype"),l=!0;if(t.isNullOrUndefined(f)||f===t.dashboardViewer.Controls.Label)return!1;var o=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),w=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),b=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");n("#"+o).hasClass("e-Card-Single")&&(l=!1);o=r._widgetContextMenu(i,f,o);u=r.currentTabContentElement.find("#"+r._id+"_contextMenuPopup");u.length===t.DashboardConstants.Zero&&(u=n("<div>").attr({id:r._id+"_contextMenuPopup"}));u.addClass("e-context-menu");u.attr({type:f,"control-id":o,widgetId:w,"data-Widget-Id":b,oncontextmenu:"return false"});n.isFunction(i.stopPropagation)&&i.stopPropagation();i.bubbbles=!1;var h=[],k=n(i.currentTarget).find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero,d={hasNoData:l?k:!0,type:f};if(r._contextMenuManipulation(i,h,d),n(i.currentTarget).data("IsMaster")&&h.push({id:15,text:r.locale.utils.ClearFilter,sprite:s?"e-brd-showControlMenu-ClearFilter":"e-brd-showControlMenu-ClearFilterdisable"}),a=c.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),v=c.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text(),u.ejMenu({enableSeparator:!1,enableCenterAlign:!0,fields:{dataSource:h,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(r._controlMenuSelected,r,u,a,v)}),(t.isNullOrUndefined(s)||!s)&&u.ejMenu("instance").disableItem(r.locale.utils.ClearFilter),(t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))||!n(i.currentTarget).data("ExportImage"))&&u.ejMenu("instance").disableItem(r.locale.utils.ExportToImage),(t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))||!n(i.currentTarget).data("ExportPdf"))&&u.ejMenu("instance").disableItem(r.locale.utils.ExportToPdf),(t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))||!n(i.currentTarget).data("ExportCSV")||f===t.dashboardViewer.Controls.Image)&&u.ejMenu("instance").disableItem(r.locale.utils.ExportToCSV),(t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))||!n(i.currentTarget).data("ExportExcel")||f===t.dashboardViewer.Controls.Image)&&u.ejMenu("instance").disableItem(r.locale.utils.ExportToExcel),(t.isNullOrUndefined(n(i.currentTarget).data("EnableMaximize"))||!n(i.currentTarget).data("EnableMaximize")||f===t.dashboardViewer.Controls.Image)&&u.ejMenu("instance").disableItem(r.locale.utils.Maximize),u.css({position:"fixed",top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY,left:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().top:i.originalEvent.touches[0].clientX:i.clientX,"z-index":"20",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))||!n(i.currentTarget).data("ExportImage"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))||!n(i.currentTarget).data("ExportPdf"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))||!n(i.currentTarget).data("ExportCSV"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))||!n(i.currentTarget).data("ExportExcel"))&&u.ejMenu("instance").disableItem(r.locale.utils.Export),u[0].children.length>t.DashboardConstants.One)for(e=0;e<u[0].children.length;e++)if(u[0].children[e].innerText===r.locale.utils.ClearFilter){y=u[0].children[e];n(y).prepend("<div style = 'border-top : 1px solid lightgrey; margin:0px 5px 0px 5px'><\/div>");break}return r.currentTabContentElement.append(u),u.show(),r.model.enableCustomTheming&&r._customTheme(["menu"]),u.offset().left+u.width()>r.currentTabContentElement.offset().left+r.currentTabContentElement.width()&&u.css({left:i.type==="touchstart "?t.isNullOrUndefined(i.originalEvent.touches[0].clientX)?n(i.target).offset().left:i.originalEvent.touches[0].clientX:i.clientX-(u.offset().left+u.width()-(r.currentTabContentElement.offset().left+r.currentTabContentElement.width())+20)}),u.offset().top+u.height()>r.currentTabContentElement.offset().top+r.currentTabContentElement.height()&&u.css({top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent.touches[0].clientY)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY-(u.offset().top+u.height()-(r.currentTabContentElement.offset().top+r.currentTabContentElement.height())+20)}),p=u.parent().find(".e-menu.e-vertical>.e-list>a").attr("style"),u.parent().find(".e-menu.e-vertical>.e-list>a").css("cssText",p+"padding: 0px 38px 0px 10px !important"),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}),n(i.currentTarget).find(".e-hightlight").length!==t.DashboardConstants.Zero&&n(r.currentTabContentElement).find("#"+r._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&(n("#"+r.currentTabContentElement.attr("id")+"_contextMenuPopup").focus(),n("#"+r.currentTabContentElement.attr("id")+"_contextMenuPopup").addClass("e-hightlight")),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),!1}return!0},u)}},_destroyContextMenu:function(){var n=this.currentTabContentElement.find("#"+this._id+"_contextMenuPopup");n.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}),n.hide(),n.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}));n=this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup");n.length!==t.DashboardConstants.Zero&&n.hide()},_controlMenuManipulation:function(i,r,u){var f;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(r)){if(f=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),f.hasClass("e-dbrd-maxIcon"))i.hasClass("enable-image-export")&&u.push({id:12,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"}),i.hasClass("enable-pdf-export")&&u.push({id:146,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"}),i.hasClass("enable-csv-export")&&u.push({id:13,parentId:null,text:this.locale.utils.ExportToCSV,sprite:"e-brd-showControlMenu-ExportCSV"}),i.hasClass("enable-excel-export")&&u.push({id:14,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"});else{var s=n(i).parents(".e-dbrd-control-container"),h=n(s).find(".e-control-description"),e=n(i).parents(".e-dbrd-control-container");if(h.length>t.DashboardConstants.Zero&&n(window).width()<t.DashboardConstants.MobileWidth&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-control-description"}),!i.hasClass("e-dbrd-widget-menu")&&(i.hasClass("enable-image-export")||i.hasClass("enable-pdf-export")||i.hasClass("enable-csv-export")||i.hasClass("enable-excel-export"))&&(u.push({id:11,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption"}),e.width()<150&&e.find(".e-dbrd-hide-maximize").length!==t.DashboardConstants.Zero&&u.push({id:14,parentId:null,text:this.locale.utils.Maximize,sprite:"e-dbrd-maximize"})),n(window).width()>=t.DashboardConstants.MobileWidth&&(i.hasClass("enable-image-export")&&u.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),i.hasClass("enable-pdf-export")&&u.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),i.hasClass("enable-csv-export")&&u.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),i.hasClass("enable-excel-export")&&u.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel})),n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment&&this._isCommentWidget){var o=i.parents(".e-dbrd-control-container"),c=o.find(".e-dbrd-banner-widget-withcomments"),l=o.find(".e-dbrd-banner-widget-withoutcomments");c.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withcomments"});l.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withoutcomments"})}}var a=i.parents(".e-dbrd-control-container").attr("type"),v=i.parents(".e-dbrd-control-container").attr("id"),y=i.parents(".e-dbrd-control-container").attr("data-widget-id");this._trigger("beforeControlMenuOpen",{menuData:u,WidgetType:a,widgetId:v,dataWidgetId:y,tabId:this.model._selectedTabGuid,tabName:this.dashboardName})}},_showControlMenu:function(i){var r=n(this.currentTabContentElement).find("#"+i),f,h,a,s,v,y;if(this.exportDashboard=!1,this._destroyContextMenu(),this._closeCommentDialog(r),this.lastFocusElement=r,f=r.parents(".e-dbrd-layout-cell"),f.css({position:"relative"}),h=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),r.hasClass("e-dbrd-menuClicked")){r.removeClass("e-dbrd-menuClicked");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").ejMenu("destroy");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").remove();return}n(this.currentTabContentElement).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked");r.addClass("e-dbrd-menuClicked");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").data("ejMenu")&&this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").ejMenu("destroy");this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup").remove();this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this._destroyDashboardMenu();var o=r.parents(".e-dbrd-layout-cell").attr("data-controltype"),e=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),p=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),c=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");o==="FilterComboBox"&&(e=r.parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});var u=n("<div>").attr({id:this._id+"_controlMenuPopup",type:o,"control-id":e,widgetId:p,"data-Widget-Id":c,oncontextmenu:"return false"}),l=f.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),w=f.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text();h.hasClass("e-dbrd-maxIcon")&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElementData=n("<div><\/div>"),this.filename=l,this.exportSettings.filename=this.filename,this.currentTabContentElementData.attr({type:o,"control-id":e,"data-Widget-Id":c}),this._mobileExport()):(a='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportControl+"<\/p>",u.append(a)));s=[];v=r.parents(".e-dbrd-control-container").find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero;this._controlMenuManipulation(r,v,s);u.ejMenu({enableSeparator:!1,fields:{dataSource:s,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,u,l,w)});f.length&&(y=f.find(".e-dbrd-control").offset().top,r.hasClass("e-control-prop-onHover")&&(y+=20),this.currentTabContentElement.append(u.parent()),this.multiTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+3+"px",width:"auto","z-index":"20"}),u.css({left:r.offset().left-n("#"+this._id+"_controlMenuPopup").width()+r.width()+17+"px"})):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22+this.element.find(".e-tab .e-header").height()+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-98+"px","z-index":"20",width:"auto"}):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-104+"px","z-index":"20",width:"auto"}),!this.multiTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&u.css({left:r.offset().left-n(this.currentTabContentElement).offset().left-98+this.element.scrollLeft()+"px"}),u.offset().left<0&&u.css({left:"5px"}),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});this.model.enableCustomTheming&&this._customTheme(["menu"])},_destroyControlMenu:function(){var i,r;n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}),n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").data("ejMenu")&&n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").ejMenu("destroy"),n("#"+this._id+"_controlMenuPopup").remove(),n(this.currentTabContentElement).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}));n(window).width()<t.DashboardConstants.MobileWidth&&(i=n(this.currentTabContentElement).find(".e-dbrd-inactive"),i.length!==t.DashboardConstants.Zero&&(i.find(".e-dbrd-inactive-header").css({position:"fixed"}),r=i.find(".e-dbrd-upArrow"),r.css("display")==="block"&&i.css({"overflow-y":"auto"})))},_showMaximizedControlMenu:function(i){var e,o,h,r,c,s;for(n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=t.DashboardConstants.Zero,o=n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-menu"),o.length!==t.DashboardConstants.Zero?o.click():n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-small-menu").click(),h=this.currentTabContentElement.find(".e-menu-wrap").find(".e-menu li a"),n(this.currentTabContentElement).find(".e-menu.e-vertical .e-list").css({"line-height":"30px"}),n(this.currentTabContentElement).find(".e-menu.e-vertical>.e-list>a").css({"font-size":"11px"}),r=0;r<=this.currentTabContentElement.find(".e-menu-wrap").find(".e-menu li a").length;r++)c=n(h[r]).text(),s=t.EjSvgRender.utils._measureText(c,100,{size:"13px",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e<s&&(e=s);var u=this.currentTabContentElement.find(".e-menu-wrap"),l=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv"),f=n(this.currentTabContentElement).find(".e-dbrd-inactive");l.append(u);n(window).width()<t.DashboardConstants.MobileWidth?(n(u).find(".e-menu.e-vertical .e-list").css({"line-height":"52px"}),n(u).find(".e-menu").css({position:"fixed",top:n(".e-dbrd-inactive").height()/3.5+"px",left:n(".e-dbrd-inactive").width()/2.5+"px","z-index":"1000",width:"auto"}),f.find(".e-dbrd-inactive-header").css({position:"absolute"}),f.length!==t.DashboardConstants.Zero&&f.css("overflow-y")==="auto"&&f.css({"overflow-y":"hidden"})):n(u).find(".e-menu").css({position:"fixed",top:n(i.currentTarget).offset().top+21.7+"px",left:n(i.currentTarget).offset().left-84.3+"px","z-index":"1000",width:"auto"})},_contextMenuManipulation:function(i,r,u){var f=u.type,e=u.hasNoData,o,s;t.isNullOrUndefined(r)||t.isNullOrUndefined(e)||f===t.dashboardViewer.Controls.FilterComboBox||f===t.dashboardViewer.Controls.DatePicker||f===t.dashboardViewer.Controls.CheckBox||f===t.dashboardViewer.Controls.ListBox||f===t.dashboardViewer.Controls.RangeSlider||f===t.dashboardViewer.Controls.RangeNavigator||(!n(i.currentTarget).hasClass("e-dbrd-control-container")||e||this.isWidget||r.push({id:14,text:this.locale.utils.Maximize}),r.push({id:11,parentId:null,text:this.locale.utils.Export}),n(window).width()>=t.DashboardConstants.MobileWidth&&(r.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),r.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),r.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),r.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel})),o=n(i.target).parents(".e-dbrd-control-container").attr("id"),s=n(i.target).parents(".e-dbrd-control-container").attr("data-widget-id"),this._trigger("beforeContextMenuOpen",{menuData:r,widgetType:f,widgetId:o,dataWidgetId:s,tabId:this.model._selectedTabGuid,tabName:this.dashboardName}))}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.customTheme={_customThemeforAPI:function(n,t,i){var r={},u=0,f,e;if(t.controlType===n.controlType&&t.reportName===n.reportName&&this.model.customThemeSettings.widgetThemeSettings!==null&&(f=this.model.customThemeSettings.widgetThemeSettings[n.controlType.toLowerCase()],f!==null&&f[i]!==null))for(e=f[i],r=this._generateAPIFromJson(n.controlType,e),u=0;u<Object.keys(r).length;u++)t.customTheme[Object.keys(r)[u]]=r[Object.keys(r)[u]]},_generateCSSFromJson:function(n,i,r,u,f){var e=t.DashboardConstants.Zero,h=null,s=null,o=Object.keys(u),l,c,a;for(i==="PivotGrid"&&(n=n+"_div"),e=t.DashboardConstants.Zero;e<o.length;e++)if(l=this._getControlClassName(r,o[e],i,f),!t.isNullOrUndefined(l))for(c=l.split(","),s=t.DashboardConstants.Zero;s<c.length;s++)a=i==="RangeSlider"&&r==="label"?c[s]:"#"+n+c[s],t.isNullOrUndefined(h)?h=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}":h+=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}";return h},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":case"applybutton-font-color":case"cancelbutton-font-color":return"color";case"othermonth-font-color":case"range-color":case"background-color":case"applybutton-color":case"cancelbutton-color":return"background";case"highlight-color":return"border-color"}return n},_customTheme:function(n){for(var i=0;i<=n.length-t.DashboardConstants.One;i++)switch(n[i]){case"dashboard":this._customThemefordashboard();break;case"banner":this._customThemeforbanner();break;case"font":this._customThemeforfont();break;case"container":this._customThemeforcontainer();break;case"popup":this._customThemeforpopup();break;case"description":this._customThemefordescription();break;case"menu":this._customThemeformenu();break;case"disableBtn":this._customThemefordisableBtn();break;case"enableBtn":this._customThemeforenableBtn();break;case"erroredContainer":this._customThemeforerroredContainer();break;case"export":this._customThemeforexport();break;case"filterOverview":this._customThemeforfilterOverview();break;case"maximize":this._customThemeformaximize();break;case"passiveError":this._customThemeforpassiveError();break;case"tooltip":this._customThemefortooltip();break;case"multitabSettings":this._customThemeforTabs()}},_customThemefordashboard:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-image"])&&this.model.customThemeSettings.dashboard["background-image"].length>t.DashboardConstants.Zero?this.currentTabContentElement.css({"background-image":this.model.customThemeSettings.dashboard["background-image"]}):!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-color"])&&this.model.customThemeSettings.dashboard["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.dashboard["background-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var i=this.model.customThemeSettings.dashboard["icon-hover-color"],r=".e-dbrd-tab-res-icon:hover {color:"+i+"!important}.e-dbrd-tab-menu:hover {color:"+i+"!important}.e-dbrd-bannerIcon:hover {color:"+i+"!important}.e-dbrd-containerIcon:hover {color:"+i+"!important}.e-dbrd-popup-icon:hover {color:"+i+"!important}.e-dbrd-maxIcon:hover {color:"+i+"!important}.e-brd-clearFilters:hover {color:"+i+"!important}.e-close-notification:hover {color:"+i+"!important}";n("head").prepend('<style type= "text/css">'+r+"<\/style>")}},_customThemeforfont:function(){var i,r;t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.currentTabContentElement[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-tab>.e-header .e-item").css({"font-family":i["font-family"]}),this.element.find(".e-dbrd-tab-res-popup .e-dbrd-tab-res-text").css({"font-family":i["font-family"]})))},_customThemeforbanner:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.banner)){var i=this.currentTabContentElement.find(".e-dbrd-banner"),n=this.model.customThemeSettings.banner;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({border:"none"}),this.currentTabContentElement.find(".e-dbrd-overview-banner").css({background:n["background-color"]}));!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({color:n["title-color"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({color:n["title-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":n["font-size"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-bannerIcon").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu-border").css({"background-color":n["icons-color"]}),this.element.find(".e-dbrd-tab-res-icon").css({color:n["icons-color"]}),this.currentTabContentElement.find(".e-dynamic-filterdroparrow").css({color:n["icons-color"]}));!t.isNullOrUndefined(n["banner-top-border-color"])&&n["banner-top-border-color"].length>t.DashboardConstants.Zero&&i.css({"border-top-color":n["banner-top-border-color"]})}},_customThemeforexport:function(){t.isNullOrUndefined(this.model.customThemeSettings.container)||this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.container["background-color"]})},_customThemeforcontainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var n=this.model.customThemeSettings.container,i=this.currentTabContentElement.find(".e-dbrd-control-container");!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&this.currentTabContentElement.find(".e-dbrd-control").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n.border)&&n.border.length>t.DashboardConstants.Zero&&i.css({border:n.border});!t.isNullOrUndefined(n["border-radius"])&&n["border-radius"].length>t.DashboardConstants.Zero&&i.css({"border-radius":n["border-radius"]});!t.isNullOrUndefined(n["box-shadow"])&&n["box-shadow"].length>t.DashboardConstants.Zero&&i.css({"box-shadow":n["box-shadow"]});!t.isNullOrUndefined(n["header-background-color"])&&n["header-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-heading").css({"background-color":n["header-background-color"]});!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({color:n["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]});!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":n["font-size"]});!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-containerIcon").css({color:n["icons-color"]})}},_customThemeformenu:function(){var u,i,f,e,r;t.isNullOrUndefined(this.model.customThemeSettings.menuSettings)||(u=this.currentTabContentElement.find("#"+this._id+"_DashboardMenuPopup"),i=this.model.customThemeSettings.menuSettings,!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(u.css({"background-color":i["background-color"]}),u.css({"border-color":i["background-color"]}),u.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({color:i["font-color"]}),u.children().find("span").css({color:i["font-color"]}),u.children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({"font-size":i["font-size"]}),u.children().find("span").css({"font-size":i["font-size"]}),u.children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]})),f=this.currentTabContentElement.find("#"+this._id+"_controlMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(f.css({"background-color":i["background-color"]}),f.css({"border-color":i["background-color"]}),f.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({color:i["font-color"]}),f.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({"font-size":i["font-size"]}),f.children().find("span").css({"font-size":i["font-size"]})),e=this.currentTabContentElement.find("#"+this._id+"_contextMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(e.css({"background-color":i["background-color"]}),e.css({"border-color":i["background-color"]}),e.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(e.children().find("a").css({color:i["font-color"]}),e.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&e.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&e.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&e.children().find("a").css({"font-size":i["font-size"]}),this.multiTabs&&this.model.showTab&&(r=n(".e-dbrd-tab-menu-popup")[0],!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&n(r).length>t.DashboardConstants.Zero&&(r.style.setProperty("background-color",i["background-color"]),r.style.setProperty("border-color",i["background-color"]),r.style.setProperty("box-shadow","1px 1px 1px 3px "+i["background-color"])),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({color:i["font-color"]}),n(r).children().find("span").css({color:i["font-color"]}),n(r).children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&n(r).css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&n(r).css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({"font-size":i["font-size"]}),n(r).children().find("span").css({"font-size":i["font-size"]}),n(r).children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]}))))},_customThemefordescription:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.descriptionSettings)){var i=this.currentTabContentElement.find(".e-dbrd-report-desc"),n=this.model.customThemeSettings.descriptionSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n["border-color"])&&n["border-color"].length>t.DashboardConstants.Zero&&(i.css({"border-color":n["border-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"border-color":n["border-color"]}));!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(i.css({color:n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({color:n["font-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":n["font-size"]}))}},_customThemeforpopup:function(){var f=n(window).width()<t.DashboardConstants.MobileWidth,i,e,o,s,h,u,c,l,r;t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&!f?(this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-inactive-export").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-params-inactive-prompt").css({"background-color":i["popup-background-color"]})):!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&f&&(this.currentTabContentElement.find(".e-dbrd-mobileExport").css({"background-color":i["popup-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-background-color"])&&i["popup-buttons-bar-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportButtons").css({"background-color":i["popup-buttons-bar-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-buttons-bar-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-border-color"])&&i["popup-buttons-bar-border-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportButtons").css({"border-top-color":i["popup-buttons-bar-border-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"border-top-color":i["popup-buttons-bar-border-color"]})),!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-waiting-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({border:"1px solid "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-alert").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({"background-color":i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({border:"1px solid "+i["popup-container-background-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-container-background-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExport").css({"background-color":i["popup-container-background-color"]})),!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&!f?(this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({color:i["popup-title-color"]}),this.currentTabContentElement.find(".e-dbrd-inactive-export").find("hr").css({"border-color":i["popup-title-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})):!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&f&&(this.currentTabContentElement.find(".e-dbrd-exportTitle").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})),!t.isNullOrUndefined(i["hyperlink-color"])&&i["hyperlink-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-btn-support").css({color:i["hyperlink-color"]}),!t.isNullOrUndefined(i["error-msg-color"])&&i["error-msg-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-error").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({color:i["error-msg-color"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({color:i["error-msg-color"]})),!t.isNullOrUndefined(i["popup-font-color"])&&i["popup-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-inactive-left").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({color:i["popup-font-color"]}),this.currentTabContentElement.find(".e-share-text").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-params-lable").css({color:i["popup-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({color:i["popup-font-color"]})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]}),this.currentTabContentElement.find(".e-share-copy-btn").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-dialog-close-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select .e-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker-wrapper .e-dashboarddatepicker-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-back-icon").css({color:i["popup-icons-color"]}),e=".e-dbrd-params-date .e-arrow-enabled i:before { color :"+i["popup-icons-color"]+"}",n("head").append('<style type= "text/css">'+e+"<\/style>"),n(".e-dbrd-params-date .e-arrow-enabled i").css({color:i["popup-icons-color"]})),!t.isNullOrUndefined(i["input-box-background-color"])&&i["input-box-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdownSelection").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_container").css({"background-color":i["input-box-background-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find(".e-text-box").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_container").css({"background-color":i["input-box-background-color"]}),this.currentTabContentElement.find(".e-share-text").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-textbox").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"background-color":i["input-box-background-color"]}),o=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { background-color :"+i["input-box-background-color"]+"}",n("head").append('<style type= "text/css">'+o+"<\/style>"),n(".e-dbrd-params-drpdwn").css({"background-color":i["input-box-background-color"]}),n(".e-dbrd-params-date").css({"background-color":i["input-box-background-color"]}),f&&this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"background-color":i["input-box-background-color"]})),!t.isNullOrUndefined(i["input-box-border-color"])&&i["input-box-border-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"border-color":i["input-box-border-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-down-arrow").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-text-box").css({"border-color":i["input-box-border-color"]}),this.currentTabContentElement.find(".e-share-text").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-textbox").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-drpdwn").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-date").css({"border-color":i["input-box-border-color"]}),f&&this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"border-color":i["input-box-border-color"]})),!t.isNullOrUndefined(i["inputbox-font-color"])&&i["inputbox-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-text-box").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-textbox").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({color:i["inputbox-font-color"]}),n(".e-dbrd-params-drpdwn").css({color:i["inputbox-font-color"]}),s=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { color :"+i["inputbox-font-color"]+"}",n("head").append('<style type= "text/css">'+s+"<\/style>"),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({color:i["inputbox-font-color"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({color:i["inputbox-font-color"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-success").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-text-box").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-btn-support").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-share-text").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-textbox").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n(".e-dbrd-params-drpdwn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),h=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-family:"+this.model.customThemeSettings.fontSettings["font-family"]+"}",n("head").append('<style type= "text/css">'+h+"<\/style>"),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-exportTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(u=this.model.customThemeSettings.fontSettings,this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-size":u["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-text-box").css({"font-size":u["font-size"]}),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":u["font-size"]})),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-error").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-success").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-size":u["font-size"]}),this.currentTabContentElement.find(".e-share-text").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":u["font-size"]}),c=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+u["font-size"]+"}",n("head").append('<style type= "text/css">'+c+"<\/style>")),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-exportImageField").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_imageType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_excelType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_hidden").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_dashboardRadio").css({"font-size":i["font-size"]}),this.currentTabContentElement.find("#"+this._id+"_widgetRadio").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-text-box").css({"font-size":i["font-size"]}),f&&(this.currentTabContentElement.find(".e-brd-mobileFilenameText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportImageText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportPdfText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportExcelText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportCsvText").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportFilename").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":i["font-size"]})),this.currentTabContentElement.find(".e-brd-inactive-left").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-header-error").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-error").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-filenameError").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-exportTitle").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":i["success-font-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-success").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-share-default.e-content").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-share-text").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":i["font-size"]}),l=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+i["font-size"]+"}",n("head").append('<style type= "text/css">'+l+"<\/style>")));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["success-background-color"])&&r["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"border-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-success").css({"background-color":r["success-background-color"]}),this.currentTabContentElement.find(".e-success").css({"border-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":r["success-background-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":r["success-background-color"]})),!t.isNullOrUndefined(r["success-font-color"])&&r["success-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:r["success-font-color"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({color:r["success-font-color"]}),this.currentTabContentElement.find(".e-success").css({color:r["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:r["success-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:r["success-font-color"]})),!t.isNullOrUndefined(r["reset-background-color"])&&r["reset-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"background-color":r["reset-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"border-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":r["reset-background-color"]})),!t.isNullOrUndefined(r["reset-font-color"])&&r["reset-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageReset").css({color:r["reset-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({color:r["reset-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-exportResetIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"background-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"border-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"background-color":r["cancel-background-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"border-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"background-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"border-color":r["cancel-background-color"]})),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({color:r["cancel-font-color"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({color:r["cancel-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({color:r["cancel-font-color"]}),f&&this.currentTabContentElement.find(".e-dbrd-titleBackIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-dbrd-btn-ok").css({"font-size":r["success-font-color"]}),this.currentTabContentElement.find(".e-success").css({"font-size":r["font-size"]}),f&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageReset").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-ControlImageCancel").css({"font-size":r["font-size"]}),this.currentTabContentElement.find(".e-brd-Pdfcancel").css({"font-size":r["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({"font-size":r["font-size"]})))},_customThemeformaximize:function(){var i,f,u,e,o,r;t.isNullOrUndefined(this.model.customThemeSettings.maximizationSettings)||(i=this.model.customThemeSettings.maximizationSettings,!t.isNullOrUndefined(i["max-background-color"])&&i["max-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").css({"background-color":i["max-background-color"]}),!t.isNullOrUndefined(i["max-header-background-color"])&&i["max-header-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-header").css({"background-color":i["max-header-background-color"]}),!t.isNullOrUndefined(i["max-container-background-color"])&&i["max-container-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-control-container-avoid").css({"background-color":i["max-container-background-color"]}),!t.isNullOrUndefined(i["max-footer-background-color"])&&i["max-footer-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-footer").css({"background-color":i["max-footer-background-color"]}),!t.isNullOrUndefined(i["max-icons-color"])&&i["max-icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxIcon").css({color:i["max-icons-color"]}),f=i["max-icons-color"],u=".e-dbrd-inactive-header-close:hover {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>"),u=".e-dbrd-maxIcon:hover:before {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>")),!t.isNullOrUndefined(i["max-title-color"])&&i["max-title-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({color:i["max-title-color"]}),!t.isNullOrUndefined(i["description-font-color"])&&i["description-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({color:i["description-font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(e=this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],e.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important"))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(o=this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],o.style.setProperty("font-size",this.model.customThemeSettings.fontSettings["font-size"],"important"))),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":i["font-size"]}),this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({"font-size":i["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"border-color":r["cancel-background-color"]}),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({color:r["cancel-font-color"]}),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":r["font-size"]}))},_customThemeforfilterOverview:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.filterOverviewSettings)||(n=this.model.customThemeSettings.filterOverviewSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp")[0],i.style.setProperty("background-color",n["background-color"],"important"),i.style.setProperty("border-color",n["background-color"],"important"),this.currentTabContentElement.find(".e-dbrd-filterList").css({"background-color":n["background-color"]})),!t.isNullOrUndefined(n["footer-background-color"])&&n["footer-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-clearFilterdiv").css({"background-color":n["footer-background-color"]}),this.currentTabContentElement.find(".e-brd-style-two").css({"border-color":n["footer-background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-list").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({color:n["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-brd-clearFilters").css({color:n["icons-color"]}),!t.isNullOrUndefined(n["back-icon-color"])&&n["back-icon-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-overview-back").css({color:n["back-icon-color"]}),!t.isNullOrUndefined(n["clear-all-font-color"])&&n["clear-all-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-clearAllFilters").css({color:n["clear-all-font-color"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-lists").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-list").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-clearfilterclosetext").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-filter-title").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-clearAllFilters").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-brd-overview-widgetTitle").css({"font-size":n["font-size"]})))},_customThemeforpassiveError:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.passiveErrorSettings)){var n=this.model.customThemeSettings.passiveErrorSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-error-notification").css({"background-color":n["background-color"]});!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-error-msg-mobile").css({color:n["font-color"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-close-notification").css({color:n["icons-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-errorDiv-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find("reload-button-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-learnMore").css({color:n["link-color"]}),this.currentTabContentElement.find(".e-dbrd-learnMore-text-mobile").css({color:n["link-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-errorDiv-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find("reload-button-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-error-msg").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-error-msg-mobile").css({"font-size":n["font-size"]}))}},_customThemeforerroredContainer:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.erroredContainer)||(n=this.model.customThemeSettings.erroredContainer,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".align-center").css({"background-color":n["background-color"]}),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-nodata").css({color:n["font-color"]}),this.currentTabContentElement.find(".e-higher-error-message").css({color:n["font-color"]})),!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-link-btn").css({color:n["link-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-nodata").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".align-center").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-nodata").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(i=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"background-color":i["success-background-color"]}),this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({"border-color":i["success-background-color"]})),!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-refresh-link-btn").css({color:i["success-font-color"]}))},_customThemefortooltip:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.tooltipSettings)||(n=this.model.customThemeSettings.tooltipSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tooltip").css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"border-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px"+n["background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({color:n["font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-tooltip")[0],i.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important")),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"fonts-size":n["font-size"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"font-size":n["font-size"]}))},_customThemeforenableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["success-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["success-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["success-background-color"]}));!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["success-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["success-font-color"]}))}},_customThemefordisableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["disabled-btn-background-color"])&&i["disabled-btn-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["disabled-btn-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["disabled-btn-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["disabled-btn-background-color"]}));!t.isNullOrUndefined(i["disabled-btn-font-color"])&&i["disabled-btn-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["disabled-btn-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["disabled-btn-font-color"]}))}},_mouseHoverOnMenu:function(i){var f,r,u,e;this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&(t.isNullOrUndefined(this.model.customThemeSettings.dashboard)||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["menu-hover-color"])&&this.model.customThemeSettings.dashboard["menu-hover-color"].length>t.DashboardConstants.Zero&&(f=this.element.find(".e-menu .e-list"),f.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]}),i.currentTarget.style.setProperty("background-color",this.model.customThemeSettings.dashboard["menu-hover-color"],"important"),r=this.element.find(".e-menu .e-list.e-haschild>a"),u="",n(i.currentTarget).parents().hasClass("e-haschild")||n(i.currentTarget).hasClass("e-haschild")?(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.dashboard["menu-hover-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]})):(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.menuSettings["background-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]}))));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(e=this.element.find(".e-menu .e-list.e-haschild>a"),e.css("font-size",this.model.customThemeSettings.menuSettings["font-size"]))},_mouseLeaveOnMenu:function(){if(this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["hover-color"])&&this.model.customThemeSettings.dashboard["hover-color"].length>t.DashboardConstants.Zero||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var n=this.element.find(".e-menu");n.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});this.element.find(".e-menu").children().find("a").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});n.children(".e-haschild").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]+"!important"})}},_customThemeforTabs:function(){var i,r,u,f;t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)||(i=null,r=null,!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["background-color"])&&this.model.customThemeSettings.multitabSettings["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-tab>.e-header .e-item").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-menu-container").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-popup").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-element").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-color"])&&this.model.customThemeSettings.multitabSettings["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header .e-item>a").css({color:this.model.customThemeSettings.multitabSettings["font-color"]}),this.element.find(".e-dbrd-tab-res-text").css({color:this.model.customThemeSettings.multitabSettings["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-color"],r=".e-tab>.e-header .e-item:hover {border-bottom-color:"+i+"!important}.e-dbrd-tab-res-element:hover {background-color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-font-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-font-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-font-color"],r=".e-tab>.e-header .e-item>a:hover {color:"+i+"!important}.e-dbrd-tab-res-text:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-font-color"])&&this.model.customThemeSettings.multitabSettings["selected-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-res-selected-font").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),this.element.find(".e-tab>.e-header .e-active>a").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-font-color"],r=".e-tab>.e-header .e-active:hover {color:"+i+"!important}.e-res-selected-font:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-tab-color"])&&this.model.customThemeSettings.multitabSettings["selected-tab-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header>.e-active").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),this.element.find(".e-res-selected-element").css({"background-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-tab-color"],r=".e-tab>.e-header .e-active:hover {border-bottom-color:"+i+"!important}.e-res-selected-element:hover {background-color:"+i+"!important}",n("head").append('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-ryt-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]}),this.element.find(".e-dbrd-left-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-scroll-right").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]}),this.element.find(".e-dbrd-scroll-left").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]})),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),u=this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"],f=".e-brd-multitab-mob-export-btn:before, .e-brd-multitab-mob-params-btn:before {color:"+u+"!important}",n("head").prepend('<style type= "text/css">'+f+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"])&&this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-element").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({border:"1px solid "+this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header").css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}))},_filterPanelCustomValues:function(i,r){var u,f,e;if(i.controlType!==null&&r!==null&&(u=i.controlType.toLocaleLowerCase(),u==="listbox"||u==="rangeslider"||u==="radiobutton"||u==="checkbox"||u==="filtercombobox"||u==="datepicker"))if(n(this.filterPanelCustomThemeCol).length===t.DashboardConstants.Zero)this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r});else if(this.filterPanelCustomThemeCol.length>t.DashboardConstants.Zero)for(f=0;f<this.filterPanelCustomThemeCol.length;f++){if(e=this.filterPanelCustomThemeCol[f].control,e===u)return;e!==u&&this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r})}}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.keyboardNavigation={_keyboardNavigation:function(i){var u,r,f,e,o;if(!t.isNullOrUndefined(i))if(this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),u=40,i.type==="keydown"){this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this.isMouseClick=!1;r=null;switch(i.keyCode){case 17:n(this.element).find(".e-hightlight").removeClass("e-hightlight");break;case 9:n(i.currentTarget).hasClass("e-multiple-series")&&n(i.currentTarget).closest(".e-multiple-parent").find(".e-multiple-series").removeAttr("tabindex");n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);this._destroyCommentDialog(i);i.stopImmediatePropagation();break;case 27:n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i);n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);break;case 32:case 13:n(i.currentTarget).hasClass("e-remove-control-filter-enable")?(n(i.currentTarget).hasClass("e-hightlight")&&n(i.currentTarget).removeClass("e-hightlight"),n(i.currentTarget).click()):n(i.currentTarget).hasClass("e-dbrd-control-menu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_controlMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-banner-menu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_DashboardMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_Commonmenupopupfilter").focus(),f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),this._on(this.currentTabContentElement,"keydown",f.find("div[tabindex=0]"),f.find("span[tabindex=0]"),this._keyboardNavigationOnFilterOverview)):n(i.currentTarget.parentElement).hasClass("e-dbrd-banner-icon-container")?n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?this._showMoreFiltersMenu(i):this._toolbarsInBanner(i):n(i.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(i):n(i.currentTarget).hasClass("e-brd-clearFilters")?this._removeMoreFilterMenu(i):n(i.currentTarget).hasClass("e-dbrd-tab-menu-container")?(this._showTabMenu(i),n("#"+this.element.attr("id")+"_tabMenuPopup").focus()):n(i.currentTarget).hasClass("e-grid")&&!n(i.currentTarget).children().hasClass("e-addfilter-separator")||n(i.currentTarget).hasClass("e-dbrd-drill")||n(i.currentTarget).hasClass("e-brd-clearfilterclosetext")||n(i.currentTarget).hasClass("e-dbrd-maximize")||n(i.currentTarget).hasClass("e-dbrd-banner-description")||n(i.currentTarget).hasClass("e-dbrd-inactive-header-close")||n(i.currentTarget).hasClass("e-chkbox-wrap")||n(i.currentTarget).hasClass("e-radiobtn-wrap")||n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero?n(i.currentTarget).click().focus():n(i.target).hasClass("e-datepicker")?(r=n.Event("keydown"),r.keyCode=u,r.altKey=!0,n(i.target).trigger(r)):n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero?n(i.currentTarget).find(".e-dropdownlist").attr("aria-expanded")==="true"?(e=n("#"+n(i.currentTarget).find(".e-dropdownlist").attr("id")+"_popup").find(".e-globalfilter-selection").find(".e-focus"),e.length>t.DashboardConstants.Zero&&e.click()):setTimeout(function(){r=n.Event("keydown");r.keyCode=u;r.altKey=!0;n(i.target).closest(".e-dbrd-control").focus().trigger(r);n(i.target).find(".e-dropdownlist").trigger(r).addClass("e-set-focus")},700):(n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments"))&&n(i.currentTarget).click();i.stopImmediatePropagation();break;case 38:case 40:if(n(i.currentTarget.parentElement).hasClass("e-grid")&&n(i.currentTarget.parentElement).hasClass("e-dbrd-control"))o=n(i.currentTarget.parentElement).data("ejGrid"),t.isNullOrUndefined(o)||o.model.selectedRecords.length===t.DashboardConstants.Zero&&(n(i.currentTarget).focus(),n(i.currentTarget).ejGrid("selectRows",t.DashboardConstants.Zero,t.DashboardConstants.One));else if(n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero){if(n(i.currentTarget).hasClass("e-last-child")&&i.keyCode===u||n(i.currentTarget).hasClass("e-first-child")&&i.keyCode===38)return;n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");i.keyCode===38?n.tabPrev():n.tabNext();n(document.activeElement).hasClass("e-radiobtn-wrap")?n(document.activeElement).addClass("e-hightlight").click():n(i.currentTarget).find(".e-dbrd-tab-menu").length>t.DashboardConstants.Zero?i.keyCode===38?n(document.previousSibling).addClass("e-hightlight"):n(document.nextSibling).addClass("e-hightlight"):n(document.activeElement).addClass("e-hightlight");n.isFunction(i.preventDefault)&&i.preventDefault()}else n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero&&n(i.target).find(".e-dropdownlist").hasClass("e-set-focus")&&(n(i.target).find(".e-dropdownlist").removeClass("e-set-focus"),n(i.target).find(".e-ddl").focus());i.stopImmediatePropagation()}}else i.type==="focusin"&&(this.isMouseClick?this.isMouseClick=!1:this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),n(i.target).hasClass("e-multiple-parent")&&n(i.target).hasClass("e-focus-in")?n.tabPrev():n(i.target).hasClass("e-multiple-parent")&&!n(i.target).hasClass("e-focus-in")&&this._handleTabIndexForMultipleSeries(i.currentTarget,!0))},_keyboardNavigationOnFilterOverview:function(t){n(t.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(t):n(t.currentTarget).hasClass("e-brd-clearFilters")&&this._removeMoreFilterMenu(t)},_keyboardNavigationKeyUp:function(){this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle)},setFocusStyle:function(i){n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-remove-control-filter-disable")||(n(i.currentTarget.parentElement).parent().attr("type")===t.dashboardViewer.Controls.ListBox?n(i.currentTarget).children().addClass("e-hightlight"):n(i.currentTarget).hasClass("e-dbrd-tab-container")?n(i.target).hasClass("e-dbrd-tab-container")?n(i.target).find(".e-dbrd-tab-menu-container").addClass("e-hightlight"):n(i.currentTarget).find(".e-active").addClass("e-hightlight"):n(i.currentTarget).addClass("e-hightlight"),this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&(n(i.currentTarget).hasClass("e-dbrd-filterListMenuPopUp")||n(i.currentTarget).hasClass("e-brd-clearFilters")||n(i.currentTarget).hasClass("e-dbrd-clearDiv")||this._closeFilterOverviewDialog(i)),i.stopPropagation())}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dashboardParameters={_textBoxkeyPress:function(n){var t;return n.target.type==="number"&&(t=n.which?n.which:n.keyCode,t>31&&t!==46&&(t<48||t>57))?!1:!0},_textBoxkeyUpEvent:function(n){this._compareChangedValuesforTextBox(n)},_radioButtonSelected:function(n,t){this._enableanddisableFilterIcon(t.model.value,this._getCurrentDefaultValue(n),n);t.type==="change"&&this._resetIconforValueChange(t.model.value,n)},_compareChangedValuesforTextBox:function(n){this._enableanddisableFilterIcon(n.target.value,this._getCurrentDefaultValue(n.target.getAttribute("name")),n.target.name);this._resetIconforValueChange(n.target.value,n.target.name)},_getCurrentDefaultValue:function(n){for(var i="",t=0;t<this.dashboardParameters.data.length;t++)if(this.dashboardParameters.data[t].id===n){i=this.dashboardParameters.data[t].value;break}return i},_resetIconforValueChange:function(i,r){var f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),e=!1,u=0;for(n(window).width()<t.DashboardConstants.MobileWidth&&(f="",f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile")),u=0;u<this.dashboardParameters.data.length;u++)this.dashboardParameters.data[u].id===r&&i!==this.dashboardParameters.data[u].defaultValue?this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i===this.dashboardParameters.data[u].defaultValue?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this.dashboardParameters.data[u].value===this.dashboardParameters.data[u].defaultValue?!0:!1);for(u=0;u<this.dashboardParameters.data.length;u++)if(Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id))if(this.reset[this.dashboardParameters.data[u].id]===!0)e=!0;else{e=!1;break}else{e=!1;break}e?f.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"}):f.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_enableanddisableFilterIcon:function(n,i,r){this.isPrompt||(n!==i?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable")),t.isNullOrUndefined(n)&&t.isNullOrUndefined(i)||this._enableorDisableOverallFilterIcon())},_enableorDisableOverallFilterIcon:function(){var n=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply"),i=this.element.find(".e-dbrd-params-wrapper").find(".e-dbrd-params-reset.e-enable");i&&i.length!==t.DashboardConstants.Zero?n.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}):n.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_disableResetIcons:function(){var i="",r;for(n(window).width()<t.DashboardConstants.MobileWidth?(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})):(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})),r=0;r<this.dashboardParameters.data.length;r++)this.reset[this.dashboardParameters.data[r].id]=!0},_dropDownSelectionChanged:function(n,t){this._enableanddisableFilterIcon(t.selectedValue,this._getCurrentDefaultValue(n),n);t.isInteraction&&this._resetIconforValueChange(t.selectedValue,n)},_checkDefaultValue:function(){for(var r,u=0,i=0;i<this.dashboardParameters.data.length;i++)this.dashboardParameters.data[i].value===this.dashboardParameters.data[i].defaultValue&&(u+=t.DashboardConstants.One);r=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button");n(window).width()<t.DashboardConstants.MobileWidth&&(r="",r=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"));this.dashboardParameters.data.length!==u&&r.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_drawDashboardParametersDialog:function(i,r){var w=n(window).width()<t.DashboardConstants.MobileWidth?"e-mobile":"e-desktop",b='<div class="e-dbrd-params-dialog '+w+'" id="'+this._dashboardId+'_dashboardparametersdialog"><div class="e-dbrd-params-dialog-heading"><span class="e-dbrd-params-back-icon"><\/span><div class= "e-dbrd-params-dialog-close-icon"><\/div><div class="e-dbrd-params-reset-all-mobile e-disable" disabled="true">'+this.locale.utils.ResetAll+'<\/div><div class="e-dbrd-params-title">'+this.locale.utils.DashboardParameters+'<\/div><\/div><div class="e-dbrd-params-dialog-content-wrapper e-dbrd-control" id="'+this._dashboardId+'_dashboardparametersWrapper"><div><\/div><\/div><div class="e-dbrd-params-dialog-footer"><div class= "e-dbrd-params-reset-all-button e-disable" dbrd-params-id="all" disabled="true"><span>'+this.locale.utils.ResetParameters+'<\/span><\/div><input type="button" class="e-dbrd-apply-button e-dashboardparameters-apply e-disable" disabled="true" value="'+this.locale.utils.Apply+'" class="e-dbrd-btn" /><input type="button" class="e-dbrd-cancel-button e-dashboardparameters-cancel" value="'+this.locale.utils.Cancel+'" class="e-dbrd-btn" /><\/div><\/div>',f="",s="",h="",e=[],u,c,v,y,p;for(this.isPrompt=r,u=0;u<i.length;u++)if(c=r&&i[u].showInPromptDialog,i[u].showInParameterDialog||c){if(f=f+'<div class="e-dbrd-params-wrapper" id="'+this._dashboardId+"_"+i[u].id+'_wrapper"><div class="e-dbrd-params-lable">'+i[u].parameterName+'<\/div><div class= "e-dbrd-params-reset e-mobile e-disable" style ="display: none";><\/div>',i[u].dataType===3)f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <div class="e-dbrd-params-radio-wrapper"> <input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_true" class="e-dbrd-params-radio" style="height:25px; float:left; margin-left: 10px;"/> <label class="e-dbrd-params-radio-label">True<\/label><\/div> <div class="e-dbrd-params-radio-wrapper"><input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_false" class="e-dbrd-params-radio" style="height:25px; float:right;margin-left: 10px;"/><label class="e-dbrd-params-radio-label e-dbrd-false">False<\/label><\/div> <\/div>',e.push(i[u]);else switch(i[u].mode){case 0:i[u].dataType!==2?(s=i[u].dataType===1?"number":"text",h=r&&i[u].showInPromptDialog?"":i[u].value,f=f+'<div class="e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" ><span><input type="'+s+'" name="'+i[u].id+'" class="e-dbrd-params-textbox" value="'+h+'" /><\/span><\/div>'):(f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>',e.push(i[u]));break;case 1:case 2:f=f+'<div class = "e-dbrd-params-input-container"id="'+this._dashboardId+"_"+i[u].id+'_container" ><input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>';e.push(i[u])}f=f+'<div class="e-dbrd-params-reset e-desktop e-disable" style ="display: none"; dbrd-params-id="'+i[u].id+'" data-tooltip="'+this.locale.clearFilterText+'"><\/div><\/div>'}var o=n(b),l=n(f),a=90,k=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-a:236;o.find(".e-dbrd-params-dialog-content-wrapper>div").append(l);this.element.append(o);i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejScroller({height:k,orientation:"vertical"});r&&(v=this.element.find(".e-dbrd-apply-button"),v.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}));this._checkDefaultValue();this.element.find(".e-dbrd-params-dialog").wrapAll('<div class="e-dbrd-params-inactive-prompt" id="'+this._dashboardId+'_inactive-prompt"><\/div>');r&&!t.isNullOrUndefined(r)&&this._addClassforPromptDialog();this._renderDashboardParameterwidgets(l,e);this.model.enableWidgetMode&&n(window).width()>this._mobileWidth&&(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"}),y=this.element.find(".e-dbrd-params-inactive-prompt").height(),this.model.enableWidgetMode&&n(window).width()<this._mobileWidth&&i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejScroller({height:y-a}),p=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),p.data("ejScroller").refresh());this.model.enableCustomTheming&&this._customTheme(["popup"])},_addClassforPromptDialog:function(){this.element.find(".e-dbrd-apply-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-apply-button").addClass("e-dbrd-ok-button");this.element.find(".e-dbrd-cancel-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-cancel-button").addClass("e-dbrd-prompt-cancel-button");this.element.find(".e-dbrd-params-dialog-close-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-dialog-close-icon").addClass("e-dbrd-back-button");this.element.find(".e-dbrd-params-back-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-back-icon").addClass("e-dbrd-close-button");this.element.find(".e-dbrd-params-reset-all-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-button").addClass("e-dbrd-disable-params-reset-all-button");this.element.find(".e-dbrd-params-reset-all-mobile").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-mobile").addClass("e-dbrd-disable-params-reset-all-button")},_wireEventsforDashboardParametersDialog:function(){this._on(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._on(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel ,e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._on(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._on(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._on(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._on(n(document),"keyup",this._handleParameterDialogKeyPress)},_unwireEventsforDashboardParametersDialog:function(){this._off(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._off(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._off(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._off(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._off(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel .e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._off(n(document),"keyup",this._handleParameterDialogKeyPress);this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").hide()},_handleParameterDialogKeyPress:function(n){n.keyCode===27&&this.element.find(".e-dbrd-params-inactive-prompt").length===t.DashboardConstants.One&&this.element.find(".e-dbrd-params-inactive-prompt").click()},_resizeDashboardParametersDialog:function(){var i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog"),s=this.element.find(".e-dbrd-params-inactive-prompt").height(),f,u;if(i.length!==t.DashboardConstants.Zero){n(window).width()<t.DashboardConstants.MobileWidth?i.removeClass("e-desktop").addClass("e-mobile"):i.removeClass("e-mobile").addClass("e-desktop");this.model.enableWidgetMode&&i.hasClass("e-desktop")?(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"})):this.model.enableWidgetMode&&i.hasClass("e-mobile")&&this.element.find(".e-dbrd-params-dialog").removeClass("e-dbrd-params-widgets");var h=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),r=h.data("ejScroller"),e=90,o=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-e:236;for(this.model.enableWidgetMode&&i.hasClass("e-mobile")?r.option("height",s-e):r.option("height",o),r.option("height",o),r.refresh(),f=this.element.find(".e-dbrd-params-input-container .e-dropdownlist"),u=0;u<f.length;u++)this._parameterDropDownResize(f[u])}},_parameterDropDownResize:function(i){var f=i.id,r="",o,e,u,s,h;this.model.enableWidgetMode?(o=f.split("_")[t.DashboardConstants.Zero],r="dashboard"===o?f.split("_")[t.DashboardConstants.Zero]:f.split("_")[3]):r=f.split("_")[t.DashboardConstants.One];e=n("#"+this._dashboardId+"_"+r+"_widget").ejDropDownList("instance");u=this._mobileParameterDropDownWidthCalc();t.isNullOrUndefined(u)&&(u="240px");e.option("width",u);e.option("popupWidth",u);s=parseInt(n("#"+this._dashboardId+"_"+r+"_widget_popup_list_wrapper").width());h=5;n("#"+this._dashboardId+"_"+r+"_widget_popup").ejScroller({width:s+h+"px"});this._addParamHorizontalScrollbar(r)},_resetParameterSelection:function(i){var u,r,f;if(n(i.currentTarget).hasClass("e-dbrd-params-reset-all-button e-enable")||n(i.currentTarget).hasClass("e-dbrd-params-reset-all-mobile e-enable")){for(u=this.dashboardParameters.data,r=0;r<u.length;r++)f=this.element.find("#"+this._dashboardId+"_"+u[r].id+"_container"),f.length>t.DashboardConstants.Zero&&this._replaceCurrentDefaultValue(f,u[r]);this._disableResetIcons()}},_replaceCurrentDefaultValue:function(n,i){var u=null,f=!1,e,o,s;if(i.dataType===3)e=n.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejRadioButton"),i.defaultValue==="True"?(e.option("checked",!0),this._resetIconforValueChange("True",i.id)):(e.option("checked",!1),this._resetIconforValueChange("False",i.id));else switch(i.mode){case 0:if(i.dataType!==2)o=n.find("input")[0],u=o.value,o.value=i.defaultValue,this._enableanddisableFilterIcon(null,null,i.id),f=u!==i.defaultValue||i.value!==i.defaultValue,f&&this._enableOrDisableApplyButton(i.value,i.defaultValue);else{var r=n.find(".e-dashboarddatepicker").data("ejDashboardDatePicker"),h=t.format(i.defaultValue,"yyyy/MM/dd"),c=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");u=t.isNullOrUndefined(r.model.value.start)?r.model.value:r.model.value.start;r.model.value={range:null,start:h,end:null};r.redraw();r.model.value=i.defaultValue;this._enableanddisableFilterIcon(null,null,i.id);f=u!==i.defaultValue||i.value!==i.defaultValue||c.hasClass("e-enable");f&&this._enableOrDisableApplyButton(i.value,i.defaultValue)}break;case 1:case 2:s=n.find(".e-dropdownlist").data("ejDropDownList");s.selectItemByValue(i.defaultValue)}},_enableOrDisableApplyButton:function(n,t){var i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");n!==t?i.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}):i.hasClass("e-enable")&&i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_openDashboardParametersDialog:function(n,i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}});this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").length===t.DashboardConstants.Zero?(this._drawDashboardParametersDialog(n,i),this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show()):this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show();this._wireEventsforDashboardParametersDialog();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}})},_applyDashboardParameters:function(n){var u,i,r,f,e,o,s;for(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}}),this.multiTabDashboardParameter=JSON.parse(JSON.stringify(this.dashboardParameters)),u=0;u<this.dashboardParameters.data.length;u++)if(i=this.dashboardParameters.data[u],r=this.element.find("#"+this._dashboardId+"_"+i.id+"_container"),r.length>t.DashboardConstants.Zero)if(i.dataType===3)f=r.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejRadioButton"),i.value=f.model.checked?"True":"False";else switch(i.mode){case 0:i.dataType!==2?(e=r.find("input")[0],i.value=e.value):(o=r.find(".e-dashboarddatepicker").data("ejDashboardDatePicker"),i.value=t.format(o.selectedDate.date,"yyyy/MM/dd"));break;case 1:case 2:s=r.find(".e-dropdownlist").data("ejDropDownList");i.value=s.model.value}this._unwireEventsforDashboardParametersDialog();this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();this._applyPromptDashboardParameters(n);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}})},_applyPromptDashboardParameters:function(t){if(n(t.target).hasClass("e-dbrd-ok-button")){for(var i=0;i<this.dashboardParameters.data.length;i++)this.dashboardParameters.data[i].defaultValue=this.dashboardParameters.data[i].value;this._dashboardData().loadFromData||this.loadDashboard()}else this.refreshDashboard(null,!1)},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_cancelDashboardParameters:function(i){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}}),t.isNullOrUndefined(i))this._unwireEventsforDashboardParametersDialog(),this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();else{var r=n(i.target).hasClass("e-dbrd-params-dialog-close-icon"),u=n(i.target).hasClass("e-dbrd-params-back-icon"),f=n(i.target).hasClass("e-dbrd-cancel-button"),e=n(i.target).hasClass("e-dbrd-params-inactive-prompt"),o=this.element.find(".e-dbrd-prompt-cancel-button").length>t.DashboardConstants.Zero;(r||u||f||e)&&(o||this.element.find("#"+this._dashboardId+"_inactive-prompt").remove())}this._cancelPromptDashboardParameters(i);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}})},_cancelPromptDashboardParameters:function(i){var r;if(!t.isNullOrUndefined(i)&&(n(i.target).hasClass("e-dbrd-prompt-cancel-button")||n(i.target).hasClass("e-dbrd-back-button")||n(i.target).hasClass("e-dbrd-close-button"))){for(this.element.find("#"+this._dashboardId+"_inactive-prompt").remove(),r=0;r<this.dashboardParameters.data.length;r++)this.dashboardParameters.data[r].data===null&&this.dashboardParameters.data[r].mode===t.DashboardConstants.Zero&&this.dashboardParameters.data[r].dataType!==2&&this.dashboardParameters.data[r].showInPromptDialog&&(this.dashboardParameters.data[r].defaultValue="",this.dashboardParameters.data[r].value="");this._dashboardData().loadFromData||this.loadDashboard()}},_renderDropDownWidget:function(i,r){var u=this._mobileParameterDropDownWidthCalc(),f;t.isNullOrUndefined(u)&&(u="240px");i.ejDropDownList({dataSource:r.data,width:"100%",popupWidth:u,popupHeight:"140px",cssClass:"e-dbrd-canvas",fields:{text:r.mode===1?"valueMember":"displayMember",value:"valueMember"},change:n.proxy(this._dropDownSelectionChanged,this,r.id),popupShown:n.proxy(this._addScrollbar,this,r.id)});i.data("ejDropDownList").selectItemByValue(r.value);f=n(i).attr("id");n("#"+f+"_popup_list_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_mobileParameterDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.element.find(".e-dbrd-params-dialog-content-wrapper"),i=r.width()+"px"),i},_addParamHorizontalScrollbar:function(i){var r=n("#"+this._dashboardId+"_"+i+"_widget").data("ejDropDownList"),f=t.DashboardConstants.Zero,o,e,u;for(r.ultag.children("li").css({"white-space":"nowrap"}),o=n("#"+this._dashboardId+"_"+i+"_widget_popup"),e=r.ultag.children("li"),u=0;u<e.length;u++)f=e.eq(u).find(".e-ddltxt").innerWidth(),f>o.width()?r.ultag.children("li").css({width:f+13+"px"}):r.ultag.children("li").css({width:"auto"});r.scrollerObj.model.width=r.popupListWrapper.outerWidth()+5;r.scrollerObj.refresh()},_addScrollbar:function(t){var u=n("#"+this._dashboardId+"_"+t+"_widget_wrapper"),i=parseInt(n("#"+this._dashboardId+"_"+t+"_widget_popup_list_wrapper").css("max-height")),r;u.height(i);n("#"+this._dashboardId+"_"+t+"_widget_popup").height(i);n("#"+this._dashboardId+"_"+t+"_widget_popup_wrapper").addClass("e-dbrd-control");r=n("#"+this._dashboardId+"_"+t+"_widget").data("ejDropDownList");r.scrollerObj.model.height=i;r.scrollerObj.refresh();this._addParamHorizontalScrollbar(t)},_renderDatePickerWidget:function(i,r){var f=new Date(r.value),u;r.defaultValue=t.format(new Date(r.defaultValue),"yyyy/MM/dd");r.value=t.format(new Date(r.value),"yyyy/MM/dd");i.ejDashboardDatePicker({cssClass:"e-dbrd-control",datePickerType:"single",highlightAvailableDates:!1,limitDate:!0,showCustomDatePicker:!0,showWeekNumbers:!1,startDate:"1900/01/01",endDate:"2050/12/31",dataSource:null,showDropDowns:!0,locale:{format:"yyyy/MM/dd"},selected:n.proxy(this._datePickerSelectionChanged,this,r.id),value:{range:null,start:t.format(f,"yyyy/MM/dd"),end:null}});u=n(i).attr("id");n("#"+u+"_popup_wrapper").addClass("e-dbrd-params-date")},_datePickerSelectionChanged:function(n,t){this._enableanddisableFilterIcon(t.value,this._getCurrentDefaultValue(n),n);t.type==="selected"&&this._resetIconforValueChange(t.value,n)},_renderDashboardParameterwidgets:function(t,i){for(var u,f,e,r=0;r<i.length;r++)u=t.find("#"+this._dashboardId+"_"+i[r].id+"_widget"),i[r].dataType===3?(f=t.find("#"+this._dashboardId+"_"+i[r].id+"_widget_true"),e=t.find("#"+this._dashboardId+"_"+i[r].id+"_widget_false"),f.ejRadioButton({checked:i[r].value==="True",size:"medium",value:"True",change:n.proxy(this._radioButtonSelected,this,i[r].id)}),e.ejRadioButton({checked:i[r].value==="False",size:"medium",value:"False",change:n.proxy(this._radioButtonSelected,this,i[r].id)})):i[r].mode===0&&i[r].dataType===2?this._renderDatePickerWidget(u,i[r]):this._renderDropDownWidget(u,i[r])},_fillDashboardParametersfromIntialFiltersifAny:function(n){var t,i;if(n!==null)for(t=0;t<n.length;t++)for(i=0;i<this.dashboardParameters.data.length;i++)if(n[t].Column.indexOf("@")!==-1&&n[t].Column.replace("@","")===this.dashboardParameters.data[i].parameterName){this.dashboardParameters.data[i].value=n[t].Values[0];break}},_dashboardparameterbuttonClick:function(i){t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-brd-multitab-mob-params-btn")&&(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}));this._openDashboardParametersDialog(this.dashboardParameters.data,!1)}}}(jQuery,Syncfusion),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.widget("ejDashboardViewer","ej.DashboardViewer",{_rootCSS:"e-dashboardviewer",element:null,model:null,validTags:["div"],defaults:{serviceUrl:"",cssClass:"",dashboardPath:"",size:{height:"",width:""},_dashboardData:{loadFromData:!1,isControl:!1,layout:[],widgetData:[],isExportImage:!1,controlHeader:"",isScreenshot:!1,isExportPdf:!1,isWidgetSpecific:!1,isUnitTesting:!0,isTestCase:!1,isWidget:!1},enableServerSideCache:!1,enableClientSideCache:!0,cacheSettings:{capacity:null,enableAutoCleanup:!1,cleanupInterval:null},accessToken:null,enableFilterOverview:!0,onFilterOverviewUpdated:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,updatePageTitle:!1,showFilterPanelHeader:!0,showFilterPanelClose:!0,enableVirtualLoading:!0,enableAutoRefresh:!1,autoRefreshSettings:[{tabName:null,tabIndex:-1,showWaitingIndicator:!1,isWidgetSpecific:!1,widgets:[],intervalSettings:{mode:"hourly",monthlySchedule:{day:1,months:1},weeklySchedule:{weeks:1,weekDay:[1]},dailySchedule:{days:1},hourlySchedule:{hours:0,minutes:0,seconds:30},yearlySchedule:{years:1,day:1,month:1}},trackData:!1}],favoriteSettings:{enabled:!1,isFavorite:!1},allowComment:!1,commentSettings:{isDashboardCommented:!1,isWidgetCommented:!1,widgets:[]},responsiveSettings:{showMaximize:!1,showExport:!1},enableCustomTheming:!1,filterPanelSettings:{showIcon:!0,filterPanelId:null,showHeader:!0,showCloseIcon:!0},customThemeSettings:"",enableWidgetMode:!1,widgetModeSettings:{name:null,id:null,title:null},filterOverviewSettings:{viewName:null,viewId:null,showSaveIcon:!1,showSaveAsIcon:!1,showViewSavedFilterIcon:!1},dashboardParameterSettings:{showIcon:!0,data:[]},_baseUrl:null,_isLiveData:!1,actionBegin:null,actionComplete:null,onSaveFilter:null,onSaveAsFilter:null,onViewSavedFilters:null,onWidgetCommented:null,onDashboardCommented:null,beforeWidgetRender:null,afterWidgetRender:null,beforeLayoutRender:null,afterLayoutRender:null,beforeMasterFilterApplied:null,dashboardCreated:null,onApplyConnection:null,destroy:null,beforePassiveErrorRender:null,onWidgetPin:null,currentMasterReport:null,filterParameters:null,beforeWidgetIconRendered:null,beforeDashboardIconRendered:null,beforeControlMenuOpen:null,beforeContextMenuOpen:null,onMenuItemClick:null,onMenuIconClick:null,onDashboardClick:null,onBannerIconClick:null,onFavoriteStateChange:null,onCommentDialogClosing:null,beforeNavigate:null,afterNavigate:null,showTab:!0,tabSelect:null,tabActive:null,selectedTabIndex:0,beforeSend:null,selectedTabName:null,_selectedTabGuid:null,localeSettings:{resourcePath:"",culture:"",dateFormat:"",timeFormat:""},serviceMethods:{initializeControl:"InitializeControls",getDrilledChart:"GetChartDrilledData",savePdfFile:"SavePdfFile",saveCsvFile:"savecsvfile",saveExcelfile:"saveExcelfile",saveImagefile:"saveImagefile",exportAsExcel:"ExportAsExcel",navigateTo:"NavigateLinkedReport",viewData:"ViewData",downloadedexportedfiles:"DownloadedExportedFiles"},enableErrorCode:!1,onErrorCodeLink:"",interactionSettings:{allowHistoryMaintenance:!0,handleHistoryEvent:!0},onHistoryPopStateChange:null,showGetLinkIcon:!0},observables:["dashboardPath","serviceUrl","updatePageTitle","enableFilterOverview"],dashboardPath:t.util.valueFunction("dashboardPath"),serviceUrl:t.util.valueFunction("serviceUrl"),_dashboardData:t.util.valueFunction("_dashboardData"),enableFilterOverview:t.util.valueFunction("enableFilterOverview"),updatePageTitle:t.util.valueFunction("updatePageTitle"),dataTypes:{serviceMethods:"data",cacheSettings:"data",enableServerSideCache:"boolean",data:"array",currentMasterReport:"data",_isPublic:"boolean",resourcePath:"data",culture:"data",_isLiveData:"boolean",enableComment:"boolean",isDashboardCommented:"boolean",isWidgetCommented:"boolean",enablePin:"boolean",isWidgetPinned:"boolean",widgetList:"array",time:"data",showIndicator:"boolean",isWidgetSpecific:"boolean",widgets:"array",isConsiderRowCount:"boolean",rowCount:"data"},_init:function(){if(this._setSessionTabAndMaster(),this.currentTabContentElement=this.element,this.element.html(""),this._unWireEvents(),this._initialGlobalValues(),this._initPrivateProperties(),this._reassignDeprecatedApi(),this._initializeFilterParameters(),this._overrideTreemapDrillHeader(),this.isPublicDashboard=this.model._isPublic||!1,this.itemId=this.model._itemId||"",this._dashboardId=this._id,this.multiTabs=!1,this.showFilterMenu=!1,this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass),this._dashboardData().loadFromData)this._loadDashboardFromData();else{if(this.dashboardPath()===null||this.dashboardPath()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.DashboardNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.DashboardNotConfigured,!0);return}if(this.serviceUrl()===null||this.serviceUrl()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.ServiceNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.ServiceNotConfigured,!0);return}this._trigger("beforeSend",this.requestHeaders);this.loadLayout(null,!0)}this._wireEvents()},_reassignDeprecatedApi:function(){var n,i,r;if(t.isNullOrUndefined(this.model.url)||(this.model.serviceUrl=this.model.url),t.isNullOrUndefined(this.model.report)||(this.model.dashboardPath=this.model.report),t.isNullOrUndefined(this.model.showTitleInHtmlTitle)||(this.model.updatePageTitle=this.model.showTitleInHtmlTitle),t.isNullOrUndefined(this.model.ondemandChangeConnectionString)||(this.model.onApplyConnection=this.model.ondemandChangeConnectionString),t.isNullOrUndefined(this.model.autorefreshSettings)||(this.model.enableAutoRefresh=this.model.autorefreshSettings.enableAutoRefresh,this.model.autoRefreshSettings.interval=this.model.autorefreshSettings.time,this.model.autoRefreshSettings.showWaitingIndicator=this.model.autorefreshSettings.showIndicator,this.model.autoRefreshSettings.isWidgetSpecific=this.model.autorefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings.widgets=this.model.autorefreshSettings.widgets,this.model.autoRefreshSettings.isConsiderRowCount=this.model.autorefreshSettings.trackData,this.model.autoRefreshSettings.RowCountOfDatasource=this.model.autorefreshSettings.rowCount),t.isNullOrUndefined(this.model.cacheAjax)||(this.model.enableClientSideCache=this.model.cacheAjax.enableAjaxCache,this.model.cacheSettings.capacity=this.model.cacheAjax.capacity,this.model.cacheSettings.enableAutoCleanup=this.model.cacheAjax.enableExpiration,this.model.cacheSettings.cleanupInterval=this.model.cacheAjax.expirationMinutes),t.isNullOrUndefined(this.model.favoriteSettings.showFavoriteIcon)||(this.model.favoriteSettings.enabled=this.model.favoriteSettings.showFavoriteIcon),t.isNullOrUndefined(this.model.favoriteSettings.isFavoriteDashboard)||(this.model.favoriteSettings.isFavorite=this.model.favoriteSettings.isFavoriteDashboard),t.isNullOrUndefined(this.model.commentSettings.enableComment)||(this.model.allowComment=this.model.commentSettings.enableComment),t.isNullOrUndefined(this.model.commentSettings.isDashboardCommented)||(this.model.commentSettings.isDashboardCommented=this.model.commentSettings.isDashboardCommented),t.isNullOrUndefined(this.model.commentSettings.isWidgetCommented)||(this.model.commentSettings.isWidgetCommented=this.model.commentSettings.isWidgetCommented),t.isNullOrUndefined(this.model.commentSettings.commentedWidgetList)||(this.model.commentSettings.widgets=this.model.commentSettings.commentedWidgetList),!t.isNullOrUndefined(this.model.autoRefreshSettings.interval)){if(n=[],this.model.autoRefreshSettings[t.DashboardConstants.Zero].isWidgetSpecific=this.model.autoRefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings[t.DashboardConstants.Zero].trackData=this.model.autoRefreshSettings.trackData,this.model.autoRefreshSettings[t.DashboardConstants.Zero].showWaitingIndicator=this.model.autoRefreshSettings.showWaitingIndicator,this.model.autoRefreshSettings[t.DashboardConstants.Zero].intervalSettings={mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}},this.model.autoRefreshSettings.isWidgetSpecific)for(i=t.DashboardConstants.Zero;i<this.model.autoRefreshSettings.widgets.length;i++)n.push({id:this.model.autoRefreshSettings.widgets[i],intervalSettings:{mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}}});else n=this.model.autoRefreshSettings.widgets;this.model.autoRefreshSettings[t.DashboardConstants.Zero].widgets=n;r=this.model.autoRefreshSettings[t.DashboardConstants.Zero];this.model.autoRefreshSettings=[];this.model.autoRefreshSettings[t.DashboardConstants.Zero]=r}},_setModel:function(n){var i,r,o,a,s,e,h,v,c,f,y,u,w,p,l;for(i in n)if(n.hasOwnProperty(i))switch(i){case"showTab":this.model.showTab=n[i];this.model.showTab?this._showTab():this._hideTab();break;case"dashboardPath":this._init();break;case"report":this.model.dashboardPath=n[i];this._init();break;case"enableAutoRefresh":this._clearAutoRefreshTimerAndCollection();this.model.enableAutoRefresh=n[i];this._resetAutoRefreshRevamp();break;case"accessToken":this.model.accessToken=n[i];this._init();break;case"autoRefreshSettings":r=n[i];this.model.autoRefreshSettings.interval=t.isNullOrUndefined(r.interval)?this.model.autoRefreshSettings.interval:r.interval;this.model.autoRefreshSettings.showWaitingIndicator=t.isNullOrUndefined(r.showWaitingIndicator)?this.model.autoRefreshSettings.showWaitingIndicator:r.showWaitingIndicator;this.model.autoRefreshSettings.isWidgetSpecific=t.isNullOrUndefined(r.isWidgetSpecific)?this.model.autoRefreshSettings.isWidgetSpecific:r.isWidgetSpecific;this.model.autoRefreshSettings.widgets=t.isNullOrUndefined(r.widgets)?this.model.autoRefreshSettings.widgets:r.widgets;this.model.autoRefreshSettings.trackData=t.isNullOrUndefined(r.trackData)?this.model.autoRefreshSettings.trackData:r.trackData;this.model.autoRefreshSettings.rowCount=t.isNullOrUndefined(r.rowCount)?this.model.autoRefreshSettings.rowCount:r.rowCount;this.model.enableAutoRefresh&&this._resetAutoRefreshRevamp();break;case"filterPanelSettings":o=n[i];this.model.filterPanelSettings.showIcon=t.isNullOrUndefined(o.showIcon)?this.model.filterPanelSettings.showIcon:o.showIcon;this._setFilterIcon();t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||(this.model.filterPanelSettings.showHeader=this.filterPanelObj.model.showHeader=t.isNullOrUndefined(o.showHeader)?this.model.filterPanelSettings.showHeader:o.showHeader,this.model.filterPanelSettings.showCloseIcon=this.filterPanelObj.model.showCloseIcon=t.isNullOrUndefined(o.showCloseIcon)?this.model.filterPanelSettings.showCloseIcon:o.showCloseIcon,this.filterPanelObj._setFilterHeader(),this.filterPanelObj._setFilterCloseIcon());break;case"serviceUrl":this._init();break;case"url":this.model.serviceUrl=n[i];this._init();break;case"_dashboardData":this._init();break;case"updatePageTitle":this._updateDashboardTitle();break;case"enableFilterOverview":this.model.enableFilterOverview=n[i];this._showFilterOverview();break;case"cssClass":this.model.cssClass=n[i];this._init();break;case"_isPublic":this._init();break;case"favoriteSettings":a=n[i];t.isNullOrUndefined(a.isFavorite)||(this.model.favoriteSettings.isFavorite=a.isFavorite);t.isNullOrUndefined(a.enabled)||(this.model.favoriteSettings.enabled=a.enabled);this._toggleFavoriteIcon();break;case"enableCustomTheming":this._customTheme(["banner","dashboard","container"]);break;case"filterParameters":this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this._refreshMasterControl();this.refreshDashboard(null,!0,!0);this._showFilterOverview();break;case"enableWidgetMode":this.model.enableWidgetMode=n[i];this._init();break;case"widgetModeSettings":s=n[i];this.model.widgetModeSettings.name=t.isNullOrUndefined(s.name)?this.model.widgetModeSettings.name:s.name;this.model.widgetModeSettings.id=t.isNullOrUndefined(s.id)?this.model.widgetModeSettings.id:s.id;this.model.widgetModeSettings.title=t.isNullOrUndefined(s.title)?this.model.widgetModeSettings.title:s.title;this._init();break;case"localeSettings":e=n[i];this.model.localeSettings.resourcePath=t.isNullOrUndefined(e.resourcePath)?this.model.localeSettings.resourcePath:e.resourcePath;this.model.localeSettings.culture=t.isNullOrUndefined(e.culture)?this.model.localeSettings.culture:e.culture;this.model.localeSettings.dateFormat=t.isNullOrUndefined(e.dateFormat)?this.model.localeSettings.dateFormat:e.dateFormat;this.model.localeSettings.timeFormat=t.isNullOrUndefined(e.timeFormat)?this.model.localeSettings.timeFormat:e.timeFormat;this._init();break;case"selectedTabIndex":this.model.selectedTabIndex=n[i];this.selectTabByIndex(this.model.selectedTabIndex);break;case"selectedTabName":this.model.selectedTabName=n[i];this.selectTabByName(this.model.selectedTabName);break;case"_selectedTabGuid":this.model._selectedTabGuid=n[i];this._selectTabById(this.model._selectedTabGuid);break;case"allowComment":this.model.allowComment=n[i];this._isCommentWidget=n[i];this._enableOrDisableComment();break;case"commentSettings":h=n[i];this.model.commentSettings.isDashboardCommented=t.isNullOrUndefined(h.isDashboardCommented)?this.model.commentSettings.isDashboardCommented:h.isDashboardCommented;this.model.commentSettings.isWidgetCommented=t.isNullOrUndefined(h.isWidgetCommented)?this.model.commentSettings.isWidgetCommented:h.isWidgetCommented;this.model.commentSettings.widgets=t.isNullOrUndefined(h.widgets)?this.model.commentSettings.widgets:h.widgets;this.applyComments(this.model.commentSettings);break;case"size":v=n[i];this.model.size.height=t.isNullOrUndefined(v.height)?this.model.size.height:v.height;this.model.size.width=t.isNullOrUndefined(v.width)?this.model.size.width:v.width;this._init();break;case"enableServerSideCache":this.model.enableServerSideCache=n[i];this._init();break;case"enableClientSideCache":this.model.enableClientSideCache=n[i];this._init();break;case"cacheSettings":c=n[i];this.model.cacheSettings.capacity=t.isNullOrUndefined(c.capacity)?this.model.cacheSettings.capacity:c.capacity;this.model.cacheSettings.enableAutoCleanup=t.isNullOrUndefined(c.enableAutoCleanup)?this.model.cacheSettings.enableAutoCleanup:c.enableAutoCleanup;this.model.cacheSettings.cleanupInterval=t.isNullOrUndefined(c.cleanupInterval)?this.model.cacheSettings.cleanupInterval:c.cleanupInterval;this._init();break;case"filterOverviewSettings":f=n[i];this.model.filterOverviewSettings.viewName=t.isNullOrUndefined(f.viewName)?this.model.filterOverviewSettings.viewName:f.viewName;this.model.filterOverviewSettings.viewId=t.isNullOrUndefined(f.viewId)?this.model.filterOverviewSettings.viewId:f.viewId;this.model.filterOverviewSettings.showSaveIcon=t.isNullOrUndefined(f.showSaveIcon)?this.model.filterOverviewSettings.showSaveIcon:f.showSaveIcon;this.model.filterOverviewSettings.showSaveAsIcon=t.isNullOrUndefined(f.showSaveAsIcon)?this.model.filterOverviewSettings.showSaveAsIcon:f.showSaveAsIcon;this.model.filterOverviewSettings.showViewSavedFilterIcon=t.isNullOrUndefined(f.showViewSavedFilterIcon)?this.model.filterOverviewSettings.showViewSavedFilterIcon:f.showViewSavedFilterIcon;this._updateSavedViewFilters();break;case"showGetLinkIcon":this.model.showGetLinkIcon=n[i];this._showGetLinkIcon();break;case"interactionSettings":y=n[i];this.model.interactionSettings.allowHistoryMaintenance=t.isNullOrUndefined(y.allowHistoryMaintenance)?this.model.interactionSettings.allowHistoryMaintenance:y.allowHistoryMaintenance;this.model.interactionSettings.handleHistoryEvent=t.isNullOrUndefined(y.handleHistoryEvent)?this.model.interactionSettings.handleHistoryEvent:y.handleHistoryEvent;break;case"dashboardParameterSettings":if(u=n[i],w=!1,this.model.dashboardParameterSettings.showIcon=t.isNullOrUndefined(u.showIcon)?this.model.dashboardParameterSettings.showIcon:u.showIcon,t.isNullOrUndefined(u.data))t.isNullOrUndefined(u.showInPromptDialog)&&t.isNullOrUndefined(u.showInParameterDialog)||(this.dashboardParameters.data[0].showInPromptDialog=t.isNullOrUndefined(u.showInPromptDialog)?this.dashboardParameters.data[0].showInPromptDialog:u.showInPromptDialog,this.dashboardParameters.data[0].showInParameterDialog=t.isNullOrUndefined(u.showInParameterDialog)?this.dashboardParameters.data[0].showInParameterDialog:u.showInParameterDialog);else{for(p=0;p<u.data.length;p++)for(l=0;l<this.dashboardParameters.data.length;l++)u.data[p].parameterName===this.dashboardParameters.data[l].parameterName&&(this.dashboardParameters.data[l].value=u.data[p].value,this.dashboardParameters.data[l].showInPromptDialog&&(w=this.dashboardParameters.data[l].showInPromptDialog));w?this.loadLayout():this.refreshDashboard(null,!1)}}},_initializeFilterParameters:function(){var y,s,h,e,c,d,u,w,f,b,k;if(!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters!==""&&this.model.filterParameters.length!==t.DashboardConstants.Zero){y=[];try{for(this.model.filterParameters.indexOf("%25")!==t.DashboardConstants.IndexLowerBound&&(this.model.filterParameters=decodeURI(this.model.filterParameters)),y=decodeURI(this.model.filterParameters).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),s=y.split("|,|"),h=[],e=0;e<s.length;e++){if(s[e].indexOf(String.fromCharCode(254)+String.fromCharCode(253))>-1)var p=s[e].split(String.fromCharCode(254)+String.fromCharCode(253)),it=p[1],rt=p[2],ut=p[3];if(c=s[e].split("|:|"),c.length>=2){var r=c[0],i=c[1],o=null;if(r===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254)){d=CryptoJS.AES.decrypt(i,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":");try{if(o=n.parseJSON(d),o.length!==t.DashboardConstants.Zero){this.model.currentMasterReport=o;continue}}catch(ft){}}else if(r.trim().toUpperCase()==="FILTERQUERY"){if(u=i.split("::"),!t.isNullOrUndefined(i)&&u.length>t.DashboardConstants.One){for(w={},f=t.DashboardConstants.Zero;f<u.length;f++){var l=u[f].indexOf(":"),nt=l!==t.DashboardConstants.IndexLowerBound?u[f].substring(t.DashboardConstants.Zero,l):u[f],tt=l!==t.DashboardConstants.IndexLowerBound?u[f].substring(l+t.DashboardConstants.One):null;w[nt]={masterData:tt}}this._privateFilterData=w;this._hasPrivateFilterData=!0}else o=n.parseJSON(i),o.length!==t.DashboardConstants.Zero&&(b=this.dashboardControls.unMinifySelectedFilterInfo(o),this.model.currentMasterReport=b.masterData,this.dashboardControls.initialDashboardParameters=b.dashboardParams);continue}if(r.toUpperCase().trim()==="~TABINDEX~"){k=parseInt(i);t.isNullOrUndefined(i)||isNaN(k)||(this.model.selectedTabIndex=k);continue}if(r.toUpperCase().trim()==="~TABNAME~"){t.isNullOrUndefined(i)||i===""||(this.model.selectedTabName=i);continue}if(r.toUpperCase().trim()==="~TABID~"){t.isNullOrUndefined(i)||i===""||(this.model._selectedTabGuid=i);continue}var a=this._processFilterData(i),v=a.Value,g=this._hasKey(h,r.trim(),a.isExclude);g.present?this._addIfNotPresent(g.obj.Values,v):h.push({Column:r.trim(),Values:v.constructor===Array?v:[v],IsExclude:a.isExclude,FilterType:a.filterType})}}this.initialFilters=h}catch(et){}}},_processFilterData:function(n){if(!t.isNullOrUndefined(n)){var e=!1,i=[],u=null,f="",o=n.match(/in *?\(/gi),s=n.match(/notin *?\(/gi),h=n.match(/between *?\(/gi),c=n.match(/inbetween *?\(/gi),l=n.match(/startswith *?\(/gi),a=n.match(/contains *?\(/gi),v=n.match(/endswith *?\(/gi),r=0;if(s!==null&&s.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(s[0],"").replace(")",""),e=!0,u="notin";else if(o!==null&&o.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(o[0],"").replace(")",""),u="in";else if(h!==null&&h.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(h[0],"").replace(")",""),u="between";else if(c!==null&&c.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(c[0],"").replace(")",""),u="inbetween";else if(l!==null&&l.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(l[0],"").replace(")",""),u="startswith";else if(a!==null&&a.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(a[0],"").replace(")",""),u="contains";else if(v!==null&&v.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(v[0],"").replace(")",""),u="endswith";else{for(i=n.split(","),r=0;r<i.length;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i.length<=t.DashboardConstants.One?n.trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,""):i,isExclude:e,filterType:u}}if(f!==""){for(i=f.split(","),r=0;r<i.length;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i,isExclude:e,filterType:u}}}return""},_addIfNotPresent:function(n,i){if(!t.isNullOrUndefined(n&&i))if(i.constructor===Array)for(var r=0;r<i.length;r++)n.indexOf(i[r])===t.DashboardConstants.IndexLowerBound&&n.push(i[r]);else n.indexOf(i)===t.DashboardConstants.IndexLowerBound&&n.push(i)},_hasKey:function(n,t,i){for(var r=0;r<n.length;r++)if(n[r].Column===t&&n[r].IsExclude===i)return{present:!0,obj:n[r]};return{present:!1}},_initialGlobalValues:function(){this.stopRendering=!1;this.preventFilterPanelEvents=!1;this.isFilterPanelOpen=!1;this.timers=[];this.hiddenTabData={};this.isPublicDashboard=this.model._isPublic||!1;this.itemId=this.model._itemId||"";this.isLinking=!1;this._dashboardId=this._id;this.multiTabs=!1;this._privateFilterData=null;this._hasPrivateFilterData=!1;this.showFilterMenu=!0;this.multiDashboardExport=!1;this._base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+";this.ajaxCacheStore=[];this.token=null;this.html5Supported=typeof sessionStorage!="undefined"&&t.browserInfo().name!=="webkit";this.html5Supported&&(this.token=window.sessionStorage.getItem("token"),window.sessionStorage.setItem("token",this.token));this.initialFilters=null;this.currentUser=null;this.multiSelectCollection=[];this.currentSlaveInfo=[];this.tabSwitchFromHistory=!1;this.isFromHistory=!1;this.dashboardParameters=[];this.multiTabDashboardParameter=[];this.resize=!1;this.reset={};this.isPrompt=!1;this.requestHeaders=new RequestHeaders;this.updatedTime={};this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.autoRefreshUserCollection=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.hiddenTabUpdateTime={}},_initPrivateProperties:function(){this.updateTimer=null;this._isCommentWidget=!0;this.hasFilterPanel=!1;this.isDashboardResize=!1;this.filterPanelId=null;this.filterPanelDiv=null;this.filterPanelObj=null;this.toolbarMethods=!1;this.showContext=!1;this.slaveDataRequest=null;this.isFromAutoRefresh=!1;this.rendered=!1;this.filterDataLength=[];this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]);this.isReloaded=!1;this.isFilterWidget=!1;this._isUnLoad=!1;this.widgetModeSettings=this.model.widgetModeSettings||this.defaults.widgetModeSettings;this.filterOverviewHeight=null;this.theme={};this.controlRelations=[];this.Context="";this.requestTimer=null;this.autorefreshTimer=null;this._id=this.element.attr("id");this.flag=!1;this.isWidget=!1;this.rangeData=[];this.masterData=[];this.mapControlsData=[];this.filterDataList=[];this.isMouseClick=!1;this.target=[];this.lastFocusElement="";this.currentScrollTop="";this.currentReport=[];this.CurrentMaster="";this.MapType=[];this.customRange=[];this.defaultRange=[];this.modifiedConnectionStrings=null;this.customRangeApplied=!1;this.DrillableMapEntries=[];this.rtl=!1;this.stackChartConfig=[];this.TitleLabels=[];this.scrollTop=0;this.previousDashboardSize=[];this.isPrintTriggered=!1;this.reportName="";this.reportDescription="";this.dashboardControls=new dbrddashboardControls;this.filterControls=new dbrddashboardControls;this.maximizedashboardControls=new dbrddashboardControls;this.appliedFilterData=[];this._gaugeTooltipTarget=null;this._gaugetoolTipTimer=null;this._ExportedImageFileName=null;this.fileName="";this.title="";this.exportDashboard=!1;this.imageValidation=!0;this.dashboardHeight=0;this.dashboardWidth=0;this.containerWidth=0;this.containerHeight=0;this.month=[];this.weekDays=[];this.clearFilter=!1;this.removeFilter=!1;this.orientation=this.locale.utils.DefaultOrientation;this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1,subtitleName:""};this.filterPanelCustomThemeCol=[];this.errorHyperLink="https://help.syncfusion.com/dashboard-platform/dashboard-sdk/troubleshooting-errors#errorCode";this.loadAction=!1;this.isDialogNotCreated=!1;this.isExtendedLayout=!1;this.availableRowCount=0;this.layoutControls=null;this.pageInfo=[t.DashboardConstants.One];this.pageInformations=[t.DashboardConstants.One];this.heightOfCell=0;this.isDashboardScrolled=!1;this.isWidgetExceedCurrentPage=!1;this.layoutWrapperHeight=0;this.isRowsAvailable=!0;this.actualPages=[];this.pageHeight=0;this.currentScrollTop=0;this.currentScrollHeight=0;this.hiddenPageWidgetsForRefresh=[];this.exportImageHeightForExtendedLayout=0;this.initialLoading=!0;this.clearAllFilter=!1},_validateCredentials:function(){var r=this.currentTabContentElement.find(".e-dbrd-dialog"),e=r.find(".e-dbrd-dialog-content"),o=[],s=!1,i,h;for(r.find(".e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide(),i=0;i<e.length;i++){var n=e.eq(i),u=n.find(".e-input-container input[name=username]").val(),f=n.find(".e-input-container input[name=password]").val();if(t.isNullOrUndefined(u)||t.isNullOrUndefined(f)||u.trim()===""||f.trim()===""){s=!0;n.addClass("e-invalid");n.find(".e-error").html(this.locale.utils.UserNamePasswordEmpty);continue}else n.hasClass("e-invalid")&&n.removeClass("e-invalid");o.push({DataSourceName:n.find(".e-datasource-name").attr("data-name"),Username:u,Password:f})}s||(h={type:"POST",url:this.serviceUrl()+"/"+t.DashboardConstants.Authenticate,data:JSON.stringify({dashboardName:this.dashboardName,dashboardPath:this.dashboardPath(),authenticationData:JSON.stringify(o)}),onSuccess:this._postAuthenticate,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(h),this._createControlWaitingIndicator(r,!0,!0))},_postAuthenticate:function(i,r){var h=this,u,c,e,f,o,s;if(this._destroyAllControlWaitingIndicator(),!t.isNullOrUndefined(r)&&(u=n.parseJSON(r.d),!t.isNullOrUndefined(u)))if(t.isNullOrUndefined(u.Token)){if(Object.prototype.toString.call(u)==="[object Array]"){for(c=this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-content"),e=0,f=0;f<u.length;f++)o=c.find(".e-datasource-name[data-name='"+u[f].DatasourceName+"']").parent(),u[f].IsInvalid?(o.addClass("e-invalid"),o.find(".e-error").html(this.locale.utils.InvalidCredentials),e+=t.DashboardConstants.One):o.hide();s=this.currentTabContentElement.find(".e-dbrd-dialog #"+this._id+"_authWindowWrapper").data("ejScroller");s&&(s.model.height=e>t.DashboardConstants.One?"135":"75",s.refresh());e>t.DashboardConstants.One?this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").show():this.currentTabContentElement.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide();n(this.currentTabContentElement).find(".e-dbrd-dialog .e-dbrd-control .e-dbrd-dialog-content:visible input:first").focus()}}else this.token=u.Token,this.html5Supported&&window.sessionStorage.setItem("token",this.token),this.currentTabContentElement.find(".e-dbrd-dialog").remove(),this.loadLayout(null,!0),this._off(this.currentTabContentElement,"keypress",function(i){i.keyCode===13&&n(h.currentTabContentElement).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&h._validateCredentials()});return null},_wireEvents:function(){window.ontouchstart=function(){window.ontouchmove=null};var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));window.addEventListener?window.addEventListener("message",this._receiveIFramePostMessage,!1):window.attachEvent("onmessage",this._receiveIFramePostMessage);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support, .e-share-copy-btn, .e-dbrd-mobileCopyBtn",this._copyToClipboard);this._on(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._on(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._on(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._on(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._on(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._on(this.currentTabContentElement,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._on(this.currentTabContentElement,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._on(this.currentTabContentElement,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._on(this.currentTabContentElement,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._on(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._on(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._on(this.currentTabContentElement,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._on(this.currentTabContentElement,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._on(this.currentTabContentElement,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._on(this.currentTabContentElement,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._on(this.currentTabContentElement,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._on(this.currentTabContentElement,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._on(this.currentTabContentElement,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._on(this.currentTabContentElement,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._on(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._on(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._on(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._on(this.element,"click",this._closeCommentDialog);this._on(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._on(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._on(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._on(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._on(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._on(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._on(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._on(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._on(this.currentTabContentElement,"click",this._destroyPopups);this._on(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._on(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._on(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._on(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._on(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._on(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._on(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._on(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._on(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._on(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._on(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._on(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._on(n("body"),"keypress",this._exportEnter);this._on(n(document),"keyup",this._handleKeyPress);this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._on(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._on(this.element,"click",".e-dbrd-export",this._exportControlData);this._dashboardData().isUnitTesting&&this._on(n(window),"resize",this._resizeDashboard);this._on(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._on(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._on(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._on(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._on(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._on(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._on(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._on(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._on(this.element,"scroll",this._bodyScroll);this._on(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._on(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._on(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._on(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._on(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._on(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._on(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._on(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._on(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._on(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._on(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._on(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._on(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._on(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._on(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this.model.interactionSettings.handleHistoryEvent&&this._on(n(window),"popstate",this._popBrowserHistory);this._on(this.currentTabContentElement,"mouseenter",".e-dbrd-layout-wrapper",this._onLayoutWrapperMouseMove);this._on(this.currentTabContentElement,"mouseleave",".e-dbrd-layout-wrapper",this._onLayoutWrapperMouseLeave)},_layoutScroll:function(i){var r,e;if(n(window).width()<t.DashboardConstants.MobileWidth)if(this.isExtendedLayout)r=this,Math.floor(n(i.currentTarget).height()+n(i.currentTarget).scrollTop())>=n(i.currentTarget)[t.DashboardConstants.Zero].scrollHeight-100?(e=Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One,r._hasControl(r.layoutControls,e)&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(e)===t.DashboardConstants.IndexLowerBound&&r._scrollDashboardAction(e,n(i.currentTarget).scrollTop()))):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();else{var u=n("#"+n(i.currentTarget).attr("id")).scrollTop(),f=n("#"+this._id).find(".e-dbrd-overview-banner"),h=f.find(".e-dbrd-filterListMenu"),o=this.currentTabContentElement.find(".e-dbrd-banner"),s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height();h.css("display")==="none"?(n(".e-dbrd-overview-banner").css({display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"})):u>this.currentScrollTop&&u>t.DashboardConstants.Zero&&u<s?(n(".e-dbrd-overview-banner").stop(!0,!1).slideUp("fast"),f.css({height:"35px",position:"absolute",display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u<t.DashboardConstants.One?(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),f.css({height:"35px",position:"initial",display:"block"}),o.css({"box-shadow":"0px 0px 0px 0px"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-f.height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u>t.DashboardConstants.Zero&&u<s&&(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),o.css({"box-shadow":"0px 0px 0px 0px"}),f.css({height:"35px",position:"absolute",display:"block"}));this._destroyContextMenu();this.currentScrollTop=u}},_dashboardScroll:function(n){var t=this.currentScrollTop;this._scrollDashboardAction(n,t)},_scrollDashboardAction:function(i,r){var f,o,e,s;this.isDashboardScrolled=!0;var u=0,h=this.pageInfo[0];for(this.pageInfo=[],this.pageInfo.push(i),i!==h&&i!==2&&n(window).width()>t.DashboardConstants.MobileWidth?(f=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejScroller"),f.option("scrollTop",r),f.refresh()):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop(r),o=i-t.DashboardConstants.One,this._hideShowPageForMobile(o,!1)),u=0;u<this.layoutControls.length;u++)e=this.currentTabContentElement.find(".e-dbrd-control-container[id="+this.layoutControls[u].Guid+"]"),e.find(".e-dbrd-controlWaiting").length!==t.DashboardConstants.One&&i===this.layoutControls[u].Page&&this._createControlWaitingIndicator(e,!1);this.loadDashboardOnDemand();s=this._calculateRowCount(this.availableRowCount);this.availableRowCount>t.DashboardConstants.Zero&&this.isRowsAvailable&&(this._addLayoutCell(s,24,this.heightOfCell,this.currentTabContentElement.find("#"+this._id+"_layout")),this._createLayout(this.layoutControls),n(window).width()<=t.DashboardConstants.MobileWidth&&(this._controlSizeCalculationForMobile(this.layoutControls,null),this._hideShowPageForMobile(i,!0)));this.availableRowCount=this._getAvailabelRowCount(this.availableRowCount)},_hasControl:function(n,t){for(var i=0;i<n.length;i++)if(n[i].Page===t)return!0;return!1},_bodyScroll:function(){var i=this,r=i.currentTabContentElement.scrollTop();i.currentTabContentElement.find("#"+i._id+"_InActiveDiv")&&n("#"+i._id+"_InActiveDiv").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd").length>t.DashboardConstants.Zero&&n(".e-dbrd-dialog-bgrnd").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export")&&n(".e-dbrd-dialog-bgrnd-export").css({top:r+"px"});i.currentTabContentElement.find(".e-dbrd-dialog-bgrnd-export-waiting")&&n(".e-dbrd-dialog-bgrnd-export-waiting").css({top:r+"px"})},_unWireEvents:function(){window.removeEventListener?window.removeEventListener("message",this._receiveIFramePostMessage,!1):window.detachEvent("onmessage",this._receiveIFramePostMessage);var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support",this._copyToClipboard);this._off(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._off(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._off(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._off(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._off(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._off(this.currentTabContentElement,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._off(this.currentTabContentElement,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._off(this.currentTabContentElement,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._off(this.currentTabContentElement,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._off(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._off(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._off(this.currentTabContentElement,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._off(this.currentTabContentElement,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._off(this.currentTabContentElement,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._off(this.currentTabContentElement,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._off(this.currentTabContentElement,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._off(this.currentTabContentElement,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._off(this.currentTabContentElement,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._off(this.currentTabContentElement,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._off(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._off(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._off(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._off(this.element,"click",this._closeCommentDialog);this._off(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._off(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._off(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._off(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._off(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._off(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._off(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._off(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._off(this.currentTabContentElement,"click",this._destroyPopups);this._off(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._off(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._off(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._off(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._off(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._off(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._off(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._off(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._off(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._off(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._off(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._off(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._off(n("body"),"keypress",this._exportEnter);this._off(n(document),"keyup",this._handleKeyPress);this._off(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._off(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._off(this.element,"click",".e-dbrd-export",this._exportControlData);this._off(n(window),"resize",this._resizeDashboard);this._off(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._off(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._off(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._off(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._off(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._off(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._off(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._off(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._off(this.element,"scroll",this._bodyScroll);this._off(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._off(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._off(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._off(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._off(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._off(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._off(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._off(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._off(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._off(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._off(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._off(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._off(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._off(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._off(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this.model.interactionSettings.handleHistoryEvent&&this._off(n(window),"popstate",this._popBrowserHistory);this._off(this.currentTabContentElement,"mouseenter",".e-dbrd-layout-wrapper",this._onLayoutWrapperMouseMove);this._off(this.currentTabContentElement,"mouseleave",".e-dbrd-layout-wrapper",this._onLayoutWrapperMouseLeave)},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardviewer"+this.model.cssClass);this._clearTimers();this._clearAutoRefreshTimerAndCollection()},_loadDashboardFromData:function(){var o,c,a,rt,p,e,ot,st,ht,ct,lt,w,b,g,nt;this._destroyWaitingPopup();var i=null,h=window.data,u=null,r=0;if(window.isExportPdf)for(o=0;o<h.length;o++)h[o].id===this._dashboardId&&(i=h[o].layoutString,u=h[o].widgetString);else i=window.dashboardLayoutString,u=window.dashboardWidgetString;if((this._dashboardData().isTestCase||this._dashboardData().layout.length!==t.DashboardConstants.Zero||this._dashboardData().widgetData.length!==t.DashboardConstants.Zero)&&(i=this._dashboardData().layout,u=this._dashboardData().widgetData),!this._dashboardData().isExportImage&&this._dashboardData().isTestCase&&!t.isNullOrUndefined(i)&&this.multiTabs===!1){for(r=0;r<i.length;r++)i[r].Key==="TabInformation"&&(this.dashboardDetails=JSON.parse(i[r].Value)),i[r].Key==="DashboardParameters"&&(this.dashboardParameters=JSON.parse(i[r].Value));t.isNullOrUndefined(this.dashboardDetails)||(c=this.dashboardDetails.length,c>t.DashboardConstants.One?this._createDashboardTabs():t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||c!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||c!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId))}t.isNullOrUndefined(u.d)&&(u={d:u});u.d.length===t.DashboardConstants.Zero||t.isNullOrUndefined(u.d[t.DashboardConstants.Zero].loadedPages)||u.d[t.DashboardConstants.Zero].loadedPages.length!==t.DashboardConstants.One||u.d[0].loadedPages.splice(0,1);this.modifiedConnectionStrings=null;var f=null,l=t.isNullOrUndefined(this._dashboardData().masterControls)?"":this._dashboardData().masterControls,tt=null,it=null;if(l.length>t.DashboardConstants.Zero)for(f=n("<div>").css({width:"100%",height:"auto","max-height":"25%",padding:"5px"}).html(this.locale.utils.AppliedFilters),r=0;r<l.length;r++)tt=l[r].Column,it=l[r].Data,f.append(n("<div>").css({width:"auto","text-overflow":"ellipsis",height:"100%","margin-left":"2px",padding:"5px"}).html(tt+" : "+it)),this.element.append(f);if(this.filterHeight=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.height(),this._dashboardData().isControl){a=JSON.parse(i[1].Value);rt=JSON.parse(i[2].Value);a.RowCount=1;a.ColumnCount=1;i[1].Value=JSON.stringify(a);var ut=45,ft=45,k=u.d[0].configInfo,v=this._getHeaderInfo(rt,k),s=t.isNullOrUndefined(v)?null:this._getControlTitleAlignment(v.Label.LabelAlignment),y=n("<div>").attr({id:this._id+"_cell_"+k.Row+"_"+k.Column}),d=n("<div>").addClass("e-control-heading").css({height:"30px",width:"100%"}),et=n("<div>").addClass(s),at=t.isNullOrUndefined(v)?"":v.Label.HeaderLabelForeground.substr(3),vt=n("<span/>").addClass("e-control-title").css({display:"block",color:"#"+at}).html(this._dashboardData().controlHeader);d.append(et);et.append(vt);p=null;e=null;t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""||(p=n("<div>").addClass("e-control-subtitleHeading").css({height:"25px",width:"100%"}),e=n("<div>").addClass(s),ot=n("<span/>").addClass("e-control-subtitle e-export-control-subtitle").html(this._dashboardData().subtitleName),e.css({height:"25px"}),p.append(e),e.append(ot));y.css({height:this._dashboardData().isExportImage?n(window).height()-this.filterHeight:"calc(100% - 10px)",width:"100%"});t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""?y.append(d.addClass(s),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-ft:n(window).height()-(this.filterHeight+ut+10):"calc(100% - 20px)",width:"100%",float:"left"})):y.append(d.addClass(s),p.addClass(s),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-(e.height()+ft):n(window).height()-(this.filterHeight+e.height()+ut+10):"calc(100% - 20px)",width:"100%",float:"left"}));this.currentTabContentElement.append(y);this.model.enableCustomTheming&&this._customTheme(["container"])}else st=JSON.parse(i[1].Value),this.currentReport={layout:i,data:[]},n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>'),this._setDashboardSize(),this._drawBanner(i),this._drawLayout(st,i),ht=25,this.filterHeight===t.DashboardConstants.Zero||this._dashboardData().isWidgetSpecific||(ct=n(window).height()-this.filterHeight-this.currentTabContentElement.find(".e-dbrd-banner").height()-ht,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this._dashboardData().isExportImage?this.isExtendedLayout?"auto":ct:"calc(100% - 10px)",width:"100%"})),this._dashboardData().isWidgetSpecific&&this.filterHeight!==t.DashboardConstants.Zero&&(lt=0,w=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(lt),w.find(".e-dbrd-control-container").attr("type")!=="Grid"&&w.css({height:w.height()-n(".e-dbrd-banner").height()-this.filterHeight}));if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),this._dashboardData().isScreenshot)this._renderControl(null,u);else{for(r=0;r<u.d.length;r++)b=new Dbrdcontrol,b=b.clone(u.d[r]),this.dashboardControls.addControl(b);this._startRenderingControls(null,u)}this.model._dashboardData.isControl&&(this.initialLoading=!1,this._trigger("dashboardCreated",{model:this,data:i,hasFilterPanel:this.hasFilterPanel}),g=this._getKeyFromCookie(),nt=this._popSessionStorageData(g),!this.model.interactionSettings.allowHistoryMaintenance||this.isFromHistory||this.tabSwitchFromHistory?this.model.interactionSettings.allowHistoryMaintenance&&this.tabSwitchFromHistory&&(this._pushSessionStorage("TabSwitch"),this.tabSwitchFromHistory=!1):t.isNullOrUndefined(nt)||nt.dashboardPath!==this.dashboardPath()?this._pushSessionStorage("initial"):this._replaceState(g))},_getHeaderInfo:function(n,t){for(var i=0;i<n.length;i++)if(n[i].ReportName===t.Id)return n[i];return null},_addToStore:function(n,t){this.html5Supported?window.sessionStorage[n]=JSON.stringify({Time:new Date,Value:JSON.parse(JSON.stringify(t))}):this.ajaxCacheStore[n]={Time:new Date,Value:JSON.parse(JSON.stringify(t))}},_removeFromStore:function(n){this.html5Supported?delete window.sessionStorage.removeItem(n):delete this.ajaxCacheStore[n]},_getValueFromStore:function(i){var c=2,u=null,r=[],f=i.split(t.DashboardConstants.CacheStoreList),s,e,h,o,l;if(this.html5Supported?(u=n.parseJSON(window.sessionStorage.getItem(i)),r=Object.keys(window.sessionStorage)):(u=this.ajaxCacheStore[i],r=Object.keys(this.ajaxCacheStore)),r=r.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),t.isNullOrUndefined(u)&&f.length>c){for(s=[],e=0;e<r.length;e++)r[e].indexOf(f[t.DashboardConstants.One])!==t.DashboardConstants.IndexLowerBound&&s.push(r[e]);for(h=0;h<s.length;h++)o=s[h],l=o.split(t.DashboardConstants.CacheStoreList),l.length===f.length&&this._cacheKeyComparision(f,o,f[c])&&(u=this.html5Supported?n.parseJSON(window.sessionStorage.getItem(o)):this.ajaxCacheStore[o])}return u},_cleanUpStore:function(){var n=[],r,e;n=this.html5Supported?Object.keys(window.sessionStorage):Object.keys(this.ajaxCacheStore);var u=null,f=null,i=0;if(this.model.cacheSettings&&this.model.cacheSettings.enableAutoCleanup&&!t.isNullOrUndefined(this.model.cacheSettings.cleanupInterval))for(i=0;i<n.length;i++)r=this._getValueFromStore(n[i]),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Time)||(e=new Date(r.Time),e.setMinutes(e.getMinutes()+this.model.cacheSettings.cleanupInterval),e<new Date?this._removeFromStore(n[i]):f===null?(f=new Date(r.Time),u=n[i]):f>new Date(r.Time)&&(f=new Date(r.Time),u=n[i]));n=this.html5Supported?Object.keys(window.sessionStorage):Object.keys(this.ajaxCacheStore);n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound});this.model.cacheSettings&&u!==null&&!t.isNullOrUndefined(this.model.cacheSettings.capacity)&&n.length>this.model.cacheSettings.capacity&&this._removeFromStore(u)},_isAjaxCacheEnabled:function(){return t.isNullOrUndefined(this.model.cacheSettings)?!1:this.model.enableClientSideCache},_checkFilterOverviewData:function(n){var r,i;if(!t.isNullOrUndefined(n)){for(r={InteractionData:[]},i=0;i<this.appliedFilterData.length;i++)n===this.appliedFilterData[i].Control?this.appliedFilterData.splice(i,1):r.InteractionData.push(this.appliedFilterData[i]);return r}return null},_checkKeyInStore:function(n,i){var r=this._getValueFromStore(n),u;return r?(u=this,setTimeout(function(){i.call(u,null,r.Value)},t.DashboardConstants.Zero),this._addToStore(n,r.Value),!0):!1},_cacheKeyComparision:function(n,i,r){var u=n.findIndex(n=>n===r),f=!1;return i.indexOf(r)!==t.DashboardConstants.IndexLowerBound&&(f=!0,u+t.DashboardConstants.One<n.length&&this._cacheKeyComparision(n,i,n[u+t.DashboardConstants.One])),f},_generateKeyFromDataForCache:function(n,i,r){var o="",y,s,e,u,h,c,l,a,p,f,v;if(t.isNullOrUndefined(n)||n==="[]"){if(t.isNullOrUndefined(i)||i.InteractionData.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r)||r!=="initialize")o=t.DashboardConstants.CacheStoreList+"[]";else for(a=0;a<i.InteractionData.length;a++)if(p="",f=i.InteractionData[a],!t.isNullOrUndefined(f.UniqueColumnName)){if(f.Data.length>t.DashboardConstants.Zero)for(v=0;v<f.Data.length;v++)p+="&&"+f.Data[v];o+=t.DashboardConstants.CacheStoreList+f.UniqueColumnName.toUpperCase()+"_"+f.Control+p}}else for(y=JSON.parse(n),s=0;s<y.length;s++)if(e="",u=y[s],!t.isNullOrUndefined(u.UniqueColumnName)&&!t.isNullOrUndefined(u.ReportName)){if(!t.isNullOrUndefined(u.DateFilterInfo)&&u.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero)for(h=0;h<u.DateFilterInfo.DateFilterList.length;h++)e+="&&"+u.DateFilterInfo.DateFilterList[h];else if(!t.isNullOrUndefined(u.DimensionFilterInfo)&&u.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero)for(c=0;c<u.DimensionFilterInfo.Text.length;c++)e+="&&"+u.DimensionFilterInfo.Text[c];else if(!t.isNullOrUndefined(u.MeasureFilterInfo)&&u.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero)for(l=0;l<u.MeasureFilterInfo.Values.length;l++)e+="&&"+u.MeasureFilterInfo.Values[l];o+=t.DashboardConstants.CacheStoreList+u.UniqueColumnName.toUpperCase()+"_"+u.ReportName+e}return this.model.reportName+o},_clearCacheOnRefresh:function(){var n=[],i,r;for(n=this.html5Supported?Object.keys(window.sessionStorage):Object.keys(this.ajaxCacheStore),n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),i=0;i<n.length;i++)r=n[i],this.html5Supported?delete window.sessionStorage.removeItem(r):delete this.ajaxCacheStore[r]},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.currentTabContentElement).find(".e-js").off())}catch(i){console(i.message)}},_destroyPopups:function(i){if(this._trigger("onDashboardClick",{event:i,tabId:this.dashboardName}),this.toolbarMethods){this.toolbarMethods=!1;this.showContext=!1;return}n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyControlMenu();n(this.currentTabContentElement).find(".e-dbrd-inactive").length!==t.DashboardConstants.Zero&&this._closeMaximize(i);n(this.currentTabContentElement).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.element).find("#"+this._dashboardId+"_tabMenuPopup").length!==t.DashboardConstants.Zero&&this._tabMenuPopupHide(i);(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i);n(this.currentTabContentElement).find("#"+this._id+"_FilterOverviewMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyFilterOverviewMenu();n(this.currentTabContentElement).find("#"+this._id+"_InteractionMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyInteractionMenu()},_toolbarMethods:function(i){var s,h;this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(event));this.currentTabContentElement.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.currentTabContentElement).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.currentTabContentElement).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control"));(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);this._tabMenuPopupHide(i);var u=n(i.target),e=u.attr("name"),f=u.attr("id"),o=null,c=u.parents(".e-dbrd-control-container").find(".e-dbrd-control"),r=u.parents(".e-dbrd-control-container"),l=c.attr("data-controlid"),a=r.attr("id");o=n(r).find(".e-control-title").length>t.DashboardConstants.Zero?n(r).find(".e-control-title").text().trim():n(r).find(".e-control-heading").text()===""?n(r).find(".e-card-header").text():n(r).find(".e-control-heading").text().trim();s=o;h=this.model._selectedTabGuid?this.model._selectedTabGuid:null;this._trigger("onMenuIconClick",{target:u,event:i,name:e,serviceUrl:this.serviceUrl(),dashboardPath:this.dashboardPath(),widgetId:a,dataWidgetId:l,headertext:s,tabId:h,tabName:this.dashboardName});this.toolbarMethods=!0;switch(e){case"Maximize":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._maximizeControl(f);break;case"menu":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._showControlMenu(f);break;case"filter":this._removeControlFilter(f,i)}},_initializeRelationships:function(){var r=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),i,u,f;for(r=r.add(n("#"+this._id+" input.e-FilterBox,div.e-FilterBox")).add(n("#"+this._id+" td.e-dbrd-slider-control div.e-slider")),t.isNullOrUndefined(this.filterPanelObj)||(r=r.add(this.filterPanelDiv.find(".e-dbrd-control")).add(this.filterPanelDiv.find("input.e-FilterBox"))),i=0;i<this.controlRelations.length;i++)if(this.element.find("#"+this.controlRelations[i].Master).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master).length===t.DashboardConstants.One&&(this.controlRelations[i].Master=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Master),this.controlRelations[i].Slaves.length>t.DashboardConstants.Zero)for(u=0;u<this.controlRelations[i].Slaves.length;u++)this.element.find("#"+this.controlRelations[i].Slaves[u]).length===t.DashboardConstants.Zero&&this.element.find("#"+this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[u]).length===t.DashboardConstants.One&&(this.controlRelations[i].Slaves[u]=this._id+t.DashboardConstants.Widget+this.controlRelations[i].Slaves[u]);else for(f=0;f<r.length;f++)n(r[f]).attr("type")==="Label"&&(this.controlRelations[i].Slaves=r[f].id)},_renderControl:function(i,r){var w,b,k,l,nt,tt,v,y,st,ht,o,p;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"initData"});return}if(this._setDashboardSize(),r.d[0].Key===t.DashboardConstants.WrongExcel){this._errorMsgPopup(this.locale.utils.ExcelError,!0);this._destroyWaitingPopup();return}w="";n.each(r.d,function(t,i){i.Key==="Title"&&(w=n.parseJSON(i.Value))});this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(b=this._generateKeyFromDataForCache(i.data,w,"initialize"),this._getValueFromStore(b)||this._addToStore(b,r));this._changeScrollSize();this.currentReport.data=r;k=JSON.parse(r.d[0].Value);this.theme=k.Theme?window[k.Theme]:window.light;var f={d:[]},it=null,u={d:[]},rt=null;this.TitleLabels=[];this.flag=!1;this.isDashboardResize=!1;for(var c=null,ut=[],ft=[],h=[],s=[],d={},et={},g=[],e=0,a=0,ot=u.WidgetType,e=r.d.length-t.DashboardConstants.One;e>=t.DashboardConstants.Zero;e--){if(c=r.d[e].Key,c==="Widgets"){h=JSON.parse(r.d[e].Value);this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRender,source:{element:c,data:u}});for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(u=h[l],d={},g={},u!==null&&(!t.isNullOrUndefined(h[l])&&h[l].hasOwnProperty("NotConfigured")&&h[l].NotConfigured===!0?(t.isNullOrUndefined(h[l].position)||(nt=JSON.parse(h[l].position)),t.isNullOrUndefined(nt)||(f=new Dbrdcontrol,f.configInfo=nt,f.controlType="NoData",u.WidgetType="NoData",this.dashboardControls.addControl(f))):(f=new Dbrdcontrol,s=new dbrdcontrolData,c=c.toLowerCase(),f.currentPage=1,tt=!1,t.isNullOrUndefined(u.Data)||(s.pagedata=JSON.parse(u.Data)),t.isNullOrUndefined(u.FormattedData)||(s.formattedData=JSON.parse(u.FormattedData)),t.isNullOrUndefined(u.Error)||(s.pagedata=t.isNullOrUndefined(u.Error)?u.Error:u.Error,s.isError=tt=!0),f.errorOccured=tt,s.pageNumber=1,s.LastUpdateTime="",f.data.push(s),t.isNullOrUndefined(u.ConfigInfo)||t.isNullOrUndefined(u.ConfigInfo)||(f.configInfo=JSON.parse(u.ConfigInfo),this._updateConfigInfo(u.WidgetType,f),f.reportName=f.configInfo.Id),t.isNullOrUndefined(u.DynamicData)||(d=JSON.parse(u.DynamicData)),t.isNullOrUndefined(u.StaticFiles)||(g=JSON.parse(u.StaticFiles))))),ot=u.WidgetType,et={widgetType:ot,dynamicData:d,staticFiles:g,control:f,controldata:s},this._renderWidgetControl(et),this._setSelectedFitlerInfo(f);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRender,source:{element:c,data:u}})}else c==="FilterPanel"&&(this.tempDataForFilter=n.parseJSON(r.d[e].Value),this.isFilterPanelOpen&&this.externalFilterPanel&&(this.filterPanelObj!==null?this.filterPanelObj.refreshData(this.tempDataForFilter):(this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1)));switch(c.toLowerCase()){case"context":this.Context=r.d[e].Value;break;case"paramcolumns":it=JSON.parse(r.d[e].Value);r.d[e].Value!==null&&(f=new Dbrdcontrol,f.controlType="parameterColumnData",f.reportName="parameterColumnData",s=new dbrdcontrolData,s.pagedata=it,f.data.push(s),this.dashboardControls.addControl(f));break;case"titleparams":ut=n.parseJSON(r.d[e].Value);break;case"descriptionparams":ft=n.parseJSON(r.d[e].Value);break;case"autorefreshrowcounts":this.model.autoRefreshSettings.rowCount=r.d[e].Value;break;case"title":rt=n.parseJSON(r.d[e].Value);break;case"controlrelation":this.controlRelations=n.parseJSON(r.d[e].Value)}}if(v=this.model.commentSettings.widgets,y=this.currentTabContentElement.find(".e-dbrd-control-container"),!t.isNullOrUndefined(v))for(e=0;e<y.length;e++)for(st=n(y[e]).attr("id"),a=0;a<v.length;a++)v[a]===st&&(ht=n(y[e]).find(".e-dbrd-banner-widget-withoutcomments"),ht.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"));this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,rt);this._startRenderingControls();o=this;this._dashboardData().isControl||(p=n("<p>"),this.reportName=this.model.reportName,this._appendControlTitle(this.model.reportName,ut,p),this.currentTabContentElement.find(".e-dbrd-banner-title").html(""),this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":p.text()}).append(p),this._appendDashboardDescription(this.reportDescription,ft),this._callFunction(this._initializeRelationships,r));this._callFunction(function(){setTimeout(function(){o.flag=!0;o.initialLoading=!1;o._trigger("dashboardCreated",{model:o.model,data:r,tabId:o.dashboardName,hasFilterPanel:o.hasFilterPanel});var n=o._getKeyFromCookie(),i=o._popSessionStorageData(n);!o.model.interactionSettings.allowHistoryMaintenance||o.isFromHistory||o.tabSwitchFromHistory?o.model.interactionSettings.allowHistoryMaintenance&&o.tabSwitchFromHistory&&(o._pushSessionStorage("TabSwitch"),o.tabSwitchFromHistory=!1):t.isNullOrUndefined(i)||i.dashboardPath!==o.dashboardPath()?o._pushSessionStorage("initial"):o._replaceState(n)},300)});this._callFunction(this._updateDashboardTitle);this.rendered=!0;this.model.enableAutoRefresh&&this._resetAutoRefreshRevamp();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.renderComplete,source:{element:this.dashboardPath(),data:u}})},_updateConfigInfo:function(n,i){switch(n){case t.dashboardViewer.Controls.FilterComboBox:this._setComboBoxConfigInfo(i);break;case t.dashboardViewer.Controls.ListBox:this._setListBoxConfigInfo(i);break;case t.dashboardViewer.Controls.TreeMap:this._setTreeMapConfigInfo(i);break;case t.dashboardViewer.Controls.CheckBox:this._setChkboxConfigInfo(i);break;case t.dashboardViewer.Controls.RangeSlider:this._setRangeSliderConfigInfo(i);break;case t.dashboardViewer.Controls.RangeNavigator:this._setRangeNavigatorConfigInfo(i);break;case t.dashboardViewer.Controls.DatePicker:this._setDatePickerConfigInfo(i);break;case t.dashboardViewer.Controls.Card:this._setCardConfigInfo(i);break;case t.dashboardViewer.Controls.ChoroplethMap:this._setChoroplethMapConfigInfo(i);break;case t.dashboardViewer.Controls.BubbleMap:this._setBubbleMapConfigInfo(i);break;case t.dashboardViewer.Controls.Grid:this._setGridConfigInfo(i);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:this._setChartConfigInfo(i)}},_setSelectedFitlerInfo:function(n){var i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport)&&!t.isNullOrUndefined(n))for(i=0;i<this.model.currentMasterReport.length;i++)r=this.model.currentMasterReport[i],r.ReportName===n.reportName&&(u=this._filterIndex(r,n.SelectedFilterInfo),u!==t.DashboardConstants.IndexLowerBound&&n.SelectedFilterInfo.splice(u,t.DashboardConstants.One),n.SelectedFilterInfo.push(r))},_filterIndex:function(n,i){if(!t.isNullOrUndefined(i))for(var r=0;r<i.length;r++)if(n.UniqueColumnName===i[r].UniqueColumnName)return r;return t.DashboardConstants.IndexLowerBound},_startRenderingControls:function(n){var t,i;this.theme=window.light;t=[];this.flag=!1;t=n?n:this.dashboardControls.getAllControls();this.isExtendedLayout&&(t=this.dashboardControls.getControlsForCurrentPage(this.pageInfo));this._renderControlsForStarting(t);this._callFunction(this._destroyAllControlWaitingIndicator);i=this;setTimeout(function(){i.flag=!0},500)},_initializeCustomWidgets:function(i){var h=n("#"+this._id+"_cell_"+i.configInfo.Row+"_"+i.configInfo.Column),r=0,e,u,o,f,s;if(h.attr({"data-controltype":"CustomWidget"}),e=h.find(".e-dbrd-control"),e.attr({id:this._id+t.DashboardConstants.Widget+i.configInfo.Id,"data-controlId":i.configInfo.Id}),i.getCurrentPageData().isError){this._showControlError(i.getCurrentPageData(),e,i.configInfo);return}if(i.configInfo.EnableIFrame)this._renderWidget(i);else{if(!t.isNullOrUndefined(i.staticFiles.JS)){for(u=i.staticFiles.JS,r=0;r<u.length;r++)o=u[r],this._validURL(o)||(u[r]=this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.configInfo.ExtractedPath+"/"+o));this._getScripts(u,this._renderWidget,i)}if(!t.isNullOrUndefined(i.staticFiles.CSS))for(f=i.staticFiles.CSS,r=0;r<f.length;r++)s=f[r],this._validURL(s)||(f[r]=this.serviceUrl()+"//GetScriptsForCustomWidget/"+(i.configInfo.ExtractedPath+"/"+s)),n("head").append('<link rel="stylesheet" href="'+f[r]+'" type="text/css" />')}},_getScripts:function(i,r,u){n.ajaxSetup({cache:!0});var f=this,e=0;i.forEach(function(o){n.getScript(o,function(){e+=t.DashboardConstants.One;e===i.length&&(r.apply(f,[u]),f._initializeRelationships())})})},_WidgetNotConfigured:function(t){var f=t.configInfo,r=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),u=n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-text align-center e-dbrd-fontfamily").css({display:"table",clear:"both",width:"100%",height:"100%","margin-left":"-2px"}),i=n("<div>").css({"vertical-align":"middle",overflow:"hidden"});r.attr("rowspan")==="1"&&r.attr("colspan")==="1"?(u.css({display:"inline-block"}),i.append(n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-icon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.WidgetNotConfigured})),u.append(i)):(i.css({display:"table-cell"}),i.append(n("<div>").addClass("widget-not-configured-icon"),n("<div>").css({overflow:"hidden"}).html(this.locale.utils.WidgetNotConfigured)),u.append(i));r.find(".e-dbrd-control").append(u);r.find(".e-control-prop").hide();this.model.enableCustomTheming&&this._customTheme(["erroredContainer"])},_changeScrollSize:function(){var s=t.Menu.prototype._subMenuPos,i=0,h=0,u,r,f,e,o;t.Menu.prototype._subMenuPos=function(n,t){var r=t,u,f;if(this.element.parents(".e-dashboardviewer").length>h){u=300;f=400;try{i=this.element.parents(".e-dashboardviewer").width()-this.element.parents(".e-dashboardviewer").offset().left-this.element.offset().left;i<u&&(r="left")}catch(e){i=f}}s.call(this,n,r)};u=t.ScrollBar.prototype._calculateLayout;r=this;t.ScrollBar.prototype._calculateLayout=function(n){u.call(this,n);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n.handler==="e-vhandle"?(n.buttonSize=10,n.handleSpace=n.modelDim-2*n.buttonSize-9,n.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(this.model.height-2*n.buttonSize),n.handle<25&&(n.handle=25),n.handle>=n.handleSpace-15&&(n.handle-=15),n.onePx=n.scrollable/(n.handleSpace-n.handle)):n.buttonSize=this.model.buttonSize)};f=t.ScrollBar.prototype._mouseDown;t.ScrollBar.prototype._mouseDown=function(i){f.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n(i.delegateTarget).hasClass("e-vhandle")||n(i.toElement).hasClass("e-vhandle"))&&i.type==="mousedown"&&(this.element.addClass("onScrolling"),this.element.find(".e-vhandle").css({"background-color":"#838383",border:"1px solid #838383"}))};e=t.ScrollBar.prototype._mouseUp;t.ScrollBar.prototype._mouseUp=function(i){var u,o,f,s;e.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&i.type==="mouseup"&&(u=this.element.parents(".e-dbrd-control"),u.hasClass("e-dbrd-MaximizedControl")&&u.parents(".e-dbrd-inactive").removeClass("canClose"),this.element.removeClass("onScrolling"),this.element.hasClass("mouseOver")||this.element.trigger("mouseleave"),u.hasClass("mouseEntered")||(n(this.element).parents(".e-dbrd-control").attr("id")!==n(i.target).parents(".e-dbrd-control").attr("id")&&(this.element.stop(!0).show().fadeOut(1500),this.element.removeClass("e-dbrd-active-scrollbar")),o=this.element.parents(".e-dbrd-control").attr("data-controlid"),f=!1,this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(f=!0),s={reportName:o,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:f},r._loadVirtualScrollingPage(s)))};o=t.ScrollBar.prototype.scroll;t.ScrollBar.prototype.scroll=function(n,i,u,f){var s,e,h;if(o.call(this,n,i,u,f),this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero){if(t.isNullOrUndefined(f))return;if(i.indexOf("wheel")===t.DashboardConstants.IndexLowerBound)return;s=this.element.parents(".e-dbrd-control").attr("data-controlid");e=!1;this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(e=!0);h={reportName:s,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:e};r._loadVirtualScrollingPage(h)}}},_loadVirtualScrollingPage:function(n){var a=JSON.parse(JSON.stringify(this.dashboardParameters)),o,r,c,f,s,u,l,h,b;if(!t.isNullOrUndefined(n.reportName)&&!t.isNullOrUndefined(n.scrollTop)&&!t.isNullOrUndefined(n.div)&&!t.isNullOrUndefined(n.isMaximized)){var i=this.dashboardControls.getControlByReport(n.reportName),v=this.model.localeSettings.resourcePath,y=this.model.localeSettings.culture,p=this.model.localeSettings.dateFormat,w=this.model.localeSettings.timeFormat,e={};if(!t.isNullOrUndefined(i)){if(n.isMaximized&&(i=this.maximizedashboardControls.getControlByReport(n.reportName)),o=n.div.find("table"),r=n.div.data("ejScroller"),i===!1||t.isNullOrUndefined(o)||t.isNullOrUndefined(r))return;if(i.scrollSetting.currentScrollTop=n.scrollTop,i.scrollSetting.visibleHeight=r.option("height"),!(i.currentPage>i.totalPages)&&!t.isNullOrUndefined(r)&&n.scrollTop>i.scrollSetting.scrollTop&&o[0].scrollHeight-n.scrollTop<=r.option("height")+100){if(i.getPageDataBypage(i.currentPage).scrollTop=n.scrollTop,i.currentPage+=t.DashboardConstants.One,i.currentPage===2&&(i.heightPerPage=o[0].scrollHeight),i.scrollSetting.scrollTop=n.scrollTop,i.currentPage>i.totalPages){i.currentPage=i.totalPages;return}this._createControlWaitingIndicator(n.div,!0);c=JSON.stringify({action:"",dashboardPath:this.dashboardPath(),controlId:n.reportName,startIndex:(i.currentPage-t.DashboardConstants.One)*i.scrollSetting.controlPerPage+t.DashboardConstants.One,pageSizeOnDemand:i.scrollSetting.controlPerPage,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:i.totalCount,rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,dashboardName:this.dashboardName,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(a)});e={type:"POST",url:this.serviceUrl()+"/GetControlDataOnDemand",data:c,onSuccess:this._processControlDataOnDemand,needRequestParameter:!1,additionalParameter:c};this.doAjaxPost(e)}else if(this.model.enableAutoRefresh&&i.scrollSetting.scrollTop!==n.scrollTop){for(this._resetAutoRefreshRevamp(),i.scrollSetting.scrollTop=n.scrollTop,i.scrollSetting.visibleHeight=r.option("height"),f=i.getControlPagesforRefresh(i),s=[],u=0;u<f.length;u++){for(l=!1,h=0;h<i.loadedPages.length;h++)if(i.loadedPages[h]===f[u]){l=!0;break}l||(b={currentPage:f[u],reportName:i.reportName,controlPerPage:i.scrollSetting.controlPerPage},s.push(b),i.loadedPages.push(f[u]))}s.length>t.DashboardConstants.Zero&&(e={type:"POST",url:this.serviceUrl()+"/GetRefreshControlData",data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(s),data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionString:null,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(a)}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(e))}}}return},_processControlDataOnDemand:function(n,i,r){var o=JSON.parse(i),f=null,u=this.dashboardControls.getControlByReport(o.controlId),l=!1,a=null,s=100,h,e,c;for(this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length>t.DashboardConstants.Zero&&(u=this.maximizedashboardControls.getControlByReport(o.controlId),l=!0),h=!1,e=0;e<r.d.length;e++)c=r.d[e].Value[e],c.key==="Data"&&(f=new dbrdcontrolData,f.pagedata=JSON.parse(c.value),f.pageNumber=u.currentPage,f.LastUpdateTime="",u.currentPage=Math.ceil(o.startIndex/o.pageSizeOnDemand),u.data.push(f),f.pagedata.length===t.DashboardConstants.Zero?(u.totalCount-=s,u.totalPages-=t.DashboardConstants.One,u.data.pop(),h=!0):f.pagedata.length<s?(u.totalCount-=s+f.pagedata.length,u.totalPages-=t.DashboardConstants.One):(u.totalCount+=s,u.totalPages+=t.DashboardConstants.One));l&&(a=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero));h||this._processWidgetData(u,a);this._destroyAllControlWaitingIndicator()},_renderRowsOndemand:function(i){var o=i.data.scrollSetting.rowPerPage,f=i.data.scrollSetting.colPerPage,h=i.data.currentPage,a,s,u,r,c,e,l;for(o*f-i.data.scrollSetting.controlPerPage&&(a=o*f*h-i.data.scrollSetting.controlPerPage*h),s=0;s<o;s++){for(u=null,r=(h-t.DashboardConstants.One)*o+s,n("#"+i.controlId+"_child_row_"+r).length===t.DashboardConstants.Zero?(u=n("<tr>"),u.attr({id:i.controlId+"_child_row_"+r})):u=n("#"+i.controlId+"_child_row_"+r),c=n("#"+i.controlId+"_child_row_"+(r-t.DashboardConstants.One)),e=0;e<f;e++)n("#"+i.controlId+"_child_column_"+(r*f+e)).length===t.DashboardConstants.Zero&&(l=n("<td>").attr({id:i.controlId+"_child_column_"+(r*f+e)}).css({height:i.heightofColumn,padding:"3px","line-height":"2"}),u.append(l));c.after(u)}},_updateDashboardTitle:function(){!this.isWidget&&this.updatePageTitle()&&(t.isNullOrUndefined(this.reportName)||(document.title=t.isNullOrUndefined(n(document.head).attr("title"))?this.currentTabContentElement.find(".e-dbrd-banner-title").text():n(document.head).attr("title").replace("{{:reportName}}",this.currentTabContentElement.find(".e-dbrd-banner-title").text())))},_appendDashboardDescription:function(i,r){var e=n("<div>").attr({id:this._id+"reportDescriptionDiv"}).addClass("e-dbrd-report-desc e-dbrd-fontfamily").css({position:"absolute",left:"-5px","z-index":"1000",display:"none"}),o=n('<div class = "e-dbrd-divHtml" style = "word-wrap:break-word">'),u,f;e.append(o);u=n("<p>");f=this;this._appendControlTitle(i,r,u);o.html(u);this.currentTabContentElement.append(e);n(window).width()>t.DashboardConstants.MobileWidth&&n("#"+this._id).click(function(t){if(!n(t.target).hasClass("e-dbrd-banner-description")&&!n(t.target).hasClass("e-dbrd-report-desc")&&!n(t.target).parents().hasClass("e-dbrd-report-desc")){n(t.currentTarget).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");n(t.currentTarget).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control");for(var i=0;i<=n("body").find(".e-dbrd-drillIconBackward").length;i++)n("#"+f.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).children().attr("id")).remove(),f.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).removeClass("e-dbrd-drillIconBackward-focused")}})},_removeControlFilter:function(i,r){var u=n(this.currentTabContentElement).find("#"+i),f;if(this.clearFilter=!0,!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),u.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n("#"+u[0].id).hasClass("e-remove-control-filter-disable"))return;n("#"+u[0].id).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(u).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&f.remove();var o=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.attr("id"):u[0].id.substr(t.DashboardConstants.Zero,u[0].id.indexOf("_removeControlFilter")),e=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.parents(".e-dbrd-layout-cell"):u.parents(".e-dbrd-layout-cell"),s=e.attr("data-controltype");this.CurrentMaster=e.find(".e-dbrd-control").attr("data-controlId");this._removeAppliedFilter(o,s,r)},_clearMapSelectedShapes:function(t){var i=n("#"+t).data("ejMap");i.model.layers[0].selectedItems=[];i.refresh()},_refreshControlData:function(i,r){var tt,p,s,e,d,v,it,w,b,c,rt,h,g,k,et;if(this.multiTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveHiddenTabData(i.tabId,{data:r,type:"refreshData"});return}var u={},o={},y=null,a=[],f={},ut="",ft=null,l=this,nt=[];for(this.isReloaded=!0,this.currentSlaveInfo=[],this.isDashboardResize=!1,this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(tt=this._generateKeyFromDataForCache(i.data),this._getValueFromStore(tt)||this._addToStore(tt,r),this._cleanUpStore()),this.flag=!1,n("#"+this._id+"_ChartContext").length>t.DashboardConstants.Zero&&(this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Select",function(){n.proxy(l._loadChartSlaves(),l)}),this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Drill",function(){n.proxy(l._onChartDrilled(),l)}),this.currentTabContentElement.remove("#"+this._id+"_ChartContext")),p=null,s=[],e=0;e<r.d.length;e++){if(r.d[e].Key===null)continue;else p=r.d[e].Key.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.d[e].Key:r.d[e].Key.substr(t.DashboardConstants.Zero,r.d[e].Key.indexOf("_"));if(p==="FilterPanel"){if(d=n.parseJSON(r.d[e].Value),!t.isNullOrUndefined(this.tempDataForFilter)&&this.tempDataForFilter.length>t.DashboardConstants.Zero){for(v=0;v<this.tempDataForFilter.length;v++)this.tempDataForFilter[v].filterId===this.currentMaster&&(it=JSON.parse(this.tempDataForFilter[v].filterInfo.configInfo),it.SelectFirstItem=!1,this.tempDataForFilter[v].filterInfo.configInfo=JSON.stringify(it));for(w=0;w<this.tempDataForFilter.length;w++)for(b=0;b<d.length;b++)this.tempDataForFilter[w].filterId===d[b].filterId&&(this.tempDataForFilter[w]=d[b])}else this.tempDataForFilter=n.parseJSON(r.d[e].Value);t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.refreshData(this.tempDataForFilter);continue}if(p==="Widgets"){s=JSON.parse(r.d[e].Value);for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(f=s[c],nt=[],f!==null&&(!t.isNullOrUndefined(s[c])&&s[c].hasOwnProperty("NotConfigured")&&s[c].NotConfigured===!0?(t.isNullOrUndefined(s[c].position)||(rt=JSON.parse(s[c].position)),t.isNullOrUndefined(rt)||(u=new Dbrdcontrol,u.configInfo=rt,u.controlType="NoData",f.WidgetType="NoData",this.dashboardControls.addControl(u))):(u=new Dbrdcontrol,h=new dbrdcontrolData,u.currentPage=1,g=!1,t.isNullOrUndefined(f.Data)||(h.pagedata=JSON.parse(f.Data)),t.isNullOrUndefined(f.FormattedData)||(h.formattedData=f.FormattedData),t.isNullOrUndefined(f.Error)||(h.pagedata=t.isNullOrUndefined(f.Error)?f.Error:f.Error,h.isError=g=!0),u.errorOccured=g,h.pageNumber=1,h.LastUpdateTime="",u.data.push(h),t.isNullOrUndefined(f.ConfigInfo)||t.isNullOrUndefined(f.ConfigInfo)||(u.configInfo=JSON.parse(f.ConfigInfo),u.reportName=u.configInfo.Id),s[c].WidgetType!==t.dashboardViewer.Controls.Label||t.isNullOrUndefined(h.pagedata.Id)||(u.reportName=h.pagedata.Id),t.isNullOrUndefined(f.StaticFiles)||(o=this.dashboardControls.getControlByReport(u.reportName),u.staticFiles=o.staticFiles),t.isNullOrUndefined(f.DynamicData)||(nt=JSON.parse(f.DynamicData)))),this.currentSlaveInfo.push(u.reportName),ut=f.WidgetType,o=this.dashboardControls.getControlByReport(u.reportName),g||o.errorOccured||(a.pagedata=y,u.configInfo=o.configInfo,u.SelectedFilterInfo=o.SelectedFilterInfo,o.data.push(a)),this._refreshWidgetData(ut,u,nt)),this.dashboardControls.updateCurrentReport(u);setTimeout(function(){l._destroyAllControlWaitingIndicator()},500)}else{switch(p){case"ParamColumns":u=new Dbrdcontrol;o=this.dashboardControls.getControlByReport("parameterColumnData");y=JSON.parse(r.d[e].Value);u.controlType="parameterColumnData";o.data=[];a=new dbrdcontrolData;a.pagedata=y;o.data.push(a);u=o;u.data=[];u.data.push(a);this._callFunction(this._updateParameterColumns,u.data[0].pagedata);break;case"Context":this.Context=r.d[e].Value;break;case"Title":ft=n.parseJSON(r.d[e].Value)}this.dashboardControls.updateCurrentReport(u)}}if(this._dashboardData().isControl||(this._addFilterDataToTitle(ft),this._callFunction(function(){l.flag=!0}),this._callFunction(this._updateDashboardTitle)),setTimeout(function(){y!==null&&l._callFunction(l._updateParameterColumns,y)},10),this.model.enableAutoRefresh)for(k=0;k<r.d.length;k++)r.d[k].Key==="Widgets"&&(et=JSON.parse(r.d[k].Value),this._restartTimerForSlaves(Object.keys(et)));this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_isFilterPanelWidget:function(n){if(!t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(n))for(var i=0;i<this.filterPanelObj.model.dataSource.length;i++)if(n.indexOf(this.filterPanelObj.model.dataSource[i].filterId)!==-1)return!0;return!1},_makeSlaveDataRequest:function(i){var h,c,w,l,e,a,rt,k,d,v,g,o,s,nt,ut;this.isFromHistory=!1;this.currentMaster=i.master;this.loadAction=!0;var f=[],tt=[],u=0,r=0,y=t.dashboardViewer.event.onMasterFilterApplied;this.target=[];var it=[],ft=JSON.parse(JSON.stringify(this.dashboardParameters)),p=this._getPageForCurrentView();if((this.clearFilter||i.setFilter)&&(this.dashboardControls.removeSelectedControlsMasterData(i.master),y=t.dashboardViewer.event.clearFilter,this.clearFilter=!1),this.removeFilter||(f=this.dashboardControls.getAllControlsMasterData()),!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(this.model.currentMasterReport))for(h=t.DashboardConstants.Zero;h<this.model.currentMasterReport.length;h++)f.push(this.model.currentMasterReport[h]);if(c=[],f.length>t.DashboardConstants.Zero&&this.isExtendedLayout?(w=this,c=w.pageInformations.concat(p.filter(function(n){return w.pageInformations.indexOf(n)<t.DashboardConstants.Zero}))):c=p,this.removeFilter=!1,this._trigger("actionBegin",{eventType:y,source:{element:null,data:i}}),!i.isAutoRefresh)for(r=0;r<this.rangeData.length;r++)for(l=0;l<i.slaves.length;l++)if(i.slaves[l].lastIndexOf("_"+this.rangeData[r].Master)!==t.DashboardConstants.IndexLowerBound){this.rangeData.splice(r,t.DashboardConstants.Zero);n("#"+i.slaves[r]+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass(" e-remove-control-filter-enable").attr("tabindex","-1");break}for(r=0;r<i.slaves.length;r++){var et=i.slaves[r].indexOf("_"),ot=i.slaves[r].lastIndexOf("_")-i.slaves[r].indexOf("_"),b=i.slaves[r].substr(et+t.DashboardConstants.One,ot-t.DashboardConstants.One);b=b.substr(t.DashboardConstants.Zero,b.indexOf("_"));e=n("#"+i.slaves[r]).attr("data-controlid");t.isNullOrUndefined(e)&&(e=n("#"+i.slaves[r]).parents("div.e-dbrd-control").attr("data-controlid"));a=this.dashboardControls.getControlByReport(e);rt=n("#"+i.slaves[r]+"_removeControlFilter");rt.closest(".e-dbrd-control-container").find(".e-dbrd-control-error").remove();t.isNullOrUndefined(a)||tt.push({Method:"LoadWidget",Control:e,ErrorOccured:a===!1?!1:a.errorOccured});this.target.push(i.slaves[r]);it.push(t.isNullOrUndefined(e)?i.slaves[r]:e)}if(k=t.isNullOrUndefined(i.master)||!t.isNullOrUndefined(i.master)&&this._isFilterPanelWidget(i.master),!i.isAutoRefresh||i.showIndicator===!0){for(u=0;u<i.slaves.length;u++)this._isFilterPanelWidget(i.slaves[u])?k=!0:(d=this.currentTabContentElement.find("#"+i.slaves[u]).hasClass("e-dbrd-control-container")?this.currentTabContentElement.find("#"+i.slaves[u]):this.currentTabContentElement.find("#"+i.slaves[u]).parents(".e-dbrd-control-container")[t.DashboardConstants.Zero],this.isExtendedLayout?(v=n("#"+i.slaves[u]).attr("data-controlid"),t.isNullOrUndefined(v)&&(v=n("#"+i.slaves[u]).parents("div.e-dbrd-control").attr("data-controlid")),g=this.dashboardControls.getControlByReport(v),t.isNullOrUndefined(g)||p.indexOf(g.configInfo.Page)===t.DashboardConstants.IndexLowerBound||this._createControlWaitingIndicator(d,!0)):this._createControlWaitingIndicator(d,!0));if(o=this.currentTabContentElement.find(".e-dbrd-label-control"),o.length!==t.DashboardConstants.Zero)for(s=0;s<o.length;s++)n(o[s]).find(".e-dbrd-param-column").length!==t.DashboardConstants.Zero&&n.inArray(n(o[s]).attr("id"),this.target)!==t.DashboardConstants.IndexLowerBound&&this._createControlWaitingIndicator(o[s],!0);k&&!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open&&this.filterPanelObj.showLoader()}nt=[];i.isAutoRefresh&&(nt=this.model.autoRefreshSettings.widgets);var st=this.model.localeSettings.resourcePath,ht=this.model.localeSettings.culture,ct=this.model.localeSettings.dateFormat,lt=this.model.localeSettings.timeFormat;!t.isNullOrUndefined(i.master)&&t.isNullOrUndefined(i.masterList)&&(i.masterList=[],i.masterList.push(i.master));this._trigger("beforeMasterFilterApplied",{masterData:f,slaves:i.slaves,currentMaster:i.master,tabId:this.dashboardName});ut={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.initializeControl,data:JSON.stringify({action:JSON.stringify(tt),masterWidgets:i.masterList,dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(f)?null:JSON.stringify(f),rangeData:this.rangeData===null?null:JSON.stringify(this.rangeData),context:JSON.stringify(this.Context),serverSideCache:this.model.enableServerSideCache,filterParameters:JSON.stringify(this.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,widgets:JSON.stringify(nt),token:this.token,customLanguagePath:st,dateFormat:ct,timeFormat:lt,customCulture:ht,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(ft),defaultSelectedControls:JSON.stringify(this.dashboardControls.getAllControlsIsDefaultProperty()),page:JSON.stringify(c),controlsIdList:JSON.stringify(it)}),onSuccess:this._refreshControlData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(ut);this._trigger("actionComplete",{eventType:y,source:{element:null,data:i}})},_updateParameterColumns:function(n){var c,k,d,o,g,nt,s,tt,it,h,rt,ut;if(!t.isNullOrUndefined(n)){var u=n,ft=[],f=this.currentTabContentElement.find(".e-dbrd-param-column"),e=this.dashboardControls.getAllControlsMasterData(),r=0,a="",v=0,y=!0;if(f=f.add(this.element.find(".e-item.e-active .e-dbrd-param-column")),f.length!==t.DashboardConstants.Zero)for(r=0;r<u.length;r++){var p=[],w=u[r].Value,et=this.model.localeSettings.timeFormat;for(t.isNullOrUndefined(w)||et.indexOf("H")===t.DashboardConstants.IndexLowerBound||et.indexOf("t")===t.DashboardConstants.IndexLowerBound||(p=w.split(":PM"),p=w.split(":AM")),c=f.length-1;c>=t.DashboardConstants.Zero;c--){var i=f.eq(c),l=null,ot=null,b=null;if(ot=i.parents(".e-dbrd-layout-cell").attr("data-controltype")!==t.dashboardViewer.Controls.Label,i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label)for(k=0;k<this.target.length;k++)if(this.target[k].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound)if(e.length>t.DashboardConstants.Zero){for(d=0;d<e.length;d++)for(o=0;o<this.controlRelations.length;o++)if(this.controlRelations[o].Master.indexOf(e[d].ReportName)!==t.DashboardConstants.IndexLowerBound)for(g=0;g<this.controlRelations[o].Slaves.length;g++)if(this.controlRelations[o].Slaves[g].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))===t.DashboardConstants.IndexLowerBound)i.html(t.DashboardConstants.All);else{l=!0;break}}else{l=!0;break}else{l=!0;break}if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&!this.loadAction)if(e.length>t.DashboardConstants.Zero){for(nt=0;nt<e.length;nt++)for(s=0;s<this.controlRelations.length;s++)if(this.controlRelations[s].Master.indexOf(e[nt].ReportName)!==t.DashboardConstants.IndexLowerBound)for(tt=0;tt<this.controlRelations[s].Slaves.length;tt++)if(this.controlRelations[s].Slaves[tt].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){b=!0;break}}else if(this.appliedFilterData.length>t.DashboardConstants.Zero){for(it=0;it<this.appliedFilterData.length;it++)for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master.indexOf(this.appliedFilterData[it].Control)!==t.DashboardConstants.IndexLowerBound)for(rt=0;rt<this.controlRelations[h].Slaves.length;rt++)if(this.controlRelations[h].Slaves[rt].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){b=!0;break}}else b=!0;if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&i.attr("data-param")==="{{:UpdatedTime}}"&&(l=!0),a=i.parents(".e-dbrd-control-container").attr("data-widget-id"),u[r].ColumnKey==="{{:UpdatedTime}}"&&this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(a))for(v=0;v<this.currentSlaveInfo.length;v++)if(a===this.currentSlaveInfo[v]){y=!0;break}else y=!1;else u[r].ColumnKey==="{{:UpdatedTime}}"&&t.isNullOrUndefined(a)&&(y=!0);if((ot||l||b)&&y&&i.attr("data-param")===u[r].ColumnKey&&i.attr("data-source")===u[r].DataSource&&t.isNullOrUndefined(u[r].TimespanType)){switch(u[r].Status){case 0:i.html(t.isNullOrUndefined(p[t.DashboardConstants.Zero])?w:p[t.DashboardConstants.Zero]);break;case 1:i.html(t.DashboardConstants.All);break;case 3:i.html((new Date).toLocaleString());break;default:i.html("*")}f.splice(c,t.DashboardConstants.Zero)}}t.isNullOrUndefined(u[r].TimespanType)||u[r].TimespanType.indexOf(t.DashboardConstants.TimeSpan)===t.DashboardConstants.IndexLowerBound||ft.push(u[r])}this._resizeWidgetTitle();this._updateLabelControlSettings();this._updateTimeSpanParameter(ft,t.DashboardConstants.One);ut=this.currentTabContentElement.find(".e-dbrd-banner-title");ut.find(".e-dbrd-param-column").length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":ut.text()})}},_getTimespanParameterValue:function(n,i){var s="All",r="",a=60,v=24,y=7,b=4,p=12,k=30,u,l,e;if(!t.isNullOrUndefined(n)&&n!==""&&(u=parseInt(n),!isNaN(u))){var o=u>a-t.DashboardConstants.One?Math.floor(u/a):t.DashboardConstants.Zero,f=o>v-t.DashboardConstants.One?Math.floor(o/v):t.DashboardConstants.Zero,c=f>y-t.DashboardConstants.One?Math.floor(f/y):t.DashboardConstants.Zero,h=f>k-t.DashboardConstants.One?Math.floor(f/k):t.DashboardConstants.Zero,w=h>p-t.DashboardConstants.One?Math.floor(h/p):t.DashboardConstants.Zero;f=f>y-t.DashboardConstants.One?Math.floor(f%y):f;c=c>b-t.DashboardConstants.One?Math.floor(c%b):c;h=h>p-t.DashboardConstants.One?Math.floor(h%p):h;l=w!==t.DashboardConstants.Zero?w:h!==t.DashboardConstants.Zero?h:c!==t.DashboardConstants.Zero?c:f!==t.DashboardConstants.Zero?f:o!==t.DashboardConstants.Zero?o:u!==t.DashboardConstants.Zero?u:t.DashboardConstants.Zero;e=w!==t.DashboardConstants.Zero?this.locale.utils.Years:h!==t.DashboardConstants.Zero?this.locale.utils.Months:c!==t.DashboardConstants.Zero?this.locale.utils.Weeks:f!==t.DashboardConstants.Zero?this.locale.utils.Days:o!==t.DashboardConstants.Zero?this.locale.utils.Hours:u!==t.DashboardConstants.Zero?this.locale.utils.Minutes:this.locale.utils.Minutes;i.indexOf(t.DashboardConstants.TimeSpanMinutes)!==t.DashboardConstants.IndexLowerBound?(u=u>a-t.DashboardConstants.One?Math.floor(u%a):u,r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanHours)!==t.DashboardConstants.IndexLowerBound?(o=o>v-t.DashboardConstants.One?Math.floor(o%v):o,r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i.indexOf(t.DashboardConstants.TimeSpanDays)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Days,s=r.replace("*",f.toString())):i.indexOf(t.DashboardConstants.TimeSpanWeeks)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Weeks,s=r.replace("*",c.toString())):i.indexOf(t.DashboardConstants.TimeSpanMonths)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Months,s=r.replace("*",h.toString())):i.indexOf(t.DashboardConstants.TimeSpanYears)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Years,s=r.replace("*",w.toString())):i.indexOf(t.DashboardConstants.TimeSpanInMinutes)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanInHours)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i===t.DashboardConstants.TimeSpan&&(s=e===this.locale.utils.Years?e.replace("*",l.toString()):e===this.locale.utils.Months?e.replace("*",l.toString()):e===this.locale.utils.Weeks?e.replace("*",l.toString()):e===this.locale.utils.Days?e.replace("*",l.toString()):e===this.locale.utils.Hours?e.replace("*",l.toString()):e.replace("*",l.toString()))}return s},_updateTimeSpanParameter:function(n,i){var l=!0,e=null,a=null,o=this.currentTabContentElement.find(".e-dbrd-param-column"),y=!1,u,p,k,d,c,v,r;if(!t.isNullOrUndefined(n))for(u=0;u<n.length;u++){e=n[u].Value;p=new Date;Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)?Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)&&e!=="0"&&(this.updatedTime[this.reportName]=e,y=!0):(this.updatedTime[this.reportName]=e,y=!0);y&&(k=(new Date(p)-new Date(this.updatedTime[this.reportName]))/1e3,d=k/60,parseInt(d)!==t.DashboardConstants.Zero&&(this.updatedTime[this.reportName]=p));n[u].Value=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;e=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;var h=n[u].ColumnKey,g=h.indexOf(":"),nt=h.lastIndexOf("}}"),w=n[u].TimespanType;for(h=h.substring(g+t.DashboardConstants.One,nt),c=o.length-t.DashboardConstants.One;c>=t.DashboardConstants.Zero;c--){var f=o.eq(c),b=f.attr("data-param"),s=f.parents(".e-dbrd-control-container").attr("data-widget-id");if(i!==t.DashboardConstants.Zero&&this.currentSlaveInfo.length===t.DashboardConstants.Zero&&(Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName+t.DashboardConstants.UpdateTimerList+s)||(this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+s]=this.updatedTime[this.reportName])),this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(s))for(v=0;v<this.currentSlaveInfo.length;v++)if(s===this.currentSlaveInfo[v]){this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+s]=this.updatedTime[this.reportName];l=!0;break}else l=!1;else t.isNullOrUndefined(s)&&(l=!0);if(l){switch(!0){case b===n[u].ColumnKey&&b.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a);break;case"{{:"+w+"("+h+")}}"===b:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a)}o.splice(c,t.DashboardConstants.Zero)}}}r=this;this.updateTimer!==null&&clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){var s,u,e;for(r.hiddenTabUpdateTime={},o=r.element.find(".e-dbrd-param-column"),s=Object.keys(r.updatedTime),u=o.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--){var f=o.eq(u),c=f.attr("data-min"),h=null,i=f.parents(".e-dbrd-control-container").attr("data-widget-id"),l=new Date;if(!t.isNullOrUndefined(c))if(Object.prototype.hasOwnProperty.call(r.updatedTime,r.reportName+t.DashboardConstants.UpdateTimerList+i)){var a=new Date(l)-new Date(r.updatedTime[r.reportName+t.DashboardConstants.UpdateTimerList+i]),v=a/1e3,y=v/60;h=parseInt(y);f.attr({"data-min":h.toString()})}else e=r._getDashboardNameFromUpdateTimerKeys(s,i),r.hiddenTabUpdateTime[e+t.DashboardConstants.UpdateTimerList+i]=r.updatedTime[e+t.DashboardConstants.UpdateTimerList+i]}r.currentSlaveInfo=[];r._updateTimeSpanParameter(n,t.DashboardConstants.Zero)},6e4)},_updateHiddenTabRefreshTimeOnSwitch:function(){for(var r=this.currentTabContentElement.find(".e-dbrd-param-column"),n=r.length-t.DashboardConstants.One;n>=t.DashboardConstants.Zero;n--){var i=r.eq(n),e=i.attr("data-min"),u=null,f=i.parents(".e-dbrd-control-container").attr("data-widget-id"),o=new Date;if(!t.isNullOrUndefined(e)&&Object.prototype.hasOwnProperty.call(this.hiddenTabUpdateTime,this.reportName+t.DashboardConstants.UpdateTimerList+f)){var s=new Date(o)-new Date(this.hiddenTabUpdateTime[this.reportName+t.DashboardConstants.UpdateTimerList+f]),h=s/1e3,c=h/60;u=parseInt(c);i.attr({"data-min":u.toString()})}}},_getDashboardNameFromUpdateTimerKeys:function(n,i){for(var r=0;r<n.length;r++)if(n[r].indexOf(i)!==t.DashboardConstants.IndexLowerBound)return n[r].split(t.DashboardConstants.UpdateTimerList)[0];return null},_updateLabelControlSettings:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),n=0,i,u;if(r.length!==t.DashboardConstants.Zero)for(n=0;n<r.length;n++)i=r.eq(n).find(".e-dbrd-control"),i.css({display:"table-cell"}),u=i.data("ejScroller"),u&&u.refresh(),i.css({display:"table"})},_addFilterDataToTitle:function(i){var e;if(!t.isNullOrUndefined(i)){if(i.InteractionData){this.appliedFilterData=i.InteractionData;var r=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),u=this.currentTabContentElement.find(".e-dbrd-overview-banner"),o=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),f=this.currentTabContentElement.find(".e-banner-verticalsplitline");if(this.enableFilterOverview())switch(!0){case i.InteractionData.length===t.DashboardConstants.Zero:r.hide();u.hide();f.hide();r.find(".e-dynamic-title").html("");break;case i.InteractionData.length===t.DashboardConstants.One&&n(window).width()>t.DashboardConstants.MobileWidth:r.show();f.show();break;case i.InteractionData.length>=t.DashboardConstants.One&&n(window).width()<t.DashboardConstants.MobileWidth:u.append(r);u.show();r.show();o.css({height:n("#dashboard").height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-u.height()});break;default:r.show();f.show()}else r.css("display")==="block"&&(r.hide(),u.hide(),f.hide(),this.currentTabContentElement.find(".e-dynamic-title").html(""))}else this.currentTabContentElement.find(".e-dynamic-title-moreFilter").hide();e=this.currentTabContentElement.find(".e-dbrd-banner-title");this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="block"&&n(window).width()>t.DashboardConstants.MobileWidth?e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()}):this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="none"&&n(window).width()>t.DashboardConstants.MobileWidth&&e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()});this.filterDataLength.length===t.DashboardConstants.Zero&&this.appliedFilterData.length!==t.DashboardConstants.Zero&&(this.filterDataLength=this.appliedFilterData);this._trigger("onFilterOverviewUpdated",{currentFilterData:this.appliedFilterData})}},_callFunction:function(n,i,r,u){var f=this;this.timers.push(setTimeout(function(e){if(u&&t.isNullOrUndefined(e)){var o=t.browserInfo();o.name==="msie"&&o.version==="9.0"&&(e=i)}u&&f._trigger("beforeWidgetRender",{data:e,tabId:f.dashboardName});e?t.isNullOrUndefined(r)?n.call(f,e):n.call(f,e,r):n.call(f);u&&f._trigger("afterWidgetRender",{data:e,tabId:f.dashboardName});t.isNullOrUndefined(e)||t.isNullOrUndefined(e.reportName)||f._setLoadedAttr(e.reportName)},4,i))},_isJsonString:function(n){try{JSON.parse(n)}catch(t){return!1}return!0},_fetchCultureFiles:function(n){for(var r,i=0;i<n.length;i++)r=n[i],t.cultures.hasOwnProperty(r)||this._getCultureScriptFile(r)},_getCultureScriptFile:function(t){var i=this;n.ajax({url:this.serviceUrl()+"/GetCultureScript",data:{culture:t},dataType:"script",cache:!0,error:function(){i._errorMsgPopup(i.locale.utils.CultureFileDownloadError+t,!0)}})},_errorMsgPopup:function(i,r){var l,o;if(!t.isNullOrUndefined(i))if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorMsgPopupForMobile(i,r);else{this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"}));var u=null,s=null,f=i;if(f.match(":")){var h=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),a=this.errorHyperLink.replace("#errorCode","#"+h.toLowerCase()),c="<a href = "+a+" target= _blank>"+h+"<\/a>";(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(c+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(c+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification")))}else(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification")));this.currentTabContentElement.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);t.isNullOrUndefined(u)||u.css({left:-(u.width()/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.currentTabContentElement.width()/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.multiTabs?(l=this.element.find("li").height()+5,n("#"+this._id+"_errorShown").css({top:l})):this.currentTabContentElement.css({position:"relative"});t.isNullOrUndefined(u)||(s=u.html());o={errorDialog:s};this._trigger("beforePassiveErrorRender",o);t.isNullOrUndefined(u)||u.html(o.errorDialog)}return null},_errorMsgPopupForMobile:function(i,r){var f=i,p=":",u=null,o=null,e=null,a=null,s=null,v=null,h=null,c,w,b,k,y,d,nt,tt;if(this.currentTabContentElement.find(".e-dbrd-banner").length!==t.DashboardConstants.Zero)this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"})),f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),a=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),s="<a href = "+a+" target= _blank>"+o+"<\/a>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(s+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"}))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(s+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))):(c=null,(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),c=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(c).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),c=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(c).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))),this.currentTabContentElement.append(u),w=this.currentTabContentElement.find(".e-error-notification"),w.css({"padding-right":"0px"}),b=this.currentTabContentElement.find(".e-error-msg-popup-mobile"),b.css({"padding-right":"30px"}),k=this.currentTabContentElement.find(".e-close-notification-mobile"),k.append(n("<div>").addClass("e-close-icon")),this.model.enableCustomTheming&&this._customTheme(["passiveError"]),t.isNullOrUndefined(u)||(v=u.html()),h={errorDialog:v},this._trigger("beforePassiveErrorRender",h),t.isNullOrUndefined(u)||u.html(h.errorDialog),this.element.find(".e-error-notification-mobile")&&(this.multiTabs?(y=this.currentTabContentElement.find(".e-dbrd-multitab-banner"),y.css({"margin-top":"70px"}),d=this.element.find(".e-dbrd-tab-res-icon-container"),d.css({"margin-top":"70px"})):(y=this.currentTabContentElement.find(".e-dbrd-banner"),y.css({"margin-top":"70px"})));else{this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.multiTabs||this.currentTabContentElement.css({position:"relative"}));u=n("<div>").addClass("e-errorDiv-mobile").css({width:"100%",height:"100%"});var g=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile"),l=null;f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),a=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),s="<a href = "+a+" target= _blank>"+o+"<\/a>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+s+":"+e+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+s+":"+e+"<\/div>"):(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+'">'+f+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):l='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+')">'+f+"<\/div>";nt='<button class = "reload-button-mobile">RELOAD<\/button>';tt='<div class = "e-error-icon"><\/div>'+l+nt;g.append(tt);u.append(g);this.currentTabContentElement.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this._calculateErrorDialogSize();t.isNullOrUndefined(u)||(v=u.html());h={errorDialog:v};this._trigger("beforePassiveErrorRender",h);t.isNullOrUndefined(u)||u.html(h.errorDialog)}},_closeNotification:function(t){var i,r;n(t.currentTarget).parents(".e-error-notification").remove();this.currentTabContentElement.css({position:""});i=this.currentTabContentElement.find(".e-dbrd-banner");i.css({"margin-top":"0px"});r=this.element.find(".e-dbrd-tab-res-icon-container");r.css({"margin-top":"0px"})},_closeMaximize:function(i){var r,u,c,e,o;if(this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length>t.DashboardConstants.Zero){r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").find(".e-dbrd-MaximizedControl").attr("data-controlid");this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._closeCommentDialog(i);var s=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=s,h=s.split("_Maximize")[0],l=h.substr(t.DashboardConstants.Zero,h.indexOf("_"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth&&this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth&&this.currentTabContentElement.css({"overflow-x":"auto"});switch(l){case"Chart":case"ProportionChart":u=new Dbrdcontrol;this.dashboardControls.getControlByReport(f)&&(u=u.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f)))));u.isExportFromMaximizedView=!1;this._updateValuesInDrillLevelInfo(u,f,[],!0);this._updateValuesInDrillLevelData(u,f,[],!0);this.dashboardControls.updateCurrentReport(u)}t.isNullOrUndefined(i)?(this.currentTabContentElement.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),this.currentTabContentElement.find(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),this.currentTabContentElement.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(o=this.currentTabContentElement.find(".e-dbrd-inactive"),t.widget.destroyAll(o.find(".e-js")),o.remove())):((n(i.target).hasClass("e-dbrd-max-wrapper")||n(i.target).hasClass("e-dbrd-inactive"))&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),c=n(i.target),c.parents(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),e=n(i.target).parents(".e-dbrd-inactive"),t.widget.destroyAll(e.find(".e-js")),e.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).find(".e-pivotgrid").find("#dashboard_maximized_divclientDialog_wrapper").length>t.DashboardConstants.Zero&&(n("body").find("#preventDiv").remove(),n(".e-pivotgrid").data("ejWaitingPopup")&&n(".e-pivotgrid").data("ejWaitingPopup").hide(),n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()));n("head").find("#dashboard_maximized_style")&&n("head").find("#dashboard_maximized_style").remove()}},_checkMasterData:function(n){for(var t=0;t<this.masterData.length;t++)if(this.masterData[t].Key===n)return t;return null},_checkIfWidgetHasMaster:function(n,i){var e=t.isNullOrUndefined(i)?!1:i,s=this.currentTabContentElement.find(".e-dbrd-control-container[id="+n+"]"),o=[],r,u,f;if(this.controlRelations.length!==t.DashboardConstants.Zero&&!t.isNullOrUndefined(n)&&n!=="")for(r=t.DashboardConstants.Zero;r<this.controlRelations.length;r++)if(this.controlRelations[r].Slaves.length>t.DashboardConstants.Zero)for(u=t.DashboardConstants.Zero;u<this.controlRelations[r].Slaves.length;u++)if(f=s.find("#"+this.controlRelations[r].Slaves[u]).attr("id"),!t.isNullOrUndefined(f)&&this.controlRelations[r].Slaves[u]===f)if(e)o.push(this.controlRelations[r].Master);else return!0;return e?o:!1},_checkIfWidgetHasMasterFilterApplied:function(n){var i=this._checkIfWidgetHasMaster(n,!0),f=this.dashboardControls.getAllControlsMasterData(),r,e,o,u;if(!t.isNullOrUndefined(i)&&i.length!==t.DashboardConstants.Zero&&f.length!==t.DashboardConstants.Zero)for(r=t.DashboardConstants.Zero;r<i.length;r++)for(e=this.currentTabContentElement.find("#"+i[r]),o=e.parents(".e-dbrd-control-container").attr("data-widget-id"),u=t.DashboardConstants.Zero;u<f.length;u++)if(o===f[u].ReportName)return!0;return!1},_checkFilterInfoByReportName:function(n,t){for(var i=0;i<t.length;i++)if(t[i].ReportName.toUpperCase()===n.toUpperCase())return i;return null},_getOptimumFontSize:function(n){var i=t.DashboardConstants.One,r={};if(n.adjustFont==="both")for(i=1;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width||r.height>n.height){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return Math.min(n.height*i,50);else{if(n.adjustFont==="height")return i=.8,n.height*i;if(n.adjustFont==="width")for(i=.9;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return n.height*i;else return n.height*.9}},_checkSlavesFilterData:function(n,i,r){for(var f=[],u=0;u<i.length;u++)if(r.indexOf(i[u].Key)!==t.DashboardConstants.IndexLowerBound)return r.indexOf("CheckBox")===t.DashboardConstants.IndexLowerBound?i[u].Value:(f.push({Value:i[u].Value,Filter:i[u].Filter}),f);return null},_measureText:function(i,r,u){var s=n(document).find("#dashboardMeasureText"),f={},h={},c="",o="",l="",e;return s.length===t.DashboardConstants.Zero?(f=document.createElement("text"),n(f).attr({id:"dashboardMeasureText"}),document.body.appendChild(f)):f=s[0],f.innerHTML=i,t.isNullOrUndefined(u)||t.isNullOrUndefined(u.size)||(e=u,e=e.split(" "),c=e[0],o=e[1],l=e[2]),t.isNullOrUndefined(u)||(f.style.fontSize=u.size>t.DashboardConstants.Zero?u.size+"px":u.size?u.size:o.indexOf("px")===t.DashboardConstants.IndexLowerBound||o.indexOf("%")===t.DashboardConstants.IndexLowerBound?o+"px":o,f.style.fontStyle=u.fontStyle?u.fontStyle:c,f.style.fontFamily=u.fontFamily?u.fontFamily:l),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",r&&(f.style.maxwidth=r+"px"),h={width:f.offsetWidth,height:f.offsetHeight},t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?f.parentNode.removeChild(f):f.remove(),h},_setLoadedAttr:function(i){var r=n("[data-widget-id="+i+"]");t.isNullOrUndefined(r)||(n(r).attr("isLoaded",!0),n(r).find(".e-dbrd-controlWaiting").remove())}});t.isNullOrUndefined(t.dashboardViewer.common)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.common);t.isNullOrUndefined(t.dashboardViewer.layoutEngine)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.layoutEngine);t.isNullOrUndefined(t.dashboardViewer.layoutEngine.render)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.layoutEngine.render);t.isNullOrUndefined(t.dashboardViewer.keyboardNavigation)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.keyboardNavigation);t.isNullOrUndefined(t.dashboardViewer.sdk)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.sdk);t.isNullOrUndefined(t.dashboardViewer.maps)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.maps);t.isNullOrUndefined(t.dashboardViewer.grid)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.grid);t.isNullOrUndefined(t.dashboardViewer.charts)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.charts);t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.filters);t.isNullOrUndefined(t.dashboardViewer.gauges)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.gauges);t.isNullOrUndefined(t.dashboardViewer.exportView)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.exportView);t.isNullOrUndefined(t.dashboardViewer.misc)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.misc);t.isNullOrUndefined(t.dashboardViewer.widgetscore)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.widgetscore);t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.dropdownlist);t.isNullOrUndefined(t.dashboardViewer.rangeNavigator)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.rangeNavigator);t.isNullOrUndefined(t.dashboardViewer.treemap)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.treemap);t.isNullOrUndefined(t.dashboardViewer.card)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.card);t.isNullOrUndefined(t.dashboardViewer.pivotGrid)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.pivotGrid);t.isNullOrUndefined(t.dashboardViewer.multiTabs)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.multiTabs);t.isNullOrUndefined(t.dashboardViewer.widgets)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.widgets);t.isNullOrUndefined(t.dashboardViewer.history)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.history);t.isNullOrUndefined(t.dashboardViewer.dashboardParameters)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.dashboardParameters);t.isNullOrUndefined(t.dashboardViewer.scroller)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.scroller);t.isNullOrUndefined(t.dashboardViewer.tooltips)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.tooltips);t.isNullOrUndefined(t.dashboardViewer.dataRefresh)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.dataRefresh);t.isNullOrUndefined(t.dashboardViewer.linking)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.linking);t.isNullOrUndefined(t.dashboardViewer.maximize)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.maximize);t.isNullOrUndefined(t.dashboardViewer.errordialogs)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.errordialogs);t.isNullOrUndefined(t.dashboardViewer.waitingIndicator)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.waitingIndicator);t.isNullOrUndefined(t.dashboardViewer.filteroverview)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.filteroverview);t.isNullOrUndefined(t.dashboardViewer.server)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.server);t.isNullOrUndefined(t.dashboardViewer.menu)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.menu);t.isNullOrUndefined(t.dashboardViewer.customTheme)||n.extend(t.DashboardViewer.prototype,t.dashboardViewer.customTheme);String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i};t.dashboardViewer.Layout={Grid:"DesktopGridCanvas",FreeForm:"DesktopFreeForm"};t.dashboardViewer.FreeFormSize={Large:"Large",Small:"Small"};t.DashboardConstants={All:"All",SelectAll:"(Select All)",MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:768,Resolution:96,Window:window,Widget:"_Widget_",TimeSpanInMinutes:"TimeSpanInMinutes",TimeSpanInHours:"TimeSpanInHours",AutoRefreshMinTimer:30,AutoRefreshList:"_ARL_",Thousand:1e3,UpdateTimerList:"_UPL_",CacheStoreList:"_CSL_"};t.dashboardViewer.navigationTargets={Self:"_self",Blank:"_blank",Parent:"_parent",Top:"_top"};t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget"};t.dashboardViewer.event={maximizeDialogOpen:"maximizeDialogOpen",maximizeDialogClose:"maximizeDialogClose",exportDialogOpen:"exportDialogOpen",exportDialogClose:"exportDialogClose",drillDown:"drillDown",ajaxRequest:"ajaxRequest",ajaxRequestCompleted:"ajaxRequestCompleted",ajaxRequestFailure:"ajaxRequestFailure",exporting:"exporting",exportCompleted:"exportCompleted",filterOverViewOpen:"filterOverViewOpen",filterOverViewClose:"filterOverViewClose",commentDialogOpen:"commentDialogOpen",commentDialogClose:"commentDialogClose",markFavorite:"markFavorite",removeFavorite:"removeFavorite",tabActive:"tabActive",renderComplete:"renderComplete",layoutRendered:"layoutRendered",beforeWidgetRender:"beforeWidgetRender",afterWidgetRender:"afterWidgetRender",beforeWidgetRefresh:"beforeWidgetRefresh",afterWidgetRefresh:"afterWidgetRefresh",beforeLayoutRender:"beforeLayoutRender",filterPanelOpen:"filterPanelOpen",filterPanelClose:"filterPanelClose",filterPanelResize:"filterPanelResize",tabSelect:"tabSelect",contextMenuOpen:"contextMenuOpen",contextMenuClose:"contextMenuClose",clearFilter:"clearFilter",clearAllFilter:"clearAllFilter",clearIndividualFilter:"clearIndividualFilter",onMasterFilterApplied:"onMasterFilterApplied",onFilterOverviewUpdated:"onFilterOverviewUpdated",onApplyConnection:"onApplyConnection",onSaveFilter:"onSaveFilter",onSaveAsFilter:"onSaveAsFilter",onMenuItemClick:"onMenuItemClick",onMenuIconClick:"onMenuIconClick",descriptionPopupOpen:"descriptionPopupOpen",informationOpen:"informationOpen",informationClose:"informationClose",resize:"resize",resizeComplete:"resizeComplete",onDashboardMenuPopupClose:"onDashboardMenuPopupClose",onControlMenuPopupClose:"onControlMenuPopupClose",refresh:"refresh",refreshComplete:"refreshComplete",beforeNavigate:"beforeNavigate",afterNavigate:"afterNavigate",onHistoryPopstateChange:"onHistoryPopstateChange",getLinkDialogOpen:"getLinkDialogOpen",getLinkDialogClose:"getLinkDialogClose",openDashboardParameterPopUp:"openDashboardParameterPopUp",cancelDashboardParameterDialog:"cancelDashboardParameterDialog",applyDashboardParameterValue:"applyDashboardParameterValue"};t.dashboardViewer.ActionType={Click:"Click",DBClick:"DBClick",ContextMenu:"ContextMenu"};t.dashboardViewer.Action={Filtered:"Filtering",Linking:"Linking",DrillDown:"DrillDown"};t.dashboardViewer.refreshTimer={mode:{hourly:"Hourly",daily:"Daily",monthly:"Monthly",weekly:"Weekly",yearly:"Yearly"}}}(jQuery,Syncfusion);light={targetLineColor:"#000000",axisLineColor:"#bdbdbd",axisFontSize:"10",axisTitleFontSize:"10",legendFontSize:"12",legendfontcolor:"#636363",primaryXAxisfontcolor:"#636363",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxisfontcolor:"#636363",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#191919",minorTickSettingsstroke:"#191919",majorTickStrokeThickness:2,minorTickStrokeThickness:2,majorTickStrokeLabelcolor:"#ADADAD",minorTickStrokeLabelcolor:"#ADADAD",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#636363",labelscolor:"#444444",tickscolor:"#E1E1E1",pointerCapbackgroundColor:"#424242",pointerCapborderColor:"#424242",customLabelcolor:"#444444",pointersbackgroundColor1:"#424242",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#dfdfdf",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#626262",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#d6d6d6",navigatorUnSelectedRegionColor:"#ededed",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#EEEDED",navigatorBorderColor:"#D2D2D2",majorGridLineColor:"#EEEDED",minorGridLineColor:"#CDCECE",seriesFill:"#73CBE7"}]};dark={legendfontcolor:"#C1C1C1",primaryXAxisfontcolor:"#C1C1C1",primaryXAxismajorGridLines:"#606060",primaryYAxisfontcolor:"#C1C1C1",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#ADADAD",minorTickSettingsstroke:"#ADADAD",majorTickStrokeThickness:2,minorTickStrokeThickness:2,palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#C1C1C1",labelscolor:"#C1C1C1",tickscolor:"#606060",pointerCapbackgroundColor:"#A6A8AB",pointerCapborderColor:"#A6A8AB",customLabelcolor:"#C1C1C1",pointersbackgroundColor1:"#A6A8AB",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#606060",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#393939",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#585858",navigatorUnSelectedRegionColor:"#484848",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#484848",navigatorBorderColor:"#646464",majorGridLineColor:"B2B2B2",minorGridLineColor:"#555555",seriesFill:"#0BBCF4"}]};
