/*!
*  filename: ej.dashboarddesigner.min.js
*  version : 
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var InternalBrowseDialog=function(){function n(){this.id=null;this.category=[];this.selectedFile=null;this.targetInstance=null;this.targetMethod=null;this.targetType=null;this.browseDialog=null;this.filePath=null;this.fileContainer=null;this.backNodeReference=[];this.forwardNodeReference=[];this.footerTag=null;this.nameWaterMark="Dashboard Name";this.outerContainer=null;this.ejBrowseScroller=null;this.ejBrowseWaitingPopup=null;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.renderBrowseDialog()}return Object.defineProperty(n,"BrowseDialog",{get:function(){return(this.fileBrowse===null||this.fileBrowse===undefined)&&(this.fileBrowse=new ej.DashboardDesignerUtility.BrowseDialog),this.fileBrowse},enumerable:!0,configurable:!0}),n.prototype.renderBrowseDialog=function(){var i=this.browseDialog=ej.buildTag("div.e-userselect","",{},{id:this.id+"_browse_dialog"}),o=ej.buildTag("div","",{}),n=ej.buildTag("div","",{display:"table-row"},{id:this.id+"_browse_file_area"}),s=ej.buildTag("table","",{"margin-left":"10px","border-spacing":"0px"},{unselectable:"on"}),h=ej.buildTag("tr","",{height:"30px"}),c=ej.buildTag("td","",{width:"30px",height:"30px"}),l=ej.buildTag("span","",{"margin-top":"4px"},{"class":"e-reportdesigner-toolbarIconBasic e-toolbarfonticonbasic e-reportdesigner-browse-backward",id:this.id+"_browse_back_icon"}),r,u,f,e;c.append(l);l.bind("click",$.proxy(this.backOperation,this));r=ej.buildTag("td","",{width:"30px",height:"30px"});u=ej.buildTag("span","",{"margin-top":"4px"},{"class":"e-reportdesigner-toolbarIconBasic e-toolbarfonticonbasic e-reportdesigner-browse-forward",id:this.id+"_browse_forward_icon"});r.append(u);u.bind("click",$.proxy(this.forwardOperation,this));f=ej.buildTag("td","",{width:"30px",height:"30px"});e=ej.buildTag("div","",{display:"block","margin-left":"-5px",cursor:"default","margin-top":"4px"},{"class":"e-reportdesigner-toolbarIconBasic e-toolbarfonticonbasic e-reportdesigner-browse-reload",id:this.id+"_browse_reload_icon"});f.append(e);e.bind("click",$.proxy(this.reloadCategory,this));var a=ej.buildTag("td","",{width:"300px"}),v=ej.buildTag("div.e-designer-border","",{border:"0.5px solid #cbcbcb",height:"25px",width:"652px","background-color":"white","margin-left":"-12px","margin-top":"1px",display:"inline-flex"},{}),y=ej.buildTag("div","",{"padding-right":"5px","padding-left":"7px","padding-top":"3px"},{id:this.id+"_folder_icon_div"}),p=ej.buildTag("span.e-headericon e-reportdesigner-dataset-openfolder","",{"font-size":"14px"},{id:this.id+"_folderIcon"}),et=this.filePath=ej.buildTag("input.e-reportdesigner-browse-path","",{height:"20px",width:"618px"},{type:"text",id:this.id+"_browse_file_path",disabled:!0});y.append(p);v.append(y).append(et);p.attr("disabled","true").css("opacity","0.3");a.append(v);h.append(c).append(r).append(f).append(a);var t=this.outerContainer=ej.buildTag("div.e-reportdesigner-scroller","",{"border-top":"0.5px solid #cbcbcb","padding-left":"10px",height:"355px","background-color":"white",width:"750px","margin-top":"0.5px"},{id:this.id+"_browse_outer_div"}),w=ej.buildTag("div.e-designer-emptyfile","",{display:"none",width:"100%",height:"100%","margin-left":"-10px"},{id:this.id+"_browse_fileEmpty_msg"}),ot=ej.buildTag("div.e-designer-empty-folder","This category is empty",{display:"table-cell",width:"100%",height:"100%"}),b=ej.buildTag("div.e-file-area","",{}),st=this.fileContainer=ej.buildTag("div","",{height:"355px",width:"750px"},{id:this.id+"_browse_file_container"});b.append(st);w.append(ot);t.append(b).append(w);var k=ej.buildTag("table","",{"border-spacing":"0px"},{}),d=ej.buildTag("tr","",{},{}),g=ej.buildTag("td","",{width:"555px"},{}),nt=ej.buildTag("td","",{},{}),tt=ej.buildTag("td","",{},{}),it=ej.buildTag("div","",{width:"100%",display:"none"},{id:this.id+"_div_browse_save"}),ht=ej.buildTag("div.e-designer-fontfamily","Name",{"font-size":"13px",overflow:"hidden",float:"left",padding:"6px 7px 6px 0px","white-space":"nowrap","text-overflow":"ellipsis"}),rt=ej.buildTag("input.e-textbox e-designer-txt","",{height:"25px",width:"490px","margin-top":"1px","margin-left":"4px"},{id:this.id+"_browse_save",type:"text"}),ut=ej.buildTag("button","Cancel",{float:"right","margin-left":"12px"},{id:this.id+"_browse_btn_cancel"}),ft=ej.buildTag("button","Open",{float:"right","margin-left":"5px"},{id:this.id+"_browse_btn_import"});it.append(ht).append(rt);g.append(it);nt.append(ft);tt.append(ut);d.append(g).append(nt).append(tt);k.append(d);s.append(h);n.append(s).append(t);o.append(n);i.append(o);$(document.body).append(i);i.ejDialog({minWidth:760,minHeight:250,height:"auto",width:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog e-flat-mode",beforeClose:$.proxy(this.hideWaitingPopup,this)});this.footerTag=$("#"+this.id+"_browse_dialog_foot");this.footerTag.append(k);ut.ejButton({cssClass:"e-designer-cancelbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeDialog,this)});ft.ejButton({cssClass:"e-designer-okbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.updateFileInfo,this)});n.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});t.ejScroller({height:"355px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejBrowseScroller=t.data("ejScroller");this.ejBrowseWaitingPopup=n.data("ejWaitingPopup");ej.DashboardUtil.txtWaterMark(rt,this.nameWaterMark)},n.prototype.reloadCategory=function(){this.resetBrowseDialog(!0);this.loadCategory()},n.prototype.iconDisable=function(n,t){t?n.attr("disabled","true").css("opacity","0.3"):n.removeAttr("disabled").css("opacity","1")},n.prototype.backOperation=function(){var n,t,i;$("#"+this.id+"_browse_back_icon").attr("disabled")!=="disabled"&&(this.fileContainer.empty(),n=null,this.backNodeReference.length>0&&(t=this.backNodeReference.pop(),n=this.nodeSearch(t.ParentId,this.category,ej.isNullOrUndefined(t.ParentId)&&!ej.isNullOrUndefined(t.Name)?!0:!1),n.Files.length>0?(this.showReportFile(!0),this.nodeCreation(n.Files,n.Id),this.browseType!==BrowseType.Open||ej.isNullOrUndefined(n.Type)||n.Type!==1||$("#"+this.id+"_browse_btn_import").css("opacity",".5").data("ejButton").disable(),this.ejBrowseScroller!==null&&this.ejBrowseScroller.refresh()):this.showReportFile(!1),i=this.filePath.val().split("/"),i[i.length-1]===t.Name&&$("#"+this.id+"_file_"+t.Id).addClass("e-reportdesigner-report-selection"),this.forwardNodeReference.push(t),i.pop(),this.filePath.val(i.join("/")),this.backNodeReference.length===0&&(this.iconDisable($("#"+this.id+"_browse_back_icon"),!0),this.filePath.val("/")),this.iconDisable($("#"+this.id+"_browse_forward_icon"),!1)))},n.prototype.nodeSearch=function(n,t,i){for(var r,e,u={Files:[],Id:null,Type:null},f=0;f<t.length;f++){if(r=t[f],ej.isNullOrUndefined(n)&&i)return u.Files=this.category,u.Type=r.Type,u;if(n===r.Id)return u.Files=r.Files,u.Id=r.Id,u.Type=r.Type,u;if(r.Files.length>0)if(e=this.nodeSearch(n,r.Files),e===null)continue;else return e}return null},n.prototype.forwardOperation=function(){var i,n,t,r;$("#"+this.id+"_browse_forward_icon").attr("disabled")!=="disabled"&&(this.fileContainer.empty(),i=null,n=null,this.forwardNodeReference.length>0&&(t=this.forwardNodeReference.pop(),n=this.nodeSearch(t.Id,this.category),n.Files.length>0?(this.showReportFile(!0),this.nodeCreation(n.Files,n.Id),this.browseType!==BrowseType.Open||ej.isNullOrUndefined(n.Type)||n.Type!==1||$("#"+this.id+"_browse_btn_import").css("opacity",".5").data("ejButton").disable(),this.ejBrowseScroller!==null&&this.ejBrowseScroller.refresh()):this.showReportFile(!1),r=this.filePath.val(),this.filePath.val((r==="/"?"":r)+"/"+t.Name),this.forwardNodeReference.length>0&&(i=this.forwardNodeReference[this.forwardNodeReference.length-1].Id),$("#"+this.id+"_file_"+i).addClass("e-reportdesigner-report-selection"),this.backNodeReference.push(t),this.iconDisable($("#"+this.id+"_browse_back_icon"),!1),this.forwardNodeReference.length===0&&this.iconDisable($("#"+this.id+"_browse_forward_icon"),!0)))},n.prototype.fileSelection=function(n,t,i){var r,u;this.forwardNodeReference=[];!ej.isNullOrUndefined(n)&&ej.isNullOrUndefined(n.isEmpty)?n.Type===2&&this.browseType===BrowseType.Open?(this.selectedFile=n,this.updateFileInfo(i)):n.Type===2&&this.browseType===BrowseType.Save?($("#"+this.id+"_browse_save").val(n.Name),this.updateWaterMark()):(this.iconDisable($("#"+this.id+"_browse_back_icon"),!1),this.iconDisable($("#"+this.id+"_browse_forward_icon"),!0),r=this.filePath.val(),this.filePath.val((r==="/"?"":r)+"/"+n.Name),this.fileContainer.empty(),this.showReportFile(!0),n.Files&&n.Files.length>0&&this.nodeCreation(n.Files,n.Id),u={Id:n.Id,Name:n.Name,ParentId:t,Type:n.Type},this.backNodeReference.push(u),this.ejBrowseScroller!==null&&this.ejBrowseScroller.refresh()):(this.iconDisable($("#"+this.id+"_browse_back_icon"),!1),this.iconDisable($("#"+this.id+"_browse_forward_icon"),!0),r=this.filePath.val(),this.filePath.val((r==="/"?"":r)+"/"+n.files.Name),this.fileContainer.empty(),this.showReportFile(!1),u={Id:n.files.Id,Name:n.files.Name,ParentId:n.files.parentId,Type:n.files.Type},this.backNodeReference.push(u))},n.prototype.showReportFile=function(n){n?(this.outerContainer.find(".e-file-area").css("display","block"),this.outerContainer.find(".e-designer-emptyfile").css("display","none")):(this.outerContainer.find(".e-file-area").css("display","none"),this.outerContainer.find(".e-designer-emptyfile").css("display","table"))},n.prototype.nodeCreation=function(n,t){var i,r,f,u;if(!ej.isNullOrUndefined(n))for(i=0;i<n.length;i++)r=ej.buildTag("div.e-reportdesigner-reportbrowse","",{margin:"12px 7.5px 0px 7.5px",padding:"7px",width:"74px",height:"74px","text-align":"center","line-height":"normal","vertical-align":"middle",float:"left",display:"table-cell"},{id:this.id+"_file_"+n[i].Id}),f=ej.buildTag("div.e-designer-tile","",{width:"74px","padding-top":"2px",display:"inline-block","font-size":"50px"},{id:this.id+"_file_icon_"+n[i].Id}),this.getIcon(f,n[i].Type),u=ej.buildTag("span",n[i].Name,{width:"74px","padding-top":"5px",display:"inline-block","text-align":"center","font-size":"11px",height:"20px"},{id:this.id+"_"+n[i].Id}),u.addClass(ej.DashboardUtil.textWidth(n[i].Name,"segoe ui 11px")>96?"e-title-tip e-designer-txt-overflow":""),r.append(f).append(u),this.fileContainer.append(r),r.bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.loadDashboardsInCategory,this,n[i],t)),r.bind("click",$.proxy(this.selectedFiles,this,n[i])),u.hasClass("e-title-tip")&&u.attr("title",n[i].Name)},n.prototype.loadDashboardsInCategory=function(n,t){var i=this;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/getcategories/",{action:ej.DashboardUtil.DesignerAction.categoryCatalog,data:JSON.stringify(n.Name)},{fnction:$.proxy(function(r){r&&r!=="Not Found"&&typeof r!="string"?(n.Files=r,i.fileSelection(n,t,r)):i.fileSelection({isEmpty:!0,files:n},t,r)},this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})},n.prototype.getIcon=function(n,t){var r=0,i,u;for(t===1?(r=4,n.addClass("e-reportdesigner-browse-folder")):t===2&&(r=20,n.addClass("e-reportdesigner-browse-reportfile")),i=0;i<r;i++)u=ej.buildTag("span","",{},{"class":"path"+(i+1).toString()}),n.append(u)},n.prototype.selectedFiles=function(n,t){($("#"+this.id+"_browse_file_container > div").removeClass("e-reportdesigner-report-selection"),$("#"+t.currentTarget.id).addClass("e-reportdesigner-report-selection"),this.browseType!==BrowseType.Save||n.Type===1)&&(this.selectedFile=n,this.browseType===BrowseType.Open&&n.Type!==1||this.browseType===BrowseType.Save?$("#"+this.id+"_browse_btn_import").css("opacity","1").data("ejButton").enable():this.browseType===BrowseType.Open&&n.Type===1&&$("#"+this.id+"_browse_btn_import").css("opacity","0.5").data("ejButton").disable())},n.prototype.updateFileInfo=function(){var n,i,u,t,r;if(!ej.isNullOrUndefined(this.selectedFile)&&!ej.isNullOrUndefined(this.selectedFile.Name))if(this.browseType===BrowseType.Open)this.selectedFile.Name.length>0&&this.selectedFile.Type!==1&&(this.targetInstance!==null?(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.selectedFile,this.filePath.val(),this.targetType]),this.closeDialog()):(this.closeDialog(),ej.DashboardUtil.invokeCallBack(this.callBackfn,{name:this.selectedFile.Name,category:this.filePath.val(),type:BrowseType.Open})));else if(this.browseType===BrowseType.Save&&(n=$("#"+this.id+"_browse_save").val(),n=n===this.nameWaterMark?"":n,n&&n.length>0))if(this.filePath.val()==="/"&&this.selectedFile.Type!==1)ej.DashboardUtil.getInstance().ejAlertDialog("Save As Dashboard","Please Select Category",!1,!0,!0,"");else if(this.selectedFile.Type===1){for(i=this.selectedFile.Files,u=!1,t=0;t<i.length;t++)if(i[t].Type===2&&i[t].Name===n){u=!0;r='An item "'+this.filePath.val()+"/"+n+'.rdl" already exists. Do you want to replace the existing item?';ej.DashboardUtil.getInstance().ejAlertDialog("Save As Report",r,!0,!1,!0,"",{method:"updateSaveFile",instance:this,dataInfo:{selectedFile:this.selectedFile,fileName:n}});break}u||(this.targetInstance!==null?(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.selectedFile,n,!1]),this.closeDialog()):(this.closeDialog(),ej.DashboardUtil.invokeCallBack(this.callBackfn,{category:this.selectedFile.Name,name:n,categoryId:this.selectedFile.Id,isExist:!1,type:BrowseType.Save})))}else this.selectedFile.Type===2&&this.selectedFile.Name===n&&(r='An item "'+this.filePath.val()+"/"+this.selectedFile.Name+'.rdl" already exists. Do you want to replace the existing item?',ej.DashboardUtil.getInstance().ejAlertDialog("Save As Report",r,!0,!1,!0,"",{method:"updateSaveFile",instance:this,dataInfo:{selectedFile:this.selectedFile,fileName:n}}))},n.prototype.updateSaveFile=function(n,t){n&&(this.targetInstance!==null?(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[t.selectedFile,t.fileName,!0]),this.closeDialog()):(this.closeDialog(),ej.DashboardUtil.invokeCallBack(this.callBackfn,{category:t.selectedFile.Name,name:t.fileName,isExist:!0,type:BrowseType.Save})))},n.prototype.openDialog=function(n,t,i){this.resetBrowseDialog(!1);this.callBackfn=t;this.browseDialog.data("ejDialog").open();this.browseType=n;this.browseDialog.data("ejDialog").setModel({title:n===BrowseType.Save?"Save As Dashboard":"Select Dashboard"});this.enableSave(n===BrowseType.Save);!ej.isNullOrUndefined(i)&&i.length>0&&n===BrowseType.Save&&$("#"+this.id+"_browse_save").val(i);this.loadCategory();this.updateWaterMark()},n.prototype.openBrowseDialog=function(n,t,i,r,u){this.resetBrowseDialog(!1);this.targetInstance=n;this.targetMethod=t;this.targetType=r;this.browseDialog.data("ejDialog").open();this.browseType=i;this.browseDialog.data("ejDialog").setModel({title:i===BrowseType.Save?"Save As Dashboard":"Select Dashboard"});this.enableSave(i===BrowseType.Save);!ej.isNullOrUndefined(u)&&u.length>0&&i===BrowseType.Save&&$("#"+this.id+"_browse_save").val(u);this.loadCategory();this.updateWaterMark()},n.prototype.updateWaterMark=function(){$("#"+this.id+"_browse_save").hasClass("e-designer-txtmark")&&$("#"+this.id+"_browse_save").removeClass("e-designer-txtmark")},n.prototype.resetBrowseDialog=function(n){this.category=[];n||(this.targetInstance=null,this.targetMethod=null,this.targetType=null,this.callBackfn=null);this.selectedFile=null;this.backNodeReference=[];this.forwardNodeReference=[];this.fileContainer.empty();this.filePath.val("");this.iconDisable($("#"+this.id+"_browse_forward_icon"),!0);this.iconDisable($("#"+this.id+"_browse_back_icon"),!0);$("#"+this.id+"_browse_save").val("");this.showReportFile(!0)},n.prototype.hideWaitingPopup=function(){$("#"+this.id+"_browse_file_area").data("ejWaitingPopup")&&$("#"+this.id+"_browse_file_area").data("ejWaitingPopup").hide()},n.prototype.closeDialog=function(){this.browseDialog.data("ejDialog").close()},n.prototype.loadCategory=function(){ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/getcategories/",{action:ej.DashboardUtil.DesignerAction.categoryCatalog,data:""},{fnction:$.proxy(this.populateCategory,this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})},n.prototype.populateCategory=function(n){n&&n!=="Not Found"&&typeof n!="string"?(this.category=n,this.nodeCreation(n),this.filePath.val("/"),this.ejBrowseScroller!==null&&this.ejBrowseScroller.refresh(),$("#"+this.id+"_browse_btn_import").css("opacity",".5").data("ejButton").disable()):ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Server",n,!1,!0,!1,"Dashboard Designer failed to retrieve the Resources from the Dashboard Server")},n.prototype.enableSave=function(n){n?($("#"+this.id+"_div_browse_save").css("display","block"),$("#"+this.id+"_browse_btn_import").text("Save")):($("#"+this.id+"_div_browse_save").css("display","none"),$("#"+this.id+"_browse_btn_import").text("Open"))},n.prototype.showLoadingIndicator=function(){$("#"+this.id+"_browse_btn_cancel").css("opacity",".5").data("ejButton").disable();$("#"+this.id+"_browse_btn_import").css("opacity",".5").data("ejButton").disable();this.browseType===BrowseType.Save&&$("#"+this.id+"_browse_save").attr("disabled","true").css("opacity","0.3");this.ejBrowseWaitingPopup.show()},n.prototype.hideLoadingIndicator=function(){this.ejBrowseWaitingPopup.hide();$("#"+this.id+"_browse_btn_cancel").css("opacity","1").data("ejButton").enable();$("#"+this.id+"_browse_btn_import").css("opacity","1").data("ejButton").enable();this.browseType===BrowseType.Save&&$("#"+this.id+"_browse_save").removeAttr("disabled").css("opacity","1")},n.prototype.destroy=function(){ej.DashboardUtil.destroyEjObjects(this.browseDialog);this.browseDialog.length>0&&$("#"+this.id+"_browse_dialog").remove()},n}(),BrowseType,InternalBubbleMapReportItem,InternalCardReportItem,InternalChartDataAssign,InternalChartProperties,InternalChartReportItem,VisualizationType,VisualizationSubType,InternalChoroplethMapReportItem,InternalComboBoxReportItem,InternalContainerPropertyItem,InternalCredentialDialog,InternalDataConfiguration,MeasureCondition,CategoryType,ConfigurationPanel,InternalDataSet,PanelList,InternalDataSource,InternalDatePickerReportItems,InternalDesignPanel,InternalDimensionFilter,InternalDragDropHelper,InternalEditorManager,InternalRangeExtractor,ExecCommand,InternalExpressionMenu,InternalExpressionParsor,InternalExpressionEditor,OptionsType,InternalFileDatasource,InternalFilterConfiguration,InternalFilterDialog,InternalFormatDialog,InternalFormattingText,InternalGaugeReportItem,GaugeOrientation,Placement,RadialPointerType,LinearPointerType,MarkerStyle,NeedleStyle,InternalGridReportItem,InternalGroupDialog,InternalImageManager,InternalImageReportItem,InternalItemPanel,ejDashboardDesigner,CopyType,InternalLineReportItem,InternalLinkParameter,InternalLinkReport,InternalListBoxReportItem,InternalMeasureFilter,InternalMySQLDataSource,InternalODATADataSource,InternalODBCDataSource,InternalOLEDBDataSource,InternalORACLEDataSource,InternalParameter,InternalPivotGridReportItem,InternalPropertyPanel,InternalPSQLDataSource,InternalQueryExpression,ExpAction,InternalQueryFilter,QueryOperator,QueryDatatype,InternalQueryJoiner,InternalQueryParameter,InternalRDLParser,InternalRectangleReportItem,BreakLocation,InternalReportAction,InternalRSLoginWindow,InternalSASSDataSource,FieldContainerType,FieldType,DateTimeFormat,TextAlignment,DataValueFormat,NegativeValueFormats,NumberFormat,AllowFilteringConditions,FilterRange,NumberFilterOption,InternalSerializationHelper,InternalSharedDataSet,InternalSharedDataSource,InternalSortDialog,Sorting,InternalSQLDataSource,InternalSqlCeDataSource,InternalSqlEditor,SqlEditorUndoManager,InternalStoreParameter,InternalSubReportItem,InternalTextBoxReportItem,ListStyle,InternalToolbar,InternalTreeMapReportItem,InternalUndoManager,CommandAction,InternalReportUtil,InternalWebDatasource,RangeSliderProperties,RangeSliderType,RangeSliderOrientation,ListBoxProperties,GaugeSettings,GaugeDirection,PrimaryValueType,LegendPositions,ChartTypes,LabelOverFlowMode,DataLabel,__extends,CommandMode,ejQueryDesigner,Join,Operator,DataTypes;window.ej.createObject("ej.DashboardDesignerUtility.BrowseDialog",InternalBrowseDialog,window),function(n){n[n.Open="Open"]="Open";n[n.Save="Save"]="Save"}(BrowseType||(BrowseType={}));InternalBubbleMapReportItem=function(){function n(){this.controlContainer=null;this.contentContainer=null;this.bubblemapDiv=null;this.dataGroupInfo={};this.layoutUpdateTimeOut=null;this.bubblemapItem=null;this.bubbleMapObj=null;this.bubbleMapJson=null;this.Field=null;this.dataSource=null;this.isHeaderVisible=!0;this.controlHeader=null;this.shapeDataPath=null;this.bubbleMapDataAssign=null;this.dataConfiguration=null;this.enableNavigation=!0;this.reportName=null;this.maxValue=null;this.factor=null;this.layerType=null;this.showBubble=null;this.valuePath=null;this.map=null;this.bubbleminValue=null;this.bubblemaxValue=null;this.hovercolor=null;this.color=null;this.bubbleOpacity=null;this.controlType=null;this.cellInfo=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.isDataEnabled=!0;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.bubbleMap;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.renderBubbleMapReportElement=function(n,t){try{this.bubbleMapJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderBubbleMapElement(r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.bubbleMapJson.UniqueName,Error:i,Type:i.name})}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"BubbleMap",i);this.propertyPanel.canUpdate=!0},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.getPropertyGridItems=function(){var n={Header:this.bubbleMapJson.ContainerSettings.Title,Type:"BubbleMap",Items:[{CategoryName:"Basic Settings",Items:[{name:"BubbleColor",displayName:"Bubble Color",value:this.bubbleMapJson.BubbleColor,itemType:"color",enableExpression:!1},{name:"ShapeColor",displayName:"Shape Color",value:this.bubbleMapJson.ShapeColor,itemType:"color",enableExpression:!1},{name:"ShapeData",displayName:"Map",enableExpression:!1,value:this.bubbleMapJson.ShapeData,itemType:"dropdown",valueList:["Africa","Asia","Australia_Territories","Canada","Europe","France","Germany","India","NorthAmerica","SouthAmerica","UnitedKingdom","USA_States","World_Continent","World_Countries"]},{name:"shapePropertyPath",displayName:"Column",enableExpression:!1,value:this.bubbleMapJson.ShapePropertyPath,itemType:"dropdown",valueList:["admin","name","continent","iso_3166_2","iso_3166_3","iso_3166_numeric","fips"]}]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.bubbleMapJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.getShapeColumnValues=function(n){var t=[];for(var i in n.features[0].properties)t.push(i);return t},n.prototype.renderBubbleMapItem=function(n,t,i){try{var u=i.attr("id");this.bubbleMapJson=this.getBubbleMapJson();this.bubbleMapJson.ContainerSettings.Title=this.bubbleMapJson.UniqueName=this.reportName;this.renderBubbleMapElement(i);this.designPanel.performItemSelection(this.controlContainer)}catch(r){this.designPanel.logError({Source:this.bubbleMapJson.UniqueName,Error:r,Type:r.name})}},n.prototype.getBubbleMapJson=function(){return new BubbleMapProperties},n.prototype.renderBubbleMapElement=function(){this.bubblemapItem=ej.buildTag("div.e-bubblemap-item e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"bubblemapItem"+this.bubbleMapJson.UniqueName});this.bubblemapElement=ej.buildTag("div.e-bubblemap-element","",{position:"relative","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"bubblemapElement"+this.bubbleMapJson.UniqueName});this.contentContainer.append(this.bubblemapItem);this.controlContainer.data("BubbleMap",this);this.bubblemapItem.append(this.bubblemapElement);this.map=this.bubblemapElement;this.maxValue=30;this.factor=.1;this.layerType="geometry";this.dataSource=[];this.shapeDataPath="Country";this.hovercolor="gray";this.bubblemapElement.ejMap({zoomSettings:{maxValue:this.maxValue,factor:this.factor},layers:[{layerType:this.layerType,dataSource:this.dataSource,shapeDataPath:this.shapeDataPath,shapePropertyPath:this.bubbleMapJson.ShapePropertyPath,shapeData:window[this.bubbleMapJson.ShapeData],shapeSettings:{fill:this.bubbleMapJson.ShapeColor,highlightColor:this.hovercolor}}]})},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.bubbleMapJson.ContainerSettings.Title=i;break;case"EnableNavigationControl":this.updateEnableNavigationControl(i);break;case"BubbleColor":this.updateBubbleColor(i);break;case"ShapeColor":this.updateShapeColor(i);break;case"HoverColor":this.updateHoverColor(i);break;case"ShapeData":this.updateShapeData(i);break;case"shapePropertyPath":this.updateShapePropertyPath(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"BubbleMap",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-bubblemap-item",this.bubbleMapJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateEnableNavigationControl=function(n){this.enableNavigation=n;var t=this.bubblemapElement.data("ejMap");t.option("showCheckbox",n)},n.prototype.updateBubbleColor=function(n){var t=this.bubblemapElement.data("ejMap");t.model.layers[0].bubbleSettings.color=n;this.bubbleMapJson.BubbleColor=n;this.bubblemapElement.ejMap("refresh")},n.prototype.updateShapeColor=function(n){var t=this.bubblemapElement.data("ejMap");t.model.layers[0].shapeSettings.fill=n;this.bubbleMapJson.ShapeColor=n;this.bubblemapElement.ejMap("refresh")},n.prototype.updateHoverColor=function(n){var t=this.bubblemapElement.data("ejMap");t.model.layers[0].shapeSettings.highlightColor=n;this.hovercolor=n;this.bubblemapElement.ejMap("refresh")},n.prototype.updateShapeData=function(n){var i=this.bubblemapElement.data("ejMap"),t;i.model.layers[0].shapeData=window[n];this.bubbleMapJson.ShapeData=n;this.Field=this.getShapeColumnValues(window[n]);this.bubblemapElement.ejMap({baseMapIndex:1});t=$("#"+this.designId+"_BubbleMap_BasicSettings_shapePropertyPath").data("ejDropDownList");t.setModel({dataSource:this.Field});this.setPropertyElement("BasicSettings","shapePropertyPath",this.Field.indexOf("name")!==-1?"name":this.Field[0])},n.prototype.updateShapePropertyPath=function(n){var t=this.bubblemapElement.data("ejMap");t.model.layers[0].shapePropertyPath=n;this.bubbleMapJson.ShapePropertyPath=n;this.bubblemapElement.ejMap("refresh")},n.prototype.updateSize=function(n,t){this.controlContainer.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.bubbleMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);var i=this.bubblemapElement.data("ejMap"),r=this.controlContainer.height()<this.controlContainer.width()?this.controlContainer.height():this.controlContainer.width();(i.model.layers[0].bubbleSettings.showBubble=!0)&&(i.model.layers[0].bubbleSettings.minValue=r*.005,i.model.layers[0].bubbleSettings.maxValue=r*.05);i.option("width","100%");i.option("height","100%");this.bubblemapElement.ejMap({baseMapIndex:1})},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.bubbleMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.designPanel.updateWidgetSelectionBox(this.controlContainer);var u=this.bubblemapElement.data("ejMap"),f=this.controlContainer.height()<this.controlContainer.width()?this.controlContainer.height():this.controlContainer.width();(u.model.layers[0].bubbleSettings.showBubble=!0)&&(u.model.layers[0].bubbleSettings.minValue=f*.005,u.model.layers[0].bubbleSettings.maxValue=f*.05);u.option("width","100%");u.option("height","100%");this.bubblemapElement.ejMap({baseMapIndex:1})},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.bubbleMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Value",CategoryType:CategoryType.Numeric,CategoryCount:1}),n.push({Name:"Shape",CategoryType:CategoryType.Non_Numeric,CategoryCount:1}),n},n.prototype.updateData=function(n){var t=this.bubblemapElement.data("ejMap"),r=null,i,u;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.bubbleMapJson,this.dataGroupInfo);ej.isNullOrUndefined(n)||n.data==="[]"||typeof n=="string"&&n.indexOf("Sf_Exception")!==-1?t.model.layers[0].bubbleSettings.showBubble=!1:(r=JSON.parse(n.data),i=this.getColumnList(r),u=this.controlContainer.height()<this.controlContainer.width()?this.controlContainer.height():this.controlContainer.width(),i.length>1?(this.generateTooltip(n),t.model.layers[0].bubbleSettings.showBubble=!0,t.model.layers[0].bubbleSettings.valuePath=i[0].text,t.model.layers[0].bubbleSettings.minValue=u*.005,t.model.layers[0].bubbleSettings.maxValue=u*.05,t.model.layers[0].bubbleSettings.color=this.bubbleMapJson.BubbleColor,t.model.layers[0].bubbleSettings.bubbleOpacity=.6,t.model.layers[0].dataSource=r,t.model.layers[0].shapeDataPath=i[1].text,t.model.layers[0].showTooltip=!0,t.model.layers[0].tooltipTemplate="template"+$(this.bubblemapElement).attr("id")+"_tooltip"):t.model.layers[0].bubbleSettings.showBubble=!1);this.bubblemapElement.ejMap("refresh")},n.prototype.generateTooltip=function(n){var t,f=JSON.parse(n.columnBindings),i,r,u;for(t='<script id="template'+$(this.bubblemapElement).attr("id")+'_tooltip" type="application/jsrender">',t+='<div style="font-family:Roboto;background:White;border: 1px solid #4D4D4D;border-radius: 7px;margin-right: 25px;min-width: 110px;padding-right: 5px;padding-left: 5px;width: auto;height: auto;">',i="template"+$(this.bubblemapElement).attr("id")+"_tooltip",i="#"+i,$(i).length>0&&$(i).remove(),r=0;r<this.dataGroupInfo.Values[1].Values.length;r++)t+='<p style="color:black;font-size:12px;font-weight:normal;margin-top:10px;">'+this.dataGroupInfo.Values[1].Values[0].Value+"  : {{:(#data['"+this.dataGroupInfo.Values[1].Values[0].Value+"'])}}<\/P>";for(u=0;u<this.dataGroupInfo.Values[0].Values.length;u++)t+='<p style="color:black;font-size:12px;font-weight:normal;margin-top:10px;">'+this.dataGroupInfo.Values[0].Values[0].Value+"  : {{:(#data['"+f[this.dataGroupInfo.Values[0].Values[0].Field]+"'])}}<\/P>";t+="<\/div><\/script>";$(this.bubblemapItem).append(t)},n.prototype.getColumnList=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.dispose=function(){var n=this.bubblemapItem.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderBubbleMapElement","e-bubblemap-item",this.bubbleMapJson.UniqueName,[this.bubbleMapJson,n.attr("id")],null);$("#"+this.bubbleMapJson.UniqueName).removeData("BubbleMap");$("#"+this.bubbleMapJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.bubbleMapJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.BubbleMapItem",InternalBubbleMapReportItem,window);InternalCardReportItem=function(){function n(){this.cardJson=null;this.controlContainer=null;this.contentContainer=null;this.cardItem=null;this.cardElement=null;this.cardContent=null;this.titleValue=null;this.subTitleValue=null;this.subHeading=!1;this.ignoreFilterActions=!1;this.isHeaderVisible=!1;this.isControlMenuVisible=!0;this.isMaximizeEnable=!0;this.controlHeader=null;this.reportName=null;this.controlType=null;this.dataInfo=null;this.dataGroupInfo=null;this.dataConfiguration=null;this.containerProperties=null;this.cellInfo=null;this.dataInfo=ejDashboardDesigner.getInstance("DataConfiguration");this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.card;this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.renderCardReportElement=function(n,t){try{this.cardJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(n.Left.size),top:ej.DashboardUtil.getPixelVal(n.Top.size),width:ej.DashboardUtil.getPixelVal(n.Width.size),height:ej.DashboardUtil.getPixelVal(n.Height.size)};this.renderCardElement(u,r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.cardJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderCardItem=function(n,t,i){try{this.cardJson=this.getCardJson();this.cardJson.UniqueName=this.cardJson.ContainerSettings.Title=this.reportName;this.renderCardElement(n,i);this.designPanel.performItemSelection(this.controlContainer)}catch(r){this.designPanel.logError({Source:this.cardJson.UniqueName,Error:r,Type:r.name});console.log(r.message)}},n.prototype.renderCardElement=function(){this.cardItem=ej.buildTag("div.e-carditem e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"cardItem"+this.cardJson.UniqueName});this.cardElement=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white"},{id:this.designId+"cardElement"+this.cardJson.UniqueName});this.contentContainer.append(this.cardItem);this.controlContainer.data("Card",this);this.cardItem.append(this.cardElement);this.cardItem.ejWaitingPopup({showOnInit:!1,cssClass:this.designId+"_designer_waiting_popup e-designer-loader"});this.cardElement.ejCard({actualValue:{color:"#686262",name:"Actual",position:"right",value:"100"},targetValue:{color:"#686262",name:"Target",position:"right",value:"90"},size:{width:this.cardItem.width()-4,height:this.cardItem.height()-4}})},n.prototype.setPropertyElement=function(n,t,i,r){var u,f;this.propertyPanel.canUpdate=!1;u=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r);u.isVisible=i;f=$.extend(!0,{},u);f.categoryName=n;this.propertyPanel.updatePropertyValue(f,"Card",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){var n={Header:this.cardJson.ContainerSettings.Title,Type:"Card",Items:[{CategoryName:"Basic Settings",Items:[{name:"ShowTitle",displayName:"Title",value:this.cardJson.TitleSettings.Visibility,itemType:"bool",enableExpression:!1},{name:"TitleValue",displayName:"",value:this.cardJson.TitleSettings.Text,itemType:"string",enableExpression:!1},{name:"TitleAlign",displayName:"Title Alignment",value:ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.TitleSettings.Alignment),itemType:"dropdown",valueList:["Left","Center","Right"],enableExpression:!1},{name:"TitleColor",displayName:"Title Color",value:this.cardJson.TitleSettings.Color,itemType:"color",enableExpression:!1},{name:"ShowSubHeading",displayName:"SubHeading",value:this.cardJson.SubTitleSettings.Visibility,itemType:"bool",enableExpression:!1},{name:"SubHeadingValue",isVisible:!1,displayName:"",value:this.cardJson.SubTitleSettings.Text,itemType:"string",enableExpression:!1},{name:"SubTitleColor",displayName:"Subtitle Foreground",value:this.cardJson.SubTitleSettings.Color,itemType:"color",enableExpression:!1},{name:"ValueAlign",displayName:"Value Alignment",value:ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.ValueAlignment),itemType:"dropdown",valueList:["Left","Center","Right"],enableExpression:!1},{name:"ActualValueColor",displayName:"Actual Value Foreground",value:this.cardJson.ActualValueForeground,itemType:"color",enableExpression:!1},{name:"SecondaryValueType",displayName:"Secondary Value Type",value:this.cardJson.SecondaryValueType,itemType:"dropdown",valueList:["Variation","Target Value"],enableExpression:!1},{name:"ActualValuePrefix",displayName:"Actual Value Prefix",value:this.cardJson.ActualValuePrefix,itemType:"string",enableExpression:!1},{name:"TargetValuePrefix",isVisible:!1,displayName:"Target Value Prefix",value:this.cardJson.TargetValuePrefix,itemType:"string",enableExpression:!1},]},{CategoryName:"Behaviour",Items:[{name:"HighValueGood",displayName:"High Value is Good",value:this.cardJson.Direction===GaugeDirection.HighIsGood,itemType:"bool",enableExpression:!1},{name:"ShowIndicator",displayName:"Show Indicator Only",value:this.cardJson.ShowIndicatorOnly,itemType:"bool",enableExpression:!1},{name:"PrimaryValueType",displayName:"Primary Value Type",value:this.cardJson.PrimaryValueType,itemType:"dropdown",valueList:["Absolute difference","Percent of difference","Percent of target","Actual Value","Percent of Change"],enableExpression:!1},]},{CategoryName:"Filter",Items:[{name:"ActAsMasterWidget",displayName:"Act As Master Widget",value:this.cardJson.IsMaster,itemType:"bool",enableExpression:!1},{name:"IgnoreFilterActions",displayName:"Ignore Filter Actions",value:this.ignoreFilterActions,itemType:"bool",enableExpression:!1},]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.cardJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"HighValueGood":this.updateHighValueGood(i);break;case"ShowIndicator":this.updateShowIndicator(i);break;case"ShowTitle":this.updateShowTitle(i);break;case"TitleValue":this.updateTitleValue(i);break;case"TitleAlign":this.updateTitleAlign(i);break;case"TitleColor":this.updateTitleColor(i);break;case"ValueAlign":this.updateValueAlign(i);break;case"ActualValueColor":this.updateActualValueColor(i);break;case"SecondaryValueType":this.updateSecondaryValueType(i);break;case"ShowSubHeading":this.updateSubHeading(i);break;case"SubHeadingValue":this.updateSubHeadingValue(i);break;case"SubTitleColor":this.updateSubHeadingColor(i);break;case"PrimaryValueType":this.updatePrimaryValueType(i);break;case"ActualValuePrefix":this.updateActualValuePrefix(i);break;case"TargetValuePrefix":this.updateTargetValuePrefix(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Card",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-card-item",this.cardJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateCardProperty=function(n,t,i){var u,r,f;if(t){for(u=t.model,r=n.split("."),f=0;f<r.length-1;f++)u=u[r[f]];u[r[r.length-1]]=i;t.redraw()}},n.prototype.updateHighValueGood=function(n){var t,i;if(this.cardJson.Direction=n?GaugeDirection.HighIsGood:GaugeDirection.LowIsGood,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("higherValueGood",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("higherValueGood",t,n)},n.prototype.updateShowIndicator=function(n){var t,i;if(this.cardJson.ShowIndicatorOnly=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("showIndicatorOnly",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("showIndicatorOnly",t,n)},n.prototype.updateShowTitle=function(n){var t,i;if(this.cardJson.TitleSettings.Visibility=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.cardJson.TitleSettings.Visibility?(t.model.headers={visible:!0},this.cardJson.TitleSettings.Text===""&&ej.isNullOrUndefined(this.titleValue)?(t.model.customHeader.visible=!0,t.model.customHeader.text="Actual vs Target"):this.cardJson.TitleSettings.Text===""?(t.model.customHeader.visible=!0,t.model.customHeader.text=this.titleValue):(t.model.customHeader.visible=!0,t.model.customHeader.text=this.cardJson.TitleSettings.Text),t.redraw(),this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",n)):(t.model.headers.visible=!1,t.model.customHeader.visible=!1,t.redraw(),this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",n));else for(this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",!1),i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("headers.visible",t,n)},n.prototype.updateTitleValue=function(n){if(this.cardJson.TitleSettings.Text=n,ej.isNullOrUndefined(this.cardContent)){var t=this.cardElement.data("ejCard");this.cardJson.TitleSettings.Visibility&&(n!==""?(t.model.customHeader.visible=!0,t.model.customHeader.text=n,t.redraw()):(t.model.customHeader.visible=!0,t.model.customHeader.text=n,t.redraw()))}},n.prototype.updateTitleAlign=function(n){var t,r,i;if(this.cardJson.TitleSettings.Alignment=ej.DashboardDesignerUtility.Serialization.stringtoEnum(TextAlignment,n),t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("headers.headerPosition",t,n);else for(r=this.cardContent.children(),i=0;i<r.length;i++)t=r.eq(i).data("ejCard"),ej.isNullOrUndefined(t)||this.updateCardProperty("headers.headerPosition",t,n)},n.prototype.updateTitleColor=function(n){var t,i;if(this.cardJson.TitleSettings.Color=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("customHeader.color",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("customHeader.color",t,n)},n.prototype.updateValueAlign=function(n){var t,i;if(this.cardJson.ValueAlignment=ej.DashboardDesignerUtility.Serialization.stringtoEnum(TextAlignment,n),t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("actualValue.position",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("actualValue.position",t,n)},n.prototype.updateActualValueColor=function(n){var t,i;if(this.cardJson.ActualValueForeground=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),t.model.actualValue.position=ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.ValueAlignment),t.model.actualValue.color=n,t.redraw();else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),t.model.actualValue.position=ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.ValueAlignment),t.model.actualValue.color=n,t.redraw()},n.prototype.updateSecondaryValueType=function(n){var t=[],i;if(n==="Variation"?(n="variance",this.propertyPanel.updateItemVisibility("Card","BasicSettings","TargetValuePrefix",!1)):(n="target",this.propertyPanel.updateItemVisibility("Card","BasicSettings","TargetValuePrefix",!0)),this.cardJson.SecondaryValueType=n,ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("secondaryValueType",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("secondaryValueType",t,n)},n.prototype.updateSubHeading=function(n){var t,i;if(this.cardJson.SubTitleSettings.Visibility=n,this.subHeading=n,t=[],this.cardJson.SubTitleSettings.Visibility){if(ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),t.model.subTitle.visible=n,t.model.subTitle.text=this.subTitleValue,t.redraw();else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),t.model.subTitle.visible=n,t.model.subTitle.text=this.subTitleValue,t.redraw();this.propertyPanel.updateItemVisibility("Card","BasicSettings","SubHeadingValue",n)}else{if(ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("subTitle.visible",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("subTitle.visible",t,n);this.propertyPanel.updateItemVisibility("Card","BasicSettings","SubHeadingValue",n)}},n.prototype.updateSubHeadingValue=function(n){var t,i;if(this.cardJson.SubTitleSettings.Text=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),t.model.subTitle.visible=this.subHeading,t.model.subTitle.text=n,t.redraw();else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),t.model.subTitle.visible=this.subHeading,t.model.subTitle.text=n,t.redraw();this.subTitleValue=n},n.prototype.updateSubHeadingColor=function(n){var t,i;if(this.cardJson.SubTitleSettings.Color=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("subTitle.color",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("subTitle.color",t,n)},n.prototype.updatePrimaryValueType=function(n){var t,i;if(this.cardJson.PrimaryValueType=n,t=[],ej.isNullOrUndefined(this.cardContent)){t=this.cardElement.data("ejCard");switch(n){case PrimaryValueType.AbsoluteDifference:t.model.valueRepresentation.variationType="absolute";break;case PrimaryValueType.PercentOfDifference:t.model.valueRepresentation.variationType="percentofdifference";break;case PrimaryValueType.PercentOfTarget:t.model.valueRepresentation.variationType="percentoftarget";break;case PrimaryValueType.ActualValue:t.model.valueRepresentation.variationType="actualvalue";break;case PrimaryValueType.PercentOfChange:t.model.valueRepresentation.variationType="percentofchange"}t.redraw()}else for(i=0;i<this.cardContent.children().length;i++){t=$(this.cardContent.children()[i]).data("ejCard");switch(n){case PrimaryValueType.AbsoluteDifference:t.model.valueRepresentation.variationType="absolute";break;case PrimaryValueType.PercentOfDifference:t.model.valueRepresentation.variationType="percentofdifference";break;case PrimaryValueType.PercentOfTarget:t.model.valueRepresentation.variationType="percentoftarget";break;case PrimaryValueType.ActualValue:t.model.valueRepresentation.variationType="actualvalue";break;case PrimaryValueType.PercentOfChange:t.model.valueRepresentation.variationType="percentofchange"}t.redraw()}},n.prototype.updateActualValuePrefix=function(n){var t,i;if(this.cardJson.ActualValuePrefix=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("actualValue.customText",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("actualValue.customText",t,n)},n.prototype.updateTargetValuePrefix=function(n){var t,i;if(this.cardJson.TargetValuePrefix=n,t=[],ej.isNullOrUndefined(this.cardContent))t=this.cardElement.data("ejCard"),this.updateCardProperty("targetValue.customText",t,n);else for(i=0;i<this.cardContent.children().length;i++)t=$(this.cardContent.children()[i]).data("ejCard"),this.updateCardProperty("targetValue.customText",t,n)},n.prototype.updateSize=function(n,t,i){var r,f,u;if(this.controlContainer.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),this.cardJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo),i,this.cardItem.data("ejScroller")&&this.cardItem.ejScroller("destroy"),this.cardItem.css({width:"100%",height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%"}),r=null,ej.isNullOrUndefined(this.cardContent))r=this.cardElement.data("ejCard"),r.model.size={width:this.cardItem.width()-4,height:this.cardItem.height()-4},r.redraw();else{for(this.cardContent.css({width:this.cardItem.width(),height:this.cardItem.height()}),f=0;f<this.cardContent.children().length;f++)u=this.getSizeForCard(this.cardContent.children().length),this.cardElement.css({width:u.width,height:u.height}),r=$(this.cardContent.children()[f]).data("ejCard"),r.model.size={width:u.width,height:u.height},r.redraw();this.cardItem.ejScroller({width:this.cardItem.width(),height:this.cardItem.height(),autoHide:!0,scrollerSize:5,buttonSize:0})}},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r,u){var f,o,e;if(this.controlContainer.css({left:n,top:t,width:i,height:r}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),this.cardJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo),u,this.cardItem.data("ejScroller")&&this.cardItem.ejScroller("destroy"),this.cardItem.css({width:"100%",height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%"}),f=null,ej.isNullOrUndefined(this.cardContent))f=this.cardElement.data("ejCard"),f.model.size={width:this.cardItem.width()-4,height:this.cardItem.height()-4},f.redraw();else{for(this.cardContent.css({width:this.cardItem.width(),height:this.cardItem.height()}),o=0;o<this.cardContent.children().length;o++)e=this.getSizeForCard(this.cardContent.children().length),this.cardElement.css({width:e.width,height:e.height}),f=$(this.cardContent.children()[o]).data("ejCard"),f.model.size={width:e.width,height:e.height},f.redraw();this.cardItem.ejScroller({width:this.cardItem.width(),height:this.cardItem.height(),autoHide:!0,scrollerSize:5,buttonSize:0})}},n.prototype.updatePosition=function(n,t,i){this.controlContainer.css({left:n,top:t});this.cardJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);i},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){return[{Name:"ActualValue",DisplayName:"Actual Value",CategoryType:CategoryType.Numeric},{Name:"TargetValue",DisplayName:"Target Value",CategoryType:CategoryType.Numeric},{Name:"Series",CategoryType:CategoryType.Non_Numeric}]},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.updateData=function(n){var y,l,p,e,a,u,o,s,t,r;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.cardJson,this.dataGroupInfo);this.isHeaderVisible=!1;var w=this.dataGroupInfo.Values[0].Values.length,v=this.dataGroupInfo.Values[1].Values.length,h=this.dataGroupInfo.Values[2].Values.length,i=this.cardElement.data("ejCard"),f=JSON.parse(n.data),c=$(this.controlContainer).find(".e-dbrd-control-header");if($(c).remove(),this.cardItem.data("ejScroller")&&this.cardItem.ejScroller("destroy"),y={controlTitle:this.reportName,controlId:this.reportName,isControlMenuVisible:this.isControlMenuVisible,isMaximizeEnable:this.isMaximizeEnable},i.destroy(),this.cardElement.remove(),ej.isNullOrUndefined(this.cardContent)||(this.cardContent.remove(),this.cardContent=null),this.cardItem.css({height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%"}),l=this.getSizeForCard(f.length),n.data!=="[]"){if(p=this.getColumns(f),w>0&&v===0&&h===0)this.cardElement=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white",float:"left"},{id:this.designId+"cardElement"+this.cardJson.UniqueName}),this.cardItem.append(this.cardElement),this.cardElement.ejCard({size:{width:this.cardElement.width(),height:this.cardElement.height()}}),i=this.cardElement.data("ejCard"),i.model.actualValue={name:p[0].id,value:Object.values(f[0])[0].toString()},i.model.size={width:this.cardElement.width()-4,height:this.cardElement.height()-4},this.getProperties(i),i.redraw(),this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",!0);else if(v>0&&h===0){for(this.cardElement=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white",float:"left"},{id:this.designId+"cardElement"+this.cardJson.UniqueName}),this.cardItem.append(this.cardElement),this.cardElement.ejCard({size:{width:this.cardElement.width(),height:this.cardElement.height()}}),i=this.cardElement.data("ejCard"),e=Object.keys(f[0]),a=Object.values(f[0]),t=0;t<e.length;t++)r=e[t].substr(e[t].indexOf("(")+1),r=r.replace(/[^A-Z0-9]/ig,""),ej.isNullOrUndefined(this.dataGroupInfo.Values[0].Values[0])||r!==this.dataGroupInfo.Values[0].Values[0].Field||(i.model.actualValue={name:e[t],value:a[t].toString()}),ej.isNullOrUndefined(this.dataGroupInfo.Values[1].Values[0])||r!==this.dataGroupInfo.Values[1].Values[0].Field||(i.model.targetValue={name:e[t],value:a[t].toString()});i.model.size={width:this.cardElement.width()-4,height:this.cardElement.height()-4};this.getProperties(i);i.redraw();this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",!0)}else if(h>0)if(ej.isNullOrUndefined(this.dataGroupInfo.Values[0].Values[0])&&ej.isNullOrUndefined(this.dataGroupInfo.Values[1].Values[0]))this.cardElement=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white"},{id:this.designId+"cardElement"+this.cardJson.UniqueName}),this.cardItem.append(this.cardElement),this.cardElement.ejCard({actualValue:{color:"#686262",name:"Actual",position:"right",value:"100"},targetValue:{color:"#686262",name:"Target",position:"right",value:"90"},size:{width:this.cardItem.width()-4,height:this.cardItem.height()-4}});else{for(this.isHeaderVisible=!0,this.designPanel.getControlHeader(y,this),u=[],o=[],this.cardItem.css({height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%"}),this.cardContent=ej.buildTag("div.cardContent","",{width:"100%",height:"100%",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),this.cardItem.append(this.cardContent),s=0;s<f.length;s++){for(u=Object.keys(f[s]),o=Object.values(f[s]),this.cardElement=ej.buildTag("div","",{width:l.width,height:l.height,position:"relative","font-size":"10pt","background-color":"white",float:"left","margin-left":"10px","margin-top":"10px"},{id:this.designId+"cardElement"+this.cardJson.UniqueName+"_"+s}),this.cardContent.append(this.cardElement),this.cardElement.ejCard({size:{width:this.cardElement.width(),height:this.cardElement.height()}}),i=this.cardElement.data("ejCard"),t=0;t<u.length;t++)r=u[t].substr(u[t].indexOf("(")+1),r=r.replace(/[^A-Z0-9]/ig,""),ej.isNullOrUndefined(this.dataGroupInfo.Values[0].Values[0])||r!==this.dataGroupInfo.Values[0].Values[0].Field||(i.model.actualValue={name:u[t],value:o[t].toString()}),ej.isNullOrUndefined(this.dataGroupInfo.Values[1].Values[0])||r!==this.dataGroupInfo.Values[1].Values[0].Field||(i.model.targetValue={name:u[t],value:o[t].toString()}),r===this.dataGroupInfo.Values[2].Values[0].Field&&(i.model.customHeader={visible:"true",text:o[t],value:o[t]});this.getProperties(i);i.redraw();this.propertyPanel.updateItemVisibility("Card","BasicSettings","TitleValue",!1)}this.cardItem.data("ejScroller")&&this.cardItem.ejScroller("destroy");this.cardItem.ejScroller({width:this.cardItem.width(),height:this.cardItem.height(),autoHide:!0,scrollerSize:5,buttonSize:0});c=$(this.cardItem[0]).siblings(".e-dbrd-control-header");$($(c).find(".e-dbrd-control-title")).html(u[1]+" vs "+u[2])}}else this.cardElement=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white"},{id:this.designId+"cardElement"+this.cardJson.UniqueName}),this.cardItem.append(this.cardElement),this.cardElement.ejCard({actualValue:{color:"#686262",name:"Actual",position:"right",value:"100"},targetValue:{color:"#686262",name:"Target",position:"right",value:"90"},size:{width:this.cardItem.width()-4,height:this.cardItem.height()-4}});this.titleValue=$(this.cardElement).find(".e-card-header").html();this.cardJson.TitleSettings.Text=this.titleValue},n.prototype.getColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.getSizeForCard=function(n){var u=$(this.cardItem).width()-10,h=$(this.cardItem).height(),c=this.dataGroupInfo.Values[2].Values.length,e=c>0?n:1,i={width:1119.36111111111,height:629.333333333333},o={width:Math.round(u/i.width*100),height:Math.round(h/i.height*100)},r=null,f=null,s=null,t=Math.round(u),l=this.getValueInPixel(10,i.width);for((t>15||t<3)&&(t=10),t>e&&(t=e);;){if(r=(u-10)/t-10,f=r*.6,s=Math.ceil(e/t),t<=1){t=1;break}if(r<l){t-=1;continue}if((u-r*t)*(100/i.width)>7){t-=1;continue}break}return o.width<=15&&(r=this.getValueInPixel(7,i.width),f=this.getValueInPixel(12,i.height),t=1),o.height<=15&&o.width>15&&(f=this.getValueInPixel(12,i.height)),s<=0&&(s=0),t<=0&&(t=0),{height:f,width:r}},n.prototype.getProperties=function(n){var t=this.cardJson.TitleSettings.Text;n.model.customHeader.visible=this.cardJson.TitleSettings.Visibility;this.dataGroupInfo.Values[2].Values.length===0&&(!ej.isNullOrUndefined(this.dataGroupInfo.Values[0].Values)&&this.dataGroupInfo.Values[0].Values.length>0&&!ej.isNullOrUndefined(this.dataGroupInfo.Values[1].Values)&&this.dataGroupInfo.Values[1].Values.length>0?t=n.model.actualValue.name+"vs"+n.model.targetValue.name:!ej.isNullOrUndefined(this.dataGroupInfo.Values[0].Values)&&this.dataGroupInfo.Values[0].Values.length>0||!ej.isNullOrUndefined(this.dataGroupInfo.Values[1].Values)&&this.dataGroupInfo.Values[1].Values.length>0?t=this.dataGroupInfo.Values[0].Values.length>0?n.model.actualValue.name:this.dataGroupInfo.Values[1].Values.length>0?n.model.targetValue.name:"":ej.isNullOrUndefined(this.cardJson.TitleSettings.Text)&&this.cardJson.TitleSettings.Text==="Actual vs Target"&&(t=this.cardJson.TitleSettings.Text),n.model.customHeader.text=t);n.model.customHeader.color=this.cardJson.TitleSettings.Color;n.model.headers.visible=this.cardJson.TitleSettings.Visibility;n.model.headers.headerPosition=ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.TitleSettings.Alignment);n.model.subTitle.visible=this.cardJson.SubTitleSettings.Visibility;this.cardJson.SubTitleSettings.Text!==""&&this.cardJson.SubTitleSettings.Text!=="Actual vs Target"&&(n.model.subTitle.text=this.cardJson.SubTitleSettings.Text);n.model.subTitle.color=this.cardJson.SubTitleSettings.Color;n.model.actualValue.position=ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.cardJson.ValueAlignment);n.model.actualValue.color=this.cardJson.ActualValueForeground;n.model.secondaryValueType=this.cardJson.SecondaryValueType;n.model.higherValueGood=this.cardJson.Direction;n.model.showIndicatorOnly=this.cardJson.ShowIndicatorOnly;n.model.actualValue.customText=this.cardJson.ActualValuePrefix;n.model.targetValue.customText=this.cardJson.TargetValuePrefix},n.prototype.getValueInPixel=function(n,t){return n/100*t},n.prototype.getCardJson=function(){return new CardProperties},n.prototype.showLoadingIndicator=function(){$("#"+this.designId+"cardItem"+this.cardJson.UniqueName).ejWaitingPopup("show")},n.prototype.hideLoadingIndicator=function(){$("#"+this.designId+"cardItem"+this.cardJson.UniqueName).ejWaitingPopup("hide")},n.prototype.dispose=function(){var n=this.controlContainer.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderCardElement","e-card-item",this.cardJson.UniqueName,[this.cardJson,n.attr("id")],null);$("#"+this.cardJson.UniqueName).removeData("Card");$("#"+this.cardJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.cardJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.CardItem",InternalCardReportItem,window);InternalChartDataAssign=function(){function n(n){this.chartModel=null;this.chartModel=n}return n.prototype.openChartDataGroup=function(n){var o,e,f,i,r,u,s,t,h;if(this.chartModel.dataGroupInfo=this.getDataCategoriesInfo(),o=n.ChartData.ChartSeriesCollection.length,o>0)for(e=0;e<o;e++)f=n.ChartData.ChartSeriesCollection[e],i=f.ChartDataPoints[0].ChartDataPointValues,this.chartModel.chartType==="Scatter"?(i.Y&&(r=this.getFieldValue(n.DataSetName,f.Name,i.Y),u=this.getDataValueInfo(n.DataSetName,r,i.Y),this.chartModel.dataGroupInfo.Values[0].Values.push(u)),i.X&&(r=this.getFieldValue(n.DataSetName,f.Name,i.X),u=this.getDataValueInfo(n.DataSetName,r,i.X),this.chartModel.dataGroupInfo.Values[1].Values.push(u))):this.chartModel.chartType==="Bubble"?(i.Y&&(r=this.getFieldValue(n.DataSetName,f.Name,i.Y),u=this.getDataValueInfo(n.DataSetName,r,i.Y),this.chartModel.dataGroupInfo.Values[0].Values.push(u)),i.Size&&(r=this.getFieldValue(n.DataSetName,f.Name,i.Size),u=this.getDataValueInfo(n.DataSetName,r,i.Size),this.chartModel.dataGroupInfo.Values[1].Values.push(u)),i.X&&(r=this.getFieldValue(n.DataSetName,f.Name,i.X),u=this.getDataValueInfo(n.DataSetName,r,i.X),this.chartModel.dataGroupInfo.Values[2].Values.push(u))):i.Y&&(r=this.getFieldValue(n.DataSetName,f.Name,i.Y),u=this.getDataValueInfo(n.DataSetName,r,i.Y),this.chartModel.dataGroupInfo.Values[0].Values.push(u));if(n.ChartCategoryHierarchy.ChartMembers.length>0)for(t=n.ChartCategoryHierarchy.ChartMembers[0];!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined(t.Group);)!ej.isNullOrUndefined(t.Group.GroupExpressions)&&t.Group.GroupExpressions.length>0&&!ej.isNullOrUndefined(t.Group.GroupExpressions[0].Value)&&(s=this.getDataGroupInfo(t,n.DataSetName,!0),this.chartModel.dataGroupInfo.Columns.push(s)),t=!ej.isNullOrUndefined(t.ChartMembers)&&t.ChartMembers.length>0?t.ChartMembers[0]:null;if(n.ChartSeriesHierarchy.ChartMembers.length>0)for(t=n.ChartSeriesHierarchy.ChartMembers[0];!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined(t.Group);)!ej.isNullOrUndefined(t.Group.GroupExpressions)&&t.Group.GroupExpressions.length>0&&!ej.isNullOrUndefined(t.Group.GroupExpressions[0].Value)&&(h=this.getDataGroupInfo(t,n.DataSetName,!1),this.chartModel.dataGroupInfo.Rows.push(h)),t=!ej.isNullOrUndefined(t.ChartMembers)&&t.ChartMembers.length>0?t.ChartMembers[0]:null;this.chartModel.chartProperties.updateSeriesPropertyItemVisibility(this.chartModel.dataGroupInfo.Values[0].Values);this.updateSeriesPropertyValues()},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n=this.chartModel.chartType==="Bubble"?[{Name:"YValue",DisplayName:"Y Value",CategoryType:CategoryType.Numeric},{Name:"Size",CategoryType:CategoryType.Numeric},{Name:"XValue",DisplayName:"X Value",CategoryType:CategoryType.Numeric}]:[{Name:"YValue",DisplayName:"Y Value",CategoryType:CategoryType.Numeric}],n.push({Name:"Column",CategoryType:CategoryType.Non_Numeric}),n.push({Name:"Row",CategoryType:CategoryType.Non_Numeric}),n},n.prototype.updateDataGroupInfo=function(n){this.chartModel.dataGroupInfo=n},n.prototype.updatePropertyData=function(){if(this.chartModel.dataGroupInfo.isPropertyDataUpdated){var n=this.chartModel.dataGroupInfo;this.chartModel.chartProperties.updateSeriesPropertyItemVisibility(n.Values[0].Values);!ej.isNullOrUndefined(n.Values)&&n.Values.length>0&&!ej.isNullOrUndefined(n.Values[0].Values)&&n.Values[0].Values.length>0&&this.updateSeriesPropertyValues()}this.chartModel.dataGroupInfo.isPropertyDataUpdated=!1},n.prototype.updateSeriesPropertyValues=function(){this.chartModel.selectedSeriesIndex=0;var n=$("#"+this.chartModel.designPanel.designId+"_Chart_BasicSettings_Series").data("ejDropDownList"),t=this.chartModel.chartProperties.getSeries();ej.isNullOrUndefined(n)||n.option("dataSource",t);this.chartModel.chartProperties.populateSeriesSettings(t);this.chartModel.designPanel.selectedReportItems.length>0&&!ej.isNullOrUndefined(n)&&t.length>0&&n.selectedTextValue!==t[0]&&n.option("selectedIndex",0)},n.prototype.getSeriesName=function(n){for(var f,t=[" A"," B"],i=[],r=[],u=0;u<t.length;u++)i.push(this.getDataField(n[0])+t[u]),f=this.getMergedTextList(t,n,i,1),r=r.concat(f),i=[];return r},n.prototype.getMergedTextList=function(n,t,i,r){var f,u,e;if(r>t.length)return i;for(f=[],u=0;u<i.length;u++)for(e=0;e<n.length;e++)t.length>1&&r<t.length?f.push(i[u]+" - "+this.getDataField(t[r])+n[e]):f.push(i[u]);return this.getMergedTextList(n,t,f,r+1)},n.prototype.getMergeText=function(n,t,i){var r=this.getDataField(n[0])+(t<i/2?" A - ":" B - "),u;return n.length>1&&(u=t<i/2?t<i/4?" A - ":" B - ":t-i/2<i/4?" A - ":" B - ",r=r+this.getDataField(n[1])+u,r=this.getIterationText(n,t,i,r)),r},n.prototype.getIterationText=function(n,t,i,r){var e=n.length,o,u,s,f;if(e>2){for(o=!1,u=1;u<=i+1;u++)if((e===3?u%4==1||u%4==2:u%8==1||u%8==2||u%8==3||u%8==4)&&t+1===u){o=!0;break}if(r=r+this.getDataField(n[2])+(o?" A - ":" B - "),e>3){for(s=!1,f=1;f<=i+1;f++)if((f%4==1||f%4==2)&&t+1===f){s=!0;break}r=r+this.getDataField(n[3])+(s?" A - ":" B - ")}}return r},n.prototype.getDataGroupInfo=function(n,t,i){var r=this.getGroupFieldValue(n.Group.GroupExpressions[0].Value);return{__type:"Syncfusion.RDL.DOM."+(i?"DataColumnInfo":"DataRowInfo"),Name:t,Field:r,DataField:r.replace(/_/g," "),Value:n.Label,GroupName:n.Group.Name,Filters:n.Group.Filters,SortExpressions:n.SortExpressions,GroupExpressions:n.Group.GroupExpressions}},n.prototype.getDataValueInfo=function(n,t,i){return{__type:"Syncfusion.RDL.DOM.DataValueInfo",Name:n,Field:t,DataField:t.replace(/_/g," "),Value:i}},n.prototype.getDataField=function(n){return n.DataField?n.DataField:n.Field},n.prototype.getFieldValue=function(n,t,i){var r=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"validateExpression",[n,i]);return r?t:i.split("!",2)[1].split(".",2)[0]},n.prototype.getGroupFieldValue=function(n){var i="Expr",t=n.split("!",2)[1].split(".",2);return t[0]+"."+t[1]===n.split("Fields!",2)[1]&&(i=t[0]),i},n.prototype.getRandomPoints=function(n,t,i){for(var u=[],r=0;r<n;r++)u.push({x:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r),y:this.getRandomValues(t,i)});return u},n.prototype.getRandomValues=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},n.prototype.getSeriesLength=function(n,t){var i=ej.isNullOrUndefined(this.chartModel.dataValues)?10:0;return n>0?i=n:t>0&&(i=t),i},n}();window.ej.createObject("ej.DashboardDesignerUtility.ChartDataAssign",InternalChartDataAssign,window);InternalChartProperties=function(){function n(n){this.chartJson=null;this.chartModel=null;this.propertyPanel=null;this.containerProperties=null;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.chartModel=n;this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.saveChartItem=function(n){this.chartJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.chartJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.chartJson.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.chartJson.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in")},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.chartJson.ContainerSettings.Title=i;break;case"ChartType":this.updateChartType(i);break;case"EnableAnimation":this.updateChartAnimation(i);break;case"ShowLegend":this.updateLegendVisibility(i);break;case"LengendPosition":this.updateLegendPosition(i);break;case"ShowValueLabels":this.updateValueLabels(i);break;case"ValueLabelRotation":this.updateValueLabelRotation(i);break;case"ShowValueLabelSuffix":this.updateValueLabelSuffixVisibilty(i);break;case"ValueLabelSuffix":this.updateValueLabelSuffix(i);break;case"CategoryAxis":this.updateCategoryAxisVisibilty(i);break;case"CategoryAxisShowTitle":this.updateCategoryAxisTitleVisibility(i);break;case"CategoryAxisTitleValue":this.updateCategoryAxisTitleValue(i);break;case"CategoryAxisLabelRotation":this.updateCategoryLabelRotation(i);break;case"PrimaryValueAxis":this.updatePrimaryAxisVisibilty(i);break;case"PrimaryAxisTitle":this.updatePrimaryAxisTitleVisibility(i);break;case"PrimaryAxisTitleValue":this.updatePrimaryAxisTitleValue(i);break;case"LableOverflowMode":this.updateLabelOverFlowMode(i);break;case"CategoryGridLines":this.updateCategoryGridLines(i);break;case"PrimaryValueGridLines":this.updatePrimaryValueGridLines(i);break;case"ShowMarker":this.updateMarkerVisibility(i);break;case"DataLabel":this.updateDataLabel(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.chartModel.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.chartModel.chartDiv.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Chart",i));n!=="Series"&&ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-chart-bar",this.chartJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateChartType=function(n){var e=this.chartModel.isDistributionType(n),i=this.chartModel.assignChartType(n),r,s,u,t,o,f;if(this.chartModel.defaultSeries&&!this.chartModel.isShapeChartType(n)&&(o=this.chartModel.isStackedType(this.chartJson.ChartType)&&this.chartModel.isStackedType(n)?this.chartModel.chartObj.model.series:this.chartModel.getDefaultSeries(n),this.chartModel.chartObj.model.series=o),this.chartModel.multiplePropertionChart){for(s=this.chartModel.chartElement.find(".e-datavisualization-chart"),u=0;u<s.length;u++)if(t=$(s[u]).data("ejChart"),!ej.isNullOrUndefined(t)){for(o=this.chartModel.isStackedType(this.chartJson.ChartType)&&this.chartModel.isStackedType(n)?t.model.series:this.chartModel.getDefaultSeries(n),t.model.commonSeriesOptions.type=i,f=0;f<t.model.series.length;f++)t.model.series[f].type=i;t.redraw()}}else{for(this.chartModel.chartObj.model.commonSeriesOptions.type=i,r=0;r<this.chartModel.chartObj.model.series.length;r++)this.chartModel.chartObj.model.series[r].type=i;this.chartModel.chartObj.redraw()}this.chartJson.ChartType=this.chartModel.chartType=n;this.propertyPanel.updateItemVisibility("Chart","BasicSettings","ShowMarker",e);e?this.updateMarkerVisibility(this.chartJson.ShowMarker):this.updateMarkerVisibility(e)},n.prototype.updateChartAnimation=function(n){var r,t,i;if(this.chartJson.EnableAnimation=n,this.chartModel.multiplePropertionChart)for(r=this.chartModel.chartElement.find(".e-datavisualization-chart"),t=0;t<r.length;t++)i=$(r[t]).data("ejChart"),ej.isNullOrUndefined(i)||(i.option("commonSeriesOptions.enableAnimation",this.chartJson.EnableAnimation),i.animate());else this.chartModel.chartObj.option("commonSeriesOptions.enableAnimation",this.chartJson.EnableAnimation),this.chartModel.chartObj.animate()},n.prototype.updateLegendVisibility=function(n){var r,t,i;if(this.chartJson.ShowLegend=n,this.chartModel.multiplePropertionChart)for(r=this.chartModel.chartElement.find(".e-datavisualization-chart"),t=0;t<r.length;t++)i=$(r[t]).data("ejChart"),ej.isNullOrUndefined(i)||(i.model.legend.visible=this.chartJson.ShowLegend,i.redraw());else this.chartModel.chartObj.model.legend.visible=this.chartJson.ShowLegend,this.chartModel.chartObj.redraw();this.propertyPanel.updateItemVisibility("Chart","BasicSettings","LengendPosition",n)},n.prototype.updateLegendPosition=function(n){var r,t,i;if(this.chartJson.LegendPosition=n,this.chartModel.multiplePropertionChart)for(r=this.chartModel.chartElement.find(".e-datavisualization-chart"),t=0;t<r.length;t++)i=$(r[t]).data("ejChart"),ej.isNullOrUndefined(i)||(i.model.legend.position=this.chartJson.LegendPosition,i.redraw());else this.chartModel.chartObj.model.legend.position=this.chartJson.LegendPosition,this.chartModel.chartObj.redraw()},n.prototype.updateValueLabels=function(n){var i,f,r,t,u;if(this.chartJson.ShowValueLabels=n,this.chartModel.multiplePropertionChart){for(f=this.chartModel.chartElement.find(".e-datavisualization-chart"),r=0;r<f.length;r++)if(t=$(f[r]).data("ejChart"),!ej.isNullOrUndefined(t)){for(t.model.commonSeriesOptions.marker.dataLabel.visible=n,u=0;u<t.model.series.length;u++)t.model.series[u].marker.dataLabel.visible=n;t.redraw()}}else{for(i=0;i<this.chartModel.chartObj.model.series.length;i++)this.chartModel.chartObj.model.series[i].marker.dataLabel.visible=n;this.chartModel.chartObj.model.commonSeriesOptions.marker.dataLabel.visible=n;this.chartModel.chartObj.redraw()}this.chartModel.isShapeChartType(this.chartJson.ChartType)?this.propertyPanel.updateItemVisibility("Chart","BasicSettings","DataLabel",n):this.propertyPanel.updateItemVisibility("Chart","BasicSettings","ValueLabelRotation",n);this.propertyPanel.updateItemVisibility("Chart","BasicSettings","ShowValueLabelSuffix",n)},n.prototype.updateValueLabelRotation=function(n){var i,f,r,t,u;if(this.chartJson.ValueLabelsRotation=n,this.chartModel.multipleProportionChart){for(f=this.chartModel.chartElement.find(".e-datavisualization-chart"),r=0;r<f.length;r++)if(t=$(f[r]).data("ejChart"),!ej.isNullOrUndefined(t)){for(t.model.commonSeriesOptions.marker.dataLabel.angle=this.chartJson.ValueLabelsRotation,u=0;u<t.model.series.length;u++)t.model.series[u].marker.dataLabel.angle=this.chartJson.ValueLabelsRotation;t.redraw()}}else{for(i=0;i<this.chartModel.chartObj.model.series.length;i++)this.chartModel.chartObj.model.series[i].marker.dataLabel.angle=this.chartJson.ValueLabelsRotation;this.chartModel.chartObj.model.commonSeriesOptions.marker.dataLabel.angle=this.chartJson.ValueLabelsRotation;this.chartModel.chartObj.redraw()}},n.prototype.updateValueLabelSuffixVisibilty=function(n){this.chartJson.ShowValueLabels&&(this.chartJson.ShowValueLabelSuffix=n);this.updateValueLabelSuffix(this.chartJson.ValueLabelSuffix);this.propertyPanel.updateItemVisibility("Chart","BasicSettings","ValueLabelSuffix",n)},n.prototype.updateValueLabelSuffix=function(n){var f,h,t,e,r,o,u,s,i;if(this.chartModel.isShapeChartType(this.chartJson.ChartType)&&this.updateDataLabel(this.chartJson.DataLabel),this.chartJson.ValueLabelSuffix=n,this.chartModel.multiplePropertionChart){for(h=this.chartModel.chartElement.find(".e-datavisualization-chart"),t=0;t<h.length;t++)if(e=$(h[t]).data("ejChart"),!ej.isNullOrUndefined(e)){for(r=e.model.series,o=0;o<r.length;o++)for(u=r[o].points,s=0;s<u.length;s++)i=u[s],i.text=this.chartJson.ShowValueLabelSuffix?i.text+" "+n:i.text;e.redraw()}}else{for(r=this.chartModel.chartObj.model.series,f=0;f<r.length;f++)for(u=r[f].points,t=0;t<u.length;t++)i=u[t],i.text=this.chartJson.ShowValueLabelSuffix?i.text+" "+n:i.text;this.chartModel.chartObj.redraw()}},n.prototype.updateCategoryAxisVisibilty=function(n){this.propertyPanel.updateItemVisibility("Chart","BasicSettings","CategoryAxisTitle",n);this.propertyPanel.updateItemVisibility("Chart","BasicSettings","LabelOverFlowMode",n);this.chartModel.chartObj.model.primaryXAxis.visible=this.chartJson.Axis.CategoryAxis.IsEnabled=n;this.chartModel.chartObj.redraw()},n.prototype.updateCategoryAxisTitleVisibility=function(n){this.propertyPanel.updateItemVisibility("Chart","Axis","CategoryAxisTitleValue",n);this.chartModel.chartObj.model.primaryXAxis.title.visible=this.chartJson.Axis.CategoryAxis.ShowTitle=n;this.chartModel.chartObj.redraw()},n.prototype.updateCategoryAxisTitleValue=function(n){this.chartJson.Axis.CategoryAxis.Title=n;this.chartModel.chartObj.model.primaryXAxis.title.text=n;this.chartModel.chartObj.redraw()},n.prototype.updatePrimaryAxisVisibilty=function(n){this.chartJson.Axis.PrimaryValueAxis.IsEnabled=n;this.propertyPanel.updateItemVisibility("Chart","Axis","PrimaryAxisTitle",n);this.chartModel.chartObj.model.primaryYAxis.visible=n;this.chartModel.chartObj.redraw()},n.prototype.updatePrimaryAxisTitleVisibility=function(n){this.chartJson.Axis.PrimaryValueAxis.ShowTitle=this.chartModel.chartObj.model.primaryYAxis.title.visible=n;this.propertyPanel.updateItemVisibility("Chart","Axis","PrimaryAxisTitleValue",n);this.chartModel.chartObj.redraw()},n.prototype.updatePrimaryAxisTitleValue=function(n){this.chartModel.chartObj.model.primaryYAxis.title.text=this.chartJson.Axis.PrimaryValueAxis.Title=n;this.chartModel.chartObj.redraw()},n.prototype.updateLabelOverFlowMode=function(n){this.chartModel.chartObj.model.primaryXAxis.labelIntersectAction=this.chartJson.Axis.CategoryAxis.LabelOverFlowMode=n;this.chartModel.chartObj.redraw()},n.prototype.updateCategoryLabelRotation=function(n){this.chartModel.chartObj.model.primaryXAxis.labelRotation=this.chartJson.Axis.CategoryAxis.LabelRotation=n;this.chartModel.chartObj.redraw()},n.prototype.updateCategoryGridLines=function(n){this.chartModel.chartObj.model.primaryXAxis.majorGridLines.visible=this.chartJson.CategoryGridLines=n;this.chartModel.chartObj.redraw()},n.prototype.updatePrimaryValueGridLines=function(n){this.chartModel.chartObj.model.primaryYAxis.majorGridLines.visible=this.chartJson.PrimaryValueGridLines=n;this.chartModel.chartObj.redraw()},n.prototype.updateMarkerVisibility=function(n){this.chartModel.isDistributionType(this.chartJson.ChartType)&&(this.chartJson.ShowMarker=n);this.chartModel.chartObj.model.commonSeriesOptions.marker.visible=n;for(var t=0;t<this.chartModel.chartObj.model.series.length;t++)this.chartModel.chartObj.model.series[t].marker.visible=n;this.chartModel.chartObj.redraw()},n.prototype.updateDataLabel=function(n){var i,t,r;if(this.chartModel.dataGroupInfo.Values.length>0&&this.chartModel.dataGroupInfo.Values[0].Name==="YValue"&&this.chartModel.dataGroupInfo.Values[0].Values.length>0)if(this.chartJson.DataLabel=n,this.chartModel.multiplePropertionChart)for(i=this.chartModel.chartElement.find(".e-datavisualization-chart"),t=0;t<i.length;t++)r=$(i[t]).data("ejChart"),ej.isNullOrUndefined(r)||this.updateDataLabelValues(n,r);else this.updateDataLabelValues(n,this.chartModel.chartObj)},n.prototype.updateDataLabelValues=function(n,t){for(var i,u=t.model.series,r=0;r<t.model.series.length;r++){var f=u[r].points,e=u[r].total,o=u[r].formattedtext;for(i=0;i<f.length;i++)DataLabel.percentage===n?t.model.series[r].points[i].text=this.getPercetageValueForPoints(f[i],e).toString():DataLabel.value===n?t.model.series[r].points[i].text=o[i].toString():DataLabel.valueAndPercentage===n&&(t.model.series[r].points[i].text=t.model.series[r].formattedtext[i]+"("+this.getPercetageValueForPoints(f[i],e).toString()+")")}t.redraw()},n.prototype.getPercetageValueForPoints=function(n,t){return parseFloat((n.y*100/t).toFixed(2))+"%"},n.prototype.getPropertyGridItems=function(){var n={Header:this.chartJson.ContainerSettings.Title,Type:"Chart",Items:[{CategoryName:"Basic Settings",Items:[{name:"ChartType",displayName:"Chart Type",value:this.chartJson.ChartType,itemType:"dropdown",valueList:this.chartModel.isShapeChartType(this.chartJson.ChartType)?["Pie","Doughnut","Pyramid","Funnel"]:["Bar","Column","Line","Area","Spline","Stacked Column","Stacked Bar","Stacked Area","100% Stacked Column","100% Stacked Area","100% Stacked Bar"],enableExpression:!1},{name:"EnableAnimation",displayName:"Enable Animation",value:this.chartJson.EnableAnimation,itemType:"bool",enableExpression:!1},{name:"ShowLegend",displayName:"Show Legend",value:ej.isNullOrUndefined(this.chartJson.ShowLegend)?!1:this.chartJson.ShowLegend,itemType:"bool",enableExpression:!1},{name:"LengendPosition",displayName:"Legend Position",isVisible:ej.isNullOrUndefined(this.chartJson.ShowLegend)?!1:this.chartJson.ShowLegend,itemType:"dropdown",value:this.chartJson.LegendPosition,valueList:["Top","Left","Right","Bottom"],enableExpression:!1},{name:"ShowValueLabels",displayName:"Show Value Labels",value:this.chartJson.ShowValueLabels,itemType:"bool",enableExpression:!1},{name:"ValueLabelRotation",displayName:"Value Label Rotation",isVisible:!this.chartModel.isShapeChartType(this.chartJson.ChartType)&&this.chartJson.ShowValueLabels,itemType:"dropdown",value:this.chartJson.ValueLabelRotation==="None"?0:this.chartJson.ValueLabelRotation,valueList:["0","+90","-90","45","-45"],enableExpression:!1},{name:"DataLabel",displayName:"Data Label",isVisible:!this.chartModel.isShapeChartType(this.chartJson.ChartType)&&this.chartJson.ShowValueLabels,itemType:"dropdown",value:this.chartJson.DataLabel,valueList:["Value","Percentage","Value And Percentage"],enableExpression:!1},{name:"ShowValueLabelSuffix",displayName:"Value Label Suffix",isVisible:this.chartJson.ShowValueLabels,value:this.chartJson.ShowValueLabelSuffix,itemType:"bool",enableExpression:!1},{name:"ValueLabelSuffix",displayName:"Suffix Value",value:this.chartJson.ValueLabelSuffix,itemType:"string",isVisible:this.chartJson.ShowValueLabelSuffix,enableExpression:!1},{name:"ShowMarker",displayName:"Show Marker",value:this.chartJson.ShowMarker,isVisible:this.chartJson.ShowMarker,itemType:"bool",enableExpression:!1}]},{CategoryName:"Axis",IsVisible:this.chartModel.isShapeChartType(this.chartJson.ChartType)?!1:!0,Items:[{name:"CategoryAxis",displayName:"Category Axis",value:this.chartJson.Axis.CategoryAxis.IsEnabled,itemType:"bool",enableExpression:!1},{name:"CategoryAxisShowTitle",displayName:"Category Axis Title",isVisible:this.chartJson.Axis.CategoryAxis.IsEnabled,value:this.chartJson.Axis.CategoryAxis.ShowTitle,itemType:"bool",enableExpression:!1},{name:"CategoryAxisTitleValue",displayName:"Category Axis Title Value",isVisible:this.chartJson.Axis.CategoryAxis.ShowTitle,value:"",itemType:"string",enableExpression:!1},{name:"LableOverflowMode",displayName:"Label Overflow Mode",isVisible:this.chartJson.Axis.CategoryAxis.IsEnabled,value:this.chartJson.Axis.CategoryAxis.LabelOverflowMode,itemType:"dropdown",valueList:["Trim","Hide"],enableExpression:!1},{name:"CategoryAxisLabelRotation",displayName:"Value Label Rotation",isVisible:this.chartJson.Axis.CategoryAxis.IsEnabled?this.chartJson.Axis.CategoryAxis.IsEnabled:!1,itemType:"dropdown",value:this.chartJson.Axis.CategoryAxis.LabelRotation==="None"?0:this.chartJson.Axis.CategoryAxis.LabelRotation,valueList:["0","+90","-90","45","-45"],enableExpression:!1},{name:"PrimaryValueAxis",displayName:"Primary Value Axis",value:this.chartJson.Axis.PrimaryValueAxis.IsEnabled,itemType:"bool",enableExpression:!1},{name:"PrimaryAxisTitle",displayName:"Primary Axis Title",value:this.chartJson.Axis.PrimaryValueAxis.ShowTitle,itemType:"bool",enableExpression:!1},{name:"PrimaryAxisTitleValue",displayName:"Primary Axis Title Value",isVisbile:this.chartJson.Axis.PrimaryValueAxis.ShowTitle,itemType:"string",enableExpression:!1},]},{CategoryName:"Grid Lines",IsVisible:this.chartModel.isShapeChartType(this.chartJson.ChartType)?!1:!0,Items:[{name:"CategoryGridLines",displayName:"Category Grid Lines",value:this.chartJson.CategoryGridLines,itemType:"bool",enableExpression:!1},{name:"PrimaryValueGridLines",displayName:"Primary Value Grid Lines",value:this.chartJson.PrimaryValueGridLines,itemType:"bool",enableExpression:!1}]}]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.chartJson.ContainerSettings,this.chartModel.controlContainer,this.chartModel.controlHeader)),n},n}();window.ej.createObject("ej.DashboardDesignerUtility.ChartProperties",InternalChartProperties,window);InternalChartReportItem=function(){function n(){this.chartJson=null;this.chartItem=null;this.chartObj=null;this.chartType="column";this.legendLeftPosition=0;this.legendTopPosition=0;this.legendCustomWidth=20;this.legendCustomHeight=20;this.dataGroupInfo={};this.selectedSeriesIndex=0;this.chartProperties=null;this.chartDataAssign=null;this.layoutUpdateTimeOut=null;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.controlContainer=null;this.contentContainer=null;this.reportName=null;this.controlType=null;this.dataConfiguration=null;this.dataValues=null;this.cellInfo=null;this.chartElement=null;this.chartContent=null;this.multiplePropertionChart=!1;this.defaultSeries=!1;this.chartProperties=new ej.DashboardDesignerUtility.ChartProperties(this);this.chartDataAssign=new ej.DashboardDesignerUtility.ChartDataAssign(this);this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.chart;this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration")}return n.prototype.renderChartReportElement=function(n,t){try{this.chartJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderChartItem();ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.chartJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderReportItem=function(n,t,i){try{var u=i.attr("id");this.chartJson=this.chartProperties.chartJson=this.chartDataAssign.chartJson=this.getChartJson();this.chartType=this.chartJson.ChartType=t;this.chartJson.ContainerSettings.Title=this.chartJson.UniqueName=this.reportName;this.renderChartItem();this.setChartType(t);this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderReportItem","e-chart-bar",this.chartJson.UniqueName,null,[n,u,t])}catch(r){this.designPanel.logError({Source:this.chartJson.UniqueName,Error:r,Type:r.name})}},n.prototype.getChartJson=function(){return new ChartProperties},n.prototype.openReportItem=function(n,t){try{this.chartJson=ejDashboardDesigner.editManager.isPerformAction?this.chartProperties.chartJson=this.chartDataAssign.chartJson=$.extend(!0,{},n):this.chartProperties.chartJson=this.chartDataAssign.chartJson=n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(n.Left.size),top:ej.DashboardUtil.getPixelVal(n.Top.size),width:ej.DashboardUtil.getPixelVal(n.Width.size),height:ej.DashboardUtil.getPixelVal(n.Height.size)};this.renderChartItem();ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer);this.openChartItem(n)}catch(i){this.designPanel.logError({Source:this.chartJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderChartItem=function(){var n=this.isHeaderVisible?this.controlHeader.outerHeight(!0)+"px":"100%";this.chartElement=ej.buildTag("div.chartElement e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998"},{id:this.designPanel.designId+"chartElement"+this.chartJson.UniqueName});this.chartItem=ej.buildTag("div.chartitem","",{width:"100%",height:"100%",position:"relative","font-size":"10pt","background-color":"white"},{id:this.designPanel.designId+"chartItem"+this.chartJson.UniqueName});this.chartElement.append(this.chartItem);this.contentContainer.append(this.chartElement);this.controlContainer.data("Chart",this)},n.prototype.setChartType=function(n){this.setMarkerVisibilty(n);var t=this.isShapeChartType(this.chartJson.ChartType)?this.getProportionChartElement(this.chartJson):this.getCartesianChartElement(this.chartJson);t.series=this.getDefaultSeries(n);t.width="100%";t.height="100%";t.commonSeriesOptions.type=this.assignChartType(n,t);this.chartItem.ejChart(t);this.chartObj=this.chartDataAssign.chartObj=this.chartItem.data("ejChart");this.chartJson.ShowValueLabelSuffix&&this.chartProperties.updateValueLabelSuffix(this.chartJson.ValueLabelSuffix)},n.prototype.assignChartType=function(n){var t=null;switch(n){case"Column":t="column";break;case"Stacked Column":t="stackingcolumn";break;case"100% Stacked Column":t="stackingcolumn100";break;case"Bar":t="bar";break;case"Stacked Bar":t="stackingbar";break;case"100% Stacked Bar":t="stackingbar100";break;case"Line":t="line";break;case"Smooth Line":case"Spline":t="spline";break;case"Pie":t="pie";break;case"Doughnut":t="doughnut";break;case"Pyramid":t="pyramid";break;case"Funnel":t="funnel";break;case"Area":t="area";break;case"Stacked Area":t="stackingarea";break;case"100% Stacked Area":t="stackingarea100";break;case"Scatter":t="scatter";break;case"Bubble":t="bubble";break;case"Polar":t="polar";break;case"Radar":t="radar";break;default:t="column"}return t},n.prototype.setMarkerVisibilty=function(n){switch(n){case"Line":case"Area":case"Stcaked Area":case"100% Stacked Area":case"Spline":this.chartJson.ShowMarker=!0}},n.prototype.getCartesianChartElement=function(n){return{series:[],isResponsive:!0,primaryXAxis:{title:{font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"},text:n.Axis.CategoryAxis.ShowTitle?n.Axis.CategoryAxis.Title:"",visible:n.Axis!==undefined?n.Axis.CategoryAxis.IsEnabled:!0},visible:n.Axis!==undefined?n.Axis.CategoryAxis.IsEnabled:!0,labelRotation:n.Axis!==undefined?n.Axis.CategoryAxis.LabelRotation!=="None"?n.Axis.CategoryAxis.LabelRotation:0:0,labelIntersectAction:n.Axis!==undefined?n.Axis.CategoryAxis.LabelOverflowMode:"multipleRows",majorGridLines:{visible:n.CategoryGridLines},valueType:"Category"},primaryYAxis:{majorGridLines:{visible:n.PrimaryValueGridLines},title:{font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"},text:n.Axis.PrimaryValueAxis.ShowTitle?n.Axis.PrimaryValueAxis.Title:"",visible:n.Axis!==undefined?n.Axis.PrimaryValueAxis.IsEnabled:!0},visible:n.Axis!==undefined?n.Axis.PrimaryValueAxis.IsEnabled:!0,labelFormat:"{value}"},palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],commonSeriesOptions:{enableAnimation:n.EnableAnimation,tooltip:{visible:!0},marker:{dataLabel:{font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"},textPosition:"top",horizontalTextAlignment:"middle",angle:n.ShowValueLabels?n.ValueLabelsRotation:0,visible:n.ShowValueLabels,enableWrap:!0},shape:"circle",size:{height:6,width:6},enableSmartLabels:!0,visible:n.ShowMarker}},showTooltip:!0,enableSmartLabels:!0,legend:{visible:n.ShowLegend,shape:"seriesType",position:ej.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,n.LegendPosition),alignment:"Center",font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"}},toolTipInitialize:$.proxy(this.toolTipForChart,this)}},n.prototype.getProportionChartElement=function(n){return{series:[],palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],commonSeriesOptions:{enableAnimation:n.EnableAnimation,tooltip:{visible:!0},labelPosition:"outside",marker:{dataLabel:{font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"},textPosition:"top",horizontalTextAlignment:"middle",visible:n.ShowValueLabels},shape:"circle",size:{height:6,width:6},visible:n.ShowMarker}},title:{font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"},visible:!0,textOverflow:"trim"},isResponsive:!0,enableSmartLabels:!0,showTooltip:!0,legend:{visible:n.ShowLegend,shape:"seriesType",position:n.LegendPosition,alignment:"center",font:{size:"13px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular"}},toolTipInitialize:$.proxy(this.toolTipForChart,this)}},n.prototype.toolTipForChart=function(n){var u=this.dataGroupInfo,o=0,s=0,c=0,v=0,h=0,f=0,r,e;if(!ej.isNullOrUndefined(u.Values))for(r=0;r<u.Values.length;r++)u.Values[r].Name==="Column"?(o=u.Values[r].Values.length,h=r):u.Values[r].Name==="Row"?(f=u.Values[r].Values.length,c=r):(s=u.Values[r].Values.length,v=r);var i=0,a=1,t=this.isShapeChartType(this.chartJson.ChartType)?n.model._visibleSeries[n.data.seriesIndex].visiblePoints[n.data.pointIndex]:n.model._visibleSeries[n.data.seriesIndex]._visiblePoints[n.data.pointIndex],l=" (";s>i&&o===i&&f===i?n.data.currentText=n.model._visibleSeries[n.data.seriesIndex].name+" : "+(ej.isNullOrUndefined(t.text)?t.y:t.text):s>i&&o>i&&f===i?n.data.currentText=n.model.legend.responsiveVisibility?this.dataGroupInfo.Values[h].Values[0].DataField+": "+n.model._visibleSeries[n.data.seriesIndex]._visiblePoints[n.data.pointIndex].x+"<br/>"+n.model._visibleSeries[n.data.seriesIndex].name+" : "+(ej.isNullOrUndefined(t.text)?t.y:t.text):t.x+"<br/>"+n.model._visibleSeries[n.data.seriesIndex].name+" : "+(ej.isNullOrUndefined(t.text)?t.y:t.text):s>i&&o===i&&f>i?n.data.currentText=this.dataGroupInfo.Values[c].Values[0].DataField+":"+(this.isCartesianChartType(this.chartJson.ChartType)?n.model._visibleSeries[n.data.seriesIndex].name.split(l)[0]:n.model._visibleSeries[n.data.seriesIndex].name)+"<br/>"+(this.isCartesianChartType(this.chartJson.ChartType)?n.model._visibleSeries[n.data.seriesIndex].name.split(l)[1]:this.isShapeChartType(this.chartJson.ChartType)?n.model._visibleSeries[n.data.seriesIndex].points[0].x:n.model._visibleSeries[n.data.seriesIndex].name)+":"+(ej.isNullOrUndefined(t.text)?t.y:t.text):s>i&&o>i&&f>i&&(e=n.model._visibleSeries[n.data.seriesIndex].name.split(l),this.isShapeChartType(this.chartJson.ChartType)?n.model.legend.responsiveVisibility&&(n.data.currentText=this.dataGroupInfo.Values[h].Values[0].DataField+" : "+n.model._visibleSeries[n.data.seriesIndex]._visiblePoints[n.data.pointIndex].x+"<br/>"+e[1].substring(i,e[1].length-a)+" : "+(ej.isNullOrUndefined(t.text)?t.y:t.text)):n.model.legend.responsiveVisibility&&(n.data.currentText=this.dataGroupInfo.Values[c].Values[f-1].DataField+" : "+e[0]+"<br/>"+this.dataGroupInfo.Values[h].Values[0].DataField+" : "+n.model._visibleSeries[n.data.seriesIndex]._visiblePoints[n.data.pointIndex].x+"<br/>"+e[1].substring(i,e[1].length-a)+" : "+(ej.isNullOrUndefined(t.text)?t.y:t.text)))},n.prototype.changeVisibility=function(n){n.model.title.responsiveVisibility=n.model.title.visible},n.prototype.getDefaultSeries=function(n){var i,r,t,f,e;this.defaultSeries=!0;var o=this.isStackedType(n)?2:1,s=this.isShapeChartType(n),u=[];for(i=0;i<o;i++){for(r=[],t=1;t<=6;t++)f={x:s?t:"Item"+t,y:t-1,text:(t-1).toString()},r.push(f);e="series"+i;u.push({points:r,name:e})}return u},n.prototype.getSeriesValues=function(n){var r=this.dataGroupInfo,d=0,h=0,o=0,v=0,g=0,y=0,u,t,w,s,l,b,nt,k,a,e,f,i,et,tt;if(!ej.isNullOrUndefined(r.Values))for(u=0;u<r.Values.length;u++)r.Values[u].Name==="Column"?(d=r.Values[u].Values.length,v=u):r.Values[u].Name==="Row"?(h=r.Values[u].Values.length,g=u):(o=r.Values[u].Values.length,y=u);if(this.isShapeChartType(this.chartType))e=[],this.setShapeSeriesPoints(e,{length:v,index:v},{length:h,index:g},{length:o,index:y}),this.updateDataLabel(e),n.push({points:e,name:o>0?this.chartDataAssign.getDataField(this.dataGroupInfo.Values[y].Values[0]):""});else{var ot=d>0||ej.isNullOrUndefined(r.Values)?6:1,ut=this.chartDataAssign.getSeriesLength(h,o),c=o>0?r.Values[y].Values:[],p=d>0?r.Values[v].Values:[],it=h?r.Values[g].Values:[];if(ej.isNullOrUndefined(this.dataValues)||this.dataValues.data=="[]"||typeof this.dataValues=="string"&&this.dataValues.indexOf("Sf_Exception")!==-1)n=this.getDefaultSeries(this.chartJson.ChartType);else if(t=JSON.parse(this.dataValues.data),w=JSON.parse(this.dataValues.columnBindings),t.length>0&&h>0&&o>0){if(s=[],!ej.isNullOrUndefined(it)){for(l=w[it[0].DataField],b=0;b<t.length;b++)nt=t[b][l],s.indexOf(nt)===-1&&s.push(nt);for(f=0;f<c.length;f++)for(k=c[f].DataField,a=0;a<s.length;a++){for(e=[],i=0;i<t.length;i++){var ft=p.length>0?t[i][p[0].DataField]:k,rt=t[i][l]===s[a]?t[i][w[k]]:0,tt={x:ft,y:rt,text:rt.toString()};e.push(tt)}n.push({points:e,name:this.getLegendNameOfRows(s[a],f)})}}}else if(t.length>0&&c.length>0)for(f=0;f<c.length;f++){var k=c[f].DataField,l=w[k],e=[];for(i=0;i<t.length;i++)et=t[i],tt={x:p.length>0?t[i][p[0].DataField]:"Grand Total",y:t[i][l],text:t[i][l].toString()},e.push(tt);n.push({points:e,name:this.getLegendNameOfValues(f)})}else ut=10,n=this.getDefaultSeries(this.chartJson.ChartType)}return n},n.prototype.getLegendNameOfRows=function(n,t){var i=this.getLegendNameOfValues(t);return n+"("+i+")"},n.prototype.getLegendNameOfValues=function(n){return this.dataGroupInfo.Values[0].Values[n].SummaryType+" of "+this.dataGroupInfo.Values[0].Values[n].DataField},n.prototype.getSeriesWithPoints=function(n,t,i,r){var f=this.dataGroupInfo,v=0,l=0,o=0,y=0,s=0,h=0,e,c,u,a;if(!ej.isNullOrUndefined(f.Values))for(u=0;u<f.Values.length;u++)f.Values[u].Name==="Column"?(v=f.Values[u].Values.length,y=u):f.Values[u].Name==="Row"?(l=f.Values[u].Values.length,s=u):(o=f.Values[u].Values.length,h=u);if(e="",l>0)if(o>0){for(c=0,u=1;u<=o;u++)i+1%r===u&&(c=u-1);a=this.chartDataAssign.getDataField(f.Values[h].Values[c]);e=this.chartDataAssign.getMergeText(f.Values[s].Values,i,r)+a}else e=this.chartDataAssign.getSeriesName(f.Values[s].Values),e=e[i]+(i%2==0?" - Series 1":" - Series 2");else e=o>0?this.chartDataAssign.getDataField(f.Values[h].Values[i]):"Series "+(i+1).toString();return this.updateDataLabel(t),n.push({points:t,name:e}),n},n.prototype.setChartSeriesValues=function(n,t,i,r){var c=n.length,u,h,f,s,e,o;if(i>0)if(this.isShapeChartType(this.chartType))for(u=0;u<i;u++)for(f=0;f<n[0].points.length;f++)f%t.length===u&&(s=n[0].points[f]?n[0].points[f]:n[0].points[0],s=this.getChartSeries(s,t[u],f));else for(u=0;u<i;u++)if(h=t[u],r>0)for(e=0;e<c;e++)e%i===u&&(o=n[e]?n[e]:n[0],o=this.getChartSeries(o,h,u));else o=n[u]?n[u]:n[0],o=this.getChartSeries(o,h,u);else if(this.isShapeChartType(this.chartType))for(f=0;f<n[0].points.length;f++)f%t.length==0&&(s=n[0].points[f]?n[0].points[f]:n[0].points[0],s=this.getChartSeries(s,t[0],f),s.marker={dataLabel:{visible:!0,font:{size:Math.round(ej.DashboardUtil.getPixelVal("8pt")),color:"gray"}}});else for(e=0;e<c;e++)o=n[e]?n[e]:n[0],o=this.getChartSeries(o,t[0],e)},n.prototype.chartRefresh=function(){this.chartObj.redraw()},n.prototype.setChartSeries=function(n){this.chartObj.model.series=[];this.dataGroupInfo=n;this.chartObj.model.series=this.getSeriesValues(this.chartObj.model.series);this.chartRefresh()},n.prototype.setShapeSeriesPoints=function(n,t,i,r){var o,s,c,h,f,u,e;if(i.length===0&&r.length===0)for(f=1;f<=6;f++)n.push({x:"Category "+f.toString(),y:this.chartDataAssign.getRandomValues(20,90)});else{if(o=0,i.length>0)for(c=i.length*6*(r.length?r.length:1),f=0;f<c;f++){for(u="",s=0;s<i.length;s++)s>0&&(u=u+" - "),u=u+this.chartDataAssign.getDataField(this.dataGroupInfo.Values[i.index].Values[s]);u=u+(f%6<3?" A":" B")+(f%3+1).toString();e=this.chartDataAssign.getRandomValues(20,90);n.push({x:u,y:e,text:""});o+=e}else if(t.length>0)for(c=(r.length?r.length:1)*6,f=0;f<c;f++){for(u="",h=0;h<t.length;h++)h>0&&(u=u+" - "),u=u+this.chartDataAssign.getDataField(this.dataGroupInfo.Values[t.index].Values[h]);u=u+" "+(f%6+1).toString();e=this.chartDataAssign.getRandomValues(20,90);n.push({x:u,y:e,text:""});o+=e}else for(f=0;f<(r.length?r.length:1);f++)u=this.chartDataAssign.getDataField(this.dataGroupInfo.Values[r.index].Values[f]),e=this.chartDataAssign.getRandomValues(20,90),n.push({x:u,y:e,text:""}),o+=e;this.setPercentageValue(n,o)}},n.prototype.setPercentageValue=function(n,t){for(var i=0;i<n.length;i++)n[i].text=parseFloat((n[i].y*100/t).toFixed(2))+"%"},n.prototype.updateDataLabel=function(){},n.prototype.setDataLabelText=function(n,t,i,r){var u="",f;if(i.Visible)if(f=parseInt(n.y!==null?n.y.toString():"",10),i.UseValueAsLabel)u=!ej.isNullOrUndefined(i.Style.Format)&&i.Style.Format!==""?n.y.toString():f.toString(),n.text=u;else if(!ej.isNullOrUndefined(i.Label)&&i.Label!==""){switch(i.Label.toLowerCase()){case"#valx":u="0";break;case"#valy":case"#valy2":case"#valy3":case"#valy4":case"#valy5":case"#valy6":u=f.toString();break;case"#index":u=r.toString();break;case"#percent":u=parseFloat((n.y*100/t).toFixed(2))+"%";break;case"#total":u=t.toString();break;case"#axislabel":u=n.x!==null?n.x.toString():"";break;case"none":u="";break;default:u=ej.DashboardUtil.isExpression(i.Label)?i.Label:"«Expr»"}n.text=u}},n.prototype.getChartSeries=function(n,t,i){if(!ej.isNullOrUndefined(t)&&t.ChartDataPoints[0]){var r=t.ChartDataPoints[0],u=r.ChartMarker,f=r.ChartDataLabel;n.fill=r.Style&&r.Style.Color?r.Style.Color:"";n.border={color:r.Style&&r.Style.Border&&r.Style.Border.Color?r.Style.Border.Color:"transparent",width:r.Style&&r.Style.Border&&r.Style.Border.Width?Number(ej.DashboardUtil.getSizeVal(r.Style.Border.Width.size)):1,dashArray:this.getBorderStyle(r.Style&&r.Style.Border?r.Style.Border.Style:"Default")};u&&!this.isShapeChartType(this.chartType)&&(n.marker=this.getChartMarker(u,i));f&&(u&&!this.isShapeChartType(this.chartType)?n.marker.dataLabel=this.getChartDataLabel(f):n.marker={dataLabel:this.getChartDataLabel(f)})}return n},n.prototype.getChartMarker=function(n,t){var i=n.Size?Number(ej.DashboardUtil.getSizeVal(n.Size.size)):6,r=this.chartType==="Scatter"&&(n.Type==="None"||n.Type==="Auto")?this.getMarkerShape(t):n.Type?this.getMarkerType(n.Type):"none";return{visible:!0,size:{width:i,height:i},shape:r,fill:n.Style&&n.Style.Color?n.Style.Color:"",border:{color:n.Style&&n.Style.Border&&n.Style.Border.Color?n.Style.Border.Color:"transparent",width:n.Style&&n.Style.Border&&n.Style.Border.Width?Number(ej.DashboardUtil.getSizeVal(n.Style.Border.Width.size)):1}}},n.prototype.getChartDataLabel=function(){},n.prototype.openChartItem=function(n){this.chartType=this.getChartType(n);this.chartDataAssign.openChartDataGroup(n);this.chartItem.css({});this.setChartType(this.chartType)},n.prototype.getCustomProp=function(n){for(var t=0;t<n.length;t++)switch(this.chartType){case"Pie":case"Exploded Pie":case"Doughnut":if(n[t].Name==="PieLabelStyle")return n[t];break;case"Funnel":if(n[t].Name==="FunnelLabelStyle")return n[t];break;case"Pyramid":if(n[t].Name==="PyramidLabelStyle")return n[t];break;case"Bar":case"Stacked Bar":case"Stacked Bar100%":if(n[t].Name==="BarLabelStyle")return n[t];break;case"Column":case"Line":case"Smooth Line":case"Stepped Line":case"Line with Markers":case"SmoothLine with Markers":case"Area":case"Smooth Area":case"Scatter":case"Bubble":case"Range":case"Polar":case"Radar":if(n[t].Name==="LabelStyle")return n[t]}},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.chartJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updateSize=function(n,t){var i,r;this.controlContainer.css({width:n,height:t});this.multiplePropertionChart?(i=this.getSeriesForRenderedCharts(),i.length>0&&this.renderMultipleProportionCharts(i)):(r=150,this.chartObj.model.primaryYAxis.title.visible=n/this.chartObj.model.yZoomFactor>r,this.chartObj.model.primaryXAxis.title.visible=t/this.chartObj.model.yZoomFactor>r,this.chartObj.model.legend.visible=t/this.chartObj.model.yZoomFactor>150,this.chartRefresh(),this.chartRefresh());this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.chartJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updateItemSize=function(n,t,i,r){var u,f;this.controlContainer.css({left:n,top:t,width:i,height:r});this.multiplePropertionChart?(u=this.getSeriesForRenderedCharts(),u.length>0&&this.renderMultipleProportionCharts(u)):(f=150,this.chartObj.model.primaryYAxis.title.visible=i/this.chartObj.model.yZoomFactor>f,this.chartObj.model.primaryXAxis.title.visible=r/this.chartObj.model.yZoomFactor>f,this.chartObj.model.legend.visible=r/this.chartObj.model.yZoomFactor>150,this.chartRefresh());this.chartJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.designPanel.updateWidgetSelectionBox(this.controlContainer)},n.prototype.getSeriesForRenderedCharts=function(){for(var t,i=this.chartElement.find(".e-datavisualization-chart"),r=[],n=0;n<i.length;n++)t=$(i[n]).data("ejChart"),ej.isNullOrUndefined(t)||r.push(t.model.series[0]);return r},n.prototype.updateDataGroupInfo=function(n,t){this.chartDataAssign.updateDataGroupInfo(n,t)},n.prototype.updateData=function(n){var t,i;if(n.widgetData.Data.length>0){for(t=[],i=0;i<n.widgetData.Data.length;i++)t.push(JSON.parse(n.widgetData.Data[i]));ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.chartJson,this.dataGroupInfo);this.isShapeChartType(this.chartJson.ChartType)?this.isShapeChartType(this.chartJson.ChartType)&&t.length===1?(this.multiplePropertionChart=!1,this.removeAllProportionChartElement(),this.chartObj.model.series=t,this.chartObj.redraw()):this.isShapeChartType(this.chartJson.ChartType)&&t.length>1&&this.renderMultipleProportionCharts(t):(this.chartObj.model.series=t,this.updateAxisTitle(),this.chartObj.redraw());this.defaultSeries=!1}else this.isShapeChartType(this.chartJson.ChartType)&&(this.multiplePropertionChart=!1,this.removeAllProportionChartElement()),this.chartObj.model.series=this.getDefaultSeries(this.chartJson.ChartType),this.chartObj.redraw();this.isShapeChartType(this.chartJson.ChartType)&&this.chartProperties.updateValueLabelSuffix(this.chartJson.ValueLabelSuffix)},n.prototype.updateTitleForProportionChart=function(n){var i,t,r;if(this.multiplePropertionChart||ej.isNullOrUndefined(n[0].title))if(this.multiplePropertionChart)for(i=this.chartElement.find(".e-datavisualization-chart"),t=0;t<i.length;t++)r=$(i[t]).data("ejChart"),ej.isNullOrUndefined(r)||ej.isNullOrUndefined(n[t].title)||(r.model.title.text=n[t].title);else this.chartObj.model.title.visible=!1;else this.chartObj.model.title.text=n[0].title,this.chartObj.model.title.visible=!0},n.prototype.renderMultipleProportionCharts=function(n){this.multiplePropertionChart?(this.removeAllProportionChartElement(),this.chartItem.remove()):this.chartObj.destroy();this.multiplePropertionChart=!0;this.chartContent=ej.buildTag("div","",{width:"100%",height:"100%",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"});this.chartElement.append(this.chartContent);this.chartItem.remove();var t=this.getSizeForProportionCharts(this.chartContent,n.length);this.createMultipleProportionCharts(n,t);this.chartElement.data("ejScroller")&&this.chartElement.ejScroller("destroy");this.chartElement.ejScroller({width:this.chartElement.width(),height:this.chartElement.height(),autoHide:!0,scrollerSize:5,buttonSize:0})},n.prototype.getSizeForProportionCharts=function(n,t){var o=0,f=1,s=10,h=15,i=1,r=1,c=t,u=null,e=null,l=$(n).width()-s;for(i=Math.round(l/c),(i>h||i<3)&&(i=10);;){if(u=l/i-s,e=u,r=Math.ceil(c/i),i<=f){i=1;break}if(u<200){i-=f;continue}if(($(n).height()-e*r)*(100/$(n).height())>h){i-=f;continue}break}return r<=o&&(r=1),i<=o&&(i=1),{height:e,width:u}},n.prototype.createMultipleProportionCharts=function(n,t){for(var u,i,r=0;r<n.length;r++)u=$("<div>").attr({id:"chart"+r}).css({width:t.width,height:t.height-20,float:"left","margin-left":"10px"}),this.chartContent.append(u),i=this.getProportionChartElement(this.chartJson),i.commonSeriesOptions.type=this.assignChartType(this.chartJson.ChartType,i),i.series=[n[r]],i.title.responsiveVisibility=!0,ej.isNullOrUndefined(n[r].title)?(i.title.visible=!1,i.title.responsiveVisibility=!1):i.title.text=n[r].title,$(u).ejChart(i)},n.prototype.calculateProportionChartSize=function(n,t){var r={width:0,height:0},a=100,u={width:0,height:0},l;u.height=Math.round(t.innerHeight()/r.height*a);u.width=Math.round(t.innerWidth()/r.width*a);var i=1,e=1,o=0,f=null,h=1,v=0,y=5,s=15,p=20,w=100,c=n;c>h?$("body").css({"overflow-y":"hidden"}):$("body").css({"overflow-y":"hidden"});l=this.getValueInPixels(s,r.width);i=Math.round(t.innerWidth()/c);(i>s||i<3)&&(i=10);do{if(o=t.innerWidth()/i-y,f=o,e=Math.ceil(c/i),i<=h){i=1;break}if(o<l){i-=h;continue}if((t.innerHeight()-f*e)*(w/r.height)>p){i-=h;continue}break}while(o<l||(t.innerHeight()-f*e)*(w/r.height)>p);return u.width<=s&&(f=o=this.getValueInPixels(y,r.width),i=1),u.height<=s&&u.width>s?f=this.getValueInPixels(10,r.height):u.height<=35&&u.width>s&&(f=this.getValueInPixels(18,r.height)),e<=v&&(e=1),i<=v&&(i=1),{ColumnCount:Math.round(i),RowCount:Math.round(e),Height:f,Width:o}},n.prototype.removeAllProportionChartElement=function(){var t,n,i;if(!ej.isNullOrUndefined(this.chartContent)){for(ej.isNullOrUndefined(this.chartElement.data("ejScroller"))||this.chartElement.ejScroller("destroy"),t=this.chartElement.find(".e-datavisualization-chart"),n=0;n<t.length;n++)i=$(t[n]).data("ejChart"),i.destroy();this.chartElement.remove();this.renderChartItem();this.multiplePropertionChart||this.setChartType(this.chartJson.ChartType);this.designPanel.performItemSelection(this.controlContainer)}},n.prototype.getValueInPixels=function(n,t){return n/100*t},n.prototype.updateAxisTitle=function(){var t=this.dataGroupInfo,e=0,u=0,o=0,i=0,f=0,s=0,n,r;if(!ej.isNullOrUndefined(t.Values))for(n=0;n<t.Values.length;n++)t.Values[n].Name==="Column"?(e=t.Values[n].Values.length,f=n):t.Values[n].Name==="Row"?(s=t.Values[n].Values.length,o=n):(u=t.Values[n].Values.length,i=n);u>0&&this.dataGroupInfo.Values[i].Values.length>0&&(r=this.dataGroupInfo.Values[f].Values,r.length===1?(this.chartJson.Axis.CategoryAxis.Title=this.chartJson.Axis.CategoryAxis.Title===""?r[0].DataField:this.chartJson.Axis.CategoryAxis.Title,this.chartObj.model.primaryXAxis.title.text=this.chartJson.Axis.CategoryAxis.Title,this.chartObj.model.primaryXAxis.title.visible=this.chartJson.Axis.CategoryAxis.IsEnabled):this.chartObj.model.primaryXAxis.title.visible=!1,this.dataGroupInfo.Values[i].Values.length>1?this.chartObj.model.primaryYAxis.title.text=this.chartJson.Axis.CategoryAxis.Title="Values":(this.chartJson.Axis.PrimaryValueAxis.Title=this.chartJson.Axis.PrimaryValueAxis.Title===""?this.dataGroupInfo.Values[i].Values[0].DataField:this.chartJson.Axis.PrimaryValueAxis.Title,this.chartObj.model.primaryYAxis.title.text=this.chartJson.Axis.PrimaryValueAxis.Title),this.chartProperties.updateCategoryAxisTitleValue(this.chartJson.Axis.CategoryAxis.Title),this.chartProperties.updatePrimaryAxisTitleValue(this.chartJson.Axis.PrimaryValueAxis.Title))},n.prototype.getDataCategoriesInfo=function(){return this.chartDataAssign.getDataCategoriesInfo()},n.prototype.getDefaultCategoriesInfo=function(){return this.chartDataAssign.getDefaultCategoriesInfo()},n.prototype.updatePropertyData=function(){this.chartDataAssign.updatePropertyData()},n.prototype.updatePropertyChange=function(n,t,i,r){this.chartProperties.updatePropertyChange(n,t,i,r)},n.prototype.updateChartType=function(n){var r,i,t;switch(n){case"Column":this.chartObj.model.commonSeriesOptions.type="column";break;case"Stacked Column":this.chartObj.model.commonSeriesOptions.type="stackingcolumn";break;case"100% Stacked Column":this.chartObj.model.commonSeriesOptions.type="stackingcolumn100";break;case"Bar":this.chartObj.model.commonSeriesOptions.type="bar";break;case"Stacked Bar":this.chartObj.model.commonSeriesOptions.type="stackingbar";break;case"100% Stacked Bar":this.chartObj.model.commonSeriesOptions.type="stackingbar100";break;case"Line":this.chartObj.model.commonSeriesOptions.type="line";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"Spline":this.chartObj.model.commonSeriesOptions.type="spline";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"Pie":this.chartObj.model.commonSeriesOptions.type="pie";break;case"Doughnut":this.chartObj.model.commonSeriesOptions.type="doughnut";break;case"Pyramid":this.chartObj.model.commonSeriesOptions.type="pyramid";break;case"Funnel":this.chartObj.model.commonSeriesOptions.type="funnel";break;case"Area":this.chartObj.model.commonSeriesOptions.type="area";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"Spline Area":this.chartObj.modelj.commonSeriesOptions.type="splinearea";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"Stacked Area":this.chartObj.model.commonSeriesOptions.type="stackingarea";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"100% Stacked Area":this.chartObj.model.commonSeriesOptions.type="stackingarea100";this.chartObj.model.primaryXAxis.labelPlacement="onTicks";break;case"Bubble":for(this.chartObj.model.commonSeriesOptions.type="bubble",t=0;t<this.chartObj.model.series.length;t++)for(r=this.chartObj.model.series[t].points,i=0;i<r.length;i++)r[i].size=r[i].y/10;break;case"Polar":this.chartObj.model.commonSeriesOptions.type="polar";break;case"Radar":for(this.chartObj.model.commonSeriesOptions.type="radar",t=0;t<this.chartObj.model.series.length;t++)this.chartObj.model.series[t].drawType="area";break;default:this.chartObj.model.commonSeriesOptions.type="column"}this.chartType=this.chartObj.model.commonSeriesOptions.type},n.prototype.getPropertyGridItems=function(){return this.chartProperties.getPropertyGridItems()},n.prototype.isShapeChartType=function(n){var t=ej.DashboardDesignerUtility.Serialization.stringtoEnum(ChartTypes,n);return t===ChartTypes.Pie||t===ChartTypes.Doughnut||t===ChartTypes.Pyramid||t===ChartTypes.Funnel},n.prototype.isStackedType=function(n){var t=ej.DashboardDesignerUtility.Serialization.stringtoEnum(ChartTypes,n);return t===ChartTypes.StackedColumn||t===ChartTypes.StackedBar||t===ChartTypes.StackedArea||t===ChartTypes.PercentStackedColumn||t===ChartTypes.PercentStackedBar||t===ChartTypes.PercentStackedArea},n.prototype.isDistributionType=function(n){var t=ej.DashboardDesignerUtility.Serialization.stringtoEnum(ChartTypes,n);return t===ChartTypes.StackedArea||t===ChartTypes.Area||t===ChartTypes.PercentStackedArea||t===ChartTypes.Spline||t===ChartTypes.Line},n.prototype.isCartesianChartType=function(n){var t=ej.DashboardDesignerUtility.Serialization.stringtoEnum(ChartTypes,n);return t===ChartTypes.StackedArea||t===ChartTypes.Area||t===ChartTypes.PercentStackedArea||t===ChartTypes.Spline||t===ChartTypes.Line||t===ChartTypes.StackedColumn||t===ChartTypes.StackedBar||t===ChartTypes.PercentStackedColumn||t===ChartTypes.PercentStackedBar||t===ChartTypes.Column||t===ChartTypes.Bar},n.prototype.getFontStyle=function(n){var t="";switch(n){case"Default":t="";break;case"Normal":t="normal";break;case"Italic":t="italic"}return t},n.prototype.getFontWeight=function(n){var t="";switch(n){case"Default":t="";break;case"Normal":t="regular";break;case"Light":t="lighter";break;case"Bold":t="bold";break;default:t=""}return t},n.prototype.getBorderStyle=function(n){var t="0";switch(n){case"None":case"Default":t="0, 1";break;case"Solid":t="0";break;case"Dotted":t="3,3";break;case"Dashed":t="10,10";break;case"DashDot":t="10,10,4,10";break;case"DashDotDot":t="20,10,4,4,4,10";break;default:t=""}return t},n.prototype.getMarkerType=function(n){var t="";switch(n){case"None":t="none";break;case"Auto":case"Square":t="rectangle";break;case"Circle":t="circle";break;case"Diamond":t="diamond";break;case"Triangle":t="triangle";break;case"Cross":t="cross";break;case"Star4":case"Star5":case"Star6":case"Star10":t="star"}return t},n.prototype.getMarkerShape=function(n){var t="rectangle";return n%6==0?t="rectangle":n%6==1?t="circle":n%6==2?t="diamond":n%6==3?t="triangle":n%6==4?t="cross":n%6==5&&(t="star"),t},n.prototype.getTextAlignment=function(n){var t="";switch(n){case"TopCenter":case"Default":case"Center":t="center";break;case"Left":case"TopLeft":case"Near":t="near";break;case"Right":case"TopRight":case"Far":t="far";break;default:t="center"}return t},n.prototype.getDataLabelPosition=function(n){var t={position:"",alignment:""};switch(n){case"Default":t={position:"",alignment:""};break;case"Auto":case"Top":t={position:"top",alignment:"center"};break;case"TopLeft":t={position:"top",alignment:"near"};break;case"TopRight":t={position:"top",alignment:"far"};break;case"Left":t={position:"middle",alignment:"near"};break;case"Center":t={position:"middle",alignment:"center"};break;case"Right":t={position:"middle",alignment:"far"};break;case"BottomRight":t={position:"bottom",alignment:"far"};break;case"Bottom":t={position:"bottom",alignment:"center"};break;case"BottomLeft":t={position:"bottom",alignment:"near"}}return t},n.prototype.getLegendPosition=function(n){var t={position:"",alignment:""};switch(n){case"TopLeft":t={position:"top",alignment:"near"};break;case"TopCenter":t={position:"top",alignment:"center"};break;case"TopRight":t={position:"top",alignment:"far"};break;case"LeftTop":t={position:"left",alignment:"near"};break;case"LeftCenter":t={position:"left",alignment:"center"};break;case"LeftBottom":t={position:"left",alignment:"far"};break;case"RightTop":t={position:"right",alignment:"near"};break;case"RightCenter":t={position:"right",alignment:"center"};break;case"RightBottom":t={position:"right",alignment:"far"};break;case"BottomLeft":t={position:"bottom",alignment:"near"};break;case"BottomCenter":t={position:"bottom",alignment:"center"};break;case"BottomRight":t={position:"bottom",alignment:"far"}}return t},n.prototype.getChartType=function(n){var r=n.ChartData.ChartSeriesCollection[0],f=VisualizationType[r.Type],i=VisualizationSubType[r.Subtype],u=r.ChartDataPoints[0].ChartMarker,t;switch(f){case"Column":i==="Plain"?t="Column":i==="Stacked"?t="Stacked Column":i==="PercentStacked"&&(t="Stacked Column100%");break;case"Bar":i==="Plain"?t="Bar":i==="Stacked"?t="Stacked Bar":i==="PercentStacked"&&(t="Stacked Bar100%");break;case"Line":u&&u.Type&&u.Type!=="None"?i==="Plain"?t="Line with Markers":i==="Smooth"?t="SmoothLine with Markers":i==="Stepped"&&(t="Stepped Line"):i==="Plain"?t="Line":i==="Smooth"?t="Smooth Line":i==="Stepped"&&(t="Stepped Line");break;case"Shape":i==="Plain"?t="Pie":i==="ExplodedPie"?t="Exploded Pie":i==="Doughnut"?t="Doughnut":i==="Pyramid"?t="Pyramid":i==="Funnel"&&(t="Funnel");break;case"Scatter":i==="Plain"?t="Scatter":i==="Bubble"&&(t="Bubble");break;case"Area":i==="Plain"?t="Area":i==="Smooth"?t="Smooth Area":i==="Stacked"?t="Stacked Area":i==="PercentStacked"&&(t="Stacked Area100%");break;case"Range":i==="Plain"?t="Range":i==="Column"?t="Range Column":i==="Stock"?t="Stock Range":i==="Candlestick"?t="Candlestick":i==="ErrorBar"&&(t="Error Bar");break;case"Polar":i==="Plain"?t="Polar":i==="Radar"&&(t="Radar")}return t},n.prototype.getColorPalette=function(n){var t=["#55aaff","#e2685a","#f6b53f","#fc7e5f","#ffff00","#00ffff"];switch(n){case"Default":t=["#008000","#0000FF","#9C399C","#01FF00","#FF00FF","#008080","#FFFF00","#808080","#01FFFF","#000080","#800000","#FF0000","#808000","#C0C0C0","#FF6347","#FFE4B5"];break;case"EarthTones":t=["#ff8000","#b8860b","#c04000","#6b8e23","#cd853f","#c0c000","#228b22","#d2691e","#808000","#20b2aa","#f4a460","#00c000","#8fbc8b","#b22222","#8b4513","#c00000"];break;case"Excel":t=["#9999ff","#993366","#ffffcc","#ccffff","#660066","#ff8080","#0066cc","#ccccff","#000080","#ff00ff","#ffff00","#01ffff","#800080","#800000","#008080","#0000ff"];break;case"GrayScale":t=["#c8c8c8","#bdbdbd","#b2b2b2","#a7a7a7","#9c9c9c","#919191","#868686","#7b7b7b","#707070","#656565","#5a5a5a","#4f4f4f","#444444","#393939","#2e2e2e","#232323"];break;case"Light":t=["#e6e6fa","#fff0f5","#ffdab9","#fffacd","#ffe4e1","#f0fff0","#f0f8ff","#f5f5f5","#faebd7","#e0ffff"];break;case"Pastel":t=["#87ceeb","#32cd32","#ba55d3","#f08080","#4682b4","#9acd32","#40e0d0","#ff69b4","#f0e68c","#d2b48c","#8fbc8b","#6495ed","#dda0dd","#5f9ea0","#ffdab9","#ffa07a"];break;case"SemiTransparent":t=["#ff6969","#69ff69","#6969ff","#ffff69","#69ffff","#ff69ff","#cdb075","#ffafaf","#afffaf","#afafff","#ffffaf","#afffff","#ffafff","#e4d5b5","#a4b086","#819ec1"];break;case"Berry":t=["#8a2be2","#ba55d3","#4169e1","#c71585","#0000ff","#8a2be2","#da70d6","#7b68ee","#c000c0","#0000cd","#800080"];break;case"Chocolate":t=["#a0522d","#d2691e","#8b0000","#cd853f","#a52a2a","#f4a460","#8b4513","#bb3100","#c04000","#b22222","#b04f2a"];break;case"Fire":t=["#ffd700","#ff0000","#ff1493","#dc143c","#ff8c00","#ff00ff","#ffff00","#ff4500","#c71585","#dde221"];break;case"SeaGreen":t=["#2e8b57","#66cdaa","#4682b4","#008b8b","#5f9ea0","#3cb371","#48d1cc","#b0c4de","#8fbc8b","#87ceeb"];break;case"BrightPastel":t=["#418cf0","#fcb441","#e0400a","#005f8e","#bfbfbf","#1a3b69","#ffe382","#129cdd","#ca6b4b","#005cdb","#f3d288","#506381","#f1b9a8","#e0830a","#7893be"];break;case"Pacific":t=["#00b8ac","#f2c80f","#fe9567","#ddc3c3","#fb8281","#a7e1f2"];break;case"PacificLight":t=["#4ccbc1","#5f6b6d","#ff8483","#f4d35a","#7f898a","#a4ddee"];break;case"PacificSemiTransparent":t=["#67d4cc","#f7de6f","#febfa2","#ecd9d9","#fdb4b3","#c8ebf5"]}return t},n.prototype.getBorderWidth=function(n){return n&&n.Border&&n.Border.Width&&n.Border.Style!=="None"&&n.Border.Style!=="Default"?Number(ej.DashboardUtil.getSizeVal(n.Border.Width.size)):n&&n.Border?n.Border.Style!=="None"&&n.Border.Style!=="Default"?1:0:0},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.chartJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-chart-bar");this.openReportItem(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"openReportItem","e-chart-bar",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var r=this.controlContainer.parent(),t,n,i;if(ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"openReportItem","e-chart-bar",this.chartJson.UniqueName,[this.chartJson,r.attr("id")],null),this.multiplePropertionChart||ej.isNullOrUndefined(this.chartObj))for(t=this.chartElement.find(".e-datavisualization-chart"),n=0;n<t.count;n++)i=$(t[n]).data("ejChart"),ej.isNullOrUndefined(i)||i.destroy();else this.chartObj.destroy(),this.chartObj=null;$("#"+this.chartJson.UniqueName).removeData("Chart");$("#"+this.chartJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.ChartItem",InternalChartReportItem,window),function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Line=2]="Line";n[n.Shape=3]="Shape";n[n.Scatter=4]="Scatter";n[n.Area=5]="Area";n[n.Range=6]="Range";n[n.Polar=7]="Polar";n[n.Spline=8]="Spline"}(VisualizationType||(VisualizationType={})),function(n){n[n.Plain=0]="Plain";n[n.Stacked=1]="Stacked";n[n.PercentStacked=2]="PercentStacked";n[n.Smooth=3]="Smooth";n[n.Stepped=4]="Stepped";n[n.Pie=5]="Pie";n[n.ExplodedPie=6]="ExplodedPie";n[n.Doughnut=7]="Doughnut";n[n.Funnel=8]="Funnel";n[n.Pyramid=9]="Pyramid";n[n.Bubble=10]="Bubble";n[n.Candlestick=11]="Candlestick";n[n.Stock=12]="Stock";n[n.Bar=13]="Bar";n[n.Column=14]="Column";n[n.BoxPlot=15]="BoxPlot";n[n.ErrorBar=16]="ErrorBar";n[n.ExplodedDoughnut=17]="ExplodedDoughnut";n[n.Radar=18]="Radar"}(VisualizationSubType||(VisualizationSubType={}));InternalChoroplethMapReportItem=function(){function n(){this.controlContainer=null;this.contentContainer=null;this.choroplethmapDiv=null;this.dataGroupInfo=null;this.layoutUpdateTimeOut=null;this.choroplethmapItem=null;this.Field=null;this.choroplethMapJson=null;this.dataSource=null;this.isHeaderVisible=!0;this.controlHeader=null;this.shapeDataPath=null;this.dataConfiguration=null;this.enableNavigation=!0;this.reportName=null;this.maxValue=null;this.factor=null;this.layerType=null;this.colorvaluepath=null;this.enablegradient=null;this.map=null;this.shapecolor=null;this.hovercolor=null;this.autofill=null;this.color=null;this.from=null;this.to=null;this.enableMouseHover=!0;this.controlType=null;this.valuepath=null;this.cellInfo=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.isDataEnabled=!0;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.choroplethMap;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.renderChoroplethMapReportElement=function(n,t){try{this.choroplethMapJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderChoroplethMapElement(r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.choroplethMapJson.UniqueName,Error:i,Type:i.name})}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"ChoroplethMap",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){var n={Header:this.choroplethMapJson.ContainerSettings.Title,Type:"ChoroplethMap",Items:[{CategoryName:"Basic Settings",Items:[{name:"ShowLegend",displayName:"Show Legend",value:this.choroplethMapJson.ShowLegend,itemType:"bool",enableExpression:!1},{name:"ShapeData",displayName:"Map",enableExpression:!1,value:this.choroplethMapJson.ShapeData,itemType:"dropdown",valueList:["Africa","Asia","Australia_Territories","Canada","Europe","France","Germany","India","NorthAmerica","SouthAmerica","UnitedKingdom","USA_States","World_Continent","World_Countries"]},{name:"shapePropertyPath",displayName:"Column",enableExpression:!1,value:this.choroplethMapJson.ShapePropertyPath,itemType:"dropdown",valueList:["admin","name","continent","iso_3166_2","iso_3166_3","iso_3166_numeric","fips"]},]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.choroplethMapJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.getShapePropertyPathValue=function(n){var t=[];for(var i in n.features[0].properties)t.push(i);return t},n.prototype.renderChoroplethMapItem=function(n,t,i){try{var u=i.attr("id");this.choroplethMapJson=this.getChoroplethMapJson();this.choroplethMapJson.UniqueName=this.reportName;this.choroplethMapJson.ContainerSettings.Title=this.choroplethMapJson.UniqueName=this.reportName;this.renderChoroplethMapElement(i);this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderChoroplethMapItem","e-choroplethmap-item",this.choroplethMapJson.UniqueName,null,[n,u,t])}catch(r){this.designPanel.logError({Source:this.choroplethMapJson.UniqueName,Error:r,Type:r.name})}},n.prototype.getChoroplethMapJson=function(){return new ChoroplethMapProperties},n.prototype.renderChoroplethMapElement=function(){this.choroplethmapItem=ej.buildTag("div.e-choroplethmap-item e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"choroplethmapItem"+this.choroplethMapJson.UniqueName});this.choroplethmapElement=ej.buildTag("div.e-choroplethmap-element","",{position:"relative","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"choroplethmapElement"+this.choroplethMapJson.UniqueName});this.contentContainer.append(this.choroplethmapItem);this.controlContainer.data("ChoroplethMap",this);this.choroplethmapItem.append(this.choroplethmapElement);this.map=this.choroplethmapElement;this.maxValue=30;this.factor=.1;this.layerType="geometry";this.dataSource=[];this.shapeDataPath="Country";this.shapecolor="#E5E5E5";this.hovercolor="gray";this.autofill=!1;this.valuepath="name";this.colorvaluepath="name";this.enablegradient=!0;this.from=1;this.to=10;this.choroplethmapElement.ejMap({zoomSettings:{maxValue:this.maxValue,factor:this.factor},layers:[{layerType:this.layerType,dataSource:this.dataSource,enableMouseHover:this.enableMouseHover,shapeDataPath:this.shapeDataPath,shapePropertyPath:this.choroplethMapJson.ShapePropertyPath,shapeData:window[this.choroplethMapJson.ShapeData],shapeSettings:{fill:this.shapecolor,highlightColor:this.hovercolor,autoFill:this.autofill,valuePath:this.valuepath,colorValuePath:this.colorvaluepath,enableGradient:this.enablegradient,colorMappings:{rangeColorMapping:[{from:this.from,to:this.to,gradientColors:["#77A74B","#C2EAF7"]}]}}}]})},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.choroplethMapJson.ContainerSettings.Title=i;break;case"EnableNavigationControl":this.updateEnableNavigationControl(i);break;case"ShapeColor":this.updateShapeColor(i);break;case"HoverColor":this.updateHoverColor(i);break;case"ShapeData":this.updateShapeData(i);break;case"ShowLegend":this.updateShowLegend(i);break;case"shapePropertyPath":this.updateShapePropertyPath(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"ChoroplethMap",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-choroplethmap-item",this.choroplethMapJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateEnableNavigationControl=function(n){this.enableNavigation=n;var t=this.choroplethmapElement.data("ejMap");t.option("showCheckbox",n)},n.prototype.updateShapeColor=function(n){var t=this.choroplethmapElement.data("ejMap");t.model.layers[0].shapeSettings.fill=n;this.shapecolor=n;this.choroplethmapElement.ejMap("refresh")},n.prototype.updateHoverColor=function(n){var t=this.choroplethmapElement.data("ejMap");t.model.layers[0].shapeSettings.highlightColor=n;this.hovercolor=n;this.choroplethmapElement.ejMap("refresh")},n.prototype.updateShapeData=function(n){var i=this.choroplethmapElement.data("ejMap"),t;i.model.layers[0].shapeData=window[n];this.choroplethMapJson.ShapeData=n;this.Field=this.getShapePropertyPathValue(window[n]);this.choroplethmapElement.ejMap({baseMapIndex:1});t=$("#"+this.designId+"_ChoroplethMap_BasicSettings_shapePropertyPath").data("ejDropDownList");t.setModel({dataSource:this.Field});this.setPropertyElement("BasicSettings","shapePropertyPath",this.Field.indexOf("name")!==-1?"name":this.Field[0])},n.prototype.updateShapePropertyPath=function(n){var t=this.choroplethmapElement.data("ejMap");t.model.layers[0].shapePropertyPath=n;this.choroplethMapJson.ShapePropertyPath=n;this.choroplethmapElement.ejMap("refresh")},n.prototype.updateShowLegend=function(n){var t=this.choroplethmapElement.data("ejMap");t.model.layers[0].dataSource.length>0&&(t.model.layers[0].legendSettings.showLegend=n,this.choroplethmapElement.ejMap("refresh"));this.choroplethMapJson.ShowLegend=n},n.prototype.updateSize=function(n,t){this.controlContainer.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.choroplethMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);var i=this.choroplethmapElement.data("ejMap");i.option("width","100%");i.option("height","100%");this.choroplethmapElement.ejMap({baseMapIndex:1})},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.choroplethMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.designPanel.updateWidgetSelectionBox(this.controlContainer);var u=this.choroplethmapElement.data("ejMap");u.option("width","100%");u.option("height","100%");this.choroplethmapElement.ejMap({baseMapIndex:1})},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.choroplethMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Value",CategoryType:CategoryType.Numeric,CategoryCount:1}),n.push({Name:"Shape",CategoryType:CategoryType.Non_Numeric,CategoryCount:1}),n},n.prototype.updateData=function(n){var t=this.choroplethmapElement.data("ejMap"),r=null,u=null,f=null,i;u=n.formattedData.formatminvalue;f=n.formattedData.formatmaxvalue;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.choroplethMapJson,this.dataGroupInfo);ej.isNullOrUndefined(n)||n.data==="[]"||typeof n=="string"&&n.indexOf("Sf_Exception")!==-1?(t.model.layers[0].dataSource=this.dataSource,t.model.layers[0].shapeDataPath=this.shapeDataPath,t.model.layers[0].enableMouseHover=!0,t.model.layers[0].shapeSettings.valuePath=this.valuepath,t.model.layers[0].shapeSettings.colorValuePath=this.colorvaluepath,t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].gradientColors=["#77A74B","#C2EAF7"],t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].from=this.from,t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].to=this.to,t.model.layers[0].legendSettings.showLegend=!1):(r=JSON.parse(n.data),i=this.getColumns(r),i.length>1?(this.generateTooltip(n),t.model.layers[0].showTooltip=!0,t.model.layers[0].tooltipTemplate="template"+$(this.choroplethmapElement).attr("id")+"_tooltip",t.model.layers[0].dataSource=r,t.model.layers[0].shapeDataPath=i[1].text,t.model.layers[0].enableMouseHover=!0,t.model.layers[0].shapeSettings.valuePath=i[0].text,t.model.layers[0].shapeSettings.colorValuePath=i[0].text,t.model.layers[0].shapeSettings.enableGradient=!0,t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].from=this.getFromValue(r,i[0].text),t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].to=this.getToValue(r,i[0].text),t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].gradientColors=["#77A74B","#C2EAF7"],t.model.layers[0].legendSettings.height=18,t.model.layers[0].legendSettings.width=190,t.model.layers[0].legendSettings.type="layers",t.model.layers[0].legendSettings.mode="interactive",t.model.layers[0].legendSettings.position="topleft",t.model.layers[0].legendSettings.title=i[1].text,t.model.layers[0].legendSettings.leftLabel=u!=null?u:t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].from,t.model.layers[0].legendSettings.rightLabel=f!=null?f:t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].to,t.model.layers[0].legendSettings.showLegend=this.choroplethMapJson.ShowLegend):(t.model.layers[0].dataSource=this.dataSource,t.model.layers[0].shapeDataPath=this.shapeDataPath,t.model.layers[0].enableMouseHover=!0,t.model.layers[0].shapeSettings.valuePath=this.valuepath,t.model.layers[0].shapeSettings.colorValuePath=this.colorvaluepath,t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].gradientColors=["#77A74B","#C2EAF7"],t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].from=this.from,t.model.layers[0].shapeSettings.colorMappings.rangeColorMapping[0].to=this.to,t.model.layers[0].legendSettings.showLegend=!1));this.choroplethmapElement.ejMap("refresh")},n.prototype.generateTooltip=function(n){var t,f=JSON.parse(n.columnBindings),i,r,u;for(t='<script id="template'+$(this.choroplethmapElement).attr("id")+'_tooltip" type="application/jsrender">',t+='<div style="font-family:Roboto;background:White;border: 1px solid #4D4D4D;border-radius: 7px;margin-right: 25px;min-width: 110px;padding-right: 5px;padding-left: 5px;width: auto;height: auto;">',i="template"+$(this.choroplethmapElement).attr("id")+"_tooltip",i="#"+i,$(i).length>0&&$(i).remove(),r=0;r<this.dataGroupInfo.Values[1].Values.length;r++)t+='<p style="color:black;font-size:12px;font-weight:normal;margin-top:10px;">'+this.dataGroupInfo.Values[1].Values[0].Value+"  : {{:(#data['"+this.dataGroupInfo.Values[1].Values[0].Value+"'])}}<\/P>";for(u=0;u<this.dataGroupInfo.Values[0].Values.length;u++)t+='<p style="color:black;font-size:12px;font-weight:normal;margin-top:10px;">'+this.dataGroupInfo.Values[0].Values[0].Value+"  : {{:(#data['"+f[this.dataGroupInfo.Values[0].Values[0].Field]+"'])}}<\/P>";t+="<\/div><\/script>";$(this.choroplethmapItem).append(t)},n.prototype.getFromValue=function(n,t){for(var r=[],u=0,i=0;i<n.length;i++)r.push(n[i][t]);return u=Math.min.apply(null,r),parseFloat(u.toFixed(2))},n.prototype.getToValue=function(n,t){for(var r=[],u=0,i=0;i<n.length;i++)r.push(n[i][t]);return u=Math.max.apply(null,r),parseFloat(u.toFixed(2))},n.prototype.getColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.dispose=function(){var n=this.choroplethmapItem.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderChoroplethMapElement","e-choroplethmap-item",this.choroplethMapJson.UniqueName,[this.choroplethMapJson,n.attr("id")],null);$("#"+this.choroplethMapJson.UniqueName).removeData("ChoroplethMap");$("#"+this.choroplethMapJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.choroplethMapJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.ChoroplethMapItem",InternalChoroplethMapReportItem,window);InternalComboBoxReportItem=function(){function n(){this.comboBoxJson=null;this.controlContainer=null;this.contentContainer=null;this.comboBoxItem=null;this.dataSource=null;this.dataSourceField=null;this.dropDownWidth=null;this.enableMultiSelect=!1;this.selectItemByIndex=!1;this.actAsMasterWidget=!0;this.ignoreFilterActions=!1;this.showBorder=!1;this.enableComment=!0;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.controlHeader=null;this.reportName=null;this.dataGroupInfo=null;this.dataConfiguration=null;this.minWidth=0;this.minHeight=0;this.controlType=null;this.selectedIndices=null;this.cellInfo=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.comboBox;this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.renderComboBoxItem=function(n,t,i){try{var u=i.attr("id");this.comboBoxJson=this.getComboBoxJson();this.comboBoxJson.UniqueName=this.comboBoxJson.ContainerSettings.Title=this.reportName;this.minHeight=n.height;this.minWidth=n.width;this.renderComboBoxElement(n,i);this.designPanel.performItemSelection(this.controlContainer)}catch(r){this.designPanel.logError({Source:this.comboBoxJson.UniqueName,Error:r.message,Type:r.name});console.log(r.message)}},n.prototype.renderComboBoxElement=function(){this.comboBoxItem=ej.buildTag("div.e-comboboxitem e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"comboBoxItem"+this.comboBoxJson.UniqueName});this.contentContainer.append(this.comboBoxItem);this.controlContainer.data("ComboBox",this);this.dataSource=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}];this.dataSourceField={id:"itemId",text:"itemName"};this.selectedIndices=[0];this.createComboBoxElement()},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.comboBoxJson},n.prototype.createComboBoxElement=function(){var n,t;this.comboBoxElement=ej.buildTag("input.e-combobox-element","",{position:"relative","font-size":"12px","background-color":"white"},{id:this.designId+"comboBoxElement"+this.comboBoxJson.UniqueName});this.comboBoxItem.append(this.comboBoxElement);this.comboBoxItem.css("padding","5px");n=25;this.comboBoxElement.ejDropDownList({dataSource:this.dataSource,fields:this.dataSourceField,watermarkText:"All",showCheckbox:this.enableMultiSelect,selectedIndices:this.selectedIndices,width:this.comboBoxItem.width().toString(),height:n.toString()});t=this.comboBoxItem.innerHeight()/2-(n/2+5)+"px";this.comboBoxItem.css("padding-top",t)},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"ComboBox",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){var n={Header:this.comboBoxJson.ContainerSettings.Title,Type:"ComboBox",Items:[{CategoryName:"Basic Settings",Items:[{name:"EnableMultiSelect",displayName:"Enable Multi-select",value:this.comboBoxJson.EnableMultiSelection,itemType:"bool",enableExpression:!1},]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.comboBoxJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"EnableMultiSelect":this.updateEnableMultiSelect(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"ComboBox",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-combobox-item",this.comboBoxJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateEnableMultiSelect=function(n){this.comboBoxJson.EnableMultiSelection=n;var t=this.comboBoxElement.data("ejDropDownList")||this.comboBoxElement.data("ejListBox");ej.isNullOrUndefined(t)||(t.option("showCheckbox",n),n||t.pluginName!=="ejDropDownList"||t.option("watermarkText","All"))},n.prototype.updateSize=function(n,t,i){if(this.controlContainer.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),this.comboBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo),i){var r=this.comboBoxElement.data("ejDropDownList");!ej.isNullOrUndefined(r)&&t>this.minHeight?(this.dataSource=r.model.dataSource,this.dataSourceField=r.model.fields,this.selectedIndices=r.model.selectedIndices,r.destroy(),this.comboBoxElement.remove(),this.comboBoxElement=ej.buildTag("ul","",{margin:"0px",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"comboBoxElement"+this.comboBoxJson.UniqueName}),this.comboBoxItem.append(this.comboBoxElement).css("padding","0px"),this.comboBoxElement.ejListBox({dataSource:this.dataSource,fields:this.dataSourceField,allowMultiSelection:this.comboBoxJson.EnableMultiSelection,showCheckbox:this.comboBoxJson.EnableMultiSelection,width:this.comboBoxItem.width().toString(),height:this.comboBoxItem.height().toString()})):ej.isNullOrUndefined(r)&&t<=this.minHeight?(r=this.comboBoxElement.data("ejListBox"),this.dataSource=r.model.dataSource,this.dataSourceField=r.model.fields,this.selectedIndices=r.model.selectedIndices,ej.isNullOrUndefined(r)||(r.destroy(),this.comboBoxElement.remove(),this.createComboBoxElement())):ej.isNullOrUndefined(r)?(r=this.comboBoxElement.data("ejListBox"),r.option("height","100%"),r.option("width","100%")):(r.option("width","100%"),r.option("height","25"))}},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.comboBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updatePosition=function(n,t,i){this.controlContainer.css({left:n,top:t});this.comboBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);i},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Column",CategoryType:CategoryType.Non_Numeric}),n},n.prototype.updateData=function(n){var t=this.comboBoxElement.data("ejDropDownList"),i,r;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.comboBoxJson,this.dataGroupInfo);ej.isNullOrUndefined(t)&&n.indexOf("Sf_Exception")===-1&&(t=this.comboBoxElement.data("ejListBox"));i=null;ej.isNullOrUndefined(n)||n.data==="[]"||typeof n=="string"&&n.indexOf("Sf_Exception")!==-1?(i=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}],t.model.fields.id="itemId",t.model.fields.text="itemName"):(i=JSON.parse(n.data),r=this.getColumns(i),t.model.fields.id=r[0].id,t.model.fields.text=r[0].text);t.option("dataSource",i)},n.prototype.getColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.getComboBoxJson=function(){return new ComboBoxProperties},n.prototype.getTitlePositionJson=function(n){var t="Center";switch(n){case"TopLeft":t="Left";break;case"TopCenter":t="Center";break;case"TopRight":t="Right";break;default:t="Center"}return t},n.prototype.getPixelValue=function(n){return ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getPixelVal(n):n},n.prototype.dispose=function(){var n=this.controlContainer.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderComboBoxElement","e-combobox-item",this.comboBoxJson.UniqueName,[this.comboBoxJson,n.attr("id")],null);$("#"+this.comboBoxJson.UniqueName).removeData("ComboBox");$("#"+this.comboBoxJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.ComboBoxItem",InternalComboBoxReportItem,window);InternalContainerPropertyItem=function(){function n(){this.containerSettings=null;this.controlContainer=null;this.controlHeader=null}return Object.defineProperty(n,"ContainerPropertyItem",{get:function(){return(this.container===null||this.container===undefined)&&(this.container=new ej.DashboardDesignerUtility.ContainerPropertyItem),this.container},enumerable:!0,configurable:!0}),n.prototype.updatePropertyChange=function(n,t,i){switch(n){case"ContainerTitleAlign":this.updateContainerTitleAlign(i,this.controlHeader);break;case"ContainerTitleColor":this.updateContainerTitleColor(i,this.controlHeader);break;case"ShowBorder":this.updateShowBorder(i,this.controlContainer);break;case"CornerRadius":this.updateCornerRadius(i,this.controlContainer);break;case"ShowMaximize":this.updateShowMaximize(i);break;case"CSVExport":this.updateCSVExport(i);break;case"ExcelExport":this.updateExcelExport(i);break;case"ImageExport":this.updateImageExport(i);break;case"PDFExport":this.updatePDFExport(i);break;case"EnableComment":this.updateEnableComment(i)}},n.prototype.getContainerSettingItems=function(n,t,i){this.controlContainer=t;this.controlHeader=i;this.containerSettings=n;return{CategoryName:"Container Appearance",Items:[{name:"ContainerTitleAlign",displayName:"Title Alignment",value:ej.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,this.containerSettings.TextAlignment),itemType:"dropdown",valueList:["Left","Center","Right"],enableExpression:!1},{name:"ContainerTitleColor",displayName:"Title Color",value:this.containerSettings.TextColor,itemType:"color",enableExpression:!1},{name:"ShowBorder",displayName:"Show Border",value:this.containerSettings.ShowBorder,itemType:"bool",enableExpression:!1},{name:"CornerRadius",displayName:"Corner Radius",value:this.containerSettings.CornerRadius,itemType:"float",minimum:1,maximum:10,unitType:"pt",enableExpression:!1},{name:"ShowMaximize",displayName:"Show Maximize",value:this.containerSettings.ShowMaximize,itemType:"bool",enableExpression:!1},{name:"CSVExport",displayName:"CSV Export",value:this.containerSettings.EnableCsvExport,itemType:"bool",enableExpression:!1},{name:"ExcelExport",displayName:"Excel Export",value:this.containerSettings.EnableExcelExport,itemType:"bool",enableExpression:!1},{name:"ImageExport",displayName:"Image Export",value:this.containerSettings.EnableImageExport,itemType:"bool",enableExpression:!1},{name:"PDFExport",displayName:"PDF Export",value:this.containerSettings.EnablePdfExport,itemType:"bool",enableExpression:!1},{name:"EnableComment",displayName:"Enable Comment",value:this.containerSettings.EnableComment,itemType:"bool",enableExpression:!1},]}},n.prototype.updateContainerTitleAlign=function(n,t){this.containerSettings.TextAlignment=ej.DashboardDesignerUtility.Serialization.stringtoEnum(TextAlignment,n);$(t).find(".e-dbrd-control-title").css({"text-align":n})},n.prototype.updateContainerTitleColor=function(n,t){this.containerSettings.TextColor=n;$(t).find(".e-dbrd-control-title").css({color:n})},n.prototype.updateShowBorder=function(n,t){this.containerSettings.ShowBorder=n;this.containerSettings.ShowBorder?$(t).css({border:"1px solid lightgray","border-radius":this.containerSettings.CornerRadius}):$(t).css({border:"0px","border-radius":"0px"})},n.prototype.updateCornerRadius=function(n,t){this.containerSettings.CornerRadius=n;this.containerSettings.ShowBorder?$(t).css("border-radius",n+"px"):$(t).css("border-radius","0px")},n.prototype.updateShowMaximize=function(n){this.containerSettings.ShowMaximize=n},n.prototype.updateCSVExport=function(n){this.containerSettings.EnableCsvExport=n},n.prototype.updateExcelExport=function(n){this.containerSettings.EnableExcelExport=n},n.prototype.updateImageExport=function(n){this.containerSettings.EnableImageExport=n},n.prototype.updatePDFExport=function(n){this.containerSettings.EnablePdfExport=n},n.prototype.updateEnableComment=function(n){this.containerSettings.EnableComment=n},n}();window.ej.createObject("ej.DashboardDesignerUtility.ContainerPropertyItem",InternalContainerPropertyItem,window);InternalCredentialDialog=function(){function n(){this.id=null;this.userWaterMark="Username";this.passwdWaterMark="Password";this.userNameTag=null;this.passwordTag=null;this.id=ej.DashboardUtil.getInstance().ejInstance._id;this.renderCredentialDialog()}return Object.defineProperty(n,"CredentialDialog",{get:function(){return(this.credential===null||this.credential===undefined)&&(this.credential=new ej.DashboardDesignerUtility.CredentialDialog),this.credential},enumerable:!0,configurable:!0}),n.prototype.renderCredentialDialog=function(){var t=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Credential Dialog",id:this.id+"_credential_dialog"}),i=ej.buildTag("div","",{},{id:this.id+"_table_id"}),n=ej.buildTag("table.e-designer-credential-table","",{width:"100%"},{unselectable:"on"}),r=$("<tr><\/tr>"),u=$("<td><\/td>"),nt=ej.buildTag("Label.e-designer-fontfamily","Username",{"font-size":"13px","padding-bottom":"2px"},{type:"label"}),f=$("<tr><\/tr>"),e=$("<td><\/td>"),o=this.userNameTag=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"23px",width:"238px"},{type:"text",id:this.id+"_txt_box"}),g;ej.DashboardUtil.txtWaterMark(o,this.userWaterMark);var s=$("<tr><\/tr>"),h=$("<td><\/td>"),tt=ej.buildTag("Label.e-designer-fontfamily","",{"margin-bottom":"2px",color:" red","font-size":"12px"},{type:"label",id:this.id+"_label_user_validation"}),c=$("<tr><\/tr>"),l=$("<td><\/td>"),it=ej.buildTag("Label.e-designer-fontfamily","Password",{"font-size":"13px","padding-bottom":"2px"},{type:"label"}),a=$("<tr><\/tr>"),v=$("<td><\/td>"),y=this.passwordTag=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"23px",width:"238px"},{type:"text",id:this.id+"_pass_word"});ej.DashboardUtil.txtWaterMark(y,this.passwdWaterMark,!0);var p=$("<tr><\/tr>"),w=$("<td><\/td>"),rt=ej.buildTag("Label.e-designer-fontfamily","",{"margin-bottom":"2px",color:" red","font-size":"12px"},{type:"label",id:this.id+"_label_pass_validation"}),b=$("<tr><\/tr>"),k=$("<td><\/td>"),ut=ej.buildTag("Label.e-designer-fontfamily","",{"margin-bottom":"3px",color:" red","font-size":"13px"},{type:"label",id:this.id+"_label_alert"}),d=ej.buildTag("button.e-designer-connect","",{"margin-left":"80px"},{id:this.id+"_btn_login"});$(document.body).append(t);t.append(i);i.append(n);r.append(u);n.append(r);u.append(nt);f.append(e);n.append(f);e.append(o);n.append(s);s.append(h);h.append(tt);n.append(c);c.append(l);l.append(it);n.append(a);a.append(v);v.append(y);n.append(p);p.append(w);w.append(rt);b.append(k);n.append(b);k.append(ut);t.ejDialog({enableModal:!0,minWidth:250,width:280,enableResize:!1,showOnInit:!1,cssClass:"e-designer-dialog",minHeight:75,height:"auto",showFooter:!0,beforeClose:$.proxy(this.closeDialog,this)});g=$("#"+this.id+"_credential_dialog_foot");g.append(d);d.ejButton({showRoundedCorner:!1,width:"95px",size:"small",height:"30px",type:"submit",text:"Connect",click:$.proxy(this.connectLoginWindow,this,!0)});t.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"})},n.prototype.connectLoginWindow=function(){var n=this.userNameTag.val(),t=this.passwordTag.val(),i,r;(this.userFieldValidation(this.id,n.length===0||n.toLowerCase()===this.userWaterMark,"Please enter Username"),this.passFieldValidation(this.id,t.length===0||t.toLowerCase()===this.passwdWaterMark,"Please enter Password"),n.length!==0&&t.length!==0&&n.toLowerCase()!==this.userWaterMark&&t.toLowerCase()!==this.passwdWaterMark)&&(i=this.datasourceInfo.Name,this.datasourceInfo.Username=n,this.datasourceInfo.Password=t,r={Name:i,Provider:this.datasourceInfo.ConnectionProperties.DataProvider,IsIntegrated:!1,Username:ej.DashboardUtil.encryptData(n),Password:ej.DashboardUtil.encryptData(t),ConnectionString:ej.DashboardUtil.encryptData(this.datasourceInfo.ConnectionProperties.ConnectString)},ej.DashboardUtil.getInstance().doAjaxPost("POST",ej.DashboardUtil.getInstance().ejInstance.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.testConnection,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.testConnection,datasource:r})},{fnction:$.proxy(this.validateConnection,this),indicator:[$.proxy(this.showIndicator,this),$.proxy(this.hideIndicator,this)]}))},n.prototype.updateConnectionProperties=function(){var n={};return n.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DataSource",n.Name=this.datasourceInfo.Name,n.Transaction=!1,n.DataSourceReference=null,n.ConnectionProperties={},n.ConnectionProperties.__type="Syncfusion.Dashboard.Web.Serialization.DOM.ConnectionProperties",n.ConnectionProperties.ConnectString=this.datasourceInfo.ConnectionProperties.ConnectString,n.ConnectionProperties.EmbedCredentials=!1,n.ConnectionProperties.DataProvider=this.datasourceInfo.ConnectionProperties.DataProvider,n.ConnectionProperties.IntegratedSecurity=!1,n.ConnectionProperties.UserName=this.datasourceInfo.Username,n.ConnectionProperties.PassWord=this.datasourceInfo.Password,n.ConnectionProperties.Prompt=this.datasourceInfo.ConnectionProperties.Prompt,n},n.prototype.userFieldValidation=function(n,t,i){t?($("#"+this.id+"_label_alert").css("display","none"),$("#"+n+"_label_user_validation").css("display","block"),$("#"+n+"_label_user_validation").text("* "+i)):$("#"+n+"_label_user_validation").css("display","none")},n.prototype.passFieldValidation=function(n,t,i){t?($("#"+this.id+"_label_alert").css("display","none"),$("#"+n+"_label_pass_validation").css("display","block"),$("#"+n+"_label_pass_validation").text("* "+i)):$("#"+n+"_label_pass_validation").css("display","none")},n.prototype.validateConnection=function(n){n==="true"?(this.datasourceInfo=this.updateConnectionProperties(),$("#"+this.id+"_label_alert").css("display","none"),this.targetInstance&&this.targetMethod&&ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.datasourceInfo]),$("#"+this.id+"_credential_dialog").data("ejDialog").close()):($("#"+this.id+"_label_alert").css("display","block"),$("#"+this.id+"_label_alert").text(n))},n.prototype.resetCredentialDialog=function(){this.userNameTag.val(this.userWaterMark).addClass("e-designer-txtmark");this.passwordTag.val(this.passwdWaterMark).addClass("e-designer-txtmark");$("#"+this.id+"_label_user_validation").css("display","none");$("#"+this.id+"_label_pass_validation").css("display","none");$("#"+this.id+"_label_alert").css("display","none");this.datasourceInfo=null;this.targetInstance=null;this.targetMethod=null},n.prototype.openCredentialDialog=function(n,t,i,r){this.resetCredentialDialog();this.datasourceInfo=t;this.targetInstance=i;this.targetMethod=r;var u=$("#"+this.id+"_credential_dialog").data("ejDialog");u.open();u.setModel({title:t.ConnectionProperties.Prompt&&t.ConnectionProperties.Prompt.length>0?t.ConnectionProperties.Prompt:"Credential-  "+n});this.passwordTag.val(this.passwdWaterMark).addClass("e-designer-txtmark");this.passwordTag.attr("type","text");this.userNameTag.focus()},n.prototype.closeDialog=function(n){n.isInteraction&&ej.DashboardUtil.getQueryInstance("QueryDesigner").enableDataSourceDwn(!0);this.hideWaitingIndicator()},n.prototype.showIndicator=function(){$("#"+this.id+"_btn_login").data("ejButton").disable();$("#"+this.id+"_credential_dialog").data("ejWaitingPopup").show()},n.prototype.hideIndicator=function(){$("#"+this.id+"_btn_login").data("ejButton").enable();$("#"+this.id+"_credential_dialog").data("ejWaitingPopup").hide()},n.prototype.hideWaitingIndicator=function(){$("#"+this.id+"_credential_dialog").data("ejWaitingPopup")&&$("#"+this.id+"_credential_dialog").data("ejWaitingPopup").hide()},n}();window.ej.createObject("ej.DashboardDesignerUtility.CredentialDialog",InternalCredentialDialog,window);InternalDataConfiguration=function(){function n(){this.id=null;this.reportDesigner=null;this.canUpdate=!0;this.supportedTypes=["None","Sum","Average","Min","Max","Count","Distinct Count","StDev","Var","Weighted Score"];this.supportedDateTypes=["Date","Year","Quarter","Month","Day","Time","Hours","Minutes","Seconds","Quarter Year","Month Year","Week Year","Date Hour","Day of Week","Week of Year","Week of Year","Day Month Year","Month Day Year"];this.selectedDataset=null;this.measuresList=[];this.dimensionsList=[];this.categoryItems=[];this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.dataConfigRootContainer=ej.buildTag("div.e-reportdesigner-designer-dataassign","",{"background-color":"white",overflow:"hidden"},{id:this.id+"_dataTabRootElement"});this.dataConfigContainer=ej.buildTag("div.e-reportdesigner-designer-dataassign","",{margin:"8px","margin-top":"10px"},{id:this.id+"_dataTabElement"});this.dataConfigRootContainer.append(this.dataConfigContainer)}return Object.defineProperty(n,"DataConfigSource",{get:function(){return ej.isNullOrUndefined(this.dataConfigSource)&&(this.dataConfigSource=new ej.DashboardDesignerUtility.DataConfiguration),this.dataConfigSource},enumerable:!0,configurable:!0}),n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)},n.prototype.renderContainer=function(n){this.targetTag=n;this.targetTag.append(this.dataConfigRootContainer);var r=$("#"+this.id+"_dataPanelContainer").height()-29,t=ej.buildTag("div","",{width:"214px",float:"left"},{id:this.id+"_datasetFieldsContainer"}),u=ej.buildTag("div","",{width:"1px",border:"0px Solid",height:r+"px","margin-top":"-16px","margin-left":"9px",float:"left","background-color":"#c8c8c8"},{id:this.id+"_dataassignSeperator"}),i=ej.buildTag("div","",{width:"214px",float:"right"},{id:this.id+"_dataassignConfigContainer"});this.dataConfigContainer.append(t);this.dataConfigContainer.append(u);this.dataConfigContainer.append(i);ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].attr("isDataEnabled")&&(this.renderDatasetFields(t),this.renderCategoryItems(this.getCategoryItems(),i))},n.prototype.getSelectedCategoryIndex=function(n){for(var t=0;t<this.categoryItems.length;t++)if(!ej.isNullOrUndefined(this.categoryItems[t].DisplayName)&&this.categoryItems[t].DisplayName===n||this.categoryItems[t].Name===n)return t},n.prototype.updateSize=function(){var t,i,n;this.isLoaded()&&(t=$("#"+this.id+"_dataPanelContainer").height(),this.dataConfigRootContainer.height($("#"+this.id+"_dataPanelContainer").height()-34+"px"),i=t-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+29),n=[{Name:"Measures"},{Name:"Dimensions"}],this.updateCategoryItemHeight(n,i),n=this.getCategoryItems(),this.updateCategoryItemHeight(n,i),$("#"+this.id+"_dataassignSeperator").height(t-29))},n.prototype.updateCategoryItemHeight=function(n,t){for(var r,i=0;i<n.length;i++)r=t/n.length,$("#"+this.id+"_"+n[i].Name+"_categoryItem").height(r),$("#"+this.id+"_"+n[i].Name+"_categoryList").height(r-40)},n.prototype.showDataConfig=function(n,t){var i=[];ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].attr("isDataEnabled")&&(i=this.getCategoryItems());i.length>0&&(this.validateItems(i)?(this.dataConfigContainer.empty(),$("#"+this.id+"_group_edit_dialog").remove(),n&&this.renderContainer(this.targetTag)):this.resetContainer(i),this.updateDatasetFields(this.selectedDataset,!1),this.populateContainer(i),t.isDataAssign&&this.updateSize())},n.prototype.validateItems=function(n){var t=$("#"+this.id+"_dataassignConfigContainer"),i,r;if(!ej.isNullOrUndefined(t[0])&&t[0].children.length>0&&t[0].children.length===n.length){for(i=0;i<t[0].children.length;i++)if(r=t[0].children[i].id.split("_")[1],n[i].Name!==r)return!0}else return!0;return!1},n.prototype.validateReportItem=function(){return ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].hasClass("e-chart-bar")||ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].hasClass("e-pivotgrid-item")},n.prototype.getCategoryItems=function(){var n=[];return ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&(n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).getDataCategoriesInfo(),this.categoryItems=n),n},n.prototype.resetContainer=function(n){for(var i,r,t=0;t<n.length;t++)$("#"+this.id+"_"+n[t].Name+"_categoryList").empty(),i=ej.buildTag("div.e-reportdesigner-"+n[t].Name+"-empty-row","",{border:"1px dashed #aaaaaa",background:"white",margin:"6px",height:"25px"},{id:this.id+"_"+n[t].Name+"_categoryListDiv_emptyField"}),r=ej.buildTag("span","",{color:"#aaaaaa","font-size":"11px","vertical-align":"middle","padding-left":"65px"}),r.text("Drag & Drop"),i.append(r),$("#"+this.id+"_"+n[t].Name+"_categoryList").append(i)},n.prototype.validateExpression=function(n,t,i){for(var u,f,h,o,c,l,s="",e="",r=0;r<this.supportedTypes.length;r++)s=r===this.supportedTypes.length-1?s+this.supportedTypes[r]:s+this.supportedTypes[r]+"|";for(u=ejDashboardDesigner.getInstance("DataSet").datasets,r=0;r<u.length;r++)if(u[r].Name===n)for(f=0;f<u[r].Fields.length;f++)e=f===u[r].Fields.length-1?e+ej.DashboardUtil.escapeSelector(u[r].Fields[f].Name):e+ej.DashboardUtil.escapeSelector(u[r].Fields[f].Name)+"|";return h="=("+s+")\\(Fields!("+e+")\\.Value\\)$",ej.isNullOrUndefined(i)||i||(h="=Fields!("+e+").Value$"),o=t.split("Fields!"),o.length===2&&(c=o[1].split(".Value")[0],c.length>0&&(t=o[0]+"Fields!"+ej.DashboardUtil.escapeSelector(c)+".Value"+o[1].split(".Value")[1])),l=new RegExp(h,""),!l.test(t)},n.prototype.populateContainer=function(n){for(var i,t=0;t<n.length;t++)ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&(i=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,ej.isNullOrUndefined(i)||ej.isNullOrUndefined(i.Values)||this.populateValues(i.Values,n[t]))},n.prototype.populateValues=function(n,t){for(var f,u,r,e,i=0;i<n.length;i++)if(f="",u="",n[i].Name===t.Name)for(r=0;r<n[i].Values.length;r++)e=!1,f=n[i].Values[r].SummaryType,u="LabelData"+(r+1),this.addItem({Field:n[i].Values[r].Field,Label:u,DataField:n[i].Values[r].DataField,Name:t.Name,SummaryType:n[i].Values[r].SummaryType,FieldType:n[i].Values[r].FieldType,IsLoading:!0,Values:n[i].Values,ItemIndex:r,IsExpression:e,CategoryType:CategoryType[t.CategoryType],FieldActualType:n[i].Values[r].FieldActualType,DateTimeFormat:n[i].Values[r].DateTimeFormat},!0,!1)},n.prototype.renderSearchPanel=function(n){var i=ej.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:this.id+"_"+n+"_searchPanel"}),t=ej.buildTag("input.e-reportdesigner-designer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray"},{id:this.id+"_"+n+"_searchBox"}),r;return t.val("Search"),r=ej.buildTag("div","",{width:"24px",height:"15px","margin-top":"-16px",float:"right",color:"lightgray"},{id:this.id+"_"+n+"_searchIcon","class":"e-icon e-search"}),t.bind("keyup",$.proxy(this.onSearchClick,this,n)),t.bind("blur",$.proxy(this.onSearchBlur,this,n)),t.bind("focus",$.proxy(this.onSearchFocus,this,n)),r.bind("click",$.proxy(this.onSearchCloseClick,this,n)),i.append(t),i.append(r),i},n.prototype.filterItems=function(n,t){var i=[],r,u;for(n==="Measures"?i=this.measuresList:n==="Dimensions"&&(i=this.dimensionsList),$("#"+this.id+"_"+n+"_categoryList").empty(),r=0;r<i.length;r++)(t===""||i[r].Name.toLowerCase().indexOf(t)!==-1)&&(u=this.createLabel({Name:n,Field:i[r].Name,DataField:i[r].DataField,Aggregate:"",IsExpression:!1},i[r].DatasetIcon,!1,!1),$("#"+this.id+"_"+n+"_categoryList").append(u))},n.prototype.setSearchText=function(n,t){$("#"+this.id+"_"+n+"_searchBox").val(t)},n.prototype.onSearchClick=function(n,t){if(t.keyCode!==13){var r=$("#"+this.id+"_"+n+"_searchBox"),i=r.val();i.length>0&&($("#"+this.id+"_"+n+"_searchIcon").addClass("e-close_01").removeClass("e-search"),this.filterItems(n,i))}},n.prototype.onSearchBlur=function(n){var t=$("#"+this.id+"_"+n+"_searchBox"),i=t.val();t.removeClass("e-focus");i.length===0&&($("#"+this.id+"_"+n+"_searchIcon").addClass("e-search").removeClass("e-close_01"),t.val("Search"),this.filterItems(n,""),t.css("color","lightgrey"))},n.prototype.onSearchFocus=function(n){var t=$("#"+this.id+"_"+n+"_searchBox");t.addClass("e-focus");t.val()==="Search"&&t.val("");t.css("color","grey")},n.prototype.onSearchCloseClick=function(n){var t=$("#"+this.id+"_"+n+"_searchBox");t.removeClass("e-focus");t.val("Search");t.css("color","lightgrey");this.filterItems(n,"");$("#"+this.id+"_"+n+"_searchIcon").addClass("e-search").removeClass("e-close_01")},n.prototype.renderDatasetFields=function(n){for(var o,t=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).getDefaultCategoriesInfo(),f=$("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+29),i=0;i<t.length;i++){var r=ej.buildTag("div.e-reportdesigner-box-sizing","",{height:f/t.length+"px"},{id:this.id+"_"+t[i].Name+"_categoryItem"}),u=ej.buildTag("div","",{},{id:this.id+"_"+t[i].Name+"_categoryLabelDiv"}),e=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"13px",display:"inline-block","font-weight":"600",margin:"3px","margin-bottom":"0px",width:"70px"},{id:this.id+"_"+t[i].Name+"_categoryLabel"});e.text(t[i].Name);u.append(e);u.append(this.renderSearchPanel(t[i].Name));o=ej.buildTag("div","",{border:"1px solid #c8c8c8",overflow:"auto",height:f/t.length-40+"px","border-radius":"5px","margin-top":"5px","background-color":"white"},{id:this.id+"_"+t[i].Name+"_categoryList"});r.append(u);r.append(o);n.append(r)}},n.prototype.renderCategoryItems=function(n,t){for(var e=$("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+29),i=0;i<n.length;i++){var r=ej.buildTag("div.e-reportdesigner-box-sizing","",{height:e/n.length+"px"},{id:this.id+"_"+n[i].Name+"_categoryItem"}),o=ej.buildTag("div","",{},{id:this.id+"_"+n[i].Name+"_categoryLabelDiv"}),u=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"13px",display:"inline-block","font-weight":"600",margin:"3px","margin-bottom":"0px",width:"202px"},{id:this.id+"_"+n[i].Name+"_categoryLabel"});ej.isNullOrUndefined(n[i].DisplayName)?u.text(n[i].Name+"(s)"):u.text(n[i].DisplayName+"(s)");o.append(u);var f=ej.buildTag("div","",{border:"1px solid #c8c8c8","border-radius":"5px",overflow:"auto",height:e/n.length-40+"px","margin-top":"5px","background-color":"white"},{id:this.id+"_"+n[i].Name+"_categoryList",category:n[i].Name,categorytype:CategoryType[n[i].CategoryType],categorycount:n[i].CategoryCount}),s=ej.buildTag("div.e-reportdesigner-"+n[i].Name+"-empty-row","",{border:"1px dashed #aaaaaa",background:"white",margin:"6px",height:"25px"},{id:this.id+"_"+n[i].Name+"_categoryListDiv_emptyField"}),h=ej.buildTag("span","",{color:"#aaaaaa","font-size":"11px","vertical-align":"middle","padding-left":"65px"});h.text("Drag & Drop");s.append(h);f.append(s);f.bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.listMouseMove,this,n[i].Name));r.append(o);r.append(f);t.append(r)}},n.prototype.getPosition=function(n,t){var i=0;return t[n]?i=t[n]:t.originalEvent&&t.originalEvent.targetTouches&&t.originalEvent.targetTouches.length>0?i=t.originalEvent.targetTouches[0][n]:t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length>0&&(i=t.originalEvent.changedTouches[0][n]),i},n.prototype.listMouseMove=function(n,t){var u=this.getPosition("pageY",t),i=$("#"+this.id+"_"+n+"_categoryList"),r;this.reportDesigner.isItemDrag&&(i[0].clientHeight<=u-i[0].offsetTop+30?(r=i.scrollTop(),i.scrollTop(r+15)):i[0].offsetTop>=u-8&&(r=i.scrollTop(),i.scrollTop(r-15)))},n.prototype.onSettingsClick=function(n,t){var i=$("#"+this.id+"_"+n.Name+"_categoryAggregateListUl_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)),r=$("#"+this.id+"_"+n.Name+"_categoryListSettingsIcon_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).offset(),u=i.data("ejMenu");i.is(":visible")?u.hide():i.children().length>0&&u.show(r.left-103,r.top+$("#"+this.id+"_"+n.Name+"_categoryListSettingsIcon_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).height()+3,$("#"+this.id+"_"+n.Name+"_categoryListDiv_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)),t)},n.prototype.removeItem=function(n){var e,f,h,r,o,s,t;$("#"+this.id+"_"+n.Name+"_categoryListDiv_"+n.Label).remove();var l=ej.isNullOrUndefined(n.id)?ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]:$("#"+n.id),i=ej.DashboardUtil.getReportItem(l).dataGroupInfo,u={};if(!ej.isNullOrUndefined(i))for(t=0;t<i.Values.length;t++)i.Values[t].Name===n.Name&&(u=i.Values[t].Values);if(e=-1,!ej.isNullOrUndefined(u))for(f=0;f<u.length;f++)if(u[f].Field===n.Field){e=f;break}for(r=0;r<this.categoryItems.length;r++)this.categoryItems[r].Name===n.Name&&(ej.isNullOrUndefined(this.categoryItems[r].CategoryCount)||(h=parseInt(this.categoryItems[r].CategoryCount,10)));ej.isNullOrUndefined(h)||(o=ej.buildTag("div.e-reportdesigner-"+n.Name+"-empty-row","",{border:"1px dashed #aaaaaa",background:"white",margin:"6px",height:"25px"},{id:this.id+"_"+n.Name+"_categoryListDiv_emptyField"}),s=ej.buildTag("span","",{color:"#aaaaaa","font-size":"11px","vertical-align":"middle","padding-left":"65px"}),s.text("Drag & Drop"),o.append(s),$("#"+this.id+"_"+n.Name+"_categoryList").append(o));n.Values=u;n.ItemIndex=e;n.IsLoading||ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignDelete,"addItem","DataConfiguration","",[n],[]);var c=!1;for(t=0;t<i.Values.length;t++)i.Values[t].Name===n.Name&&(i.Values[t].Values.splice(e,1),c=!0);ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(i,{update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:c});this.postDraggedFields()},n.prototype.onCloseClick=function(n){this.removeItem({Name:n.Name,Field:n.Field,SummaryType:n.SummaryType,DateTimeFormat:n.DateTimeFormat,Label:n.Label,IsLoading:!1,Values:[]})},n.prototype.getColumnName=function(n){for(var i=ejDashboardDesigner.getInstance("DataSet").datasets,t=0;t<i.length;t++)if(i[t].Name===n)return i[t].Fields[0].Name},n.prototype.updateLabelInfo=function(n,t){for(var r,u=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,i=0;i<u.Values.length;i++)if(t.categoryName===u.Values[i].Name)for(r=0;r<u.Values[i].Values.length;r++)ej.isNullOrUndefined(u.Values[i].Values[r].Label)&&(u.Values[i].Values[r].Label="LabelData"+(r+1)),u.Values[i].Values[r].Label===t.Label&&(u.Values[i].Values[r].Value=n.value,u.Values[i].Values[r].GroupName=n.name)},n.prototype.onSettingsMenuItemClick=function(n,t){for(var s,y,f,r,l,a,h,e,u,p,i,c=this,v=!0,o=0;o<this.categoryItems.length;o++)this.categoryItems[o].Name!==n.Name||ej.isNullOrUndefined(this.categoryItems[o].MenuInfo)||(ej.DashboardUtil.invokeMethod(this.categoryItems[o].MenuInfo.CallBackInstance,this.categoryItems[o].MenuInfo.CallBackMethod,[n,t]),v=!1);if(s=!0,t.text!=="More"&&v){if(y=$("#"+this.id+"_"+n.Name+"_categoryAggregateListUl_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).data("ejMenu"),y.hide(),f=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,r={},!ej.isNullOrUndefined(f))for(i=0;i<f.Values.length;i++)f.Values[i].Name===n.Name&&(r=f.Values[i].Values);if(t.text==="Sort Ascending..."||t.text==="Sort Descending...")for(i=0;i<r.length;i++)r[i].Field===n.Field&&(r[i].Sorting=t.text==="Sort Ascending..."?"Ascending":"Descending");else if(t.text==="Filter"){for(i=0;i<r.length;i++)if(r[i].Field===n.Field){ejDashboardDesigner.getInstance("Filter").openFilterDialog(r[i].Filters,this,"updateFilterInfo",{categoryName:n.Name,Field:n.Field,Label:ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label},r[i].Name);break}}else if(t.text==="Filter(s)..."){for(s=!1,i=0;i<r.length;i++)if(r[i].Field===n.Field){l=[];l.push({Id:r[i].Field,Name:r[i].Field,SummaryType:r[i].SummaryType,FieldType:r[i].FieldType,MeasureFormatting:r[i].MeasureFormatting,FilterInfo:null});ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.getData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.getData,fieldInfo:l,dataset:r[i].Name})},{fnction:$.proxy(this.setDimensionFilters,this,{grpInfo:r[i],item:n})});break}}else if(t.text==="Filter..."){for(s=!1,i=0;i<r.length;i++)if(r[i].Field===n.Field){a=void 0;a=r[i].FilterInfo!=null?r[i].FilterInfo.MeasureFilterInfo:this.createMeasureFilter();ejDashboardDesigner.getInstance("MeasureFilter").openMeasureFilter(this,"measureFilterAction",n.Field,a);break}}else if(t.text==="Format..."){for(i=0;i<r.length;i++)if(r[i].Field===n.Field){h=void 0;r[i].MeasureFormatting!=null?(e=r[i].MeasureFormatting,h={formatProperties:{Culture:e.Culture,DecimalPoints:e.DecimalPoints,FormatType:e.FormatType,NegativeValue:e.NegativeValue,Prefix:e.Prefix,Suffix:e.Suffix,Unit:e.Unit}}):h={formatProperties:{Culture:"en-US",DecimalPoints:2,FormatType:"Number",NegativeValue:"",Prefix:"",Suffix:"",Unit:"Auto"}};ejDashboardDesigner.getInstance("FormatDialog").openFormatDialog(h,function(t){var s=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),i=s.dataGroupInfo,e=[],o=[],f=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),r,u;if(i.Values.length>=1)for(r=0;r<i.Values.length;r++)for(u=0;u<i.Values[r].Values.length;u++)i.Values[r].Values[u].Field===n.Field?(i.Values[r].Values[u].MeasureFormatting=t.formatProperties,e.push({Id:i.Values[r].Values[u].Field,Name:i.Values[r].Values[u].Field,SummaryType:i.Values[r].Values[u].SummaryType,FieldType:i.Values[r].Values[u].FieldType,MeasureFormatting:t.formatProperties})):e.push({Id:i.Values[r].Values[u].Field,Name:i.Values[r].Values[u].Field,SummaryType:i.Values[r].Values[u].SummaryType,FieldType:i.Values[r].Values[u].FieldType,MeasureFormatting:i.Values[r].Values[u].MeasureFormatting});o.push({Id:f.reportName,Name:f.reportName,ControlType:f.controlType,DataGroupInfo:i.Values});ej.isNullOrUndefined(f.chartType)||(o[0].ChartType=f.chartType);s.updateDataGroupInfo(i,{update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1});ej.DashboardUtil.getInstance().doAjaxPost("POST",c.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.fetchData,fieldInfo:e,dataset:i.Dataset,widgetInfo:o})},{fnction:$.proxy(c.bindData,c)})});break}}else if(this.supportedTypes.indexOf(t.text)!==-1&&t.text!="Format..."){if(!ej.isNullOrUndefined(r))for(u=0;u<r.length;u++)if(r[u].Field===n.Field){this.updateSummaryMenuListIcon(n,t.element);r[u].Value=t.text==="None"?n.Field:t.text+"("+n.Field+")";r[u].SummaryType=t.text;$("#"+this.id+"_"+n.Name+"_categoryListLabel_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).text(t.text==="None"?n.Field:t.text+"("+n.Field+")");break}for(i=0;i<f.Values.length;i++)f.Values[i].Name===n.Name&&(f.Values[i].Values=r)}else if(this.supportedDateTypes.indexOf(t.text)!==-1&&t.text!="Format..."){if(!ej.isNullOrUndefined(r))for(u=0;u<r.length;u++)if(r[u].Field===n.Field){this.updateSummaryMenuListIcon(n,t.element);r[u].Value=t.text+"("+n.Field+")";r[u].DateTimeFormat=t.text;$("#"+this.id+"_"+n.Name+"_categoryListLabel_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).text(t.text+"("+n.Field+")");break}for(i=0;i<f.Values.length;i++)f.Values[i].Name===n.Name&&(f.Values[i].Values=r)}else{if(!ej.isNullOrUndefined(r)&&t.text!=="Format...")for(u=0;u<r.length;u++)if(r[u].Field===n.Field){this.updateSummaryMenuListIcon(n,t.element);p=$(t.element).find("span.e-fieldmenuListName");r[u].Value=t.text==="None"?n.Field:t.text+"("+n.Field+")";r[u].DateTimeFormat=p.attr("fieldMenuName");$("#"+this.id+"_"+n.Name+"_categoryListLabel_"+(ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label)).text(t.text==="None"?n.Field:t.text+"("+n.Field+")");break}for(i=0;i<f.Values.length;i++)f.Values[i].Name===n.Name&&(f.Values[i].Values=r)}ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(f,{update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1});s&&this.postDraggedFields()}},n.prototype.addMenuListIcon=function(n,t){var i=$(t).find("span.e-fieldmenuListIcon");i.addClass("e-dashboardtick-icon");i.addClass("e-selectedfieldmenu")},n.prototype.removeMenuListIcon=function(n,t){var i=$(t).find("span.e-fieldmenuListIcon");i.removeClass("e-dashboardtick-icon");i.removeClass("e-selectedfieldmenu")},n.prototype.updateSummaryMenuListIcon=function(n,t){var i=$(t).find("span.e-fieldmenuListIcon"),r=$("#"+this.id+"_"+n.Name+"_categoryAggregateListUl_"+n.Label).find(".e-summaryselectedfieldmenu");r.removeClass("e-dashboardtick-icon");r.removeClass("e-summaryselectedfieldmenu");i.addClass("e-dashboardtick-icon");i.addClass("e-summaryselectedfieldmenu")},n.prototype.measureFilterAction=function(n){for(var c,l,o,r,f,i=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,s=[],e=[],u=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),h=new MeasureCondition,t=0;t<n.Values.length;t++)c=n.Values[t].value,h.Values.push(c);if(l={ColumnName:n.ColumnName,Conditions:n.Condition,Values:h.Values},o={MeasureFilterInfo:l},i.Values.length>=1)for(r=0;r<i.Values.length;r++)for(t=0;t<i.Values[r].Values.length;t++)f=null,i.Values[r].Values[t].Field===n.ColumnName?(f=o,i.Values[r].Values[t].FilterInfo=f):f=i.Values[r].Values[t].FilterInfo,s.push({Id:i.Values[r].Values[t].Field,Name:i.Values[r].Values[t].Field,FieldType:i.Values[r].Values[t].FieldType,FilterInfo:o});e.push({Id:u.reportName,Name:u.reportName,ControlType:u.controlType,DataGroupInfo:i.Values});ej.isNullOrUndefined(u.chartType)||(e[0].ChartType=u.chartType);ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.fetchData,fieldInfo:s,widgetInfo:e,dataset:i.Dataset})},{fnction:$.proxy(this.bindData,this)})},n.prototype.createMeasureFilter=function(){return{Conditions:"Equals",Values:[]}},n.prototype.getCategoryLabel=function(n,t){return $("#"+this.id+"_"+n+"_categoryListLabel_"+t)},n.prototype.getCategoryList=function(n){return $("#"+this.id+"_"+n+"_categoryList")},n.prototype.getCategories=function(){return this.categoryItems},n.prototype.getNumericDimensionMenuItems=function(){return[{Name:"Count"},{Name:"Distinct Count",EnableSeperator:!0},{Name:"Filter",EnableSeperator:!0},{Name:"Format..."}]},n.prototype.getNumericMenuItems=function(){return[{Name:"None"},{Name:"Sum"},{Name:"Count"},{Name:"Average"},{Name:"Max"},{Name:"Min"},{Name:"StdDev"},{Name:"Var"},{Name:"Distinct Count"},{Name:"Weighted Score",EnableSeperator:!0},{Name:"Filter...",EnableSeperator:!0},{Name:"Format..."}]},n.prototype.getSubDateTimeItems=function(){return[{Name:"Time"},{Name:"Hour",DisplayName:"Hours"},{Name:"Minute",DisplayName:"Minutes"},{Name:"Second",DisplayName:"Seconds",EnableSeperator:!0},{Name:"QuarterYear",DisplayName:"Quarter Year"},{Name:"MonthYear",DisplayName:"Month Year"},{Name:"WeekYear",DisplayName:"Week Year",EnableSeperator:!0},{Name:"DateHour",DisplayName:"Date Hour"},{Name:"DayOfWeek",DisplayName:"Day of Week"},{Name:"WeekOfYear",DisplayName:"Week of Year",EnableSeperator:!0},{Name:"DayMonthYear",DisplayName:"Day Month Year"},{Name:"MonthDayYear",DisplayName:"Month Day Year"}]},n.prototype.getNon_NumericMenuItems=function(n){var t=[{Name:"Sort Ascending..."},{Name:"Sort Descending...",EnableSeperator:!0}],i;return n.FieldActualType==="e-reportdesigner-dataset-datetime"&&(i=[{Name:"DefaultTime",DisplayName:"Date Time"},{Name:"Date"},{Name:"Year"},{Name:"Quarter"},{Name:"Month"},{Name:"Day"},{Name:"More",EnableSeperator:!0,Items:this.getSubDateTimeItems()}],t=t.concat(i)),t.push({Name:"Filter(s)..."}),t},n.prototype.validateDefaultCategories=function(n){for(var i={enableMeasures:!1,enableDimensions:!1,supportedTypes:[]},t=0;t<n.length;t++)n[t].Name==="Measures"?i.enableMeasures=!0:n[t].Name==="Dimensions"&&(i.enableDimensions=!0,i.supportedTypes=n[t].SupportedTypes);return i},n.prototype.updateDatasetFields=function(n,t){var s,e,r,i,u,f,o;for($("#"+this.id+"_Measures_categoryItem").remove(),$("#"+this.id+"_Dimensions_categoryItem").remove(),this.renderDatasetFields($("#"+this.id+"_datasetFieldsContainer")),t&&this.resetContainer(this.getCategoryItems()),s=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).getDefaultCategoriesInfo(),e=this.validateDefaultCategories(s),this.selectedDataset=n,this.measuresList=[],this.dimensionsList=[],r=ejDashboardDesigner.getInstance("DataSet").datasets,i=0;i<r.length;i++)if(r[i].Name===n)for(u=0;u<r[i].Fields.length;u++)f=ej.DashboardUtil.getDatasetTypeIcon(r[i].Fields[u].TypeName),f==="e-reportdesigner-dataset-number"&&e.enableMeasures?(o=this.createLabel({Name:"Measures",DataField:r[i].Fields[u].DataField,Field:r[i].Fields[u].Name,Aggregate:"",IsExpression:!1},f,!1,!1),$("#"+this.id+"_Measures_categoryList").append(o),this.measuresList.push({Name:r[i].Fields[u].Name,DatasetIcon:f,DataField:r[i].Fields[u].DataField})):e.enableDimensions&&f!=="e-reportdesigner-dataset-number"&&(ej.isNullOrUndefined(e.supportedTypes)||e.supportedTypes.indexOf(f)!==-1)&&(o=this.createLabel({Name:"Dimensions",DataField:r[i].Fields[u].DataField,Field:r[i].Fields[u].Name,Aggregate:"",IsExpression:!1},f,!1,!1),$("#"+this.id+"_Dimensions_categoryList").append(o),this.dimensionsList.push({Name:r[i].Fields[u].Name,DatasetIcon:f,DataField:r[i].Fields[u].DataField}))},n.prototype.getDataField=function(n){for(var i=n,t=0;t<this.measuresList.length;t++)if(this.measuresList[t].Name===n)return this.measuresList[t].DataField;for(t=0;t<this.dimensionsList.length;t++)if(this.dimensionsList[t].Name===i)return this.dimensionsList[t].DataField;return i},n.prototype.enableDrag=function(n,t){$("#"+this.id+"_"+n+"_categoryListDragIcon_"+t).css("display","block");$("#"+this.id+"_"+n+"_categoryListDatasetIcon_"+t).css("margin-left","0px")},n.prototype.disableDrag=function(n,t){$("#"+this.id+"_"+n+"_categoryListDragIcon_"+t).css("display","none");$("#"+this.id+"_"+n+"_categoryListDatasetIcon_"+t).css("margin-left","21px")},n.prototype.getDragElement=function(n,t,i){var r=t.replace(" ",""),u=ej.buildTag("div","",{border:"0.5px solid #EDF1F4",background:"#EDF1F4",margin:"6px",height:"25px","border-radius":"1px"},{id:this.id+"_"+n+"_categoryListDiv_"+r+"_draggingElement"}),e=ej.buildTag("div","",{"margin-right":"3px","margin-left":"23px","margin-top":"4.5px",float:"left"},{id:this.id+"_"+n+"_categoryListDatasetIcon_"+r+"_draggingElement","class":"e-reporticons "+i}),f=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"11px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-left":"2px","margin-top":"1px",width:"120px","vertical-align":"middle",background:"#EDF1F4"},{id:this.id+"_"+n+"_categoryListLabel_"+r+"_draggingElement"});return f.text(t),u.append(e),u.append(f),u},n.prototype.createLabel=function(n,t,i,r){var e=n.Field.replace(" ",""),f,o,u,c,s,h;if(ej.isNullOrUndefined(n.CategoryType)||(this.validateCategoryInfo(n)&&n.Name!=="Measures"&&n.Name!=="Dimensions"?(ej.isNullOrUndefined(n.SummaryType)||n.SummaryType==="")&&(n.SummaryType=n.FieldType==="Measures"?"Sum":n.CategoryType===CategoryType[CategoryType.None]?"None":"Count"):(ej.isNullOrUndefined(n.SummaryType)||n.SummaryType==="")&&(n.SummaryType="None"),(ej.isNullOrUndefined(n.DateTimeFormat)||n.DateTimeFormat==="")&&(n.DateTimeFormat="None")),f=ej.buildTag("div.e-draggable e-reportdesigner-box-sizing","",{border:"1px solid #ececec",background:"#ececec",margin:"6px",height:"25px","border-radius":"2px"},{id:this.id+"_"+n.Name+"_categoryListDiv_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),field:n.Field,label:n.Label,datafield:n.DataField,fieldtype:n.FieldType,summarytype:n.SummaryType,datetimeformat:n.DateTimeFormat,fieldactualtype:ej.isNullOrUndefined(t)?n.FieldActualType:t,category:n.Name,categorytype:n.CategoryType}),this.validateCategoryInfo(n)||(f=ej.buildTag("div.e-reportdesigner-box-sizing","",{border:"1px solid #ececec",background:"#ececec",margin:"6px",height:"25px","border-radius":"2px"},{id:this.id+"_"+n.Name+"_categoryListDiv_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),field:n.Field,label:n.Label,datafield:n.DataField,fieldtype:n.FieldType,summarytype:n.SummaryType,datetimeformat:n.DateTimeFormat,fieldactualtype:ej.isNullOrUndefined(t)?n.FieldActualType:t,category:n.Name,categorytype:n.CategoryType})),o=ej.buildTag("div","",{"margin-right":"5px","margin-left":"5px","margin-top":"7.5px",display:"none",float:"left","font-size":"11px"},{id:this.id+"_"+n.Name+"_categoryListDragIcon_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),"class":"e-widgeticons e-reportdesigner-double-drag",field:n.Field,label:n.Label,datafield:n.DataField,fieldtype:n.FieldType,summarytype:n.SummaryType,datetimeformat:n.DateTimeFormat,fieldactualtype:ej.isNullOrUndefined(t)?n.FieldActualType:t,category:n.Name,categorytype:n.CategoryType}),u=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"11px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-top":"4.5px",width:"90px",float:"left","vertical-align":"middle",background:"#ececec"},{id:this.id+"_"+n.Name+"_categoryListLabel_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label)}),this.validateCategoryInfo(n)&&n.Name!=="Measures"&&n.Name!=="Dimensions"?n.IsExpression?ej.DashboardUtil.isExpression(n.Values[n.ItemIndex].Value)?u.text("<Expression>"):u.text(n.Values[n.ItemIndex].Value):!ej.isNullOrUndefined(n.Values)&&n.Values.length>0&&n.Values[n.ItemIndex].Value===""?u.text("<Empty>"):n.DateTimeFormat!=="None"?u.text(n.DateTimeFormat+"("+n.Field+")"):n.SummaryType!=="None"?u.text(n.SummaryType+"("+n.Field+")"):u.text(n.Field):n.DateTimeFormat!=="None"&&n.Name!=="Measures"&&n.Name!=="Dimensions"?u.text(n.DateTimeFormat+"("+n.Field+")"):u.text(n.Field),f.append(o),ej.isNullOrUndefined(t)?(o.css("display","block"),u.css("width","115px")):(c=ej.buildTag("div","",{"margin-right":"5px","margin-left":"21px","margin-top":"5px",float:"left"},{id:this.id+"_"+n.Name+"_categoryListDatasetIcon_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),"class":"e-reporticons "+t}),f.append(c),f.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableDrag,this,n.Name,ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label)),f.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableDrag,this,n.Name,ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label))),f.append(u),r){s=ej.buildTag("span","",{"margin-top":"7px","margin-right":"5px",float:"right",display:"inline-block","vertical-align":"middle",color:"#f45d5d","font-size":"10px"},{id:this.id+"_"+n.Name+"_categoryListIcon_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),"class":"e-widgeticons e-reportdesigner-close"});s.on("click",$.proxy(this.onCloseClick,this,n));f.append(s)}if(i){h=ej.buildTag("span.e-designer-click e-reportdesigner-toolbarIconSettings e-toolbarsmallfonticonsettings e-reportdesigner-selection","",{"margin-top":"5.5px","margin-right":"5px","margin-left":"5px",float:"right",width:"16px",display:"inline-block","vertical-align":"middle",color:"#0c8be2"},{id:this.id+"_"+n.Name+"_categoryListSettingsIcon_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label),"e-target":this.id+"_"+n.Name+"_categoryAggregateListUl_"+(ej.isNullOrUndefined(n.Label)?ej.DashboardUtil.escapeSelector(e):n.Label)});f.append(h);h.on("click",$.proxy(this.onSettingsClick,this,n))}return i&&r||u.css("width",ej.DashboardUtil.getPixelVal(u.css("width"))+24+"px"),ejDashboardDesigner.getInstance("DragOnDrop").initializeDraggable(f,100),f},n.prototype.reorderItem=function(n){var i=$("#"+this.id+"_"+n.Name+"_categoryList"),t;$("#"+this.id+"_"+n.Name+"_categoryListDiv_"+n.Label).insertBefore(i[0].children[n.ItemIndex]);t=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo;ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"updateDataGroupInfo",[n.Name,t])},n.prototype.addItem=function(n,t,i){var e,o,r,a,h,f,l;if(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0){if(e=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,n.Values.length>0)for(o=0;o<e.Values.length;o++)e.Values[o].Name===n.Name&&(e.Values[o].Values=n.Values);var s=void 0,u=[],c=void 0;for(r=0;r<this.categoryItems.length;r++)this.categoryItems[r].Name===n.Name&&(n.CategoryType=CategoryType[this.categoryItems[r].CategoryType],ej.isNullOrUndefined(this.categoryItems[r].CategoryCount)||(c=parseInt(this.categoryItems[r].CategoryCount)),ej.isNullOrUndefined(this.categoryItems[r].MenuInfo)||(u=this.categoryItems[r].MenuInfo.Items));if(n.Label=ej.isNullOrUndefined(n.Label)?n.Values[n.ItemIndex].Label:n.Label,s=this.createLabel(n,null,!0,!0),a=ej.buildTag("div","",{"margin-top":"5px"},{id:this.id+"_"+n.Name+"_categoryAggregateList"}),u.length===0)if(n.CategoryType===CategoryType[CategoryType.Numeric]||n.CategoryType===CategoryType[CategoryType.None]){for(h=0;h<this.measuresList.length;h++)this.measuresList[h].Name===n.Field&&(u=this.getNumericMenuItems());u.length===0&&(u=n.CategoryType===CategoryType[CategoryType.None]?this.getNon_NumericMenuItems(n):this.getNumericDimensionMenuItems())}else n.CategoryType===CategoryType[CategoryType.Non_Numeric]&&(u=this.getNon_NumericMenuItems(n));return u.length>0&&this.populateFunctionItems(a,n,u),$("#"+this.id+"_"+n.Name+"_categoryList").append(s),f=$("#"+this.id+"_"+n.Name+"_categoryList"),ej.isNullOrUndefined(f[0])?$("#"+s[0].id).insertBefore($("#"+this.id+"_"+n.Name+"_categoryListDiv_emptyField")):n.ItemIndex>-1&&f[0].children.length>0&&($("#"+s[0].id).insertBefore(f[0].children[n.ItemIndex]),n.ItemIndex<f[0].children.length-1&&$("#"+this.id+"_"+n.Name+"_categoryListDiv_emptyField").insertAfter(f[0].children[f[0].children.length-1])),!ej.isNullOrUndefined(c)&&f[0].children.length>c&&$("#"+this.id+"_"+n.Name+"_categoryListDiv_emptyField").remove(),t||(n.Values=this.updateDataGroupInfo(n.Name,e)),n.IsLoading||(l=$.extend(!0,{},n),l.id=$(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).attr("id"),ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignAdd,"removeItem","DataConfiguration","",[l],[])),i&&this.postDraggedFields(),s}return null},n.prototype.postDraggedFields=function(){var n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,f=[],u=[],r=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),t,i,e;if(n.Values.length>=1)for(t=0;t<n.Values.length;t++)for(i=0;i<n.Values[t].Values.length;i++)e=this.dateFormats(n.Values[t].Values[i].DateTimeFormat),f.push({Id:n.Values[t].Values[i].Field,Name:n.Values[t].Values[i].Field,SummaryType:n.Values[t].Values[i].SummaryType,Sorting:n.Values[t].Values[i].Sorting,FieldType:n.Values[t].Values[i].FieldType,MeasureFormatting:n.Values[t].Values[i].MeasureFormatting,DateTimeFormat:e,FilterInfo:n.Values[t].Values[i].FilterInfo});u.push({Id:r.reportName,Name:r.reportName,ControlType:r.controlType,DataGroupInfo:n.Values});ej.isNullOrUndefined(r.chartType)||(u[0].ChartType=r.chartType);ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.fetchData,fieldInfo:f,dataset:n.Dataset,widgetInfo:u})},{fnction:$.proxy(this.bindData,this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})},n.prototype.dateFormats=function(n){var t;switch(n){case"Date Time":t=DateTimeFormat.Default;break;case"Date Hour":t=DateTimeFormat.DateHour;break;case"Month Year":t=DateTimeFormat.MonthYear;break;case"Week Year":t=DateTimeFormat.WeekYear;break;case"Quarter Year":t=DateTimeFormat.QuarterYear;break;case"Day Month Year":t=DateTimeFormat.DayMonthYear;break;case"Month Day Year":t=DateTimeFormat.MonthDayYear;break;case"Day of Week":t=DateTimeFormat.DayOfWeek;break;case"Week of Year":t=DateTimeFormat.WeekOfYear;break;case"Hours":t=DateTimeFormat.Hour;break;case"Minutes":t=DateTimeFormat.Minute;break;case"Seconds":t=DateTimeFormat.Second;break;default:t=n}return t},n.prototype.showLoadingIndicator=function(){ejDashboardDesigner.getInstance("DesignPanel").showLoadingIndicator()},n.prototype.hideLoadingIndicator=function(){ejDashboardDesigner.getInstance("DesignPanel").hideLoadingIndicator()},n.prototype.bindData=function(n){ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateData(n);ej.DashboardDesignerUtility.Serialization.notifyChange()},n.prototype.setDimensionFilters=function(n,t){for(var f,r=[],u=JSON.parse(t.data),i=0;i<u.length;i++)r.includes(u[i][n.grpInfo.Field])||r.push(u[i][n.grpInfo.Field]);f=n.grpInfo.FilterInfo!=null?n.grpInfo.FilterInfo.DimensionFilterInfo:{IsAllowFilteringApplied:!1,IsConditionFilteringApplied:!1,IsTopNFilteringApplied:!1,AllowFilterInfo:{FilterCondition:"Include",FilteredValues:null,IsSelectedAll:!0},ConditionFilterInfo:{ColumnName:this.getColumnName(n.grpInfo.Name),SummaryType:"Sum",ConditionSummaryType:"Equals",Values:["0"]},TopNFilterInfo:{Mode:"Top",NoOfRecords:"5",ColumnName:this.getColumnName(n.grpInfo.Name),SummaryType:"Sum",IsBasedOnDateAndTimeField:!1,DateFormat:"Date Time"}};ejDashboardDesigner.getInstance("DimensionFilter").openDimensionFilterWindow(this,"filterAction",n.grpInfo.Name,r.sort(),f,n.item.Field)},n.prototype.getValueInfo=function(n,t,i){var r=this.createDataValueInfo(),u;return r.Name=this.selectedDataset,r.Field=i.Field,r.DataField=i.DataField,r.Label=i.Label,r.FieldType=i.FieldType,r.SummaryType=i.SummaryType,r.DateTimeFormat=i.DateTimeFormat,i.SummaryType!==""&&(r.Value=i.SummaryType==="None"&&r.DateTimeFormat==="None"?i.Field:i.SummaryType!=="None"||r.DateTimeFormat!=="None"?(r.DateTimeFormat!=="None"?i.DateTimeFormat:i.SummaryType)+"("+i.Field+")":i.Field),u=ej.isNullOrUndefined(n)?[]:this.getGroupValues(n,t,i.Field),u.length>0?u[0]:r},n.prototype.getGroupValues=function(n,t,i){for(var u,r=0;r<n.length;r++)if(n[r].Name===t)for(u=0;u<n[r].Values.length;u++)if(ej.isNullOrUndefined(n[r].Values[u].Label)&&(n[r].Values[u].Label="LabelData"+(u+1)),n[r].Values[u].Label===i)return[n[r].Values[u]];return[]},n.prototype.getColumnInfo=function(n,t,i){var o=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),r=this.createColumnInfo(),e=this.createSort(),u,f;return e.Value="=Fields!"+i.Field+".Value",u=this.createGroup(),u.Value="=Fields!"+i.Field+".Value",r.Name=this.selectedDataset,r.Field=i.Field,r.DataField=i.DataField,r.Label=i.Label,r.FieldType=i.FieldType,r.SummaryType=i.SummaryType,r.DateTimeFormat=i.DateTimeFormat,r.Value=r.DateTimeFormat!=="None"?i.DateTimeFormat+"("+i.Field+")":i.Field,r.GroupName=ej.isNullOrUndefined(o.chartJson)?i.Field:"",r.SortExpressions=[e],r.GroupExpressions=[u],f=ej.isNullOrUndefined(n)?[]:this.getGroupValues(n,t,i.Label),f.length>0?f[0]:r},n.prototype.getDataInfo=function(n,t,i,r){for(var u=0;u<n.Values.length;u++)if(i===n.Values[u].Name){this.validateCategoryInfo(r)?n.Values[u].Values.push(this.getValueInfo(t.Values,i,r)):n.Values[u].Values.push(this.getColumnInfo(t.Values,i,r));break}return n.Dataset=this.selectedDataset,n},n.prototype.validateGroupValues=function(n,t,i){var f=!1,r,u;if(ej.isNullOrUndefined(t)||t.length!==i.length)f=!0;else for(r=0;r<t.length;r++)if(t[r].Name===n)if(t[r].Values.length===i[r].Values.length){for(u=0;u<t[r].Values.length;u++)if(t[r].Values[u].Value!==i[r].Values[u].Value){f=!0;break}}else{f=!0;break}return f},n.prototype.validateCategoryInfo=function(n){return n.CategoryType===CategoryType[CategoryType.Numeric]||n.CategoryType===CategoryType[CategoryType.None]?!0:!1},n.prototype.updateDataGroupInfo=function(n,t){var e,r,o,i;t.Dataset=this.selectedDataset;var u=$("#"+this.id+"_"+n+"_categoryList"),f=!1,s=!1;if(u.length>0){for(e=this.categoryItems=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).getDataCategoriesInfo(),r=this.createDataGroupInfo(),i=0;i<e.length;i++)o=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createValueInfo"),o.Name=e[i].Name,o.DisplayName=e[i].DisplayName,r.Values.push(o);for(i=0;i<u[0].children.length;i++){var h=$(u[0].children[i]).attr("field"),c=$(u[0].children[i]).attr("datafield"),l=$(u[0].children[i]).attr("label"),a=$(u[0].children[i]).attr("fieldtype"),v=$(u[0].children[i]).attr("summarytype"),y=$(u[0].children[i]).attr("categorytype"),p=$(u[0].children[i]).attr("datetimeformat");ej.isNullOrUndefined(h)||h==="emptyField"||(r=this.getDataInfo(r,t,n,{Field:h,DataField:c,Label:l,FieldType:a,SummaryType:v,CategoryType:y,DateTimeFormat:p}))}if(ej.isNullOrUndefined(t)||ej.isNullOrUndefined(t.Values))f=!0,t=r;else if(f=!0,s=this.validateGroupValues(n,t.Values,r.Values),s)if(t.Values.length!==r.Values.length)t.Values=r.Values;else for(i=0;i<r.Values.length;i++)r.Values[i].Name===n&&(t.Values[i].Values=r.Values[i].Values)}else f=!0;return ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(t,{update:f,columnUpdate:!1,rowUpdate:!1,valueUpdate:s}),t.Values[this.getSelectedCategoryIndex(n)]},n.prototype.populateFunctionItems=function(n,t,i){for(var f,e,o,a,u,s,h,c,l=ej.buildTag("ul.e-designer-menu","",{padding:"4px"},{id:this.id+"_"+t.Name+"_categoryAggregateListUl_"+t.Label}),r=0;r<i.length;r++){if(f=ej.buildTag("li","",{},{}),e=ej.buildTag("a.e-fieldmenuListName","",{},{fieldMenuName:i[r].Name}),e.text(ej.isNullOrUndefined(i[r].DisplayName)?i[r].Name:i[r].DisplayName),o=ej.buildTag("span.e-fieldmenuListIcon","",{},{}),(t.SummaryType===i[r].Name||t.FieldType==="Dimensions"&&t.DateTimeFormat===i[r].Name)&&(o.addClass("e-dashboardtick-icon"),o.addClass("e-summaryselectedfieldmenu")),e.append(o),f.append(e),!ej.isNullOrUndefined(i[r].Items))for(a=ej.buildTag("ul","",{padding:"4px",width:"150px"},{}),f.append(a),u=0;u<i[r].Items.length;u++)s=ej.buildTag("li","",{},{}),h=ej.buildTag("a.e-fieldmenuListName","",{},{fieldMenuName:i[r].Items[u].Name}),h.text(ej.isNullOrUndefined(i[r].Items[u].DisplayName)?i[r].Items[u].Name:i[r].Items[u].DisplayName),c=ej.buildTag("span.e-fieldmenuListIcon","",{},{}),(t.SummaryType===i[r].Items[u].Name||t.FieldType==="Dimensions"&&t.DateTimeFormat===i[r].Name)&&(c.addClass("e-dashboardtick-icon"),c.addClass("e-summaryselectedfieldmenu")),h.append(c),s.append(h),a.append(s),!ej.isNullOrUndefined(i[r].Items[u].EnableSeperator)&&i[r].Items[u].EnableSeperator&&s.addClass("e-separator");!ej.isNullOrUndefined(i[r].EnableSeperator)&&i[r].EnableSeperator&&f.addClass("e-separator");l.append(f)}n.append(l);l.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+this.id+"_"+name+"_categoryListDiv_"+t.Label,width:150,click:$.proxy(this.onSettingsMenuItemClick,this,t)})},n.prototype.createDataGroupInfo=function(){return{__type:"Syncfusion.RDL.DOM.DataGroupInfo",Values:[],Dataset:this.selectedDataset,Filters:[],SortExpressions:[]}},n.prototype.createValueInfo=function(){return{__type:"Syncfusion.RDL.DOM.ValueInfo",Name:"",DisplayName:"",Values:[]}},n.prototype.createDataValueInfo=function(){return{__type:"Syncfusion.RDL.DOM.DataValueInfo",Name:"",Field:"",DataField:"",FieldType:"",SummaryType:"",Label:"",Value:"",Sorting:"Ascending",DateTimeFormat:DateTimeFormat[DateTimeFormat.None]}},n.prototype.createColumnInfo=function(){return{__type:"Syncfusion.RDL.DOM.DataColumnInfo",Name:"",Field:"",DataField:"",FieldType:"",SummaryType:"",Label:"",Value:"",Filters:[],GroupName:"",SortExpressions:[],GroupExpressions:[],DateTimeFormat:DateTimeFormat[DateTimeFormat.None]}},n.prototype.createSort=function(){return{__type:"Syncfusion.RDL.DOM.SortExpression",Value:"",Direction:"Ascending"}},n.prototype.createGroup=function(){return{__type:"Syncfusion.RDL.DOM.GroupExpression",Value:""}},n.prototype.updateFilterInfo=function(n,t){for(var r,f=!1,i=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,u=0;u<i.Values.length;u++)if(t.categoryName===i.Values[u].Name)for(r=0;r<i.Values[u].Values.length;r++)if(ej.isNullOrUndefined(i.Values[u].Values[r].Label)&&(i.Values[u].Values[r].Label="LabelData"+(r+1)),i.Values[u].Values[r].Label===t.Label){ejDashboardDesigner.editManager.addCmdAction(CommandAction.UpdateFilter,"updateFilterInfo","DataConfiguration","",[i.Values[u].Values[r].Filters,t],[n,t]);i.Columns[r].Filters=n;f=!0;break}ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(i,{update:!1,columnUpdate:f,rowUpdate:!1,valueUpdate:!1})},n.prototype.updateSortInfo=function(n,t){for(var r,f=!1,i=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,u=0;u<i.Values.length;u++)if(t.categoryName===i.Values[u].Name)for(r=0;r<i.Values[u].Values.length;r++)ej.isNullOrUndefined(i.Values[u].Values[r].Label)&&(i.Values[u].Values[r].Label="LabelData"+(r+1)),i.Values[u].Values[r].Label===t.Label&&(ejDashboardDesigner.editManager.addCmdAction(CommandAction.UpdateSort,"updateSortInfo","DataConfiguration","",[i.Values[u].Values[r].SortExpressions,t],[n,t]),i.Columns[r].SortExpressions=n,f=!0);ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(i,{update:!1,columnUpdate:f,rowUpdate:!1,valueUpdate:!1})},n.prototype.updateGroupInfo=function(n,t){var e=!1,r=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,f=n.groupExpressions,o=f.length>0?f[0].Value.split("!")[1].split(".")[0]:t.Field,i,u;for(this.updateLabelInfo(n,t),i=0;i<r.Values.length;i++)if(t.categoryName===r.Values[i].Name)for(u=0;u<r.Values[i].Values.length;u++)r.Values[i].Values[u].Label===t.Label&&(ejDashboardDesigner.editManager.addCmdAction(CommandAction.UpdateGroup,"updateGroupInfo","DataConfiguration","",[r.Values[i].Values[u].GroupExpressions,t],[f,t]),r.Values[i].Values[u].GroupExpressions=f,r.Values[i].Values[u].Field=o,e=!0);ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(r,{update:!1,columnUpdate:e,rowUpdate:!1,valueUpdate:!1})},n.prototype.filterAction=function(n,t){var r=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,h=[],o=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),l=[],c=[],e=n.ConditionFilterInfo.ConditionSummaryType,u=n.TopNFilterInfo.DateFormat,a,v,f,i,s;if(n.IsAllowFilteringApplied)for(i=0;i<n.AllowFilterInfo.FilteredValues.length;i++)n.AllowFilterInfo.FilteredValues[i].value===undefined?c.push(n.AllowFilterInfo.FilteredValues[i]):c.push(n.AllowFilterInfo.FilteredValues[i].value);switch(n.ConditionFilterInfo.ConditionSummaryType){case"Does Not Equal":e=NumberFilterOption.NotEquals;break;case"Less Than":e=NumberFilterOption.LessThan;break;case"Greater Than":e=NumberFilterOption.GreaterThan;break;case"Less Than Or Equal To":e=NumberFilterOption.LessThanOrEquals;break;case"Greater Than Or Equal To":e=NumberFilterOption.GreaterThanOrEquals;break;case"Between":e=NumberFilterOption.IsBetween;break;case"Not Between":e=NumberFilterOption.IsNotBetween}switch(n.TopNFilterInfo.DateFormat){case"Date Time":u=DateTimeFormat.Default;break;case"Month Year":u=DateTimeFormat.MonthYear;break;case"Week Year":u=DateTimeFormat.WeekYear;break;case"Quarter Year":u=DateTimeFormat.QuarterYear;break;case"Day Month Year":u=DateTimeFormat.DayMonthYear;break;case"Month Day Year":u=DateTimeFormat.MonthDayYear;break;case"Day of Week":u=DateTimeFormat.DayOfWeek;break;case"Week of Year":u=DateTimeFormat.WeekOfYear;break;case"Hours":u=DateTimeFormat.Hour;break;case"Minutes":u=DateTimeFormat.Minute;break;case"Seconds":u=DateTimeFormat.Second}if(a={IsAllowFilteringApplied:n.IsAllowFilteringApplied,IsConditionFilteringApplied:n.IsConditionFilteringApplied,IsTopNFilteringApplied:n.IsTopNFilteringApplied,AllowFilterInfo:{FilterCondition:n.AllowFilterInfo.FilterCondition,FilteredValues:c,IsSelectedAll:n.AllowFilterInfo.IsSelectedAll},ConditionFilterInfo:{ColumnName:n.ConditionFilterInfo.ColumnName,SummaryType:n.ConditionFilterInfo.SummaryType,ConditionSummaryType:e,Values:n.ConditionFilterInfo.Values},TopNFilterInfo:{Mode:n.TopNFilterInfo.Mode,NoOfRecords:n.TopNFilterInfo.NoOfRecords,ColumnName:n.TopNFilterInfo.ColumnName,SummaryType:n.TopNFilterInfo.SummaryType,IsBasedOnDateAndTimeField:n.TopNFilterInfo.IsBasedOnDateAndTimeField,DateFormat:u}},v={DimensionFilterInfo:a},r.Values.length>=1)for(f=0;f<r.Values.length;f++)for(i=0;i<r.Values[f].Values.length;i++)s=null,r.Values[f].Values[i].Field===t?(s=v,r.Values[f].Values[i].FilterInfo=s):s=r.Values[f].Values[i].FilterInfo,l.push({Id:r.Values[f].Values[i].Field,Name:r.Values[f].Values[i].Field,SummaryType:r.Values[f].Values[i].SummaryType,FieldType:r.Values[f].Values[i].FieldType,FilterInfo:s});h.push({Id:o.reportName,Name:o.reportName,ControlType:o.controlType,DataGroupInfo:r.Values});ej.isNullOrUndefined(o.chartType)||(h[0].ChartType=o.chartType);ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.fetchData,fieldInfo:l,widgetInfo:h,dataset:r.Dataset})},{fnction:$.proxy(this.bindData,this)})},n.prototype.updateExpression=function(n,t){var u=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,f=!1,i,r;if(this.validateCategoryInfo(t))for(i=0;i<u.Values.length;i++)for(r=0;r<u.Values[i].Values.length;r++)if(ej.isNullOrUndefined(u.Values[i].Values[r].Label)&&(u.Values[i].Values[r].Label="LabelData"+(r+1)),u.Values[i].Values[r].Label===t.Label){u.Values[i].Values[r].Value!==n&&(f=!0,u.Values[i].Values[r].Value=n,ej.DashboardUtil.isExpression(n)?$("#"+this.id+"_"+t.categoryName+"_categoryListLabel_"+t.Label).text("<Expression>"):$("#"+this.id+"_"+t.categoryName+"_categoryListLabel_"+t.Label).text(n));break}ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(u,{update:!1,columnUpdate:!1,rowUpdate:!1,valueUpdate:f})},n}();window.ej.createObject("ej.DashboardDesignerUtility.DataConfiguration",InternalDataConfiguration,window);MeasureCondition=function(){function n(){this.Values=[]}return n}(),function(n){n[n.Numeric=0]="Numeric";n[n.Non_Numeric=1]="Non_Numeric";n[n.None=2]="None"}(CategoryType||(CategoryType={}));ConfigurationPanel=function(){function n(t){this.reportDesigner=null;this.occupyFullWidth=!1;this.resizeObj={isPropertyPanel:!0,isDataSet:!0,isParameter:!1,isImageManager:!1};this.tooltipTimeOut=null;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");n.dataPanel=this;this.targetTag=t;this.rendererItemPanel()}return Object.defineProperty(n,"DataPanel",{get:function(){return this.dataPanel},enumerable:!0,configurable:!0}),n.prototype.rendererItemPanel=function(){var n=this.reportDesigner._id;this.panelItems=[{GroupName:"Properties",DisplayName:"Properties",GroupClass:"e-reporticon e-reportdesigner-configuration-settings",GroupId:n+"_Properties"},{GroupName:"Dataset",DisplayName:"Data",GroupClass:"e-reporticon e-reportdesigner-configuration-dataset",GroupId:n+"_Dataset"}];this.expandablePanel=ej.buildTag("div.e-reportdesigner-designer-configuration","",{width:"463px",height:"100%",display:"block",overflow:"hidden",float:"left",border:"0px solid #c8c8c8","border-left":"1px solid #c8c8c8","box-sizing":"border-box","background-color":"#f9f9f9"},{id:n+"_designerConfigurationPanel"});this.targetTag.append(this.expandablePanel);this.expandablePanel.css("display","none");this.renderToolBarPanel(this.panelItems)},n.prototype.renderToolBarPanel=function(n){var u=Array.prototype.slice.call(n),t;for(this.toolBarPanel=ej.buildTag("div.e-reportdesigner-itempanel-header","",{width:"36px",height:"100%"},{id:this.reportDesigner._id+"_configurationHeaderPanel"}),this.renderTooltip(),t=0;t<u.length;t++){var i=u[t],r=ej.buildTag("div.e-reportdesigner-itempanel-wrapper","",{width:"35px",height:"35px"},{id:i.GroupId+"_wrapper"}),f=ej.buildTag("div","",{},{id:this.reportDesigner._id+"_"+i.GroupName,"class":i.GroupClass+" e-reportdesigner-itempanel-icon"});r.on("click",$.proxy(this.onGroupItemsClick,this,n[t]));r.append(f);this.toolBarPanel.append(r);r.on(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.showTooltip,this,i.GroupId+"_wrapper",i.DisplayName));r.on(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.hideTooltip,this))}this.targetTag.append(this.toolBarPanel)},n.prototype.renderTooltip=function(){var n=this.reportDesigner._id,i=ej.buildTag("div.e-tooltip-wrap e-widget e-userselect e-designer-config-tooltip","",{display:"none"},{id:n+"_config_tooltip"}),r=ej.buildTag("div.e-arrowTip","",{height:"20px",width:"10px",top:"4px",display:"block"},{id:n+"_config_arrow_tooltip"}),f=ej.buildTag("div.e-arrowTipOuter","",{}),e=ej.buildTag("div.e-arrowTipInner","",{left:"0px",top:"1px"}),t,u;r.append(f).append(e);t=ej.buildTag("div.e-tipContainer","",{});u=ej.buildTag("div.e-tipcontent e-def","",{},{id:n+"_config_content_tooltip"});t.append(u);i.append(r).append(t);this.toolBarPanel.append(i)},n.prototype.showTooltip=function(n,t){var i=this;this.tooltipTimeOut&&clearTimeout(this.tooltipTimeOut);this.tooltipTimeOut=setTimeout(function(){i.setPosition(n,t)},700)},n.prototype.hideTooltip=function(){this.tooltipTimeOut&&clearTimeout(this.tooltipTimeOut);$("#"+this.reportDesigner._id+"_config_tooltip").css("display","none")},n.prototype.setPosition=function(n,t){var i=this.reportDesigner._id,r=$("#"+n).offset(),u=$("#"+i+"_config_arrow_tooltip");$("#"+i+"_config_content_tooltip").text(t);$("#"+i+"_config_tooltip").css({left:r.left-$("#"+i+"_config_tooltip").width()-u.width(),top:r.top+2,display:"block"});u.css({left:$("#"+i+"_config_tooltip").width()})},n.prototype.onGroupItemsClick=function(n){this.selectedItem===n?this.showConfigurationPanel(!1,this.selectedItem.GroupName,n):this.showConfigurationPanel(!0,n.GroupName,n)},n.prototype.showConfigurationPanel=function(n,t,i){var s=Array.prototype.slice.call(this.panelItems),f,e,o,u,r;if(ej.isNullOrUndefined(i))for(f=0;f<s.length;f++)if(this.panelItems[f].GroupName===t){i=this.panelItems[f];break}n||ej.isNullOrUndefined(this.selectedItem)?n&&(e=this.validatePanelSwitch(t),e||(this.selectedItem.GroupName==="Dataset"?(o=ejDashboardDesigner.getInstance("DataSet"),o.isDataSourceWiz()?(u=ejDashboardDesigner.getInstance("DataSource").isEdit,r="Do you want to cancel the DataSource creation ?",u&&(r="Do you want to cancel the DataSource editing ?"),ej.DashboardUtil.getInstance().ejAlertDialog("DataSource",r,!0,!1,!0,"",{dataInfo:{Name:t,Item:i},instance:this,method:"confirmSwitchWiz"})):(u=ejDashboardDesigner.getInstance("DataSet").isEdit,r="Do you want to cancel the DataSet creation ?",u&&(r="Do you want to cancel the DataSet editing ?"),ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",r,!0,!1,!0,"",{dataInfo:{Name:t,Item:i},instance:this,method:"confirmSwitchWiz"}))):this.selectedItem.GroupName==="Parameters"&&(u=ejDashboardDesigner.getInstance("Parameter").isEdit,r="Do you want to cancel the Parameter creation ?",u&&(r="Do you want to cancel the Parameter editing ?"),ej.DashboardUtil.getInstance().ejAlertDialog("Parameter",r,!0,!1,!0,"",{dataInfo:{Name:t,Item:i},instance:this,method:"confirmSwitchWiz"}))),e&&this.updatePanelDisplay(t,i,!1)):($("#"+i.GroupId+"_wrapper").css("background-color","transparent"),this.validateDisplay(this.selectedItem.GroupName,!1),this.expandablePanel.css("display","none"),this.targetTag.css("width","36px"),ej.isNullOrUndefined(ejDashboardDesigner.getInstance("DashboardDesigner"))||this.updateDesignContainerWidth(this.selectedItem.GroupName==="Properties"||"Dataset"?464:254),this.selectedItem=null)},n.prototype.confirmSwitchWiz=function(n,t){n&&!ej.isNullOrUndefined(t)&&this.updatePanelDisplay(t.Name,t.Item,!0)},n.prototype.updatePanelDisplay=function(n,t,i){var r,u;this.expandablePanel.css("display","block");this.targetTag.css("width",n==="Properties"||"Dataset"?"500px":"290px");$("#"+this.reportDesigner._id+"_designerConfigurationPanel").css("width",n==="Properties"||"Dataset"?"464px":"254px");ej.isNullOrUndefined(this.selectedItem)?ej.isNullOrUndefined(ejDashboardDesigner.getInstance("DashboardDesigner"))||this.updateDesignContainerWidth(n==="Properties"||"Dataset"?-464:-254):($("#"+this.selectedItem.GroupId+"_wrapper").css("background-color","transparent"),this.validateDisplay(this.selectedItem.GroupName,!1),this.selectedItem.GroupName!==t.GroupName&&(this.selectedItem.GroupName==="Properties"||"Dataset"||t.GroupName==="Properties"||"Dataset")&&(ej.isNullOrUndefined(ejDashboardDesigner.getInstance("DashboardDesigner"))||this.updateDesignContainerWidth(t.GroupName==="Properties"||"Dataset"?-210:210)));this.selectedItem=t;this.validateDisplay(t.GroupName,!0);$("#"+t.GroupId+"_wrapper").css("background-color","white");$("#"+t.GroupId+"_wrapper").css("border-bottom-width","1px");i&&(r=ejDashboardDesigner.getInstance("DesignPanel").selectedItems,r.length>0&&this.selectedItem.GroupName==="Properties"&&$(r[0]).attr("designPanel")&&(u=ejDashboardDesigner.getInstance("DesignPanel").getDesignProperty("Report"),ejDashboardDesigner.getInstance("PropertyPanel").showPropertyItem(u,"Report")))},n.prototype.validatePanelSwitch=function(n){var t=!1,i=$("#"+this.reportDesigner._id+"_datasetSourceTag"),r=$("#"+this.reportDesigner._id+"_dataSourceTag"),u=$("#"+this.reportDesigner._id+"_parameterList");return ej.isNullOrUndefined(this.selectedItem)||this.selectedItem.GroupName===n?t=!0:ej.isNullOrUndefined(this.selectedItem)||(t=this.selectedItem.GroupName==="Datasource"?r.length===0||r.length>0&&$("#"+this.reportDesigner._id+"_dataSourceTag").css("display")==="block":this.selectedItem.GroupName==="Dataset"?i.length===0||i.length>0&&!ejDashboardDesigner.getInstance("DataSet").isConfigWizard():this.selectedItem.GroupName==="Parameters"?u.length===0||u.length>0&&!ejDashboardDesigner.getInstance("Parameter").isConfigWizard():!0),t},n.prototype.resizeConfigurationPanel=function(n){n||this.targetTag.css("width","500px");this.occupyFullWidth=n;this.updateDesignAreaWidth(n)},n.prototype.showDataSetPanel=function(n){var t=ejDashboardDesigner.getInstance("DataSet");t.isLoaded()||ejDashboardDesigner.getInstance("DataSet").renderContainer(this.expandablePanel);t.showDataSet(n,this.resizeObj)},n.prototype.showParameterPanel=function(n){var t=ejDashboardDesigner.getInstance("Parameter");t.isLoaded()||ejDashboardDesigner.getInstance("Parameter").renderContainer(this.expandablePanel);t.showParameter(n,this.resizeObj)},n.prototype.showPropertyPanel=function(n){var t=ejDashboardDesigner.getInstance("PropertyPanel");t.isLoaded()||ejDashboardDesigner.getInstance("PropertyPanel").renderContainer(this.expandablePanel);t.showPropertyPanel(n,this.resizeObj)},n.prototype.showImageManager=function(n){var t=ejDashboardDesigner.getInstance("ImageManager");t.isLoaded()||ejDashboardDesigner.getInstance("ImageManager").renderContainer(this.expandablePanel);t.showImageManager(n)},n.prototype.validateDisplay=function(n,t){t?($("#"+this.reportDesigner._id+"_"+n).addClass("e-reportdesigner-itempanel-selection"),$("#"+this.reportDesigner._id+"_"+n+"_wrapper").addClass("e-reportdesigner-itempanel-selection")):($("#"+this.reportDesigner._id+"_"+n).removeClass("e-reportdesigner-itempanel-selection"),$("#"+this.reportDesigner._id+"_"+n+"_wrapper").removeClass("e-reportdesigner-itempanel-selection"));switch(n){case"Properties":this.showPropertyPanel(t);break;case"Dataset":this.showDataSetPanel(t);break;case"Parameters":this.showParameterPanel(t);break;case"ImageManager":this.showImageManager(t)}},n.prototype.updateSize=function(){this.resizeObj.isPropertyPanel=this.resizeObj.isDataSource=this.resizeObj.isDataSet=this.resizeObj.isParameter=this.resizeObj.isImageManager=!0;$("#"+this.reportDesigner._id+"_propertyPanel").is(":visible")?(ejDashboardDesigner.getInstance("PropertyPanel").updatePanelSize(),this.resizeObj.isPropertyPanel=!1):$("#"+this.reportDesigner._id+"_datasetContainer").is(":visible")?(ejDashboardDesigner.getInstance("DataSet").updateSize(),this.resizeObj.isDataSet=!1):$("#"+this.reportDesigner._id+"_param_Container").is(":visible")?(ejDashboardDesigner.getInstance("Parameter").updateSize(),this.resizeObj.isParameter=!1):$("#"+this.reportDesigner._id+"_imageManager").is(":visible")&&(ejDashboardDesigner.getInstance("ImageManager").updateSize(),this.resizeObj.isImageManager=!1)},n.prototype.updateDesignAreaWidth=function(n){this.reportDesigner.updateConfigPanel(n)},n.prototype.updateDesignContainerWidth=function(){this.reportDesigner.updateDesignPanel()},n.dataPanel=null,n}();window.ej.createObject("ej.DashboardDesignerUtility.DataConfigurationPanel",ConfigurationPanel,window);InternalDataSet=function(){function n(){this.queryDesigner=null;this.newDatasource=null;this.isEdit=!1;this.resizeObj={isListPanel:!0,isTypePanel:!0,isConfigPanel:!0,isSharedPanel:!0,isDataPanel:!0};this.targetContainer=null;this.dataSetLiTag=null;this.dataList=null;this.designUI=null;this.sharedDsTag=null;this.headerMenuTag=null;this.ejHeaderMenu=null;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.datasets=this.rdlParser.rdlJsonObj.DataSets;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.dataSource=ejDashboardDesigner.getInstance("DataSource");this.dataSource.fncDataList=$.proxy(this.switchPanel,this,PanelList.DataList);this.dataSource.fncConfig=$.proxy(this.switchPanel,this,PanelList.ConfigPanel);this.dataSource.fncDataType=$.proxy(this.switchPanel,this,PanelList.DataType);this.dataSource.fncSourceList=$.proxy(this.switchPanel,this,PanelList.DataPanel);this.browserInfo=ej.browserInfo()}return Object.defineProperty(n,"DataSet",{get:function(){return(this.dataSet===null||this.dataSet===undefined)&&(this.dataSet=new ej.DashboardDesignerUtility.DataSet),this.dataSet},enumerable:!0,configurable:!0}),n.prototype.updateDataSetJSON=function(){this.datasets=this.rdlParser.rdlJsonObj.DataSets},n.prototype.pouplateDataSets=function(){if(this.dataSetLiTag.empty(),this.datasets=this.rdlParser.rdlJsonObj.DataSets,!ej.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(var n=0;n<this.datasets.length;n++)this.appendItem(this.datasets[n].Name,this.datasets[n].Fields);this.showDatasetHint()},n.prototype.updateDataSet=function(n,t){if(this.editTagItem(n.Name,t.Name,t.Fields),!ej.isNullOrUndefined(this.datasets)&&this.datasets.length>0){for(var i=0;i<this.datasets.length;i++)if(this.datasets[i].Name===n.Name){this.datasets[i]=t;break}ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetEdit,"updateDataSet","DataSet","",[t,n],[n,t])}},n.prototype.insertDataSet=function(n,t){t===0?this.datasets.unshift(n):this.datasets.splice(t,0,n);this.appendItem(n.Name,n.Fields,t);this.showDatasetHint()},n.prototype.addDataSet=function(n){this.datasets.push(n);this.appendItem(n.Name,n.Fields);ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetAdd,"removeDataSet","DataSet","",[n,this.datasets.length-1],[n.Name]);this.showDatasetHint()},n.prototype.removeDataSet=function(n){var t,i;if($("#"+this.id+"_tree_"+n).remove(),!ej.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(t=0;t<this.datasets.length;t++)if(this.datasets[t].Name===n){i=$.extend(!0,{},this.datasets[t]);ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetDelete,"insertDataSet","DataSet","",[this.datasets[t].Name],[i,t]);this.datasets.splice(t,1);break}this.showDatasetHint()},n.prototype.addDataSetField=function(n,t,i){for(var u,r=0;r<this.datasets.length;r++)if(this.datasets[r].Name===n){u=this.getNodeTag(t.Name,n,!0);i===0?(this.datasets[r].Fields.unshift(t),$("#"+this.id+"_tree_"+n+">ul").prepend(u)):(this.datasets[r].Fields.splice(i,0,t),$("#"+this.id+"_tree_"+n+">ul>li:nth-child("+i+")").after(u));break}},n.prototype.removeDataSetField=function(n,t){var i,r;if($("#"+this.id+"_tree_"+n+t).remove(),!ej.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(i=0;i<this.datasets.length;i++)if(this.datasets[i].Name===n){for(r=0;r<this.datasets[i].Fields.length;r++)if(this.datasets[i].Fields[r].Name===t){ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataFieldDelete,"addDataSetField","DataSet","",[n,t],[n,$.extend(!0,{},this.datasets[i].Fields[r]),r]);this.datasets[i].Fields.splice(r,1);break}break}},n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetContainer)&&this.targetContainer.length>0},n.prototype.getFieldInfo=function(n,t){var i,r;if(!ej.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(i=0;i<this.datasets.length;i++)if(this.datasets[i].Name===n)for(r=0;r<this.datasets[i].Fields.length;r++)if(this.datasets[i].Fields[r].Name===t)return this.datasets[i].Fields[r]},n.prototype.isDataSourceWiz=function(){return this.dataSource.isDataPanel},n.prototype.isConfigWizard=function(){return this.sharedDsTag.is(":visible")||this.dataSource.dsConfigTag.is(":visible")||this.dataSource.dsTypeTag.is(":visible")?!0:!1},n.prototype.showDataSet=function(n,t){this.targetContainer.css("display",n?"block":"none");n&&(this.designUI.is(":visible")||this.sharedDsTag.is(":visible")||this.dataSource.dsTypeTag.is(":visible")||this.dataSource.dsConfigTag.is(":visible"))&&this.switchPanel(this.dataSource.isDataPanel?PanelList.DataPanel:PanelList.DataList);t.isDataSet&&(this.resizeObj.isListPanel=this.resizeObj.isTypePanel=this.resizeObj.isConfigPanel=this.resizeObj.isSharedPanel=this.resizeObj.isDataPanel=!0,this.updateSize(),t.isDataSet=!1)},n.prototype.renderContainer=function(n){var t=this.targetContainer=ej.buildTag("div.e-userselect","",{width:"100%",height:"100%",display:"block","background-color":"white"},{id:this.id+"_datasetContainer"}),i=this.dataList=ej.buildTag("div","",{width:"100%",height:"100%",display:"block",position:"relative"},{id:this.id+"_datasetSourceTag"}),r=this.sharedDsTag=ej.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_sharedDsConfigTag"}),u=this.designUI=ej.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_queryDesigner"});t.append(i);t.append(r);t.append(u);n.append(t);this.renderDataSetPanel(i);this.renderSharedDataSetConfig(r);this.dataSource.renderContainer(t);this.updateSize();this.wiredEvents();this.pouplateDataSets()},n.prototype.renderDataSetPanel=function(n){var i=ej.buildTag("div","",{width:"100%",height:"35px",display:"block",overflow:"hidden"},{id:this.id+"_datasetHeaderContainer"}),t=ej.buildTag("div.e-lv e-js e-parentlv e-reportdesigner-scroller e-designer-hint-newdataset","",{width:"100%",display:"block"},{id:this.id+"_datasetBodyContainer"}),f=ej.buildTag("div","",{}),r=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_datasetFooterContainer"}),h=ej.buildTag("span.e-designer-header e-designer-cursor","DATA",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_dataSetHeaderText"}),c=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-dataset e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),e=ej.buildTag("span.e-designer-content-icon e-reportdesigner-single-drag e-designer-click","",{display:"block",float:"right",padding:"7px 4px",color:"#428bca"},{id:this.id+"_dataset_header_menu","e-target":this.id+"_data_head_configMenu"}),o,u,s;i.append(c);i.append(h);i.append(e);o=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"},{id:this.id+"_datasetFooterSeperator"});r.append(o);u=ej.buildTag("div.e-reportdesigner-treeView","",{padding:"0px 3px"},{id:this.id+"_div_datasetList"});s=this.dataSetLiTag=ej.buildTag("ul.e-reportdesigner-nodeTag","",{margin:"0px"},{id:this.id+"_div_datasetUl"});u.append(s);f.append(u);t.append(f);n.append(i);n.append(t);n.append(r);this.renderSplitBtn(r);this.renderHeaderMenu(t);this.renderDatasetContextMenu(t);t.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0,scroll:$.proxy(this.onDataFieldScroll,this)});e.bind("click",$.proxy(this.showHeaderMenu,this))},n.prototype.renderSharedDataSetConfig=function(n){var u=ej.buildTag("div","",{width:"100%",height:"32px",display:"block",overflow:"hidden"},{id:this.id+"_sharedDSHeaderContainer"}),t=ej.buildTag("div.e-reportdesigner-scroller","",{width:"100%",display:"block"},{id:this.id+"_sharedDSBodyContainer"}),s=ej.buildTag("div","",{},{}),c=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_sharedDSContainer"}),i=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_sharedDSFooterContainer"}),l=ej.buildTag("span.e-designer-header e-designer-cursor","NEW DATASET",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_sharedDSHeaderMarkupTag"}),a=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-dataset e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),h,f,e,r,o;u.append(a);u.append(l);h=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"9px"},{id:this.id+"_sharedDSFooterSeperator"});i.append(h);f=ej.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{});e=ej.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{});i.append(f);i.append(e);r=ej.buildTag("button.e-designer-content e-designer-button e-designer-back-btn","Cancel",{},{id:this.id+"_btn_sharedDsBack"});e.append(r);o=ej.buildTag("button.e-designer-content e-designer-button e-designer-connect-btn","Save",{},{id:this.id+"_btn_SharedDsConnect"});f.append(o);n.append(u);s.append(c);t.append(s);n.append(t);n.append(i);o.ejButton({width:"110px",showRoundedCorner:!0,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-shrink",size:"small",click:$.proxy(this.saveSharedData,this,"Edit")});r.ejButton({width:"110px",showRoundedCorner:!0,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-reply",size:"small",click:$.proxy(this.switchPanel,this,PanelList.DataList)});r.css({"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"});t.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});t.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.saveSharedData=function(){var n=ejDashboardDesigner.getInstance("SharedDataSet");n.getDataSetInfo()},n.prototype.renderSharedData=function(){var n=ejDashboardDesigner.getInstance("SharedDataSet");n.renderConfiguration($("#"+this.id+"_sharedDSContainer"))},n.prototype.editSharedData=function(n){var t=ejDashboardDesigner.getInstance("SharedDataSet");t.editConfiguration(n)},n.prototype.renderHeaderMenu=function(n){this.headerMenuTag=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_data_head_configMenu"});var t=[{id:this.id+"_datasource_list",text:"Datasources"}];n.append(this.headerMenuTag);this.headerMenuTag.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,fields:{dataSource:t,id:"id",parentId:"parentId",text:"text"},ontextMenuTarget:"#"+this.id+"_dataset_header_menu",click:$.proxy(this.headerMenuClick,this)});this.ejHeaderMenu=this.headerMenuTag.data("ejMenu")},n.prototype.headerMenuClick=function(n){n.text==="Datasources"&&this.switchPanel(PanelList.DataPanel)},n.prototype.showHeaderMenu=function(n){var t=$("#"+this.id+"_dataset_header_menu"),i=t.offset(),r=$(n.currentTarget);this.ejHeaderMenu.element.is(":visible")?this.ejHeaderMenu.hide():this.ejHeaderMenu.show(i.left-this.headerMenuTag.width(),i.top+t.height(),r,n)},n.prototype.renderSplitBtn=function(n){var i="154px",t=ej.buildTag("span.e-split e-drop e-widget","",{width:i,height:"29px",display:"inline-table"},{}),r=ej.buildTag("span.e-in-wrap e-box e-padding"),u=ej.buildTag("button.e-splitbutton e-js e-btn e-select e-split-btn e-ntouch e-left-btn e-droparrowright e-designer-click e-designer-button e-desinger-new-btn","",{padding:"0px 10px"},{id:this.id+"_btn_newDataSet","e-target":this.id+"_ul_newDataSet"}),f=ej.buildTag("div"),o=ej.buildTag("span.e-icon e-plus"),s=ej.buildTag("span.e-btntxt","ADD DATASET"),h=ej.buildTag("span.e-split-btn-separator",""),e=ej.buildTag("div.e-split-btn-div","",{position:"absolute","margin-right":"6.5px",height:"100%","margin-top":"-13px"}),c=ej.buildTag("span.e-icon e-arrow-sans-down","",{"padding-top":"3.5px"});e.append(h).append(c);f.append(o).append(s);u.append(f).append(e);r.append(u);t.append(r);n.append(t);this.renderSpliBtContextMenu(n,i);t.bind("click",$.proxy(this.showContextMenu,this))},n.prototype.renderSpliBtContextMenu=function(n,t){var i=ej.buildTag("ul.e-designer-menu","",{"border-radius":"4px",width:t},{id:this.id+"_ul_newDataSet"}),r=$("<li><span>Shared<\/span><\/li>"),u=$("<li><span>Create New<\/span><\/li>");i.append(r);i.append(u);n.append(i);i.ejMenu({menuType:ej.MenuType.ContextMenu,animationType:ej.AnimationType.None,openOnClick:!1,showArrow:!0,click:$.proxy(this.datasetType,this)})},n.prototype.datasetType=function(n){n.text==="Shared"?(this.switchPanel(PanelList.SharedData),this.renderSharedData()):n.text==="Create New"&&this.switchPanel(PanelList.DataType)},n.prototype.getOffset=function(n){var t=n.offset(),i;return $("body").css("position")!=="static"&&(i=$("body").offset(),t.left-=i.left,t.top-=i.top),t},n.prototype.getXYpos=function(n,t){var i,u,f,r,e=1;return i=this.getOffset(n),u=i.left,r=i.top-t.outerHeight()+1-e,f=r<0?i.top+n.outerHeight()-e:r,{left:u,top:f}},n.prototype.showContextMenu=function(n){var i=$("#"+this.id+"_ul_newDataSet"),u=i.ejMenu("instance");if(i.is(":visible")){u.hide();return}var r=$("#"+this.id+"_btn_newDataSet"),t=this.getXYpos(r,i),f=t.left-(i.outerWidth()-r.outerWidth());t.left=t.left+i.outerWidth()<$(window).width()?t.left:f;u.show(t.left,t.top,r,n)},n.prototype.editDataSetClick=function(n){for(var t=null,i=0;i<this.datasets.length;i++)if(this.datasets[i].Name===n.dataset){t=$.extend(!0,{},this.datasets[i]);break}this.isEdit=!0;t.SharedDataSet?(this.switchPanel(PanelList.SharedData),this.editSharedData(t)):this.showQueryDesigner(t)},n.prototype.datasourceSelection=function(n,t){this.newDatasource=null;this.showQueryDesigner(null,n,t)},n.prototype.deleteDataSetClick=function(n){n.column?ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Delete field '"+n.dataset+"'?",!0,!0,!0,"",{dataInfo:{dataset:n.dataset,field:n.column},instance:this,method:"deletConfirmationField"}):ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Delete dataset '"+n.dataset+"'?",!0,!0,!0,"",{dataInfo:{dataset:n.dataset},instance:this,method:"deletConfirmationData"})},n.prototype.deletConfirmationData=function(n,t){n&&!ej.isNullOrUndefined(t)&&this.removeDataSet(t.dataset)},n.prototype.deletConfirmationField=function(n,t){n&&!ej.isNullOrUndefined(t)&&this.removeDataSetField(t.dataset,t.column)},n.prototype.enableEdit=function(n){var t=ej.DashboardUtil.escapeSelector(n.column);$("#"+this.id+"_text_"+n.dataset+t).find(".e-tree-settings").css("display","block");$("#"+this.id+"_row_"+n.dataset+t).css("background","#f5f5f5")},n.prototype.disableEdit=function(n){var t=ej.DashboardUtil.escapeSelector(n.column);$("#"+this.id+"_text_"+n.dataset+t).find(".e-tree-settings").css("display","none");$("#"+this.id+"_row_"+n.dataset+t).css("background","transparent")},n.prototype.editTagItem=function(n,t,i){var e=$("#"+this.id+"_tree_"+n),f=this.getNodeTag(t,"",!1),u,r;for(e.replaceWith(f),u=ej.buildTag("ul.e-reportdesigner-nodeTag","",{"padding-left":"26px",display:"none"}),f.append(u),r=0;r<i.length;r++)u.append(this.getNodeTag(i[r].Name,t,!0,i[r].TypeName))},n.prototype.appendItem=function(n,t,i){var u=$("#"+this.id+"_datasetBodyContainer"),f=this.getNodeTag(n,"",!1),e,r;for(ej.isNullOrUndefined(i)?this.dataSetLiTag.append(f):i===0?this.dataSetLiTag.prepend(f):$("#"+this.id+"_div_datasetUl>li:nth-child("+i+")").after(f),e=ej.buildTag("ul.e-reportdesigner-nodeTag","",{"padding-left":"26px",display:"none"}),f.append(e),r=0;r<t.length;r++)e.append(this.getNodeTag(t[r].Name,n,!0,t[r].TypeName));u.height()>u.find(".e-reportdesigner-treeView").height()?u.find(".e-content").removeClass("e-content"):this.scrollerRefresh(u)},n.prototype.treeNodeClick=function(n,t){t.stopPropagation();var i=$("#"+this.id+"_icon_"+n.dataset),u=$("#"+this.id+"_tree_"+n.dataset),r=u.children("ul");i.hasClass("e-reportdesigner-rightarrow")?(i.addClass("e-reportdesigner-dropdown").removeClass("e-reportdesigner-rightarrow"),r.find(".e-reportdesigner-treeRow").css("display","block")):(i.removeClass("e-reportdesigner-dropdown").addClass("e-reportdesigner-rightarrow"),r.find(".e-reportdesigner-treeRow").css("display","none"));r.slideToggle("slow",$.proxy(this.scrollerRefresh,this,$("#"+this.id+"_datasetBodyContainer")))},n.prototype.getNodeTag=function(n,t,i,r){var u="",e="",b={DataType:r,IsPrimaryKey:!1},h=$("#"+this.id+"_designerConfigurationPanel").width(),c,p,w,l;t?(u=t,e=n):u=n;var o=ej.buildTag("li.e-reportdesigner-nodeTag","",{},{id:this.id+"_tree_"+u+e}),f=ej.buildTag("div.e-reportdesigner-nodeContent e-treerow e-datafield","",{width:"100%",display:this.browserInfo.name==="mozilla"?"inline-flex":"block",height:"36px"},{id:this.id+"_text_"+t+ej.DashboardUtil.escapeSelector(n),name:n,"e-dataset":t}),a=ej.buildTag("div.e-designer-content-icon e-reportdesigner-treeIcon "+(i?"":"e-reportdesigner-rightarrow"),"",{padding:"4px","padding-top":"6px","font-size":"12px"},{id:this.id+"_icon_"+u}),k=ej.buildTag("div.e-designer-content-icon e-reportdesigner-treeIcon e-reportdesigner-datasourcelist e-designer-cursor","",{padding:"4px"},{}),s=ej.buildTag("a.e-reportdesigner-treeText e-designer-content e-designer-li-text",n,{width:h-94+"px",padding:i?"9px 0px":"10px 0px"},{}),v=ej.buildTag("div.e-reportdesigner-treeRow e-treerow","",{width:i?"auto":"100%","margin-left":i?"-26px":"0px"},{id:this.id+"_row_"+t+ej.DashboardUtil.escapeSelector(n)}),y=ej.buildTag("a.e-tree-settings","",{display:"none","margin-right":this.browserInfo.name==="mozilla"?"0px":"3px","margin-left":this.browserInfo.name==="mozilla"?"18px":"0px","margin-top":"9px",float:"right"}),d=ej.buildTag("span.e-icon e-close_01 e-chk-image e-lv-checkdiv","",{float:"right","margin-right":"8px","margin-top":"-2px"},{});return i?(p=ej.buildTag("span.e-dataset-widgeticon e-reportdesigner-double-drag e-designer-dragabble-icon e-designer-cursor","",{padding:"10px 4px 0px 14px",display:"inline-block",float:"left"},{id:this.id+"_drag_"+u}),w=ej.buildTag("span.e-designer-content-icon e-designer-cursor "+ej.DashboardUtil.getDataTypeStyle(b),"",{display:"inline-block",padding:"7px 4px","font-size":"18px"},{}),o.css({"border-bottom":"0px solid #dddddd"}),s.css({width:h-126+"px"}),f.append(p).append(w).append(s),ejDashboardDesigner.getInstance("DragOnDrop").initializeDataSetDraggable(f)):(o.css({"border-bottom":"0.5px solid #dddddd"}),f.append(a).append(k).append(s),c=ej.buildTag("span.e-designer-content-icon e-reportdesigner-single-drag e-designer-click","",{float:"right","margin-right":"5px"},{id:this.id+"_edit_"+u,"e-target":this.id+"_datasetConfigMenu"}),s.addClass(ej.DashboardUtil.textWidth(n,"segoe ui 400 12px")>=h-94?"e-title-tip":""),y.append(c),f.bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.treeNodeClick,this,{dataset:u})),v.bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.treeNodeClick,this,{dataset:u})),a.bind("click",$.proxy(this.treeNodeClick,this,{dataset:u})),c.bind("click",$.proxy(this.editDataSetItem,this,{dataset:u}))),o.append(f).append(v),f.append(y),l=o.find(".e-treerow"),l.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,{dataset:u,column:e})),l.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,{dataset:u,column:e})),d.bind("click",$.proxy(this.deleteDataSetClick,this,{dataset:u,column:e})),ej.DashboardUtil.getInstance().titleTip(f.find(".e-title-tip")),o},n.prototype.getDragElement=function(n,t){var i=ej.buildTag("div","",{border:"0.5px solid #EDF1F4",background:"#EDF1F4",margin:"6px",height:"25px","border-radius":"1px","z-index":"50","white-space":"nowrap",overflow:"hidden"},{id:this.id+"_"+n+"_div"}),u=ej.buildTag("div","",{"margin-right":"3px","margin-left":"15px","margin-top":"3px",float:"left","font-size":"18px"},{id:this.id+"_dataseticon","class":t}),r=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"12px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-left":"2px","margin-top":"2px",width:"120px","vertical-align":"middle"},{id:this.id+"_"+n+"_text"});return r.text(n),i.append(u),i.append(r),i},n.prototype.editDataSetItem=function(n){var i=$("#"+this.id+"_edit_"+n.dataset),r=i.offset(),t=$("#"+this.id+"_datasetConfigMenu").data("ejMenu");t.element.attr("dataset",n.dataset);t.element.is(":visible")?t.hide():t.show(r.left-$("#"+this.id+"_datasetConfigMenu").width(),r.top+i.height(),$("#"+this.id+"_dataSetTag"),n.dataset)},n.prototype.contextMenuClick=function(n){var i=$("#"+this.id+"_datasetConfigMenu").attr("dataset"),t={dataset:i,column:""};switch(n.text){case ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.editContextMenu:this.editDataSetClick(t,null);break;case ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.deleteContextMenu:this.deleteDataSetClick(t,null)}},n.prototype.renderDatasetContextMenu=function(n){var t=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_datasetConfigMenu"}),i=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource;t.append('<li><a class="editContextMenu">'+i.editContextMenu+"<\/a><\/li>");t.append('<li><a class="deleteContextMenu">'+i.deleteContextMenu+"<\/a><\/li>");n.append(t);t.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+this.id+"_dataSetTag",width:100,click:$.proxy(this.contextMenuClick,this)})},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.showQueryDesigner=function(n,t,i){var r=ejDashboardDesigner.getInstance("Parameter");this.reportDesigner.showToolbar(!1);ejDashboardDesigner.getInstance("DataConfigurationPanel").resizeConfigurationPanel(!0);$("#"+this.id+"_designerConfigurationPanel").css("border-left-style","none");this.switchPanel(PanelList.QueryBuilder);ej.isNullOrUndefined(this.queryDesigner)&&(this.designUI.ejQueryDesigner({id:this.id,create:$.proxy(this.queryDesignerLoaded,this)}),this.queryDesigner=this.designUI.data("ejQueryDesigner"));this.queryDesigner.callBackfn=$.proxy(this.queryDesignerResult,this);this.queryDesigner.credentials=this.dataSource.credential;this.queryDesigner.model.serviceUrl=this.reportDesigner.model.serviceUrl;this.queryDesigner.model.dataSources=$.extend(!0,[],this.dataSource.datasources);i&&i.Name&&(this.queryDesigner.model.dataSources.push(i),this.newDatasource=i);this.queryDesigner.model.parameters=$.extend(!0,{},r.parameters);this.queryDesigner.model.validateNames=this.getAvilableNames();n?(this.isEdit=!0,this.queryDesigner.editDataSet(n)):t?(this.isEdit=!1,this.queryDesigner.newDataSet(t)):(this.isEdit=!1,this.queryDesigner.newDataSet(null))},n.prototype.queryDesignerLoaded=function(){var n={ejQueryDesigner:this.designUI.data("ejQueryDesigner")};this.reportDesigner.triggerEvents("queryDesignerRendered",n)},n.prototype.queryDesignerResult=function(n){$("#"+this.id+"_designerConfigurationPanel").css("border-left-style","solid");n.isCancel?this.cancelDataSet():this.saveDataSet(n.oldDataSet,n.newDataSet,n.parameters);this.reportDesigner.resizeObj.isDesigner?(ejDashboardDesigner.getInstance("ItemPanel").updateSize(),ejDashboardDesigner.getInstance("DesignPanel").updatePanelSize(),ejDashboardDesigner.getInstance("DataConfigurationPanel").updateSize(),this.reportDesigner.resizeObj.isDesigner=!1):this.scrollerRefresh($("#"+this.id+"_datasetBodyContainer"))},n.prototype.cancelDataSet=function(){this.newDatasource=null;this.isEdit=!1;this.reportDesigner.showToolbar(!0);ejDashboardDesigner.getInstance("DataConfigurationPanel").resizeConfigurationPanel(!1);this.dataSource.isDataPanel?this.switchPanel(PanelList.DataPanel):this.switchPanel(PanelList.DataList)},n.prototype.saveDataSet=function(n,t,i){ejDashboardDesigner.getInstance("DataConfigurationPanel").resizeConfigurationPanel(!1);this.reportDesigner.showToolbar(!0);ejDashboardDesigner.editManager.setMergeAction(!0);this.isEdit?this.updateDataSet(n,t):(this.newDatasource&&this.newDatasource.Name&&this.dataSource.addDataSource(this.newDatasource),this.addDataSet(t));i&&i.length>0&&ejDashboardDesigner.getInstance("Parameter").addParameters(i);ejDashboardDesigner.editManager.setMergeAction(!1);this.switchPanel(PanelList.DataList);this.isEdit=!1;this.newDatasource=null},n.prototype.getAvilableNames=function(){var n=[],t=$("#"+this.id+"_div_datasetUl>li>div>.e-reportdesigner-treeText");return t.each(function(t,i){n.push($(i).text())}),n},n.prototype.getAvailableName=function(){var t="DataSet",r=this.getAvilableNames(),n=0,i;do n++,i=r.indexOf(t+n);while(i!==-1);return t+n},n.prototype.showDatasetHint=function(){$("#"+this.id+"_div_datasetList li").length>0?$("#"+this.id+"_datasetBodyContainer").removeClass("e-designer-hint-newdataset"):$("#"+this.id+"_datasetBodyContainer").addClass("e-designer-hint-newdataset")},n.prototype.onDataFieldScroll=function(n){n.cancel=this.reportDesigner.isItemDrag},n.prototype.updateDataListSize=function(){var i=this.targetContainer.height(),n=$("#"+this.id+"_datasetBodyContainer"),r=$("#"+this.id+"_datasetHeaderContainer").height(),u=$("#"+this.id+"_datasetFooterContainer").height(),t=i-(r+u);n.height(t);n.data("ejScroller")&&(n.data("ejScroller").setModel({height:t+"px"}),n.data("ejScroller").refresh())},n.prototype.updateSharedDataSize=function(){var i=this.targetContainer.height(),n=$("#"+this.id+"_sharedDSBodyContainer"),r=$("#"+this.id+"_sharedDSHeaderContainer").height(),u=$("#"+this.id+"_sharedDSFooterContainer").height(),t;n.height(i-(r+u));n.data("ejScroller")&&(n.data("ejScroller").setModel({height:i-(r+u)+"px"}),n.data("ejScroller").refresh());t=ejDashboardDesigner.getInstance("SharedDataSet");t.isLoaded()&&t.updateControlSize()},n.prototype.switchPanel=function(n){this.dataSource.isEdit=!1;n===PanelList.DataList?(this.dataSource.datasourceItem=null,this.dataSource.isDataPanel=!1,this.isEdit=!1,this.dataList.css("display","block"),this.sharedDsTag.css("display","none"),this.dataSource.dsTypeTag.css("display","none"),this.dataSource.dsConfigTag.css("display","none"),this.dataSource.dsListTag.css("display","none"),this.designUI.css("display","none")):n===PanelList.SharedData?(this.dataSource.datasourceItem=null,this.dataSource.isDataPanel=!0,this.dataList.css("display","none"),this.sharedDsTag.css("display","block"),this.dataSource.dsTypeTag.css("display","none"),this.dataSource.dsConfigTag.css("display","none"),this.dataSource.dsListTag.css("display","none"),this.designUI.css("display","none")):n===PanelList.DataType?(this.dataSource.datasourceItem=null,this.dataList.css("display","none"),this.sharedDsTag.css("display","none"),this.dataSource.dsTypeTag.css("display","block"),this.dataSource.dsConfigTag.css("display","none"),this.dataSource.dsListTag.css("display","none"),this.designUI.css("display","none"),this.dataSource.enableDataChooser()):n===PanelList.ConfigPanel?(this.dataList.css("display","none"),this.sharedDsTag.css("display","none"),this.dataSource.dsTypeTag.css("display","none"),this.dataSource.dsConfigTag.css("display","block"),this.dataSource.dsListTag.css("display","none"),this.designUI.css("display","none")):n===PanelList.DataPanel?(this.dataSource.datasourceItem=null,this.dataList.css("display","none"),this.sharedDsTag.css("display","none"),this.dataSource.dsTypeTag.css("display","none"),this.dataSource.dsConfigTag.css("display","none"),this.dataSource.dsListTag.css("display","block"),this.designUI.css("display","none")):n===PanelList.QueryBuilder&&(this.dataSource.datasourceItem=null,this.dataList.css("display","none"),this.sharedDsTag.css("display","none"),this.dataSource.dsTypeTag.css("display","none"),this.dataSource.dsConfigTag.css("display","none"),this.dataSource.dsListTag.css("display","none"),this.designUI.css("display","block"));this.updatePanelSize()},n.prototype.updatePanelSize=function(){this.resizeObj.isListPanel&&this.dataList.is(":visible")?(this.resizeObj.isListPanel=!1,this.updateDataListSize()):this.resizeObj.isSharedPanel&&this.sharedDsTag.is(":visible")?(this.resizeObj.isSharedPanel=!1,this.updateSharedDataSize()):this.resizeObj.isConfigPanel&&this.dataSource.dsConfigTag.is(":visible")?(this.resizeObj.isConfigPanel=!1,this.dataSource.updateDSConfigContainer()):this.resizeObj.isTypePanel&&this.dataSource.dsTypeTag.is(":visible")?(this.resizeObj.isTypePanel=!1,this.dataSource.updateDSTypeContainer()):this.resizeObj.isDataPanel&&this.dataSource.dsListTag.is(":visible")?(this.resizeObj.isDataPanel=!1,this.dataSource.updateDSListContainer()):this.queryDesigner&&this.queryDesigner.isRendered()&&this.designUI.is(":visible")&&this.reportDesigner.resizeObj.isQueryDesigner&&(this.designUI.width(this.targetContainer.width()),this.reportDesigner.resizeObj.isQueryDesigner=!1)},n.prototype.updateSize=function(){this.isLoaded()&&(this.resizeObj.isListPanel=this.resizeObj.isTypePanel=this.resizeObj.isConfigPanel=this.resizeObj.isSharedPanel=this.resizeObj.isDataPanel=!0,this.targetContainer.height($("#"+this.id+"_designerConfigurationPanel").height()),this.designUI.height(this.targetContainer.height()),this.dataList.is(":visible")?(this.updateDataListSize(),this.resizeObj.isListPanel=!1):this.sharedDsTag.is(":visible")?(this.updateSharedDataSize(),this.resizeObj.isSharedPanel=!1):this.dataSource.dsTypeTag.is(":visible")?(this.dataSource.updateDSTypeContainer(),this.resizeObj.isTypePanel=!1):this.dataSource.dsConfigTag.is(":visible")?(this.dataSource.updateDSConfigContainer(),this.resizeObj.isConfigPanel=!1):this.dataSource.dsListTag.is(":visible")&&(this.dataSource.updateDSListContainer(),this.resizeObj.isDataPanel=!1),this.queryDesigner&&this.queryDesigner.isRendered()&&this.designUI.is(":visible")&&this.reportDesigner.resizeObj.isQueryDesigner&&(this.reportDesigner.resizeObj.isQueryDesigner=!1))},n.prototype.wiredEvents=function(){},n.prototype.updateCulture=function(){},n.prototype.unWiredEvents=function(){},n}();window.ej.createObject("ej.DashboardDesignerUtility.DataSet",InternalDataSet,window),function(n){n[n.DataList=0]="DataList";n[n.DataPanel=1]="DataPanel";n[n.SharedData=2]="SharedData";n[n.DataType=3]="DataType";n[n.ConfigPanel=4]="ConfigPanel";n[n.QueryBuilder=5]="QueryBuilder"}(PanelList||(PanelList={}));InternalDataSource=function(){function n(){this.isDataPanel=!1;this.headerMenuTag=null;this.ejHeaderMenu=null;this.ejDataSourceDwn=null;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.datasources=this.rdlParser.rdlJsonObj.DataSources;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource;this.isEdit=!1;this.dataExtension=[];this.credential={}}return Object.defineProperty(n,"DataSource",{get:function(){return(this.dataSource===null||this.dataSource===undefined)&&(this.dataSource=new ej.DashboardDesignerUtility.DataSource),this.dataSource},enumerable:!0,configurable:!0}),n.prototype.updateDataSourceJSON=function(){this.datasources=this.rdlParser.rdlJsonObj.DataSources;this.credential={}},n.prototype.pouplateDataSources=function(){if($("#"+this.id+"_dsListContainer li").remove(),this.credential={},this.datasources=this.rdlParser.rdlJsonObj.DataSources,!ej.isNullOrUndefined(this.datasources)&&this.datasources.length>0)for(var n=0;n<this.datasources.length;n++)this.appendItem(this.datasources[n].Name);this.showDataSourceHint()},n.prototype.updateDataSource=function(n,t){if(this.updateItem(n.Name,t.Name),!ej.isNullOrUndefined(this.datasources)&&this.datasources.length>0){for(var i=0;i<this.datasources.length;i++)if(this.datasources[i].Name===n.Name){this.datasources[i]=t;break}ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSourceEdit,"updateDataSource","DataSource","",[t,n],[n,t])}},n.prototype.insertDataSource=function(n,t){t===0?this.datasources.unshift(n):this.datasources.splice(t,0,n);this.appendItem(n.Name,t);this.showDataSourceHint()},n.prototype.addDataSource=function(n){this.datasources.push(n);this.appendItem(n.Name);ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSourceAdd,"removeDataSource","DataSource","",[n,this.datasources.length-1],[n.Name]);this.showDataSourceHint()},n.prototype.removeDataSource=function(n){var t,i;if($("#"+this.id+"_li_"+n).remove(),this.updateContainerBorder(),!ej.isNullOrUndefined(this.datasources)&&this.datasources.length>0)for(t=0;t<this.datasources.length;t++)if(this.datasources[t].Name===n){i=$.extend(!0,{},this.datasources[t]);ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataSourceDelete,"insertDataSource","DataSource","",[i.Name],[i,t]);this.datasources.splice(t,1);break}this.showDataSourceHint()},n.prototype.showIndicator=function(){$("#"+this.id+"_dsConfig_BodyContainer").data("ejWaitingPopup").show();$("#"+this.id+"_btn_connect").data("ejButton").disable();$("#"+this.id+"_btn_back").data("ejButton").disable()},n.prototype.hideIndicator=function(){$("#"+this.id+"_dsConfig_BodyContainer").data("ejWaitingPopup").hide();$("#"+this.id+"_btn_connect").data("ejButton").enable();$("#"+this.id+"_btn_back").data("ejButton").enable()},n.prototype.updateItem=function(n,t){var i=$("#"+this.id+"_designerConfigurationPanel").width()-66;$("#"+this.id+"_li_"+n).unbind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,n));$("#"+this.id+"_li_"+n).unbind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,n));$("#"+this.id+"_li_"+n+" .e-chk-image").unbind("click",$.proxy(this.editDataSourceItem,this,n));$("#"+this.id+"_"+n).unbind("click",$.proxy(this.editDataSourceItem,this,n));$("#"+this.id+"_li_"+n).find(".e-title-tip").unbind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(ej.DashboardUtil.getInstance().tagOverTip,this,n));$("#"+this.id+"_li_"+n).find(".e-title-tip").unbind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(ej.DashboardUtil.getInstance().tagOutTip,this,n));$("#"+this.id+"_li_"+n+" .e-list-text").text(t);$("#"+this.id+"_li_"+n).attr("name",t);$("#"+this.id+"_li_"+n).attr("id",this.id+"_li_"+t);$("#"+this.id+"_"+n).attr("id",this.id+"_"+t);$("#"+this.id+"_li_"+t).bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,t));$("#"+this.id+"_li_"+t).bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,t));$("#"+this.id+"_li_"+t+" .e-chk-image").bind("click",$.proxy(this.editDataSourceItem,this,t));$("#"+this.id+"_"+t).bind("click",$.proxy(this.editDataSourceItem,this,t));ej.DashboardUtil.textWidth(t,"segoe ui 12px")>=i?($("#"+this.id+"_li_"+t).find(".e-designer-content").addClass("e-title-tip"),ej.DashboardUtil.getInstance().titleTip($("#"+this.id+"_li_"+t).find(".e-title-tip"))):$("#"+this.id+"_li_"+t).find(".e-designer-content").removeClass("e-title-tip")},n.prototype.appendItem=function(n,t){var e=$("#"+this.id+"_designerConfigurationPanel").width()-66,i=ej.buildTag("li.e-user-select e-list e-state-default e-list-check e-designer-datasource-list e-designer-cursor","",{padding:"0px"},{id:this.id+"_li_"+n,name:n}),o=ej.buildTag("span.e-designer-content-icon e-reportdesigner-treeIcon e-reportdesigner-datasourcelist e-designer-cursor","",{margin:"1px 9px"}),r=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"9px 0px"},{}),u,f;i.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,n));i.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,n));u=ej.buildTag("span.e-list-text e-rel e-user-select e-designer-content e-content-bold e-designer-li-text "+(ej.DashboardUtil.textWidth(n,"segoe ui 12px")>=e?"e-title-tip":""),n,{width:e+"px","margin-top":"2px"});r.append(o).append(u);u.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,n));u.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,n));ej.DashboardUtil.getInstance().titleTip(r.find(".e-title-tip"));f=ej.buildTag("span.e-designer-content-icon e-reportdesigner-single-drag e-designer-click","",{display:"none",float:"right","margin-right":"5px","margin-top":"1.5px"},{id:this.id+"_"+n,"e-target":this.id+"_dsConfigMenu"});r.append(f);f.bind("click",$.proxy(this.editDataSourceItem,this,n));i.append(r);ej.isNullOrUndefined(t)?$("#"+this.id+"_dsListContainer ul").append(i):t===0?$("#"+this.id+"_dsListContainer ul").prepend(i):$("#"+this.id+"_dsListContainer ul>li:nth-child("+t+")").after(i);this.updateContainerBorder()},n.prototype.updateContainerBorder=function(){$("#"+this.id+"_dsListContainer li").length===0?$("#"+this.id+"_dsListContainer").css("border-top-width","0px"):$("#"+this.id+"_dsListContainer").css("border-top-width","1px")},n.prototype.getDSInstance=function(){switch(this.configTable.data("selected").trim().toLowerCase()){case"e-sql":return ejDashboardDesigner.getInstance("SQLDataSource");case"e-sqlce":return ejDashboardDesigner.getInstance("SqlCeDataSource");case"e-odbc":return ejDashboardDesigner.getInstance("ODBCDataSource");case"e-oracle":return ejDashboardDesigner.getInstance("ORACLEDataSource");case"e-oledb":return ejDashboardDesigner.getInstance("OLEDBDataSource");case"e-xml":return ejDashboardDesigner.getInstance("XMLDataSource");case"e-shared":return ejDashboardDesigner.getInstance("SharedDataSource");case"e-odata":return ejDashboardDesigner.getInstance("ODATADataSource");case"e-psql":return ejDashboardDesigner.getInstance("PSQLDataSource");case"e-sass":return ejDashboardDesigner.getInstance("SASSDataSource");case"e-mysql":return ejDashboardDesigner.getInstance("MySQLDatasource");case"e-file":return ejDashboardDesigner.getInstance("FileDatasource");case"e-web":return ejDashboardDesigner.getInstance("WebDatasource")}},n.prototype.connectDatasource=function(){var ot=this.configTable.data("selected"),n=this.validateDataSourceName(),y=n.isAvailable,p,i,w,r,b,u,k,f,d,e,g,t,nt,o,tt,s,it,h,rt,c,ut,l,ft,a,et,v;switch(ot){case"e-sql":if(p=ejDashboardDesigner.getInstance("SQLDataSource"),i=p.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(i))return;this.dsInfo=i;break;case"e-sqlce":if(w=ejDashboardDesigner.getInstance("SqlCeDataSource"),r=w.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(r))return;this.dsInfo=r;break;case"e-odbc":if(b=ejDashboardDesigner.getInstance("ODBCDataSource"),u=b.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(u))return;this.dsInfo=u;break;case"e-oracle":if(k=ejDashboardDesigner.getInstance("ORACLEDataSource"),f=k.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(f))return;this.dsInfo=f;break;case"e-oledb":if(d=ejDashboardDesigner.getInstance("OLEDBDataSource"),e=d.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(e))return;this.dsInfo=e;break;case"e-xml":if(g=ejDashboardDesigner.getInstance("XMLDataSource"),t=g.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(t))return;if(!t.ConnectionString){this.dsInfo=t;this.validateConnection("true");return}this.dsInfo=t;break;case"e-shared":nt=ejDashboardDesigner.getInstance("SharedDataSource");o=nt.getDatasourceInfo(n.name,this.datasourceItem);!ej.isNullOrUndefined(o)&&y&&(this.dsInfo=o,this.validateConnection("true"));return;case"e-odata":if(tt=ejDashboardDesigner.getInstance("ODATADataSource"),s=tt.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(s))return;this.dsInfo=s;break;case"e-psql":if(it=ejDashboardDesigner.getInstance("PSQLDataSource"),h=it.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(h))return;this.dsInfo=h;break;case"e-sass":if(rt=ejDashboardDesigner.getInstance("SASSDataSource"),c=rt.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(c))return;this.dsInfo=c;break;case"e-file":if(ut=ejDashboardDesigner.getInstance("FileDatasource"),l=ut.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(l))return;this.dsInfo=l;break;case"e-mysql":if(ft=ejDashboardDesigner.getInstance("MySQLDatasource"),a=ft.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(a))return;this.dsInfo=a;break;case"e-web":if(et=ejDashboardDesigner.getInstance("WebDatasource"),v=et.getDatasourceInfo(n.name,this.datasourceItem),ej.isNullOrUndefined(v))return;this.dsInfo=v}y&&this.dsInfo&&ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.testConnection,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.testConnection,datasource:this.encryptPostBack(this.dsInfo)})},{fnction:$.proxy(this.validateConnection,this),indicator:[$.proxy(this.showIndicator,this),$.proxy(this.hideIndicator,this)]})},n.prototype.encryptPostBack=function(n){var t=$.extend(!0,{},n);return t.ConnectionString=ej.DashboardUtil.encryptData(t.ConnectionString),t.Username=ej.DashboardUtil.encryptData(t.Username),t.Password=ej.DashboardUtil.encryptData(t.Password),t},n.prototype.connectQueryDesigner=function(){this.newQueryDesigner(this.ejDataSourceDwn.getSelectedValue())},n.prototype.getConStringArgs=function(n){for(var i,r=n.split(";"),u={},t=0;t<r.length;t++)r[t]&&(i=r[t].split("="),u[i[0].toLowerCase()]={field:i[0],value:i[1]});return u},n.prototype.validateConnection=function(n){if(n==="true"){var t=this.constructCon();this.connectDataSource(t);this.isEdit=!1}else ej.DashboardUtil.getInstance().ejAlertDialog("DataSource",n,!1,!0,!1,"DashboardDesigner failed to connect the datasource",{})},n.prototype.connectDataSource=function(n){this.isDataPanel||$("#"+this.id+"_btn_connect").hasClass("e-btn-mode-save")?(this.isEdit?this.updateDataSource(this.datasourceItem,n):this.addDataSource(n),ej.DashboardUtil.invokeCallBack(this.fncSourceList,[])):this.isEdit?(this.updateDataSource(this.datasourceItem,n),ej.DashboardUtil.invokeCallBack(this.fncDataList,[])):this.newQueryDesigner(n.Name,n)},n.prototype.setButtonTxt=function(){this.isEdit||this.isDataPanel?$("#"+this.id+"_btn_connect").text("Save").addClass("e-btn-mode-save").removeClass("e-connect"):$("#"+this.id+"_btn_connect").text("Connect").addClass("e-connect").removeClass("e-btn-mode-save")},n.prototype.constructCon=function(){var n=this.isEdit?$.extend(!0,{},this.datasourceItem):ej.DashboardUtil.createDataSource();return n.Name=this.dsInfo.Name,this.dsInfo.Provider!=="shared"?(this.getDSInstance().UpdateDSInfo(n,this.dsInfo),this.credential[n.Name]={UserName:this.dsInfo.Username,PassWord:this.dsInfo.Password}):(n.ConnectionProperties=null,n.DataSourceReference=this.dsInfo.ConnectionString),n},n.prototype.enableEdit=function(n){$("#"+this.id+"_"+n).css("display","block")},n.prototype.disableEdit=function(n){$("#"+this.id+"_"+n).css("display","none")},n.prototype.contextMenuClick=function(n){var t=$("#"+this.id+"_dsConfigMenu").attr("datasoure");switch(n.text){case ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.editContextMenu:this.editDataSource(t);break;case ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.deleteContextMenu:ej.DashboardUtil.getInstance().ejAlertDialog("DataSource","Delete data source '"+t+"'?",!0,!0,!0,"",{dataInfo:{name:t},instance:this,method:"deletConfirmation"});break;case"Create DataSet":this.newQueryDesigner(t)}},n.prototype.deletConfirmation=function(n,t){n&&!ej.isNullOrUndefined(t)&&this.removeDataSource(t.name)},n.prototype.newQueryDesigner=function(n,t){var i=ejDashboardDesigner.getInstance("DataSet");i.datasourceSelection(n,t)},n.prototype.editDataSource=function(n){var t,i,r,u,f,e,o,s,h,c,l,a,v,y;if(!ej.isNullOrUndefined(this.datasources)&&this.datasources.length>0)for(t=0;t<this.datasources.length;t++)if(this.datasources[t].Name===n){i=this.datasources[t].DataSourceReference?"Shared":this.datasources[t].ConnectionProperties.DataProvider;ej.DashboardUtil.invokeCallBack(this.fncConfig,{});this.isEdit=!0;this.resetConfigurationPanel();this.datasourceItem=this.datasources[t];this.setHeaderType(!0);this.setDataSourceName(this.datasources[t]);this.setButtonTxt();this.configTable.children().hide();switch(i){case"SQL":this.configTable.data("selected","e-sql");r=ejDashboardDesigner.getInstance("SQLDataSource");this.showToggleOption(!0);r.editConfiguration(this.datasources[t]);break;case"SQLCe":this.configTable.data("selected","e-sqlce");u=ejDashboardDesigner.getInstance("SqlCeDataSource");this.showToggleOption(!1);u.editConfiguration(this.datasources[t]);break;case"ODBC":this.configTable.data("selected","e-odbc");f=ejDashboardDesigner.getInstance("ODBCDataSource");this.showToggleOption(!1);f.editConfiguration(this.datasources[t]);break;case"ORACLE":this.configTable.data("selected","e-oracle");e=ejDashboardDesigner.getInstance("ORACLEDataSource");this.showToggleOption(!1);e.editConfiguration(this.datasources[t]);break;case"OLEDB":this.configTable.data("selected","e-oledb");o=ejDashboardDesigner.getInstance("OLEDBDataSource");this.showToggleOption(!1);o.editConfiguration(this.datasources[t]);break;case"XML":this.configTable.data("selected","e-xml");s=ejDashboardDesigner.getInstance("XMLDataSource");this.showToggleOption(!1);s.editConfiguration(this.datasources[t]);break;case"Shared":this.configTable.data("selected","e-shared");h=ejDashboardDesigner.getInstance("SharedDataSource");this.showToggleOption(!1);h.editConfiguration(this.datasources[t]);break;case"OData":this.configTable.data("selected","e-odata");c=ejDashboardDesigner.getInstance("ODATADataSource");this.showToggleOption(!1);c.editConfiguration(this.datasources[t]);break;case"PostgreSQL":this.configTable.data("selected","e-psql");l=ejDashboardDesigner.getInstance("PSQLDataSource");this.showToggleOption(!1);l.editConfiguration(this.datasources[t]);break;case"Microsoft SQL Server Analysis Services":this.configTable.data("selected","e-sass");a=ejDashboardDesigner.getInstance("SASSDataSource");this.showToggleOption(!1);a.editConfiguration(this.datasources[t]);break;case"File":this.configTable.data("selected","e-file");v=ejDashboardDesigner.getInstance("FileDatasource");this.showToggleOption(!1);v.editConfiguration(this.datasources[t]);break;case"MySQL":this.configTable.data("selected","e-mysql");y=ejDashboardDesigner.getInstance("MySQLDatasource");this.showToggleOption(!1);y.editConfiguration(this.datasources[t])}}},n.prototype.editDataSourceItem=function(n){var i=$("#"+this.id+"_"+n),r=i.offset(),t=$("#"+this.id+"_dsConfigMenu").data("ejMenu");t.element.attr("datasoure",n);t.element.is(":visible")?t.hide():t.show(r.left-$("#"+this.id+"_dsConfigMenu").width(),r.top+i.height(),this.dsListTag,n)},n.prototype.renderContextMenu=function(n){var t=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_dsConfigMenu"}),i=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource;t.append('<li><a class="editContextMenu">'+i.editContextMenu+"<\/a><\/li>");t.append('<li><a class="datasetContextMenu">Create DataSet<\/a><\/li>');t.append('<li><a class="deleteContextMenu">'+i.deleteContextMenu+"<\/a><\/li>");n.append(t);t.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+this.id+"_dataSourceTag",width:140,click:$.proxy(this.contextMenuClick,this)})},n.prototype.showToggleOption=function(n){$("#"+this.id+"_switchCont").css("display",n?"block":"none");this.updateDSConfigContainer()},n.prototype.resetConfigurationPanel=function(){$("#"+this.id+"_basicPanel").css("display","table-row");$("#"+this.id+"_panelSwitch").text(ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.advanceOptionText);this.dsInfo=null;this.datasourceItem=this.isEdit?this.datasourceItem:null},n.prototype.newDatabase=function(n){var t=$(n.target).attr("itemType"),i,r,u,f,e,o,s,h,c,l,a,v,y;ej.DashboardUtil.invokeCallBack(this.fncConfig,{});this.setButtonTxt();this.resetConfigurationPanel();this.showValidationMsg(this.id+"_datasource_dsname",!1);this.configTable.data("selected",t);this.setHeaderType(!1);this.setDataSourceName();this.configTable.children().hide();switch(t){case"e-sql":i=ejDashboardDesigner.getInstance("SQLDataSource");this.showToggleOption(!0);i.renderConfiguration(this.configTable);break;case"e-sqlce":r=ejDashboardDesigner.getInstance("SqlCeDataSource");this.showToggleOption(!1);r.renderConfiguration(this.configTable);break;case"e-odbc":u=ejDashboardDesigner.getInstance("ODBCDataSource");this.showToggleOption(!1);u.renderConfiguration(this.configTable);break;case"e-oracle":f=ejDashboardDesigner.getInstance("ORACLEDataSource");this.showToggleOption(!1);f.renderConfiguration(this.configTable);break;case"e-oledb":e=ejDashboardDesigner.getInstance("OLEDBDataSource");this.showToggleOption(!1);e.renderConfiguration(this.configTable);break;case"e-xml":o=ejDashboardDesigner.getInstance("XMLDataSource");this.showToggleOption(!1);o.renderConfiguration(this.configTable);break;case"e-shared":s=ejDashboardDesigner.getInstance("SharedDataSource");this.showToggleOption(!1);s.renderConfiguration(this.configTable);break;case"e-odata":h=ejDashboardDesigner.getInstance("ODATADataSource");this.showToggleOption(!1);h.renderConfiguration(this.configTable);break;case"e-psql":c=ejDashboardDesigner.getInstance("PSQLDataSource");this.showToggleOption(!1);c.renderConfiguration(this.configTable);break;case"e-sass":l=ejDashboardDesigner.getInstance("SASSDataSource");this.showToggleOption(!1);l.renderConfiguration(this.configTable);break;case"e-file":a=ejDashboardDesigner.getInstance("FileDatasource");this.showToggleOption(!1);a.renderConfiguration(this.configTable);break;case"e-mysql":v=ejDashboardDesigner.getInstance("MySQLDatasource");this.showToggleOption(!1);v.renderConfiguration(this.configTable);break;case"e-web":y=ejDashboardDesigner.getInstance("WebDatasource");this.showToggleOption(!1);y.renderConfiguration(this.configTable)}this.updateEJComponentSize();this.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.isLoaded=function(){return this.targetTag&&this.targetTag.length>0},n.prototype.renderContainer=function(n){this.targetTag=n;var t=this.dsListTag=ej.buildTag("div","",{width:"100%",height:"100%",display:"block",position:"relative"},{id:this.id+"_dataSourceTag"}),i=this.dsTypeTag=ej.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_dsTypesTag"}),r=this.dsConfigTag=ej.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_dsConfigTag"});n.append(t);n.append(i);n.append(r);this.renderDataSourcePanel(t);this.renderDataSourceTypes(i);this.renderDataSourceConfig(r);this.wiredEvents();this.pouplateDataSources()},n.prototype.renderDataSourcePanel=function(n){var h=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource,i=ej.buildTag("div","",{width:"100%",height:"35px",display:"block",overflow:"hidden"},{id:this.id+"_dsHeaderContainer"}),t=ej.buildTag("div.e-lv e-js e-parentlv e-designer-hint-newdatasource e-reportdesigner-scroller","",{width:"100%",display:"block"},{id:this.id+"_dsBodyContainer"}),r=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_dsFooterContainer"}),c=ej.buildTag("span.e-designer-header e-designer-cursor","DATASOURCES",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_dataSourceHeaderText"}),l=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-datasource e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),f=ej.buildTag("span.e-designer-content-icon e-reportdesigner-single-drag e-designer-click","",{display:"block",float:"right",padding:"7px 4px",color:"#428bca"},{id:this.id+"_datasource_header_menu","e-target":this.id+"_datasource_head_configMenu"}),s,u;i.append(l);i.append(c);i.append(f);var e=ej.buildTag("div","",{},{}),o=ej.buildTag("div.e-list-container e-js e-widget e-reportdesigner-dataset","",{"border-top-width":"1px",padding:"0px 3px"},{id:this.id+"_dsListContainer"}),a=ej.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"});o.append(a);e.append(o);t.append(e);t.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0});s=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"},{id:this.id+"_dataSourceFooterSeperator"});r.append(s);u=ej.buildTag("button.e-designer-content e-designer-button e-designer-newds-btn",h.newDataSourceText,{},{id:this.id+"_newDataSourceButton"});r.append(u);u.ejButton({width:"160px",showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:$.proxy(this.newConnectionType,this)});n.append(i);n.append(t);n.append(r);this.renderHeaderMenu(t);this.renderContextMenu(t);f.bind("click",$.proxy(this.showHeaderMenu,this))},n.prototype.renderDataSourceTypes=function(n){var i=ej.buildTag("div","",{width:"100%",height:"32px",display:"block",overflow:"hidden"},{id:this.id+"_dsTypeHeaderContainer"}),r=ej.buildTag("div.e-reportdesigner-scroller","",{width:"100%",display:"block"},{id:this.id+"_dsTypeBodyContainer"}),u=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_dsTypeFooterContainer"}),o=ej.buildTag("span.e-designer-header e-designer-cursor","DATASOURCES",{overflow:"hidden",display:"inline-block",padding:"8px 7px 7px 0px"},{id:this.id+"_headerMarkupTag"}),s=ej.buildTag("span.e-designer-header-icon e-reportdesigner-backarrow","",{display:"inline-block",float:"left",padding:"7px 11px"},{id:this.id+"_headerback"}),e;i.append(s);i.append(o);var t=ej.buildTag("div","",{},{id:this.id+"_dataType_container"}),f=this.connectionTypeTag=ej.buildTag("div","",{width:"100%",display:"block",height:"100%",padding:"10px 0px"},{}),h=ej.buildTag("span.e-designer-fontfamily","Choose the type to connect",{"font-size":"13px","font-weight":"600",padding:"0px 10px"},{}),c=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"11px"},{});u.append(c);e=ej.buildTag("button.e-designer-content e-designer-button e-designer-dsconnect-btn","Connect DataSource",{},{id:this.id+"_connectDataSourceButton"});u.append(e);e.ejButton({width:"160px",showRoundedCorner:!1,contentType:ej.ContentType.TextOnly,size:"small",click:$.proxy(this.connectQueryDesigner,this)});n.append(i);n.append(r);n.append(u);r.append(t);this.renderDataChooser(t);this.renderExistingData(t);t.append(f);f.append(h);this.renderGroupItems(f);r.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.renderDataChooser=function(n){var t=this.dataChooserTag=ej.buildTag("div","",{width:"100%",float:"left",clear:"none","box-sizing":"border-box",padding:"10px 10px"},{}),i=ej.buildTag("div","",{width:"85px",display:"inline-block"},{}),r=ej.buildTag("div","",{width:"85px",display:"inline-block"},{}),u=ej.buildTag("input","",{},{type:"radio",name:"datachooser",id:this.id+"_data_existing"}),f=ej.buildTag("input","",{},{type:"radio",name:"datachooser",id:this.id+"_data_new"});i.append(u);r.append(f);t.append(i).append(r);n.append(t);u.ejRadioButton({checked:!1,change:$.proxy(this.dataChooser,this),text:"Existing",cssClass:"e-designer-radiobtn"});f.ejRadioButton({checked:!0,change:$.proxy(this.dataChooser,this),text:"Create New",cssClass:"e-designer-radiobtn"})},n.prototype.renderExistingData=function(n){var r=this.selectDataTag=ej.buildTag("div","",{width:"100%",float:"left",clear:"none","box-sizing":"border-box",padding:"0px 10px"},{}),t,s,i;n.append(r);t=ej.buildTag("table.e-designer-existing-tbl","",{width:"100%"},{unselectable:"on"});r.append(t);var u=$("<tr><\/tr>"),f=$("<td><\/td>"),e=$("<tr><\/tr>"),o=$("<td><\/td>");t.append(u);u.append(f);t.append(e);e.append(o);s=ej.buildTag("span.e-designer-fontfamily","Select the DataSource",{"font-size":"13px","font-weight":"600"},{});f.append(s);i=ej.buildTag("input","",{},{id:"",value:""});o.append(i);i.ejDropDownList({dataSource:[],fields:{text:"name"},width:"100%",cssClass:"e-reportdesigner-dataset-selection"});this.ejDataSourceDwn=i.data("ejDropDownList")},n.prototype.renderDataSourceConfig=function(n){var r=ej.buildTag("div","",{width:"100%",height:"32px",display:"block",overflow:"hidden"},{id:this.id+"_dsConfigHeaderContainer"}),t=ej.buildTag("div","",{width:"100%",display:"block"},{id:this.id+"_dsConfig_BodyContainer"}),u=ej.buildTag("div.e-reportdesigner-scroller e-reportdesigner-dsscroller","",{width:"100%",display:"block"},{id:this.id+"_dsConfigBodyContainer"}),l=ej.buildTag("div","",{},{}),a=ej.buildTag("div","",{width:"100%",display:"block"},{id:this.id+"_dsConfigContainer"}),i=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_dsConfigFooterContainer"}),w=ej.buildTag("span.e-designer-header e-designer-cursor","NEW CONNECTION",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_datasourceHeaderMarkupTag"}),b=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-datasource e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),v,o,s,h,c;r.append(b);r.append(w);v=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"9px"},{id:this.id+"_dataSourceConfigFooterSeperator"});i.append(v);var f=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row",overflow:"auto"},{id:this.id+"_basicPanel"}),y=ej.buildTag("div.e-reportdesigner-dsheader","",{width:"100%",height:"100%",display:"table-row",overflow:"auto","margin-left":"6px"},{id:this.id+"_headerPane"}),p=ej.buildTag("table","",{width:"100%","margin-left":"5px"},{unselectable:"on",id:this.id+"_sql_datasource"});this.configTable=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_configurePane"});var e=ej.buildTag("div.e-designer-switch-label e-designer-header-icon","",{width:"100%",height:"20px",display:"block"},{id:this.id+"_switchCont"}),k=ej.buildTag("span","Advance Options",{},{id:this.id+"_panelSwitch"}),d=ej.buildTag("span.e-reportdesigner-rightarrow e-designer-switchind-icon","",{},{});y.append(p);f.append(y);f.append(this.configTable);e.append(k);e.append(d);t.append(u);t.append(e);u.append(l);l.append(a);a.append(f);u.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0});o=ej.buildTag("div","",{height:"100%",display:"block","padding-left":"213px",overflow:"none",float:"left"},{});s=ej.buildTag("div","",{height:"100%",display:"block","padding-left":"10px",overflow:"none",float:"left"},{});i.append(o);i.append(s);h=ej.buildTag("button.e-designer-content e-designer-button e-designer-back-btn","Cancel",{},{id:this.id+"_btn_back"});s.append(h);h.ejButton({width:"110px",showRoundedCorner:!0,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-reply",size:"small",click:$.proxy(this.cancelDataSource,this)});c=ej.buildTag("button.e-designer-content e-connect e-designer-button e-designer-connect-btn","Connect",{},{id:this.id+"_btn_connect"});o.append(c);c.ejButton({width:"110px",showRoundedCorner:!0,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-shrink",size:"small",click:$.proxy(this.connectDatasource,this,!0)});n.append(r);n.append(t);n.append(i);this.renderTextBoxItem("Name",this.id+"_datasource_dsname",!1,p,424);t.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"})},n.prototype.renderHeaderMenu=function(n){this.headerMenuTag=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_datasource_head_configMenu"});var t=[{id:this.id+"_dataset_list",text:"Data"}];n.append(this.headerMenuTag);this.headerMenuTag.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,fields:{dataSource:t,id:"id",parentId:"parentId",text:"text"},ontextMenuTarget:"#"+this.id+"_datasource_header_menu",click:$.proxy(this.headerMenuClick,this)});this.ejHeaderMenu=this.headerMenuTag.data("ejMenu")},n.prototype.headerMenuClick=function(n){n.text==="Data"&&ej.DashboardUtil.invokeCallBack(this.fncDataList,{})},n.prototype.dataChooser=function(n){n.isInteraction&&this.dataTypeSwitcher($("#"+this.id+"_data_new").data("ejRadioButton").model.checked)},n.prototype.setDataSourceToDd=function(){var t,n;if(this.datasources&&this.datasources.length>0){for(t=[],n=0;n<this.datasources.length;n++)t.push({name:this.datasources[n].Name});this.ejDataSourceDwn.setModel({dataSource:t})}},n.prototype.enableDataChooser=function(){this.datasources&&this.datasources.length>0&&!this.isDataPanel?(this.dataChooserTag.css("display","block"),this.selectDataTag.css("display","none"),this.connectionTypeTag.css("display","block"),$("#"+this.id+"_dsTypeFooterContainer").css("display","none"),$("#"+this.id+"_data_new").data("ejRadioButton").setModel({checked:!0}),this.setDataSourceToDd()):(this.dataChooserTag.css("display","none"),this.selectDataTag.css("display","none"),this.connectionTypeTag.css("display","block"),$("#"+this.id+"_dsTypeFooterContainer").css("display","none"))},n.prototype.dataTypeSwitcher=function(n){n?(this.selectDataTag.css("display","none"),this.connectionTypeTag.css("display","block"),$("#"+this.id+"_dsTypeFooterContainer").css("display","none")):(this.selectDataTag.css("display","block"),this.connectionTypeTag.css("display","none"),$("#"+this.id+"_dsTypeFooterContainer").css("display","block"));this.updateDSTypeContainer()},n.prototype.showHeaderMenu=function(n){var t=$("#"+this.id+"_datasource_header_menu"),i=t.offset(),r=$(n.currentTarget);this.ejHeaderMenu.element.is(":visible")?this.ejHeaderMenu.hide():this.ejHeaderMenu.show(i.left-this.headerMenuTag.width(),i.top+t.height(),r,n)},n.prototype.renderUploadBox=function(n,t,i,r,u,f){var e=$("<tr id="+n+"_tr/>"),o=$("<td unselectable='on'/>");e.append(o);t.append(e);var s=$("<table unselectable='on'><\/table>"),h=$("<tr><\/tr>"),c=$("<td style='width:125px;'><\/td>"),l=$("<td><\/td>"),v=ej.buildTag("label.editLabel e-designer-content-label","Upload file (*."+i+")",{}),a=ej.buildTag("div","",{},{id:n+"_upload"});h.append(c).append(l);c.append(v);l.append(a);s.append(h);o.append(s);a.ejUploadbox({saveUrl:this.reportDesigner.model.serviceUrl+"/UploadReportAction",extensionsAllow:"."+i,beforeSend:$.proxy(r,f),success:$.proxy(u,f),dialogPosition:this.getDialogPosition()})},n.prototype.getDialogPosition=function(){var n=document.documentElement,t=($(window).outerWidth()>500?($(window).outerWidth()-500)/2:0)+(window.pageXOffset||n.scrollLeft),i=($(window).outerHeight()>200?($(window).outerHeight()-200)/2:0)+(window.pageYOffset||n.scrollTop);return{X:t,Y:i}},n.prototype.renderDropDownItem=function(n,t,i,r,u,f,e,o){var a=$("<tr id="+t+"_tr/>"),v=$("<td unselectable='on'/>"),s,c,l,h;a.append(v);i.append(a);s=$("<table unselectable='on'><\/table>");v.append(s);s.append(this.getRowCaption(n,t));c=$("<tr><\/tr>");l=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});s.append(c);c.append(l);h=ej.buildTag("input","",{},{id:t,value:"",spellcheck:"false"});l.append(h);h.ejDropDownList({width:"440px",dataSource:r,fields:u,change:$.proxy(e,o),cssClass:"e-designer-ejwidgets e-designer-content-label",showRoundedCorner:!0});f&&h.data("ejDropDownList").selectItemsByIndices(f)},n.prototype.getRowCaption=function(n,t){var i=ej.buildTag("tr","",{}),u=ej.buildTag("td","",{}),f=ej.buildTag("label.editLabel e-designer-title-label",n,{},{}),r;return u.append(f),i.append(u),r=ej.buildTag("td","",{},{id:t+"_error_icon_td"}),ej.DashboardUtil.renderErrIndictor(r,this.id),i.append(r),i},n.prototype.renderDropDownUploadBox=function(n,t,i,r,u,f,e,o,s,h,c,l){var k=$("<tr id="+t+"_tr/>"),d=$("<td unselectable='on'/>"),a,v,p,y,w,b;k.append(d);i.append(k);a=$("<table unselectable='on'><\/table>");d.append(a);a.append(this.getRowCaption(n,t));v=$("<tr><\/tr>");p=ej.buildTag("td","",{},{id:t+"_td"});a.append(v);v.append(p);y=ej.buildTag("input.e-dropdownUpload","",{},{id:t,value:"",spellcheck:"false"});p.append(y);y.ejDropDownList({width:l,dataSource:r,fields:u,change:$.proxy(o,c),cssClass:"e-reportdesigner-dataset-selection e-designer-content-label",showRoundedCorner:!0});e&&y.data("ejDropDownList").selectItemsByIndices(e);w=$("<td><\/td>");b=ej.buildTag("div","",{},{id:t+"_upload"});w.append(b);v.append(w);b.ejUploadbox({saveUrl:this.reportDesigner.model.serviceUrl+"/UploadReportAction",extensionsAllow:"."+f,beforeSend:$.proxy(s,c),buttonText:{browse:"..."},height:"30px",width:"37px",success:$.proxy(h,c),dialogPosition:this.getDialogPosition()});$("#"+t+"_upload_SelectButton").css({"font-size":"25px","margin-top":"-16px","margin-right":"-5px","margin-left":"1px"})},n.prototype.renderTextArea=function(n,t,i,r){var o=$("<tr id="+t+"_tr/>"),s=$("<td unselectable='on'/>"),u,f,e,h;o.append(s);i.append(o);u=$("<table unselectable='on'><\/table>");s.append(u);u.append(this.getRowCaption(n,t));f=$("<tr><\/tr>");e=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});u.append(f);f.append(e);h=ej.buildTag("textarea.e-textarea e-ejinputtext e-designer-content-label e-designer-constr-textarea",r,{height:"65px",width:"421px",resize:"none","text-indent":"0px",overflow:"hidden"},{id:t,type:"textarea",spellcheck:"false"});e.append(h)},n.prototype.renderNumericItem=function(n,t,i,r,u,f){var c=$("<tr id="+t+"_tr/>"),l=$("<td unselectable='on'/>"),e,o,s,h;c.append(l);i.append(c);e=$("<table unselectable='on'><\/table>");l.append(e);e.append(this.getRowCaption(n,t));o=$("<tr><\/tr>");s=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});e.append(o);o.append(s);h=ej.buildTag("input","",{},{id:t,value:"",spellcheck:"false"});s.append(h);h.ejNumericTextbox({width:"439px",cssClass:"e-designer-ejwidgets e-designer-content-label",watermarkText:"",change:$.proxy(r,u,f),showRoundedCorner:!0,showEmptyResultText:!1,showSpinButton:!1})},n.prototype.renderTextBoxItem=function(n,t,i,r,u,f){var h=$("<tr id="+t+"_tr/>"),c=$("<td unselectable='on'/>"),e,o,s,l;h.append(c);r.append(h);e=$("<table unselectable='on'><\/table>");c.append(e);e.append(this.getRowCaption(n,t));o=$("<tr><\/tr>");s=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});e.append(o);o.append(s);l=ej.buildTag("input.e-textbox e-designer-content-label","",{height:"24px",width:u+"px"},{id:t,type:i?"password":"text",value:f,spellcheck:"false"});s.append(l)},n.prototype.renderAccordionItem=function(n,t,i,r,u,f,e){var l=$("<tr id="+t+"_tr/>"),a=$("<td unselectable='on'/>"),o,s,h,c;l.append(a);i.append(l);o=$("<table unselectable='on'><\/table>");a.append(o);o.append(this.getRowCaption(n,t));s=$("<tr><\/tr>");h=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});o.append(s);s.append(h);c=ej.buildTag("input","",{},{id:t,value:e,spellcheck:"false"});h.append(c);c.ejAutocomplete({width:"231px",showPopupButton:!0,enableAutoFill:!0,showLoadingIcon:!0,focusIn:$.proxy(r,f),cssClass:"e-designer-ejwidgets e-designer-content-label",focusOut:$.proxy(u,f),showEmptyResultText:!1,showRoundedCorner:!0})},n.prototype.renderCheckboxItem=function(n,t,i,r,u,f){var o,e,s,h;f===void 0&&(f="Left");o=$("<tr id="+t+"_tr/>");e=$("<td unselectable='on' style='padding-right:7px' align="+f+"/>");o.append(e);i.append(o);s=ej.buildTag("input","",{},{type:"checkbox",id:t});e.append(s);h=ej.buildTag("label.editLabel e-designer-title-label",n,{"margin-left":"6px"},{"for":t,id:t});e.append(h);s.ejCheckBox({change:$.proxy(r,u)})},n.prototype.renderRadioItem=function(n,t,i,r,u,f,e){var h=$("<tr/>"),o=$("<td unselectable='on'/>"),s,c;h.append(o);u.append(h);s=ej.buildTag("input","",{},{type:"radio",name:i,id:t});o.append(s);c=ej.buildTag("label.editLabel e-designer-title-label",n,{"margin-left":"6px"},{"for":t,id:t});o.append(c);s.ejRadioButton({checked:r,change:$.proxy(f,e)})},n.prototype.showValidationMsg=function(n,t,i){var r=$("#"+n+"_error_icon_td"),u=$("#"+n+"_td").find(".e-designer-content-label");t?(ej.DashboardUtil.showErrIndictor(r,!0,i),u.addClass("e-designer-error")):(ej.DashboardUtil.showErrIndictor(r,!1),u.removeClass("e-designer-error"))},n.prototype.cancelDataSource=function(){this.isDataPanel?ej.DashboardUtil.invokeCallBack(this.fncSourceList,[]):ej.DashboardUtil.invokeCallBack(this.fncDataList,[])},n.prototype.connectionTypeBack=function(){this.isDataPanel?ej.DashboardUtil.invokeCallBack(this.fncSourceList,[]):ej.DashboardUtil.invokeCallBack(this.fncDataList,[])},n.prototype.newConnectionType=function(){this.isDataPanel=!0;ej.DashboardUtil.invokeCallBack(this.fncDataType,[])},n.prototype.setHeaderType=function(n){n?$("#"+this.id+"_datasourceHeaderMarkupTag").text("EDIT CONNECTION"):$("#"+this.id+"_datasourceHeaderMarkupTag").text(this.isDataPanel?"NEW CONNECTION":"NEW DATASOURCE")},n.prototype.setDataSourceName=function(n){var t=$("#"+this.id+"_datasource_dsname");n&&t.val(n.Name);t.val(this.isEdit?this.datasourceItem.Name:this.getAvailableName())},n.prototype.validateDataSourceName=function(){var t=this.id+"_datasource_dsname",n=$("#"+t).val();if(n){if(this.isAvailable(n))return this.showValidationMsg(t,!0,"The specified name already exists in DataSource list"),{name:n,isAvailable:!1};if(!/^[a-zA-Z0-9-_]*$/.test(n))return this.showValidationMsg(t,!0,"Name should not contain spaces and special characters"),{name:n,isAvailable:!1}}else return this.showValidationMsg(t,!0,"Specify the DataSource name"),{name:n,isAvailable:!1};return this.showValidationMsg(t,!1),{name:n,isAvailable:!0}},n.prototype.isAvailable=function(n){var r=$("#"+this.id+"_dsListContainer li"),t=!1,i=this;return r.each(function(r,u){if(!$(u).hasClass("e-edit")&&$(u).attr("name")===n&&!(i.datasourceItem&&n===i.datasourceItem.Name)){t=!0;return}}),t},n.prototype.getAvailableName=function(){var t=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.dataSourceText,i=[],u=$("#"+this.id+"_dsListContainer li"),n,r;u.each(function(n,t){i.push($(t).attr("name"))});n=0;do n++,r=i.indexOf(t+n);while(r!==-1);return t+n},n.prototype.renderGroupItems=function(n){for(var o,f,r=63,i=this.getDatasourceTypes(),e=ej.buildTag("div","",{padding:"10px 0px 10px 9px",height:"100%",width:"100%",margin:"0 auto",display:"inline-block"},{id:this.id+"_dsTypeList"}),t=0;t<i.length;t++){var u=ej.buildTag("div.e-reportdesigner-datasourceTypes","",{height:r+"px",width:r+"px",float:"left",padding:"6px",margin:"1px 1px 1px 1px",display:"table-cell","text-align":"center","line-height":"normal","vertical-align":"middle"},{itemType:i[t].itemType});e.append(u);o=ej.buildTag("span.e-designer-tile "+i[t].src,"",{display:"inline-block",padding:"4px 5px 4px 5px"},{id:i[t].id,itemType:i[t].itemType});u.append(o);f=ej.buildTag("span.e-designer-tile-content","",{display:"inline-block",width:r+"px","padding-top":"2px"},{id:i[t].id,itemType:i[t].itemType});f.text(i[t].name);u.append(f)}n.append(e)},n.prototype.getDatasourceTypes=function(){var n=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource.sqlButtonText;return[{id:this.id+"_sql",src:"e-reportdesigner-datasource-sql",itemType:"e-sql",name:n},{id:this.id+"_psql",src:"e-reportdesigner-datasource-psql",itemType:"e-psql",name:"PostgreSQL"},{id:this.id+"_File",src:"e-reportdesigner-datasource-oracle",itemType:"e-file",name:"File"},{id:this.id+"_oracle",src:"e-reportdesigner-datasource-oracle",itemType:"e-oracle",name:"ORACLE"},{id:this.id+"_mysql",src:"e-reportdesigner-datasource-sqlce",itemType:"e-mysql",name:"MySQL"},{id:this.id+"_webDs",src:"e-reportdesigner-datasource-oracle",itemType:"e-web",name:"Web"}]},n.prototype.showDataSourceHint=function(){$("#"+this.id+"_dsListContainer li").length>0?$("#"+this.id+"_dsBodyContainer").removeClass("e-designer-hint-newdatasource"):$("#"+this.id+"_dsBodyContainer").addClass("e-designer-hint-newdatasource")},n.prototype.updateCulture=function(n){var t=this.id,i;i=ej.DashboardDesigner.Locale[n]?ej.DashboardDesigner.Locale[n].dataSource:ej.DashboardDesigner.Locale["en-US"].dataSource;$("#"+t+"_dataSourceHeaderText").html(i.headerText);$("#"+t+"_newDataSourceButton").html(i.newDataSourceText);$("#"+t+"_headerMarkupTag").html(i.dataSourceTypeText);$("#"+t+"_btn_back").html(i.backButtonText);$("#"+t+"_sql").html(i.sqlButtonText);$("#"+t+"_btn_connect").html("Save");$("#"+t+"_panelSwitch").html(i.advanceOptionText);$("#"+t+"_panelSwitch").html(i.basicOption);$("#"+t+"_datasourceHeaderMarkupTag").html(i.setConnectionText);$("#"+t+"_Sql_dsname_tr").find(".editLabel").html(i.dataSourceNameText);$("#"+t+"_Sql_dsname").html(i.dataSourceText);$("#"+t+"_Sql_servername_tr").find(".editLabel").html(i.serverNameText);$("#"+t+"_Sql_authondicationtype").find(".editLabel").html(i.authenticationTypeText);$("#"+t+"_WinAuth").html(i.windowsText);$("#"+t+"_SQLAuth").html(i.sqlServerText);$("#"+t+"_Sql_dbname_tr").find(".editLabel").html(i.dataBaseText);$("#"+t+"_Sql_username_tr").find(".editLabel").html(i.userName);$("#"+t+"_Sql_passwd_tr").find(".editLabel").html(i.passWord);$("#"+t+"_save_password").find(".editLabel").html(i.savePassWord);$("#"+t+"_windows_user").html(i.useCurrentWindowsUser);$("#"+t+"_credential_user").html(i.useThisUserNameAndPassword);$("#"+t+"_credential_prompt").html(i.promptForCredentials);$("#"+t+"_credential_donot").html(i.doNotUseCredentials);$("#"+t+"_cred_username_tr").find(".editLabel").html(i.userName);$("#"+t+"_cred_passwd_tr").find(".editLabel").html(i.passWord);$("#"+t+"_cred_windows").html(i.useAsWindowCredential);$("#"+t+"_cred_impersonate").find(".editLabel").html(i.impersonateAuthenticatedUserAfterConnecting);$("#"+t+"_prompt_text_tr").find(".editLabel").html(i.enterPromptText);$("#"+t+"_prompt_windows").find(".editLabel").html(i.useAsWindowCredential);$("#"+t+"_dsConfigMenu").find(".editContextMenu").html(i.editContextMenu);$("#"+t+"_dsConfigMenu").find(".deleteContextMenu").html(i.deleteContextMenu);$("#"+t+"_Sql_dsname_label_validation").html(i.specifyServerName);$("#"+t+"_Sql_dbname_label_validation").html(i.specifyDatabaseName);$("#"+t+"_Sql_dsname_label_validation").html(i.specifyDataSourceName);$("#"+t+"_Sql_dsname_label_validation").html(i.nameAlreadyExistonDataSource)},n.prototype.wiredEvents=function(){$("#"+this.id+"_headerback").bind("click",$.proxy(this.connectionTypeBack,this));this.targetTag.find(".e-reportdesigner-datasourceTypes").bind("click",$.proxy(this.newDatabase,this))},n.prototype.unWiredEvents=function(){$("#"+this.id+"_headerback").unbind("click",$.proxy(this.connectionTypeBack,this));this.targetTag.find(".e-reportdesigner-datasourceTypes").unbind("click",$.proxy(this.newDatabase,this))},n.prototype.destroy=function(){this.unWiredEvents()},n.prototype.isOverflow=function(){return $("#"+this.id+"_dsConfigContainer").height()>$("#"+this.id+"_dsConfigBodyContainer").height()?!0:!1},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.updateEJComponentSize=function(){var e=$("#"+this.id+"_basicPanel"),o=e.find(".e-textbox").not(".e-designer-exclude"),s=e.find(".e-textarea"),r=e.find(".e-js"),i=this.isOverflow(),u,n,f,t;if(r&&r.length>0)for(u=0;u<r.length;u++)if(n=$(r[u]),f=n.data("ejWidgets"),f){t=n.data(f[0]);switch(f[0]){case"ejDropDownList":n.hasClass("e-designer-exclude")||t.option("width",(i?n.hasClass("e-dropdownUpload")?"430":"434":n.hasClass("e-dropdownUpload")?"436":"438")+"px");break;case"ejAutocomplete":t.option("width")!=="100%"&&t.option("width",i?"430":"439px");break;case"ejNumericTextbox":t.option("width")!=="100%"&&t.option("width",i?"431":"439px")}}s.width(i?"418":"421px");o.width(i?"421":"426px")},n.prototype.updateDSListContainer=function(){var n=this.targetTag.height();$("#"+this.id+"_dsBodyContainer").height(n-($("#"+this.id+"_dsHeaderContainer").height()+$("#"+this.id+"_dsFooterContainer").height()));$("#"+this.id+"_dsBodyContainer").data("ejScroller")&&$("#"+this.id+"_dsBodyContainer").data("ejScroller").setModel({height:n-($("#"+this.id+"_dsHeaderContainer").height()+$("#"+this.id+"_dsFooterContainer").height())})},n.prototype.updateDSTypeContainer=function(){var n=this.targetTag.height(),t=$("#"+this.id+"_dsTypeFooterContainer"),i=$("#"+this.id+"_dsTypeHeaderContainer").height(),r=t.is(":visible")?t.height():0,u=$("#"+this.id+"_dsTypeList");$("#"+this.id+"_dsTypeBodyContainer").height(n-(i+r));$("#"+this.id+"_dsTypeBodyContainer").data("ejScroller")&&$("#"+this.id+"_dsTypeBodyContainer").data("ejScroller").setModel({height:n-(i+r)});$("#"+this.id+"_dataType_container").hasClass("e-content")?u.css("padding-left","5px"):u.css("padding-left","9px")},n.prototype.updateDSConfigContainer=function(){var i=this.targetTag.height(),r=$("#"+this.id+"_dsConfigHeaderContainer").height(),u=$("#"+this.id+"_dsConfigFooterContainer").height(),n=$("#"+this.id+"_dsConfig_BodyContainer");n.height(i-(r+u));var f=parseFloat($("#"+this.id+"_dsConfigBodyContainer").css("padding-bottom")),e=$("#"+this.id+"_switchCont").is(":visible")?$("#"+this.id+"_switchCont").height():0,t=n.height()-(e+f);$("#"+this.id+"_dsConfigBodyContainer").height(t);$("#"+this.id+"_dsConfigBodyContainer").data("ejScroller")&&$("#"+this.id+"_dsConfigBodyContainer").data("ejScroller").setModel({height:t});this.updateEJComponentSize()},n}();window.ej.createObject("ej.DashboardDesignerUtility.DataSource",InternalDataSource,window);InternalDatePickerReportItems=function(){function n(){this.datepickerJson=null;this.contentContainer=null;this.limitDates=!0;this.highlightAvailableDates=!1;this.actAsMasterWidget=!0;this.ignoreFilterActions=!1;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.controlHeader=null;this.reportName=null;this.selectionType=!1;this.dataGroupInfo=null;this.dataConfiguration=null;this.controlType=null;this.cellInfo=null;this.datasource=[];this.wholeDatasource=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!0;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.datePicker;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.renderDatePickerReportElement=function(n,t){try{this.datepickerJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderDatePickerElement(r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.datepickerJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderDatePickerItem=function(n,t,i){try{var u=i.attr("id");this.datepickerJson=this.getDatePickerJson();this.datepickerJson.UniqueName=this.datepickerJson.ContainerSettings.Title=this.reportName;this.renderDatePickerElement(i);this.designPanel.performItemSelection(this.controlContainer)}catch(r){this.designPanel.logError({Source:this.datepickerJson.UniqueName,Error:r,Type:r.name})}},n.prototype.renderDatePickerElement=function(){this.datepickerItem=ej.buildTag("div.e-datepickeritem e-dbrd-widget e-dbrd-control","",{width:"100%",height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998"},{id:this.designPanel.designId+"Item"+this.datepickerJson.UniqueName});this.contentContainer.append(this.datepickerItem);this.controlContainer.data("DatePicker",this);this.createDatePickerElement();this.datepickerItem.ejWaitingPopup({showOnInit:!1,cssClass:this.designId+"_designer_waiting_popup e-designer-loader"})},n.prototype.showLoadingIndicator=function(){$("#"+this.designPanel.designId+"Item"+this.datepickerJson.UniqueName).ejWaitingPopup("show")},n.prototype.hideLoadingIndicator=function(){$("#"+this.designPanel.designId+"Item"+this.datepickerJson.UniqueName).ejWaitingPopup("hide")},n.prototype.createDatePickerElement=function(){var n,t;this.datepickerElement=ej.buildTag("input.e-datepicker-element","",{width:"100%","box-sizing":"border-box",position:"relative","font-size":"12px","background-color":"white"},{id:this.designPanel.designId+"Element"+this.datepickerJson.UniqueName});this.datepickerItem.append(this.datepickerElement);this.datepickerItem.css("padding","5px");n=25;this.datepickerElement.ejDashboardDatePicker({startDate:"01/01/1900",endDate:"01/01/2050",locale:{daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],montNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},height:n.toString()});t=this.contentContainer.innerHeight()/2-(n/2+5)+"px";this.datepickerItem.css("padding-top",t)},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"DatePicker",i);this.propertyPanel.canUpdate=!0},n.prototype.updateData=function(n){var t=this.datepickerElement.data("ejDashboardDatePicker"),r="",u="",i;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.datepickerJson,this.dataGroupInfo);ej.isNullOrUndefined(t)||(i=[],i.push(JSON.parse(n.widgetData.data)),n.data==="[]"?(t.option("startDate",ej.format(t.minDate,"d/m/yyyy")),t.option("endDate",ej.format(t.maxDate,"d/m/yyyy"))):(r=i[0].MinDate,u=i[0].MaxDate,t.option("startDate",r),t.option("endDate",u),this.wholeDatasource=i[0].DataSource))},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Dimensions",SupportedTypes:["e-reportdesigner-dataset-datetime"]}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Column",CategoryType:CategoryType.Non_Numeric}),n},n.prototype.getPropertyGridItems=function(){var n={Header:this.datepickerJson.ContainerSettings.Title,Type:"DatePicker",Items:[{CategoryName:"Basic Settings",Items:[{name:"Range",displayName:"Range",value:this.datepickerJson.Type===DatePickerType.Range,itemType:"bool",enableExpression:!1},{name:"LimitDates",displayName:"Limit Dates",value:this.datepickerJson.LimitDates,itemType:"bool",enableExpression:!1},{name:"HighlightAvailableDates",displayName:"Highlight Available Dates",value:this.datepickerJson.HighlightAvailableDates,itemType:"bool",enableExpression:!1}]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.datepickerJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.getDatePickerJson=function(){return new DatePickerProperties},n.prototype.updateSize=function(n,t){this.controlContainer.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.datepickerJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);var i=this.contentContainer.innerHeight()/2-this.datepickerElement.height()/2;this.datepickerElement.css("width","100%");this.datepickerItem.css("padding-top",i+"px")},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.datepickerJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);var u=this.contentContainer.innerHeight()/2-this.datepickerElement.height()/2;this.datepickerElement.css("width","100%");this.datepickerItem.css("padding-top",u+"px")},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"HighlightAvailableDates":this.updateHighlightDate(i);break;case"LimitDates":this.updateLimitDate(i);break;case"Range":this.updateSelectionType(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"DatePicker",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-datepicker-item",this.datepickerJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.datepickerJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateLimitDate=function(n){this.datepickerJson.LimitDates=n;var t=this.datepickerElement.data("ejDashboardDatePicker");ej.isNullOrUndefined(t)||(t.model.limitDate=n,t.redraw())},n.prototype.updateSelectionType=function(n){this.datepickerJson.Type=n?DatePickerType.Range:DatePickerType.Single;var t=this.datepickerElement.data("ejDashboardDatePicker");ej.isNullOrUndefined(t)||(t.model.datePickerType=this.datepickerJson.Type,t.redraw())},n.prototype.updateHighlightDate=function(n){var t,i;this.datepickerJson.HighlightAvailableDates=n;t=this.datepickerElement.data("ejDashboardDatePicker");ej.isNullOrUndefined(t)||(t.model.highlightAvailableDates=n,i=this.wholeDatasource,n&&!ej.isNullOrUndefined(i)&&t.option("dataSource",i),t.redraw())},n.prototype.getTitlePositionJson=function(n){var t="Center";switch(n){case"TopLeft":t="Left";break;case"TopCenter":t="Center";break;case"TopRight":t="Right";break;default:t="Center"}return t},n.prototype.getPixelValue=function(n){return ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getPixelVal(n):n},n.prototype.dispose=function(){var n=this.controlContainer.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderDatePickerElement","e-datepicker-item",this.datepickerJson.UniqueName,[this.datepickerJson,n.attr("id")],null);$("#"+this.datepickerJson.UniqueName).removeData("DatePicker");$("#"+this.datepickerJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.datepickerJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.DatePickerItem",InternalDatePickerReportItems,window);InternalDesignPanel=function(){function n(n,t){this.rdlParser=null;this.propertyTimeOut=null;this.errorLoggerTimer=null;this.selectedReportItems=[];this.selectedItems=[];this.isSelectedPropertyPanel=!1;this.dbrdErrors=[];this.designCanvas=null;this.rowsLength=6;this.columnsLength=12;this.minimumCellSize=110;this.cellSize=110;this.cellMargin=4;this.defaultPadding=50;this.minimumPanelWidth=1400;this.minimumPanelHeight=700;this.helperItem=null;this.placingItem=null;this.itemRestrictedColor="rgba(250, 199, 199, 0.6)";this.itemPlacingColor="rgba(210, 239, 247, 0.6)";this.cellBorderColor="#e6e6e6";this.cellBorderHighlightColor="#7ad6ee";this.selectedItemBounds={left:0,top:0,width:0,height:0};this.itemPanelDragStart=!1;this.isDragStarted=!1;this.isResizeStarted=!1;this.isSettingIconClick=!1;this.resizePosition="";this.isWidgetItemRestricted=!1;this.reportDesigner=n;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.designId=this.reportDesigner._id;this.targetTag=t;this.renderDesignCanvas();this.designPanel.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.designerMouseDown,this))}return n.prototype.renderDesignCanvas=function(){var t,n,i;for(this.designPanel=ej.buildTag("div.e-dashboarddesigner-designPanel","",{display:"block",overflow:"auto",width:"100%",height:"100%"},{id:this.designId+"_designPanel"}),this.updatePanelSize(),this.targetTag.append(this.designPanel),this.designCanvas=ej.buildTag("div.e-dashboarddesigner-designcanvas","",{position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"_designCanvas"}),t=this.columnsLength*this.rowsLength,n=0;n<t;n++)i=ej.buildTag("div.e-dashboarddesigner-cellitem","",{border:"1px solid #e6e6e6",float:"left","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","box-sizing":"border-box"},{id:this.designId+"cellitem"+(n+1),row:Math.floor(n/this.columnsLength)+1,column:n%this.columnsLength+1}),this.designCanvas.append(i);this.helperItem=ej.buildTag("div","",{border:"1px solid #cccccc","background-color":"transparent",position:"absolute",display:"none","z-index":"1002","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"_helperItem"});this.placingItem=ej.buildTag("div.e-placing-cell","",{border:"1px solid #179bd7","background-color":this.itemPlacingColor,position:"absolute",display:"none","z-index":"1001","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"_placingItem"});this.designCanvas.append(this.helperItem);this.designCanvas.append(this.placingItem);this.designPanel.append(this.designCanvas);this.updateDesignPanelSize()},n.prototype.updateDesignPanelSize=function(){var u,f,e,n;this.minimumPanelWidth=this.minimumCellSize*this.columnsLength+this.defaultPadding;this.minimumPanelHeight=this.minimumCellSize*this.rowsLength+this.defaultPadding;this.minimumPanelWidth=Math.max(this.designPanel.width(),this.minimumPanelWidth);this.minimumPanelHeight=Math.max(this.designPanel.height(),this.minimumPanelHeight);var i=this.minimumPanelWidth-this.defaultPadding,r=this.minimumPanelHeight-this.defaultPadding,l=Math.floor(i/this.columnsLength),a=Math.floor(r/this.rowsLength);for(this.cellSize=Math.min(l,a),this.cellMargin=Math.round(this.cellSize/20),u=this.cellSize*this.columnsLength<this.designPanel.width()?this.designPanel.width():this.cellSize*this.columnsLength+this.defaultPadding,f=this.cellSize*this.rowsLength<this.designPanel.height()?this.designPanel.height():this.cellSize*this.rowsLength+this.defaultPadding,this.designCanvas.css({width:u+"px",height:f+"px"}),e=this.columnsLength*this.rowsLength,this.cellSize=this.cellSize-this.cellMargin*2,n=0;n<e;n++)this.designCanvas.find("#"+this.designId+"cellitem"+(n+1)).css({width:this.cellSize+"px",height:this.cellSize+"px",margin:this.cellMargin+"px "+this.cellMargin+"px"});var o=(this.cellSize+this.cellMargin*2)*this.columnsLength,s=(this.cellSize+this.cellMargin*2)*this.rowsLength,h=o<i?(i-o)/2:0,c=s<r?(r-s)/2:0,t=this.defaultPadding/2;this.designCanvas.css({"padding-left":h+t+"px","padding-right":h+t+"px","padding-top":c+t+"px","padding-bottom":c+t+"px"});this.updateCanvasItemSize()},n.prototype.updateCanvasItemSize=function(){var t=this,n=this.getCellItem(Number(this.placingItem.attr("row")),Number(this.placingItem.attr("column"))),i,r,u;ej.isNullOrUndefined(n)||(i=n.position(),this.placingItem.css({left:i.left+this.cellMargin,top:i.top+this.cellMargin,width:n.width()+2,height:n.height()+2}));n=null;r=this.designCanvas.find(".e-reportitem");u=this;r.each(function(i,r){var h=$(r),s=ej.DashboardUtil.getReportItem(h),f=s.cellInfo;if(n=t.getCellItem(f.row,f.column),!ej.isNullOrUndefined(n)){var o=u.getCellItem(f.row+f.rowSpan-1,f.column+f.colSpan-1),c=o.position().left-n.position().left+o.width()+2,l=o.position().top-n.position().top+o.height()+2,e=n.position();e={left:e.left+t.cellMargin,top:e.top+t.cellMargin};s.updateItemSize(e.left,e.top,c,l,!0)}})},n.prototype.getCellItem=function(n,t){var r=this.designCanvas.find("[row="+n+"][column="+t+"]"),i=null;return r.each(function(n,t){var r=$(t);return r.hasClass("e-dashboarddesigner-cellitem")?(i=r,!1):!0}),i},n.prototype.designerMouseDown=function(n){var t,f,i,r,u;this.wireDesignerEvents();this.mouseDownTarget=$(n.target);this.startPoint=this.getMousePosition(n);this.mouseDownTarget.hasClass("e-placing-cell")&&(t=this.mouseDownTarget.offset(),f={x:t.left+this.cellMargin,y:t.top+this.cellMargin,width:this.mouseDownTarget.width(),height:this.mouseDownTarget.height()},this.mouseDownTarget=this.getTargetElement(f));this.mouseDownTarget.hasClass("e-dashboarddesigner-cellitem")||this.placingItem.css({display:"none","background-color":this.itemPlacingColor});this.validateHelperIconClick(this.mouseDownTarget);this.isSettingIconClick?this.performWidgetSettingOption():this.isResizeStarted?(this.resizePosition=this.getResizePosition(this.mouseDownTarget),i=this.getCursor(),this.setDragItem(i),$("#"+this.designId+"_designAreaContainer").css("cursor",i)):this.mouseDownTarget.hasClass("e-dashboarddesigner-cellitem")?(this.removeItemSelection(),r=this.mouseDownTarget.position(),this.placingItem.attr({row:this.mouseDownTarget.attr("row"),column:this.mouseDownTarget.attr("column")}),this.placingItem.css({display:"block","background-color":"transparent",left:r.left+this.cellMargin,top:r.top+this.cellMargin,width:this.mouseDownTarget.width()+2,height:this.mouseDownTarget.height()+2}),this.setPropertyPanelItem()):this.mouseDownTarget.hasClass("e-widget-selectionbox")?n.ctrlKey?this.removeItemSelection():(this.isDragStarted=!0,this.setDragItem("move")):(u=this.mouseDownTarget.closest(".e-reportitem"),u.length>0&&(this.removeItemSelection(),this.itemSelection(u),this.invokePropertyPanel()))},n.prototype.designCanvasMouseMove=function(n){this.endPoint=this.getMousePosition(n);this.isDragStarted?this.performItemMove(!1):this.isResizeStarted&&this.performItemResize(!1)},n.prototype.designCanvasMouseUp=function(n){this.endPoint=this.getMousePosition(n);this.isDragStarted?(this.performItemMove(!0),this.showWidgetSelectionBox()):this.isResizeStarted&&(this.performItemResize(!0),this.showWidgetSelectionBox());this.selectedReportItems.length>0&&this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",997);this.isSettingIconClick=!1;this.isResizeStarted=!1;this.isDragStarted=!1;this.resizePosition="";this.helperItem.css("display","none");this.placingItem.css("border-color","#179bd7");this.mouseDownTarget.hasClass("e-dashboarddesigner-cellitem")||this.placingItem.css("display","none");$("#"+this.designId+"_designAreaContainer").css("cursor","auto");this.unWiredDesignerEvents()},n.prototype.performItemMove=function(n){var u,r;this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",999);this.hideWidgetSelectionBox();var s=this.getOffsetPosition(this.designCanvas.offset()),e=this.selectedItemBounds.left+(this.endPoint.x-this.startPoint.x),o=this.selectedItemBounds.top+(this.endPoint.y-this.startPoint.y),c={x:s.left+e+this.cellMargin,y:s.top+o+this.cellMargin,width:this.selectedItemBounds.width,height:this.selectedItemBounds.height},i=this.getTargetElement(c),t=e<0+parseFloat(this.designCanvas.css("padding-left"))||o<0+parseFloat(this.designCanvas.css("padding-top")),f=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]);if(!ej.isNullOrUndefined(i)&&i.hasClass("e-dashboarddesigner-cellitem")?(this.placingItem.css("display","block"),r=this.placingItem.position(),(r.left+this.placingItem.width()+this.cellMargin-parseFloat(this.designCanvas.css("padding-left"))>this.designCanvas.width()||r.top+this.placingItem.height()+this.cellMargin-parseFloat(this.designCanvas.css("padding-top"))>this.designCanvas.height())&&(t=!0)):(this.helperItem.position().top>this.designCanvas.height()||this.helperItem.position().left>this.designCanvas.width())&&(t=!0,this.placingItem.css("display","none")),this.helperItem.css({display:"block","background-color":t?this.itemRestrictedColor:"transparent","border-color":t?"#f13232":"#cccccc",left:e,top:o}),ej.isNullOrUndefined(i)||(u={row:Number(i.attr("row")),column:Number(i.attr("column")),rowSpan:f.cellInfo.rowSpan,colSpan:f.cellInfo.colSpan},this.placingItem.attr({row:u.row,column:u.column,rowSpan:u.rowSpan,colSpan:u.colSpan}),this.isWidgetItemRestricted=this.isItemRestricted(u),r=i.position(),this.placingItem.css({"z-index":1001,"background-color":this.isWidgetItemRestricted?this.itemRestrictedColor:this.itemPlacingColor,"border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.cellMargin+r.left,top:this.cellMargin+r.top})),this.placingItem.css("display",t?"none":"block"),n&&!this.isWidgetItemRestricted&&!t){var h=this.placingItem.position(),l=h.left,a=h.top;f.cellInfo.row=Number(this.placingItem.attr("row"));f.cellInfo.column=Number(this.placingItem.attr("column"));f.updatePosition(l,a,!0);ej.DashboardDesignerUtility.Serialization.notifyChange()}t&&!this.isWidgetItemRestricted&&this.placingItem.css("display","none")},n.prototype.performItemResize=function(n){this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",999);this.hideWidgetSelectionBox();switch(this.resizePosition){case"LeftTop":this.performLeftTop(n);break;case"LeftCenter":this.performLeftCenter(n);break;case"LeftBottom":this.performLeftBottom(n);break;case"CenterTop":this.performCenterTop(n);break;case"CenterBottom":this.performCenterBottom(n);break;case"RightCenter":this.performRightCenter(n);break;case"RightBottom":this.performRightBottom(n)}n&&this.updateWidgetSelectionBox(this.selectedReportItems[0])},n.prototype.performLeftTop=function(n){var f=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),e=this.selectedItemBounds.top-(this.startPoint.y-this.endPoint.y),o=f>this.selectedItemBounds.left+this.selectedItemBounds.width||f<0||e>this.selectedItemBounds.top+this.selectedItemBounds.height||e<0,r,t,i,s;if(this.helperItem.css({display:o?"none":"block",left:f,top:e,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x),height:this.selectedItemBounds.height+(this.startPoint.y-this.endPoint.y)}),r=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1}),t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]),ej.isNullOrUndefined(r))this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{i=r.position();i={left:i.left+this.cellMargin,top:i.top+this.cellMargin};var h=this.selectedItemBounds.left-i.left+this.selectedItemBounds.width,c=this.selectedItemBounds.top-i.top+this.selectedItemBounds.height,u={row:Number(r.attr("row")),column:Number(r.attr("column")),rowSpan:t.cellInfo.row+t.cellInfo.rowSpan-Number(r.attr("row")),colSpan:t.cellInfo.column+t.cellInfo.colSpan-Number(r.attr("column"))};this.placingItem.attr({row:u.row,column:u.column,rowSpan:u.rowSpan,colSpan:u.colSpan});this.isWidgetItemRestricted=this.isItemRestricted(u);this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:o?this.placingItem.position().left:i.left,top:o?this.placingItem.position().top:i.top,width:h>this.cellSize?h:this.cellSize,height:c>this.cellSize?c:this.cellSize})}n&&!this.isWidgetItemRestricted&&(s=this.placingItem.position(),t.cellInfo.row=Number(this.placingItem.attr("row")),t.cellInfo.column=Number(this.placingItem.attr("column")),t.cellInfo.rowSpan=Number(this.placingItem.attr("rowSpan")),t.cellInfo.colSpan=Number(this.placingItem.attr("colSpan")),t.updateItemSize(s.left,s.top,this.placingItem.width()+2,this.placingItem.height()+2,!0))},n.prototype.performLeftCenter=function(n){var u=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),e=u>this.selectedItemBounds.left+this.selectedItemBounds.width||u<0,i,t,f;if(this.helperItem.css({display:e?"none":"block",left:u,top:this.selectedItemBounds.top,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x)}),i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0,!0),t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]),ej.isNullOrUndefined(i))this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{var o=i.position().left+this.cellMargin,s=this.selectedItemBounds.left-o+this.selectedItemBounds.width,r={row:t.cellInfo.row,column:Number(i.attr("column")),rowSpan:t.cellInfo.rowSpan,colSpan:t.cellInfo.column+t.cellInfo.colSpan-Number(i.attr("column"))};this.placingItem.attr({row:r.row,column:r.column,rowSpan:r.rowSpan,colSpan:r.colSpan});this.isWidgetItemRestricted=this.isItemRestricted(r);this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:e?this.placingItem.position().left:o,top:this.selectedItemBounds.top,width:s>this.cellSize?s:this.cellSize})}n&&!this.isWidgetItemRestricted&&(f=this.placingItem.position(),t.cellInfo.column=Number(this.placingItem.attr("column")),t.cellInfo.colSpan=Number(this.placingItem.attr("colSpan")),t.updateItemSize(f.left,f.top,this.placingItem.width()+2,this.placingItem.height()+2,!0))},n.prototype.performLeftBottom=function(n){var f=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),e=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y),s=f>this.selectedItemBounds.left+this.selectedItemBounds.width||f<0||e<0||this.selectedItemBounds.top+e>this.designCanvas.height(),i,t,r,o;if(this.helperItem.css({display:s?"none":"block",left:f,top:this.selectedItemBounds.top,height:e,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x)}),i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1}),t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]),ej.isNullOrUndefined(i))this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{r=i.position();r={left:r.left+this.cellMargin,top:r.top+this.cellMargin};var h=this.selectedItemBounds.left-r.left+this.selectedItemBounds.width,c=r.top+i.height()+2-this.selectedItemBounds.top,u={row:t.cellInfo.row,column:Number(i.attr("column")),rowSpan:Number(i.attr("row"))-t.cellInfo.row,colSpan:t.cellInfo.column+t.cellInfo.colSpan-Number(i.attr("column"))};this.placingItem.attr({row:u.row,column:u.column,rowSpan:u.rowSpan,colSpan:u.colSpan});this.isWidgetItemRestricted=this.isItemRestricted(u);this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:s?this.placingItem.position().left:r.left,top:this.selectedItemBounds.top,height:c>this.cellSize?c:this.cellSize,width:h>this.cellSize?h:this.cellSize})}n&&!this.isWidgetItemRestricted&&(o=this.placingItem.position(),t.cellInfo.column=Number(this.placingItem.attr("column")),t.cellInfo.rowSpan=Number(this.placingItem.attr("rowSpan")),t.cellInfo.colSpan=Number(this.placingItem.attr("colSpan")),t.updateItemSize(o.left,o.top,this.placingItem.width()+2,this.placingItem.height()+2,!0))},n.prototype.performCenterTop=function(n){var u=this.selectedItemBounds.top-(this.startPoint.y-this.endPoint.y),e=u>this.selectedItemBounds.top+this.selectedItemBounds.height||u<0,i,t,f;if(this.helperItem.css({display:e?"none":"block",left:this.selectedItemBounds.left,top:u,height:this.selectedItemBounds.height+(this.startPoint.y-this.endPoint.y)}),i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0),t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]),ej.isNullOrUndefined(i))this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{var o=i.position().top+this.cellMargin,s=this.selectedItemBounds.top-o+this.selectedItemBounds.height,r={row:Number(i.attr("row")),column:t.cellInfo.column,rowSpan:t.cellInfo.row+t.cellInfo.rowSpan-Number(i.attr("row")),colSpan:t.cellInfo.colSpan};this.placingItem.attr({row:r.row,column:r.column,rowSpan:r.rowSpan,colSpan:r.colSpan});this.isWidgetItemRestricted=this.isItemRestricted(r);this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:e?this.placingItem.position().top:o,height:s>this.cellSize?s:this.cellSize})}n&&!this.isWidgetItemRestricted&&(f=this.placingItem.position(),t.cellInfo.row=Number(this.placingItem.attr("row")),t.cellInfo.rowSpan=Number(this.placingItem.attr("rowSpan")),t.updateItemSize(f.left,f.top,this.placingItem.width()+2,this.placingItem.height()+2,!0))},n.prototype.performCenterBottom=function(n){var u=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y),s=u<0||this.selectedItemBounds.top+u>this.designCanvas.height(),r,t,e,i,f,o;this.helperItem.css({display:s?"none":"block",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,height:u});r=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0);t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]);ej.isNullOrUndefined(r)?this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"}):(e=r.position().top+this.cellMargin,i={row:t.cellInfo.row,column:t.cellInfo.column,rowSpan:Number(r.attr("row"))-t.cellInfo.row+1,colSpan:t.cellInfo.colSpan},this.placingItem.attr({row:i.row,column:i.column,rowSpan:i.rowSpan,colSpan:i.colSpan}),this.isWidgetItemRestricted=this.isItemRestricted(i),f=e+r.height()+2-this.selectedItemBounds.top,this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,height:f>this.cellSize?f:this.cellSize}));n&&!this.isWidgetItemRestricted&&(o=this.placingItem.height()+2,t.cellInfo.rowSpan=Number(this.placingItem.attr("rowSpan")),t.updateSize(this.selectedReportItems[0].width(),o,!0))},n.prototype.performRightCenter=function(n){var u=this.selectedItemBounds.width+(this.endPoint.x-this.startPoint.x),o=u<0||this.selectedItemBounds.left+u>this.designCanvas.width(),r,t,e,i,f;this.helperItem.css({display:o?"none":"block",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:u});r=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0,!0);t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]);ej.isNullOrUndefined(r)?this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"}):(e=r.position().left+this.cellMargin,i={row:t.cellInfo.row,column:t.cellInfo.column,rowSpan:t.cellInfo.rowSpan,colSpan:Number(r.attr("column"))-t.cellInfo.column+1},this.placingItem.attr({row:i.row,column:i.column,rowSpan:i.rowSpan,colSpan:i.colSpan}),this.isWidgetItemRestricted=this.isItemRestricted(i),f=e+r.width()+2-this.selectedItemBounds.left,this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:f>this.cellSize?f:this.cellSize}));n&&!this.isWidgetItemRestricted&&(t.cellInfo.colSpan=Number(this.placingItem.attr("colSpan")),t.updateSize(this.placingItem.width()+2,this.selectedReportItems[0].height(),!0))},n.prototype.performRightBottom=function(n){var u=this.selectedItemBounds.width+(this.endPoint.x-this.startPoint.x),f=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y),h=u<0||this.selectedItemBounds.left+u>this.designCanvas.width()||f<0||this.selectedItemBounds.top+f>this.designCanvas.height(),i,t,e,r,o,s;this.helperItem.css({display:h?"none":"block",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:u,height:f});i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1});t=ej.DashboardUtil.getReportItem(this.selectedReportItems[0]);ej.isNullOrUndefined(i)?this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"}):(e=i.position(),r={row:t.cellInfo.row,column:t.cellInfo.column,rowSpan:Number(i.attr("row"))-t.cellInfo.row+1,colSpan:Number(i.attr("column"))-t.cellInfo.column+1},this.placingItem.attr({row:r.row,column:r.column,rowSpan:r.rowSpan,colSpan:r.colSpan}),this.isWidgetItemRestricted=this.isItemRestricted(r),o=e.left+this.cellMargin+i.width()+2-this.selectedItemBounds.left,s=e.top+this.cellMargin+i.height()+2-this.selectedItemBounds.top,this.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:o>this.cellSize?o:this.cellSize,height:s>this.cellSize?s:this.cellSize}));n&&!this.isWidgetItemRestricted&&(t.cellInfo.rowSpan=Number(this.placingItem.attr("rowSpan")),t.cellInfo.colSpan=Number(this.placingItem.attr("colSpan")),t.updateSize(this.placingItem.width()+2,this.placingItem.height()+2,!0),ej.DashboardDesignerUtility.Serialization.notifyChange())},n.prototype.isItemRestricted=function(n){var t,i;return this.isWidgetItemRestricted=!1,t=this.designCanvas.find(".e-reportitem").not(this.selectedReportItems[0]),this.itemPanelDragStart&&(t=this.designCanvas.find(".e-reportitem")),i=!1,t.each(function(t,r){var u=ej.DashboardUtil.getReportItem($(r)).cellInfo;return(u.row>=n.row||u.row+u.rowSpan>n.row)&&u.row<n.row+n.rowSpan&&(u.column>=n.column||u.column+u.colSpan>n.column)&&u.column<n.column+n.colSpan?(i=!0,!1):!0}),i},n.prototype.updateElementLeft=function(n){var u=this,f=this.selectedReportItems[0],t=ej.DashboardUtil.getReportItem(f),r,e,i;this.selectedItemBounds=this.getItemBounds($(f));r=t.cellInfo.column+(n==="left"?-1:1);e=this.designCanvas.find("[row="+t.cellInfo.row+"][column="+r+"]");r+t.cellInfo.colSpan-1<=this.columnsLength&&(i=this,e.each(function(n,r){var f=$(r),e,o;f.hasClass("e-dashboarddesigner-cellitem")&&(e={row:Number(f.attr("row")),column:Number(f.attr("column")),rowSpan:t.cellInfo.rowSpan,colSpan:t.cellInfo.colSpan},i.isWidgetItemRestricted=i.isItemRestricted(e),u.isWidgetItemRestricted||(o=f.position(),t.cellInfo.column=Number(f.attr("column")),t.updatePosition(o.left+i.cellMargin,u.selectedItemBounds.top,!0)))}))},n.prototype.updateElementTop=function(n){var u=this,f=this.selectedReportItems[0],t=ej.DashboardUtil.getReportItem(f),r,e,i;this.selectedItemBounds=this.getItemBounds($(f));r=t.cellInfo.row+(n==="top"?-1:1);e=this.designCanvas.find("[row="+r+"][column="+t.cellInfo.column+"]");r+t.cellInfo.rowSpan-1<=this.rowsLength&&(i=this,e.each(function(n,r){var f=$(r),e,o;f.hasClass("e-dashboarddesigner-cellitem")&&(e={row:Number(f.attr("row")),column:Number(f.attr("column")),rowSpan:t.cellInfo.rowSpan,colSpan:t.cellInfo.colSpan},i.isWidgetItemRestricted=i.isItemRestricted(e),u.isWidgetItemRestricted||(o=f.position(),t.cellInfo.row=Number(f.attr("row")),t.updatePosition(u.selectedItemBounds.left,o.top+i.cellMargin,!0)))}))},n.prototype.updateElementWidth=function(n){var u=this.selectedReportItems[0],t=ej.DashboardUtil.getReportItem(u),i,f,e,r,o;this.selectedItemBounds=this.getItemBounds($(u));i=t.cellInfo.colSpan+(n==="left"?-1:1);i>0&&(f={row:t.cellInfo.row,column:t.cellInfo.column,rowSpan:t.cellInfo.rowSpan,colSpan:i},this.isWidgetItemRestricted=this.isItemRestricted(f),e=t.cellInfo.column+i-1,r=$(this.designCanvas.find("[row="+t.cellInfo.row+"][column="+e+"]")[0]),!this.isWidgetItemRestricted&&r.length>0&&(t.cellInfo.colSpan=i,o=r.position().left-this.selectedItemBounds.left+r.width()+2+this.cellMargin,t.updateSize(o,this.selectedItemBounds.height,!0)))},n.prototype.updateElementHeight=function(n){var u=this.selectedReportItems[0],t=ej.DashboardUtil.getReportItem(u),i,f,e,r,o;this.selectedItemBounds=this.getItemBounds($(u));i=t.cellInfo.rowSpan+(n==="top"?-1:1);i>0&&(f={row:t.cellInfo.row,column:t.cellInfo.column,rowSpan:i,colSpan:t.cellInfo.colSpan},this.isWidgetItemRestricted=this.isItemRestricted(f),e=t.cellInfo.row+i-1,r=$(this.designCanvas.find("[row="+e+"][column="+t.cellInfo.column+"]")[0]),!this.isWidgetItemRestricted&&r.length>0&&(t.cellInfo.rowSpan=i,o=r.position().top-this.selectedItemBounds.top+r.height()+2+this.cellMargin,t.updateSize(this.selectedItemBounds.width,o,!0)))},n.prototype.nextWidgetItem=function(){for(var r,t=this.designCanvas.find(".e-reportitem"),i=t.length,n=0;n<i;n++)if(r=$(t[n]),r.attr("id")===this.selectedReportItems[0].attr("id")){this.performItemSelection(n===i-1?$(t[0]):$(t[n+1]));break}},n.prototype.previousWidgetItem=function(){for(var r,t=this.designCanvas.find(".e-reportitem"),i=t.length,n=i-1;n>=0;n--)if(r=$(t[n]),r.attr("id")===this.selectedReportItems[0].attr("id")){this.performItemSelection(n===0?$(t[i-1]):$(t[n-1]));break}},n.prototype.setDragItem=function(n){this.selectedItemBounds=this.getItemBounds($(this.selectedReportItems[0]));this.helperItem.css({width:this.selectedItemBounds.width,height:this.selectedItemBounds.height,cursor:n});this.placingItem.css({left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:this.selectedItemBounds.width,height:this.selectedItemBounds.height})},n.prototype.getResizePosition=function(n){var t="";return n.hasClass("e-reportdesigner-selection-drag")||(n=n.parent()),n.hasClass("e-lefttop")?t="LeftTop":n.hasClass("e-leftcenter")?t="LeftCenter":n.hasClass("e-leftbottom")?t="LeftBottom":n.hasClass("e-centertop")?t="CenterTop":n.hasClass("e-centerbottom")?t="CenterBottom":n.hasClass("e-rightcenter")?t="RightCenter":n.hasClass("e-rightbottom")&&(t="RightBottom"),t},n.prototype.getCursor=function(){var n="";switch(this.resizePosition){case"LeftTop":n="nw-resize";break;case"LeftCenter":n="w-resize";break;case"LeftBottom":n="sw-resize";break;case"CenterTop":n="n-resize";break;case"CenterBottom":n="s-resize";break;case"RightCenter":n="e-resize";break;case"RightBottom":n="se-resize";break;default:n="auto"}return n},n.prototype.getItemBounds=function(n){var t=n.position();return{left:t.left,top:t.top,width:n.width(),height:n.height()}},n.prototype.validateHelperIconClick=function(n){(n.hasClass("e-reportdesigner-selection-move")||n.parent()&&n.parent().hasClass("e-reportdesigner-selection-move"))&&(this.isSettingIconClick=!0);(n.hasClass("e-reportdesigner-selection-drag")||n.parent()&&n.parent().hasClass("e-reportdesigner-selection-drag"))&&(this.isResizeStarted=!0)},n.prototype.performWidgetSettingOption=function(){this.invokePropertyPanel();this.propertyPanel.showProperty(!0)},n.prototype.performItemSelection=function(n){n.length>0&&(this.removeItemSelection(),this.itemSelection(n),this.invokePropertyPanel())},n.prototype.removeItemSelection=function(){ej.isNullOrUndefined(this.selectedReportItems[0])||(this.selectedReportItems[0].find(".e-widget-selectionbox").remove(),this.selectedReportItems[0].removeClass("e-selected-item"),this.selectedReportItems=[],this.updateRptToolbarActions())},n.prototype.itemSelection=function(n){n.length>0&&(this.createWidgetSelectionBox(n),n.hasClass("e-selected-item")||(n.addClass("e-selected-item"),this.selectedReportItems[0]=n),this.updateRptToolbarActions())},n.prototype.createWidgetSelectionBox=function(n){var t=ej.buildTag("div.e-widget-selectionbox","",{left:"0px",top:"0px",height:"100%",width:"100%",border:"1px solid #05b2ed",position:"absolute",display:"block",cursor:"move","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":997},{});t.append(this.generateHelperItem("e-reportdesigner-selection-drag e-lefttop e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-leftcenter e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-leftbottom e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-centertop e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-centerbottom e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-rightcenter e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-drag e-rightbottom e-widgeticons",2)).append(this.generateHelperItem("e-reportdesigner-selection-move e-moveicon e-toolbarfonticonbasic",3));n.append(t);this.updateWidgetSelectionBox(n)},n.prototype.generateHelperItem=function(n,t){var i={},u=null,f,r,e;switch(n){case"e-reportdesigner-selection-drag e-lefttop e-widgeticons":i={cursor:"nw-resize"};break;case"e-reportdesigner-selection-drag e-leftcenter e-widgeticons":i={cursor:"w-resize"};break;case"e-reportdesigner-selection-drag e-leftbottom e-widgeticons":i={cursor:"sw-resize"};break;case"e-reportdesigner-selection-drag e-centertop e-widgeticons":i={cursor:"n-resize"};break;case"e-reportdesigner-selection-drag e-centerbottom e-widgeticons":i={cursor:"s-resize"};break;case"e-reportdesigner-selection-drag e-righttop e-widgeticons":i={cursor:"ne-resize"};break;case"e-reportdesigner-selection-drag e-rightcenter e-widgeticons":i={cursor:"e-resize"};break;case"e-reportdesigner-selection-drag e-rightbottom e-widgeticons":i={cursor:"se-resize"};break;case"e-reportdesigner-selection-move e-moveicon e-toolbarfonticonbasic":i={cursor:"pointer","font-size":"25px"};u="Widget Settings"}for(f=ej.buildTag("div","",{cursor:i.cursor,position:"absolute","font-size":ej.isNullOrUndefined(i["font-size"])?"":i["font-size"],"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{"class":n,title:ej.isNullOrUndefined(u)?"":u}),r=0;r<t;r++)e=ej.buildTag("span","",{},{"class":"path"+(r+1).toString()}),f.append(e);return f[0]},n.prototype.updateWidgetSelectionBox=function(n){var t=n.find(".e-widget-selectionbox"),i=t.width(),r=t.height();t.find(".e-lefttop").css({left:"-4px",top:"-4px"});t.find(".e-leftcenter").css({left:"-4px",top:r/2-4+"px"});t.find(".e-leftbottom").css({left:"-4px",top:r-4+"px"});t.find(".e-centertop").css({left:i/2-4+"px",top:"-4px"});t.find(".e-centerbottom").css({left:i/2-4+"px",top:r-4+"px"});t.find(".e-rightcenter").css({left:i-3+"px",top:r/2-4+"px"});t.find(".e-rightbottom").css({left:i-3+"px",top:r-4+"px"});t.find(".e-moveicon").css({left:i-11+"px",top:"-13px"})},n.prototype.showWidgetSelectionBox=function(){this.selectedReportItems[0].find(".e-widget-selectionbox").css("display","block")},n.prototype.hideWidgetSelectionBox=function(){this.selectedReportItems[0].find(".e-widget-selectionbox").css("display","none")},n.prototype.validateTargetElement=function(n,t){return this.isIntersectDesignerSection(n,t)?!1:!0},n.prototype.getTargetElement=function(n,t,i){var r=this,e=this.designCanvas.find(".e-dashboarddesigner-cellitem"),u=this,f=null;return e.each(function(e,o){var c=$(o),a=u.getOffsetPosition(c.offset()),l=u.getSelectionBounds(a,c),s,h;return!ej.isNullOrUndefined(t)&&t?(h={x:i?n.x:n.x+r.cellMargin,y:i?n.y+r.cellMargin:n.y,width:n.width,height:n.height},s=r.validateTargetElement(h,l),s&&(h.x=i?n.x:n.x-r.cellMargin,h.y=i?n.y-r.cellMargin:n.y,s=r.validateTargetElement(h,l))):s=r.validateTargetElement(n,l),s||(f=c),s}),f},n.prototype.isIntersectDesignerSection=function(n,t){return n.x>=t.x1&&n.x<=t.x2&&n.y>=t.y1&&n.y<=t.y2},n.prototype.isDesignerSections=function(n){return n.hasClass("e-dashboarddesigner-cellitem")||n.hasClass("e-placing-cell")},n.prototype.wireDesignerEvents=function(){$(document).bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.designCanvasMouseMove,this));$(document).bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.designCanvasMouseUp,this))},n.prototype.unWiredDesignerEvents=function(){$(document).unbind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.designCanvasMouseMove,this));$(document).unbind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.designCanvasMouseUp,this));$(document).unbind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.designCanvasMouseUp,this))},n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)&&this.targetTag.length>0},n.prototype.updatePanelSize=function(){this.isLoaded()&&this.designPanel.css("height",this.targetTag.height()+"px")},n.prototype.getItemWidth=function(n){return n.width()+parseFloat(n.css("border-left-width"))+parseFloat(n.css("border-right-width"))},n.prototype.getItemHeight=function(n){return n.height()+parseFloat(n.css("border-top-width"))+parseFloat(n.css("border-bottom-width"))},n.prototype.updateControlSize=function(n){if(n.attr("hasHeader")){var t=n.find(".e-dbrd-widget"),i=n.find(".e-dbrd-control-header").height(),r=n.height();t.css("height",r-i+"px")}},n.prototype.getSelectionBounds=function(n,t){return{x1:n.left,x2:n.left+this.getItemWidth(t),y1:n.top,y2:n.top+this.getItemHeight(t)}},n.prototype.getMousePosition=function(n){var t=n.pageX,i=n.pageY,r,u;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):n.originalEvent&&n.originalEvent.targetTouches&&n.originalEvent.targetTouches.length>0?(t=n.originalEvent.targetTouches[0].pageX,i=n.originalEvent.targetTouches[0].pageY):n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX,i=n.originalEvent.changedTouches[0].pageY),r=$(document).scrollLeft(),u=$(document).scrollTop(),{x:Math.round(t+r),y:Math.round(i+u)}},n.prototype.getOffsetPosition=function(n){var t=this.designCanvas.offset(),i=t;return ej.isNullOrUndefined(n)?{left:0,top:0}:{left:t.left+(n.left-t.left),top:t.top+(n.top-t.top)}},n.prototype.reset=function(){this.selectedReportItems=[];this.dbrdErrors=[];ej.DashboardUtil.destroyEjObjects(this.designCanvas.find(".e-js"))},n.prototype.logError=function(n){var t=this;n.Error={Message:n.Error.message,Stack:n.Error.stack};this.dbrdErrors.push(n);this.errorLoggerTimer&&(clearTimeout(this.errorLoggerTimer),this.errorLoggerTimer=null);this.errorLoggerTimer=setTimeout($.proxy(function(){ej.DashboardDesignerUtility.Serialization.syncScriptErrors();clearTimeout(t.errorLoggerTimer);t.errorLoggerTimer=null},this),1e3)},n.prototype.updateDefaultProperties=function(){this.propertyPanel.showProperty(!1);this.removeItemSelection();this.updateReportProperties(this.designPanel)},n.prototype.renderItem=function(n,t,i,r,u,f){var e=null,o=i.attr("id");switch(n){case"e-chart-bar":e=new ej.DashboardDesignerUtility.ChartItem;e.reportName=ejDashboardDesigner.getAvailableName("e-chart-bar");break;case"e-grid-item":e=new ej.DashboardDesignerUtility.GridItem;e.reportName=ejDashboardDesigner.getAvailableName("e-grid-item");break;case"e-pivotgrid-item":e=new ej.DashboardDesignerUtility.PivotGridItem;e.reportName=ejDashboardDesigner.getAvailableName("e-pivotgrid-item");break;case"e-combobox-item":e=new ej.DashboardDesignerUtility.ComboBoxItem;e.reportName=ejDashboardDesigner.getAvailableName("e-combobox-item");break;case"e-listbox-item":e=new ej.DashboardDesignerUtility.ListBoxItem;e.reportName=ejDashboardDesigner.getAvailableName("e-listbox-item");break;case"e-rangeslider-item":e=new ej.DashboardDesignerUtility.RangeSliderItem;e.reportName=ejDashboardDesigner.getAvailableName("e-rangeslider-item");break;case"e-datepicker-item":e=new ej.DashboardDesignerUtility.DatePickerItem;e.reportName=ejDashboardDesigner.getAvailableName("e-datepicker-item");break;case"e-bubblemap-item":e=new ej.DashboardDesignerUtility.BubbleMapItem;e.reportName=ejDashboardDesigner.getAvailableName("e-bubblemap-item");break;case"e-choroplethmap-item":e=new ej.DashboardDesignerUtility.ChoroplethMapItem;e.reportName=ejDashboardDesigner.getAvailableName("e-choroplethmap-item");break;case"e-treemap-item":e=new ej.DashboardDesignerUtility.TreeMapItem;e.reportName=ejDashboardDesigner.getAvailableName("e-treemap-item");break;case"e-card-item":e=new ej.DashboardDesignerUtility.CardItem;e.reportName=ejDashboardDesigner.getAvailableName("e-card-item");break;case"e-radialgauge-item":e=new ej.DashboardDesignerUtility.RadialGaugeItem;e.reportName=ejDashboardDesigner.getAvailableName("e-radialgauge-item")}ej.isNullOrUndefined(e)||(e.cellInfo=f,i=this.containerCreation(e,n,r,o),this.renderControls(n,r,t,e,i))},n.prototype.renderControls=function(n,t,i,r,u){switch(n){case"e-chart-bar":r.renderReportItem(t,i,u);break;case"e-grid-item":r.renderGridItem(t,i,u);break;case"e-pivotgrid-item":r.renderGridItem(t,i,u);break;case"e-combobox-item":r.renderComboBoxItem(t,i,u);break;case"e-listbox-item":r.renderListBoxItem(t,i,u);break;case"e-rangeslider-item":r.renderRangeSliderItem(t,i,u);break;case"e-datepicker-item":r.renderDatePickerItem(t,i,u);break;case"e-bubblemap-item":r.renderBubbleMapItem(t,i,u);break;case"e-choroplethmap-item":r.renderChoroplethMapItem(t,i,u);break;case"e-treemap-item":r.renderTreeMapItem(t,i,u);break;case"e-card-item":r.renderCardItem(t,i,u);break;case"e-radialgauge-item":r.renderRadialGaugeItem(t,i,u)}},n.prototype.containerCreation=function(n,t,i,r){var f=$("#"+r),u;return n.controlContainer=ej.buildTag("div.e-reportitem e-dbrd-control-container","",{left:i.left,top:i.top,width:i.width,height:i.height,position:"absolute","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"},{id:n.reportName,Name:n.reportName,isDataEnabled:n.isDataEnabled,hasHeader:n.isHeaderVisible,type:n.controlType}),n.controlContainer.addClass(t),f.append(n.controlContainer),$("#"+n.reportName).ejWaitingPopup({showOnInit:!1,cssClass:this.designId+"_designer_waiting_popup e-designer-loader"}),u=n.isHeaderVisible?{controlTitle:n.reportName,controlId:n.reportName,isControlMenuVisible:n.isControlMenuVisible,isMaximizeEnable:n.isMaximizeEnable}:{},Object.keys(u).length>0&&this.getControlHeader(u,n),this.createContentContainer(n),f},n.prototype.createContentContainer=function(n){var t=n.isHeaderVisible?"calc(100% - "+n.controlHeader.outerHeight(!0)+"px)":"100%";n.contentContainer=ej.buildTag("div.e-dbrd-content-container e-dashboardviewer","",{width:"100%",height:t,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:n.isHeaderVisible?"0px 3px 3px 3px":"3px"},{});n.controlContainer.append(n.contentContainer)},n.prototype.canRemove=function(){return this.designCanvas.find(".e-selected-item").length>0},n.prototype.removeItem=function(){ejDashboardDesigner.editManager.setMergeAction(!0);var n=this.designCanvas.find(".e-selected-item");n.each(function(n,t){var i=ej.DashboardUtil.getReportItem($(t));ej.isNullOrUndefined(i)||i.dispose()});ejDashboardDesigner.editManager.setMergeAction(!1);this.updateSelectedItems();this.updateRptToolbarActions();ej.DashboardDesignerUtility.Serialization.notifyChange()},n.prototype.canCopy=function(){return this.designCanvas.find(".e-selected-item").length>0},n.prototype.canCut=function(){return this.designCanvas.find(".e-selected-item").length>0},n.prototype.canPaste=function(){return!1},n.prototype.copyItem=function(){},n.prototype.cutItem=function(){},n.prototype.pasteItem=function(){},n.prototype.renderReport=function(n){this.rdlParser=n},n.prototype.updateReportDef=function(){},n.prototype.getReportItems=function(n){var t=[],i;return n.length>0&&(t=[],i=n.length),t},n.prototype.renderReportItem=function(n,t){var i=null,r,u,f,e,o,s,h,c,l;switch(n.__type){case"Syncfusion.RDL.DOM.TextBox":r=new ej.DashboardDesignerUtility.TextBoxItem;r.openReportItem(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Line":u=new ej.DashboardDesignerUtility.LineItem;u.renderLineReportElement(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Image":f=new ej.DashboardDesignerUtility.ImageItem;f.renderImageReportElement(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Rectangle":e=new ej.DashboardDesignerUtility.RectangleItem;i=e.renderRectangleReportElement(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Chart":o=new ej.DashboardDesignerUtility.ChartItem;o.openReportItem(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Tablix":n.IsGrid?(s=new ej.DashboardDesignerUtility.GridItem,s.renderGridReportElement(n,t.attr("id"))):n.IsPivotGrid&&(h=new ej.DashboardDesignerUtility.PivotGridItem,h.renderGridReportElement(n,t.attr("id")));break;case"Syncfusion.RDL.DOM.SubReport":c=new ej.DashboardDesignerUtility.SubReportItem;c.renderSubReportItemElement(n,t.attr("id"));break;case"Syncfusion.RDL.DOM.Card":l=new ej.DashboardDesignerUtility.CardItem;l.renderCardReportElement(n,t.attr("id"))}return i},n.prototype.invokePropertyPanel=function(){var n=this;this.propertyTimeOut&&clearTimeout(this.propertyTimeOut);this.propertyTimeOut=setTimeout(function(){n.setPropertyPanelItem()},500)},n.prototype.setPropertyPanelItem=function(){this.selectedReportItems.length>1?this.propertyPanel.showProperty(!1):this.selectedReportItems.length>0?this.propertyPanel.isVisible()?this.propertyPanel.setPropertyElement(this.selectedReportItems):this.propertyPanel.targetItems=this.selectedReportItems:this.selectedItems.length>0&&this.updateReportProperties(this.designPanel)},n.prototype.showLoadingIndicator=function(){var n=ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0];n.ejWaitingPopup("show")},n.prototype.hideLoadingIndicator=function(){var n=ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0];n.ejWaitingPopup("hide")},n.prototype.updateReportProperties=function(n){var i=this.getDesignProperty("Report"),t;this.selectedItems=[n];t=ejDashboardDesigner.getInstance("DataConfigurationPanel").selectedItem;ej.isNullOrUndefined(t)||t.GroupName!=="Properties"||this.propertyPanel.isVisible()&&(this.propertyPanel.targetDesignArea="Report",this.propertyPanel.showDesignAreaProperty(i,"Report"))},n.prototype.updateRptToolbarActions=function(){var n=this.selectedReportItems&&this.selectedReportItems.length>0;this.reportDesigner.rptToolbar.showPaste(this.canPaste());this.reportDesigner.rptToolbar.showCopy(n);this.reportDesigner.rptToolbar.showCut(n);this.reportDesigner.rptToolbar.showDelete(n)},n.prototype.updateSelectedItems=function(){this.selectedReportItems=[]},n.prototype.getControlHeader=function(n,t){var i,r,u;t.controlHeader=ej.buildTag("div.e-dbrd-control-header","",{"data-widget-id":n.controlId});t.controlContainer.prepend(t.controlHeader);i=this.getControlHeaderIcons(n);r="0px";ej.isNullOrUndefined(i)||(t.controlHeader.append(i),r=i.outerWidth(!0)+15+"px");u=ej.buildTag("div.e-dbrd-control-title","",{width:"calc(100% - "+r+")"});u.append(n.controlTitle);t.controlHeader.append(u)},n.prototype.getControlHeaderIcons=function(n){var t=null,u,i,r;return(n.isMaximizeEnable||n.isControlMenuVisible)&&(t=ej.buildTag("div.e-dbrd-controlIcon-container"),u=t.css("width"),n.isMaximizeEnable&&(i=ej.buildTag("div.e-dbrd-control-maximize-icon"),t.append(i)),n.isControlMenuVisible&&(r=ej.buildTag("div.e-dbrd-control-menu-icon"),t.append(r))),t},n.prototype.getDesignProperty=function(){var n=null;return n="Dashboard",{Header:ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.Name,Type:n,Description:ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.Description,Comment:{name:"EnableComment",displayName:"Enable Comment",value:ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.EnableComments,itemType:"bool"}}},n.prototype.updatePropertyChange=function(n,t,i,r){switch(n){case"Name":ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.Name=r;break;case"Description":ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.Description=r;break;case"Comment":ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson.EnableComments=r}},n}();window.ej.createObject("ej.DashboardDesignerUtility.DesignPanel",InternalDesignPanel,window);InternalDimensionFilter=function(){function n(){this.id=null;this.waterMarkText="Search";this.filterConditionState="Include";this.isSelectAll=!1;this.isListItemChange=!1;this.filterContainer=null;this.listContainer=null;this.conditionContainer=null;this.rankContainer=null;this.listDropDown=null;this.listDropDownTextDiv=null;this.listPopUp=null;this.listBoxTimeOut=null;this.ejListBoxObj=null;this.ejCheckBoxAllObj=null;this.conditionCheckBox=null;this.conditionColumnDropDown=null;this.conditionSummaryDropDown=null;this.conditionTypeDropDown=null;this.leftTextBox=null;this.rightTextBox=null;this.labelDiv=null;this.rightTextBoxDiv=null;this.ModifiedConditionalFilter=!1;this.IsConditionFilteringApplied=!1;this.ColumnName=null;this.SummaryType=null;this.ConditionSummaryType="Equals";this.LeftValue=0;this.RightValue=0;this.rankCheckBox=null;this.rankModeDropDown=null;this.rankCountUpDown=null;this.rankColumnDropDown=null;this.dateTimeCheckBox=null;this.rankFormatDropDown=null;this.ModifiedTopNFilter=!1;this.IsTopNFilteringApplied=!1;this.Mode="Top";this.NoOfRecords=5;this.RankColumnName=null;this.IsBasedOnDateAndTimeField=!1;this.DateFormat="Date Time";this.RankSummaryType=null;this.dataFieldItems=[];this.measuresList=[];this.dimensionsList=[];this.dateTimeFormats=[];this.dimensionFormats=[];this.measureFormats=[];this.conditionTypes=[];this.modeTypes=[];this.listBoxDataSource=[];this.targetInstance=null;this.targetMethod="";this.dataSetName="";this.filterInfo=null;this.selectedColumnName=null;this.ejFilterDialog=null;this.searchTextBox=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.dateTimeFormats=["Date Time","Date","Year","Quarter","Month","Month Year","Week Year","Quarter Year","Day Month Year","Month Day Year","Day of Week","Week of Year","Day","Hours","Minutes","Seconds","Time"];this.dimensionFormats=["Count","DistinctCount"];this.measureFormats=["Sum","Count","DistinctCount","Maximum","Minimum","Average","StandardDeviation","Variance","None"];this.conditionTypes=["Equals","Does Not Equal","Less Than","Greater Than","Less Than Or Equal To","Greater Than Or Equal To","Between","Not Between"];this.modeTypes=["Top","Bottom"];this.renderDimensionFilterWindow()}return Object.defineProperty(n,"DimensionFilter",{get:function(){return(this.dimensionFilter===null||this.dimensionFilter===undefined)&&(this.dimensionFilter=new ej.DashboardDesignerUtility.DimensionFilter),this.dimensionFilter},enumerable:!0,configurable:!0}),n.prototype.renderDimensionFilterWindow=function(){this.filterContainer=ej.buildTag("div.e-userselect","",{width:"450px"},{id:this.id+"_dimension_filter"});this.renderListContainer();this.renderConditionContainer();this.renderRankContainer();this.filterContainer.ejDialog({width:"auto",height:"auto",minWidth:450,minHeight:200,maxWidth:450,title:"Filters",zIndex:1e4,enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"e-designer-dialog e-flat-mode",enableModal:!0});this.renderFooter();this.renderPopUpContainer();this.filterContainer.append(this.listPopUp);this.ejFilterDialog=this.filterContainer.data("ejDialog")},n.prototype.renderListContainer=function(){var n,f;this.listContainer=ej.buildTag("div","",{width:"100%",height:"35px","border-bottom":"1px solid #dddddd",padding:"10px 0px"},{id:this.id+"_dimension_filter_list"});var t=ej.buildTag("table","",{width:"100%",height:"100%",padding:"0px 15px"},{}),i=ej.buildTag("tr","",{},{}),r=ej.buildTag("td","",{width:"40%"},{}),u=ej.buildTag("td","",{width:"60%"},{id:this.id+"_dimension_filter_list_dropDownCell"}),e=ej.buildTag("span","List",{});this.listDropDown=ej.buildTag("div","",{border:"1px solid #cecece","padding-bottom":"1px",cursor:"pointer"},{});this.listContainer.append(t);t.append(i);i.append(r).append(u);r.append(e);u.append(this.listDropDown);this.filterContainer.append(this.listContainer);this.listDropDownTextDiv=ej.buildTag("div","",{"border-style":"none",width:"204px",height:"100%","padding-top":"2px","padding-left":"5px",float:"left","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},{});n=ej.buildTag("div","",{display:"inline-block",width:"33px"},{});f=ej.buildTag("span.e-designer-ejwidgets-updown e-icon e-arrow-sans-down","",{"font-size":"16px",padding:"3px 10px"});n.append(f);this.listDropDown.append(this.listDropDownTextDiv).append(n);this.listDropDownTextDiv.text("All");this.listDropDown.bind("click",$.proxy(this.showDropDownList,this))},n.prototype.renderConditionContainer=function(){var n,t,p;this.conditionContainer=ej.buildTag("div","",{width:"100%",height:"155px",padding:"10px 0px"},{id:this.id+"_dimension_filter_condition"});n=ej.buildTag("table","",{width:"100%",padding:"0px 15px"},{});t=ej.buildTag("table","",{width:"100%",padding:"0px 15px"},{});this.conditionContainer.append(n).append(t);var i=ej.buildTag("tr","",{},{}),r=ej.buildTag("tr","",{},{}),u=ej.buildTag("tr","",{},{}),f=ej.buildTag("td","",{padding:"5px 0px"},{});this.conditionCheckBox=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_dimension_filter_condition_checkBox"});var w=ej.buildTag("label","Condition",{"margin-left":"10px"},{"for":this.id+"_dimension_filter_condition_checkBox"}),e=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),o=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),b=ej.buildTag("span","Column",{});this.conditionColumnDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_condition_columndropDown"});var s=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),h=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),k=ej.buildTag("span","Summary",{});this.conditionSummaryDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_condition_summarydropDown"});n.append(i).append(r).append(u);i.append(f);f.append(this.conditionCheckBox).append(w);r.append(e).append(o);e.append(b);o.append(this.conditionColumnDropDown);u.append(s).append(h);s.append(k);h.append(this.conditionSummaryDropDown);var c=ej.buildTag("tr","",{},{}),l=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{colspan:"3"}),a=ej.buildTag("td","",{width:"25%",padding:"5px 0px"},{colspan:"1"}),v=ej.buildTag("td","",{width:"10%",padding:"5px 0px"},{colspan:"1"}),y=ej.buildTag("td","",{width:"25%",padding:"5px 0px"},{colspan:"1"});this.conditionTypeDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_conditionType_dropDown"});this.leftTextBox=ej.buildTag("input","",{width:"100%"},{type:"text"});this.labelDiv=ej.buildTag("div","",{width:"100%",padding:"0px 5px",display:"none"});p=ej.buildTag("editLabel","and",{width:"100%"},{type:"label"});this.rightTextBoxDiv=ej.buildTag("div","",{width:"100%",display:"none"});this.rightTextBox=ej.buildTag("input","",{width:"100%"},{type:"text"});t.append(c);c.append(l).append(a).append(v).append(y);l.append(this.conditionTypeDropDown);a.append(this.leftTextBox);this.labelDiv.append(p);v.append(this.labelDiv);this.rightTextBoxDiv.append(this.rightTextBox);y.append(this.rightTextBoxDiv);this.filterContainer.append(this.conditionContainer);this.conditionCheckBox.ejCheckBox({width:"100%",change:$.proxy(this.updateConditionCheck,this)});this.conditionColumnDropDown.ejDropDownList({width:"100%",fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateConditionColumn,this)});this.conditionSummaryDropDown.ejDropDownList({width:"100%",fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateConditionSummary,this)});this.conditionTypeDropDown.ejDropDownList({width:"85%",dataSource:this.conditionTypes,fields:{text:"text"},enabled:!0,showRoundedCorner:!0,selectedIndex:0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateConditionValue,this)});this.leftTextBox.ejNumericTextbox({showSpinButton:!1,decimalPlaces:2,value:0,showRoundedCorner:!0,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",change:$.proxy(this.updateLeftTextBoxValue,this)});this.rightTextBox.ejNumericTextbox({showSpinButton:!1,decimalPlaces:2,value:0,showRoundedCorner:!0,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",change:$.proxy(this.updateRightTextBoxValue,this)})},n.prototype.renderRankContainer=function(){var n,p,t;this.rankContainer=ej.buildTag("div","",{width:"100%",height:"225px",padding:"10px 0px"},{id:this.id+"_dimension_filter_rank"});n=ej.buildTag("table","",{width:"100%",padding:"0px 15px"},{});this.rankContainer.append(n);var i=ej.buildTag("tr","",{},{}),r=ej.buildTag("tr","",{},{}),u=ej.buildTag("tr","",{},{}),f=ej.buildTag("tr","",{},{}),e=ej.buildTag("tr","",{},{id:this.id+"_dimension_filter_rank_date_time_row"}),o=ej.buildTag("tr","",{},{id:this.id+"_dimension_filter_rank_summary_row"}),s=ej.buildTag("td","",{padding:"5px 0px"},{});this.rankCheckBox=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_dimension_filter_rank_checkBox"});var k=ej.buildTag("label","Rank",{"margin-left":"10px"},{"for":this.id+"_dimension_filter_rank_checkBox"}),h=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),c=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),d=ej.buildTag("span","Mode",{});this.rankModeDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_rankMode_dropDown"});var l=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),a=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),g=ej.buildTag("span","Count",{});this.rankCountUpDown=ej.buildTag("input","",{},{type:"text"});var v=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),y=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),nt=ej.buildTag("span","Column",{});this.rankColumnDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_rankColumn_dropDown"});p=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{});t=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{});this.dateTimeCheckBox=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_dimension_filter_rank_datetime_checkBox"});var tt=ej.buildTag("label","Based On Date and Time",{"margin-left":"10px"},{"for":this.id+"_dimension_filter_rank_datetime_checkBox"}),w=ej.buildTag("td","",{width:"40%",padding:"5px 0px"},{}),b=ej.buildTag("td","",{width:"60%",padding:"5px 0px"},{}),it=ej.buildTag("span.e-summary_text","Summary",{});this.rankFormatDropDown=ej.buildTag("input.e-field e-ejinputtext","",{},{type:"text",id:this.id+"_dimension_filter_rankFormat_dropDown"});n.append(i).append(r).append(u).append(f).append(e).append(o);i.append(s);s.append(this.rankCheckBox).append(k);r.append(h).append(c);h.append(d);c.append(this.rankModeDropDown);u.append(l).append(a);l.append(g);a.append(this.rankCountUpDown);f.append(v).append(y);v.append(nt);y.append(this.rankColumnDropDown);e.append(p).append(t);t.append(this.dateTimeCheckBox).append(tt);o.append(w).append(b);w.append(it);b.append(this.rankFormatDropDown);this.filterContainer.append(this.rankContainer);this.rankCheckBox.ejCheckBox({width:"100%",change:$.proxy(this.updateRankCheck,this)});this.rankModeDropDown.ejDropDownList({width:"100%",dataSource:this.modeTypes,fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateRankMode,this)});this.rankCountUpDown.ejNumericTextbox({value:5,minValue:1,maxValue:1e10,showRoundedCorner:!0,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",width:"80px",change:$.proxy(this.updateRankCount,this)});this.rankColumnDropDown.ejDropDownList({width:"100%",fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateRankColumn,this)});this.dateTimeCheckBox.ejCheckBox({width:"100%",change:$.proxy(this.updateDateTimeValidation,this)});this.rankFormatDropDown.ejDropDownList({width:"100%",fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.updateRankSummary,this)})},n.prototype.renderFooter=function(){var n=ej.buildTag("input","",{float:"right"},{id:this.id+"_dimension_filter_ok_btn"}),t=ej.buildTag("input","",{float:"right"},{id:this.id+"_dimension_filter_cancel_btn"}),i;n.ejButton({showRoundedCorner:!1,size:"small",cssClass:"e-designer-okbtn",text:"Ok",click:$.proxy(this.saveFilters,this)});t.ejButton({showRoundedCorner:!1,size:"small",cssClass:"e-designer-cancelbtn",text:"Cancel",click:$.proxy(this.closeFliterDialog,this)});i=$("#"+this.id+"_dimension_filter_foot");i.append(t).append(n)},n.prototype.renderPopUpContainer=function(){var i,n;this.listPopUp=ej.buildTag("div","",{height:"270px",position:"absolute",border:"1px solid #dddddd","background-color":"white","border-radius":"3px",display:"none","z-index":"1010"},{id:this.id+"_dimension_filter_list_popup"});var r=ej.buildTag("table","",{width:"100%",padding:"5px 10px"},{}),u=ej.buildTag("tr","",{},{}),f=ej.buildTag("td","",{width:"50%"},{}),e=ej.buildTag("td","",{width:"50%"},{}),t=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_dimension_filter_Check_Box"}),w=ej.buildTag("label","CheckAll",{"margin-left":"10px"},{"for":this.id+"_dimension_filter_Check_Box"}),b=this.renderSearchPanel();e.append(b);r.append(u);u.append(f).append(e);f.append(t).append(w);i=ej.buildTag("div","",{height:"150px","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"1010",padding:"5px 10px"},{});n=ej.buildTag("ul","",{},{id:this.id+"_dimension_filter_list_Box"});i.append(n);var o=ej.buildTag("table","",{width:"100%",padding:"5px 10px","border-bottom":"1px solid #dddddd"},{}),s=ej.buildTag("tr","",{},{}),h=ej.buildTag("td","",{width:"50%"},{}),c=ej.buildTag("td","",{width:"50%"},{}),l=ej.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:this.id+"_dimension_filter_list_Box_radio1"}),a=ej.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:this.id+"_dimension_filter_list_Box_radio2"});o.append(s);s.append(h).append(c);h.append(l);c.append(a);var v=ej.buildTag("div.e-footerbar.e-dialog.e-js","",{width:"100%",height:"45px",padding:"10px 5px"},{}),y=ej.buildTag("input","",{float:"right"},{id:this.id+"_dimension_filter_list_popup_ok_btn"}),p=ej.buildTag("input","",{float:"right"},{id:this.id+"_dimension_filter_list_popup_cancel_btn"});v.append(p).append(y);this.listPopUp.append(r).append(i).append(o).append(v);this.filterContainer.append(this.listPopUp);y.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",text:"Apply",click:$.proxy(this.saveListCondition,this)});p.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",text:"Cancel",click:$.proxy(this.closeListCondition,this)});t.ejCheckBox({width:"100%",change:$.proxy(this.updateCheckAll,this)});n.ejListBox({dataSource:this.listBoxDataSource,fields:{value:"text"},showCheckbox:!0,width:"100%",height:"100%",checkChange:$.proxy(this.updateListItemCheckChange,this)});this.ejCheckBoxAllObj=t.data("ejCheckBox");this.ejListBoxObj=n.data("ejListBox");l.ejRadioButton({checked:!0,text:"Include",size:"medium",cssClass:"e-designer-radio",change:$.proxy(this.updateListCondition,this)});a.ejRadioButton({text:"Exclude",size:"medium",cssClass:"e-designer-radio",change:$.proxy(this.updateListCondition,this)})},n.prototype.renderSearchPanel=function(){var n=ej.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:this.id+"_dimension_filter_list_popup_searchPanel"}),t;return this.searchTextBox=ej.buildTag("input.e-reportdesigner-designer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray"},{id:this.id+"_dimension_filter_list_popup_searchBox"}),this.searchTextBox.val(this.waterMarkText),t=ej.buildTag("div","",{width:"24px",height:"15px","margin-top":"-16px",float:"right",color:"lightgray",cursor:"pointer"},{id:this.id+"_dimension_filter_list_popup_searchIcon","class":"e-icon e-search"}),this.searchTextBox.bind("focus",$.proxy(this.onSearchFocus,this)),n.append(this.searchTextBox),n.append(t),n},n.prototype.showDropDownList=function(){var i=this.listPopUp.css("display")==="block",n=this.filterContainer.find("#"+this.id+"_dimension_filter_list_dropDownCell"),t=n.position();this.listPopUp.css({display:i?"none":"block",left:t.left,top:t.top+n.height()-2,width:n.width()});this.updateDropDownIcon();this.ejListBoxObj.model.dataSource=this.listBoxDataSource;this.ejListBoxObj.model.fields={value:"text"};this.ejListBoxObj._refreshScroller()},n.prototype.updateDropDownIcon=function(){this.listPopUp.css("display")==="block"?this.listDropDown.find(".e-designer-ejwidgets-updown").removeClass("e-arrow-sans-down").addClass("e-arrow-sans-up"):this.listDropDown.find(".e-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down")},n.prototype.onSearchText=function(n){var i,t,r;n.keyCode!==13&&(i=this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchBox"),t=i.val(),t.length>0?(this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchIcon").addClass("e-close_01").removeClass("e-search"),r=this.filterItems(t),this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box").ejListBox("hideAllItems"),this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box").ejListBox("showItemsByIndices",r)):this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box").ejListBox("showAllItems"))},n.prototype.onSearchBlur=function(){var n=this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchBox"),t=n.val();n.removeClass("e-focus");t.length===0&&(this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchIcon").addClass("e-search").removeClass("e-close_01"),n.val(this.waterMarkText),this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box").ejListBox("showAllItems"),n.css("color","lightgrey"))},n.prototype.onSearchFocus=function(){var n=this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchBox");n.addClass("e-focus");n.val()===this.waterMarkText&&n.val("");n.css("color","grey");this.searchTextBox.bind("keyup",$.proxy(this.onSearchText,this));this.searchTextBox.bind("blur",$.proxy(this.onSearchBlur,this));this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchIcon").bind("click",$.proxy(this.onSearchCloseClick,this))},n.prototype.onSearchCloseClick=function(){var n=this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchBox");n.removeClass("e-focus");n.val(this.waterMarkText);n.css("color","lightgrey");this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box").ejListBox("showAllItems");this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchIcon").addClass("e-search").removeClass("e-close_01");this.searchTextBox.unbind("keyup",$.proxy(this.onSearchText,this));this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_searchIcon").unbind("click",$.proxy(this.onSearchCloseClick,this));this.searchTextBox.unbind("blur",$.proxy(this.onSearchBlur,this))},n.prototype.filterItems=function(n){for(var i=[],r=this.listBoxDataSource,t=0;t<r.length;t++)(n===""||r[t].text.toLowerCase().startsWith(n))&&i.push(t);return i},n.prototype.updateCheckAll=function(n){this.isListItemChange?this.ejListBoxObj.getCheckedItems().length===this.ejListBoxObj.listitems.length&&this.filterConditionState==="Exclude"?this.setItemEnable(!1):this.setItemEnable(!0):(n.isChecked?(this.ejListBoxObj.checkAll(),this.setItemEnable(this.filterConditionState==="Include")):(this.ejListBoxObj.uncheckAll(),this.setItemEnable(!1)),this.listPopUp.find("#"+this.id+"_dimension_filter_Check_Box").ejCheckBox({enableTriState:!1,checkState:"check"}))},n.prototype.setItemEnable=function(n){var t=this.listPopUp.find("#"+this.id+"_dimension_filter_list_popup_ok_btn");n?(t.ejButton({enabled:!0}),t.css("opacity","1")):(t.ejButton({enabled:!1}),t.css("opacity","0.3"))},n.prototype.updateListItemCheckChange=function(){this.isListItemChange=!0;this.ejListBoxObj.getCheckedItems().length<1?this.listPopUp.find("#"+this.id+"_dimension_filter_Check_Box").ejCheckBox({enableTriState:!1,checkState:"check",checked:!1}):this.ejListBoxObj.getCheckedItems().length===this.ejListBoxObj.listitems.length?(this.setItemEnable(this.filterConditionState==="Include"),this.listPopUp.find("#"+this.id+"_dimension_filter_Check_Box").ejCheckBox({enableTriState:!1,checkState:"check",checked:!0})):this.listPopUp.find("#"+this.id+"_dimension_filter_Check_Box").ejCheckBox({enableTriState:!0,checkState:"indeterminate"});this.isListItemChange=!1},n.prototype.updateListCondition=function(n){this.filterConditionState=n.model.text;var t=this.ejListBoxObj.getCheckedItems();t.length<1||t.length===this.ejListBoxObj.listitems.length&&this.filterConditionState==="Exclude"?this.setItemEnable(!1):this.setItemEnable(!0)},n.prototype.saveListCondition=function(){this.listPopUp.css("display","none");this.updateDropDownIcon();this.ejListBoxObj.getCheckedItems().length===this.ejListBoxObj.listitems.length?(this.isSelectAll=!0,this.listDropDownTextDiv.text("All")):(this.isSelectAll=!1,this.listDropDownTextDiv.text(this.getDropDownText()))},n.prototype.closeListCondition=function(){this.listPopUp.css("display","none");this.updateDropDownIcon()},n.prototype.getDropDownText=function(){for(var t=[],i=this.ejListBoxObj.getCheckedItems(),n=0;n<i.length;n++)t.push(i[n].text);return t.toString()},n.prototype.updateConditionCheck=function(n){this.updateConditionFieldItemState(n.isChecked);this.ModifiedConditionalFilter=!0;this.IsConditionFilteringApplied=n.isChecked},n.prototype.updateConditionColumn=function(n){this.ModifiedConditionalFilter=!0;this.ColumnName=n.value;var i=this.getItemType(n.value),t=i==="Dimensions"?this.dimensionFormats:this.measureFormats;this.conditionSummaryDropDown.data("ejDropDownList").setModel({dataSource:t});this.conditionSummaryDropDown.data("ejDropDownList").selectItemByText(t[0])},n.prototype.updateConditionSummary=function(n){this.ModifiedConditionalFilter=!0;this.SummaryType=n.value},n.prototype.updateConditionValue=function(n){var t=n.value;t.toLowerCase()==="between"||t.toLowerCase()==="not between"?this.showConditionElement(!0):this.showConditionElement(!1);this.ModifiedConditionalFilter=!0;this.ConditionSummaryType=t},n.prototype.showConditionElement=function(n){this.labelDiv.css("display",n?"block":"none");this.rightTextBoxDiv.css("display",n?"block":"none")},n.prototype.updateLeftTextBoxValue=function(n){this.ModifiedConditionalFilter=!0;this.LeftValue=n.value},n.prototype.updateRightTextBoxValue=function(n){this.ModifiedConditionalFilter=!0;this.RightValue=n.value},n.prototype.updateConditionFieldItemState=function(n){n?(this.conditionColumnDropDown.data("ejDropDownList").enable(),this.conditionSummaryDropDown.data("ejDropDownList").enable(),this.conditionTypeDropDown.data("ejDropDownList").enable(),this.leftTextBox.data("ejNumericTextbox").enable(),this.rightTextBox.data("ejNumericTextbox").enable()):(this.conditionColumnDropDown.data("ejDropDownList").disable(),this.conditionSummaryDropDown.data("ejDropDownList").disable(),this.conditionTypeDropDown.data("ejDropDownList").disable(),this.leftTextBox.data("ejNumericTextbox").disable(),this.rightTextBox.data("ejNumericTextbox").disable())},n.prototype.updateRankCheck=function(n){this.updateRankFieldItemState(n.isChecked);this.ModifiedTopNFilter=!0;this.IsTopNFilteringApplied=n.isChecked},n.prototype.updateRankMode=function(n){this.ModifiedTopNFilter=!0;this.Mode=n.value},n.prototype.updateRankCount=function(n){this.ModifiedTopNFilter=!0;this.NoOfRecords=n.value},n.prototype.updateRankColumn=function(n){this.ModifiedTopNFilter=!0;this.RankColumnName=n.value;var i=this.isDateField(n.value),r=this.getItemType(n.value),t=[];i?(t=this.IsBasedOnDateAndTimeField?this.dateTimeFormats:this.dimensionFormats,this.rankContainer.find("#"+this.id+"_dimension_filter_rank_date_time_row").css("display",""),this.rankContainer.find("#"+this.id+"_dimension_filter_rank_summary_row").find(".e-summary_text").text(this.filterInfo.TopNFilterInfo.IsBasedOnDateAndTimeField?"Format":"Summary")):(t=r==="Dimensions"?this.dimensionFormats:this.measureFormats,this.rankContainer.find("#"+this.id+"_dimension_filter_rank_date_time_row").css("display","none"),this.rankContainer.find("#"+this.id+"_dimension_filter_rank_summary_row").find(".e-summary_text").text("Summary"));this.rankFormatDropDown.data("ejDropDownList").setModel({dataSource:t});this.rankFormatDropDown.data("ejDropDownList").selectItemByText(t[0])},n.prototype.updateDateTimeValidation=function(n){var t=this.rankContainer.find("#"+this.id+"_dimension_filter_rank_summary_row").find(".e-summary_text");this.ModifiedTopNFilter=!0;this.IsBasedOnDateAndTimeField=n.isChecked;n.isChecked?(t.text("Format"),this.rankFormatDropDown.data("ejDropDownList").setModel({dataSource:this.dateTimeFormats}),this.rankFormatDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.TopNFilterInfo.DateFormat)):(t.text("Summary"),this.rankFormatDropDown.data("ejDropDownList").setModel({dataSource:this.dimensionFormats}),this.rankFormatDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.TopNFilterInfo.SummaryType))},n.prototype.updateRankSummary=function(n){this.ModifiedTopNFilter=!0;this.IsBasedOnDateAndTimeField?this.DateFormat=n.value:this.RankSummaryType=n.value},n.prototype.updateRankFieldItemState=function(n){n?(this.rankModeDropDown.data("ejDropDownList").enable(),this.rankCountUpDown.data("ejNumericTextbox").enable(),this.rankColumnDropDown.data("ejDropDownList").enable(),this.dateTimeCheckBox.data("ejCheckBox").enable(),this.rankFormatDropDown.data("ejDropDownList").enable()):(this.rankModeDropDown.data("ejDropDownList").disable(),this.rankCountUpDown.data("ejNumericTextbox").disable(),this.rankColumnDropDown.data("ejDropDownList").disable(),this.dateTimeCheckBox.data("ejCheckBox").disable(),this.rankFormatDropDown.data("ejDropDownList").disable())},n.prototype.openDimensionFilterWindow=function(n,t,i,r,u,f){this.ejFilterDialog.open();this.resetFilter();this.targetInstance=n;this.targetMethod=t;this.dataSetName=i;this.filterInfo=u;this.selectedColumnName=f;this.listBoxDataSource=this.generateListDataSource(r);this.populateFilterValues()},n.prototype.resetFilter=function(){this.filterInfo={IsAllowFilteringApplied:!1,IsConditionFilteringApplied:!1,IsTopNFilteringApplied:!1,AllowFilterInfo:{FilterCondition:"",FilteredValues:[],IsSelectedAll:!0},ConditionFilterInfo:{ColumnName:"",SummaryType:"",ConditionSummaryType:"",Values:[]},TopNFilterInfo:{Mode:"",NoOfRecords:"",ColumnName:"",SummaryType:"",IsBasedOnDateAndTimeField:!1,DateFormat:""}};this.dataFieldItems=[];this.measuresList=[];this.dimensionsList=[];this.targetInstance=null;this.targetMethod=null},n.prototype.populateFilterValues=function(){this.updateDatasetFields();this.populateListPopUp();this.populateConditionFields();this.populateRankFields();this.updateConditionFieldItemState(this.filterInfo.IsConditionFilteringApplied);this.updateRankFieldItemState(this.filterInfo.IsTopNFilteringApplied)},n.prototype.updateDatasetFields=function(){for(var i,r,t=ejDashboardDesigner.getInstance("DataSet").datasets,n=0;n<t.length;n++)if(t[n].Name===this.dataSetName)for(i=0;i<t[n].Fields.length;i++)this.dataFieldItems.push(t[n].Fields[i].Name),r=ej.DashboardUtil.getDatasetTypeIcon(t[n].Fields[i].TypeName),r==="e-reportdesigner-dataset-number"?this.measuresList.push({Name:t[n].Fields[i].Name,DatasetIcon:r,DataField:t[n].Fields[i].DataField}):this.dimensionsList.push({Name:t[n].Fields[i].Name,DatasetIcon:r,DataField:t[n].Fields[i].DataField})},n.prototype.getItemType=function(n){for(var i="",t=0;t<this.measuresList.length;t++)this.measuresList[t].Name===n&&(i="Measures");for(t=0;t<this.dimensionsList.length;t++)this.dimensionsList[t].Name===n&&(i="Dimensions");return i},n.prototype.isDateField=function(n){for(var i=!1,t=0;t<this.dimensionsList.length;t++)this.dimensionsList[t].Name===n&&this.dimensionsList[t].DatasetIcon==="e-reportdesigner-dataset-datetime"&&(i=!0);return i},n.prototype.generateListDataSource=function(n){for(var i=[],t=0;t<n.length;t++)i.push({id:"item"+t,text:n[t]});return i},n.prototype.populateListPopUp=function(){var n=this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box");n.ejListBox({dataSource:this.listBoxDataSource});this.filterInfo.AllowFilterInfo.FilterCondition==="Include"?this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box_radio1").data("ejRadioButton").setModel({checked:!0}):this.listPopUp.find("#"+this.id+"_dimension_filter_list_Box_radio2").data("ejRadioButton").setModel({checked:!0});this.filterInfo.AllowFilterInfo.IsSelectedAll?this.listPopUp.find("#"+this.id+"_dimension_filter_Check_Box").data("ejCheckBox").setModel({checked:!0,enableTriState:!1}):n.ejListBox("checkItemsByIndices",this.getFilteredValues(this.filterInfo.AllowFilterInfo.FilteredValues))},n.prototype.getFilteredValues=function(n){for(var i=[],r=this.ejListBoxObj.listitems,t=0;t<r.length;t++)n.indexOf(r[t].text)!==-1&&i.push(t);return i.toString()},n.prototype.populateConditionFields=function(){var t,i,n;this.conditionCheckBox.data("ejCheckBox").setModel({checked:this.filterInfo.IsConditionFilteringApplied});this.conditionColumnDropDown.data("ejDropDownList").setModel({dataSource:this.dataFieldItems});this.conditionColumnDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.ConditionFilterInfo.ColumnName);t=this.getItemType(this.filterInfo.ConditionFilterInfo.ColumnName);i=t==="Dimensions"?this.dimensionFormats:this.measureFormats;this.conditionSummaryDropDown.data("ejDropDownList").setModel({dataSource:i});this.conditionSummaryDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.ConditionFilterInfo.SummaryType);this.conditionTypeDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.ConditionFilterInfo.ConditionSummaryType);n=this.filterInfo.ConditionFilterInfo.ConditionSummaryType;n.toLowerCase()==="between"||n.toLowerCase()==="not between"?(this.leftTextBox.data("ejNumericTextbox").setModel({value:this.filterInfo.ConditionFilterInfo.Values[0]}),this.rightTextBox.data("ejNumericTextbox").setModel({value:this.filterInfo.ConditionFilterInfo.Values[1]})):this.leftTextBox.data("ejNumericTextbox").setModel({value:this.filterInfo.ConditionFilterInfo.Values[0]})},n.prototype.populateRankFields=function(){var t;this.rankCheckBox.data("ejCheckBox").setModel({checked:this.filterInfo.IsTopNFilteringApplied});this.rankModeDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.TopNFilterInfo.Mode);this.rankCountUpDown.data("ejNumericTextbox").setModel({value:this.filterInfo.TopNFilterInfo.NoOfRecords});this.rankColumnDropDown.data("ejDropDownList").setModel({dataSource:this.dataFieldItems});this.rankColumnDropDown.data("ejDropDownList").selectItemByText(this.filterInfo.TopNFilterInfo.ColumnName);var i=this.isDateField(this.filterInfo.TopNFilterInfo.ColumnName),r=this.getItemType(this.filterInfo.TopNFilterInfo.ColumnName),n=[];n=i?this.filterInfo.TopNFilterInfo.IsBasedOnDateAndTimeField?this.dateTimeFormats:this.dimensionFormats:r==="Dimensions"?this.dimensionFormats:this.measureFormats;this.dateTimeCheckBox.data("ejCheckBox").setModel({checked:this.filterInfo.TopNFilterInfo.IsBasedOnDateAndTimeField});this.rankFormatDropDown.data("ejDropDownList").setModel({dataSource:n});t=this.filterInfo.TopNFilterInfo.IsBasedOnDateAndTimeField?this.filterInfo.TopNFilterInfo.DateFormat:this.filterInfo.TopNFilterInfo.SummaryType;this.rankFormatDropDown.data("ejDropDownList").selectItemByText(t)},n.prototype.saveFilters=function(){this.targetInstance!==null&&(this.filterInfo.AllowFilterInfo.FilterCondition=this.filterConditionState,this.filterInfo.AllowFilterInfo.FilteredValues=this.ejListBoxObj.getCheckedItems(),this.ejListBoxObj.getCheckedItems().length===this.ejListBoxObj.listitems.length?(this.isSelectAll=!0,this.listDropDownTextDiv.text("All"),this.filterInfo.IsAllowFilteringApplied=!1):(this.isSelectAll=!1,this.listDropDownTextDiv.text(this.getDropDownText()),this.filterInfo.IsAllowFilteringApplied=!0),this.filterInfo.AllowFilterInfo.IsSelectedAll=this.isSelectAll,this.ModifiedConditionalFilter===!0&&(this.filterInfo.IsConditionFilteringApplied=this.IsConditionFilteringApplied,this.filterInfo.ConditionFilterInfo.ColumnName=this.ColumnName,this.filterInfo.ConditionFilterInfo.SummaryType=this.SummaryType,this.filterInfo.ConditionFilterInfo.ConditionSummaryType=this.portConditionType(this.ConditionSummaryType),this.filterInfo.ConditionFilterInfo.Values[0]=this.LeftValue,this.filterInfo.ConditionFilterInfo.Values[1]=this.RightValue),this.ModifiedTopNFilter===!0&&(this.filterInfo.IsTopNFilteringApplied=this.IsTopNFilteringApplied,this.filterInfo.TopNFilterInfo.Mode=this.Mode,this.filterInfo.TopNFilterInfo.NoOfRecords=this.NoOfRecords,this.filterInfo.TopNFilterInfo.ColumnName=this.RankColumnName,this.filterInfo.TopNFilterInfo.IsBasedOnDateAndTimeField=this.IsBasedOnDateAndTimeField,this.filterInfo.TopNFilterInfo.DateFormat=this.DateFormat,this.filterInfo.TopNFilterInfo.SummaryType=this.RankSummaryType),ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.filterInfo,this.selectedColumnName]));this.closeFliterDialog()},n.prototype.portConditionType=function(n){["Equals","Does Not Equal","Less Than","Greater Than","Less Than Or Equal To","Greater Than Or Equal To","Between","Not Between"];switch(n){case"Equals":return"Equals";case"Does Not Equal":return"NotEquals";case"Greater Than":return"GreaterThan";case"Less Than Or Equal To":return"LessThanOrEquals";case"Greater Than Or Equal To":return"GreaterThanOrEquals";case"Between":return"IsBetween";case"Not Between":return"IsNotBetween"}return"Equals"},n.prototype.closeFliterDialog=function(){this.ejFilterDialog.close()},n}();window.ej.createObject("ej.DashboardDesignerUtility.DimensionFilter",InternalDimensionFilter,window);InternalDragDropHelper=function(){function n(n){this.reportDesigner=null;this.zIndex="";this.dragging=null;this.pageY=0;this.fieldInfo=null;this.paramName="";this.reportDesigner=n;this.designAreaContainer=$("#"+this.reportDesigner._id+"_designAreaContainer");this.designCanvas=this.designAreaContainer.find(".e-dashboarddesigner-designcanvas");this.initalizeDraggable();this.id=this.reportDesigner._id}return n.prototype.initalizeDraggable=function(){$("#"+this.reportDesigner._id+" .e-draggable").ejDraggable({clone:!0,cursor:"move",helper:$.proxy(this.helper,this),dragStart:$.proxy(this.dragstart,this),dragStop:$.proxy(this.dragStop,this),cursorAt:{top:-4,left:-10},drag:$.proxy(this.drag,this)})},n.prototype.initializeDraggable=function(n,t){n.ejDraggable({clone:!0,cursor:"move",helper:$.proxy(this.helper,this),dragStart:$.proxy(this.dragstart,this),dragStop:$.proxy(this.dragStop,this),cursorAt:{top:-4,left:-10},drag:$.proxy(this.drag,this)});this.zIndex=t},n.prototype.initializeDataSetDraggable=function(n){n.ejDraggable({clone:!0,cursor:"move",helper:$.proxy(this.helper,this),dragStart:$.proxy(this.dragstart,this),dragStop:$.proxy(this.dragStop,this),drag:$.proxy(this.drag,this)})},n.prototype.initializeParameterDraggable=function(n){n.ejDraggable({clone:!0,cursor:"move",helper:$.proxy(this.helper,this),dragStart:$.proxy(this.dragstart,this),dragStop:$.proxy(this.dragStop,this),drag:$.proxy(this.drag,this)})},n.prototype.dragstart=function(n){this.reportDesigner.isItemDrag=!0;this.fieldInfo=null;this.paramName="";this.designAreaContainer=$("#"+this.reportDesigner._id+"_designAreaContainer");this.designCanvas=this.designAreaContainer.find(".e-dashboarddesigner-designcanvas");$(n.element).hasClass("e-datafield")?this.fieldInfo={dataSetName:$(n.element).attr("e-dataset"),fieldName:$(n.element).attr("name")}:$(n.element).hasClass("e-parameter")&&(this.paramName=$(n.element).attr("name"))},n.prototype.drag=function(n){var h=this.getPosition("clientX",n.event),u=this.getPosition("clientY",n.event),s=this.designCanvas[0].getBoundingClientRect(),i=this.reportDesigner.designerPanel,t,c,f,e;if(i.itemPanelDragStart=!0,ej.isNullOrUndefined(n.element)||ej.isNullOrUndefined($(n.element).attr("id"))||$(n.element).attr("id").indexOf("categoryList")===-1)if(s.left<h&&s.top<u&&s.right>h&&s.bottom>u){if(this.designAreaContainer.css("cursor","default"),this.draggingItem.css({display:"block",zIndex:this.zIndex}),e=i.getTargetElement({x:h,y:u,width:1,height:1}),!ej.isNullOrUndefined(e)){var y=e.position(),p=this.designCanvas.find("#"+i.designId+"_placingItem"),w=e.attr("row"),b=e.attr("column");p.attr({row:w,column:b});i.isWidgetItemRestricted=i.isItemRestricted({row:Number(w),column:Number(b),rowSpan:1,colSpan:1});p.css({display:"block","background-color":i.isWidgetItemRestricted?i.itemRestrictedColor:"transparent","border-color":i.isWidgetItemRestricted?"#f13232":"#179bd7",left:y.left+i.cellMargin,top:y.top+i.cellMargin,width:e.width()+2,height:e.height()+2})}}else this.designCanvas.find("#"+i.designId+"_placingItem").css("display","none"),this.designAreaContainer.css("cursor","not-allowed");else if(this.droppingItem=null,t=this.getDataCategoryListContainer(n.event,$(n.element).attr("category")),c=$(n.element).attr("category"),ej.isNullOrUndefined(t))$("#"+this.reportDesigner._id+"_dataTabElement").css("cursor","not-allowed");else{this.droppingItem=t;var o=$(t).attr("category"),a=$(t).attr("categorycount"),k=$(n.element).attr("field").replace(" ","");$("#"+this.reportDesigner._id+"_dataTabElement").css("cursor","default");this.draggingItem.css("zIndex",this.zIndex);var r=-1,l=-1,d=$("#"+this.reportDesigner._id+"_"+o+"_categoryListDiv_"+ej.DashboardUtil.escapeSelector(k));if(ej.isNullOrUndefined(d[0])||c!=="Measures"&&c!=="Dimensions")for(f=0;f<t[0].children.length;f++){var v=t[0].children[f].getBoundingClientRect(),g=t[0].children[t[0].children.length-1].getBoundingClientRect(),nt=t[0].getBoundingClientRect();t[0].children[f].className==="e-reportdesigner-"+o+"-empty-row"&&(l=f);v.top<u&&v.bottom>u?r=f:u>g.bottom&&u<nt.bottom&&(r=t[0].children.length-1)}(r>-1||t[0].children.length===0)&&l!==r&&(ej.isNullOrUndefined(a)||t[0].children.length<=parseInt(a,10))?l<r?$("#"+this.reportDesigner._id+"_"+o+"_categoryListDiv_emptyField").insertAfter(t[0].children[r]):$("#"+this.reportDesigner._id+"_"+o+"_categoryListDiv_emptyField").insertBefore(t[0].children[r]):r===-1&&$("#"+this.reportDesigner._id+"_dataTabElement").css("cursor","not-allowed");$("#"+this.reportDesigner._id+"_"+o+"_categoryListDiv_emptyField").length===0&&$("#"+this.reportDesigner._id+"_dataTabElement").css("cursor","not-allowed")}},n.prototype.getDataCategoryListContainer=function(n,t){var u=this.getPosition("clientX",n),f=this.getPosition("clientY",n),o=ej.isNullOrUndefined($("#"+this.reportDesigner._id+"_Column_categoryList")[0])?null:$("#"+this.reportDesigner._id+"_Column_categoryList")[0].getBoundingClientRect(),s=ej.isNullOrUndefined($("#"+this.reportDesigner._id+"_Row_categoryList")[0])||$("#"+this.reportDesigner._id+"_Row_categoryList").length===0?null:$("#"+this.reportDesigner._id+"_Row_categoryList")[0].getBoundingClientRect(),r,i,e;if(t==="Measures"||t==="Dimensions"||t!=="Column"&&t!=="Row")for(r=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"getCategories"),i=0;i<r.length;i++)if(r[i].Name!=="Column"&&r[i].Name!=="Row"&&(e=ej.isNullOrUndefined($("#"+this.reportDesigner._id+"_"+r[i].Name+"_categoryList"))?null:$("#"+this.reportDesigner._id+"_"+r[i].Name+"_categoryList")[0].getBoundingClientRect(),!ej.isNullOrUndefined(e)&&e.left<u&&e.top<f&&e.right>u&&e.bottom>f))return $("#"+this.reportDesigner._id+"_"+r[i].Name+"_categoryList");return(t==="Measures"||t==="Dimensions"||t==="Column")&&!ej.isNullOrUndefined(o)&&o.left<u&&o.top<f&&o.right>u&&o.bottom>f?$("#"+this.reportDesigner._id+"_Column_categoryList"):(t==="Measures"||t==="Dimensions"||t==="Row")&&!ej.isNullOrUndefined(s)&&s.left<u&&s.top<f&&s.right>u&&s.bottom>f?$("#"+this.reportDesigner._id+"_Row_categoryList"):null},n.prototype.dragStop=function(n){var u=$(n.target),p,w,a,ot,y,o,ct,l,d,lt,at,vt,yt;this.reportDesigner.isItemDrag=!1;u[0].id.length===0&&u.hasClass("ej-snapLines")&&(u=u.closest("svg"));var e=this.reportDesigner.designerPanel,g=this.reportDesigner._id,nt=0,tt=0,it=$("#"+g+"_dragging_item"),h=it.attr("itemType"),c=it.attr("itemName"),rt="",ut=!1;if(n.element[0].localName==="img"&&ej.isNullOrUndefined(h)&&ej.isNullOrUndefined(c)&&(h="e-image",c=$(n.element).attr("id").split("_")[1],rt=n.element[0].src),$("#"+this.reportDesigner._id+"_dragging_item").remove(),p=u.offset(),w=this.designCanvas.offset(),e.isDesignerSections(u)&&(ut=!0,tt=Math.round(p.left-w.left),nt=Math.round(p.top-w.top)),ejDashboardDesigner.editManager.setMergeAction(!0),a=this.designCanvas.find("#"+g+"_placingItem"),ut){var v=null,ft=e.cellSize,b={left:tt,top:nt,width:ft,height:ft},et={row:Number(a.attr("row")),column:Number(a.attr("column")),rowSpan:1,colSpan:1};$(n.element).hasClass("e-datafield")&&this.fieldInfo?(h="e-textboxitem",c="TextBox",ot=ejDashboardDesigner.getInstance("DataSet"),v={fields:ot.getFieldInfo(this.fieldInfo.dataSetName,this.fieldInfo.fieldName),className:"e-datafield"},y=new ej.DashboardDesignerUtility.TextBoxItem,y.renderReportItem(b,u.attr("id"),this.fieldInfo.dataSetName,v)):$(n.element).hasClass("e-parameter")?(v={className:"e-parameter"},h="e-textboxitem",c="TextBox",y=new ej.DashboardDesignerUtility.TextBoxItem,y.renderReportItem(b,u.attr("id"),this.paramName,v)):(e.isWidgetItemRestricted=e.isItemRestricted(et),e.isWidgetItemRestricted||this.droppedReportItems(h,c,this.designCanvas,b,rt,et))}else if(!ej.isNullOrUndefined(n.element)&&!ej.isNullOrUndefined($(n.element).attr("id"))&&$(n.element).attr("id").indexOf("categoryList")!==-1){var s=-1,t=this.droppingItem,f=$(n.element).attr("category"),i=ej.isNullOrUndefined(t)?$(n.element).attr("category"):$(t).attr("category"),pt=CategoryType[!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined($(t).attr("categorytype"))?$(t).attr("categorytype"):$(n.element).attr("categorytype")],wt=DateTimeFormat[!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined($(t).attr("datetimeformat"))?$(t).attr("datetimeformat"):$(n.element).attr("datetimeformat")],st=!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined($(t).attr("fieldactualtype"))?$(t).attr("fieldactualtype"):$(n.element).attr("fieldactualtype"),k=$(n.element).attr("label"),r=ej.isNullOrUndefined(t)?$("#"+this.reportDesigner._id+"_"+i+"_categoryList")[0].children:t[0].children,ht=-1;for(o=0;o<r.length;o++)r[o].className==="e-reportdesigner-"+i+"-empty-row"&&(s=o),r[o].id===this.reportDesigner._id+"_"+i+"_categoryListDiv_"+k&&(ht=o);ct=$("#"+this.reportDesigner._id+"_"+i+"_categoryListDiv_"+k);$("#"+this.reportDesigner._id+"_"+i+"_categoryListDiv_emptyField").length>0&&(ej.isNullOrUndefined(ct[0])||f!=="Measures"&&f!=="Dimensions")&&(l=void 0,f==="Measures"||f==="Dimensions"?(d="",(f==="Measures"||f==="Dimensions")&&(d="LabelData"+r.length),lt={Field:$(n.element).attr("field"),Label:d,DataField:$(n.element).attr("datafield"),Name:i,SummaryType:f==="Measures"?"Sum":"",IsLoading:!1,Values:{},ItemIndex:s,IsExpression:!1,FieldType:f,CategoryType:pt,FieldActualType:st,DateTimeFormat:st==="e-reportdesigner-dataset-datetime"?"Year":wt},l=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"addItem",[lt,!1,!0])):(l=$("#"+this.reportDesigner._id+"_"+i+"_categoryListDiv_"+k),l[0].style.display="block",s>-1&&r.length>0&&($("#"+l[0].id).insertBefore(r[s]),s<r.length-1&&$("#"+this.reportDesigner._id+"_"+i+"_categoryListDiv_emptyField").insertAfter(r[r.length-1]),at={Field:$(n.element).attr("field"),DataField:$(n.element).attr("datafield"),Label:$(n.element).attr("label"),FieldType:$(n.element).attr("fieldtype"),SummaryType:$(n.element).attr("summarytype"),FieldActualType:$(n.element).attr("fieldactualtype"),DateTimeFormat:$(n.element).attr("datetimeformat"),Name:i,ItemIndex:ht},vt={Field:$(n.element).attr("field"),DataField:$(n.element).attr("datafield"),FieldType:$(n.element).attr("fieldtype"),SummaryType:$(n.element).attr("summarytype"),FieldActualType:$(n.element).attr("fieldactualtype"),DateTimeFormat:$(n.element).attr("datetimeformat"),Label:$(n.element).attr("label"),Name:i,ItemIndex:s},ejDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignUpdate,"reorderItem","DataConfiguration","",[at],[vt]),yt=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"updateDataGroupInfo",[i,yt]),ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"postDraggedFields",[]))));$("#"+this.reportDesigner._id+"_dataTabElement").css("cursor","default")}a.css({display:"none","background-color":e.itemPlacingColor});e.itemPanelDragStart=!1;ejDashboardDesigner.editManager.setMergeAction(!1);$("#"+this.reportDesigner._id+"_designAreaContainer").css("cursor","default")},n.prototype.droppedReportItems=function(n,t,i,r,u,f){this.reportDesigner.designerPanel.renderItem(n,t,i,r,u,f);ej.DashboardDesignerUtility.Serialization.notifyChange()},n.prototype.helper=function(n){var t=$(n.element).clone(!0),i=this.reportDesigner._id,r,u,o,f,e;return ej.isNullOrUndefined(n.element)||ej.isNullOrUndefined($(n.element).attr("id"))||$(n.element).attr("id").indexOf("categoryList")===-1?$(n.element)[0].children.length>0?(o=$(n.element)[0].children[0],o.className.indexOf("e-widgeticon")!==-1?(t=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("ItemPanel"),"getDragElement",[t]),$(t).attr("id",i+"_dragging_item"),$("#"+i+"_designPanel").append(t),this.draggingItem=$("#"+i+"_dragging_item")):$(n.element).hasClass("e-parameter")?(f=$(n.element).attr("name"),e=$(n.element).find("span.e-designer-datatype-icon").attr("class"),t=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("Parameter"),"getDragElement",[f,e]),t.css("border-color","#0C8BE2"),$(t).attr("id",i+"_dragging_item"),$("#"+i+"_designPanel").append(t),this.draggingItem=$("#"+i+"_dragging_item")):$(n.element).hasClass("e-datafield")?(f=$(n.element).attr("name"),e=$(n.element).find("span.e-designer-content-icon").attr("class"),t=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataSet"),"getDragElement",[f,e]),t.css("border-color","#0C8BE2"),$(t).attr("id",i+"_dragging_item"),$("#"+i+"_designPanel").append(t),this.draggingItem=$("#"+i+"_dragging_item")):($(t).attr("id",i+"_dragging_item"),$("#"+i+"_designPanel").append(t),this.draggingItem=$("#"+i+"_dragging_item"))):($(t).attr("id",i+"_dragging_item"),$("#"+i+"_designPanel").append(t),this.draggingItem=$("#"+i+"_dragging_item")):(r=$(n.element).attr("category"),u=$(n.element).attr("field"),t=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"getDragElement",[r,u,$("#"+this.reportDesigner._id+"_"+r+"_categoryListDatasetIcon_"+ej.DashboardUtil.escapeSelector(u.replace(" ",""))).attr("class")]),t.css("border-color","#0C8BE2"),r!=="Measures"&&r!=="Dimensions"&&$("#"+this.reportDesigner._id+"_"+r+"_categoryListDiv_"+u).css("display","none"),$(t).attr("id",i+"_dragging_item"),t.css("width",$("#"+this.reportDesigner._id+"_"+r+"_categoryList")[0].offsetWidth-10),$("#"+this.reportDesigner._id+"_"+r+"_categoryList").append(t),this.draggingItem=$(t)),$(t)},n.prototype.getPosition=function(n,t){var i=0;return t[n]?i=t[n]:t.originalEvent&&t.originalEvent.targetTouches&&t.originalEvent.targetTouches.length>0?i=t.originalEvent.targetTouches[0][n]:t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length>0&&(i=t.originalEvent.changedTouches[0][n]),i},n.prototype.initializeSortable=function(n,t,i,r,u){n.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.ondragStart,this,{element:t,diaglog:i,container:r,callBackMethod:u}));n.css("cursor","move")},n.prototype.ondragStart=function(n,t){$("body").bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.ondrag,this,{container:n.container}));$("body").bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.ondrop,this,n));this.dragging=ej.buildTag("div","",{height:"auto",width:n.element.width(),position:"absolute",display:"block","border-style":"none","z-index":$("#"+n.diaglog+"_wrapper").css("z-index")+10,top:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY+1.5:t.pageY+1.5,left:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX+1.5:t.pageX+1.5},{});this.dragging.append(n.element.clone());$("body").append(this.dragging);this.updateDragRegion(n.element,"bottom");n.element.hide()},n.prototype.ondrag=function(n,t){var h=this,s,f;if(this.dragging!=null){var u=$("#"+n.container),i=u.data("ejScroller"),e=u.offset(),r=t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,o=t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX;this.dragging.css({display:"block",position:"absolute",top:r+1.5,left:o+1.5});e.top>r?i.model.scrollTop>0&&i.model.scrollTop-5>0?i.scrollY(i.model.scrollTop-5):i.scrollY(0):r>e.top+u.height()&&i.scrollY(i.model.scrollTop+5);s=u.find(".e-items").children(".e-drag-row:visible");f=this;s.each(function(n,t){var i=$(t);if(f.isIntersect(o,r,i,u)){f.updateDragRegion(i,r<h.pageY?"bottom":"top");return}});this.pageY=r}},n.prototype.ondrop=function(n){n.element.show();var t=$("#"+this.id+"_drag_empty_area");n.element.insertAfter(t);this.dragging.remove();this.dragging=null;t.remove();ej.isNullOrUndefined(n.callBackMethod)||ej.DashboardUtil.invokeCallBack(n.callBackMethod,{});$("body").unbind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.ondrag,this));$("body").unbind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.ondrop,this))},n.prototype.isIntersect=function(n,t,i,r){var u=i.offset(),f=r.offset();return f.left<n&&n<f.left+r.width()&&f.top<t&&t<f.top+r.height()&&u.left<n&&n<u.left+i.width()&&u.top<t&&t<u.top+i.height()},n.prototype.updateDragRegion=function(n,t){var i=$("#"+this.id+"_drag_empty_area");i.length===0&&(i=ej.buildTag("div.e-empty","",{border:"1px solid #f1f1f1",width:n.children().width(),margin:"8px",height:n.children().height(),background:"white"},{id:this.id+"_drag_empty_area"}));t==="bottom"?i.insertBefore(n):i.insertAfter(n)},n}();window.ej.createObject("ej.DashboardDesignerUtility.DragdropHelper",InternalDragDropHelper,window);InternalEditorManager=function(){function n(n){this.rangeExtractor=null;this.actionList=null;this.tempCollection=null;this.textRange=null;this.targetWindow=null;this.next=null;this.end=null;this.current=null;this.targetWindow=n;this.rangeExtractor=new ej.DashboardDesignerUtility.RangeExtractor;this.updateData();this.actionList=["fontname","forecolor","fontsize","fontstyle","fontweight","textdecoration"]}return n.prototype.updateData=function(){var n=Array();n.push({Key:"fontname",Value:{tag:null,css:"font-family",result:"span",removeCSS:{"font-family":""},attr:"e-textrun-fontfamily",styleParent:"span"}});n.push({Key:"forecolor",Value:{tag:null,css:"color",result:"span",removeCSS:{color:""},attr:"e-textrun-fontcolor",styleParent:"span"}});n.push({Key:"fontsize",Value:{tag:null,css:"font-size",result:"span",removeCSS:{"font-size":""},attr:"e-textrun-fontsize",styleParent:"span"}});n.push({Key:"fontstyle",Value:{tag:null,css:"font-style",result:"span",removeCSS:{"font-style":""},attr:"e-textrun-fontstyle",styleParent:"span"}});n.push({Key:"fontweight",Value:{tag:null,css:"font-weight",result:"span",removeCSS:{"font-weight":""},attr:"e-textrun-fontweight",styleParent:"span"}});n.push({Key:"textdecoration",Value:{tag:null,css:"text-decoration",result:"span",removeCSS:{"text-decoration":""},attr:"e-textrun-textdecoration",styleParent:"span"}});n.push({Key:"format",Value:{tag:null,data:"format",result:"span",removeAttr:{format:null},styleParent:"span"}});n.push({Key:"link",Value:{tag:null,data:"link",result:"span",removeAttr:{link:null},styleParent:"span"}});this.tempCollection=n},n.prototype.execCommand=function(n,t,i){this.textRange=i;switch(n){case ExecCommand.Fontname:this.cssFormatProcess("fontname",t);break;case ExecCommand.Forecolor:this.cssFormatProcess("forecolor",t);break;case ExecCommand.Fontsize:this.cssFormatProcess("fontsize",t);break;case ExecCommand.Fontstyle:this.cssFormatProcess("fontstyle",t);break;case ExecCommand.Fontweight:this.cssFormatProcess("fontweight",t);break;case ExecCommand.Textdecoration:this.cssFormatProcess("textdecoration",t);break;case ExecCommand.TextAlign:this.setTextAlign(t);break;case ExecCommand.Padding:this.setPadding(t);break;case ExecCommand.TextFormat:this.cssFormatProcess("format",t);break;case ExecCommand.TextLink:this.cssFormatProcess("link",t)}},n.prototype.cssFormatProcess=function(n,t){var u=this.rangeExtractor.getNodeCollection(this.textRange),s=null,h=null,f={Info:null,status:null},i=null,r,o,e,c;if(!this.validateSelectedNode(u)){for(r=0;r<u.length;r++){if(o=u[r],f=this.validateFormat(o,n),f.status)for(e=0;e<f.Info.length;e++)(c=f.Info[e].node,this.validateStyleData(c,this.getFormatData(n).Value.css,t))||(i=this.removeFormat(f,n,e));i=n.toLowerCase()==="format"||n.toLowerCase()==="link"?this.applyTextFormat(o,n,t):this.applyFormat(o,n,t);i&&(u.length===1?(s=i,h=i):r===0?s=i:h=r===u.length-1?i:null)}this.refreshRange(s,h);this.focus()}},n.prototype.setPadding=function(n){this.onApplyParagraphValue(n.side,n.value)},n.prototype.setTextAlign=function(n){this.onApplyParagraphValue("text-align",n)},n.prototype.onApplyParagraphValue=function(n,t){for(var u=this.getExactSelectedNode(this.textRange),r=this.getSelectedParent(u),i=0;i<r.length;i++)ej.DashboardUtil.isExpression(t)?(r[i].css(n,t),r[i].removeAttr("e-paragraph-"+n)):(r[i].css(n,""),r[i].attr("e-paragraph-"+n,t));this.refreshRange(this.textRange.startContainer,this.textRange.endContainer);this.focus()},n.prototype.focus=function(){var n=this;setTimeout(function(){n.targetWindow.focus()},100)},n.prototype.removeFormat=function(n,t,i){var r=this.getFormatedTagOrder(n.Info,i),f=r[0].currentNode.slice(r[0].currentNode.length-1),o=document.createElement("span"),e,u;return r[0].currentNode=r[0].currentNode.slice(0,r[0].currentNode.length-1),e=this.splitNode(f[0]),e.rightSide.length>0&&$($(r[0].node.cloneNode(!1)).append(e.rightSide)).insertAfter(r[0].node),u=null,r[0].tag?(this.rangeExtractor.cursorBasedCollection&&!r[0].textNode.data.trim().length?$(o).append(f).insertAfter($(r[0].node)):$(f).insertAfter(r[0].node),u=r[0].textNode,this.rangeExtractor.cursorBasedCollection&&this.setCursorOnNode(u,r[0].textNode)):(u=$(r[0].node.cloneNode(!1)),u.css(this.getFormatData(t).Value.removeCSS),!this.rangeExtractor.validateTextNode(u[0])&&u[0].getAttribute("style")?$(u.append(f)).insertAfter(r[0].node):$(f).insertAfter(r[0].node),u=f),r[0].currentNode.length>0&&this.formateChildNodes(r[0].currentNode,t,r[0].node),e.leftSide.length<1&&$(r[0].node).remove(),u[0]?u[0]:u},n.prototype.formateChildNodes=function(n,t,i){for(var r={rightSide:[],leftSide:[]},f,u=n.length-1;u>=0;u--)r=this.splitNode(n[u]),r.rightSide.length>0&&$($(i.cloneNode(!1)).append(r.rightSide)).insertAfter(n[u]),f=i,r.leftSide.length&&$($(i.cloneNode(!1)).append(r.leftSide.reverse())).insertBefore(n[u])},n.prototype.refreshRange=function(n,t){var i=null,r=null,u;this.rangeExtractor&&(i=this.rangeExtractor.cursorData.node,r=this.rangeExtractor.cursorData.offSet);this.rangeExtractor.cursorBasedCollection&&i&&r>-1?(r=this.rangeExtractor.validateTextNode(i)?r>i.data.length?i.data.length:r:0,this.rangeExtractor.validateTextNode(i)&&!i.data.trim()&&(i.data=String.fromCharCode(65279)+i.data,r++),this.updateCursor(i,r)):n&&t&&(n.data&&!n.data.trim()&&n.data.indexOf(String.fromCharCode(65279))===-1&&(n.data=String.fromCharCode(65279)+n.data),t.data&&!t.data.trim()&&t.data.indexOf(String.fromCharCode(65279))===-1&&(t.data=String.fromCharCode(65279)),u=window.getSelection?window.getSelection():document.getSelection(),u.removeAllRanges(),this.textRange.setStart(n,0),this.textRange.setEnd(t,t.data?t.data.length:0),u.addRange(this.textRange))},n.prototype.updateCursor=function(n,t){var i=window.getSelection?window.getSelection():document.getSelection();this.textRange.setStart(n,t);this.textRange.setEnd(n,t);i.removeAllRanges();i.addRange(this.textRange)},n.prototype.generateRange=function(n){var t=n.commonAncestorContainer;this.next=n.startContainer===t&&!this.isTextNode(n.startContainer)?n.startContainer.childNodes[n.startOffset]:this.getStartEndElement(n.startContainer,t);this.end=n.endContainer===t&&!this.isTextNode(n.endContainer)?n.endContainer.childNodes[n.endOffset]:$(this.getStartEndElement(n.endContainer,t)).hasClass("content-iframe-body")?null:this.getStartEndElement(n.endContainer,t).nextSibling},n.prototype.setCursorOnNode=function(n,t){this.rangeExtractor.cursorData.node===n&&(this.rangeExtractor.cursorData.node=t)},n.prototype.traverse=function(n){function u(){return t.next!==(t.isTextNode(t.textRange.endContainer)?t.textRange.endContainer.parentNode.nextSibling:t.textRange.endContainer.nextElementSibling)&&t.textRange.endContainer.parentNode.nextSibling!==t.next?(t.current=t.next,t.next=t.current&&t.current.nextSibling!==t.targetWindow.find("span#endRange")[0]&&t.current.nextSibling!==(ej.isNullOrUndefined(t.end)?t.textRange.endContainer.nextSibling:t.end)?t.current.nextSibling:null,t.current):null}for(var t=this,r,i;r=u();)if(t.hasSubNodes())t.getSubtree(t.textRange),t.traverse(n);else{if(i=r,!$(t.textRange.startContainer).hasClass("content-iframe-body")&&t.next===null&&i!==t.textRange.endContainer)while(ej.isNullOrUndefined(t.next)&&!ej.isNullOrUndefined(i))i=i.parentNode,ej.isNullOrUndefined(i)||t.current.nextSibling===t.targetWindow.find("span#endRange")[0]||(t.next=i.nextSibling);n(r)}return r},n.prototype.getSelectedParent=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t].closest("p"),ej.isNullOrUndefined(i)||r.push(i);return r},n.prototype.applyFormat=function(n,t,i){var f=this.splitNode(n),o=n,u=this.getFormatData(t).Value,s=i?u.css+":"+i+";":u.css,r,e;return f.leftSide.length>0&&!this.rangeExtractor.validateTextNode(f.leftSide[0])&&(this.tagCheck(f.leftSide[0],t)||this.compareCss(f.leftSide[0],s))?$(f.leftSide[0]).append(n):f.rightSide.length>0&&!this.rangeExtractor.validateTextNode(f.rightSide[0])&&(this.tagCheck(f.rightSide[0],t)||this.compareCss(f.rightSide[0],s))?$(f.rightSide[0]).prepend(n):f.leftSide.length<1&&f.rightSide.length<1&&$(n.parentNode).is(u.styleParent)?i?ej.DashboardUtil.isExpression(i)?($(n.parentNode).css(u.css,i),$(n.parentNode).removeAttr(u.attr)):($(n.parentNode).css(u.css,""),$(n.parentNode).attr(u.attr,i)):$(n.parentNode).css(this.collectStyleData(u.css)):(r=document.createElement(u.result),this.rangeExtractor.cursorBasedCollection?(e=document.createElement("span"),this.rangeExtractor.validateTextNode(n)?(!$(r).is("span")&&this.rangeExtractor.noContent?$(e).append(r):e=r,r.appendChild(o=document.createTextNode(n.data)),this.rangeExtractor.cursorBasedCollection&&this.setCursorOnNode(n,o),$(n).replaceWith(e)):(r.innerHTML="&#65279;",$(e).append(r),n.firstChild&&$(n.firstChild).is("br")?$(e).insertBefore(n.firstChild):$(n).append(e),this.rangeExtractor.cursorBasedCollection&&this.setCursorOnNode(n,r.firstChild),o=r)):(r.appendChild(o=document.createTextNode(n.data)),$(n).replaceWith(r)),i&&(ej.DashboardUtil.isExpression(i)?($(r).css(u.css,i),$(r).removeAttr(u.attr)):($(r).css(u.css,""),$(r).attr(u.attr,i)))),o},n.prototype.applyTextFormat=function(n,t,i){var r=this.splitNode(n),u,e=n,f=document.createElement("span");return r.leftSide.length&&r.leftSide[0].nodeType!==3&&(this.tagCheck(r.leftSide[0],t)||this.compareTypeValue(t,r.leftSide[0],i?this.getFormatData(t).Value.data+":"+i+";":this.getFormatData(t).Value.data))?$(r.leftSide[0]).append(n):r.rightSide.length&&!this.rangeExtractor.validateTextNode(r.rightSide[0])&&(this.tagCheck(r.rightSide[0],t)||this.compareTypeValue(t,r.rightSide[0],i?this.getFormatData(t).Value.data+":"+i+";":this.getFormatData(t).Value.data))?$(r.rightSide[0]).prepend(n):r.leftSide.length||r.rightSide.length||!$(n.parentNode).is(this.getFormatData(t).Value.styleParent)?(u=document.createElement(this.getFormatData(t).Value.result),this.rangeExtractor.cursorBasedCollection?this.rangeExtractor.validateTextNode(n)?(!$(u).is("span")&&this.rangeExtractor.noContent?$(f).append(u):f=u,u.appendChild(e=document.createTextNode(n.data)),this.rangeExtractor.cursorBasedCollection&&this.setCursorOnNode(n,e),$(n).replaceWith(f)):(u.innerHTML="&#65279;",$(f).append(u),n.firstChild&&$(n.firstChild).is("br")?$(f).insertBefore(n.firstChild):$(n).append(f),this.rangeExtractor.cursorBasedCollection&&this.setCursorOnNode(n,u.firstChild),e=u):(u.appendChild(e=document.createTextNode(n.data)),$(n).replaceWith(u)),i&&$(u).data(this.getFormatData(t).Value.data,i)):$(n.parentNode).data(this.getFormatData(t).Value.data,i),e},n.prototype.isTextNode=function(n){return n&&n.nodeValue!==null&&n.data!==null},n.prototype.isAncestor=function(n,t){try{return!this.isTextNode(t)&&($.contains(t,this.isTextNode(n)?n.parentNode:n)||n.parentNode===t)}catch(i){return!1}},n.prototype.isAncestorItself=function(n,t){return this.isAncestor(t,n)||n===t},n.prototype.tagCheck=function(n,t){var i=this.getFormatData(t).Value;return i.tag?$(n).is(i.tag):!1},n.prototype.styleCheck=function(n,t){var r=this.getFormatData(t).Value,i,u;return r.css&&!this.rangeExtractor.validateTextNode(n)&&!$(n).is("p")&&n.getAttribute("style")?(i=!0,u=r.css.split(";"),$(u).each(function(t,r){r&&n.getAttribute("style").replace(/\s/g,"").indexOf(r)===-1&&(i=!1)}),i):!1},n.prototype.validateCommentNode=function(n){return n.nodeType!==8},n.prototype.validateSelectedNode=function(n){return!n.length||n.length===1&&n[0].data&&!n[0].data.length},n.prototype.validateFormat=function(n,t){var i=[],r={Info:null,status:!1};return t=t.toLowerCase(),$.inArray(t,this.actionList)!==-1&&(i=this.validateFormatData(n,t),i&&i.length>0&&(r.Info=i),r.status=i.length>0),r},n.prototype.validateFormatData=function(n,t){var f=[],i=n.parentNode,e=n,r=!1,u=!1;if(i)do r=this.tagCheck(i,t),u=this.styleCheck(i,t),(r||u)&&f.push({textNode:n,node:i,css:u,tag:r});while(!$(i).hasClass("content-iframe-body")&&(e=i)&&(i=i.parentNode));return f},n.prototype.validateStyleData=function(n,t,i){var r=null,u=!1;return this.rangeExtractor.validateTextNode(n)||(r=n.getAttribute("style").split(";")),$(r).each(function(n,r){var f=r.split(":");return f[0].toLowerCase().trim()===t.toLowerCase().trim()&&f[1].toLowerCase().trim()===i.toLowerCase().trim()?(u=!0,!1):!1}),u},n.prototype.getFormatedTagOrder=function(n,t){return n[t].currentNode=this.getNodeOrder(n[t].textNode,n[t].node),t>0?n:n.slice(t,t+1)},n.prototype.getNodeOrder=function(n,t){var i=n,r=[];do r.push(i);while((i=i.parentNode)&&i!==t);return r},n.prototype.hasSubNodes=function(){return!this.isTextNode(this.current)&&(this.isAncestorItself(this.current,this.textRange.startContainer)||this.isAncestorItself(this.current,this.textRange.endContainer))},n.prototype.getFormatData=function(n){for(var t=0;t<this.tempCollection.length;t++)if(this.tempCollection[t].Key===n)return this.tempCollection[t];return null},n.prototype.compareCss=function(n,t){if(!this.rangeExtractor.validateTextNode(n)){var i=n.getAttribute("style"),r=!ej.isNullOrUndefined(i)&&i.toLowerCase().trim().replace(this.rangeExtractor.expression,""),u=t.toLowerCase().trim().replace(this.rangeExtractor.expression,"");return i&&r===u}return!1},n.prototype.compareTypeValue=function(n,t,i){return n.toLowerCase()==="format"?$(t).data("format")===i:n.toLowerCase()==="link"?$(t).data("link")===i:!1},n.prototype.collectStyleData=function(n){var i=n.replace(this.rangeExtractor.expression,"").split(";"),r={},t;return $(i).each(function(n){var u=i[n];t=u.split(":");t.length>1&&(r[t[0].toLowerCase().trim()]=t[1].toLowerCase().trim())}),r},n.prototype.getStartEndElement=function(n,t){if(this.isAncestor(n,t))while(n&&n.parentNode!==t)n=n.parentNode;return n},n.prototype.getSubtree=function(){var n=this.textRange.cloneRange();return n.selectNodeContents(this.current),this.isAncestorItself(this.current,this.textRange.startContainer)&&n.setStart(this.textRange.startContainer,this.textRange.startOffset),this.isAncestorItself(this.current,this.textRange.endContainer)&&n.setEnd(this.textRange.endContainer,this.textRange.endOffset),this.generateRange(n)},n.prototype.splitNode=function(n){for(var t=n,i={rightSide:[],leftSide:[]};t=t.nextSibling;)this.validateCommentNode(t)&&i.rightSide.push(t);for(t=n;t=t.previousSibling;)this.validateCommentNode(t)&&i.leftSide.push(t);return i},n.prototype.getExactSelectedNode=function(n){function u(n){if(n.nodeType===3&&($.trim(n.nodeValue)!==""||n.nodeValue==="﻿"||$.trim(n.nodeValue)===""&&n.nextSibling===f[0]))t.push($(n));else if(n.nodeValue&&n.nodeName!=="#comment"&&n.nodeValue.trim()===""&&r.textRange.endContainer.parentNode.nextSibling!==r.next)$.inArray(n.previousElementSibling,i)<0&&i.push(n.previousElementSibling);else if((n.nodeName.toLowerCase()==="br"||!$(n).hasClass("content-iframe-body"))&&$.inArray(n.parentNode,t)<0&&n.nodeName.toLowerCase()!=="div"&&!ej.isNullOrUndefined(t[t.length-1])&&t[t.length-1].parentNode!==n.parentNode&&n.previousSibling&&n.previousSibling.parentNode!==n.parentNode)t.push($(n.parentNode));else if(ej.isNullOrUndefined(n.firstChild))t.push($(n));else for(n=n.firstChild;n;)u(n),n=n.nextSibling}var t=[],i=[],f=this.targetWindow.find("span#startRange"),r=this;return this.generateRange(n),this.traverse(u),t},n}();window.ej.createObject("ej.DashboardDesignerUtility.EditorManager",InternalEditorManager,window);InternalRangeExtractor=function(){function n(){this.expression=null;this.findStatus=null;this.iterationStatus=!1;this.cursorData=null;this.textNodeCollection=[];this.traverseData=null;this.noContent=!1;this.cursorBasedCollection=!1;this.expression=/\s/g;this.findStatus={leftSide:null,rightSide:null};this.cursorData={node:null,offSet:null};this.traverseData={leftSide:{childNode:"lastChild",sibling:"previousSibling"},rightSide:{childNode:"firstChild",sibling:"nextSibling"}};this.iterationStatus=!1}return n.prototype.getNodeCollection=function(n){return n&&(this.textNodeCollection=[],this.noContent=!1,this.iterationStatus=!1,this.cursorData={node:null,offSet:null},n.startContainer===n.endContainer&&n.startOffset===n.endOffset?(this.collectCursorBasedTextNode(n.startContainer,n.startOffset),this.cursorBasedCollection=!0):(this.collectSelectionBasedTextNode(n),this.cursorBasedCollection=!1)),this.textNodeCollection},n.prototype.insertCursor=function(n,t){var r=n.data.substring(0,t),u=n.data.substr(t),i,f,e;r.replace(String.fromCharCode(65279),"")&&(f=this.createParentNode(r,$(n).closest("span")),f.insertBefore(n.parentNode));u.replace(String.fromCharCode(65279),"")&&(e=this.createParentNode(u,$(n).closest("span")),e.insertAfter(n.parentNode));$(n).replaceWith(i=document.createTextNode(""));this.cursorData={node:i,offSet:0};this.textNodeCollection.push(i);this.noContent=!0},n.prototype.collectCursorBasedTextNode=function(n,t){for(var f,i,r,u,c=new RegExp(this.expression),s,h,e,o;f=c.exec(n.data);)n.data.substring(f.index,f.index+1).indexOf(" ")!==-1&&(f.index<t&&(r=f),!u&&t<=f.index&&(u=f));r&&u?t-(r.index+1)==0||t-(r.index+1)===n.data.substring(r.index+1,u.index).replace("\n","").length?this.insertCursor(n,t):(s=n.data.substring(0,r.index+1),h=n.data.substring(u.index),$(document.createTextNode(s)).insertBefore(n),$(document.createTextNode(h)).insertAfter(n),i=document.createTextNode(n.data.substring(r.index+1,u.index)),$(n).replaceWith(i),this.cursorData={node:i,offSet:t-(r.index+1)},this.textNodeCollection.push(i)):r?(e=void 0,this.collectNodeData(n,!1),e=this.textNodeCollection,this.textNodeCollection=[],e.length===0&&(t-(r.index+1)==0||t-(r.index+1)===n.data.substring(r.index+1).replace("\n","").length)?this.insertCursor(n,t):(s=n.data.substring(0,r.index+1),$(document.createTextNode(s)).insertBefore(n),i=document.createTextNode(n.data.substring(r.index+1)),$(n).replaceWith(i),this.cursorData={node:i,offSet:t-(r.index+1)},this.textNodeCollection.push(i),this.textNodeCollection.concat(e))):u?(o=void 0,this.collectNodeData(n,!0),o=this.textNodeCollection,this.textNodeCollection=[],o.length===0&&(t===0||t===n.data.substring(0,u.index).replace("\n","").length)?this.insertCursor(n,t):(h=n.data.substring(u.index),$(document.createTextNode(h)).insertAfter(n),$(n).replaceWith(i=document.createTextNode(n.data.substring(0,u.index))),this.cursorData={node:i,offSet:t},this.textNodeCollection=o.reverse(),this.textNodeCollection.push(i))):this.validateTextNode(n)?(this.collectNodeData(i=n,!1),e=this.textNodeCollection,this.textNodeCollection=[],this.collectNodeData(i,!0),o=this.textNodeCollection,this.textNodeCollection=[],i.data===String.fromCharCode(65279)||o.length===0&&t===0||e.length===0&&i.data&&i.data.replace(String.fromCharCode(65279),"").replace("\n","").length===t?this.insertCursor(n,t):(this.textNodeCollection=o.reverse(),this.textNodeCollection.push(i),this.textNodeCollection=this.textNodeCollection.concat(e),this.cursorData={node:i,offSet:t})):(i=document.createTextNode(""),n.firstChild?$(i).insertBefore(n.firstChild):$(i).appendTo(n),this.textNodeCollection.push(i),this.cursorData={node:i,offSet:t},this.noContent=!0)},n.prototype.validateContent=function(n,t){for(var e=new RegExp(this.expression),i,r=[],u,f;i=e.exec(n.data);)r.push(i);r.length?(i=r[t==="leftSide"?r.length-1:0],f=t==="leftSide"?i.index+1:i.index,$(u=document.createTextNode(n.data.substring(f))).insertAfter(n),n.data=n.data.substring(0,f),t==="rightSide"&&$.trim(n.data)?this.textNodeCollection.push(n):t==="leftSide"&&$.trim(u.data)&&this.textNodeCollection.push(u),this.findStatus[t]=!0):this.textNodeCollection.push(n)},n.prototype.iterateNodes=function(n,t){if(!this.findStatus[t])if(this.validateTextNode(n)&&n.data)this.validateContent(n,t);else if((n=n[this.traverseData[t].childNode])&&!this.findStatus[t])do this.validateTextNode(n)&&n.data?this.validateContent(n,t):this.iterateNodes(n,t);while((n=n[this.traverseData[t].sibling])&&!this.findStatus[t])},n.prototype.collectNodeData=function(n,t){this.findStatus={leftSide:null,rightSide:null};var r={leftSide:[],rightSide:[]},u=this,i=t?"leftSide":"rightSide";do r=this.getSiblingNode(n),$(r[i]).each(function(n,t){u.iterateNodes(t,i)});while(!$(n.parentNode).hasClass("content-iframe-body")&&(n=n.parentNode)&&!this.findStatus[i])},n.prototype.collectSelectionBasedTextNode=function(n){var t,i,o,u,f,s,r=n.startContainer,e=n.endContainer,h;this.textNodeCollection=[];n.startContainer===n.endContainer?this.validateTextNode(n.endContainer)?(n.startOffset&&(t=n.startContainer.data.substr(0,n.startOffset)),n.startContainer.data.length!==n.endOffset&&(i=n.startContainer.data.substr(n.endOffset)),o=n.startContainer.data.substr(n.startOffset,n.endOffset-n.startOffset),t&&(u=this.createParentNode(t,$(n.startContainer).closest("span")),u.insertBefore(n.startContainer.parentNode)),i&&(f=this.createParentNode(i,$(n.endContainer).closest("span")),f.insertAfter(n.startContainer.parentNode)),o&&(s=document.createTextNode(o),$(n.startContainer).replaceWith(s)&&this.textNodeCollection.push(s))):n.startContainer.nodeName.toLowerCase()==="div"?this.updateNodeCollection($(n.startContainer).find("div")[0],r,null):this.updateNodeCollection(n.startContainer,r,null):(h=n.commonAncestorContainer,this.validateTextNode(n.startContainer)&&n.startOffset&&(t=n.startContainer.data.substr(0,n.startOffset),i=n.startContainer.data.substr(n.startOffset),t&&(u=this.createParentNode(t,$(n.startContainer).closest("span")),u.insertBefore(n.startContainer.parentNode)),i&&(f=this.createParentNode(i,$(n.startContainer).closest("span")),$(r.parentNode).replaceWith(r=f))),this.validateTextNode(n.endContainer)&&n.endContainer.data&&n.endContainer.data.length!==n.endOffset?(i=n.endContainer.data.substr(n.endOffset),t=n.endContainer.data.substr(0,n.endOffset),i&&(f=this.createParentNode(i,$(n.endContainer).closest("span")),f.insertAfter(n.endContainer.parentNode)),t&&(u=this.createParentNode(t,$(n.endContainer).closest("span")),$(e.parentNode).replaceWith(e=u))):n.endOffset&&n.endContainer.lastChild&&(e=n.endContainer.lastChild),this.updateNodeCollection(h,this.validateTextNode(r)?r:r[0].childNodes[0],this.validateTextNode(e)?e:e[0].childNodes[0]))},n.prototype.createParentNode=function(n,t){var i=$(document.createElement("span"));return i.text(n),t.length>0&&i.css("cssText",t[0].style.cssText),i},n.prototype.updateNodeCollection=function(n,t,i){if(this.updateIterationStatus(n,t,i),n=n.firstChild)do this.updateNodeCollection(n,t,i);while(n=n.nextSibling)},n.prototype.updateIterationStatus=function(n,t,i){n!==t||this.iterationStatus||(this.iterationStatus=!0);this.validateTextNode(n)&&this.iterationStatus&&this.textNodeCollection.push(n);n===i&&this.iterationStatus&&(this.iterationStatus=!1)},n.prototype.validateTextNode=function(n){return n.nodeType===3},n.prototype.getSiblingNode=function(n){for(var t=n,i={leftSide:[],rightSide:[]};t=t.nextSibling;)(!t.tagName||$(t).hasClass("content-iframe-body"))&&i.rightSide.push(t);for(t=n;t=t.previousSibling;)(!t.tagName||$(t).hasClass("content-iframe-body"))&&i.leftSide.push(t);return i},n}();window.ej.createObject("ej.DashboardDesignerUtility.RangeExtractor",InternalRangeExtractor,window),function(n){n[n.Fontname=0]="Fontname";n[n.Fontsize=1]="Fontsize";n[n.Forecolor=2]="Forecolor";n[n.Fontstyle=3]="Fontstyle";n[n.Fontweight=4]="Fontweight";n[n.Textdecoration=5]="Textdecoration";n[n.TextAlign=6]="TextAlign";n[n.Padding=7]="Padding";n[n.TextFormat=8]="TextFormat";n[n.TextLink=9]="TextLink"}(ExecCommand||(ExecCommand={}));InternalExpressionMenu=function(){function n(){var n=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=n._id;this.element=n.element;this.renderMenuItems()}return Object.defineProperty(n,"ExpMenu",{get:function(){return(this.expressionMenu===null||this.expressionMenu===undefined)&&(this.expressionMenu=new ej.DashboardDesignerUtility.ExpressionMenu),this.expressionMenu},enumerable:!0,configurable:!0}),n.prototype.renderExpressionElement=function(n,t){var i,r;!ej.isNullOrUndefined(n)&&(t.enableReset||t.enableExpression||t.enableAdvanceMode)&&(i=n.find("#"+t.id+"_Expression_container"),i.length===0?(i=ej.buildTag("div","",{width:"20px",cursor:"default",float:"right"},{unselectable:"on",id:t.id+"_Expression_container"}),r=ej.buildTag("div.e-designer-click","",{"margin-top":ej.isNullOrUndefined(t.marginSpacing)?"12px":t.marginSpacing,"margin-right":"10px",cursor:"default",height:"6px",padding:"1px",border:"1px solid #c8c8c8","background-color":t.dataInfo.element.value&&t.dataInfo.element.value[0]==="="?"black":"white"},{id:t.id+"_Expression","e-target":"e-exp-menu"}),i.append(r),r.bind("click",$.proxy(this.onExpressionClick,this,i)),n.append(i),i.data("exp-data",t)):n&&this.setExpressionEle(n,t))},n.prototype.setExpressionEle=function(n,t){var e,r,f,u,i;if(n)if(!ej.isNullOrUndefined(t.dataInfo.element)&&ej.isNullOrUndefined(t.dataInfo.element.items))i=t.dataInfo.element.value&&!ej.DashboardUtil.isExpression(t.dataInfo.element.value),r=i?"black":"white",n.find("#"+t.id+"_Expression_container").data("exp-data",t),n.find("#"+t.id+"_Expression").css("background-color",r),ejDashboardDesigner.getInstance("PropertyPanel").updateItemDisable(t.dataInfo.element.itemType,t.dataInfo.elementType,t.dataInfo.categoryName,t.dataInfo.element.name,i);else{for(e=t.dataInfo.element.items.length,r="white",f=0;f<e;f++)u=t.dataInfo.element.items[f],i=u.value&&!ej.DashboardUtil.isExpression(u.value),i&&(r="black"),ejDashboardDesigner.getInstance("PropertyPanel").updateItemDisable(u.itemType,t.dataInfo.elementType,t.dataInfo.categoryName,u.name,i);n.find("#"+t.id+"_Expression_container").data("exp-data",t);n.find("#"+t.id+"_Expression").css("background-color",r)}},n.prototype.getMenuList=function(n){var t=[];return n.enableReset&&t.push({Name:"Reset",Icon:"e-icon e-designer-menu-defaulticon",Items:[]}),n.enableExpression&&t.push({Name:n.expressionList.length===0?"Expression...":"Expression",Icon:"e-icon e-designer-menu-expressionicon",Items:n.expressionList}),n.enableAdvanceMode&&t.push({Name:"Advanced...",Icon:"",Items:[]}),t},n.prototype.onExpressionClick=function(n,t){var i=$(t.currentTarget).offset(),f=window.innerHeight,e=window.outerHeight,r=e-f,o=i.top+r,u=n.data("exp-data");this.ejExpMenu.element.data("exp-data",u);this.ejExpMenu.option("fields.dataSource",this.getMenuData(u));o<window.innerHeight?this.ejExpMenu.show(i.left-130,i.top+$(t.currentTarget).height()+8,n,t):this.ejExpMenu.show(i.left-130,i.top-r,n,t)},n.prototype.getMenuData=function(n){for(var r,u=[],i=this.getMenuList(n),t=0;t<i.length;t++)if(u.push({id:t,text:i[t].Name,parentId:null,sprite:i[t].Icon}),!ej.isNullOrUndefined(i[t].Items))for(r=0;r<i[t].Items.length;r++)u.push({id:t.toString()+r.toString(),text:i[t].Items[r].Name,parentId:t});return u},n.prototype.renderMenuItems=function(){var n=ej.buildTag("ul.e-designer-menu e-exp-menu","",{},{id:this.id+"_Expression_Ul"});this.element.append(n);n.ejMenu({menuType:ej.MenuType.ContextMenu,subMenuDirection:"left",fields:{dataSource:[],id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,ontextMenuTarget:this.element,width:140,click:$.proxy(this.onSettingsMenuItemClick,this)});this.ejExpMenu=n.data("ejMenu")},n.prototype.getSubMenuItems=function(){var n=this.ejExpMenu.model.fields.dataSource,i=[],t;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].parentId&&i.push(n[t]);return i},n.prototype.onSettingsMenuItemClick=function(n){var t=this.ejExpMenu.element.data("exp-data"),i=this.getSubMenuItems(),r;n.text!=="Reset"&&n.text!=="Advanced..."&&n.text!=="Expression"?ejDashboardDesigner.getInstance("Expression").openEditor(ej.isNullOrUndefined(this.getExpression(t.id+"_Expression",n.text,t,i))?"":this.getExpression(t.id+"_Expression",n.text,t,i).toString(),this,"updateExpression",{id:t.id+"_Expression",text:n.text,details:t.dataInfo,menuItems:i},t.dataInfo.element.name,"",{type:ej.isNullOrUndefined(t.dataInfo.element.itemType)?"label":t.dataInfo.element.itemType.toString()},OptionsType.Text):n.text==="Reset"?this.resetExpression(t.id+"_Expression",n.text,t.dataInfo,i):n.text==="Advanced..."&&(r=this.getPropertyElement(t.dataInfo,-1),ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("PropertyPanel"),"enableAdvanceOptions",[{name:r.name,categoryName:t.dataInfo.categoryName,elementType:t.dataInfo.elementType}]))},n.prototype.getPropertyElement=function(n,t){var r=n.element,u=ejDashboardDesigner.getInstance("DesignPanel"),f=u.selectedReportItems,i=u.selectedItems;return f.length>0?r=ejDashboardDesigner.getInstance("PropertyPanel").getPropertyElement(ej.DashboardUtil.getReportItem(f[0]).getPropertyGridItems(),n.element.name,n.categoryName,t):i.length>0&&(r=i[0].attr("id")===this.id+"_designHeader"?ejDashboardDesigner.getInstance("PropertyPanel").getPropertyElement(ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Header"),n.element.name,n.categoryName,t):i[0].attr("id")===this.id+"_designFooter"?ejDashboardDesigner.getInstance("PropertyPanel").getPropertyElement(ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Footer"),n.element.name,n.categoryName,t):i[0].attr("id")===this.id+"_designBody"?ejDashboardDesigner.getInstance("PropertyPanel").getPropertyElement(ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Body"),n.element.name,n.categoryName,t):ejDashboardDesigner.getInstance("PropertyPanel").getPropertyElement(ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Report"),n.element.name,n.categoryName,t)),r},n.prototype.resetExpression=function(n,t,i,r){var e,o,u,f;if($("#"+n).css("background-color","white"),ej.isNullOrUndefined(i.updateExpressionDetails))if(e=$.extend(!0,{},i.element),e.categoryName=i.categoryName,r.length>0)for(o=0;o<r.length;o++){u=$.extend(!0,{},e.items[o]);u.categoryName=i.categoryName;f=ejDashboardDesigner.getInstance("PropertyPanel").getPropertyValue(u,i.elementType);ejDashboardDesigner.getInstance("PropertyPanel").onValueChange(u,i.categoryName,i.elementType,i.element.itemType==="bool"?{isChecked:f}:{value:f});ejDashboardDesigner.getInstance("PropertyPanel").updateItemDisable(u.itemType,i.elementType,i.categoryName,u.name,!1)}else{f=ejDashboardDesigner.getInstance("PropertyPanel").getPropertyValue(e,i.elementType);ejDashboardDesigner.getInstance("PropertyPanel").onValueChange(e,i.categoryName,i.elementType,i.element.itemType==="bool"?{isChecked:f}:{value:f});ejDashboardDesigner.getInstance("PropertyPanel").updateItemDisable(i.element.itemType,i.elementType,i.categoryName,i.element.name,!1)}else ej.DashboardUtil.invokeCallBack(i.updateExpressionDetails.CallBackMethod,{arguments:i.updateExpressionDetails.Arguments,expression:[]})},n.prototype.getExpression=function(n,t,i,r){var f="",u;if(i&&i.dataInfo&&i.dataInfo.getValueDetails)f=ej.DashboardUtil.invokeMethod(i.dataInfo.getValueDetails.CallBackInstance,i.dataInfo.getValueDetails.CallBackMethod,i.dataInfo.getValueDetails.Arguments);else if(t.split(".")[0]!=="Advanced"&&t.split(".")[0]!=="Expression"){for(u=0;u<r.length;u++)if(r[u].text===t){f=this.getPropertyElement(i.dataInfo,u).value;break}}else f=this.getPropertyElement(i.dataInfo,-1).value;return f},n.prototype.updateExpression=function(n,t){var r,i;if(ej.DashboardUtil.isExpression(n)||$("#"+t.id).css("background-color","black"),ej.isNullOrUndefined(t.details.updateExpressionDetails)){if(r=$.extend(!0,{},t.details),t.text.split(".")[0]!=="Advanced"&&t.text.split(".")[0]!=="Expression")for(i=0;i<t.menuItems.length;i++)if(t.menuItems[i].text===t.text){r.element=t.details.element.items[i];break}ejDashboardDesigner.getInstance("PropertyPanel").updateExpression(n.toString(),r)}else ej.DashboardUtil.invokeCallBack(t.details.updateExpressionDetails.CallBackMethod,{arguments:t.details.updateExpressionDetails.Arguments,expression:n!=="="&&n.length>0?[n]:[]})},n}();window.ej.createObject("ej.DashboardDesignerUtility.ExpressionMenu",InternalExpressionMenu,window);InternalExpressionParsor=function(){function n(){this.revfnctions={};this.expErrors=[];this.expErrors=[]}return n.prototype.parseExpression=function(n){var i,t;for(this.expression=n,this.provider="SQL",this.expErrors=[],this.parseDateExp(),this.parseNumExp(),this.parseStrExp(),this.parseCondExp(),i=Object.keys(this.revfnctions),t=i.length-1;t>=0;t--)this.revfnctions[i[t]]&&(this.expression=this.expression.split(i[t]).join(this.revfnctions[i[t]]));return this.expression},n.prototype.parseErrors=function(n,t){return this.parseExpression(n,t),this.expErrors},n.prototype.parseNumExp=function(){ej.DashboardUtil.contains(this.expression,"abs(",!0)&&(this.expression=this.parseNumberExp(this.expression,"abs("));ej.DashboardUtil.contains(this.expression,"acos(",!0)&&(this.expression=this.parseNumberExp(this.expression,"acos("));ej.DashboardUtil.contains(this.expression,"asin(",!0)&&(this.expression=this.parseNumberExp(this.expression,"asin("));ej.DashboardUtil.contains(this.expression,"atan(",!0)&&(this.expression=this.parseNumberExp(this.expression,"atan("));ej.DashboardUtil.contains(this.expression,"cos(",!0)&&(this.expression=this.parseNumberExp(this.expression,"cos("));ej.DashboardUtil.contains(this.expression,"degrees(",!0)&&(this.expression=this.parseNumberExp(this.expression,"degrees("));ej.DashboardUtil.contains(this.expression,"exp(",!0)&&(this.expression=this.parseNumberExp(this.expression,"exp("));ej.DashboardUtil.contains(this.expression,"log(",!0)&&(this.expression=this.parseNumberExp(this.expression,"log("));ej.DashboardUtil.contains(this.expression,"pi(",!0)&&(this.expression=this.parseNumberExp(this.expression,"pi("));ej.DashboardUtil.contains(this.expression,"power(",!0)&&(this.expression=this.parseNumberExp(this.expression,"power("));ej.DashboardUtil.contains(this.expression,"radians(",!0)&&(this.expression=this.parseNumberExp(this.expression,"radians("));ej.DashboardUtil.contains(this.expression,"round(",!0)&&(this.expression=this.parseNumberExp(this.expression,"round("));ej.DashboardUtil.contains(this.expression,"sign(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sign("));ej.DashboardUtil.contains(this.expression,"sin(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sin("));ej.DashboardUtil.contains(this.expression,"sqrt(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sqrt("));ej.DashboardUtil.contains(this.expression,"tan(",!0)&&(this.expression=this.parseNumberExp(this.expression,"tan("))},n.prototype.parseNumberExp=function(n,t){var f=this.getExpCode(),e=this.trimEnd(t,"("),r=0,i=n,h;this.revfnctions[f]=this.updateNumberFunc(e).toUpperCase();do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var u=r+t.length,o=this.getFunctionEndIndex(u,i),c=this.getParameters(i,u,o-u-1),l=i.substr(0,r)+f+"(",s="";this.provider==="SQL"&&(s=this.getSQLNumberExp(e,c));h=")"+i.substr(o);i=l+s+h}while(r!==-1);return i},n.prototype.updateNumberFunc=function(n){return n},n.prototype.getSQLNumberExp=function(n,t){var i="";switch(n){case"pi":ej.isNullOrUndefined(t)?i=i:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"abs":case"acos":case"asin":case"atan":case"cos":case"degrees":case"exp":case"log":case"radians":case"sign":case"sin":case"sqrt":case"tan":t&&t.length===1?i+=t[0]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"power":t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"round":t&&t.length===1?(i+=t[0],this.provider==="SQL"&&(i+=",0")):t&&(t.length===1||t.length===2)?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression")}return i},n.prototype.parseDateExp=function(){this.provider==="SQL"&&(ej.DashboardUtil.contains(this.expression,"dateadd(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"dateadd(")),ej.DashboardUtil.contains(this.expression,"datesub(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datesub(")),ej.DashboardUtil.contains(this.expression,"datename(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datename(")),ej.DashboardUtil.contains(this.expression,"datepart(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datepart(")),ej.DashboardUtil.contains(this.expression,"daydiff(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"daydiff(")),ej.DashboardUtil.contains(this.expression,"today(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"today(")),ej.DashboardUtil.contains(this.expression,"day(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"day(")),ej.DashboardUtil.contains(this.expression,"hour(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"hour(")),ej.DashboardUtil.contains(this.expression,"minute(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"minute(")),ej.DashboardUtil.contains(this.expression,"month(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"month(")),ej.DashboardUtil.contains(this.expression,"now(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"now(")),ej.DashboardUtil.contains(this.expression,"year(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"year(")))},n.prototype.parseSQLDateExp=function(n,t){var f=this.getExpCode(),u=this.trimEnd(t,"("),r=0,i=n;this.revfnctions[f]=this.updateDateFunc(u).toUpperCase();do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var e=r+t.length,o=this.getFunctionEndIndex(e,i),s=this.getParameters(i,e,o-e-1),h=u==="today"?i.substr(0,r)+f:i.substr(0,r)+f+"(",c=this.getSQLDateExp(u,s),l=u==="today"?i.substr(o):")"+i.substr(o);i=h+c+l}while(r!==-1);return i},n.prototype.updateDateFunc=function(n){var t;switch(n){case"dateadd":case"datesub":t="dateadd";break;case"daydiff":t="datediff";break;case"now":t="getdate";break;case"week":case"hour":case"minute":case"datepart":t="datepart";break;case"day":case"month":case"year":case"datename":t=n;break;case"today":t="CAST(GETDATE() AS DATE)"}return t},n.prototype.getSQLDateExp=function(n,t){var i="";switch(n){case"dateadd":t&&t.length===1?i+="D, 0,"+t[0]:t&&t.length===2?i+="D,"+t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"datesub":t&&t.length===1?i+="D, 0,"+t[0]:t&&t.length===2?i+="D, -"+t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"daydiff":t&&t.length===2?i+="D,"+t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"week":case"hour":case"minute":t&&t.length===1?i+=n.toUpperCase()+","+t[0]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"datename":case"datepart":t&&t.length===1&&(i+="D,"+t[0]);t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"day":case"month":case"year":t&&t.length===1?i+=t[0]:this.expErrors.push("Invalid Arguments in"+n+"Expression")}return i},n.prototype.parseCondExp=function(){this.provider==="SQL"&&(ej.DashboardUtil.contains(this.expression,"ifnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"ifnull(")),ej.DashboardUtil.contains(this.expression,"if(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"if(")),ej.DashboardUtil.contains(this.expression,"isnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"isnull(")),ej.DashboardUtil.contains(this.expression,"isnotnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"isnotnull(")))},n.prototype.parseSQLCondExp=function(n,t){var f=this.trimEnd(t,"("),r=0,i=n;if(f==="ifnull")i=this.parseSQLIFNullExp(n,t);else do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var e=this.getExpCode(),u=r+t.length,o=this.getFunctionEndIndex(u,i),s=this.getParameters(i,u,o-u-1),h=i.substr(0,r)+e,c=i.substr(o);this.revfnctions[e]=this.getSQLCondExp(f,s);i=h+c}while(r!==-1);return i},n.prototype.parseSQLIFNullExp=function(n,t){var f=this.getExpCode(),o=this.trimEnd(t,"("),r=0,i=n;this.revfnctions[f]="ISNULL";do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var u=r+t.length,e=this.getFunctionEndIndex(u,i),s=this.getParameters(i,u,e-u-1),h=i.substr(0,r)+f+"(",c=this.getSQLCondExp(o,s),l=")"+i.substr(e);i=h+c+l}while(r!==-1);return i},n.prototype.getSQLCondExp=function(n,t){var i="";switch(n){case"if":t&&t.length===3?i+=" CASE WHEN "+t[0]+" THEN "+t[1]+" ELSE "+t[2]+" END ":this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"ifnull":t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"isnull":t&&t.length===1?i+=" CASE WHEN "+t[0]+" IS NULL THEN 'true' ELSE 'false' END ":this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"isnotnull":t&&t.length===1?i+=" CASE WHEN "+t[0]+" IS NULL THEN 'false' ELSE 'true' END ":this.expErrors.push("Invalid Arguments in"+n+"Expression")}return i},n.prototype.parseStrExp=function(){ej.DashboardUtil.contains(this.expression,"char(",!0)&&(this.expression=this.parseStringExp(this.expression,"char("));ej.DashboardUtil.contains(this.expression,"concat(",!0)&&(this.expression=this.parseStringExp(this.expression,"concat("));ej.DashboardUtil.contains(this.expression,"contains(",!0)&&(this.expression=this.parseStringExp(this.expression,"contains("));ej.DashboardUtil.contains(this.expression,"endswith(",!0)&&(this.expression=this.parseStringExp(this.expression,"endswith("));ej.DashboardUtil.contains(this.expression,"left(",!0)&&(this.expression=this.parseStringExp(this.expression,"left("));ej.DashboardUtil.contains(this.expression,"len(",!0)&&(this.expression=this.parseStringExp(this.expression,"len("));ej.DashboardUtil.contains(this.expression,"lower(",!0)&&(this.expression=this.parseStringExp(this.expression,"lower("));ej.DashboardUtil.contains(this.expression,"ltrim(",!0)&&(this.expression=this.parseStringExp(this.expression,"ltrim("));ej.DashboardUtil.contains(this.expression,"max(",!0)&&(this.expression=this.parseStringExp(this.expression,"max("));ej.DashboardUtil.contains(this.expression,"min(",!0)&&(this.expression=this.parseStringExp(this.expression,"min("));ej.DashboardUtil.contains(this.expression,"right(",!0)&&(this.expression=this.parseStringExp(this.expression,"right("));ej.DashboardUtil.contains(this.expression,"rtrim(",!0)&&(this.expression=this.parseStringExp(this.expression,"rtrim("));ej.DashboardUtil.contains(this.expression,"startswith(",!0)&&(this.expression=this.parseStringExp(this.expression,"startswith("));ej.DashboardUtil.contains(this.expression,"substr(",!0)&&(this.expression=this.parseStringExp(this.expression,"substr("))},n.prototype.parseStringExp=function(n,t){var c=this.getExpCode(),i=this.trimEnd(t,"("),u=0,r=n,e=!0,s,f,h;this.revfnctions[c]=this.updateStringFunc(i).toUpperCase();do if(u=r.toLowerCase().lastIndexOf(t),u!==-1){var o=u+t.length,l=this.getFunctionEndIndex(o,r),a=this.getParameters(r,o,l-o-1);(i==="max"||i==="min"||i==="startswith"||i==="endswith"||i==="contains")&&(e=!1);s=r.substr(0,u)+(e?c+"(":"");f="";this.provider==="SQL"&&(f=this.getSQLStringExp(i,a));h=(e?")":"")+r.substr(l);r=i==="max"||i==="min"?s+"("+f+")"+h:s+f+h}while(u!==-1);return r},n.prototype.updateStringFunc=function(n){var t;switch(n){case"contains":case"endswith":case"startswith":case"max":case"min":t="";break;case"substr":t="substring";break;default:t=n}return t},n.prototype.getSQLStringExp=function(n,t){var i="",u,r,f;switch(n){case"char":case"len":case"lower":case"ltrim":case"rtrim":case"upper":case"max":case"min":t&&t.length===1?i+=t[0].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"left":case"right":t&&t.length===2?i+=t[0].trim()+","+t[1].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"concat":if(u=!0,t&&t.length>1)for(r=0;r<t.length;r++)r===t.length-1&&(u=!1),i+=u?t[r].trim()+",":t[r].trim();else this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"contains":case"endswith":case"startswith":t&&t.length===2?(f=this.customizeSingleQuoteValues(n,t[1]),i+="CASE WHEN "+t[0]+" LIKE "+f+" THEN 'true' ELSE 'false' END"):this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"substr":t&&t.length===3?i+=t[0].trim()+","+t[1].trim()+","+t[2].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression")}return i},n.prototype.customizeSingleQuoteValues=function(n,t){var i=t,r="",u=null,f;if(i=i.trim(),ej.DashboardUtil.contains(i,"'",!0))for(f=0;f<i.length;f++)i[f]!=="'"&&(r+=i[f]);if(r.length>0)switch(n){case"contains":u="'%"+r+"%'";break;case"startswith":u="'"+r+"%'";break;case"endswith":u="'%"+r+"'"}else u=i;return u},n.prototype.getParameters=function(n,t,i){var u=n.substr(t,i);if(u.length===0)return null;for(var o=0,f=!1,r=0,e=0,s=[];r<u.length;r++)f||u[r]!==")"||o--,f||u[r]!=="("||o++,u[r]==="'"&&(r===0||u[r-1]!=="\\")&&(f=!f),f||o!==0||u[r]!==","||(s.push(u.substr(e,r-e)),e=r+1);return s.push(u.substr(e,r-e)),s},n.prototype.getFunctionEndIndex=function(n,t){for(var i=n,u=1,r=!1;u>0;){if(i>=t.length)throw"Invalid Expression";r||t[i]!==")"||u--;r||t[i]!=="("||u++;t[i]==='"'&&(i===0||t[i-1]!=="\\")&&(r=!r);i++}return i},n.prototype.getExpCode=function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return"@"+n+"@"},n.prototype.trimEnd=function(n,t){var i=n.lastIndexOf(t);return i===-1?n:n.trim().slice(0,i)},n}();window.ej.createObject("ej.DashboardDesignerUtility.ExpressionParsor",InternalExpressionParsor,window);InternalExpressionEditor=function(){function n(){this.reportDesigner=null;this.designId=null;this.dataSets=null;this.targetInstance=null;this.targetMethod=null;this.targetType=null;this.dataset=null;this.parameters=null;this.targetName="";this.oldValue=null;this.textArea=null;this.expressionType=null;this.footerTag=null;this.waterMarkText="Expression";this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.dataSets=ejDashboardDesigner.getInstance("DataSet").datasets;this.parameters=ejDashboardDesigner.getInstance("Parameter").parameters;this.designId=this.reportDesigner._id;this.expressionEditor()}return Object.defineProperty(n,"Expression",{get:function(){return(this.expression===null||this.expression===undefined)&&(this.expression=new ej.DashboardDesignerUtility.Expression),this.expression},enumerable:!0,configurable:!0}),n.prototype.expressionEditor=function(){var t=ej.buildTag("div.e-userselect","",{},{id:this.designId+"_exp_editor"}),i=ej.buildTag("div","",{},{id:this.designId+"_exp_editor_id"}),n=ej.buildTag("table.e-designer-exp-table","",{"margin-left":"1px"},{unselectable:"on"}),r=ej.buildTag("tr","",{}),u=ej.buildTag("td","",{"font-size":"12px"},{}),st=ej.buildTag("label.e-designer-title-label","",{"margin-left":"9px"},{id:this.designId+"_exp_trgt_name"}),f=ej.buildTag("tr","",{height:"120px",width:"627px"}),e=ej.buildTag("td","",{"font-size":"12px"},{}),o=this.textArea=ej.buildTag("textarea.e-textarea e-designer-textarea","",{height:"115px",width:"648px","margin-top":"6px","margin-left":"9px"},{id:this.designId+"_exp_textarea",spellcheck:"false"}),s=ej.buildTag("tr","",{height:"255px",width:"627px"}),h=ej.buildTag("td","",{}),c=ej.buildTag("table.e-designer-exp-table","",{height:"255px",width:"667px","margin-left":"7px"}),l=ej.buildTag("tr","",{height:"35px",width:"652px"}),ht=ej.buildTag("tr","",{height:"5px",width:"652px"}),a=ej.buildTag("td.e-designer-title-label","Options",{height:"35px",width:"207px"}),v=ej.buildTag("div","",{"margin-top":"6px"},{}),y=ej.buildTag("input","",{"margin-top":"5px"},{id:this.designId+"_expression_options"}),ct=ej.buildTag("div","",{},{id:this.designId+"_exp_option_div"}),p=ej.buildTag("td.e-designer-title-label","Data",{width:"207px"}),w=ej.buildTag("div","",{"margin-top":"6px"},{}),b=ej.buildTag("input","",{height:"35px",width:"200px"},{id:this.designId+"_expression_data"}),lt=ej.buildTag("div","",{},{id:this.designId+"_exp_data_div"}),at=ej.buildTag("td","",{height:"35px",width:"200px"}),k=ej.buildTag("tr","",{height:"210px",width:"652px"}),d=ej.buildTag("td","",{height:"210px",width:"207px"}),g=ej.buildTag("td","",{height:"210px",width:"207px"}),nt=ej.buildTag("td","",{height:"210px",width:"200px"}),tt=ej.buildTag("div","",{},{}),it=ej.buildTag("ul","",{},{id:this.designId+"_exp_option_list"}),rt=ej.buildTag("div","",{},{}),ut=ej.buildTag("ul","",{},{id:this.designId+"_exp_data_list"}),ft=ej.buildTag("div.e-designer-cursor","",{height:"210px"},{id:this.designId+"_cat_desc"}),vt=ej.buildTag("div.e-designer-title-label","",{height:"auto","margin-bottom":"2px"},{id:this.designId+"_desc_heading"}),yt=ej.buildTag("div","",{"text-align":"justify",height:"auto","font-size":"12px"},{id:this.designId+"_desc_content"}),pt=ej.buildTag("div","",{height:"7px"},{}),wt=ej.buildTag("div.e-designer-title-label","",{height:"auto","margin-bottom":"2px"},{id:this.designId+"_example_heading"}),bt=ej.buildTag("div","",{float:"left","word-wrap":"break-word",height:"auto","font-size":"12px",width:"200px"},{id:this.designId+"_example_content"}),et=ej.buildTag("input","",{float:"right"},{id:this.designId+"_ok_btn"}),ot=ej.buildTag("input","",{float:"right"},{id:this.designId+"_cancel_btn"});r.append(u);u.append(st);e.append(o);f.append(e);n.append(r).append(f);l.append(a).append(p).append(at);a.append(v);v.append(y).append(ct);p.append(w);w.append(b).append(lt);c.append(l).append(ht).append(k);h.append(c);s.append(h);n.append(s);d.append(tt);tt.append(it);g.append(rt);rt.append(ut);nt.append(ft);ft.append(vt).append(yt).append(pt).append(wt).append(bt);k.append(d).append(g).append(nt);i.append(n);t.append(i);t.ejDialog({width:"auto",height:"auto",minWidth:"690px",minHeight:"215px",title:"Expression",zIndex:1e3,enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"e-designer-ejdialog",enableModal:!0});this.footerTag=$("#"+this.designId+"_exp_editor_foot");this.footerTag.append(ot).append(et);y.ejDropDownList({watermarkText:"Select an option",targetID:this.designId+"_exp_option_div",dataSource:[],cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets e-designer-drpdown-selection",popupHeight:"150px",minPopupWidth:"210px",height:"28px",showRoundedCorner:!0,change:$.proxy(this.renderDataListDataSource,this),width:"205px"});b.ejDropDownList({watermarkText:"Select a data",targetID:this.designId+"_exp_data_div",popupHeight:"150px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets e-designer-drpdown-selection",fields:{id:"id",text:"name"},dataSource:[],width:"205px",minPopupWidth:"210px",height:"28px",change:$.proxy(this.renderFieldListDataSource,this)});it.ejListBox({dataSource:[],height:"210px",change:$.proxy(this.optionClick,this),showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-list-selection",width:"205px"});ut.ejListBox({dataSource:[],height:"210px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-list-selection",width:"205px"});ot.ejButton({showRoundedCorner:!1,size:"mini",text:"Cancel",cssClass:"e-designer-cancelbtn"});et.ejButton({showRoundedCorner:!1,size:"mini",text:"Ok",cssClass:"e-designer-okbtn"});ej.DashboardUtil.txtWaterMark(o,this.waterMarkText);this.wiredEvents()},n.prototype.renderOptionField=function(n){for(var t=0;t<n.length;t++)$("#"+this.designId+"_expression_options").data("ejDropDownList").setModel({fields:{id:"id",text:"name",groupBy:"category"},dataSource:n})},n.prototype.renderDataField=function(n){$("#"+this.designId+"_expression_data").data("ejDropDownList").setModel({dataSource:n})},n.prototype.caretPosition=function(n,t){var i,f,u,r;n&&n.length>0&&(i=this.textArea.val(),i!==this.waterMarkText&&this.textArea.hasClass("e-designer-txtmark")?this.textArea.removeClass("e-designer-txtmark"):i===this.waterMarkText&&this.textArea.hasClass("e-designer-txtmark")&&(i="",this.textArea.val(i).removeClass("e-designer-txtmark")),f="=",this.textArea.focus(),u=this.textArea[0],r=u.selectionStart,i[0]!==f&&i.length>0&&(this.textArea.val(""),i=""),i.length===0&&(this.textArea.val(f),r=u.selectionStart=u.selectionEnd=1,i=f),ej.isNullOrUndefined(t)?(this.textArea.val(i.substring(0,r)+n+i.substring(r)),r=u.selectionEnd=u.value.length):(this.textArea.val(i.substring(0,r)+n+i.substring(r)),r=u.selectionEnd=r+t-1))},n.prototype.renderFieldListDataSource=function(n){var t=$("#"+this.designId+"_exp_data_list").data("ejListBox");n.value.length===0?(t.setModel({dataSource:[]}),$("#"+this.designId+"_exp_data_list").text("No report data found").css({left:"40px",top:"80px",position:"absolute"})):($("#"+this.designId+"_exp_data_list").text("").css({left:"0px",top:"0px",position:"relative",border:"none"}),t.setModel({dataSource:n.value,fields:{id:"id",text:"name"}}),t.setModel({selectedIndex:0}))},n.prototype.renderDataListDataSource=function(n){var t=$("#"+this.designId+"_exp_option_list").data("ejListBox"),i;t.setModel({dataSource:n.value,fields:{id:"id",text:"name"},selectedIndex:0});i=t.getSelectedItems();this.optionClick(i[0])},n.prototype.getAvailableParameters=function(){var t=[],n;if(!ej.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(n=0;n<this.parameters.length;n++)t.push({id:this.parameters[n].Name,name:this.parameters[n].Name,value:""});return t},n.prototype.getAvailableFields=function(){var r=[],n,i,t;if(!ej.isNullOrUndefined(this.dataSets)&&this.dataSets.length>0)for(n=0;n<this.dataSets.length;n++)if(this.dataSets[n].Name===this.dataset){for(i=this.dataSets[n].Fields,t=0;t<i.length;t++)r.push({id:i[t].Name,name:i[t].Name,value:""});break}return r},n.prototype.fieldChanged=function(n){var u=[],r=null,t,i;if(!ej.isNullOrUndefined(this.dataSets)&&this.dataSets.length>0)for(t=0;t<this.dataSets.length;t++)if(this.dataSets[t].Name===n&&!(this.dataSets[t].Name===this.dataset))for(i=0;i<this.dataSets[t].Fields.length;i++)r=this.dataSets[t].Fields[i].TypeName,r==="System.Int16"||r==="System.Int32"||r==="System.Int64"||r==="System.UInt16"||r==="System.Byte"||r==="System.SByte"||r==="System.Single"||r==="System.Double"||r==="System.Decimal"?u.push({id:this.dataSets[t].Fields[i].Name,name:"Sum("+this.dataSets[t].Fields[i].Name+")",value:this.dataSets[t].Fields[i].Name,typeName:this.dataSets[t].Fields[i].TypeName,category:this.dataSets[t].Name}):u.push({id:this.dataSets[t].Fields[i].Name,name:"First("+this.dataSets[t].Fields[i].Name+")",value:this.dataSets[t].Fields[i].Name,typeName:this.dataSets[t].Fields[i].TypeName,category:this.dataSets[t].Name});return u},n.prototype.getAvailableDatasets=function(n,t){if(!ej.isNullOrUndefined(this.dataSets)&&this.dataSets.length>0)for(var i=0;i<this.dataSets.length;i++)this.dataSets[i].Name!==this.dataset&&n.push({id:i+(t===null?2:3),name:"Fields ("+this.dataSets[i].Name+")",value:this.fieldChanged(this.dataSets[i].Name)});return n},n.prototype.optionDblClick=function(){var i=$("#"+this.designId+"_exp_option_list").data("ejListBox"),r=i.model.selectedItems,t=i.model.dataSource[r],n=null;t&&(t.isFunc?(n=t.name+"()",this.caretPosition(n,n.length)):t.isUser?(n="User!"+t.name,this.caretPosition(n)):t.isGlobal?(n="Globals!"+t.name,this.caretPosition(n)):(n=t.name,this.caretPosition(n)))},n.prototype.fieldDblClick=function(n){if(n.target.id){var r=$("#"+this.designId+"_exp_data_list").data("ejListBox"),f=r.model.selectedIndex,t=r.model.dataSource[f],e=$("#"+this.designId+"_expression_data").data("ejDropDownList"),u=e.selectedTextValue,i=null;t&&(t.typeName?t.typeName==="System.Int16"||t.typeName==="System.Int32"||t.typeName==="System.Int64"||t.typeName==="System.UInt16"||t.typeName==="System.Byte"||t.typeName==="System.SByte"||t.typeName==="System.Single"||t.typeName==="System.Double"||t.typeName==="System.Decimal"?(i="Sum(Fields!"+t.value+'.Value,"'+t.category+'")',this.caretPosition(i)):(i="First(Fields!"+t.value+'.Value,"'+t.category+'")',this.caretPosition(i)):u==="Parameters"?this.caretPosition(u+"!"+t.name+".Value"):this.caretPosition("Fields!"+t.name+".Value"))}},n.prototype.optionClick=function(n){n.data&&($("#"+this.designId+"_desc_heading").text("Description"),$("#"+this.designId+"_example_heading").text("Example"),$("#"+this.designId+"_desc_content").text(n.data.desc),$("#"+this.designId+"_example_content").text(n.data.example))},n.prototype.getOptionJSON=function(){return[{id:"Global",category:"Built-in Fields",name:"Global",value:[{id:"ExecutionTime",name:"ExecutionTime",desc:"The date and time that the report began to run.",example:"Globals!ExecutionTime",isGlobal:!0},{id:"OverallPageNumber",name:"OverallPageNumber",desc:"The current overall page number can be used only in the page header or footer.",example:"Globals!OverallPageNumber",isGlobal:!0},{id:"OverallTotalPages",name:"OverallTotalPages",desc:"The total number of pages in the report can be used only in the page header and footer.",example:"Globals!OverallTotalPages",isGlobal:!0},{id:"PageName",name:"PageName",desc:"The name of the current page in the report can be used only in the page header or footer.",example:"Globals!PageName",isGlobal:!0},{id:"PageNumber",name:"PageNumber",desc:"The current page number that can be reset through the use of page breaks can be used only in the page header or footer.",example:"Globals!PageNumber",isGlobal:!0},{id:"IsInteractive",name:"IsInteractive",desc:"A boolean that indicates whether the current rendering request uses an interactive format.",example:"Globals!IsInteractive",isGlobal:!0},{id:"Name",name:"RenderName",desc:"The name of the renderer as registered in the RSReportServer configuration file.",example:"Globals!RenderName",isGlobal:!0},{id:"ReportFolder",name:"ReportFolder",desc:"The full path to the folder containing the report does not include the report server URL.",example:"Globals!ReportFolder",isGlobal:!0},{id:"ReportName",name:"ReportName",desc:"The URL of the report server where the report is run.",example:"Globals!ReportName",isGlobal:!0},{id:"ReportServerUrl",name:"ReportServerUrl",desc:"The URL of the report server on which the report is being run.",example:"Globals!ReportServerUrl",isGlobal:!0},{id:"TotalPages",name:"TotalPages",desc:"The total number of pages in the current continuous page sequence can be used only in the page header and footer. The number can be reset by using page breaks.",example:"Globals!TotalPages",isGlobal:!0}]},{id:"User",category:"Built-in Fields",name:"User",value:[{id:"Language",name:"Language",desc:"The language ID of the client running the report.",example:"User!Language",isUser:!0},{id:"UserID",name:"UserID",desc:"The ID of the user running the report.",example:"User!UserID",isUser:!0}]},{id:"Arithmetic",category:"Operators",name:"Arithmetic",value:[{id:"Power",name:"^",desc:"Raises a number to the power of another number.",example:"=Fields!NumberCarsOwned.Value ^ 3"},{id:"Multiply",name:"*",desc:"Multiplies two numbers.",example:"=Fields!NumberCarsOwned.Value * 2"},{id:"FloatDivision",name:"/",desc:"Divides two numbers and returns a floating-point.",example:"=Fields!YearlyIncome.Value / 2"},{id:"IntegerDivision",name:"\\",desc:"Divides two numbers and returns an integer.",example:"=Fields!YearlyIncome.Value \\ 2"},{id:"Mod",name:"Mod",desc:"Divides two numbers and returns only the remainder.",example:"=Fields!YearlyIncome.Value Mod 12"},{id:"Add",name:"+",desc:"Adds two numbers and can be used to concatenate two strings.",example:"=Fields!NumberCarsOwned.Value + 2"},{id:"Difference",name:"-",desc:"Yields the difference between two numbers or indicates the negative value of a numeric expression.",example:"=Fields!NumberCarsOwned.Value - 2"}]},{id:"Comparison",category:"Operators",name:"Comparison",value:[{id:"Lesser",name:"<",desc:"Less than.",example:"=Fields!YearlyIncome.Value < 25000"},{id:"LesserOrEqual",name:"<=",desc:"Less than or equal to.",example:"=Fields!YearlyIncome.Value <= 25000"},{id:"Greater",name:">",desc:"Greater than.",example:"=Fields!YearlyIncome.Value > 25000"},{id:"GreaterOrEqual",name:">=",desc:"Greater than or equal to.",example:"=Fields!YearlyIncome.Value >= 25000"},{id:"Equal",name:"==",desc:"Equal to.",example:"=Fields!YearlyIncome.Value = 50000"},{id:"NotEqual",name:"<>",desc:"Not equal to.",example:"=Fields!YearlyIncome.Value <> 50000"},{id:"Like",name:"Like",desc:"Compares two strings.",example:'=Fields!FirstName.Value Like "T*"'},{id:"Is",name:"Is",desc:"Compares two object reference variables.",example:"=Fields!FirstName.Value Is Fields!LastName.Value"}]},{id:"Concatenation",category:"Operators",name:"Concatenation",value:[{id:"ExpressionConcat",name:"&",desc:"Generates a string concatenation of two expressions.",example:'=Fields!FirstName.Value & " " & Fields!LastName.Value'},{id:"StringConcat",name:"+",desc:"Adds two numbers and can be used to concatenate two strings.",example:'=Fields!FirstName.Value + " " + Fields!LastName.Value'}]},{id:"Logical-Bitwise",category:"Operators",name:"Logical/Bitwise",value:[{id:"And",name:"And",desc:"Performs a logical conjunction on two Boolean expressions, or bitwise conjunction on two numeric expressions.",example:"=(Fields!YearlyIncome.Value > 50000) And (Fields!NumberCarsOwned.Value > 2)"},{id:"Not",name:"Not",desc:"Performs logical negation on a Boolean expression, or bitwise negation on a numeric expression.",example:"=Not(Fields!YearlyIncome.Value > 50000)"},{id:"Or",name:"Or",desc:"Used to perform a logical disjunction on two Boolean expressions, or bitwise disjunction on two numeric values.",example:"=(Fields!YearlyIncome.Value > 50000) Or (Fields!NumberCarsOwned.Value > 1)"},{id:"Xor",name:"Xor",desc:"Performs a logical exclusion operation on two Boolean expressions, or a bitwise exclusion on two numeric expressions.",example:"=(Fields!YearlyIncome.Value > 50000) Xor (Fields!NumberCarsOwned.Value > 1)"},{id:"AndAlso",name:"AndAlso",desc:"Performs short-circuiting logical conjunction on two expressions.",example:"=(Fields!YearlyIncome.Value) > 50000 AndAlso (Fields!NumberCarsOwned.Value > 1)"},{id:"OrElse",name:"OrElse",desc:"Used to perform short-circuiting logical disjunction on two expressions.",example:"=(Fields!YearlyIncome.Value > 50000) OrElse (Fields!NumberCarsOwned.Value > 1)"}]},{id:"BitShift",category:"Operators",name:"Bit Shift",value:[{id:"LeftShift",name:"<<",desc:"Performs an arithmetic left shift on a bit pattern.",example:"=(Fields!IntegerCounter.Value) << 4"},{id:"RightShift",name:">>",desc:"Performs an arithmetic right shift on a bit pattern.",example:"=(Fields!IntegerCounter.Value) >> 4"}]},{id:"Text",category:"Functions",name:"Text",value:[{id:"Asc",name:"Asc",desc:"Returns an integer value representing the character code corresponding to a character.",example:"=Asc(Fields!Description.Value)",isFunc:!0},{id:"AscW",name:"AscW",desc:"Returns an integer value representing the character code corresponding to a character.",example:"=AscW(Fields!Description.Value)",isFunc:!0},{id:"Chr",name:"Chr",desc:"Returns the character associated with the specified character code.",example:"=Chr(65)",isFunc:!0},{id:"ChrW",name:"ChrW",desc:"Returns the character associated with the specified character code.",example:"=ChrW(241)",isFunc:!0},{id:"Filter",name:"Filter",desc:"Returns a zero-based array containing a subset of a string array based on specified filter criteria.",example:'=Filter(Parameters!MultivalueParameter.Value, "3", True, CompareMethod.Binary)',isFunc:!0},{id:"Format",name:"Format",desc:"Returns a string formatted according to the instructions in a format string expression.",example:'=Format(Globals!ExecutionTime, "Long Date")',isFunc:!0},{id:"FormatCurrency",name:"FormatCurrency",desc:"Returns an expression formatted as a currency value using currency symbol. defined in the system control panel.",example:"=FormatCurrency(Fields!YearlyIncome.Value,0)",isFunc:!0},{id:"FormatDateTime",name:"FormatDateTime",desc:"Returns a string expression representing a date/time value.",example:"=FormatDateTime(Fields!BirthDate.Value,DateFormat.ShortDate)",isFunc:!0},{id:"FormatNumber",name:"FormatNumber",desc:"Returns an expression formatted as a number.",example:"=FormatNumber(Fields!Weight.Value,2)",isFunc:!0},{id:"FormatPercent",name:"FormatPercent",desc:"Returns an expression formatted as a percentage (that is, multiplied by 100).",example:'=FormatPercent(Fields!Sales.Value/Sum(Fields!Sales.Value, "DataSet1"),0)',isFunc:!0},{id:"GetChar",name:"GetChar",desc:"Returns a char value representing the character from the specified index in the supplied string.",example:"=GetChar(Fields!Description.Value, 5)",isFunc:!0},{id:"InStr",name:"InStr",desc:"Returns an integer specifying the start position of the first occurrence of one string within another.",example:'=InStr(Fields!Description.Value, "car")',isFunc:!0},{id:"InStrRev",name:"InStrRev",desc:"Returns the position of the first occurrence of one string within another, starting from the right side of the string.",example:'=InStrRev(Fields!Description.Value, "car")',isFunc:!0},{id:"Join",name:"Join",desc:"Returns a string created by joining a number of substrings in an array.",example:'=Join(Parameters!MultivalueParameter.Value,",")',isFunc:!0},{id:"LCase",name:"LCase",desc:"Returns a string or character converted to lowercase.",example:"=LCase(Fields!Description.Value)",isFunc:!0},{id:"Left",name:"Left",desc:"Returns a string containing a specified number of characters from the left side of a string.",example:"=Left(Fields!Description.Value,4)",isFunc:!0},{id:"Len",name:"Len",desc:"Returns an integer containing either the number of characters in a string or the number of bytes required to store a variable.",example:"=Len(Fields!Description.Value)",isFunc:!0},{id:"LSet",name:"LSet",desc:"Returns a left-aligned string containing the specified string adjusted to the specified length.",example:"=LSet(Fields!Description.Value,4)",isFunc:!0},{id:"LTrim",name:"LTrim",desc:"Returns the string without left side trailing spaces in the given string.",example:"=LTrim(Fields!Description.Value)",isFunc:!0},{id:"Mid",name:"Mid",desc:"Returns a string containing a specified number of characters from a string.",example:"=Mid(Fields!Description.Value,3,4)",isFunc:!0},{id:"Replace",name:"Replace",desc:"Returns a string in which a specified substring has been replaced with another substring a specified number of times.",example:'=Replace(Fields!Description.Value,"tube","headlight")',isFunc:!0},{id:"Right",name:"Right",desc:"Returns a string containing a specified number of characters from the right side of a string.",example:"=Right(Fields!Description.Value,4)",isFunc:!0},{id:"RSet",name:"RSet",desc:"Returns a right-aligned string containing the specified string adjusted to the specified length.",example:"=RSet(Fields!Description.Value,4)",isFunc:!0},{id:"RTrim",name:"RTrim",desc:"Returns the string without right side trailing spaces in the given string.",example:"=RTrim(Fields!Description.Value)",isFunc:!0},{id:"Space",name:"Space",desc:"Returns a string consisting of the specified number of spaces.",example:"=Space(3)",isFunc:!0},{id:"Split",name:"Split",desc:"Returns a zero-based, one-dimensional array containing a specified number of substrings.",example:'=Split(Fields!ListWithCommas.Value,",")',isFunc:!0},{id:"StrComp",name:"StrComp",desc:"Returns -1, 0, or 1, based on the result of a string comparison.",example:"=StrComp(Fields!Description.Value,First(Fields!Description.Value))",isFunc:!0},{id:"StrConv",name:"StrConv",desc:"Returns a string converted as specified.",example:"=StrConv(Fields!Description.Value,vbProperCase)",isFunc:!0},{id:"StrDup",name:"StrDup",desc:"Returns a string or object consisting of the specified character repeated the specified number of times.",example:'=StrDup(3,"M")',isFunc:!0},{id:"StrReverse",name:"StrReverse",desc:"Returns a string in which the character order of a specified string is reversed.",example:"=StrReverse(Fields!Description.Value)",isFunc:!0},{id:"Trim",name:"Trim",desc:"Returns the string without trailing spaces in the given string",example:"=Trim(Fields!Description.Value)",isFunc:!0},{id:"UCase",name:"UCase",desc:"Returns a string or character containing the specified string converted to uppercase.",example:"=UCase(Fields!Description.Value)",isFunc:!0}]},{id:"DateTime",category:"Functions",name:"Date & Time",value:[{id:"CDate",name:"CDate",desc:"Convert to date.",example:"=CDate(Fields!BirthDate.Value)",isFunc:!0},{id:"DateAdd",name:"DateAdd",desc:"Returns a date value containing date and time values to which a specified time interval has been added.",example:'=DateAdd("d",3,Fields!BirthDate.Value)',isFunc:!0},{id:"DateDiff",name:"DateDiff",desc:"Returns a long value specifying the number of time intervals between two date values.",example:'=DateDiff("yyyy",Fields!BirthDate.Value,"1/1/2010")',isFunc:!0},{id:"DatePart",name:"DatePart",desc:"Returns an integer value containing the specified component of a given date value.",example:'=DatePart("q",Fields!BirthDate.Value,0,0)',isFunc:!0},{id:"DateSerial",name:"DateSerial",desc:"Returns a date value representing a specified year, month, and day, with the time information set tomidnight (00:00:00).",example:'=DateSerial(DatePart("yyyy",Fields!BirthDate.Value)-10, DatePart("m",Fields!BirthDate.Value)+3,DatePart("d",Fields!BirthDate.Value)-1)',isFunc:!0},{id:"DateString",name:"DateString",desc:"Returns or sets a string value representing the current date according to your system.",example:'=DatePart("m", DateString())',isFunc:!0},{id:"DateValue",name:"DateValue",desc:"Returns a date value containing the date information represented by a string, with the time information set to midnight (00:00:00).",example:'=DateValue("January 15, 2010")',isFunc:!0},{id:"Day",name:"Day",desc:"Returns an integer value from 1 through 31 representing the day of the month.",example:"=Day(Fields!BirthDate.Value)",isFunc:!0},{id:"FormatDateTime",name:"FormatDateTime",desc:"Returns a string expression representing date/time value.",example:"=FormatDateTime(Fields!BirthDate.Value,DateFormat.ShortDate)",isFunc:!0},{id:"Hour",name:"Hour",desc:"Returns an integer value from 0 through 23 representing the hour of the day.",example:"=Hour(Fields!BirthDate.Value)",isFunc:!0},{id:"Minute",name:"Minute",desc:"Returns an integer value from 0 through 59 representing the minute of the hour.",example:"=Minute(Fields!BirthDate.Value)",isFunc:!0},{id:"Month",name:"Month",desc:"Returns an integer value from 1 through 12 representing the month of the year.",example:"=Month(Fields!BirthDate.Value)",isFunc:!0},{id:"MonthName",name:"MonthName",desc:"Returns a string value containing the name of the specified month.",example:"=MonthName(10,True)",isFunc:!0},{id:"Now",name:"Now",desc:"Returns a date value containing the current date and time according to your system.",example:'="This time tomorrow is " & DateAdd("d", 1, Now())',isFunc:!0},{id:"Second",name:"Second",desc:"Returns an integer value from 0 through 59 representing the second of the minute.",example:"=Second(Fields!BirthDate.Value)",isFunc:!0},{id:"TimeOfDay",name:"TimeOfDay",desc:"Returns or sets a date value containing the current time of day according to your system.",example:'="Time of the day is " & TimeOfDay()',isFunc:!0},{id:"Timer",name:"Timer",desc:"Returns a double value representing the number of seconds elapsed since midnight.",example:'="Number of seconds since midnight " & Timer()',isFunc:!0},{id:"TimeSerial",name:"TimeSerial",desc:"Returns a date value representing a specified hour, minute, and second, with the date information set relative to January 1 of the year 1.",example:'=TimeSerial(DatePart("h",Fields!BirthDate.Value),DatePart("n",Fields!BirthDate.Value),DatePart("s",Fields!BirthDate.Value))',isFunc:!0},{id:"TimeString",name:"TimeString",desc:"Returns or sets a string value representing the current time of day according to your system.",example:"=TimeString()",isFunc:!0},{id:"TimeValue",name:"TimeValue",desc:"Returns a date value containing the time information represented by a string, with the date information set to January 1 of the year 1.",example:"= TimeValue(Fields!BirthDate.Value)",isFunc:!0},{id:"Today",name:"Today",desc:"Returns or sets a date value containing the current date according to your system.",example:'="Tomorrow is " & DateAdd("d", 1, Today())',isFunc:!0},{id:"Weekday",name:"Weekday",desc:"Returns an integer value containing a number representing the day of the week.",example:"=Weekday(Fields!BirthDate.Value,0)",isFunc:!0},{id:"WeekdayName",name:"WeekdayName",desc:"Returns a string value containing the name of the specified weekday.",example:"=WeekdayName(2,True,0)",isFunc:!0},{id:"Year",name:"Year",desc:"Returns an integer value from 1 through 9999 representing the year.",example:"=Year(Fields!BirthDate.Value)",isFunc:!0}]},{id:"Math",category:"Functions",name:"Math",value:[{id:"Abs",name:"Abs",desc:"Returns the absolute value of a single-precision floating-point number.",example:"=Abs(Fields!YearlyIncome.Value - 80000)",isFunc:!0},{id:"Acos",name:"Acos",desc:"Returns the angle whose cosine is the specified number.",example:"=Acos(Fields!Angle.Value)",isFunc:!0},{id:"Asin",name:"Asin",desc:"Returns the angle whose sine is the specified number.",example:"=Asin(Fields!Angle.Value)",isFunc:!0},{id:"Atan",name:"Atan",desc:"Returns the angle whose tangent is the specified number.",example:"=Atan(Fields!Tangent.Value)",isFunc:!0},{id:"Atan2",name:"Atan2",desc:"Returns the angle whose tangent is the quotient of two specified numbers.",example:"=Atan2(Fields!CoordinateY.Value,Fields!CoordinateX.Value)",isFunc:!0},{id:"BigMul",name:"BigMul",desc:"Produces the full product of two 32-bit numbers.",example:"=BigMul(Fields!Int32Value.Value, Fields!Int32Value.Value)",isFunc:!0},{id:"Ceiling",name:"Ceiling",desc:"Returns the smallest integer greater than or equal to the specified double-precision floating - point number.",example:"=Ceiling(Fields!YearlyIncome.Value / 7)",isFunc:!0},{id:"Cos",name:"Cos",desc:"Returns the cosine of the specified angle.",example:"=Cos(Fields!Angle.Value)",isFunc:!0},{id:"Cosh",name:"Cosh",desc:"Returns the hyperbolic cosine of the specified angle.",example:"=Cosh(Fields!Angle.Value)",isFunc:!0},{id:"Exp",name:"Exp",desc:"Returns e raised to the specified power.",example:"=Exp(Fields!IntegerCounter.Value)",isFunc:!0},{id:"Fix",name:"Fix",desc:"Returns an integer portion of a number.",example:"=Fix(Fields!YearlyIncome.Value / -3)",isFunc:!0},{id:"Floor",name:"Floor",desc:"Returns the largest integer less than or equal to the specified double-precisionfloating - point number.",example:"=Floor(Fields!YearlyIncome.Value / 12) ",isFunc:!0},{id:"Int",name:"Int",desc:"Returns an integer portion of a number.",example:"=Int(Fields!YearlyIncome.Value / 12)",isFunc:!0},{id:"Log",name:"Log",desc:"Returns the natural (base e) logarithm of a specified number.",example:"=Log(Fields!NumberValue.Value)",isFunc:!0},{id:"Log10",name:"Log10",desc:"Returns the base 10 logarithm of a specified number.",example:"=Log10(Fields!NumberValue.Value)",isFunc:!0},{id:"Max",name:"Max",desc:"Returns the maximum value from all non-null values of the specified expression.",example:'=Max(Fields!YearlyIncome.Value, "AdventureWorks", Recursive)',isFunc:!0},{id:"Min",name:"Min",desc:"Returns the minimum value from all non-null values of the specified expression.",example:'=Min(Fields!YearlyIncome.Value, "AdventureWorks", Recursive)',isFunc:!0},{id:"Pow",name:"Pow",desc:"Returns a specified number raised to the specified power.",example:"=Pow(Fields!YearlyIncome.Value,2)",isFunc:!0},{id:"Rnd",name:"Rnd",desc:"Returns a random number of type single.",example:"= Rnd(-1)",isFunc:!0},{id:"Round",name:"Round",desc:"Rounds a double-precision floating-point value to the nearest integer.",example:"=Round(Fields!YearlyIncome.Value / 12, 2)",isFunc:!0},{id:"Sign",name:"Sign",desc:"Returns a value indicating the sign of an 8-bit signed integer.",example:"=Sign(Fields!YearlyIncome.Value - 60000)",isFunc:!0},{id:"Sin",name:"Sin",desc:"Returns the sine of the specified angle.",example:"=Sin(Fields!Angle.Value)",isFunc:!0},{id:"Sinh",name:"Sinh",desc:"Returns the hyperbolic sine of the specified angle.",example:"=Sinh(Fields!Angle.Value)",isFunc:!0},{id:"Sqrt",name:"Sqrt",desc:"Returns the square root of a specified number.",example:"=Sqrt(Fields!Area.Value)",isFunc:!0},{id:"Tan",name:"Tan",desc:"Returns the tangent of the specified angle.",example:"=Tan(Fields!Angle.Value)",isFunc:!0},{id:"Tanh",name:"Tanh",desc:"Returns the hyperbolic tangent of the specified angle.",example:"=Tanh(Fields!Angle.Value)",isFunc:!0}]},{id:"Inspection",category:"Functions",name:"Inspection",value:[{id:"IsArray",name:"IsArray",desc:"Returns a Boolean value indicating whether a variable points to an array.",example:"=IsArray(Parameters!Initials.Value)",isFunc:!0},{id:"IsDate",name:"IsDate",desc:"Returns a boolean value indicating whether an expression represents a valid date value.",example:"=IsDate(Fields!BirthDate.Value)",isFunc:!0},{id:"IsNothing",name:"IsNothing",desc:"Returns a boolean value indicating whether an expression has no object assigned to it.",example:"=IsNothing(Fields!MiddleInitial.Value)",isFunc:!0},{id:"IsNumeric",name:"IsNumeric",desc:"Returns a Boolean value indicating whether an expression can be evaluated as a number.",example:"=IsNumeric(Fields!YearlyIncome.Value)",isFunc:!0}]},{id:"ProgramFlow",category:"Functions",name:"Program Flow",value:[{id:"Choose",name:"Choose",desc:"Selects and returns a value from a list of arguments.",example:'=Choose(Datepart("w", Fields!BirthDate.Value), "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh")',isFunc:!0},{id:"IIf",name:"IIf",desc:"Returns one of two objects depending upon the evaluation of an expression.",example:'=IIf(Fields!YearlyIncome.Value >= 60000,"High","Low")',isFunc:!0},{id:"Switch",name:"Switch",desc:"Evaluates a list of expressions and returns an object value corresponding to the first expression in the list that is true.",example:'=Switch(Fields!FirstName.Value = "Sue", "Susan",Fields!FirstName.Value = "Bob", "Robert")',isFunc:!0}]},{id:"Aggregate",category:"Functions",name:"Aggregate",value:[{id:"Avg",name:"Avg",desc:"Returns the average of all non-null values from the specified expression.",example:'=Avg(Fields!YearlyIncome.Value, "GroupByGender", Recursive)',isFunc:!0},{id:"Count",name:"Count",desc:"Returns a count of the values from the specified expression.",example:'=Count(Fields!FirstName.Value, "GroupByInitial", Recursive)',isFunc:!0},{id:"CountDistinct",name:"CountDistinct",desc:"Returns a count of all distinct values from the specified expression.",example:'=CountDistinct(Fields!MiddleInitial.Value, "GroupByInitial", Recursive)',isFunc:!0},{id:"CountRows",name:"CountRows",desc:"Returns a count of rows within the specified scope.",example:'=CountRows("GroupByInitial", Recursive)',isFunc:!0},{id:"First",name:"First",desc:"Returns the first value from the specified expression.",example:'=First(Fields!MiddleInitial.Value, "AdventureWorks")',isFunc:!0},{id:"Last",name:"Last",desc:"Returns the last value from the specified expression.",example:'=Last(Fields!MiddleInitial.Value, "AdventureWorks")',isFunc:!0},{id:"Max",name:"Max",desc:"Returns the maximum value from all non-null values of the specified expression.",example:'=Max(Fields!YearlyIncome.Value, "AdventureWorks", Recursive)',isFunc:!0},{id:"Min",name:"Min",desc:"Returns the minimum value from all non-null values of the specified expression.",example:'=Min(Fields!YearlyIncome.Value, "AdventureWorks", Recursive)',isFunc:!0},{id:"StDev",name:"StDev",desc:"Returns the standard deviation of all non-null values of the specified expression.",example:'=StDev(Fields!YearlyIncome.Value,"GroupByInitial",Recursive)',isFunc:!0},{id:"StDevP",name:"StDevP",desc:"Returns the population standard deviation of all non-null values of the specified expression.",example:'=StDevP(Fields!YearlyIncome.Value,"GroupByInitial",Recursive)',isFunc:!0},{id:"Sum",name:"Sum",desc:"Returns a sum of the values of the specified expression.",example:'=Sum(Fields!YearlyIncome.Value,"GroupByInitial",Recursive)',isFunc:!0},{id:"Var",name:"Var",desc:"Returns the variance of all non-null values of the specified expression.",example:'=Var(Fields!YearlyIncome.Value,"GroupByInitial",Recursive)',isFunc:!0},{id:"VarP",name:"VarP",desc:"Returns the population variance of all non-null values of the specified expression.",example:'=VarP(Fields!YearlyIncome.Value,"GroupByInitial")',isFunc:!0},{id:"RunningValue",name:"RunningValue",desc:"Uses a specified function to return a running aggregate of the specified expression.",example:'=RunningValue(Fields!YearlyIncome.Value,Sum,"AdventureWorks")',isFunc:!0},{id:"Aggregate",name:"Aggregate",desc:"Returns a custom aggregate of the specified expression, as defined by the data provider.",example:"=Aggregate(Fields!Order_Count.Value)",isFunc:!0}]},{id:"Financial",category:"Functions",name:"Financial",value:[{id:"DDB",name:"DDB",desc:"Returns a double specifying the depreciation of an asset for a specific time period using the double-declining balance method or some other method you specify.",example:"=DDB(Fields!CostOfProperty.Value,Fields!Salvage.Value,Parameters!Life.Value,Parameters!Period.Value,2)",isFunc:!0},{id:"FV",name:"FV",desc:"Returns a double specifying the future value of an annuity based on periodic, fixed payments and a fixed interest rate.",example:"=FV(Parameters!Rate.Value,Parameters!NumberOfPayments.Value,Parameters!PaymentAmount.Value,Fields!PropertyCost.Value,DueDate.EndOfPeriod)",isFunc:!0},{id:"IPmt",name:"IPmt",desc:"Returns a double specifying the interest payment for a given period of an annuity based on periodic, fixed payments and a fixed interest rate.",example:"=IPmt(Parameters!Rate.Value, Parameters!PaymentPeriod.Value, Parameters!NumberOfPayments.Value, Parameters!PresentValue.Value, 0,DueDate.EndOfPeriod)",isFunc:!0},{id:"NPer",name:"NPer",desc:"Returns a double specifying the number of periods for an annuity based on periodic fixed payments and a fixed interest rate.",example:"=NPer(Parameters!Rate.Value,Parameters!PaymentAmount.Value,Parameters!PresentValue.Value,0,DueDate.EndOfPeriod)",isFunc:!0},{id:"Pmt",name:"Pmt",desc:"Returns a double specifying the payment for an annuity based on periodic, fixed payments and a fixed interest rate.",example:"=Pmt(Parameters!Rate.Value,Parameters!NumberOfPayments.Value,Fields!PropertyCost.Value,0, DueDate.EndOfPeriod)",isFunc:!0},{id:"PPmt",name:"PPmt",desc:"Returns a double specifying the principal payment for a given period of an annuity based on periodic fixed payments and a fixed interest rate.",example:"=PPmt(Parameters!Rate.Value,Parameters!Period.Value,Parameters!NumberOfPayments.Value,Fields!PropertyCost.Value,0,DueDate.EndOfPeriod)",isFunc:!0},{id:"PV",name:"PV",desc:"Returns a double specifying the present value of an annuity based on periodic, fixed payments to be paid in the future and a fixed interest rate.",example:"=PV(Parameters!Rate.Value,Parameters!NumberOfPayments.Value,Fields!PaymentAmount.Value,0,DueDate.EndOfPeriod)",isFunc:!0},{id:"Rate",name:"Rate",desc:"Returns a double specifying the interest rate per period for an annuity.",example:"=Rate(Parameters!NumberOfPayments.Value,Parameters!PaymentAmount.Value,Parameters!PresentValue.Value,DueDate.EndOfPeriod,0.1)",isFunc:!0},{id:"SLN",name:"SLN",desc:"Returns a double specifying the straight-line depreciation of an asset for a single period.",example:"=SLN(Fields!PropertyCost.Value,Parameters!Salvage.Value,Parameters!Life.Value)",isFunc:!0},{id:"SYD",name:"SYD",desc:"Returns a double specifying the sum-of-years digits depreciation of an asset for a specified period.",example:"=SYD(Fields!PropertyCost.Value,Parameters!Salvage.Value,Parameters!Life.Value,Parameters!Period.Value)",isFunc:!0}]},{id:"Conversion",category:"Functions",name:"Conversion",value:[{id:"CBool",name:"CBool",desc:"Convert to Boolean.",example:"=CBool(Fields!HouseOwnerFlag.Value)",isFunc:!0},{id:"CByte",name:"CByte",desc:"Convert to byte.",example:"=CByte(Fields!Number.Value)",isFunc:!0},{id:"CChar",name:"CChar",desc:"Convert to char.",example:"=CChar(Fields!MaritalStatus.Value)",isFunc:!0},{id:"CDate",name:"CDate",desc:"Convert to date.",example:"=CDate(Fields!BirthDate.Value)",isFunc:!0},{id:"CDbl",name:"CDbl",desc:"Convert to double.",example:"=CDbl(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CDec",name:"CDec",desc:"Convert to decimal.",example:"=CDec(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CInt",name:"CInt",desc:"Convert to integer.",example:"=CInt(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CLng",name:"CLng",desc:"Convert to long.",example:"=CLng(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CObj",name:"CObj",desc:"Convert to object.",example:"=CObj(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CShort",name:"CShort",desc:"Convert to short.",example:"=CShort(Fields!NumberCarsOwned.Value)",isFunc:!0},{id:"CSng",name:"CSng",desc:"Convert to single.",example:"=CSng(Fields!YearlyIncome.Value)",isFunc:!0},{id:"CStr",name:"CStr",desc:"Convert to string.",example:"=CStr(Fields!YearlyIncome.Value)",isFunc:!0},{id:"Fix",name:"Fix",desc:"Returns an integer portion of a number.",example:"=Fix(Fields!YearlyIncome.Value / -3)",isFunc:!0},{id:"Hex",name:"Hex",desc:"Returns an string representing the hexadecimal value of a number.",example:"=Hex(Fields!CellColor.Value)",isFunc:!0},{id:"Int",name:"Int",desc:"Returns an integer portion of a number.",example:"=Int(Fields!YearlyIncome.Value / 12)",isFunc:!0},{id:"Oct",name:"Oct",desc:"Returns a string representing the octal value of a number.",example:"=Oct(Fields!BitString.Value)",isFunc:!0},{id:"Str",name:"Str",desc:"Returns a string representing of a number.",example:"=Str(Fields!YearlyIncome.Value)",isFunc:!0},{id:"Val",name:"Val",desc:"Returns a numbers in a string as a numeric value of appropriate type.",example:"=Val(Fields!AddressLine1.Value)",isFunc:!0}]},{id:"Miscellaneous",category:"Functions",name:"Miscellaneous",value:[{id:"InScope",name:"InScope",desc:"Returns true if the current instance is within the specified scope.",example:'=InScope("table1_Group1")',isFunc:!0},{id:"Level",name:"Level",desc:"Returns a zero-based integer representing the current depth level of a recursive hierarchy.",example:'=Level("GroupByInitial")',isFunc:!0},{id:"Previous",name:"Previous",desc:"Returns the value of the expression for the previous row of data.",example:"=Previous(Fields!FirstName.Value)",isFunc:!0},{id:"RowNumber",name:"RowNumber",desc:"Returns a running count of all rows in the specified scope.",example:'=RowNumber("AdventureWorks")',isFunc:!0}]}]},n.prototype.getFieldJSON=function(){var n=null,t=[{id:1,name:"Parameters",value:this.getAvailableParameters()}];return ej.isNullOrUndefined(this.dataset)||this.dataset===""||(n={id:2,name:"Fields ("+this.dataset+")",value:this.getAvailableFields()},t.push(n)),this.getAvailableDatasets(t,n)},n.prototype.openEditor=function(n,t,i,r,u,f,e,o){var s;this.resetExpression();this.dataset=f;this.targetInstance=t;this.targetMethod=i;this.targetType=r;this.targetName=u;this.oldValue=n;this.optionsType=o;this.expressionType=e;this.dataSets=ejDashboardDesigner.getInstance("DataSet").datasets;this.parameters=ejDashboardDesigner.getInstance("Parameter").parameters;this.renderOptionField(this.getOptionJSON());this.renderDataField(this.getFieldJSON());$("#"+this.designId+"_exp_trgt_name").text("Set expression for : "+this.targetName);$("#"+this.designId+"_exp_editor").data("ejDialog").open();$("#"+this.designId+"_expression_options").data("ejDropDownList").selectItemByText(ej.isNullOrUndefined(o)?"Global":o);$("#"+this.designId+"_expression_data").data("ejDropDownList").selectItemsByIndices(0);!ej.isNullOrUndefined(n)&&n.length>0?(this.textArea.val(n),this.textArea.focus(),s=this.textArea[0],s.selectionStart=s.selectionEnd=n.length):(this.textArea.val("="),this.textArea.focus(),s=this.textArea[0],s.selectionStart=s.selectionEnd=1);this.textArea.hasClass("e-designer-txtmark")&&this.textArea.removeClass("e-designer-txtmark")},n.prototype.hideEditor=function(){$("#"+this.designId+"_exp_editor").data("ejDialog").close()},n.prototype.resetExpression=function(){this.targetInstance=null;this.targetMethod=null;this.targetType=null;this.targetName=" ";this.dataset=null;this.oldValue=null;this.optionsType=null;this.expressionType=null;$("#"+this.designId+"_exp_trgt_name").text("Set expression for : "+this.targetName);this.textArea.val("");$("#"+this.designId+"_exp_data_list").text("");$("#"+this.designId+"_desc_heading").text("");$("#"+this.designId+"_example_heading").text("");$("#"+this.designId+"_desc_content").text("");$("#"+this.designId+"_example_content").text("");$("#"+this.designId+"_exp_option_list").data("ejListBox").setModel({dataSource:[]});$("#"+this.designId+"_exp_data_list").data("ejListBox").setModel({dataSource:[]});$("#"+this.designId+"_expression_options").data("ejDropDownList").clearText();$("#"+this.designId+"_expression_data").data("ejDropDownList").clearText();this.dataSets=null;this.parameters=null},n.prototype.saveClick=function(){var t=!0,n=this.textArea.val();if(n===this.waterMarkText&&this.textArea.hasClass("e-designer-txtmark")&&(n=""),!ej.isNullOrUndefined(this.expressionType))if(n[0]==="=")t=!0;else switch(this.expressionType.type.toLowerCase()){case"float":t=n.match("^[-+]?[0-9]+.[0-9]+$")||n.match("^[-+]?[0-9]+$")?!0:!1;break;case"bool":t=n.toLowerCase()==="true"||n.toLowerCase()==="false"?!0:!1;break;default:t=!0}t?n!==this.oldValue&&this.targetInstance!==null?(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[n,this.targetType]),this.hideEditor()):n===this.oldValue&&this.hideEditor():ej.DashboardUtil.getInstance().ejAlertDialog("Expression","The string '"+n+"' is not a valid "+this.expressionType.type+" value",!1,!0,!0,"")},n.prototype.wiredEvents=function(){$("#"+this.designId+"_exp_option_list").on(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.optionDblClick,this));$("#"+this.designId+"_exp_data_list").on(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.fieldDblClick,this));$("#"+this.designId+"_ok_btn").on("click",$.proxy(this.saveClick,this));$("#"+this.designId+"_cancel_btn").on("click",$.proxy(this.hideEditor,this))},n.prototype.unWiredEvents=function(){$("#"+this.designId+"_exp_option_list").off(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.optionDblClick,this));$("#"+this.designId+"_exp_data_list").off(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.fieldDblClick,this));$("#"+this.designId+"_ok_btn").off("click",$.proxy(this.saveClick,this));$("#"+this.designId+"_cancel_btn").off("click",$.proxy(this.hideEditor,this))},n.prototype.destroy=function(){this.unWiredEvents();ej.DashboardUtil.destroyEjObjects($("#"+this.designId+"_exp_editor"));$("#"+this.designId+"_exp_editor").length>0&&$("#"+this.designId+"_exp_editor").remove()},n}();window.ej.createObject("ej.DashboardDesignerUtility.Expression",InternalExpressionEditor,window),function(n){n[n.Text="Text"]="Text";n[n.Number="Number"]="Number";n[n.Date="Date & Time"]="Date";n[n.Conversion="Conversion"]="Conversion";n[n.Aggregate="Aggregate"]="Aggregate";n[n.Miscellaneous="Miscellaneous"]="Miscellaneous"}(OptionsType||(OptionsType={}));InternalFileDatasource=function(){function n(){this.dashboardDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.dashboardDesigner._id}return Object.defineProperty(n,"FileDatasource",{get:function(){return(this.fileDatasource===null||this.fileDatasource===undefined)&&(this.fileDatasource=new ej.DashboardDesignerUtility.FileDatasource),this.fileDatasource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_file_datasource").length>0?this.resetConfiguration():(this.fileConfig=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_file_datasource"}),n.append(this.fileConfig),this.renderFileDatasourcePanel(),this.renderUploadBox());this.showConfiguration(!0)},n.prototype.renderFileDatasourcePanel=function(){var u=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_file_local_table"}),f=ej.buildTag("tr","",{}),e=ej.buildTag("td","",{}),n=ej.buildTag("table","",{unselectable:"on"}),t=ej.buildTag("tr","",{},{}),o=ej.buildTag("td","",{}),l=ej.buildTag("label.editLabel e-designer-title-label","File Path",{}),s=ej.buildTag("td","",{},{id:this.id+"_fileDatasource_path_error_icon_td"});ej.DashboardUtil.renderErrIndictor(s,this.id);var i=ej.buildTag("tr","",{height:"22.5px"},{id:this.id+"_fileDatasource_path_td"}),h=ej.buildTag("td","",{},{colspan:"2"}),c=ej.buildTag("td","",{},{}),a=this.filePath=ej.buildTag("input.e-textbox e-designer-content-label","",{height:"25px","border-right":"0px","padding-bottom":"0.5px","padding-top":"0.5px",width:"218px"},{id:this.id+"_fileDatasource_path",type:"text",readonly:"readonly"}),r=ej.buildTag("div.e-designer-content-label","",{display:"inline-block","margin-left":"-32px"},{id:this.id+"_file_datasource_browse"}),v=ej.buildTag("span.e-reportdesigner-horizontal-browse e-reportdesigner-browse-icon","",{"font-size":"16px","margin-top":"6px"});this.fileConfig.append(u);u.append(f);f.append(e);e.append(n);n.append(t);o.append(l);t.append(o);t.append(s);n.append(i);h.append(a);i.append(h);i.append(c);r.append(v);c.append(r);r.ejButton({width:"18px",height:"21.5px",showRoundedCorner:!1,click:$.proxy(this.onBrowseClick,this)})},n.prototype.renderUploadBox=function(){var n=ej.buildTag("div","",{height:"0px"},{id:this.id+"_fileDatasource_upload"});this.dashboardDesigner.element.append(n);n.ejUploadbox({width:"0px",height:"0px",uploadName:"file",extensionsAllow:".xls,.xlsx,.xslm,.csv,.json,.txt,.xer",autoUpload:!0,showFileDetails:!1,dialogAction:{content:this.dashboardDesigner.element},saveUrl:this.dashboardDesigner.model.serviceUrl+"/UploadReportAction",fileSelect:$.proxy(this.onfileSelect,this),error:$.proxy(this.onuploadError,this)});$(this.id+"_fileDatasource_upload_SelectButton").hide()},n.prototype.onBrowseClick=function(){$("#"+this.id+"_fileDatasource_upload .e-uploadinput").click()},n.prototype.onfileSelect=function(n){this.filePath.val(n.files[0].name)},n.prototype.onuploadError=function(){ej.DashboardUtil.getInstance().ejAlertDialog("Upload","Error in Uploading File. Please Upload again",!1,!0,!1,"")},n.prototype.editConfiguration=function(n){this.hideValidationMsg();this.renderConfiguration(this.datasource.configTable);this.filePath.val(n.ConnectionProperties.FileName)},n.prototype.showConfiguration=function(n){this.fileConfig.css("display",n?"table-row":"none");this.fileConfig.children().show()},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.filePath.val("")},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.filePath.attr("id"),!1)},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;n.ConnectionProperties.FileName=t.FileName},n.prototype.getDatasourceInfo=function(n){var t=!0;return(this.filePath.val().length===0?(this.datasource.showValidationMsg(this.filePath.attr("id"),!0,"Specify the file path"),t=!1):this.hideValidationMsg(),t)?{Name:n,Provider:"File",IsIntegrated:!1,SecurityType:"None",Username:"",Password:"",ConnectionString:"",FileName:this.filePath.val()}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.FileDatasource",InternalFileDatasource,window);InternalFilterConfiguration=function(){function n(){this.id=null;this.reportItems=[];this.filterContainer=null;this.filterFooterTag=null;this.updateBtnTag=null;this.configChooserTag=null;this.masterFooterTag=null;this.masterElementContainer=null;this.masterScrollElement=null;this.masterUlTag=null;this.listContainer=null;this.masterListContainer=null;this.profileField=null;this.defaultContainer=null;this.customContainer=null;this.listenerField=null;this.listenerElementContainer=null;this.profileAddIcon=null;this.columnConfig=null;this.errorMsg="Enter a value for this property";this.selectedMaster=null;this.columnContainer=null;this.filterActionInfo=null;this.isCustomColumnModified=!1;this.isChangedCheckBoxValue=!1;this.targetInstance=null;this.targetMethod=null;this.sourceColumnData=[];this.targetSourceData=[];this.targetColumnData=[];this.ejFilterDialog=null;this.ejMasterDialog=null;this.ejColumnGridObj=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.renderFilterConfigWindow()}return Object.defineProperty(n,"FilterConfiguration",{get:function(){return(this.filterConfig===null||this.filterConfig===undefined)&&(this.filterConfig=new ej.DashboardDesignerUtility.FilterConfiguration),this.filterConfig},enumerable:!0,configurable:!0}),n.prototype.renderFilterConfigWindow=function(){var r=this.filterContainer=ej.buildTag("div.e-userselect","",{},{id:this.id+"_filter_configuration"}),l=ej.buildTag("table.e-designer-filter-config-table","",{},{unselectable:"on"}),a=ej.buildTag("tr","",{}),v=ej.buildTag("td.e-filterConfig-separator e-designer-filterConfig-td","",{"font-size":"13px"},{}),y=ej.buildTag("td.e-designer-filterConfig-td","",{"margin-left":"12px"},{}),n,u,lt,s,h,c,at;r.append(l);l.append(a);a.append(v).append(y);n=ej.buildTag("div","",{width:"175px",height:"440px"});u=ej.buildTag("div","",{"margin-left":"8px","margin-right":"8px"});v.append(n);y.append(u);var f=ej.buildTag("div","",{"border-bottom":"0.5px solid #dddddd"}),t=ej.buildTag("div","",{padding:"7px 10px",height:"20px"}),vt=ej.buildTag("span","Master Widget(s)",{}),p=ej.buildTag("span.e-icon e-plus e-designer-filter-addIcon","",{"padding-top":"3px",float:"right"});p.bind("click",$.proxy(this.addMasterItems,this));t.append(vt).append(p);f.append(t);var e=this.masterListContainer=ej.buildTag("div.e-lv e-js e-parentlv e-designer-hint-newmaster e-reportdesigner-scroller","",{width:"100%",height:n.height()-f.height(),display:"block","background-color":"#ffffff","border-left":"1px solid #dddddd"},{id:this.id+"_filter_config_listContainer"}),w=ej.buildTag("div","",{},{}),b=this.listContainer=ej.buildTag("div.e-list-container e-js e-widget e-reportdesigner-dataset","",{"border-top-width":"1px",padding:"3px 6px"},{id:this.id+"_filter_config_masterList"}),yt=this.masterUlTag=ej.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_filter_config_List_ulTag"});b.append(yt);w.append(b);e.append(w);n.append(f).append(e);var k=ej.buildTag("div","",{}),d=ej.buildTag("table","",{}),g=$("<tr><\/tr>"),nt=$("<td><\/td>"),pt=$("<td style='width:5px;'><\/td>"),tt=$("<td><\/td>"),it=ej.buildTag("div","",{}),rt=ej.buildTag("div","",{"padding-bottom":"10px"}),wt=ej.buildTag("span","Filter Profile(s)",{"padding-left":"2px"},{}),ut=this.profileAddIcon=ej.buildTag("span.e-icon e-plus e-designer-filter-addIcon","",{"padding-top":"3px",float:"right","padding-right":"2px"},{id:this.id+"_filter_config_profile_addIcon"}),i=this.profileField=ej.buildTag("div.e-reportdesigner-scroller","",{border:"1px solid #dddddd","border-radius":"4px",height:"150px",width:"250px","background-color":"#ffffff"}),ft=ej.buildTag("div","",{}),et=ej.buildTag("div","",{id:this.id+"_filter_config_profile_list"}),bt=ej.buildTag("ul.e-list-hdr e-clearall e-filter-profileList","",{width:"auto",height:"auto",padding:"0px",margin:"0px"},{id:this.id+"_filter_config_profile_ulTag"});ut.bind("click",$.proxy(this.addFilterProfile,this));et.append(bt);ft.append(et);i.append(ft);rt.append(wt).append(ut);it.append(rt).append(i);nt.append(it).append(i);var ot=ej.buildTag("div","",{}),st=ej.buildTag("div","",{"padding-bottom":"10px"}),kt=ej.buildTag("span","Listener Widget(s)",{}),o=this.listenerField=ej.buildTag("div.e-reportdesigner-scroller","",{border:"1px solid #dddddd","border-radius":"4px",height:"150px",width:"250px","background-color":"#ffffff"}),ht=ej.buildTag("div","",{}),ct=this.listenerElementContainer=ej.buildTag("div","",{},{id:this.id+"_filter_config_listener_list"}),dt=ej.buildTag("table.e-designer-listener-table","",{});st.append(kt);ct.append(dt);ht.append(ct);o.append(ht);ot.append(st).append(o);tt.append(ot);g.append(nt).append(pt).append(tt);d.append(g);k.append(d);lt=ej.buildTag("div","",{"border-bottom":"0.5px solid #dddddd","padding-top":"8px"});s=ej.buildTag("div","",{padding:"0px 3px",width:"520px"});this.renderColumnConfig(s);u.append(k).append(lt).append(s);h=this.updateBtnTag=ej.buildTag("input","",{float:"right"},{id:this.id+"_filter_config_update_btn"});c=ej.buildTag("input","",{float:"right"},{id:this.id+"_filter_config_close_btn"});r.ejDialog({width:"auto",height:"auto",minWidth:"310px",minHeight:"215px",title:"Filters Configuration",enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"e-designer-dialog e-flat-mode",enableModal:!0});c.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",text:"Close",click:$.proxy(this.closeFilterWindow,this)});h.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",text:"Update",click:$.proxy(this.updateFilterConfig,this)});at=t.height()+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10);this.generateScroller(e,n.height()-at+"px","auto");this.generateScroller(i,"150px","250px");this.generateScroller(o,"150px","250px");this.filterFooterTag=$("#"+this.id+"_filter_configuration_foot");this.filterFooterTag.append(c).append(h);this.ejFilterDialog=r.data("ejDialog");this.renderMasterWindow()},n.prototype.generateScroller=function(n,t,i){n.ejScroller({buttonSize:0,scrollerSize:9,height:t,width:i,enableTouchScroll:!0})},n.prototype.renderColumnConfig=function(n){var r=this.configChooserTag=ej.buildTag("div","",{width:"100%",float:"left",clear:"none","box-sizing":"border-box",padding:"2px","padding-top":"8px",display:"inline-block"},{}),u=ej.buildTag("div","",{width:"85px",display:"inline-block"},{}),f=ej.buildTag("div","",{width:"85px",display:"inline-block"},{}),e=ej.buildTag("input","",{},{type:"radio",name:"customchooser",id:this.id+"_filter_config_default"}),o=ej.buildTag("input","",{},{type:"radio",name:"customchooser",id:this.id+"_filter_config_custom"}),t;u.append(e);f.append(o);t=ej.buildTag("span.e-icon e-plus e-designer-filter-addIcon","",{"padding-top":"2px",float:"right","padding-right":"2px"},{});r.append(u).append(f).append(t);t.bind("click",$.proxy(this.addCustomColumn,this));e.ejRadioButton({checked:!0,change:$.proxy(this.dataChooser,this),text:"Default",cssClass:"e-designer-radiobtn"});o.ejRadioButton({checked:!1,change:$.proxy(this.dataChooser,this),text:"Custom",cssClass:"e-designer-radiobtn"});var s=this.columnContainer=ej.buildTag("div","",{height:"200px",width:"515px",display:"inline-block","margin-bottom":"5px",border:"1px solid #dddddd","border-radius":"4px","background-color":"#ffffff"},{id:this.id+"_column_config_container"}),h=this.defaultContainer=ej.buildTag("div","",{height:"200px",display:"block","background-color":"#ffffff","border-radius":"4px","border-width":"0px"},{id:this.id+"_default_column_container"}),c=ej.buildTag("div.e-designer-defaultcolumn-grid","",{height:"200px",display:"block","border-width":"0px"},{id:this.id+"_default_column_grid"}),i=this.columnConfig=ej.buildTag("div.e-reportdesigner-scroller","",{height:"200px",width:"515px",display:"inline-block","border-radius":"4px","background-color":"#ffffff"},{}),l=this.customContainer=ej.buildTag("div.e-designer-custom-column","",{display:"block","background-color":"#ffffff",height:"200px","border-width":"0px"},{id:this.id+"_custom_column_container"});i.append(l);n.append(r);n.append(s);h.append(c);s.append(i).append(h);this.generateScroller(i,"200px","515px");this.customTypeSwitcher(!1);this.createGridDefaultColumn(c)},n.prototype.createGridDefaultColumn=function(n){for(var r=[],t=[{fieldName:"SourceColumn",Name:"Source Column"},{fieldName:"TargetDataSource",Name:"Target DataSource"},{fieldName:"TargetColumn",Name:"Target Column"}],u=515/t.length,i=0;i<t.length;i++)r.push({field:t[i].fieldName,headerText:t[i].Name,width:u,textAlign:ej.TextAlign.Left});n.ejGrid({allowScrolling:!0,columns:r,allowSelection:!1});this.ejColumnGridObj=n.data("ejGrid")},n.prototype.appendMasterList=function(n,t,i){var f=n.ID,e=n.Name,r=ej.buildTag("li.e-user-select e-list e-state-default e-list-check e-designer-masterwidget-list","",{padding:"0px","list-style":"none","border-radius":"4px",margin:"2px 0px"},{id:this.id+"_li_"+f,name:e,guid:f}),o=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"8px 0px"}),s=ej.buildTag("span.e-list-text e-rel e-designer-content",e,{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle","padding-left":"2px",display:"inline-block","margin-top":"-2px",width:"122px","line-height":"normal","margin-left":"5px"},{name:e}),u;o.append(s);u=ej.buildTag("div.e-widgeticons e-reportdesigner-close","",{float:"right",display:"none",color:"#f45d5d","margin-top":"5px","margin-right":"10px"},{id:this.id+"_"+f});o.append(u);r.append(o);u.bind("click",$.proxy(this.removeMasterWidget,this,r,n,t));r.bind("click",$.proxy(this.masterWidgetSelection,this,n.Name));r.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onListItemMouseUp,this));r.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.elementMouseOver,this,u));r.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.elementMouseLeave,this,u));ej.isNullOrUndefined(i)?this.masterUlTag.append(r):i===0?(this.masterUlTag.prepend(r),r.css({"border-bottom":"0.5px solid #c8c8c8"})):this.listContainer.find("ul>li:nth-child("+i+")").after(r);this.masterListContainer.height()>this.listContainer.height()?this.masterListContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.masterListContainer)},n.prototype.elementMouseOver=function(n){n.css("display","inline-block")},n.prototype.elementMouseLeave=function(n){n.css("display","none")},n.prototype.getSelectedMasterCollection=function(n){for(var r=null,i=this.filterActionInfo.MastersCollection,t=0;t<i.length;t++)i[t].MasterInfo.Name===n&&(r=i[t]);return r},n.prototype.masterWidgetSelection=function(n){this.updateMasterDetails();var t=this.getSelectedMasterCollection(n);this.populateMasterInfo(t.MasterInfo,t.WidgetInfo);this.isChangedCheckBoxValue=!1},n.prototype.getSelectedListener=function(n){for(var i=[],t=0;t<n.length;t++)$("#"+this.id+"_listener_"+n[t].Name).data("ejCheckBox").model.checked&&i.push(n[t]);return i},n.prototype.updateMasterDetails=function(){var n;if(!ej.isNullOrUndefined(this.filterActionInfo)&&this.filterActionInfo.MastersCollection.length>0){if(!ej.isNullOrUndefined(this.selectedMaster)&&this.isCustomColumnModified)for(this.selectedMaster.MasterInfo.FilterCondition=this.getCustomColumnValues(),n=0;n<this.filterActionInfo.MastersCollection.length;n++)this.filterActionInfo.MastersCollection[n].MasterInfo.Name===this.selectedMaster.MasterInfo.Name&&(this.filterActionInfo.MastersCollection[n].MasterInfo=this.selectedMaster.MasterInfo);if(!ej.isNullOrUndefined(this.selectedMaster)&&this.isChangedCheckBoxValue)for(n=0;n<this.filterActionInfo.MastersCollection.length;n++)this.filterActionInfo.MastersCollection[n].MasterInfo.Name===this.selectedMaster.MasterInfo.Name&&(this.filterActionInfo.MastersCollection[n].WidgetInfo=this.getSelectedListener(this.selectedMaster.WidgetInfo));this.removeEmptyCustomColumn()}},n.prototype.removeMasterWidget=function(n,t){var i,r;for(n.remove(),this.scrollerRefresh(this.masterListContainer),this.resetProfileFields(),this.scrollerRefresh(this.profileField),this.resetListenerContainer(),this.scrollerRefresh(this.listenerField),i=this.filterActionInfo.MastersCollection,r=0;r<i.length;r++)i[r].MasterInfo.ID===t.ID&&i.splice(r,1);this.filterActionInfo.MastersCollection=i;this.masterUlTag.find("li").length>0?this.updateMasterSelection(this.filterActionInfo.MastersCollection[0].MasterInfo,this.filterActionInfo.MastersCollection[0].WidgetInfo):(this.resetColumnConfiguration(),this.disableFilterConfigArea(!0))},n.prototype.populateMasterInfo=function(n,t){if(this.resetProfileFields(),this.resetColumnConfiguration(),!ej.isNullOrUndefined(n)){this.selectedMaster={MasterInfo:n,WidgetInfo:t};this.appendProfileElement(n.Name,t,!0);this.profileField.find(".e-filter-profileList li").first().addClass("e-masterwidget-user-selection-active");this.populateListenerWidgets(t,n.Name);this.updateGridValues(n);this.populateCustomColumn(n);var i=n.FilterCondition.length>0?n.Option:!1;$("#"+this.id+"_filter_config_custom").data("ejRadioButton").setModel({checked:i});$("#"+this.id+"_filter_config_default").data("ejRadioButton").setModel({checked:!i});this.customTypeSwitcher(i)}this.scrollerRefresh(this.profileField)},n.prototype.onListItemMouseUp=function(n){var t=$(n.target).closest("li");t.hasClass("e-masterwidget-user-selection-active")||(t.parent().children().each(function(){var n=$(this);n.removeClass("e-masterwidget-user-selection-active");n.find("span").removeClass("e-masterwidget-user-selection-active")}),t.addClass("e-masterwidget-user-selection-active"),t.find("span").addClass("e-masterwidget-user-selection-active"))},n.prototype.addFilterProfile=function(){},n.prototype.appendProfileElement=function(n,t,i){var r=i?n+"(generated)":n,o=this.profileField.height()<this.profileField.find("#"+this.id+"_filter_config_profile_list").height(),f=o?140:150,u=ej.buildTag("li.e-user-select e-list e-list-check e-designer-filterProfile-row","",{padding:"5px 8px",margin:"6px","border-radius":"4px","list-style":"none"},{id:this.id+"_li_"+r,name:r}),e=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"3.5px 0"}),s=ej.buildTag("span.e-list-text e-rel e-user-select e-designer-fontfamily"+(ej.DashboardUtil.textWidth(r,"12px segoe ui")>=f?" e-title-tip":""),r,{width:f,"text-overflow":"ellipsis",overflow:"hidden",display:"inline-block","white-space":"nowrap","font-size":"12px","margin-left":"1px",cursor:"default"},{name:r,id:this.id+"_txtSpan_"+r}),h=ej.buildTag("span.e-widgeticons e-reportdesigner-close","",{float:"right",display:"none",color:"#f45d5d","margin-top":"6px","margin-right":"5px"},{id:this.id+"_closeIcon_"+r});e.append(s).append(h);u.append(e);this.profileField.find(".e-filter-profileList").append(u);u.bind("click",$.proxy(this.populateListeners,this,t,n));u.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onListItemMouseUp,this))},n.prototype.removefilterProfile=function(n){n.remove();this.scrollerRefresh(this.profileField);this.profileAddIcon.css("opacity")!=="1"&&this.profileAddIcon.removeAttr("disabled").css("opacity","1")},n.prototype.profileMouseOver=function(n){n.css("display","inline-block")},n.prototype.profileMouseLeave=function(n){n.css("display","none")},n.prototype.isExistProfileName=function(){return!1},n.prototype.populateListeners=function(n,t){this.populateListenerWidgets(n,t)},n.prototype.populateListenerWidgets=function(n,t){var e,f,i,r,u,o;for(this.resetListenerContainer(),e=this.listenerElementContainer.find(".e-designer-listener-table"),f=this.getAllWidgets(),i=0;i<f.length;i++)r=f[i].UniqueName,r!==t&&this.appendMasterElements(r,this.id+"_listener_"+r,!0,e,"5px 15px 0px 10px");for(u=0;u<n.length;u++)o=n[u],$("#"+this.id+"_listener_"+o.Name).data("ejCheckBox").setModel({checked:!0});this.scrollerRefresh(this.listenerField)},n.prototype.resetListenerContainer=function(){this.listenerElementContainer.find(".e-designer-listener-table tr").remove()},n.prototype.dataChooser=function(n){var t,r,i;n.isInteraction&&(t=$("#"+this.id+"_filter_config_custom").data("ejRadioButton").model.checked,t?(this.customTypeSwitcher(t),this.removeEmptyCustomColumn()):(r=this.getCustomColumnValues(),i=!0,i=this.isCustomColumnModified||this.selectedMaster.MasterInfo.Option?!0:!1,i?ej.DashboardUtil.getInstance().ejAlertDialog("Filer Configuration","This action will reset all the customizations done",!0,!1,!0,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{filterCondition:r}}):this.customTypeSwitcher(t)))},n.prototype.confirmAction=function(n,t){n?(this.customTypeSwitcher($("#"+this.id+"_filter_config_custom").data("ejRadioButton").model.checked),this.customContainer.empty(),this.selectedMaster.MasterInfo.FilterCondition=this.getFilterConditions(this.selectedMaster.MasterInfo.Name),this.updateConfigFields(this.selectedMaster.MasterInfo.FilterCondition,this.sourceColumnData,this.targetColumnData),this.isCustomColumnModified=!1,this.selectedMaster.MasterInfo.Option=!1):($("#"+this.id+"_filter_config_custom").data("ejRadioButton").setModel({checked:!0}),this.customTypeSwitcher($("#"+this.id+"_filter_config_custom").data("ejRadioButton").model.checked),this.customContainer.empty(),this.updateConfigFields(t.filterCondition,this.sourceColumnData,this.targetColumnData),this.isCustomColumnModified=!0,this.selectedMaster.MasterInfo.Option=!0)},n.prototype.getCustomColumnValues=function(){var n=this,t=!1,i=[],r=this.customContainer.find(".e-reportdesigner-column-config-row");return r.each(function(r,u){var f=$(u).attr("id"),o=$("#"+f+"_source_column").data("ejDropDownList").getSelectedValue(),h=$("#"+f+"_datasource_column").data("ejDropDownList").getSelectedValue(),s=$("#"+f+"_target_column").data("ejDropDownList").getSelectedValue(),e;o.length>0&&h.length>0&&s.length>0||(ej.DashboardUtil.showErrIndictor($("#"+f+"_col_error_icon"),!0),t=!0);o.length>0||(n.updateBorder($("#"+f+"_source_column_wrapper"),!0),t=!0);h.length>0||(n.updateBorder($("#"+f+"_datasource_column_wrapper"),!0),t=!0);s.length>0||(n.updateBorder($("#"+f+"_target_column_wrapper"),!0),t=!0);o.length>0&&h.length>0&&s.length>0&&(n.updateBorder($("#"+f+"_source_column_wrapper > span"),!1),n.updateBorder($("#"+f+"_datasource_column_wrapper > span"),!1),n.updateBorder($("#"+f+"_target_column_wrapper > span"),!1),ej.DashboardUtil.showErrIndictor($("#"+f+"_col_error_icon"),!1),e=n.createcolumnJson(),e.SourceColumn.Name=o,e.SourceColumn.ID=o,e.DataSource=h,e.TargetColumn.Name=s,e.TargetColumn.ID=s,i.push(e),t=!1)}),i},n.prototype.updateBorder=function(n,t){t?n.addClass("e-designer-error"):n.removeClass("e-designer-error")},n.prototype.createcolumnJson=function(){return{SourceColumn:{ID:"",Name:""},DataSource:"",TargetColumn:{ID:"",Name:""}}},n.prototype.customTypeSwitcher=function(n){var t=this.configChooserTag.find(".e-icon.e-plus");n?(this.defaultContainer.css("display","none"),t.css("display","table"),this.columnConfig.css({display:"block",width:"515px"}),this.columnContainer.css({opacity:"1","background-color":"#ffffff"}),this.scrollerRefresh(this.columnConfig)):(t.css("display","none"),this.columnConfig.css("display","none"),this.defaultContainer.css("display","block"),this.columnContainer.css({opacity:"0.5","background-color":"#f4f4f4"}))},n.prototype.addCustomColumn=function(){this.renderNewConfigField();this.scrollerRefresh(this.columnConfig)},n.prototype.getSourceData=function(n,t){var e=[],u,r,i,f,o;if(!ej.isNullOrUndefined(n.Values)&&n.Values.length>0)for(u=n.Values,r=0;r<u.length;r++)for(i=0;i<u[r].Values.length;i++)f=u[r].Values,o=!ej.isNullOrUndefined(t)&&t.toLowerCase()==="rangeslider"?"Measures":"Dimensions",f[i].FieldType!==o||this.isDuplicate(e,f[i].DataField)||e.push({Name:f[i].DataField});return e},n.prototype.isDuplicate=function(n,t){for(var i=0;i<n.length;i++)if(n[i].Name===t)return!0;return!1},n.prototype.getDataSets=function(n){for(var i=[],t=0;t<n.length;t++)this.isDuplicate(i,n[t].DataSource)||i.push({Name:n[t].DataSource});return i},n.prototype.updateConfigFields=function(n){for(var t=0;t<n.length;t++){var i=this.renderNewConfigField(),r=$("#"+i+"_source_column"),u=$("#"+i+"_datasource_column"),f=$("#"+i+"_target_column");r.data("ejDropDownList").selectItemByText(n[t].SourceColumn.Name);u.data("ejDropDownList").selectItemByText(n[t].DataSource);this.populateTargetColumn(this.targetColumnData,u,f,r,{});f.data("ejDropDownList").selectItemByText(n[t].TargetColumn.Name)}},n.prototype.populateCustomColumn=function(n){var f=ej.DashboardUtil.getReportItem($("#"+n.Name)),s=f.dataGroupInfo,i=n.FilterCondition,e=this.getSourceData(s,f.controlType),o=this.getDataSets(i),r=ejDashboardDesigner.getInstance("DataSet").datasets,u,t;if(this.targetColumnData=r,this.sourceColumnData=e,i.length>0)this.targetSourceData=o,this.updateConfigFields(i,e,o),this.isCustomColumnModified=!1;else{for(u=[],t=0;t<r.length;t++)u.push({Name:r[t].Name});this.targetSourceData=u}},n.prototype.renderNewConfigField=function(){var v=this.sourceColumnData,y=this.targetSourceData,p=this.targetColumnData,n=ej.getGuid(this.id+"_row_"),e=ej.buildTag("div.e-reportdesigner-column-config-row","",{padding:"4px 10px","border-radius":"4px"},{id:n,rowId:n}),s,r,u,t;this.customContainer.append(e);var i=ej.buildTag("table.e-designer-table-dialog","",{height:"40px",width:"100%"},{unselectable:"on",id:n+"_column_config_table"}),h=ej.buildTag("tr","",{},{id:n+"_link_rowTag"}),c=ej.buildTag("td","",{width:"5px","padding-left":"5px"}),o=ej.buildTag("input","",{"font-size":"12px"},{id:n+"_source_column"});c.append(o);s=ej.buildTag("td","",{width:"135px","padding-left":"5px"},{});r=ej.buildTag("input","",{"font-size":"12px"},{id:n+"_datasource_column"});s.append(r);u=ej.buildTag("td","",{width:"135px","padding-left":"5px"},{});t=ej.buildTag("input","",{"font-size":"12px"},{id:n+"_target_column"});u.append(t);var l=ej.buildTag("td","",{"padding-left":"5px",width:"10px"},{id:n+"_col_error_icon"}),a=ej.buildTag("td","",{"padding-right":"5px",width:"20px"}),f=ej.buildTag("span.e-widgeticons e-reportdesigner-close","",{cursor:"pointer",float:"right",display:"none",color:"#f45d5d","margin-right":"5px","margin-left":"5px","font-size":"9px"},{id:n+"_delete_icon"});return e.append(i),i.append(h),h.append(c).append(s).append(u).append(l).append(a),ej.DashboardUtil.renderErrIndictor(l,this.id,this.errorMsg),a.append(f),f.bind("click",$.proxy(this.deleteCustomColumn,this,e)),o.ejDropDownList({showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",width:"135px",height:"26px",dataSource:v,fields:{text:"Name",value:"Name"},watermarkText:"Source Column",change:$.proxy(this.setEmptyDataSource,this,t)}),r.ejDropDownList({showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",width:"135px",height:"26px",dataSource:y,fields:{text:"Name",value:"Name"},watermarkText:"Target DataSource",change:$.proxy(this.updateModificationStatus,this)}),t.ejDropDownList({showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",width:"135px",height:"26px",dataSource:[],fields:{text:"Name",value:"Name"},watermarkText:"Target Column",change:$.proxy(this.updateModificationStatus,this)}),u.bind("click",$.proxy(this.populateTargetColumn,this,p,r,t,o)),i.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.elementMouseOver,this,f)),i.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.elementMouseLeave,this,f)),n},n.prototype.updateModificationStatus=function(){this.isCustomColumnModified=!0},n.prototype.setEmptyDataSource=function(n){this.isCustomColumnModified=!0;var t=n.data("ejDropDownList");t.model.dataSource.length>0&&(t.model.dataSource=[],t.clearText())},n.prototype.populateTargetColumn=function(n,t,i,r){var o,u,e;if(!(i.data("ejDropDownList").model.dataSource.length>0)){var f=[],s=t.data("ejDropDownList").getSelectedValue(),h=[],l=r.data("ejDropDownList"),c=l.getSelectedValue();if(s.length>0&&c.length>0){for(u=0;u<n.length;u++)s===n[u].Name&&(f=n[u].Fields);for(o=null,u=0;u<f.length;u++)c===f[u].DataField&&(o=f[u].TypeName);for(e=0;e<f.length;e++)o===f[e].TypeName&&h.push({Name:f[e].Name})}i.data("ejDropDownList").setModel({dataSource:h})}},n.prototype.removeEmptyCustomColumn=function(){var n=this,t;this.customContainer.find(".e-reportdesigner-column-config-row").length>0&&(t=this.customContainer.find(".e-reportdesigner-column-config-row"),t.each(function(t,i){var r=$(i).attr("id");n.isEmptyRow(r)&&n.customContainer.find($("#"+r)).remove()}),this.scrollerRefresh(this.columnConfig))},n.prototype.isEmptyRow=function(n){var t=$("#"+n+"_source_column").data("ejDropDownList").getSelectedValue(),i=$("#"+n+"_datasource_column").data("ejDropDownList").getSelectedValue(),r=$("#"+n+"_target_column").data("ejDropDownList").getSelectedValue();return!(t.length>0)||!(i.length>0)||!(r.length>0)?!0:!1},n.prototype.deleteCustomColumn=function(n){this.customContainer.find(".e-reportdesigner-column-config-row").length>0&&(this.isEmptyRow(n.attr("id"))||(this.isCustomColumnModified=!0),n.remove(),this.scrollerRefresh(this.columnConfig))},n.prototype.getDefaultColumnValues=function(n){for(var r=ej.DashboardUtil.getReportItem($("#"+n.Name)),u=r.dataGroupInfo,i=this.getSourceData(u,r.controlType),f=[],t=0;t<i.length;t++)f.push({SourceColumn:i[t].Name,TargetColumn:i[t].Name,TargetDataSource:u.Dataset});return f},n.prototype.updateGridValues=function(n){var t=this.getDefaultColumnValues(n);this.ejColumnGridObj.setModel({dataSource:t})},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.updateFilterConfig=function(){this.updateMasterDetails();this.targetInstance!==null&&(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.filterActionInfo]),this.closeFilterWindow())},n.prototype.populateMasterWidgets=function(n){for(var i,r,t=0;t<n.length;t++)i=n[t].MasterInfo,r=n[t].WidgetInfo,this.appendMasterList(i,r);this.filterActionInfo.MastersCollection.length>0&&this.updateMasterSelection(this.filterActionInfo.MastersCollection[0].MasterInfo,this.filterActionInfo.MastersCollection[0].WidgetInfo);this.scrollerRefresh(this.masterListContainer)},n.prototype.updateMasterSelection=function(n,t){this.populateMasterInfo(n,t);this.masterUlTag.find("li").first().addClass("e-masterwidget-user-selection-active")},n.prototype.openFilterConfiguration=function(n,t,i){this.ejFilterDialog.open();this.resetFilter();this.targetInstance=n;this.targetMethod=t;this.filterActionInfo=i;var r=i.MastersCollection;r.length>0?(this.populateMasterWidgets(r),this.disableFilterConfigArea(!1)):this.disableFilterConfigArea(!0)},n.prototype.disableFilterConfigArea=function(n){n?(this.profileField.css({opacity:"0.5","background-color":"#f4f4f4"}),this.listenerField.css({opacity:"0.5","background-color":"#f4f4f4"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("ejRadioButton").disable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("ejRadioButton").disable(),this.profileAddIcon.attr("disabled","true").css("opacity","0.5"),this.configChooserTag.css("opacity","0.5")):(this.profileField.css({opacity:"1","background-color":"#ffffff"}),this.listenerField.css({opacity:"1","background-color":"#ffffff"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("ejRadioButton").enable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("ejRadioButton").enable(),this.profileAddIcon.removeAttr("disabled").css("opacity","1"),this.configChooserTag.css("opacity","1"))},n.prototype.resetProfileFields=function(){this.profileField.find(".e-filter-profileList li").remove()},n.prototype.resetColumnConfiguration=function(){$("#"+this.id+"_filter_config_custom").data("ejRadioButton").setModel({checked:!1});$("#"+this.id+"_filter_config_default").data("ejRadioButton").setModel({checked:!0});this.customTypeSwitcher(!1);this.customContainer.empty();this.ejColumnGridObj.setModel({dataSource:[]})},n.prototype.resetFilter=function(){this.masterUlTag.children().length>0&&(this.masterUlTag.empty(),this.scrollerRefresh(this.masterListContainer));this.resetListenerContainer();this.resetProfileFields();this.resetColumnConfiguration();this.reportItems=[];this.targetInstance=null;this.targetMethod=null;this.isCustomColumnModified=!1;this.filterActionInfo=null},n.prototype.closeFilterWindow=function(){this.ejFilterDialog.close()},n.prototype.renderMasterWindow=function(){var n=ej.buildTag("div.e-userselect","",{},{id:this.id+"_add_master"}),u=ej.buildTag("div","",{"padding-bottom":"10px"}),s=ej.buildTag("span","Choose Widget(s)",{}),t=this.masterScrollElement=ej.buildTag("div.e-reportdesigner-scroller","",{width:"100%",height:"300px",border:"1px solid #dddddd","border-radius":"4px",padding:"5px 0px"},{id:this.id+"_add_master_container"}),f=ej.buildTag("div","",{}),e=this.masterElementContainer=ej.buildTag("div","",{},{id:this.id+"_add_master_fields"}),o=ej.buildTag("table.e-designer-master-table","",{}),i,r;e.append(o);f.append(e);t.append(f);u.append(s);n.append(u).append(t);i=ej.buildTag("input","",{float:"right"},{id:this.id+"_master_add_ok_btn"});r=ej.buildTag("input","",{float:"right"},{id:this.id+"_master_add_cancel_btn"});n.ejDialog({width:"auto",height:"auto",minWidth:"280px",minHeight:"215px",title:"Add Master(s)",zIndex:1e3,enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"e-designer-dialog",enableModal:!0});r.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",text:"Cancel",click:$.proxy(this.closeMasterWindow,this)});i.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",text:"Ok",click:$.proxy(this.updateMasterInfo,this,o)});t.ejScroller({buttonSize:0,scrollerSize:9,height:"200px",width:"auto",enableTouchScroll:!0});this.masterFooterTag=$("#"+this.id+"_add_master_foot");this.masterFooterTag.append(r).append(i);this.ejMasterDialog=n.data("ejDialog")},n.prototype.isAvailableMaster=function(n){for(var t=0;t<this.filterActionInfo.MastersCollection.length;t++)if(n===this.filterActionInfo.MastersCollection[t].MasterInfo.Name)return!0;return!1},n.prototype.getAllWidgets=function(){for(var r,u=ejDashboardDesigner.getInstance("DesignPanel").designCanvas,t=u.find(".e-reportitem"),i=[],n=0;n<t.length;n++)r=ej.DashboardUtil.getReportItem($(t[n])),i.push(r.getReportItemJson());return i},n.prototype.getRemainingWidgets=function(){for(var t=this.getAllWidgets(),i=[],n=0;n<t.length;n++)this.isAvailableMaster(t[n].UniqueName)||i.push(this.getWidgetJSON(t[n].UniqueName));return i},n.prototype.createMasterInfo=function(){return{ID:"",Name:"",FilterCondition:[],Option:!1}},n.prototype.createWidgetInfo=function(){return{ID:"",Name:""}},n.prototype.createMasterCollectionJSON=function(){return{MasterInfo:null,WidgetInfo:[]}},n.prototype.generateWidgetInfo=function(n){for(var r,u=[],i=this.getAllWidgets(),t=0;t<i.length;t++)i[t].UniqueName!==n&&(r=this.createWidgetInfo(),r.ID=i[t].UniqueName,r.Name=i[t].UniqueName,u.push(r));return u},n.prototype.getFilterConditions=function(n){for(var r=[],u=ej.DashboardUtil.getReportItem($("#"+n)),f=u.dataGroupInfo,i=this.getSourceData(f,u.controlType),t=0;t<i.length;t++)r.push({SourceColumn:{ID:i[t].Name,Name:i[t].Name},TargetColumn:{ID:i[t].Name,Name:i[t].Name},DataSource:f.Dataset});return r},n.prototype.getWidgetJSON=function(n){var i=this.createMasterCollectionJSON(),t=this.createMasterInfo();return t.ID=n,t.Name=n,t.FilterCondition=this.getFilterConditions(n),i.MasterInfo=t,i.WidgetInfo=this.generateWidgetInfo(n),i},n.prototype.openMasterDialog=function(){if(this.reportItems=this.getRemainingWidgets(),this.reportItems.length>0)this.resetMasterFields(),this.ejMasterDialog.open(),this.populateWidgets(this.reportItems);else{var n=this.reportItems.length>0?"more":"";ej.DashboardUtil.getInstance().ejAlertDialog("Filters Configuration","No "+n+" widgets available",!1,!0,!1,"")}},n.prototype.addMasterItems=function(){this.openMasterDialog()},n.prototype.populateWidgets=function(n){for(var i=this.masterElementContainer.find(".e-designer-master-table"),t=0;t<n.length;t++)this.appendMasterElements(n[t].MasterInfo.Name,this.id+"_master_"+n[t].MasterInfo.Name,!1,i,"0px 20px 5px 10px");this.scrollerRefresh(this.masterScrollElement)},n.prototype.appendMasterElements=function(n,t,i,r,u){var e=ej.buildTag("tr","",{id:t+"_tr"}),o=ej.buildTag("td","",{align:"left",padding:u},{}),f;e.append(o);r.append(e);f=ej.buildTag("input","",{},{type:"checkbox",id:t});o.append(f);i?f.ejCheckBox({cssClass:"e-designer-param-assign e-designer-filter-checktext",text:n,change:$.proxy(this.changedCheckBoxValue,this,n)}):f.ejCheckBox({cssClass:"e-designer-param-assign e-designer-filter-checktext",text:n})},n.prototype.changedCheckBoxValue=function(n,t){var r,u,i,f;for(this.isChangedCheckBoxValue=!0,r=!1,u=0,i=0;i<this.selectedMaster.WidgetInfo.length;i++)if(this.selectedMaster.WidgetInfo[i].Name===n){r=!0;u=i;break}t.isChecked?r||this.selectedMaster.WidgetInfo.push({ID:n,Name:n}):(f=this.selectedMaster.WidgetInfo,r&&f.splice(u,1),this.selectedMaster.WidgetInfo=f)},n.prototype.updateMasterInfo=function(){for(var i,t=[],r=[],n=0;n<this.reportItems.length;n++)i=!1,i=$("#"+this.id+"_master_"+this.reportItems[n].MasterInfo.Name).data("ejCheckBox").isChecked(),i?(t.push(this.reportItems[n]),this.filterActionInfo.MastersCollection.push(this.reportItems[n])):r.push(this.reportItems[n]);t.length>0?(this.reportItems=r,this.closeMasterWindow(),this.disableFilterConfigArea(!1),this.masterUlTag.find("li").length>0&&this.updateMasterDetails(),this.populateMasterWidgets(t)):ej.DashboardUtil.getInstance().ejAlertDialog("Widget master's","Select a widget",!1,!0,!1,"")},n.prototype.resetMasterFields=function(){this.masterElementContainer.find(".e-designer-master-table tr").remove()},n.prototype.closeMasterWindow=function(){this.ejMasterDialog.close()},n}();window.ej.createObject("ej.DashboardDesignerUtility.FilterConfiguration",InternalFilterConfiguration,window);InternalFilterDialog=function(){function n(){this.datasetFields=[];this.filterSet=[];this.filterData=[];this.filters=[];this.datasetName=null;this.valWaterMark="Value";this.ejScrollerDivFilter=null;this.filterDialog=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.datasets=this.rdlParser.rdlJsonObj.DataSets;this.renderFilterDialog();this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"Filter",{get:function(){return(this.filter===null||this.filter===undefined)&&(this.filter=new ej.DashboardDesignerUtility.FilterDialog),this.filter},enumerable:!0,configurable:!0}),n.prototype.renderFilterDialog=function(){var n=this.filterDialog=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Filter",id:this.id+"_filter_dialog"}),u=ej.buildTag("div","",{},{}),f=ej.buildTag("table","",{width:"100%"},{}),r=ej.buildTag("tr","",{},{}),e=ej.buildTag("td","",{width:"540px"},{}),l=ej.buildTag("Label.e-designer-add-label","Include rows where the following conditions are true.",{},{type:"label"}),o=ej.buildTag("td","",{},{}),t=ej.buildTag("div","",{cursor:"pointer",float:"right"},{}),a=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_add_span"}),v=ej.buildTag("span.e-btntxt e-designer-add-btn ","ADD",{}),i=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{height:"301px",width:"613px",padding:"4px 0px",margin:"0px 0px 4px 0px"},{id:this.id+"_filter_parentContainer_div"}),y=ej.buildTag("div.e-items","",{},{id:this.id+"_filter_container_div"}),s=ej.buildTag("button.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_filter_btn_cancel"}),h=ej.buildTag("button.e-designer-okbtn","",{float:"right"},{id:this.id+"_filter_btn_ok"}),c;n.append(u);u.append(f);f.append(r);r.append(e);e.append(l);r.append(o);o.append(t);t.append(a);t.append(v);n.append(i);i.append(y);$(document.body).append(n);n.ejDialog({width:"auto",height:"auto",minWidth:640,minHeight:333,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});c=$("#"+this.id+"_filter_dialog_foot");c.append(s).append(h);h.ejButton({text:"OK",enabled:!0,showRoundedCorner:!0,size:"mini",click:$.proxy(this.saveFilter,this,!0)});s.ejButton({text:"Cancel",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeDialog,this,!0)});t.bind("click",$.proxy(this.addNewFilter,this));i.ejScroller({height:"301px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejScrollerDivFilter=i.data("ejScroller")},n.prototype.addNewFilter=function(){this.renderFilterRow()},n.prototype.renderFilterRow=function(){var g=$("#"+this.id+"_filter_container_div"),n=ej.getGuid(this.id+"_row_"),nt=ejDashboardDesigner.getInstance("DragOnDrop"),i=ej.buildTag("div.e-reportdesigner-filter-row e-drag-row","",{"padding-right":"8px","padding-left":"8px","padding-top":"4px","padding-bottom":"4px"},{unselectable:"on",id:n,rowId:n}),c=ej.buildTag("table.e-designer-table-dialog","",{width:"100%",padding:"3px"},{unselectable:"on",id:n+"_filter_container_table"}),t=ej.buildTag("tr","",{},{}),l=ej.buildTag("td","",{width:"12px"},{}),a=ej.buildTag("div.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-designer-double-drag","",{display:"block"},{id:n+"_filter_iconspan"}),v=ej.buildTag("td","",{width:"20px"},{}),y=ej.buildTag("input.e-textbox  e-drpdwn","",{padding:"1px"},{type:"text",id:n+"_filter_expdrop"}),p=ej.buildTag("td","",{width:"20px","padding-left":"10px"},{}),r,u,f,e,o,s,h;this.expression.renderExpressionElement(p,{id:n+"_filter_expField",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Filter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[n+"_filter_expdrop",n+"_filter_expField"]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[n+"_filter_expdrop",n+"_filter_expField"]},parentElement:$("#"+this.id+"_filter_dialog")}});var w=ej.buildTag("td","",{width:"20px"}),b=ej.buildTag("input.e-textbox","",{padding:"1px"},{type:"text",id:n+"_filter_operatorbox"}),k=ej.buildTag("td","",{width:"20px","padding-left":"10px"}),d=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border e-value","",{height:"21px",width:"120px",padding:"1px","padding-left":"4px"},{type:"text",id:n+"_filter_text_1"});return ej.DashboardUtil.txtWaterMark(d,this.valWaterMark),r=ej.buildTag("td","",{width:"20px","padding-left":"10px"}),this.expression.renderExpressionElement(r,{id:n+"_filter_expTxt1",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Filter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[n+"_filter_text_1",n+"_filter_expTxt1"]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[n+"_filter_text_1",n+"_filter_expTxt1"]},parentElement:$("#"+this.id+"_filter_dialog")}}),u=ej.buildTag("td","",{width:"20px","padding-right":"60px"},{id:n+"_filter_text_col2"}),f=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"21px",width:"120px",padding:"1px",display:"none","padding-left":"4px"},{type:"text",id:n+"_filter_text_2"}),ej.DashboardUtil.txtWaterMark(f,this.valWaterMark),e=ej.buildTag("td","",{display:"none","padding-left":"10px"},{id:n+"_filter_txt_exp2"}),this.expression.renderExpressionElement(e,{id:n+"_filter_expTxt2",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Filter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[n+"_filter_text_2",n+"_filter_expTxt2"]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[n+"_filter_text_2",n+"_filter_expTxt2"]},parentElement:$("#"+this.id+"_filter_dialog")}}),o=ej.buildTag("td","",{"padding-top":"6px","padding-right":"5px"}),s=ej.buildTag("td","",{"padding-top":"2px","padding-right":"5px"},{id:n+"_filter_error_td"}),ej.DashboardUtil.renderErrIndictor(s,this.id),h=ej.buildTag("span.e-chk-image e-icon e-cross-circle e-designer-delete-icon","",{cursor:"default"},{id:n+"_delete_icon"}),g.append(i),i.append(c),c.append(t),t.append(l),l.append(a),t.append(v),v.append(y),t.append(p),t.append(w),w.append(b),t.append(k),k.append(d),t.append(r),t.append(u),u.append(f),t.append(e),t.append(s),t.append(o),o.append(h),y.ejDropDownList({width:"115px",height:"25px",dataSource:this.datasetFields,fields:{text:"text"},enabled:!0,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",watermarkText:"Choose Field"}),b.ejDropDownList({dataSource:this.getOperators(),fields:{text:"text",value:"value"},enabled:!0,change:$.proxy(this.renderBetween,this,n),width:"115px",height:"25px",selectedIndex:0,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"}),h.bind("click",$.proxy(this.deleteFilter,this,i)),nt.initializeSortable(a,i,this.id+"_filter_dialog",this.id+"_filter_parentContainer_div"),this.filterScrollerRefresh(),n},n.prototype.updateValueFields=function(n,t,i,r,u,f){var e=!0,o;!n.isExp&&t.isAvailable?(u.attr("e-filter-exp",r.Value),u.val(n.exp),e=!0):r.Value.startsWith("=")&&n.isExp?(u.attr("e-filter-exp",r.Value),e=!1):(o="",r.DataType===DataTypes.DateTime&&(o=this.getDateValue(r.Value)),u.val(o.toLowerCase()==="invalidformat"||o.length===0?r.Value:o),e=!0);e?u.removeAttr("disabled"):u.attr("disabled","true");f.css("background-color",e?"white":"black")},n.prototype.updateFilterRowValues=function(n,t){var u=ej.DashboardUtil.getExpression(t.FilterExpression),r=!0,i,f,o,e,s;!u.isExp&&u.exp.length>0?(this.getExpDrpTag(n).data("ejDropDownList").selectItemByText(u.exp),r=!0):(this.getExpDrpTag(n).attr("e-filter-exp",t.FilterExpression),r=!1);this.getExpDrpTag(n).data("ejDropDownList").setModel({enabled:r});$("#"+n+"_filter_expField_Expression").css("background-color",r?"white":"black");this.getOperatorTag(n).data("ejDropDownList").selectItemsByIndices(t.Operator);i=t.FilterValues;f=ej.DashboardUtil.getExpression(i[0].Value);this.getTextBxTag1(n).removeClass("e-designer-txtmark");this.getTextBxTag2(n).removeClass("e-designer-txtmark");o=this.getSelectedField(f.exp);this.updateValueFields(f,o,n,i[0],this.getTextBxTag1(n),$("#"+n+"_filter_expTxt1_Expression"));i[1]&&(e=ej.DashboardUtil.getExpression(i[1].Value),s=this.getSelectedField(e.exp),this.updateValueFields(e,s,n,i[1],this.getTextBxTag2(n),$("#"+n+"_filter_expTxt2_Expression")))},n.prototype.closeDialog=function(){$("#"+this.id+"_filter_dialog").data("ejDialog").close()},n.prototype.deleteFilter=function(n){n.remove();this.filterScrollerRefresh()},n.prototype.filterScrollerRefresh=function(){this.ejScrollerDivFilter!==null&&this.ejScrollerDivFilter.refresh()},n.prototype.populateFilters=function(n){for(var i,t=0;t<n.length;t++)i=this.renderFilterRow(),this.updateFilterRowValues(i,n[t])},n.prototype.getDataTypeValue=function(n){var i="String",t;return ej.isNullOrUndefined(n)?i:(t=n.toLowerCase(),t==="system.datetime"||t==="system.timespan"?i="DateTime":t==="system.single"||t==="system.byte"||t==="system.int16"||t==="system.int32"||t==="system.int64"?i="Integer":t==="system.boolean"?i="Boolean":(t==="system.double"||t==="system.decimal")&&(i="Float"),i)},n.prototype.openFilterDialog=function(n,t,i,r,u){this.resetFilterDialog();this.targetInstance=t;this.targetMethod=i;this.targetArgs=r;this.datasets=ejDashboardDesigner.getInstance("DataSet").datasets;this.datasetName=u;this.datasetFields=this.getAvailableFields(this.datasetName,this.datasets);$("#"+this.id+"_filter_dialog").data("ejDialog").open();this.filters=n;this.populateFilters(n)},n.prototype.resetFilterDialog=function(){this.targetArgs=null;this.targetMethod=null;this.targetInstance=null;this.datasetName=null;this.datasetFields=[];this.filterSet=[];this.filterData=[];$("#"+this.id+"_filter_container_div").empty();this.filterScrollerRefresh()},n.prototype.renderBetween=function(n){for(var i=$("#"+this.id+"_filter_container_div .e-reportdesigner-filter-row"),t=0;t<i.length;t++)this.getOperatorTag(n).data("ejDropDownList").getSelectedValue()==="Between"?(this.getTextBxTag2(n).css({display:"block",width:"80px"}),this.getTextBxTag1(n).css({width:"80px"}),$("#"+n+"_filter_txt_exp2").css("display","table-cell"),$("#"+n+"_filter_text_col2").css("padding-right","0px")):(this.getTextBxTag2(n).css("display","none"),this.getTextBxTag1(n).css({width:"120px"}),$("#"+n+"_filter_txt_exp2").css("display","none"),$("#"+n+"_filter_text_col2").css("padding-right","60px"))},n.prototype.validateValues=function(n,t,i,r,u){var f="",e;if(!ej.isNullOrUndefined(n))return t===DataTypes.Boolean?f+=n.toLowerCase()==="true"||n.toLowerCase()==="false"?"":"Value is not a boolean value. ":t===DataTypes.Integer?(e=/^-?[0-9]*[1-9][0-9]*$/,e.test(n)||(f+="Value is not an integer. ")):t===DataTypes.Float?(e=/^[0-9]+(\.)?[0-9]*$/,e.test(n)||(f+="Value is not a float. ")):t===DataTypes.DateTime&&n.toLowerCase()==="invalid format"&&(f+="Value is an invalid date/time format."),ej.isNullOrUndefined(f)||f.length!==0?(this.updateHighlighter(u,!0),u.removeClass("e-designer-textbox-border").removeClass("e-designer-border")):(this.updateHighlighter(u,!1),u.addClass("e-designer-textbox-border").addClass("e-designer-border")),ej.DashboardUtil.contains(i,f,!0)&&(f=""),f},n.prototype.isExpressionField=function(n,t){return(!ej.isNullOrUndefined(n)&&n.length===0||ej.isNullOrUndefined(n))&&(!ej.isNullOrUndefined(t)&&t.length===0||ej.isNullOrUndefined(t))?!1:!0},n.prototype.validateOperator=function(n,t,i){var u=$("#"+i+"_filter_operatorbox_container"),r="";return ej.isNullOrUndefined(n)||((t===DataTypes.Boolean||t===DataTypes.DateTime||t===DataTypes.String)&&(n==="Top%"||n==="Bottom%")&&(r="The Top % and Bottom % filter operators requires a float or an integer datatype.",this.updateHighlighter(u,!0)),ej.isNullOrUndefined(r)||r.length!==0?this.updateHighlighter(u,!0):this.updateHighlighter(u,!1)),r},n.prototype.saveFilter=function(){var n=this,r=[],t="",i,u=!1,f=$("#"+this.id+"_filter_container_div .e-reportdesigner-filter-row");f.each(function(f,e){var o=$(e).attr("id"),s=n.createFilter(),h=n.getExpDrpTag(o).data("ejDropDownList").getSelectedValue(),v=$("#"+o+"_filter_expdrop").attr("e-filter-exp"),y=!1,p=n.getOperatorTag(o).data("ejDropDownList").getSelectedValue(),c=DataTypes.String,d,g,w,l,b,a,k;n.isExpressionField(h,v)?(n.updateHighlighter($("#"+o+"_filter_expdrop_container"),!1),!ej.isNullOrUndefined(v)&&v.length>0?(s.FilterExpression=v,y=!0):(s.FilterExpression="=Fields!"+h+".Value",y=!1)):(t+="Choose value for expression field",n.updateHighlighter($("#"+o+"_filter_expdrop_container"),!0));ej.isNullOrUndefined(h)||h.length===0||(d=n.getSelectedItem(h),c=n.getDataTypeVal(d.typeName));g=n.getOperatorIndex(p);w=n.createFilterVal();s.Operator=g;s.FilterValues=[];l=n.getTextBxTag1(o).attr("e-filter-exp");b=n.getValues(n.getTextBxTag1(o));w.Value=!ej.isNullOrUndefined(l)&&l.length>0?l:b;(ej.isNullOrUndefined(l)||l.length===0)&&(t+=n.validateValues(c===DataTypes.DateTime?n.getDateValue(b):b,c,t,o,n.getTextBxTag1(o)));w.DataType=y?DataTypes.String:n.getDataType(h);s.FilterValues.push(w);ej.isNullOrUndefined(p)||p.toLowerCase()!=="between"||(i=n.getValues(n.getTextBxTag2(o)),a=n.getTextBxTag2(o).attr("e-filter-exp"),k=n.createFilterVal(),k.Value=!ej.isNullOrUndefined(a)&&a.length>0?a:i,k.DataType=y?null:n.getDataType(h),s.FilterValues.push(k),(ej.isNullOrUndefined(a)||a.length===0)&&(t+=n.validateValues(c===DataTypes.DateTime?n.getDateValue(i):i,c,t,o,n.getTextBxTag2(o))));t+=n.validateOperator(p,c,o);ej.isNullOrUndefined(t)||t.length===0?(r.push(s),ej.DashboardUtil.showErrIndictor($("#"+o+"_filter_error_td"),!1,t)):(ej.DashboardUtil.showErrIndictor($("#"+o+"_filter_error_td"),!0,t),t="",u=!0)});u||(ej.DashboardUtil.isEqualObj(this.filters,r)||ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[r,this.targetArgs]),this.closeDialog())},n.prototype.getValues=function(n){var t=n.val();return n.hasClass("e-designer-txtmark")?"":t},n.prototype.getDateValue=function(n){var t=this.isDateFormat(n);return t.isDate?ej.parseDate(n,t.format,"en-us").toLocaleString():"Invalid format"},n.prototype.getExpressionValue=function(n){var r=$("#"+n),t=r.attr("e-filter-exp"),i;if(!ej.isNullOrUndefined(t))return r.hasClass("e-drpdwn")?(i=$("#"+n).data("ejDropDownList").getSelectedValue(),i=!ej.isNullOrUndefined(i)&&i.length>0?"=Fields!"+i+".Value":""):(r.hasClass("e-value")||r.hasClass("e-between-value"))&&(t||(t=this.getValues($("#"+n)),t=!ej.isNullOrUndefined(t)&&t.length>0?t:"")),t},n.prototype.setExpressionValue=function(n){var t=$("#"+n.arguments[0]),i=n.expression[0],u=!0,f=ej.DashboardUtil.getExpression(i),r,e;t.attr("e-filter-exp","");r="white";t.hasClass("e-drpdwn")?(e=this.getSelectedField(f.exp),u=!0,e.isAvailable||ej.isNullOrUndefined(i)?(t.data("ejDropDownList").setModel({selectedIndex:e.index}),r="white"):i&&i.startsWith("=")&&(f.isExp||i.startsWith("=Parameters!"))?(t.attr("e-filter-exp",i),u=!1,r="black"):!e.isAvailable&&f.exp.length>0&&(t.attr("e-filter-exp",f.exp),u=!1,r="black"),$("#"+n.arguments[1]+"_Expression").css("background-color",r),t.data("ejDropDownList").setModel({enabled:u})):(t.hasClass("e-value")||t.hasClass("e-between-value"))&&(e=this.getSelectedField(f.exp),f.isExp||!e.isAvailable||i.startsWith("=Parameters!")?i&&i.startsWith("=")&&(f.isExp||i.startsWith("=Parameters!"))?(t.attr("e-filter-exp",i),r="black",u=!1):(t.removeClass("e-designer-txtmark"),t.val(ej.isNullOrUndefined(i)?"":i),r="white",u=!0):(t.removeClass("e-designer-txtmark"),t.val(f.exp),r="white",t.attr("e-filter-exp",i),u=!0),$("#"+n.arguments[1]+"_Expression").css("background-color",r),u?t.removeAttr("disabled"):t.attr("disabled","true"))},n.prototype.isDateFormat=function(n){for(var i=["dd/MM/yyyy","M/d/yyyy","M/d/yy","MM/dd/yy","MM/dd/yyyy","yyyy-MM-dd","dd-MMM-yy","dddd,MMMM d,yyyy","MMMM d,yyyy","dddd,d MMMM,yyyy","d MMMM,yyyy","d MMMM yyyy","MMMM dd yyyy","dd-MMM-yyyy","MMM dd yyyy","dd-MM-yyyy","ddd MMM d yyyy","d/M/yy","h:mm tt","hh:mm tt","H:mm","HH:mm","h:mm:ss tt","hh:mm:ss tt","H:mm:ss","HH:mm:ss","dd-MMM-yy h:mm tt","dddd, MMMM d, yyyy h:mm:ss tt","MM/dd/yyyy HH:mm:ss","mm:dd:yyyy hh:mm:ss","dd-MMM-yy hh:mm:ss tt"],t=0;t<i.length;t++)if(ej.parseDate(n,i[t]))return{isDate:!0,format:i[t]};return{isDate:!1,format:""}},n.prototype.getExpDrpTag=function(n){return $("#"+n+"_filter_expdrop")},n.prototype.getOperatorTag=function(n){return $("#"+n+"_filter_operatorbox")},n.prototype.getTextBxTag1=function(n){return $("#"+n+"_filter_text_1")},n.prototype.getTextBxTag2=function(n){return $("#"+n+"_filter_text_2")},n.prototype.getSelectedField=function(n){for(var t=0;t<this.datasetFields.length;t++)if(n.length>0&&n===this.datasetFields[t].text)return{index:t,isAvailable:!0};return{index:-1,isAvailable:!1}},n.prototype.updateHighlighter=function(n,t){t?n.addClass("e-designer-error").addClass("e-designer-error-radius"):n.removeClass("e-designer-error").removeClass("e-designer-error-radius")},n.prototype.getSelectedItem=function(n){for(var t=0;t<this.datasetFields.length;t++)if(n===this.datasetFields[t].value)return this.datasetFields[t]},n.prototype.getDataTypeVal=function(n){return n.toLowerCase()==="string"?DataTypes.String:n.toLowerCase()==="boolean"?DataTypes.Boolean:n.toLowerCase()==="datetime"?DataTypes.DateTime:n.toLowerCase()==="integer"?DataTypes.Integer:n.toLowerCase()==="float"?DataTypes.Float:void 0},n.prototype.getDataType=function(n){if(!ej.isNullOrUndefined(this.getSelectedItem(n))){var t=this.getSelectedItem(n).typeName;return this.getDataTypeVal(t)}},n.prototype.getAvailableFields=function(n,t){var f=[],i,e,u,r;if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].Name===n){for(e=t[i].Fields,u=0;u<e.length;u++)r=t[i].Fields[u],f.push({id:r.Name,text:r.Name,value:r.Name,typeName:this.getDataTypeValue(r.TypeName)});break}return f},n.prototype.getOperators=function(){return[{text:"=",value:"="},{text:"Like",value:"Like"},{text:"<>",value:"<>"},{text:">",value:">"},{text:">=",value:">="},{text:"<",value:"<"},{text:"<=",value:"<="},{text:"TopN",value:"TopN"},{text:"BottomN",value:"BottomN"},{text:"Top %",value:"Top%"},{text:"Bottom %",value:"Bottom%"},{text:"In",value:"In"},{text:"Between",value:"Between"}]},n.prototype.getOperatorIndex=function(n){return n==="="?0:n==="Like"?1:n==="<>"?2:n===">"?3:n===">="?4:n==="<"?5:n==="<="?6:n==="TopN"?7:n==="BottomN"?8:n==="Top%"?9:n==="Bottom%"?10:n==="In"?11:n==="Between"?12:(n==="",null)},n.prototype.createFilter=function(){return{__type:"Syncfusion.RDL.DOM.Filter",FilterExpression:"",FilterValues:[],Operator:""}},n.prototype.createFilterVal=function(){return{__type:"Syncfusion.RDL.DOM.FilterValue",DataType:DataTypes.String,Value:null}},n.prototype.destroy=function(){ej.DashboardUtil.destroyEjObjects(this.filterDialog);this.filterDialog.length>0&&$("#"+this.id+"_filter_dialog").remove()},n}();window.ej.createObject("ej.DashboardDesignerUtility.FilterDialog",InternalFilterDialog,window);InternalFormatDialog=function(){function n(){this.previewTag=null;this.formatTag=null;this.representationTag=null;this.decimalTag=null;this.cultureTag=null;this.negativeTag=null;this.leftTextBox=null;this.rightTextBox=null;this.dialogTag=null;this.reportDesigner=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.renderFormatDialog()}return Object.defineProperty(n,"Format",{get:function(){return(this.format===null||this.format===undefined)&&(this.format=new ej.DashboardDesignerUtility.FormatDialog),this.format},enumerable:!0,configurable:!0}),n.prototype.renderFormatDialog=function(){var n=this.dialogTag=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{cursor:"default"},{id:this.id+"_format_dialog"}),t=ej.buildTag("div.e-reportdesigner-box-sizing","",{"padding-top":"6px","border-radius":"2px",overflow:"auto",height:"310px",width:"100%"},{id:this.id+"_format_body_div"}),i=ej.buildTag("div.e-reportdesigner-box-sizing","",{float:"left",width:"312px",height:"300px",padding:"10px 10px 0px 10px"},{id:this.id+"_format_head_div"}),r=ej.buildTag("div.e-reportdesigner-box-sizing","",{float:"right","border-left":"1px solid #DBDBDB",height:"300px",width:"216px","padding-top":"5px","padding-right":"10px"},{id:this.id+"_format_sub_div"}),f=ej.buildTag("div","",{"padding-bottom":"10px"},{id:this.id+"_format_type_div"}),e=ej.buildTag("table.e-designer-exp-table","",{width:"100%"},{unselectable:"on"}),u=ej.buildTag("tr","",{},{}),k=ej.buildTag("td.e-designer-fontfamily","Type",{width:"122px","font-size":"12px"},{}),o=ej.buildTag("td","",{width:"11px"},{}),s=this.formatTag=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_type_drop"}),h=ej.buildTag("div","",{},{id:this.id+"_format_prvw_div"}),c=ej.buildTag("table.e-designer-exp-table","",{width:"100%"},{unselectable:"on"}),l=ej.buildTag("tr","",{},{}),a=ej.buildTag("td","",{"padding-bottom":"51px","padding-left":"12px"},{}),d=ej.buildTag("Label.e-designer-fontfamily","Preview:",{"font-size":"14px","font-weight":"600"},{type:"label"}),v=ej.buildTag("div.e-designer-border","",{border:"1px solid #DBDBDB",height:"150px",width:"200px","margin-left":"13px",display:"block"}),y=ej.buildTag("div","",{display:"table"}),g=this.previewTag=ej.buildTag("div","",{height:"142px",width:"192px",position:"absolute","word-break":"break-all","align-items":"center",display:"flex","justify-content":"center",overflow:"hidden",padding:"4px","font-size":"24px"},{id:this.id+"_format_preview_span"}),p=ej.buildTag("input.e-designer-cancelbtn","Cancel",{float:"right"},{id:this.id+"_format_btn_cancel"}),w=ej.buildTag("input.e-designer-okbtn","OK",{float:"right"},{id:this.id+"_format_btn_ok"}),b;n.append(t);t.append(i);i.append(f);f.append(e);e.append(u);u.append(k);u.append(o);o.append(s);t.append(r);r.append(h);h.append(c);c.append(l);l.append(a);a.append(d);r.append(v);v.append(y);y.append(g);$(document.body).append(n);n.ejDialog({minWidth:560,minHeight:345,width:"auto",height:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,cssClass:"e-designer-dialog e-flat-mode",showFooter:!0,title:"Measure Formatting"});s.ejDropDownList({DataSource:[],fields:{text:"text",value:"value"},enabled:!0,width:"190px",height:"26px",change:$.proxy(this.renderFormatSample,this),selectedIndex:0,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"});b=$("#"+this.id+"_format_dialog_foot");b.append(p).append(w);p.ejButton({showRoundedCorner:!1,size:"mini",text:"Cancel",click:$.proxy(this.closeDialog,this,!0)});w.ejButton({showRoundedCorner:!1,size:"mini",text:"OK",click:$.proxy(this.saveFormat,this,!0)});this.renderFormatFields(i)},n.prototype.renderNumericTextBox=function(n){var t=ej.buildTag("tr","",{},{}),u=ej.buildTag("td.e-designer-fontfamily","Decimal Places",{width:"122px","font-size":"12px"},{}),i=ej.buildTag("td","",{width:"31px"},{}),r=this.decimalTag=ej.buildTag("input","",{},{type:"text",id:this.id+"_format_decimal"});n.append(t);t.append(u);t.append(i);i.append(r);r.ejNumericTextbox({showSpinButton:!0,width:"190px",enabled:!0,value:2,change:$.proxy(this.changeFormatValues,this),minValue:0,maxValue:6,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label"})},n.prototype.renderFormatFields=function(n){var t=ej.buildTag("div","",{},{id:this.id+"_format_div"}),u=ej.buildTag("table.e-designer-exp-table","",{width:"100%","padding-bottom":"10px"},{}),f=ej.buildTag("table.e-designer-exp-table","",{width:"100%","padding-bottom":"10px"},{}),e=ej.buildTag("tr","",{},{}),p=ej.buildTag("td.e-designer-fontfamily","Representation",{width:"122px","font-size":"12px"},{}),o=ej.buildTag("td","",{width:"20px"},{}),s=this.representationTag=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_repDrop"}),h=ej.buildTag("table.e-designer-exp-table","",{width:"100%","padding-bottom":"10px"},{}),i=ej.buildTag("tr","",{},{}),w=ej.buildTag("td.e-designer-fontfamily","Negative Values",{width:"122px","font-size":"12px"},{}),c=ej.buildTag("td","",{width:"20px"},{}),l=this.negativeTag=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_negDrop"}),a=ej.buildTag("table.e-designer-exp-table","",{width:"100%","padding-bottom":"10px"},{}),r=ej.buildTag("tr","",{},{}),b=ej.buildTag("td.e-designer-fontfamily","Currency Culture",{width:"122px","font-size":"12px"},{}),v=ej.buildTag("td","",{width:"31px"},{}),y=this.cultureTag=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_culture_drop"});n.append(t);t.append(f);f.append(e);e.append(p).append(o);t.append(u);this.renderNumericTextBox(u);t.append(a);a.append(r);r.append(b);r.append(v);v.append(y);t.append(h);h.append(i);i.append(w);i.append(c);c.append(l);o.append(s);this.renderAppendTextField(t);s.ejDropDownList({dataSource:this.getRepresentation(),fields:{text:"text",value:"value"},selectedIndex:0,width:"190px",height:"26px",change:$.proxy(this.changeFormatValues,this),showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"});l.ejDropDownList({dataSource:this.getNumberNegList(),fields:{text:"text",value:"value"},selectedIndex:0,enabled:!0,width:"190px",height:"28px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"});y.ejDropDownList({dataSource:ej.DashboardUtil.getCultures(),fields:{text:"DisplayName",value:"CurrencySymbol"},selectedIndex:201,enabled:!0,width:"190px",height:"28px",change:$.proxy(this.changeFormatValues,this),showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"})},n.prototype.renderAppendTextField=function(n){var t=ej.buildTag("div","",{}),i=ej.buildTag("div","",{width:"75px","padding-left":"4px"}),h=ej.buildTag("editLabel.e-designer-fontfamily","Append Text:",{"font-size":"12px"},{type:"label"});i.append(h);var r=ej.buildTag("table.e-designer-exp-table","",{width:"100%",padding:"10px 0px"},{}),u=$("<tr><\/tr>"),c=ej.buildTag("td","",{width:"25px"},{}),l=ej.buildTag("td.e-designer-fontfamily","Left",{"font-size":"12px"},{}),f=ej.buildTag("td","",{"padding-right":"7px"},{}),e=this.leftTextBox=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_leftText"});f.append(e);var a=ej.buildTag("td.e-designer-fontfamily","Right",{"font-size":"12px"},{}),o=ej.buildTag("td","",{},{}),s=this.rightTextBox=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_format_rightText"});o.append(s);u.append(c).append(l).append(f).append(a).append(o);r.append(u);t.append(i).append(r);n.append(t);e.ejMaskEdit({name:"mask",inputMode:ej.InputMode.Text,width:"105px",height:"28px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border",change:$.proxy(this.changeFormatValues,this)});s.ejMaskEdit({name:"mask",inputMode:ej.InputMode.Text,width:"105px",height:"28px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border",change:$.proxy(this.changeFormatValues,this)})},n.prototype.getPreviewValue=function(n,t,i,r,u){var s=Math.pow(10,3),h=Math.pow(10,6),c=Math.pow(10,9),f=12345,o="",e="";if(n.toLowerCase()!=="percentage"){switch(t){case"Auto":case"Thousands":f=f/s;o="K";break;case"Millions":f=f/h;o="M";break;case"Billions":f=f/c;o="B"}e=n.toLowerCase()==="number"?f.toFixed(i):f.toLocaleString(r.Name,{minimumFractionDigits:i,style:"currency",currency:r.CurrencyCode});e=e+o;e=u.PrefixValue+e+u.SuffixValue}else e=f.toFixed(i)+"%";return e},n.prototype.getCurrentCulture=function(){for(var i=this.cultureTag.data("ejDropDownList").model.text,t=ej.DashboardUtil.getCultures(),n=0;n<t.length;n++)if(i===t[n].DisplayName)return t[n]},n.prototype.changeFormatValues=function(){var n=this.formatTag.data("ejDropDownList").getSelectedValue();this.formatValues(n)},n.prototype.formatValues=function(n){var r=this.representationTag.data("ejDropDownList").getSelectedValue(),u=this.decimalTag.data("ejNumericTextbox").getValue(),t="";if(n.toLowerCase()==="percentage")t=this.getPreviewValue(n,r,u);else{this.enableDecimalBox();var f=this.leftTextBox.data("ejMaskEdit").get_UnstrippedValue(),e=this.rightTextBox.data("ejMaskEdit").get_UnstrippedValue(),o=this.getCurrentCulture(),i={PrefixValue:"",SuffixValue:""};i.PrefixValue=ej.isNullOrUndefined(f)?"":f;i.SuffixValue=ej.isNullOrUndefined(e)?"":e;t=this.getPreviewValue(n,r,u,o,i)}this.setPreviewTextFontSize(t);this.previewTag.text(t);this.updatePreviewContentStyle()},n.prototype.setPreviewTextFontSize=function(n){var t=this.previewTag.css("font-size"),i=ej.DashboardUtil.textWidth(n,"segoe ui "+t);this.previewTag.css("font-size",i>100?"18px":"24px")},n.prototype.updatePreviewContentStyle=function(){this.previewTag.prop("scrollHeight")>this.previewTag.innerHeight()?this.previewTag.css({"align-items":"baseline"}):this.previewTag.css("align-items","center")},n.prototype.renderFormatSample=function(n){ej.isNullOrUndefined(n.value)||(this.resetFormatSample(n.value),this.formatValues(n.value))},n.prototype.resetFormatSample=function(n){var t=this.representationTag.data("ejDropDownList"),u=this.negativeTag.data("ejDropDownList"),f=this.cultureTag.data("ejDropDownList"),i=this.leftTextBox.data("ejMaskEdit"),r=this.rightTextBox.data("ejMaskEdit");i.setModel({value:""});r.setModel({value:""});n.toLowerCase()==="number"?(this.isEnabled(t)||t.enable(),this.isEnabled(u)||u.enable(),this.isEnabled(f)||f.enable(),this.isEnabled(i)||i.enable(),this.isEnabled(r)||r.enable()):n.toLowerCase()==="currency"?(this.isEnabled(t)||t.enable(),this.isEnabled(u)&&u.disable(),this.isEnabled(f)||f.enable(),this.isEnabled(i)&&i.disable(),this.isEnabled(r)&&r.disable()):n.toLowerCase()==="percentage"&&(this.isEnabled(t)&&(t.selectItemByValue("Ones"),t.disable()),this.isEnabled(u)&&u.disable(),this.isEnabled(f)&&f.disable(),this.isEnabled(i)&&i.disable(),this.isEnabled(r)&&r.disable());this.enableDecimalBox()},n.prototype.enableDecimalBox=function(){var n=this.decimalTag.data("ejNumericTextbox"),t=this.representationTag.data("ejDropDownList").getSelectedValue();t.toLowerCase()==="auto"?n.disable():n.enable()},n.prototype.isEnabled=function(n){return n.model.enabled},n.prototype.populateFormats=function(n){var r,i;if(!ej.isNullOrUndefined(n.formatProperties)){var t=n.formatProperties,h=t.FormatType,u=t.Unit,f=t.NegativeValue,e=t.DecimalPoints,c=ej.isNullOrUndefined(t.Prefix)?"":t.Prefix,l=ej.isNullOrUndefined(t.Suffix)?"":t.Suffix,o=t.Culture,s="";if(o.length>0)for(r=ej.DashboardUtil.getCultures(),i=0;i<r.length;i++)if(o===r[i].Name){s=r[i].DisplayName;break}this.formatTag.data("ejDropDownList").selectItemByValue(h);this.representationTag.data("ejDropDownList").selectItemByValue(u.length>0?u:"Auto");this.negativeTag.data("ejDropDownList").selectItemByValue(f.length>0?f:"-12345");this.decimalTag.data("ejNumericTextbox").setModel({value:e>-1?e:0});this.leftTextBox.data("ejMaskEdit").setModel({value:l});this.rightTextBox.data("ejMaskEdit").setModel({value:c});this.cultureTag.data("ejDropDownList").selectItemByText(s)}},n.prototype.getFormatValues=function(){var i=this.formatTag.data("ejDropDownList").getSelectedValue(),r=this.representationTag.data("ejDropDownList").getSelectedValue(),u=this.negativeTag.data("ejDropDownList").getSelectedValue(),f=this.decimalTag.data("ejNumericTextbox").getValue(),e=this.leftTextBox.data("ejMaskEdit").get_UnstrippedValue(),o=this.rightTextBox.data("ejMaskEdit").get_UnstrippedValue(),s=this.getCurrentCulture(),n={},t;n.format="";n.formatProperties=ej.DashboardDesignerUtility.FormatDialog.createFormatType();n.formatProperties.Culture=s.Name;n.formatProperties.DecimalPoints=f;n.formatProperties.FormatType=i;t=null;switch(u){case"-12345":t="Default";break;case"(12345)":t="NoNegativeSignWithBracket";break;case"12345-":t="sNegativeSignInSuffix"}return n.formatProperties.NegativeValue=t,n.formatProperties.Prefix=e,n.formatProperties.Suffix=o,n.formatProperties.Unit=r,n},n.prototype.saveFormat=function(){var n=this.getFormatValues();ej.DashboardUtil.invokeCallBack(this.callBackfn,n);this.closeDialog()},n.prototype.openFormatDialog=function(n,t){this.callBackfn=null;this.resetPreviewLable();this.callBackfn=t;this.dialogTag.data("ejDialog").open();this.formatTag.data("ejDropDownList").setModel({dataSource:this.getFormatList()});n&&n.formatProperties?this.populateFormats(n):this.formatTag.data("ejDropDownList").selectItemByText("Number")},n.prototype.closeDialog=function(){this.dialogTag.data("ejDialog").close()},n.prototype.resetPreviewLable=function(){this.previewTag.text("")},n.prototype.getFormatList=function(){return[{text:"Number",value:"Number"},{text:"Currency",value:"Currency"},{text:"Percentage",value:"Percentage"}]},n.prototype.getRepresentation=function(){return[{text:"Auto",value:"Auto"},{text:"Ones",value:"Ones"},{text:"Thousands",value:"Thousands"},{text:"Millions",value:"Millions"},{text:"Billions",value:"Billions"}]},n.prototype.getNumberNegList=function(){return[{text:"-12345",value:"-12345"},{text:"(12345)",value:"(12345)"},{text:"12345-",value:"12345-"}]},n.createFormatType=function(){return{Culture:"",DecimalPoints:2,FormatType:"",NegativeValue:"",Prefix:"",Suffix:"",Unit:""}},n}();window.ej.createObject("ej.DashboardDesignerUtility.FormatDialog",InternalFormatDialog,window);InternalFormattingText=function(){function n(){this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"FormatText",{get:function(){return(this.formatText===null||this.formatText===undefined)&&(this.formatText=new ej.DashboardDesignerUtility.FormattingText),this.formatText},enumerable:!0,configurable:!0}),n.prototype.renderItem=function(n,t,i){var r=this.id+"_"+t+"_"+i.name,s="",f=$("#"+this.id+"_propertyPanelContainer").width(),u=$("#"+r);if(this.formatObj=i,this.formatObj&&this.formatObj.value&&(s=this.formatObj.value.format),u.length===0&&n){u=ej.buildTag("div","",{width:f-10,display:ej.isNullOrUndefined(i.isVisible)?"block":i.isVisible?"block":"none"},{id:r});var h=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{unselectable:"on"}),c=ej.buildTag("tr","",{height:"22.5px"},{}),l=ej.buildTag("td","",{width:(f-47)*37.21/100+"px",height:"22.5px"},{}),a=ej.buildTag("td","",{width:(f-33)*62.8/100-110+"px",height:"22.5px"},{}),p=ej.buildTag("div.e-designer-fontfamily","Format",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis",display:"inline-block"}),v=ej.buildTag("td","",{height:"22.5px"},{}),e=ej.buildTag("input.e-textbox","",{height:"25px","border-right":"0px",width:(f-10.5)*62.8/100-70+"px","padding-top":"0.5px"},{id:r+"_report_txt",type:"text"}),o=ej.buildTag("div","",{display:"inline-block","margin-left":"-4px"},{id:r+"_report_btn"}),w=ej.buildTag("span.e-reportdesigner-horizontal-browse e-reportdesigner-browse-icon","",{"font-size":"16px","margin-top":"6px"}),y=ej.buildTag("td","",{width:"20px"},{});this.expression.renderExpressionElement(y,{id:r+"_format_exp",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Format",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[r]},parentElement:n}});o.append(w);l.append(p);a.append(e);v.append(o);h.append(c);c.append(l).append(a).append(v).append(y);u.append(h);n.append(u);o.ejButton({width:"19px",height:"22.5px",showRoundedCorner:!1,click:$.proxy(this.openFormatClk,this,r)});e.bind("blur",$.proxy(this.textFocusOut,this,r));e.bind("keyup",$.proxy(this.textKeyUp,this,r))}u.length>0&&($("#"+r).css("display",!ej.isNullOrUndefined(i)&&!ej.isNullOrUndefined(i.isVisible)?i.isVisible?"block":"none":"block"),this.populateFormat(s,r))},n.prototype.openFormatClk=function(n){var i=ejDashboardDesigner.getInstance("FormatDialog"),t=null;this.formatObj&&this.formatObj.value&&(t=$.extend(!0,{},this.formatObj.value));i.openFormatDialog(t,$.proxy(this.setFormat,this,n))},n.prototype.setFormat=function(n,t){if(this.formatObj&&!ej.DashboardUtil.isEqualObj(this.formatObj.value,t)){$("#"+n+"_report_txt").val(t.format);var i=$.extend(!0,{},this.formatObj.value);this.propertyPanel.updatePropertyChange(this.formatObj.name,i,t,this.formatObj,this.formatObj.categoryName);this.formatObj.value=t}},n.prototype.textFocusOut=function(n){var i=$("#"+n+"_report_txt").val(),t;i!==this.formatObj.value.format&&(t={format:i,formatType:null},this.propertyPanel.updatePropertyChange(this.formatObj.name,this.formatObj.value,t,this.formatObj,this.formatObj.categoryName),this.formatObj.value=t)},n.prototype.textKeyUp=function(n,t){var i,r;t.keyCode===13&&(i=$("#"+n+"_report_txt").val(),i!==this.formatObj.value.format&&(r={format:i,formatType:null},this.propertyPanel.updatePropertyChange(this.formatObj.name,this.formatObj.value,r,this.formatObj,this.formatObj.categoryName),this.formatObj.value=r))},n.prototype.setExpressionValue=function(n){var t=ej.isNullOrUndefined(n.expression[0])?"":n.expression[0],i=ej.DashboardUtil.isExpression(t),r;this.formatObj&&!ej.DashboardUtil.isEqualObj(this.formatObj.value,t)&&(r={format:t,formatType:null},this.propertyPanel.updatePropertyChange(this.formatObj.name,this.formatObj.value,r,this.formatObj,this.formatObj.categoryName),this.formatObj.value=r);$("#"+n.arguments[0]+"_format_exp_Expression").css("background-color",i?"white":"black");$("#"+n.arguments[0]+"_report_txt").val(i?t:"");this.enableFields(i,n.arguments[0])},n.prototype.populateFormat=function(n,t){var r=n,i=ej.DashboardUtil.isExpression(n);$("#"+t+"_report_txt").val(i?r:"");$("#"+t+"_format_exp_Expression").css("background-color",i?"white":"black");this.enableFields(i,t)},n.prototype.getExpressionValue=function(){return this.formatObj&&this.formatObj.value?this.formatObj.value.format:""},n.prototype.enableFields=function(n,t){n?($("#"+t+"_report_txt").removeAttr("disabled").css("opacity","1"),$("#"+t+"_report_btn").data("ejButton").enable()):($("#"+t+"_report_txt").attr("disabled","true").css("opacity",".3"),$("#"+t+"_report_btn").data("ejButton").disable())},n}();window.ej.createObject("ej.DashboardDesignerUtility.FormattingText",InternalFormattingText,window);InternalGaugeReportItem=function(){function n(){this.gaugeJson=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel")}return n.prototype.renderGaugeReportElement=function(n,t){this.gaugeJson=n;var i=$("#"+t),r={left:ej.DashboardUtil.getPixelVal(this.gaugeJson.Left.size),top:ej.DashboardUtil.getPixelVal(this.gaugeJson.Top.size),width:ej.DashboardUtil.getPixelVal(this.gaugeJson.Width.size),height:ej.DashboardUtil.getPixelVal(this.gaugeJson.Height.size)};this.renderGaugeElement(i,r);this.deserializeReportItem(this.gaugeJson);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGaugeReportElement","e-gauge",this.gaugeJson.Name,null,[n,t])},n.prototype.renderGaugeItem=function(n,t,i){var r=$("#"+t);this.itemName=i;this.gaugeJson=this.getGaugeJson();this.gaugeJson.Name=ejDashboardDesigner.getAvailableName("e-gauge");n=this.getDefaultGaugeSize(i,n);this.renderGaugeElement(r,n);this.setGaugeType(i);this.setGaugeJsonValue(i,n);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGaugeItem","e-gauge",this.gaugeJson.Name,null,[n,t])},n.prototype.renderGaugeElement=function(n,t){this.gaugeDiv=ej.buildTag("div.e-gauge e-reportitem","",{left:t.left,top:t.top,width:t.width,height:t.height,position:"absolute",border:"0px none gray"},{id:this.gaugeJson.Name,Name:this.gaugeJson.Name});n.append(this.gaugeDiv);this.gaugeItem=ej.buildTag("div.gaugeitem","",{width:t.width,height:t.height,border:"1px none lightgray","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designPanel.reportDesigner._id+"gaugeItem"+this.gaugeJson.Name});this.gaugeDiv.append(this.gaugeItem);this.gaugeItem.css("pointer-events","none");this.gaugeDiv.data("Gauge",this)},n.prototype.getDefaultGaugeSize=function(n,t){switch(n){case"Radial":t.width=300;t.height=300;break;case"Half Circle":t.width=400;t.height=225;break;case"Horizontal":case"Bullet Graph":t.width=400;t.height=100;break;case"Vertical":case"Thermometer":t.width=100;t.height=300}return t},n.prototype.setGaugeType=function(n){switch(n){case"Radial":this.gaugeItem.ejCircularGauge({width:this.gaugeItem.width(),height:this.gaugeItem.height(),isResponsive:!0,scales:[{startAngle:110,sweepAngle:320,maximum:100,radius:146,majorIntervalValue:10,minorIntervalValue:2,backgroundColor:"#73c9d7",border:{color:"#73c9d7",width:1},showScaleBar:!0,showRanges:!0,backNeedleLength:10,labels:[{color:"#8c8c8c"}],pointers:[{value:10,length:95,width:7,pointerCap:{radius:12},showBackNeedle:!0}],ticks:[{type:"major",height:16,width:2,distanceFromScale:2,color:"#8c8c8c"},{type:"minor",height:8,width:1,distanceFromScale:2,color:"#8c8c8c"}],ranges:[{distanceFromScale:50,startValue:70,endValue:100,startWidth:5,endWidth:20,backgroundColor:"Red",border:{color:"Red"}}]}]});break;case"Half Circle":this.gaugeItem.ejCircularGauge({width:this.gaugeItem.width(),height:this.gaugeItem.height(),gaugePosition:"center",frame:{frameType:"halfcircle"},scales:[{startAngle:180,sweepAngle:180,maximum:100,radius:196,majorIntervalValue:10,minorIntervalValue:2,showRanges:!0,showScaleBar:!0,backgroundColor:"#73c9d7",border:{color:"#73c9d7"},labels:[{color:"#8c8c8c"}],pointers:[{value:10,showBackNeedle:!1,length:100,width:10}],pointerCap:{radius:10},ticks:[{type:"major",height:16,width:2,color:"#8c8c8c"},{type:"minor",height:8,width:1,color:"#8c8c8c"}],ranges:[{distanceFromScale:40,startValue:70,endValue:100,backgroundColor:"#fc0606",border:{color:"#fc0606"}}]}]});break;case"Horizontal":this.gaugeItem.ejLinearGauge({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),orientation:"Horizontal",labelColor:"#8c8c8c",scales:[{minimum:0,maximum:100,length:this.gaugeItem.width()-20,width:this.gaugeItem.height()-30,minorIntervalValue:4,majorIntervalValue:20,border:{width:.2},showRanges:!0,direction:"clockwise",labels:[{font:{size:"9pt"},placement:"center",angle:90,distanceFromScale:{x:0,y:10}}],ticks:[{type:"majorinterval",height:16,width:2,color:"#8c8c8c",placement:"center"},{type:"minorinterval",height:8,width:1,color:"#8c8c8c",placement:"center"}],markerPointers:[{value:10,length:10,width:10,backgroundColor:"Orange",border:{color:"Orange"},placement:"center",distanceFromScale:30}],ranges:[{startValue:60,endValue:100,backgroundColor:"#E94649",border:{color:"#E94649"},placement:"center",distanceFromScale:30,startWidth:4,endWidth:4}]}]});break;case"Vertical":this.gaugeItem.ejLinearGauge({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),orientation:"Vertical",labelColor:"#8c8c8c",scales:[{minimum:0,maximum:100,length:this.gaugeItem.height()-20,width:this.gaugeItem.width()-30,minorIntervalValue:4,majorIntervalValue:20,border:{width:.2},showRanges:!0,labels:[{font:{size:"9pt"},placement:"center"}],ticks:[{type:"majorinterval",height:16,width:2,color:"#8c8c8c",placement:"center"},{type:"minorinterval",height:8,width:1,color:"#8c8c8c",placement:"center"}],markerPointers:[{value:10,length:10,width:10,backgroundColor:"Orange",border:{color:"Orange"},placement:"center",distanceFromScale:30}],ranges:[{startValue:60,endValue:100,backgroundColor:"#E94649",border:{color:"#E94649"},placement:"center",distanceFromScale:30,startWidth:4,endWidth:4}]}]});break;case"Thermometer":this.gaugeItem.ejLinearGauge({isResponsive:!0,enableAnimation:!1,width:this.gaugeItem.width(),height:this.gaugeItem.height(),labelColor:"#8c8c8c",scales:[{type:"thermometer",minimum:0,maximum:100,length:this.gaugeItem.height()-20,minorIntervalValue:4,majorIntervalValue:20,border:{width:.2},labels:[{font:{size:"9pt"}}],markerPointers:[{opacity:0}],barPointers:[{value:90,backgroundColor:"#DB3738"}],ticks:[{type:"majorinterval",height:8,width:1.5,color:"#8c8c8c"},{type:"minorinterval",height:4,width:1,color:"#8c8c8c"}]}]});break;case"Bullet Graph":this.gaugeItem.ejBulletGraph({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),quantitativeScaleLength:this.gaugeItem.width()-20,quantitativeScaleSettings:{location:{y:this.gaugeItem.height()/2-30},minimum:0,maximum:100,interval:20,minorTicksPerInterval:4,tickPosition:"far",majorTickSettings:{size:13,width:1,stroke:"#8c8c8c"},minorTickSettings:{size:5,width:.5,stroke:"#8c8c8c"},labelSettings:{position:"below",labelSuffix:"%",offset:14,size:10},featureMeasures:[{value:90,comparativeMeasureValue:60}],featuredMeasureSettings:{stroke:"#ff4040"},comparativeMeasureSettings:{stroke:"#ff4040"}},qualitativeRanges:[{rangeEnd:43,rangeStroke:"#ebebeb"},{rangeEnd:73,rangeStroke:"#d8d8d8"},{rangeEnd:100,rangeStroke:"#7f7f7f"}],qualitativeRangeSize:40})}},n.prototype.setGaugeJsonValue=function(n,t){this.gaugeJson.Left.size=ej.DashboardUtil.getUnitVal(t.left,"in");this.gaugeJson.Top.size=ej.DashboardUtil.getUnitVal(t.top,"in");this.gaugeJson.Width.size=ej.DashboardUtil.getUnitVal(t.width,"in");this.gaugeJson.Height.size=ej.DashboardUtil.getUnitVal(t.height,"in");switch(n){case"Radial":this.gaugeJson.LinearGauges=null;this.gaugeJson.RadialGauges[0].BackFrame.Style.BackgroundColor="#73c9d7";this.gaugeJson.RadialGauges[0].BackFrame.FrameBackground.Style.BackgroundColor="White";this.gaugeJson.RadialGauges[0].GaugeScales[0].StartAngle=20;this.gaugeJson.RadialGauges[0].GaugeScales[0].SweepAngle=320;this.gaugeJson.RadialGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.RadialGauges[0].GaugeScales[0].MinimumValue.Value=0;this.gaugeJson.RadialGauges[0].GaugeScales[0].MaximumValue.Value=100;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=10;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=16;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Outside";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.DistanceFromScale=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=8;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=1;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Outside";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.DistanceFromScale=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Type="Needle";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].NeedleStyle="TaperedWithTail";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Width=14;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].PointerCap.Width=22;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#424242";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].PointerCap.Style.BackgroundColor="#424242";this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].StartWidth=5;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].EndWidth=20;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].DistanceFromScale=20;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].Placement="Inside";this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundColor="Red";break;case"Half Circle":this.gaugeJson.LinearGauges=null;this.gaugeJson.RadialGauges[0].PivotY=75;this.gaugeJson.RadialGauges[0].AspectRatio=1.5;this.gaugeJson.RadialGauges[0].BackFrame.FrameStyle="Edged";this.gaugeJson.RadialGauges[0].BackFrame.FrameShape="CustomSemiCircularN1";this.gaugeJson.RadialGauges[0].BackFrame.Style.BackgroundColor="#73c9d7";this.gaugeJson.RadialGauges[0].BackFrame.FrameBackground.Style.BackgroundColor="White";this.gaugeJson.RadialGauges[0].GaugeScales[0].Radius=58;this.gaugeJson.RadialGauges[0].GaugeScales[0].StartAngle=90;this.gaugeJson.RadialGauges[0].GaugeScales[0].SweepAngle=180;this.gaugeJson.RadialGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=10;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=16;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Outside";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMajorTickMarks.DistanceFromScale=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=8;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=1;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Outside";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugeMinorTickMarks.DistanceFromScale=2;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Type="Needle";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].NeedleStyle="Triangular";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Width=14;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].PointerCap.Width=22;this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#424242";this.gaugeJson.RadialGauges[0].GaugeScales[0].GaugePointers[0].PointerCap.Style.BackgroundColor="#424242";this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].StartWidth=5;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].EndWidth=20;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].DistanceFromScale=20;this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].Placement="Inside";this.gaugeJson.RadialGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundColor="Red";break;case"Horizontal":this.gaugeJson.RadialGauges=null;this.gaugeJson.LinearGauges[0].Orientation="Horizontal";this.gaugeJson.LinearGauges[0].GaugeScales[0].Position=50;this.gaugeJson.LinearGauges[0].GaugeScales[0].StartMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].EndMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].Reversed=!1;this.gaugeJson.LinearGauges[0].GaugeScales[0].MinimumValue.Value="0";this.gaugeJson.LinearGauges[0].GaugeScales[0].MaximumValue.Value="100";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size="9pt";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.DistanceFromScale=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.FontAngle=0;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.UseFontPercent=!1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=16;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=2;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].GaugeInputValue.Value=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Type="Marker";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].MarkerStyle="Triangle";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Width=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].MarkerLength=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#4d4d4d";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.Border.Color="#4d4d4d";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].DistanceFromScale=30;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].StartValue.Value="60";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndValue.Value="100";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].StartWidth=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndWidth=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].DistanceFromScale=30;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundColor="#E94649";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Style.Border.Color="#E94649";break;case"Vertical":this.gaugeJson.RadialGauges=null;this.gaugeJson.LinearGauges[0].GaugeScales[0].Position=50;this.gaugeJson.LinearGauges[0].GaugeScales[0].StartMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].EndMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size="9pt";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.UseFontPercent=!1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=16;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=2;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Type="Marker";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].MarkerStyle="Triangle";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Width=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].MarkerLength=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#4d4d4d";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].DistanceFromScale=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].StartWidth=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndWidth=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].DistanceFromScale=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundColor="#E94649";break;case"Thermometer":this.gaugeJson.RadialGauges=null;this.gaugeJson.LinearGauges[0].GaugeScales[0].Position=50;this.gaugeJson.LinearGauges[0].GaugeScales[0].StartMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].EndMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].MinimumValue.Value="0";this.gaugeJson.LinearGauges[0].GaugeScales[0].MaximumValue.Value="100";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size="9pt";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.UseFontPercent=!1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=1.5;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Inside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Inside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Type="Thermometer";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].GaugeInputValue.Value=90;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Width=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].MarkerLength=10;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.Border.Color="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.Border.Style="Solid";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#DB3738";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges=null;break;case"Bullet Graph":this.gaugeJson.RadialGauges=null;this.gaugeJson.LinearGauges[0].GaugeScales[0].Position=60;this.gaugeJson.LinearGauges[0].GaugeScales[0].StartMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].EndMargin=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size="10pt";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Format="0\\%";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleLabels.UseFontPercent=!1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Interval=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length=14;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Interval=4;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length=8;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width=.5;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Placement="Outside";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor="#8c8c8c";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers.push(this.createGaugePointer("LinearPointer2"));this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Type="Bar";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Width=5;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].DistanceFromScale=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].GaugeInputValue.Value=90;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].GaugeInputValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor="#ff4040";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[0].Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].Type="Marker";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].MarkerStyle="Rectangle";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].MarkerLength=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].Width=5;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].GaugeInputValue.Value=60;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].DistanceFromScale=20;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].GaugeInputValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].Style.BackgroundColor="#ff4040";this.gaugeJson.LinearGauges[0].GaugeScales[0].GaugePointers[1].Placement="Cross";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges.push(this.createGaugeRange("LinearRange2"));this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges.push(this.createGaugeRange("LinearRange3"));this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].StartValue.Value=0;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndValue.Value=43;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].StartWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].EndWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].DistanceFromScale=0;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Placement="Inside";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundColor="#ebebeb";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[0].Style.BackgroundGradientEndColor="#ebebeb";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].StartValue.Value=43;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].StartValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].EndValue.Value=73;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].StartWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].EndWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].EndValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].DistanceFromScale=0;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].Placement="Inside";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].Style.BackgroundColor="#d8d8d8";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[1].Style.BackgroundGradientEndColor="#d8d8d8";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].StartValue.Value=73;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].StartValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].EndValue.Value=100;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].StartWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].EndWidth=40;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].EndValue.Multiplier=1;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].DistanceFromScale=0;this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].Placement="Inside";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].Style.BackgroundColor="#7f7f7f";this.gaugeJson.LinearGauges[0].GaugeScales[0].ScaleRanges[2].Style.BackgroundGradientEndColor="#7f7f7f"}},n.prototype.deserializeReportItem=function(n){var r=this.getGaugeType(n),i,t;this.itemName=r;n.CustomProperties=n.CustomProperties.length>0?n.CustomProperties:null;n.Filters=n.Filters.length>0?n.Filters:null;n.GaugeLabels=n.GaugeLabels.length>0?n.GaugeLabels:null;n.SortExpressions=n.SortExpressions.length>0?n.SortExpressions:null;n.StateIndicators=n.StateIndicators.length>0?n.StateIndicators:null;n.RadialGauges=n.RadialGauges.length>0?n.RadialGauges:null;n.LinearGauges=n.LinearGauges.length>0?n.LinearGauges:null;switch(r){case"Radial":n.RadialGauges[0].GaugeScales[0].CustomLabels=n.RadialGauges[0].GaugeScales[0].CustomLabels.length>0?n.RadialGauges[0].GaugeScales[0].CustomLabels:null;this.gaugeItem.ejCircularGauge({width:this.gaugeItem.width(),height:this.gaugeItem.height(),backgroundColor:n.RadialGauges[0].BackFrame.FrameBackground.Style.BackgroundColor,isResponsive:!0,scales:this.getGaugeScales(n)});break;case"Half Circle":this.gaugeItem.ejCircularGauge({width:this.gaugeItem.width(),height:this.gaugeItem.height(),gaugePosition:"center",frame:{frameType:"halfcircle"},scales:this.getGaugeScales(n)});break;case"Horizontal":n.LinearGauges[0].Orientation=this.getOrientation(n.LinearGauges[0].Orientation);n.LinearGauges[0].GaugeScales[0].CustomLabels=n.LinearGauges[0].GaugeScales[0].CustomLabels.length>0?n.LinearGauges[0].GaugeScales[0].CustomLabels:null;i=this.getOrientation(n.LinearGauges[0].Orientation);this.gaugeItem.ejLinearGauge({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),orientation:i,labelColor:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color,scales:[{minimum:Number(n.LinearGauges[0].GaugeScales[0].MinimumValue.Value),maximum:Number(n.LinearGauges[0].GaugeScales[0].MaximumValue.Value),length:this.gaugeItem.width()-20,width:this.gaugeItem.height()-30,majorIntervalValue:20,minorIntervalValue:4,border:{width:.2},showRanges:!0,direction:this.getScaleDirection(n.LinearGauges[0].GaugeScales[0].Reversed,i),labels:[{font:{size:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size,fontFamily:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontFamily,fontStyle:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontStyle},placement:"center",angle:n.LinearGauges[0].GaugeScales[0].ScaleLabels.FontAngle+90,distanceFromScale:{x:0,y:10}}],ticks:[{type:"majorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor,placement:"center"},{type:"minorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor,placement:"center"}],markerPointers:this.getScalePointers(n.LinearGauges[0].GaugeScales[0].GaugePointers),ranges:this.getScaleRanges(n.LinearGauges[0].GaugeScales[0].ScaleRanges)}]});break;case"Vertical":i=this.getOrientation(n.LinearGauges[0].Orientation);this.gaugeItem.ejLinearGauge({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),orientation:i,labelColor:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color,scales:[{minimum:Number(n.LinearGauges[0].GaugeScales[0].MinimumValue.Value),maximum:Number(n.LinearGauges[0].GaugeScales[0].MaximumValue.Value),length:this.gaugeItem.height()-20,width:this.gaugeItem.width(),majorIntervalValue:20,minorIntervalValue:4,border:{width:.2},showRanges:!0,direction:this.getScaleDirection(n.LinearGauges[0].GaugeScales[0].Reversed,i),labels:[{font:{size:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size,fontFamily:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontFamily,fontStyle:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontStyle},placement:"center",angle:n.LinearGauges[0].GaugeScales[0].ScaleLabels.FontAngle+90}],ticks:[{type:"majorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor,placement:"center"},{type:"minorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor,placement:"center"}],markerPointers:this.getScalePointers(n.LinearGauges[0].GaugeScales[0].GaugePointers),ranges:this.getScaleRanges(n.LinearGauges[0].GaugeScales[0].ScaleRanges)}]});break;case"Thermometer":i=this.getOrientation(n.LinearGauges[0].Orientation);this.gaugeItem.ejLinearGauge({width:this.gaugeItem.width(),height:this.gaugeItem.height(),enableAnimation:!1,labelColor:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.Color,orientation:i,scales:[{type:"thermometer",backgroundColor:"transparent",minimum:Number(n.LinearGauges[0].GaugeScales[0].MinimumValue.Value),maximum:Number(n.LinearGauges[0].GaugeScales[0].MaximumValue.Value),minorIntervalValue:5,direction:this.getScaleDirection(n.LinearGauges[0].GaugeScales[0].Reversed,i),length:i==="Horizontal"?this.gaugeItem.width()-20:this.gaugeItem.height()-20,border:{width:.5},showCustomLabels:!0,markerPointers:[{opacity:0}],barPointers:[{value:n.LinearGauges[0].GaugeScales[0].GaugePointers[0].GaugeInputValue.Value,distanceFromScale:0,backgroundColor:n.LinearGauges[0].GaugeScales[0].GaugePointers[0].Style.BackgroundColor}],labels:[{font:{size:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontSize.size,fontFamily:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontFamily,fontStyle:n.LinearGauges[0].GaugeScales[0].ScaleLabels.Style.FontStyle}}],ticks:[{type:"majorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMajorTickMarks.Style.BackgroundColor},{type:"minorinterval",height:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Length,width:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Width,color:n.LinearGauges[0].GaugeScales[0].GaugeMinorTickMarks.Style.BackgroundColor}]}]});break;case"Bullet Graph":t=n.LinearGauges[0].GaugeScales[0];this.gaugeItem.ejBulletGraph({isResponsive:!0,width:this.gaugeItem.width(),height:this.gaugeItem.height(),quantitativeScaleLength:this.gaugeItem.width()-20,quantitativeScaleSettings:{location:{y:this.gaugeItem.height()/2-30},minimum:Number(t.MinimumValue.Value),maximum:Number(t.MaximumValue.Value),interval:20,minorTicksPerInterval:4,tickPosition:"far",majorTickSettings:{size:t.GaugeMajorTickMarks.Length,width:t.GaugeMajorTickMarks.Width,stroke:t.GaugeMajorTickMarks.Style.BackgroundColor},minorTickSettings:{size:t.GaugeMinorTickMarks.Length,width:t.GaugeMinorTickMarks.Width,stroke:t.GaugeMinorTickMarks.Style.BackgroundColor},labelSettings:{position:"below",labelSuffix:"%",offset:14,size:10,font:{size:t.ScaleLabels.Style.FontSize.size,fontFamily:t.ScaleLabels.Style.FontFamily,fontStyle:t.ScaleLabels.Style.FontStyle,fontWeight:t.ScaleLabels.Style.FontStyle}},featureMeasures:[{value:t.GaugePointers[0].GaugeInputValue.Value===""?20:t.GaugePointers[0].GaugeInputValue.Value,comparativeMeasureValue:t.GaugePointers[1].GaugeInputValue.Value===""?20:t.GaugePointers[1].GaugeInputValue.Value}],featuredMeasureSettings:{stroke:t.GaugePointers[0].Style.BackgroundColor},comparativeMeasureSettings:{stroke:t.GaugePointers[1].Style.BackgroundColor}},qualitativeRanges:[{rangeEnd:t.ScaleRanges[0].EndValue.Value,rangeStroke:t.ScaleRanges[0].Style.BackgroundColor},{rangeEnd:t.ScaleRanges[1].EndValue.Value,rangeStroke:t.ScaleRanges[1].Style.BackgroundColor},{rangeEnd:t.ScaleRanges[2].EndValue.Value,rangeStroke:t.ScaleRanges[2].Style.BackgroundColor}],qualitativeRangeSize:t.ScaleRanges[0].StartWidth})}},n.prototype.getOrientation=function(n){var t=GaugeOrientation[n];return t==="Auto"?this.gaugeItem.width()>=this.gaugeItem.height()?"Horizontal":"Vertical":GaugeOrientation[n]},n.prototype.getScaleDirection=function(n,t){return t==="Horizontal"?n===!1?"clockwise":"counterclockwise":n===!1?"counterclockwise":"clockwise"},n.prototype.getGaugeScales=function(n){for(var i,u,r=[],f=n.RadialGauges[0].GaugeScales,e=this.getGaugeType(n),t=0;t<f.length;t++)i=n.RadialGauges[0].GaugeScales[0],u={size:10,startAngle:n.RadialGauges[0].GaugeScales[t].StartAngle+90,sweepAngle:n.RadialGauges[0].GaugeScales[t].SweepAngle,minimum:n.RadialGauges[0].GaugeScales[t].MinimumValue.Value,maximum:n.RadialGauges[0].GaugeScales[t].MaximumValue.Value,radius:e==="Half Circle"?this.gaugeItem.height()/1.2:t===0?this.gaugeItem.height()/2.1:this.gaugeItem.height()/2.5,majorIntervalValue:n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.Interval?n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.Interval:10,minorIntervalValue:n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.Interval?n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.Interval:2,backgroundColor:n.RadialGauges[0].BackFrame.Style.BackgroundColor,border:{color:n.RadialGauges[0].BackFrame.Style.BackgroundColor,width:n.RadialGauges[0].GaugeScales[t].Style.Border.Width?n.RadialGauges[0].GaugeScales[t].Style.Border.Width.size:1},showScaleBar:t===0?!0:!1,showRanges:!0,backNeedleLength:10,labels:[{color:n.RadialGauges[0].GaugeScales[t].ScaleLabels.Style.Color,angle:n.RadialGauges[0].GaugeScales[t].ScaleLabels.FontAngle,font:{size:n.RadialGauges[0].GaugeScales[t].ScaleLabels.Style.FontSize.size,fontFamily:n.RadialGauges[0].GaugeScales[t].ScaleLabels.Style.FontFamily,fontStyle:n.RadialGauges[0].GaugeScales[t].ScaleLabels.Style.FontStyle}}],pointerCap:{radius:i.GaugePointers[0].PointerCap.Width/2,backgroundColor:i.GaugePointers[0].PointerCap.Style.BackgroundColor,border:{color:i.GaugePointers[0].PointerCap.Style.Border?i.GaugePointers[0].PointerCap.Style.Border.Color:"Transparent",width:i.GaugePointers[0].PointerCap.Style.Border&&i.GaugePointers[0].PointerCap.Style.Border.Width?i.GaugePointers[0].PointerCap.Style.Border.Width.size:0}},pointers:this.getScalePointers(n.RadialGauges[0].GaugeScales[t].GaugePointers),ticks:[{type:"major",height:n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.Length,width:n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.Width,distanceFromScale:n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.DistanceFromScale,color:n.RadialGauges[0].GaugeScales[t].GaugeMajorTickMarks.Style.BackgroundColor},{type:"minor",height:n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.Length,width:n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.Width,distanceFromScale:n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.DistanceFromScale,color:n.RadialGauges[0].GaugeScales[t].GaugeMinorTickMarks.Style.BackgroundColor}],ranges:this.getScaleRanges(n.RadialGauges[0].GaugeScales[t].ScaleRanges)},r.push(u);return r},n.prototype.getScalePointers=function(n){for(var r,i=[],t=0;t<n.length;t++)r={type:this.getPointerType(this.gaugeJson,n[t].Type),needleType:this.getNeedleStyle(n[t].NeedleStyle),markerType:this.getMarkerStyle(n[t].MarkerStyle),value:n[t].GaugeInputValue.Value===""?10:Number(n[t].GaugeInputValue.Value),length:n[t].Type===1?n[t].MarkerLength:95,width:n[t].Width,showBackNeedle:!0,backgroundColor:n[t].Style.BackgroundColor,border:{color:n[t].Style.Border.Color,width:n[t].Style.Border.Width?n[t].Style.Border.Width.size:0},placement:"center",distanceFromScale:Number(n[t].DistanceFromScale)},i.push(r);return i},n.prototype.getPointerType=function(n,t){var i;return n.LinearGauges&&n.LinearGauges.length>0?i=LinearPointerType[t]:(i=RadialPointerType[t],i=i==="Needle"?"needle":"marker"),i},n.prototype.getScaleRanges=function(n){for(var r,i=[],t=0;t<n.length;t++)r={startValue:n[t].StartValue.Value===""?70:n[t].StartValue.Value,endValue:n[t].EndValue.Value===""?100:n[t].EndValue.Value,startWidth:n[t].StartWidth,endWidth:n[t].EndWidth,backgroundColor:n[t].Style.BackgroundColor!=="#00fffff"?n[t].Style.BackgroundColor:n[t].Style.BackgroundGradientEndColor,border:{color:n[t].Style.Border.Color,width:n[t].Style.Border.Width?n[t].Style.Border.Width.size:0},placement:"near",distanceFromScale:n[t].DistanceFromScale+30},i.push(r);return i},n.prototype.getNeedleStyle=function(n){var i=NeedleStyle[n],t;switch(i){case"Triangular":t="triangle";break;case"Rectangular":t="rectangle";break;case"TaperedWithTail":case"Tapered":case"ArrowWithTail":t="triangle";break;case"Arrow":t="arrow";break;case"StealthArrowWithTail":case"StealthArrow":case"TaperedWithStealthArrow":case"StealthArrowWithWideTail":t="triangle";break;case"TaperedWithRoundedPoint":t="trapezoid"}return t},n.prototype.getMarkerStyle=function(n){var i=MarkerStyle[n],t;switch(i){case"None":case"Rectangle":case"Star":t="rectangle";break;case"Triangle":t="triangle";break;case"Circle":t="circle";break;case"Diamond":t="diamond";break;case"Trapezoid":t="trapezoid";break;case"Wedge":t="wedge";break;case"Pentagon":t="pentagon";break;default:t="rectangle"}return t},n.prototype.getGaugeType=function(n){var i,t,r;if(n.LinearGauges&&n.LinearGauges.length>0){var u=ej.DashboardUtil.getPixelVal(this.gaugeJson.Width.size),f=ej.DashboardUtil.getPixelVal(this.gaugeJson.Height.size),t=n.LinearGauges[0].GaugeScales[0];i=t.GaugePointers.length>1&&t.ScaleRanges.length>2&&t.ScaleRanges[0].StartWidth===t.ScaleRanges[0].EndWidth?"Bullet Graph":t.GaugePointers[0].Type===2?"Thermometer":u>f?"Horizontal":"Vertical"}else t=this.gaugeJson.RadialGauges[0].GaugeScales[0],r=t.StartAngle===90&&t.SweepAngle===180,i=r?"Half Circle":"Radial";return i},n.prototype.updatePropertyChange=function(n,t,i){switch(n){case"Name":this.gaugeJson.Name=i;break;case"Left":this.updateLeftPosition(i);break;case"Top":this.updateTopPosition(i);break;case"Height":this.updateHeight(i);break;case"Width":this.updateWidth(i)}ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-gauge",this.gaugeJson.Name,[n,i,t],[n,t,i])},n.prototype.updateLeftPosition=function(n){this.gaugeJson.Left.size=n+"in";this.gaugeDiv.css("left",ej.DashboardUtil.getPixelVal(n+"in"))},n.prototype.updateTopPosition=function(n){this.gaugeJson.Top.size=n+"in";this.gaugeDiv.css("top",ej.DashboardUtil.getPixelVal(n+"in"))},n.prototype.updateWidth=function(n){this.gaugeJson.Width.size=n+"in";this.gaugeDiv.css("width",Math.round(ej.DashboardUtil.getPixelVal(n+"in")));this.gaugeItem.css("width",Math.round(ej.DashboardUtil.getPixelVal(n+"in")));this.gaugeItem.ejCircularGauge({size:{width:Math.round(ej.DashboardUtil.getPixelVal(n+"in")).toString()}});this.designPanel.updateWidgetSelectionBox(this.gaugeDiv)},n.prototype.updateHeight=function(n){this.gaugeJson.Height.size=n+"in";this.gaugeDiv.css("height",Math.round(ej.DashboardUtil.getPixelVal(n+"in")));this.gaugeItem.css("height",Math.round(ej.DashboardUtil.getPixelVal(n+"in")));this.gaugeItem.ejCircularGauge({size:{height:Math.round(ej.DashboardUtil.getPixelVal(n+"in")).toString()}});this.designPanel.updateWidgetSelectionBox(this.gaugeDiv)},n.prototype.updatePosition=function(n,t,i){if(this.gaugeDiv.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.gaugeJson.Left.size),ej.DashboardUtil.getPixelVal(this.gaugeJson.Top.size),!0],u=[n,t,!0];this.gaugeJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.gaugeJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.designPanel.setPropertyPanelItem();ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-gauge",this.gaugeJson.Name,r,u)}},n.prototype.updateSize=function(n,t,i){if(this.gaugeDiv.css({width:n,height:t}),this.gaugeItem.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.gaugeDiv),this.setGaugeReportItemSize(Number(n),Number(t)),i){var r=[ej.DashboardUtil.getPixelVal(this.gaugeJson.Width.size),ej.DashboardUtil.getPixelVal(this.gaugeJson.Height.size),!0],u=[n,t,!0];this.gaugeJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.gaugeJson.Height.size=ej.DashboardUtil.getUnitVal(t,"in");this.designPanel.setPropertyPanelItem();ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-gauge",this.gaugeJson.Name,r,u)}},n.prototype.updateItemSize=function(n,t,i,r,u){if(this.gaugeDiv.css({left:n,top:t,width:i,height:r}),this.designPanel.updateWidgetSelectionBox(this.gaugeDiv),this.setGaugeReportItemSize(Number(i),Number(r)),u){var f=[ej.DashboardUtil.getPixelVal(this.gaugeJson.Left.size),ej.DashboardUtil.getPixelVal(this.gaugeJson.Top.size),ej.DashboardUtil.getPixelVal(this.gaugeJson.Width.size),ej.DashboardUtil.getPixelVal(this.gaugeJson.Height.size),!0],e=[n,t,i,r,!0];this.gaugeJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.gaugeJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.gaugeJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.gaugeJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.designPanel.setPropertyPanelItem();ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-gauge",this.gaugeJson.Name,f,e)}},n.prototype.setGaugeReportItemSize=function(n,t){var r,u,f,e,i;switch(this.itemName){case"Radial":r=this.gaugeItem.data("ejCircularGauge");r.canvasEl[0].width=n;r.canvasEl[0].height=t;r.setScaleRadius(0,t/2);break;case"Half Circle":u=this.gaugeItem.data("ejCircularGauge");u.canvasEl[0].width=n;u.canvasEl[0].height=t;u.setScaleRadius(0,t/2.7);break;case"Horizontal":f=this.gaugeItem.data("ejLinearGauge");f.model.width=n;f.model.height=t;f.setScaleBarLength(0,n-20);break;case"Vertical":case"Thermometer":e=this.gaugeItem.data("ejLinearGauge");e.model.width=n;e.model.height=t;e.setScaleBarLength(0,t-20);break;case"Bullet Graph":i=this.gaugeItem.data("ejBulletGraph");i.model.width=n;i.model.height=t;i.model.quantitativeScaleLength=n-20;i.model.quantitativeScaleSettings.location.y=t/2-30;i.redraw()}},n.prototype.getPropertyGridItems=function(){return{Header:this.gaugeJson.Name,Type:"Gauge",Items:[{CategoryName:"General",Items:[{name:"Name",value:this.gaugeJson.Name}]},{CategoryName:"Position",Items:[{name:"Left",value:ej.DashboardUtil.getSizeVal(this.gaugeJson.Left.size),unitType:"in",itemType:"float"},{name:"Top",value:ej.DashboardUtil.getSizeVal(this.gaugeJson.Top.size),unitType:"in",itemType:"float"},{name:"Width",value:ej.DashboardUtil.getSizeVal(this.gaugeJson.Width.size),unitType:"in",itemType:"float"},{name:"Height",value:ej.DashboardUtil.getSizeVal(this.gaugeJson.Height.size),unitType:"in",itemType:"float"}]},{CategoryName:"BorderStyle",Items:[{name:"BorderStyleDefault",displayName:"Style",value:this.gaugeJson.Style.Border!=null?this.gaugeJson.Style.Border.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"],items:[{name:"BorderStyleLeft",displayName:"Left",value:this.gaugeJson.Style.LeftBorder!=null?this.gaugeJson.Style.LeftBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderStyleRight",displayName:"Right",value:this.gaugeJson.Style.RightBorder!=null?this.gaugeJson.Style.RightBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderStyleTop",displayName:"Top",value:this.gaugeJson.Style.TopBorder!=null?this.gaugeJson.Style.TopBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderStyleBottom",displayName:"Bottom",value:this.gaugeJson.Style.BottomBorder!=null?this.gaugeJson.Style.BottomBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]}]},{CategoryName:"BorderWidth",name:"BorderWidthDefault",displayName:"Width",value:this.gaugeJson.Style.Border&&this.gaugeJson.Style.Border.Width?ej.DashboardUtil.getSizeVal(this.gaugeJson.Style.Border.Width.size):ej.DashboardUtil.getSizeVal("1pt"),unitType:"in",itemType:"float",items:[{name:"BorderWidthLeft",displayName:"Left",value:this.gaugeJson.Style.LeftBorder!=null&&this.gaugeJson.Style.LeftBorder.Width?ej.DashboardUtil.getSizeVal(this.gaugeJson.Style.LeftBorder.Width.size):ej.DashboardUtil.getSizeVal("1pt"),unitType:"in",itemType:"float"},{name:"BorderWidthRight",displayName:"Right",value:this.gaugeJson.Style.RightBorder&&this.gaugeJson.Style.RightBorder.Width?ej.DashboardUtil.getSizeVal(this.gaugeJson.Style.RightBorder.Width.size):ej.DashboardUtil.getSizeVal("1pt"),unitType:"in",itemType:"float"},{name:"BorderWidthTop",displayName:"Top",value:this.gaugeJson.Style.TopBorder&&this.gaugeJson.Style.TopBorder.Width?ej.DashboardUtil.getSizeVal(this.gaugeJson.Style.TopBorder.Width.size):ej.DashboardUtil.getSizeVal("1pt"),unitType:"in",itemType:"float"},{name:"BorderWidthBottom",displayName:"Bottom",value:this.gaugeJson.Style.BottomBorder&&this.gaugeJson.Style.BottomBorder.Width?ej.DashboardUtil.getSizeVal(this.gaugeJson.Style.BottomBorder.Width.size):ej.DashboardUtil.getSizeVal("1pt"),unitType:"in",itemType:"float"}]},{name:"BorderColorDefault",displayName:"Color",value:this.gaugeJson.Style.Border!=null&&this.gaugeJson.Style.Border.Color!=null?this.gaugeJson.Style.Border.Color:"Transparent",itemType:"color",items:[{name:"BorderColorLeft",displayName:"Left",value:this.gaugeJson.Style.LeftBorder!=null?this.gaugeJson.Style.LeftBorder.Color!=null?this.gaugeJson.Style.LeftBorder.Color:"Transparent":"Transparent",itemType:"color"},{name:"BorderColorRight",displayName:"Right",value:this.gaugeJson.Style.RightBorder!=null?this.gaugeJson.Style.RightBorder.Color!=null?this.gaugeJson.Style.RightBorder.Color:"Transparent":"Transparent",itemType:"color"},{name:"BorderColorTop",displayName:"Top",value:this.gaugeJson.Style.TopBorder!=null?this.gaugeJson.Style.TopBorder.Color!=null?this.gaugeJson.Style.TopBorder.Color:"Transparent":"Transparent",itemType:"color"},{name:"BorderColorBottom",displayName:"Bottom",value:this.gaugeJson.Style.BottomBorder!=null?this.gaugeJson.Style.BottomBorder.Color!=null?this.gaugeJson.Style.BottomBorder.Color:"Transparent":"Transparent",itemType:"color"}]}]}]}},n.prototype.getReportItem=function(){return this.gaugeDiv},n.prototype.getReportItemJson=function(){return this.gaugeJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-gauge");this.renderGaugeReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGaugeReportElement","e-gauge",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderGaugeReportElement","e-gauge",this.gaugeJson.Name,[this.gaugeJson,this.gaugeDiv.parent().attr("id")],null);$("#"+this.gaugeJson.Name).removeData("Gauge");$("#"+this.gaugeJson.Name).remove();this.designPanel.selectedReportItems=[]},n.prototype.createStyle=function(){return{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},n.prototype.createGaugeRange=function(n){return{__type:"Syncfusion.RDL.DOM.ScaleRange",Name:n,Style:this.createStyle(),BackgroundGradientType:0,DistanceFromScale:10,StartValue:{__type:"Syncfusion.RDL.DOM.StartValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},EndValue:{__type:"Syncfusion.RDL.DOM.EndValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},StartWidth:15,EndWidth:15,InRangeBarPointerColor:null,InRangeLabelColor:null,InRangeTickMarksColor:null,Placement:1,ToolTip:null,ActionInfo:null,Hidden:!1}},n.prototype.createGaugePointer=function(n){return{__type:"Syncfusion.RDL.DOM.LinearPointer",Thermometer:{__type:"Syncfusion.RDL.DOM.Thermometer",Style:this.createStyle(),ThermometerStyle:0,BulbOffset:5,BulbSize:50},Type:0,Style:this.createStyle(),GaugeInputValue:{__type:"Syncfusion.RDL.DOM.GaugeInputValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},PointerImage:{__type:"Syncfusion.RDL.DOM.PointerImage",HueColor:null,Transparency:0,OffsetX:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},OffsetY:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},MIMEType:null,Source:0,TransparentColor:null,Value:""},ActionInfo:null,BarStart:0,MarkerStyle:6,Placement:1,Name:n,DistanceFromScale:0,MarkerLength:25,SnappingEnabled:!1,SnappingInterval:0,ToolTip:null,Hidden:!1,Width:9.5}},n.prototype.getGaugeJson=function(){return{__type:"Syncfusion.RDL.DOM.GaugePanel",LinearGauges:[{__type:"Syncfusion.RDL.DOM.LinearGauge",Orientation:0,AspectRatio:0,BackFrame:{__type:"Syncfusion.RDL.DOM.BackFrame",FrameBackground:{__type:"Syncfusion.RDL.DOM.FrameBackground",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Gainsboro",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"WhiteSmoke",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},FrameImage:{__type:"Syncfusion.RDL.DOM.FrameImage",ClipImage:!1,HueColor:null,Transparency:0,MIMEType:null,Source:0,TransparentColor:null,Value:""},FrameShape:"RoundedRectangular",FrameStyle:"Edged",FrameWidth:8,GlassEffect:"None",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"WhiteSmoke",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"HorizontalCenter",BackgroundGradientEndColor:"DarkGray",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"}},ClipContent:!0,GaugeScales:[{__type:"Syncfusion.RDL.DOM.LinearScale",StartMargin:0,EndMargin:0,Position:0,GaugePointers:[{__type:"Syncfusion.RDL.DOM.LinearPointer",Thermometer:{__type:"Syncfusion.RDL.DOM.Thermometer",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},ThermometerStyle:0,BulbOffset:5,BulbSize:50},Type:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"White",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Orange",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"1pt"},GaugeInputValue:{__type:"Syncfusion.RDL.DOM.GaugeInputValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},PointerImage:{__type:"Syncfusion.RDL.DOM.PointerImage",HueColor:null,Transparency:0,OffsetX:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},OffsetY:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},MIMEType:null,Source:0,TransparentColor:null,Value:""},ActionInfo:null,BarStart:0,MarkerStyle:6,Placement:1,Name:"LinearPointer1",DistanceFromScale:0,MarkerLength:25,SnappingEnabled:!1,SnappingInterval:0,ToolTip:null,Hidden:!1,Width:9.5}],ScaleRanges:[{__type:"Syncfusion.RDL.DOM.ScaleRange",Name:"LinearRange1",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Red",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Salmon",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Silver",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"},BackgroundGradientType:0,DistanceFromScale:10,StartValue:{__type:"Syncfusion.RDL.DOM.StartValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},EndValue:{__type:"Syncfusion.RDL.DOM.EndValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},StartWidth:15,EndWidth:15,InRangeBarPointerColor:null,InRangeLabelColor:null,InRangeTickMarksColor:null,Placement:1,ToolTip:null,ActionInfo:null,Hidden:!1}],Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"CornflowerBlue",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:"White",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"},CustomLabels:null,MaximumValue:{__type:"Syncfusion.RDL.DOM.MaximumValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:"100"},MinimumValue:{__type:"Syncfusion.RDL.DOM.MinimumValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:"0"},GaugeMajorTickMarks:{__type:"Syncfusion.RDL.DOM.GaugeMajorTickMarks",Interval:0,IntervalOffset:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"DimGray",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"DimGray",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},DistanceFromScale:0,Placement:"Cross",EnableGradient:!1,GradientDensity:0,TickMarkImage:{__type:"Syncfusion.RDL.DOM.TickMarkImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Length:15,Width:2,Shape:0,Hidden:!1},GaugeMinorTickMarks:{__type:"Syncfusion.RDL.DOM.GaugeMinorTickMarks",Interval:0,IntervalOffset:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"DimGray",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"DimGray",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},DistanceFromScale:0,Placement:"Cross",EnableGradient:!1,GradientDensity:0,TickMarkImage:{__type:"Syncfusion.RDL.DOM.TickMarkImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Length:9,Width:1,Shape:0,Hidden:!1},MaximumPin:{__type:"Syncfusion.RDL.DOM.MaximumPin",Location:0,Enable:!1,PinLabel:{__type:"Syncfusion.RDL.DOM.PinLabel",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"12pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Placement:0,Text:"",AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,RotateLabel:!1,UseFontPercent:!1}},MinimumPin:{__type:"Syncfusion.RDL.DOM.MinimumPin",Location:0,Enable:!1,PinLabel:{__type:"Syncfusion.RDL.DOM.PinLabel",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"12pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Placement:0,Text:"",AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,RotateLabel:!1,UseFontPercent:!1}},ScaleLabels:{__type:"Syncfusion.RDL.DOM.ScaleLabels",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"12pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:"#404040",PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Interval:0,IntervalOffset:0,AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,Placement:"Inside",RotateLabels:!0,ShowEndLabels:!0,Hidden:null,UseFontPercent:!0},ActionInfo:null,Name:"LinearScale1",Interval:0,IntervalOffset:0,Logarithmic:!1,LogarithmicBase:10,Multiplier:0,Reversed:!1,TickMarksOnTop:!1,ToolTip:"",Hidden:!1,Width:0}],TopImage:{__type:"Syncfusion.RDL.DOM.TopImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Name:"LinearGauge1",Top:0,Left:0,Height:100,Width:100,ZIndex:0,ToolTip:"",ActionInfo:null,Hidden:null,ParentItem:""}],RadialGauges:[{__type:"Syncfusion.RDL.DOM.RadialGauge",PivotX:50,PivotY:50,AspectRatio:1,BackFrame:{__type:"Syncfusion.RDL.DOM.BackFrame",FrameBackground:{__type:"Syncfusion.RDL.DOM.FrameBackground",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"WhiteSmoke",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Gray",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},FrameImage:{__type:"Syncfusion.RDL.DOM.FrameImage",ClipImage:!1,HueColor:null,Transparency:0,MIMEType:null,Source:0,TransparentColor:null,Value:""},FrameShape:6,FrameStyle:2,FrameWidth:8,GlassEffect:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"WhiteSmoke",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Gainsboro",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"}},ClipContent:!0,GaugeScales:[{__type:"Syncfusion.RDL.DOM.RadialScale",Radius:37,StartAngle:20,SweepAngle:320,GaugePointers:[{__type:"Syncfusion.RDL.DOM.RadialPointer",PointerCap:{__type:"Syncfusion.RDL.DOM.PointerCap",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"White",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"DimGray",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},CapImage:{__type:"Syncfusion.RDL.DOM.CapImage",HueColor:null,OffsetX:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},OffsetY:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},MIMEType:null,Source:0,TransparentColor:null,Value:""},CapStyle:4,OnTop:!0,Reflection:!1,Hidden:!1,Width:33},Type:0,NeedleStyle:3,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"White",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Orange",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"1pt"},GaugeInputValue:{__type:"Syncfusion.RDL.DOM.GaugeInputValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},PointerImage:{__type:"Syncfusion.RDL.DOM.PointerImage",HueColor:null,Transparency:0,OffsetX:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},OffsetY:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},MIMEType:null,Source:0,TransparentColor:null,Value:""},ActionInfo:null,BarStart:0,MarkerStyle:6,Placement:0,Name:"RadialPointer1",DistanceFromScale:0,MarkerLength:25,SnappingEnabled:!1,SnappingInterval:0,ToolTip:null,Hidden:!1,Width:15}],ScaleRanges:[{__type:"Syncfusion.RDL.DOM.ScaleRange",Name:"RadialRange1",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"#00ffffff",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Salmon",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Silver",Style:"Solid",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"},BackgroundGradientType:0,DistanceFromScale:30,StartValue:{__type:"Syncfusion.RDL.DOM.StartValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},EndValue:{__type:"Syncfusion.RDL.DOM.EndValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:""},StartWidth:15,EndWidth:30,InRangeBarPointerColor:null,InRangeLabelColor:null,InRangeTickMarksColor:null,Placement:0,ToolTip:null,ActionInfo:null,Hidden:!1}],Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"CornflowerBlue",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:"White",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"},CustomLabels:null,MaximumValue:{__type:"Syncfusion.RDL.DOM.MaximumValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:"100"},MinimumValue:{__type:"Syncfusion.RDL.DOM.MinimumValue",AddConstant:0,DataElementName:null,DataElementOutput:0,Formula:0,MaxPercent:0,MinPercent:0,Multiplier:1,Value:"0"},GaugeMajorTickMarks:{__type:"Syncfusion.RDL.DOM.GaugeMajorTickMarks",Interval:0,IntervalOffset:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"DimGray",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"DimGray",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},DistanceFromScale:0,Placement:2,EnableGradient:!1,GradientDensity:0,TickMarkImage:{__type:"Syncfusion.RDL.DOM.TickMarkImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Length:18,Width:2,Shape:0,Hidden:!1},GaugeMinorTickMarks:{__type:"Syncfusion.RDL.DOM.GaugeMinorTickMarks",Interval:0,IntervalOffset:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"DimGray",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"DimGray",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},DistanceFromScale:0,Placement:2,EnableGradient:!1,GradientDensity:0,TickMarkImage:{__type:"Syncfusion.RDL.DOM.TickMarkImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Length:8,Width:1,Shape:0,Hidden:!1},MaximumPin:{__type:"Syncfusion.RDL.DOM.MaximumPin",Location:0,Enable:!1,PinLabel:{__type:"Syncfusion.RDL.DOM.PinLabel",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"12pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Placement:0,Text:"",AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,RotateLabel:!1,UseFontPercent:!1}},MinimumPin:{__type:"Syncfusion.RDL.DOM.MinimumPin",Location:0,Enable:!1,PinLabel:{__type:"Syncfusion.RDL.DOM.PinLabel",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"12pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Placement:0,Text:"",AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,RotateLabel:!1,UseFontPercent:!1}},ScaleLabels:{__type:"Syncfusion.RDL.DOM.ScaleLabels",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"14pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:"#404040",PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},Interval:0,IntervalOffset:0,AllowUpsideDown:!1,DistanceFromScale:0,FontAngle:0,Placement:0,RotateLabels:!0,ShowEndLabels:!0,Hidden:null,UseFontPercent:!0},ActionInfo:null,Name:"RadialScale1",Interval:0,IntervalOffset:0,Logarithmic:!1,LogarithmicBase:10,Multiplier:0,Reversed:!1,TickMarksOnTop:!1,ToolTip:"",Hidden:!1,Width:0}],TopImage:{__type:"Syncfusion.RDL.DOM.TopImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},Name:"RadialGauge1",Top:0,Left:0,Height:100,Width:100,ZIndex:0,ToolTip:"",ActionInfo:null,Hidden:null,ParentItem:""}],StateIndicators:null,GaugeLabels:null,GaugeMember:null,BackFrame:{__type:"Syncfusion.RDL.DOM.BackFrame",FrameBackground:{__type:"Syncfusion.RDL.DOM.FrameBackground",Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Silver",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Gray",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},FrameImage:{__type:"Syncfusion.RDL.DOM.FrameImage",ClipImage:!1,HueColor:null,Transparency:0,MIMEType:null,Source:0,TransparentColor:null,Value:""},FrameShape:0,FrameStyle:0,FrameWidth:8,GlassEffect:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Gainsboro",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"DiagonalLeft",BackgroundGradientEndColor:"Gray",FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:1,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:"0pt"}},TopImage:{__type:"Syncfusion.RDL.DOM.TopImage",HueColor:null,MIMEType:null,Source:0,TransparentColor:null,Value:""},AntiAliasing:0,TextAntiAliasingQuality:0,AutoLayout:!0,ShadowIntensity:25,NoRowsMessage:null,DataSetName:null,PageBreak:null,Filters:null,SortExpressions:null,PageName:null,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"1.63417in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0.87375in"},Name:"GaugePanel1",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"3.125in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"4.82292in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:null,DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n}();window.ej.createObject("ej.DashboardDesignerUtility.GaugeItem",InternalGaugeReportItem,window),function(n){n[n.Auto=0]="Auto";n[n.Horizontal=1]="Horizontal";n[n.Vertical=2]="Vertical"}(GaugeOrientation||(GaugeOrientation={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside";n[n.Cross=2]="Cross"}(Placement||(Placement={})),function(n){n[n.Needle=0]="Needle";n[n.Marker=1]="Marker";n[n.Bar=2]="Bar"}(RadialPointerType||(RadialPointerType={})),function(n){n[n.Marker=0]="Marker";n[n.Bar=1]="Bar";n[n.Thermometer=2]="Thermometer"}(LinearPointerType||(LinearPointerType={})),function(n){n[n.None=0]="None";n[n.Rectangle=1]="Rectangle";n[n.Triangle=2]="Triangle";n[n.Circle=3]="Circle";n[n.Diamond=4]="Diamond";n[n.Trapezoid=5]="Trapezoid";n[n.Star=6]="Star";n[n.Wedge=7]="Wedge";n[n.Pentagon=8]="Pentagon"}(MarkerStyle||(MarkerStyle={})),function(n){n[n.Triangular=0]="Triangular";n[n.Rectangular=1]="Rectangular";n[n.TaperedWithTail=2]="TaperedWithTail";n[n.Tapered=3]="Tapered";n[n.ArrowWithTail=4]="ArrowWithTail";n[n.Arrow=5]="Arrow";n[n.StealthArrowWithTail=6]="StealthArrowWithTail";n[n.StealthArrow=7]="StealthArrow";n[n.TaperedWithStealthArrow=8]="TaperedWithStealthArrow";n[n.StealthArrowWithWideTail=9]="StealthArrowWithWideTail";n[n.TaperedWithRoundedPoint=10]="TaperedWithRoundedPoint"}(NeedleStyle||(NeedleStyle={}));InternalGridReportItem=function(){function n(){this.gridJson=null;this.selectedColumnIndex=0;this.dataGroupInfo=null;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.reportName=null;this.controlContainer=null;this.contentContainer=null;this.dataManager=[];this.controlType=null;this.cellInfo=null;this.containerProperties=null;this.kpiColumns=[];this.selectedKpiColumnIndex=0;this.gridTemplates=[];this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.grid;this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.renderGridReportElement=function(n,t){try{this.gridJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderGridElement(r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.gridJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderGridItem=function(n,t,i){try{this.selectedColumnIndex=0;var u=$("#"+t);this.gridJson=this.getGridJson();this.gridJson.ContainerSettings.Title=this.gridJson.UniqueName=this.reportName;this.renderGridElement(u);this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGridItem","e-grid-item",this.gridJson.UniqueName,null,[n,t,i])}catch(r){this.designPanel.logError({Source:this.gridJson.UniqueName,Error:r,Type:r.name})}},n.prototype.renderGridElement=function(){this.gridItem=ej.buildTag("div.e-griditem e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"gridItem"+this.gridJson.UniqueName});this.tableElement=ej.buildTag("div.e-reportdesigner-grid-table","",{width:"100%",height:"100%","font-size":"10pt","background-color":"white"},{id:this.designId+"tableElement"+this.gridJson.UniqueName,cellspacing:"0",cellpadding:"0"});this.gridItem.append(this.tableElement);this.contentContainer.append(this.gridItem);this.controlContainer.data("Grid",this);this.dataManager=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"},{itemId:"i8",itemName:"Item8"}];this.tableElement.ejGrid({dataSource:this.dataManager,allowSorting:this.gridJson.AllowSorting,gridLines:ej.Grid.GridLines.Both,scrollSettings:{width:this.gridItem.width()-2,height:this.gridItem.height()-50,allowVirtualScrolling:!1,virtualScrollMode:"normal",scrollerSize:10,enableTouchScroll:!0,autoHide:!1},allowScrolling:!0});var n=this.tableElement.find(".e-headercontent");n.css("width",this.gridItem.width()-2)},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Column",CategoryType:CategoryType.None}),n},n.prototype.updateData=function(n){var t=this.tableElement.data("ejGrid"),i,f,r,u,e;if(ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.gridJson,this.dataGroupInfo),!ej.isNullOrUndefined(t)){for(ej.isNullOrUndefined(n)||n.data==="[]"||typeof n=="string"&&n.indexOf("Sf_Exception")!==-1?(i=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"},{itemId:"i8",itemName:"Item8"}],t.model.columns=[{field:"itemId",headerText:"Item ID"},{field:"itemName",headerText:"Item Name"}]):(i=JSON.parse(n.data),f=this.generateColumns(i),this.updateDisplayColumns(JSON.parse(n.columnBindings)),t.model.columns=f),t.option("dataSource",i),t.option({scrollSettings:{height:this.gridItem.height()-50-this.gridItem.find(".e-pager").height()-this.gridItem.find(".e-filterbar").height()}}),r=this.tableElement.find(".e-table"),u=0;u<r.length;u++)r.css("width",this.gridItem.width()-2);e=this.tableElement.find(".e-headercontent");e.css("width",this.gridItem.width()-2)}},n.prototype.generateColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({field:i[t],headerText:i[t]});return r},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.updatePropertyData=function(){},n.prototype.updatePropertyChange=function(n,t,i,r){var o,u,f,s,e;switch(n){case"Name":this.gridJson.ContainerSettings.Title=i;break;case"HorizontalGridLine":this.updateHorizontalGridLine(i);break;case"VerticalGridLine":this.updateVerticalGridLine(i);break;case"AllowPaging":this.updateAllowPaging(i);break;case"AllowResizeToFit":this.updateAllowResizeToFit(i);break;case"AllowSorting":this.updateAllowSorting(i);break;case"AllowFiltering":this.updateAllowFiltering(i);break;case"EnableDataGrouping":this.updateEnableDataGrouping(i)}if(ej.isNullOrUndefined(o)||(t=o),ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)s=u[f],s.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Grid",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-grid-item",this.gridJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateDisplayColumns=function(n){var r=[],i,t;if(n)for(i=Object.keys(n),t=0;t<i.length;t++)r.push({DisplayName:n[i[t]],UniqueName:i[t],IsEdited:!1});this.gridJson.DisplayNames=r},n.prototype.updateHorizontalGridLine=function(n){this.gridJson.HorizontalGridLine=n;var t=this.tableElement.data("ejGrid");t.option("gridLines",this.getGridLineType())},n.prototype.updateVerticalGridLine=function(n){this.gridJson.VerticalGridLine=n;var t=this.tableElement.data("ejGrid");t.option("gridLines",this.getGridLineType())},n.prototype.getGridLineType=function(){return(this.gridJson.HorizontalGridLine&&this.gridJson.VerticalGridLine?ej.Grid.GridLines.Both:this.gridJson.HorizontalGridLine?ej.Grid.GridLines.Horizontal:this.gridJson.VerticalGridLine?ej.Grid.GridLines.Vertical:ej.Grid.GridLines.None).toString()},n.prototype.updateAllowPaging=function(n){this.gridJson.AllowPaging=n;var t=this.tableElement.data("ejGrid");t.option("allowPaging",n);t.option({pageSettings:{pageSize:50}});t.option({scrollSettings:{height:this.gridItem.height()-50-this.gridItem.find(".e-pager").height()-this.gridItem.find(".e-filterbar").height()}})},n.prototype.updateAllowResizeToFit=function(n){this.gridJson.FitContent=n;var t=this.tableElement.data("ejGrid");t.option("allowResizeToFit",n)},n.prototype.updateAllowFiltering=function(n){this.gridJson.AllowFilter=n;var t=this.tableElement.data("ejGrid");t.option("allowFiltering",n);t.option({scrollSettings:{height:this.gridItem.height()-50-this.gridItem.find(".e-pager").height()-this.gridItem.find(".e-filterbar").height()}})},n.prototype.updateAllowSorting=function(n){this.gridJson.AllowSorting=n;var t=this.tableElement.data("ejGrid");t.option("allowSorting",n)},n.prototype.updateEnableDataGrouping=function(n){var t;if(this.gridJson.EnableDataGrouping=n,this.gridJson.EnableDataGrouping==!1&&this.dataGroupInfo.Values.length>0)for(t=0;t<this.dataGroupInfo.Values.length;t++)this.dataGroupInfo.Values[t].Values[t].FieldType.toLowerCase()=="measures"&&(this.dataGroupInfo.Values[t].Values[t].SummaryType="None");else for(t=0;t<this.dataGroupInfo.Values.length;t++)this.dataGroupInfo.Values[t].Values[t].FieldType.toLowerCase()=="measures"&&(this.dataGroupInfo.Values[t].Values[t].SummaryType="Sum");this.dataConfiguration.postDraggedFields()},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),n,t,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=t;this.propertyPanel.updatePropertyValue(u,"Grid",i);this.propertyPanel.canUpdate=!0},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.gridJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.updateSize=function(n,t){this.controlContainer.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.gridJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.updateGridSize()},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.gridJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.updateGridSize()},n.prototype.updateGridSize=function(){var n,t,i,r;for(this.tableElement.css({width:this.gridItem.width()-2,height:this.gridItem.height()}),n=this.tableElement.find(".e-table"),t=0;t<n.length;t++)n.css("width",this.gridItem.width()-2);i=this.tableElement.data("ejGrid");i.option({scrollSettings:{width:this.gridItem.width()-2,height:this.gridItem.height()-50-this.gridItem.find(".e-pager").height()-this.gridItem.find(".e-filterbar").height()}});r=this.tableElement.find(".e-headercontent");r.css("width",this.gridItem.width()-2)},n.prototype.getPropertyGridItems=function(){var n={Header:this.gridJson.ContainerSettings.Title,Type:"Grid",Items:[{CategoryName:"Basic Settings",Items:[{name:"AllowSorting",displayName:"Allow Sorting",value:this.gridJson.AllowSorting,itemType:"bool",enableExpression:!1},{name:"AllowPaging",displayName:"Allow Paging",value:this.gridJson.AllowPaging,itemType:"bool",enableExpression:!1},{name:"AllowResizeToFit",displayName:"Fit To Content",value:this.gridJson.FitContent,itemType:"bool",enableExpression:!1},{name:"HorizontalGridLine",displayName:"Horizontal Grid Line",value:this.gridJson.HorizontalGridLine,itemType:"bool",enableExpression:!1},{name:"VerticalGridLine",displayName:"Vertical Grid Line",value:this.gridJson.VerticalGridLine,itemType:"bool",enableExpression:!1},]},{CategoryName:"Filter",Items:[{name:"AllowFiltering",displayName:"Allow Filter",value:this.gridJson.AllowFilter,itemType:"bool",enableExpression:!1},]},{CategoryName:"Column Settings",Items:[{name:"ColumnOptions",itemType:"object",callbackInstance:this,callbackMethod:"renderColumnOptions",enableExpression:!1},{name:"KPIColumns",itemType:"object",callbackInstance:this,callbackMethod:"renderKPIColumns",enableExpression:!1},]},{CategoryName:"Data Settings",Items:[{name:"EnableDataGrouping",displayName:"Enable Data Grouping",value:this.gridJson.EnableDataGrouping,itemType:"bool",enableExpression:!1},]}]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.gridJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.renderColumnOptions=function(n,t,i){if(!ej.isNullOrUndefined(n)){var u=ej.buildTag("div","",{width:"175px",display:"inline-block","margin-top":"3px","margin-left":"15px",border:"0px solid","border-color":"red"},{id:this.designId+"_"+t+"_"+i.name+"_parent"}),r=ej.buildTag("button","Template...",{},{id:this.designId+"_"+t+"_"+i.name});u.append(r);n.append(u);r.ejButton({width:"150px",height:"28px",showRoundedCorner:!1,size:"small",click:$.proxy(this.onGridTemplateClick,this,t,i),cssClass:"e-designer-click e-designer-button e-reportdesigner-previewbtn"});r.css({"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"})}},n.prototype.isDateTime=function(n){return n==="System.DateTime"||n==="System.TimeSpan"?!0:!1},n.prototype.getGridTemplates=function(){for(var t,r,h,c,f=[],s=[],e=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),a=e.dataGroupInfo,i=e.dataGroupInfo.Values[0].Values,l=e.dataGroupInfo.Dataset,o=ejDashboardDesigner.getInstance("DataSet").datasets,u=[],n=0;n<o.length;n++)l===o[n].Name&&(u=o[n].Fields);for(t=0;t<i.length;t++)for(r=0;r<u.length;r++)i[t].DataField!==u[r].Name||this.isDateTime(u[r].TypeName)||(h=i[t].SummaryType,c=h.length>0?" ("+i[t].SummaryType+")":"",f.push({DataField:i[t].DataField+c}));for(n=0;n<f.length;n++)s.push({Name:f[n].DataField,GridTemplateColumn:{IsDefaultValueApplied:!0,IsBarApplied:!1,IsConditionalFormattingApplied:!1,ConditionalFormattings:[]}});return s},n.prototype.onGridTemplateClick=function(){var n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).gridTemplates;n.length===0&&(n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).getGridTemplates());ejDashboardDesigner.getInstance("GridTemplate").openGridTemplate(this,"updateGridTemplate",n)},n.prototype.updateGridTemplate=function(n){ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).gridTemplates=n},n.prototype.renderKPIColumns=function(n){if(ej.isNullOrUndefined(n))$("#"+this.designId+"gridCol").data("ejGrid").setModel({dataSource:this.kpiColumns});else{var t=ej.buildTag("div","",{"padding-right":"10px","padding-left":"10px","padding-top":"10px","padding-bottom":"10px",width:"450px"},{id:this.designId+"_kpiDiv"}),e=ej.buildTag("div","",{float:"left"},{id:this.designId+"_kpiLeft"}),o=ej.buildTag("table.e-designer-table","",{},{unselectable:"on"}),s=ej.buildTag("tr","",{display:"block"}),h=ej.buildTag("td","",{width:"100px"}),b=ej.buildTag("div","KPI Columns",{"font-size":"14px","font-color":"#303541","font-weight":"600",float:"left"},{type:"label"}),c=ej.buildTag("div","",{"padding-right":"10px","padding-top":"3px",float:"right"},{id:this.designId+"_kpiRight"}),l=ej.buildTag("table.e-designer-table","",{},{unselectable:"on"}),a=ej.buildTag("tr","",{display:"block"}),i=ej.buildTag("td","",{}),r=ej.buildTag("div","",{float:"right","margin-top":"1px"},{id:this.designId+"_addIcon"}),k=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{float:"right",cursor:"default","font-size":"14px","padding-left":"10px"},{id:this.designId+"_add_span"}),u=ej.buildTag("div","",{float:"right"},{id:this.designId+"editIcon"}),d=ej.buildTag("span.e-icon e-widgeticon e-reportdesigner-parameter-edit","",{float:"right","font-size":"14px",cursor:"default","padding-left":"10px"},{id:this.designId+"_edit_span"}),f=ej.buildTag("div","",{float:"right"},{id:this.designId+"delIcon"}),g=ej.buildTag("span.e-icon e-widgeticon e-reportdesigner-toolbar-delete","",{float:"right","font-size":"14px",cursor:"default","padding-left":"10px"},{id:this.designId+"_del_span"}),v=ej.buildTag("div","",{},{id:this.designId+"_grid"}),y=ej.buildTag("table.e-designer-table","",{width:"435px"},{unselectable:"on"}),p=ej.buildTag("tr","",{}),w=ej.buildTag("td","",{},{id:this.designId+"gridCol"});n.append(t);t.append(e);e.append(o);o.append(s);s.append(h);h.append(b);t.append(c);c.append(l);l.append(a);a.append(i);i.append(f);f.append(g);i.append(u);u.append(d);i.append(r);r.append(k);t.append(v);v.append(y);y.append(p);p.append(w);w.ejGrid({datasource:this.kpiColumns,columns:[{field:"ColumnName",headerText:"Column Name"},{field:"KPIExpression",headerText:"KPI Expression"}],width:"100%",height:"200px",allowSelection:!0});r.bind("click",$.proxy(this.addKPIColumn,this));f.bind("click",$.proxy(this.deleteKPIColumn,this));u.bind("click",$.proxy(this.editKPIColumn,this))}},n.prototype.updatekpiInfo=function(n){var t=n;this.isKPIColumnEdit?(this.kpiColumns[this.selectedKpiColumnIndex].ColumnName=t.ColumnName,this.kpiColumns[this.selectedKpiColumnIndex].KPIExpression=t.KPIExpression,$("#"+this.designId+"gridCol").data("ejGrid").setModel({dataSource:this.kpiColumns})):this.kpiColumns.push(t);$("#"+this.designId+"gridCol").data("ejGrid").setModel({dataSource:this.kpiColumns});this.isKPIColumnEdit=!1;this.propertyPanel.refreshScroller()},n.prototype.addKPIColumn=function(){ejDashboardDesigner.getInstance("KPIWindow").openkpiDialog(null,this,"updatekpiInfo")},n.prototype.deleteKPIColumn=function(){var n=$("#"+this.designId+"gridCol").data("ejGrid").option("selectedRowIndex");this.kpiColumns.splice(n,1);$("#"+this.designId+"gridCol").data("ejGrid").setModel({dataSource:this.kpiColumns})},n.prototype.editKPIColumn=function(){this.selectedKpiColumnIndex=$("#"+this.designId+"gridCol").data("ejGrid").option("selectedRowIndex");this.isKPIColumnEdit=!0;ejDashboardDesigner.getInstance("KPIWindow").openkpiDialog(this.kpiColumns[this.selectedKpiColumnIndex],this,"updatekpiInfo")},n.prototype.getGridJson=function(){return new GridProperties},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.gridJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-grid-item");this.renderGridReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGridReportElement","e-grid-item",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.controlContainer.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderGridReportElement","e-grid-item",this.gridJson.UniqueName,[this.gridJson,n.attr("id")],null);$("#"+this.gridJson.UniqueName).removeData("Grid");$("#"+this.gridJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.GridItem",InternalGridReportItem,window);InternalGroupDialog=function(){function n(){this.datasetFields=[];this.callMethod="";this.datasetName=null;this.groupExpressions=[];this.footerTag=null;this.ejScrollerDiv=null;this.nameTag=null;this.labelTag=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.datasets=this.rdlParser.rdlJsonObj.DataSets;this.expression=ejDashboardDesigner.getInstance("ExpressionMenu");this.renderGroupDialog()}return Object.defineProperty(n,"GroupInstance",{get:function(){return(this.groupDialog===null||this.groupDialog===undefined)&&(this.groupDialog=new ej.DashboardDesignerUtility.GroupDialog),this.groupDialog},enumerable:!0,configurable:!0}),n.prototype.renderGroupDialog=function(){var n=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Grouping",id:this.id+"_group_dialog"}),e=ej.buildTag("div","",{},{}),o=ej.buildTag("table.e-designer-exp-table","",{width:"100%"},{}),r=ej.buildTag("tr","",{},{}),s=ej.buildTag("td","",{width:"396px"},{}),l=ej.buildTag("Label.e-designer-add-label","Change Grouping Options",{},{type:"label"}),h=ej.buildTag("td","",{},{}),t=ej.buildTag("div","",{cursor:"default",float:"right"},{}),a=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_add_group_span"}),v=ej.buildTag("span.e-btntxt e-designer-add-btn","ADD",{}),i=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{height:"251px",width:"446px",padding:"4px 0px"},{id:this.id+"_group_container"}),y=ej.buildTag("div.e-items","",{},{id:this.id+"_group_container_div"}),u=ej.buildTag("input.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_group_btn_cancel"}),f=ej.buildTag("input.e-designer-okbtn","",{float:"right"},{id:this.id+"_group_btn_ok"}),c;this.renderLabelFields(n);n.append(e);e.append(o);o.append(r);r.append(s);s.append(l);r.append(h);h.append(t);t.append(a);t.append(v);n.append(i);i.append(y);$(document.body).append(n);n.ejDialog({minWidth:460,minHeight:280,width:"auto",height:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});c=$("#"+this.id+"_group_dialog_foot");c.append(u).append(f);f.ejButton({text:"OK",enabled:!0,showRoundedCorner:!1,size:"mini",click:$.proxy(this.updateGroupInfo,this)});u.ejButton({text:"Cancel",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeDialog,this,!0)});this.footerTag=$("#"+this.id+"_group_dialog_foot");this.footerTag.append(u).append(f);t.bind("click",$.proxy(this.renderNewGroupField,this));i.ejScroller({height:"250px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejScrollerDiv=i.data("ejScroller")},n.prototype.renderNewGroupField=function(){var r,u,f;$("#"+this.id+"_group_btn_ok").data("ejButton").enable();var e=$("#"+this.id+"_group_container_div"),n=ej.getGuid(this.id+"_row_"),y=e.find(".e-reportdesigner-group-row").length,i=ej.buildTag("div.e-reportdesigner-group-row e-drag-row","",{"padding-right":"8px","padding-left":"8px","padding-top":"4px","padding-bottom":"4px"},{id:n,rowId:n}),o=ej.buildTag("table.e-designer-table-dialog","",{width:"100%",padding:"1px 3px 1px 3px"},{unselectable:"on",id:n+"_group_container_table"}),t=ej.buildTag("tr","",{},{id:n+"_group_rowTag"}),s=ej.buildTag("td","",{width:"1px"},{}),h=ej.buildTag("div.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-designer-double-drag","",{display:"block"},{id:n+"_group_iconspan"}),c=ej.buildTag("td","",{width:"57px","padding-left":"7px"},{}),p=ej.buildTag("span.e-designer-label-group e-designer-cursor",y===0?"Group by":"And on",{"line-height":"2"},{id:n+"_lbl_header"}),l=ej.buildTag("td","",{width:"184px"},{}),a=ej.buildTag("input.e-field e-ejinputtext","",{padding:"1px"},{type:"text",id:n+"_group_expdrop"}),v=ej.buildTag("td","",{width:"20px","padding-right":"62px","padding-left":"10px"});return this.expression.renderExpressionElement(v,{id:n+"_group_expField",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Group Filter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[n+"_group_expdrop",n+"_group_expField"]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[n+"_group_expdrop",n+"_group_expField"]},parentElement:$("#"+this.id+"_group_dialog")}}),r=ej.buildTag("td","",{width:"20px","padding-top":"2px","padding-right":"8px"},{id:n+"_group_error_td"}),ej.DashboardUtil.renderErrIndictor(r,this.id),u=ej.buildTag("td","",{"padding-top":"6px","padding-right":"5px"},{}),f=ej.buildTag("span.e-chk-image e-icon e-cross-circle","",{cursor:"default",float:"right",color:"#f45d5d","font-size":"12px"},{id:n+"_delete_icon"}),e.append(i),i.append(o),o.append(t),t.append(s),s.append(h),t.append(c),c.append(p),t.append(l),l.append(a),t.append(v),t.append(r),t.append(u),u.append(f),f.bind("click",$.proxy(this.deleteGroup,this,i,n)),a.ejDropDownList({width:"180px",height:"26px",dataSource:this.datasetFields,fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"}),ejDashboardDesigner.getInstance("DragOnDrop").initializeSortable(h,i,this.id+"_group_dialog",this.id+"_group_container",$.proxy(this.changeLabelTxt,this)),this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh(),n},n.prototype.renderLabelFields=function(n){var e=ej.buildTag("div","",{"padding-bottom":"8px"},{}),t=ej.buildTag("table","",{width:"100%"},{unselectable:"on"}),i=ej.buildTag("tr","",{},{}),r=ej.buildTag("td","",{width:"20px"},{}),o=ej.buildTag("div","",{float:"left"}),w=ej.buildTag("span.e-designer-label-sort","Name",{"font-weight":"600"}),s=ej.buildTag("div","",{float:"right"}),h=ej.buildTag("td","",{width:"20px","padding-top":"2px","padding-right":"56px"},{id:this.id+"_group_error_name"});ej.DashboardUtil.renderErrIndictor(h,this.id);var c=ej.buildTag("td","",{width:"20px"},{}),b=ej.buildTag("span.e-designer-label-sort","Label",{"font-weight":"600"}),u=ej.buildTag("tr","",{},{}),l=ej.buildTag("td","",{},{}),k=this.nameTag=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border ","",{height:"20px",width:"150px"},{type:"text",id:this.id+"_group_lbl_name"}),f=ej.buildTag("td","",{width:"20px"},{}),a=ej.buildTag("div","",{float:"left"}),v=this.labelTag=ej.buildTag("input.e-field e-ejinputtext ","",{},{type:"text",id:this.id+"_group_lbldrop"}),y=ej.buildTag("div","",{float:"right"}),p=ej.buildTag("td","",{width:"20px","padding-right":"20px"});this.expression.renderExpressionElement(p,{id:this.id+"_group_lbl_expr",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Group Label",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[this.id+"_group_lbldrop",this.id+"_group_lbl_expr"]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[this.id+"_group_lbldrop",this.id+"_group_lbl_expr"]},parentElement:n}});n.append(e);e.append(t);t.append(i);i.append(r);r.append(o);o.append(w);r.append(s);s.append(h);i.append(c);c.append(b);t.append(u);u.append(l);l.append(k);u.append(f);f.append(a);a.append(v);f.append(y);y.append(p);v.ejDropDownList({width:"160px",height:"22px",dataSource:this.datasetFields,fields:{text:"text"},selectedIndex:0,enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"})},n.prototype.closeDialog=function(){$("#"+this.id+"_group_dialog").data("ejDialog").close()},n.prototype.deleteGroup=function(n){n.remove();$("#"+this.id+"_group_container_div .e-designer-label-group:first").text("Group by");this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh()},n.prototype.changeLabelTxt=function(){$("#"+this.id+"_group_container_div .e-designer-label-group:first").text("Group by");$("#"+this.id+"_group_container_div .e-designer-label-group").not(":first").text("And on")},n.prototype.populateGroupExpressions=function(n){var t,i;for(this.nameTag.val(n.GroupName),this.updateGroupRowValues(n.Value,this.labelTag,$("#"+this.id+"_group_lbl_expr_Expression")),t=0;t<n.GroupExpressions.length;t++)i=this.renderNewGroupField(),this.updateGroupRowValues(n.GroupExpressions[t].Value,this.getGroupExpTag(i),$("#"+i+"_group_expField_Expression"))},n.prototype.updateGroupRowValues=function(n,t,i){var f=ej.DashboardUtil.getExpression(n),r=!0,u=t,e=this.getSelectedField(f.exp);!f.isExp&&e.isAvailable&&f.exp.length>0?(u.data("ejDropDownList").option("selectedIndex",e.index),u.attr("e-exp",""),r=!0):(u.attr("e-exp",n),r=!1);i.css("background-color",r?"white":"black");this.enableField(u,r)},n.prototype.openGroupDialog=function(n,t,i,r,u){this.resetGroupDialog();this.dataInfo=t;this.callInstance=i;this.callMethod=r;this.datasets=this.rdlParser.rdlJsonObj.DataSets;this.datasetName=u;this.datasetFields=this.getAvailableFields(this.datasetName,this.datasets);$("#"+this.id+"_group_dialog").data("ejDialog").open();this.labelTag.data("ejDropDownList").setModel({dataSource:this.datasetFields});this.groupExpressions=n.GroupExpressions;this.dataGroupInfo={name:n.GroupName,value:n.Value};this.populateGroupExpressions(n)},n.prototype.getAvailableFields=function(n,t){var f=[],i,e,u,r;if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].Name===n){for(e=t[i].Fields,u=0;u<e.length;u++)r=t[i].Fields[u],f.push({id:r.Name,text:r.Name,value:r.Name,typeName:r.TypeName});break}return f},n.prototype.isExpressionField=function(n,t){return(!ej.isNullOrUndefined(n)&&n.length===0||ej.isNullOrUndefined(n))&&(!ej.isNullOrUndefined(t)&&t.length===0||ej.isNullOrUndefined(t))?!1:!0},n.prototype.updateGroupInfo=function(){var n=this,u=[],f=!1,o=$("#"+this.id+"_group_container_div .e-reportdesigner-group-row"),i=this.nameTag.val(),r=this.labelTag.data("ejDropDownList").getSelectedValue(),t=this.labelTag.attr("e-exp"),e;i.length===0?(e="Please enter the name",this.nameTag.addClass("e-designer-error").addClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+this.id+"_group_error_name"),!0,e)):(this.nameTag.removeClass("e-designer-error").removeClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+this.id+"_group_error_name"),!1));r=!ej.isNullOrUndefined(t)&&t.length>0?t:"=Fields!"+r+".Value";o.each(function(t,i){var r=$(i).attr("id"),o=n.getGroupExpTag(r).data("ejDropDownList").getSelectedValue(),e=n.getGroupExpTag(r).attr("e-exp"),s=n.createGroup(),h;n.isExpressionField(o,e)?(s.Value=!ej.isNullOrUndefined(e)&&e.length>0?e:"=Fields!"+o+".Value",u.push(s),n.enableHighlighter(!1,r)):(h="Choose value for expression field",n.enableHighlighter(!0,r,h),f=!0)});!f&&i.length>0&&(ej.DashboardUtil.isEqualObj(this.groupExpressions,u)&&ej.DashboardUtil.isEqualObj(this.dataGroupInfo,{name:i,value:r})||ej.DashboardUtil.invokeMethod(this.callInstance,this.callMethod,[{name:i,value:ej.isNullOrUndefined(t)||t.length===0?r:t,groupExpressions:u},this.dataInfo]),this.closeDialog())},n.prototype.getSelectedField=function(n){for(var t=0;t<this.datasetFields.length;t++)if(n.length>0&&n===this.datasetFields[t].text)return{index:t,isAvailable:!0};return{index:-1,isAvailable:!1}},n.prototype.setExpressionValue=function(n){var i=$("#"+n.arguments[0]),t=n.expression[0],r=!0,u=ej.DashboardUtil.getExpression(t),f=this.getSelectedField(u.exp);i.attr("e-exp","");f.isAvailable||ej.isNullOrUndefined(t)?(i.data("ejDropDownList").setModel({selectedIndex:f.index}),r=!0):t&&t.startsWith("=")&&(u.isExp||t.startsWith("=Parameters!"))?(i.attr("e-exp",t),r=!1):!f.isAvailable&&u.exp.length>0&&(i.attr("e-exp",t),r=!1);$("#"+n.arguments[1]+"_Expression").css("background-color",r?"white":"black");this.enableField(i,r)},n.prototype.getGroupExpTag=function(n){return $("#"+n+"_group_expdrop")},n.prototype.enableField=function(n,t){n.data("ejDropDownList").setModel({enabled:t})},n.prototype.getExpressionValue=function(n){var t=$("#"+n).attr("e-exp");return t||(t=$("#"+n).data("ejDropDownList").getSelectedValue(),t=!ej.isNullOrUndefined(t)&&t.length>0?"=Fields!"+t+".Value":""),t},n.prototype.enableHighlighter=function(n,t,i){var r=$("#"+t+"_group_expdrop_container");n?(r.addClass("e-designer-error").addClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+t+"_group_error_td"),!0,i)):(r.removeClass("e-designer-error").removeClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+t+"_group_error_td"),!1))},n.prototype.resetGroupDialog=function(){this.dataInfo=null;this.callInstance=null;this.callMethod=null;this.datasetName=null;this.datasetFields=[];ej.DashboardUtil.showErrIndictor($("#"+this.id+"_group_error_name"),!1);this.nameTag.removeClass("e-designer-error").removeClass("e-designer-error-radius");$("#"+this.id+"_group_container_div").empty()},n.prototype.createGroup=function(){return{__type:"Syncfusion.RDL.DOM.GroupExpression",Value:""}},n}();window.ej.createObject("ej.DashboardDesignerUtility.GroupDialog",InternalGroupDialog,window);InternalImageManager=function(){function n(){this.id=null;this.imageManagerHeaderText="IMAGE MANAGER";this.addImageButtonText="Add Image";this.browseImageText="Browse Image";this.imageNames=[];this.uploadfile=null;this.isInTouch=!1;this.imageList=[];this.rptDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.imageNames=[];this.updateImageJSON();this.id=this.rptDesigner._id;this.imageContainer=ej.buildTag("div","",{"background-color":"white"},{id:this.id+"_imageManager"})}return Object.defineProperty(n,"ImageSource",{get:function(){return ej.isNullOrUndefined(this.imageSource)&&(this.imageSource=new ej.DashboardDesignerUtility.ImageManager),this.imageSource},enumerable:!0,configurable:!0}),n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)},n.prototype.updateImageJSON=function(){this.imageList=this.rdlParser.rdlJsonObj.EmbeddedImages;this.imageNames=this.getImageNames();this.uploadfile=null;this.updateImgSource()},n.prototype.getImagJson=function(n){if(this.imageList&&this.imageList.length>0)for(var t=0;t<this.imageList.length;t++)if(this.imageList[t].Name===n)return this.imageList[t]},n.prototype.getImageNames=function(){var t=[],n;if(this.imageList&&this.imageList.length>0)for(n=0;n<this.imageList.length;n++)t.push(this.imageList[n].Name);return t},n.prototype.insertImage=function(n,t){t===0?this.imageList.unshift(n):this.imageList.splice(t,0,n);this.appendItem(n,t);this.showImageHint();this.updateImgSource()},n.prototype.addImage=function(n){this.imageList.push(n);this.appendItem(n);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ImageAdd,"removeImage","ImageManager","",[n,this.imageList.length-1],[n.Name]);this.showImageHint();this.updateImgSource()},n.prototype.removeImage=function(n){var t,i;if(this.imageItemDelete(n),!ej.isNullOrUndefined(this.imageList)&&this.imageList.length>0)for(t=0;t<this.imageList.length;t++)if(this.imageList[t].Name===n){i=$.extend(!0,{},this.imageList[t]);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ImageDelete,"insertImage","ImageManager","",[i.Name],[i,t]);this.imageList.splice(t,1);break}this.showImageHint();this.updateImgSource()},n.prototype.renderContainer=function(n){this.targetTag=n;this.targetTag.append(this.imageContainer);this.renderHeader(this.imageManagerHeaderText);this.renderImageContainer();this.renderFooter();this.updateSize();this.populateEmbeddedImages()},n.prototype.renderHeader=function(n){var t=ej.buildTag("div","",{height:"35px",overflow:"hidden"},{id:this.id+"_imageManagerHeader"}),i=ej.buildTag("span.e-designer-header e-designer-cursor","",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_imageManagerHeaderText"}),r;i.text(n);r=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-imagemanager e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{});t.append(r);t.append(i);this.imageContainer.append(t)},n.prototype.renderFooter=function(){var n=ej.buildTag("div.e-reportdesigner-designer-configuration","",{height:"50px","text-align":"center"},{id:this.id+"_imageManagerFooter"}),i=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"},{id:this.id+"_footerSeperator"}),t;n.append(i);t=ej.buildTag("button.e-designer-newparam-btn e-designer-button","ADD IMAGE",{"padding-right":"3px"},{id:this.id+"_btn_New_Img"});n.append(t);this.imageContainer.append(n);t.ejButton({showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:$.proxy(this.browseImages,this)});this.renderImgUpload(this.imageContainer)},n.prototype.browseImages=function(){$("#"+this.id+"_img_upload .e-uploadinput").click()},n.prototype.renderImgUpload=function(n){var t=this,i=ej.buildTag("div","",{height:"0px"},{id:this.id+"_img_upload"});n.append(i);i.ejUploadbox({width:"0px",height:"0px",uploadName:"file",extensionsAllow:".png, .jpg, .jpeg, .gif",autoUpload:!0,showFileDetails:!1,dialogAction:{content:this.rptDesigner.element},saveUrl:this.rptDesigner.model.serviceUrl+"/UploadReportAction",error:$.proxy(this.onuploadError,this),complete:$.proxy(this.onuploadComplete,this),beforeSend:function(n){var r=n.files.name.split("."),i;t.uploadfile=t.getAvailableName(ej.DashboardUtil.rplSpecialChar(r[0]))+"."+t.getfileExtension(r[1]);t.rptDesigner.showDesignIndicator();i={reportDesignerToken:t.rptDesigner.authenticationToken,serviceAuthorizationToken:t.rptDesigner.model.serviceAuthorizationToken};t.rptDesigner.triggerEvents("ajaxBeforeLoad",i);n.xhr.setRequestHeader("reportDesignerToken",i.reportDesignerToken);n.xhr.setRequestHeader("serviceAuthorizationToken",i.serviceAuthorizationToken);n.xhr.setRequestHeader("fileName",t.uploadfile)}});$(this.id+"_img_upload_SelectButton").hide()},n.prototype.renderImageContainer=function(){var t,u,n,f,i,r;this.imageListContainer=ej.buildTag("div.e-reportdesigner-propertyContainer e-reportdesigner-scroller","",{height:"100%",margin:"10px","margin-top":"0px","margin-right":"0px"},{id:this.id+"_imageContainer"});t=ej.buildTag("div","",{},{});u=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_imageContainerDiv"});t.append(u);this.imageListContainer.append(t);this.imageContainer.append(this.imageListContainer);n=ej.buildTag("div.e-reportdesigner-box-sizing","",{height:"75px",width:"90px",margin:"10px",border:"3px solid",float:"left",display:"none","vertical-align":"middle","text-align":"center","border-color":"#0b8ae1",position:"absolute"},{id:this.id+"_imageHoverDiv"});f=ej.buildTag("div","",{height:"75px",width:"90px","background-color":"#428bca",opacity:"0.5"});n.append(f);i=ej.buildTag("div","",{height:"35px",width:"35px",position:"absolute",left:"27.5px",top:"20.5px"},{"class":"e-imagemanagericon e-reportdesigner-imagemanager-add"});r=ej.buildTag("div","",{height:"15px",width:"15px",position:"absolute",left:"70.5px",top:"54.5px","font-size":"15px"},{"class":"e-imagemanagericon e-reportdesigner-imagemanager-delete"});n.append(i);n.append(r);n.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.onImageLeave,this));this.imageListContainer.append(n);i.bind("click",$.proxy(this.onImageAdd,this));r.bind("click",$.proxy(this.onImageDelete,this));this.imageListContainer.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.onuploadError=function(){this.rptDesigner.hideDesignIndicator();this.uploadfile=null},n.prototype.onuploadComplete=function(n){this.rptDesigner.hideDesignIndicator();var t=this.createEmbeddedImage(this.uploadfile?this.uploadfile:n.files.name);this.imageNames.push(t.Name);this.uploadfile=null;this.addImage(t)},n.prototype.onTouchEnd=function(n){n.preventDefault();this.isInTouch=!1},n.prototype.onTouchStart=function(n){this.isInTouch=!0;var t=$(n.currentTarget).offset();$("#"+this.id+"_imageHoverDiv").css({display:"table-cell",left:t.left-10,top:t.top-10});this.hoverElement=n.currentTarget},n.prototype.onImageHover=function(n){var t=$(n.currentTarget).offset();$("#"+this.id+"_imageHoverDiv").css({display:"table-cell",left:t.left-10,top:t.top-10});this.hoverElement=n.currentTarget},n.prototype.onImageLeave=function(){this.isInTouch||$("#"+this.id+"_imageHoverDiv").css({display:"none"})},n.prototype.onImageAdd=function(){if(!this.isInTouch){var n=$(this.hoverElement).attr("imgName"),t=$("#"+this.id+"_rpt_image_"+n+" img").attr("src"),i={name:n,src:t};ejDashboardDesigner.getInstance("DesignPanel").renderItem("e-image",this.id,$("#"+this.id+"_designBody"),{left:10,top:10},i)}},n.prototype.onImageDelete=function(){if(!this.isInTouch){var n=$(this.hoverElement).attr("imgName");ej.DashboardUtil.getInstance().ejAlertDialog("Image","Delete embedded image '"+n+"'?",!0,!0,!0,"",{dataInfo:{name:n},instance:this,method:"deletConfirmation"})}},n.prototype.deletConfirmation=function(n,t){if(n&&!ej.isNullOrUndefined(t)){ejDashboardDesigner.editManager.setMergeAction(!0);var i=$.extend(!0,{},this.getImagJson(t.name));this.removeImage(t.name);this.deleteImageItems(i);ejDashboardDesigner.editManager.setMergeAction(!1);$("#"+this.id+"_imageHoverDiv").hide();this.scrollerRefresh(this.imageListContainer)}},n.prototype.imageItemDelete=function(n){$("#"+this.id+"_rpt_image_"+n).remove();$("#"+this.id+"_imageHoverDiv").hide()},n.prototype.populateEmbeddedImages=function(){if($("#"+this.id+"_imageContainerDiv .e-img-tile").remove(),this.updateImageJSON(),this.imageList&&this.imageList.length>0)for(var n=0;n<this.imageList.length;n++)this.appendItem(this.imageList[n]);this.showImageHint()},n.prototype.appendItem=function(n,t){var r=this.rptDesigner.authenticationToken,u={reportDesignerToken:r};this.rptDesigner.triggerEvents("ajaxBeforeLoad",u);r=u.reportDesignerToken;var f=ejDashboardDesigner.getInstance("DashboardDesigner").model.serviceUrl,e=f+"/GetImage/?key="+r+"&image="+n.Name+"."+this.getExtension(n.MIMEType),i=ej.buildTag("div.e-img-tile","",{height:"75px",width:"90px",margin:"10px",border:"2px solid",float:"left",display:"table-cell","vertical-align":"middle","text-align":"center","border-color":"#dde1e6"},{id:this.id+"_rpt_image_"+n.Name,imgName:n.Name}),o=ej.buildTag("img.e-draggable","",{width:"85px",height:"70px",margin:"2.5px"},{src:e});ej.isNullOrUndefined(t)?$("#"+this.id+"_imageContainerDiv").append(i):t===0?$("#"+this.id+"_imageContainerDiv").prepend(i):$("#"+this.id+"_imageContainerDiv .e-img-tile:nth-child("+t+")").after(i);i.append(o);i.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.onImageHover,this));i.bind("touchstart",$.proxy(this.onTouchStart,this));i.bind("touchend",$.proxy(this.onTouchEnd,this));this.scrollerRefresh(this.imageListContainer)},n.prototype.showImageHint=function(){$("#"+this.id+"_imageContainerDiv img").length>0?this.imageListContainer.removeClass("e-designer-hint-newimagemanager"):this.imageListContainer.addClass("e-designer-hint-newimagemanager")},n.prototype.updateImgSource=function(){var i=$("#"+this.id+"_Image_BasicSettings_Value").data("ejDropDownList"),t,n;if(!ej.isNullOrUndefined(i)){for(t=[],n=0;n<this.imageList.length;n++)t.push({text:this.imageList[n].Name});i.option("dataSource",t)}this.updateSelectedItemProp()},n.prototype.deleteImageItems=function(){},n.prototype.insertImageItems=function(n,t){var i,r;if(t&&t.length>0)for(i=0;i<t.length;i++)r=ej.DashboardUtil.getReportItem($("#"+this.id+"_"+t[i])),r.imageJson.Value=n.Name,r.image.attr("src",r.getImageUrl(n.Name,this.getExtension(n.MIMEType))),r.showDefaultImage(!1),this.updateSelectedItemProp(n.Name,t[i]);ejDashboardDesigner.editManager.addCmdAction(CommandAction.AddImages,"deleteImageItems","ImageManager","",[n,t],[n])},n.prototype.updateSelectedItemProp=function(n,t){var r,i;ej.isNullOrUndefined(this.rptDesigner.designerPanel.selectedReportItems)||this.rptDesigner.designerPanel.selectedReportItems.length!==1||(r=$(this.rptDesigner.designerPanel.selectedReportItems[0]),r.hasClass("e-image")&&(i=ej.DashboardUtil.getReportItem(r),ej.isNullOrUndefined(n)&&ej.isNullOrUndefined(t)?i.updatePropertyValue("Value","Value",i.imageJson.Value):i.imageJson.Name===t&&i.updatePropertyValue("Value","Value",n)))},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.updateCulture=function(n){var i=this.id,t;t=ej.DashboardDesigner.Locale[n]?ej.DashboardDesigner.Locale[n].imageManager:ej.DashboardDesigner.Locale["en-US"].imageManager;this.imageManagerHeaderText=t.headerText;this.addImageButtonText=t.addImageButtonText;this.browseImageText=t.browseImage;$("#"+i+"_imageManagerHeaderText").html(this.imageManagerHeaderText);$("#"+i+"_addImageButtonText").html(this.addImageButtonText);$("#"+i+"_openImageFileContainer").ejDialog({title:this.browseImageText})},n.prototype.showImageManager=function(n){$("#"+this.id+"_imageManager").css("display",n?"block":"none");ejDashboardDesigner.getInstance("DataConfigurationPanel").resizeObj.isImageManager&&(this.updateSize(),ejDashboardDesigner.getInstance("DataConfigurationPanel").resizeObj.isImageManager=!1)},n.prototype.updateSize=function(){if(this.isLoaded()){this.imageContainer.height($("#"+this.id+"_designerConfigurationPanel").height());var n=$("#"+this.id+"_imageManagerHeader").height(),t=$("#"+this.id+"_imageManagerFooter").height();this.imageListContainer.height(this.imageContainer.height()-(n+t+15));this.imageListContainer.data("ejScroller")&&(this.imageListContainer.data("ejScroller").setModel({height:this.imageContainer.height()-(n+t+15)}),this.imageListContainer.data("ejScroller").refresh())}},n.prototype.createEmbeddedImage=function(n){var t=n.split(".");return{__type:"Syncfusion.RDL.DOM.EmbeddedImage",Name:t[0],MIMEType:this.getMimeType(t[1]),ImageData:""}},n.prototype.getMimeType=function(n){switch(n.toLowerCase()){case"png":return"image/png";case"jpeg":case"jpg":case"jpe":return"image/jpeg";case"bmp":return"image/bmp";case"gif":return"image/gif";case"emf":return"image/emf"}return"image/png"},n.prototype.getfileExtension=function(n){switch(n.toLowerCase()){case"jpeg":case"jpg":case"jpe":return"jpeg"}return n},n.prototype.getExtension=function(n){switch(n.toLowerCase()){case"image/png":return"png";case"image/jpeg":return"jpeg";case"image/bmp":return"bmp";case"image/gif":return"gif";case"image/emf":return"emf"}return"png"},n.prototype.getAvailableName=function(n){if(this.imageNames.indexOf(n)===-1)return n;var t=0,i;do t++,i=this.imageNames.indexOf(n+t);while(i!==-1);return n+t},n}();window.ej.createObject("ej.DashboardDesignerUtility.ImageManager",InternalImageManager,window);InternalImageReportItem=function(){function n(){this.imageJson=null;this.value="";this.externalValue="";this.databaseValue="";this.propertyPanel=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.id=this.designPanel.designId;this.isDataEnabled=!1}return n.prototype.renderImageReportElement=function(n,t){var i,r;try{i=$("#"+t);this.imageJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;r={left:ej.DashboardUtil.getPixelVal(this.imageJson.Left.size),top:ej.DashboardUtil.getPixelVal(this.imageJson.Top.size),width:ej.DashboardUtil.getPixelVal(this.imageJson.Width.size),height:ej.DashboardUtil.getPixelVal(this.imageJson.Height.size)};this.renderImageElement(r,i)}catch(u){this.designPanel.logError({Source:this.imageJson.Name,Error:u,Type:u.name})}},n.prototype.renderImageItem=function(n,t,i){try{var u=$("#"+t);this.imageJson=this.getImageJson();this.imageJson.Name=ejDashboardDesigner.getAvailableName("e-image");this.imageJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.imageJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.imageJson.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.imageJson.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in");this.renderImageElement(n,u);this.imageJson.Style&&this.imageJson.Style.Border&&this.imageJson.Style.LeftBorder&&this.imageJson.Style.RightBorder&&this.imageJson.Style.BottomBorder&&this.imageJson.Style.TopBorder&&(this.imageJson.Style.Border.Color=this.imageJson.Style.LeftBorder.Color=this.imageJson.Style.RightBorder.Color=this.imageJson.Style.BottomBorder.Color=this.imageJson.Style.TopBorder.Color="#000000",this.imageJson.Style.Border.Width&&this.imageJson.Style.LeftBorder.Width&&this.imageJson.Style.RightBorder.Width&&this.imageJson.Style.BottomBorder.Width&&this.imageJson.Style.TopBorder.Width?this.imageJson.Style.Border.Width.size=this.imageJson.Style.LeftBorder.Width.size=this.imageJson.Style.RightBorder.Width.size=this.imageJson.Style.BottomBorder.Width.size=this.imageJson.Style.TopBorder.Width.size=ej.DashboardUtil.getUnitVal(1,"pt"):this.imageJson.Style.Border.Width=this.imageJson.Style.LeftBorder.Width=this.imageJson.Style.RightBorder.Width=this.imageJson.Style.BottomBorder.Width=this.imageJson.Style.TopBorder.Width={__type:"Syncfusion.RDL.DOM.Size",size:ej.DashboardUtil.getUnitVal(1,"pt")});this.updateImgSource(i);!ej.isNullOrUndefined(this.imageDiv)&&this.imageDiv.length>0&&this.designPanel.performItemSelection(this.imageDiv);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderImageItem","e-image",this.imageDiv.attr("id"),null,[n,t,i])}catch(r){this.designPanel.logError({Source:this.imageJson.Name,Error:r,Type:r.name})}},n.prototype.renderImageElement=function(n,t){this.imageOEBounds=n;this.imageDiv=ej.buildTag("div.e-image e-reportitem e-reportdesigner-image","",{top:n.top,left:n.left,width:n.width,height:n.height,border:"1px dashed gray","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"},{id:this.id+"_"+this.imageJson.Name,Name:this.imageJson.Name,isDataEnabled:this.isDataEnabled});this.imageBorder=ej.buildTag("div","",{width:"100%",height:"100%","z-index":"-1",border:"1pt dotted gray","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{});this.imageDiv.append(this.imageBorder);t.append(this.imageDiv);this.imageDiv.data("Image",this);this.defaultImgDiv=ej.buildTag("div.e-draggable e-reportdesigner-default-image","",{width:"100%",height:"100%"},{id:this.id+"_default_image"});this.imageBorder.append(this.defaultImgDiv);this.updateImageValue(this.imageJson.Value);this.updateImageStyles()},n.prototype.updateImageValue=function(n){this.imageJson.Value=n;var t=this.getValue(n),i=ej.isNullOrUndefined(t)?this.imageJson.Name:t.Name,r=ejDashboardDesigner.getInstance("ImageManager").getExtension(ej.isNullOrUndefined(t)?"image/png":t.MIMEType),u=this.getImageSizing(this.imageJson.Sizing),f=this.getImageUrl(i,r);this.imageJson.Source===1||this.imageJson.Source===0?(ej.isNullOrUndefined(this.scrollCont)&&ej.isNullOrUndefined(this.image)&&(this.scrollCont=ej.buildTag("div."+this.id+"_image","",{overflow:"hidden",width:"100%",height:"100%"},{}),this.imageBorder.append(this.scrollCont),this.image=ej.buildTag("img","",{},{}),this.scrollCont.append(this.image),this.image.load($.proxy(this.updateSizing,this,u)),this.image.error($.proxy(this.showDefaultImage,this,!0))),this.imageJson.Source===0?(ej.DashboardUtil.isExpression(n)&&this.image.attr("src",n),this.externalValue=n):(ej.DashboardUtil.isExpression(n)&&this.image.attr("src",f),this.value=n),this.scrollCont.attr("id",this.id+"_"+i),this.image.attr("id",this.id+"_image_"+i)):this.databaseValue=n;this.showDefaultImage(n.length>0&&(this.imageJson.Source===1||this.imageJson.Source===0)&&ej.DashboardUtil.isExpression(n)?!1:!0);this.updatePropertyValue("Value","Value",n)},n.prototype.getImageUrl=function(n,t){var i=ejDashboardDesigner.reportDesigner.authenticationToken,r={reportDesignerToken:i};return ejDashboardDesigner.getInstance("DashboardDesigner").triggerEvents("ajaxBeforeLoad",r),i=r.reportDesignerToken,ejDashboardDesigner.getInstance("DashboardDesigner").model.serviceUrl+"/GetImage/?key="+i+"&image="+n+"."+t},n.prototype.updateSource=function(n){var o=ejDashboardDesigner.getInstance("DashboardDesigner"),e=$("#"+o._id+"_Image_BasicSettings_Value").data("ejDropDownList"),u=[],i,r,f,t;if(n==="Database"){for(this.imageJson.Source=2,i=ejDashboardDesigner.getInstance("DataSet").datasets,t=0;t<i.length;t++)for(r=0;r<i[t].Fields.length;r++)u.push({text:"=First(Fields!"+i[t].Fields[r].Name+'.Value, "'+i[t].Name+'")'});this.updateImageValue(this.databaseValue);this.propertyPanel.updateItemVisibility("Image","BasicSettings","ExternalValue",!1);this.propertyPanel.updateItemVisibility("Image","BasicSettings","Value",!0);this.propertyPanel.updateItemVisibility("Image","BasicSettings","MIMEType",!0);this.updatePropertyValue("MIMEType","MIMEType","image/png")}else if(n==="Embedded"){for(this.imageJson.Source=1,f=ejDashboardDesigner.getInstance("ImageManager").imageList,t=0;t<f.length;t++)u.push({text:f[t].Name});this.updateImageValue(this.value);this.propertyPanel.updateItemVisibility("Image","BasicSettings","ExternalValue",!1);this.propertyPanel.updateItemVisibility("Image","BasicSettings","Value",!0);this.propertyPanel.updateItemVisibility("Image","BasicSettings","MIMEType",!1)}else n==="External"&&(this.imageJson.Source=0,this.updateImageValue(this.externalValue),this.propertyPanel.updateItemVisibility("Image","BasicSettings","ExternalValue",!0),this.propertyPanel.updateItemVisibility("Image","BasicSettings","Value",!1),this.propertyPanel.updateItemVisibility("Image","BasicSettings","MIMEType",!1));ej.isNullOrUndefined(e)||e.option("dataSource",u)},n.prototype.updateImgSource=function(n){!ej.isNullOrUndefined(n)&&n.name&&n.name.length>0&&(this.image.attr("src",n.src),this.imageJson.Value=n.name,this.showDefaultImage(!1))},n.prototype.updateImageStyles=function(){var n={},t={};this.imageJson.Style&&(this.imageJson.Style.Border&&this.updateImageBorders(this.imageJson.Style.Border,"",n,t),this.imageJson.Style.TopBorder&&this.updateImageBorders(this.imageJson.Style.TopBorder,"-top",n,t),this.imageJson.Style.BottomBorder&&this.updateImageBorders(this.imageJson.Style.BottomBorder,"-bottom",n,t),this.imageJson.Style.LeftBorder&&this.updateImageBorders(this.imageJson.Style.LeftBorder,"-left",n,t),this.imageJson.Style.RightBorder&&this.updateImageBorders(this.imageJson.Style.RightBorder,"-right",n,t));this.imageDiv.css(n);this.imageBorder.css(t)},n.prototype.updateImagePadding=function(n,t){if(!ej.isNullOrUndefined(n)&&!ej.isNullOrUndefined(n.size)){this.image.css("padding"+t,n.size);var i=ej.DashboardUtil.getSizeVal(n.size);t==="-top"||t==="-bottom"?this.image.css("height",this.image.height()-i):(t==="-left"||t==="-right")&&this.image.css("width",this.image.width()-i)}},n.prototype.updateImageBorders=function(n,t,i,r){if(n){var u="border"+t+"-style";n.Color&&(r["border"+t+"-color"]=n.Color);n.Style&&(n.Style==="Default"||n.Style==="None"?(i[u]="dashed",r[u]="none"):(i[u]="none",r[u]=n.Style));r["border"+t+"-width"]=n.Width&&n.Width.size?n.Width.size:ej.DashboardUtil.getPixelVal("1pt")}},n.prototype.updateImageTop=function(n){this.imageJson.Top.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageDiv.css("top",n+"px")},n.prototype.updateImageLeft=function(n){this.imageJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageDiv.css("left",n+"px")},n.prototype.updateImageHeight=function(n){this.imageJson.Height.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageDiv.css("height",n+"px");this.updateSizing(this.getImageSizing(this.imageJson.Sizing===0?2:this.imageJson.Sizing));this.designPanel.updateWidgetSelectionBox(this.imageDiv)},n.prototype.updateImageWidth=function(n){this.imageJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageDiv.css("width",n+"px");this.updateSizing(this.getImageSizing(this.imageJson.Sizing===0?2:this.imageJson.Sizing));this.designPanel.updateWidgetSelectionBox(this.imageDiv)},n.prototype.updateBorderColor=function(n,t,i){n&&(n.Color=t,this.updateIndividualBorderColor(i,t),i.length===0&&this.updateIndividualBorders())},n.prototype.updateBorderWidth=function(n,t,i){var r=ej.DashboardUtil.getUnitVal(t,"pt");n&&(n.Width?n.Width.size=ej.DashboardUtil.isExpression(t)?r:t:n.Width=this.createSize(r),this.updateIndividualBorderWidth(i,n.Width),i.length===0&&this.updateIndividualBorders())},n.prototype.updateBorderStyle=function(n,t,i){n&&(n.Style=t,this.updateIndividualBorderStyle(i,t),i.length===0&&this.updateIndividualBorders())},n.prototype.updateIndividualBorders=function(){this.updateIndividualBorder(this.imageJson.Style.LeftBorder,"-left");this.updateIndividualBorder(this.imageJson.Style.RightBorder,"-right");this.updateIndividualBorder(this.imageJson.Style.TopBorder,"-top");this.updateIndividualBorder(this.imageJson.Style.BottomBorder,"-bottom")},n.prototype.updateIndividualBorder=function(n,t){ej.isNullOrUndefined(n)||(this.updateIndividualBorderColor(t,n.Color),this.updateIndividualBorderWidth(t,n.Width),this.updateIndividualBorderStyle(t,n.Style))},n.prototype.updateIndividualBorderColor=function(n,t){ej.DashboardUtil.isExpression(t)&&this.imageBorder.css("border"+n+"-color",ej.isNullOrUndefined(t)?this.imageJson.Style.Border.Color:t)},n.prototype.updateIndividualBorderWidth=function(n,t){var i;i=ej.isNullOrUndefined(t)||ej.isNullOrUndefined(t.size)||ej.DashboardUtil.getPixelVal(t.size)===0?ej.DashboardUtil.getPixelVal(this.imageJson.Style.Border.Width.size):ej.DashboardUtil.getPixelVal(t.size);ej.DashboardUtil.isExpression(i)&&this.imageBorder.css("border"+n+"-width",i)},n.prototype.updateIndividualBorderStyle=function(n,t){var i="border"+n+"-style";t=ej.isNullOrUndefined(t)?"None":t;this.imageDiv.css(i,t.toLowerCase());t==="Default"||t==="None"?(this.imageDiv.css(i,"dashed"),this.imageBorder.css(i,"none")):(this.imageDiv.css(i,"none"),this.imageBorder.css(i,t))},n.prototype.updatePadding=function(n,t,i){n&&(n.size=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t,ej.isNullOrUndefined(t)||(this.image.css("padding"+i,t),i==="-top"||i==="-bottom"?this.image.css("height",this.image.height()-parseInt(t,10)):(i==="-left"||i==="-right")&&this.image.css("width",this.image.width()-parseInt(t,10))))},n.prototype.updateName=function(n){this.imageJson.Name=n},n.prototype.updateToolTip=function(n){this.imageJson.ToolTip=n},n.prototype.updateMimeType=function(n){this.imageJson.MIMEType=n},n.prototype.updateSizing=function(n){var t,i,r;!ej.isNullOrUndefined(this.defaultImgDiv)&&!this.defaultImgDiv.is(":visible")&&!(ej.isNullOrUndefined(this.image)&&ej.isNullOrUndefined(this.imageDiv))&&this.image.length>=0&&this.imageDiv.length>=0&&(t=this.image.prop("naturalWidth"),i=this.image.prop("naturalHeight"),n==="AutoSize"?(this.imageJson.Sizing=0,this.image.css({width:t+"px",height:i+"px"}),this.imageDiv.css({width:t+"px",height:i+"px"})):n==="Fit"?(this.imageJson.Sizing=1,this.image.css({width:this.imageDiv.width()+"px",height:this.imageDiv.height()+"px"})):n==="FitProportional"?(this.imageJson.Sizing=2,r=Math.min(this.imageDiv[0].offsetWidth/t,this.imageDiv[0].offsetHeight/i),this.image.css({width:t*r+"px",height:i*r+"px"})):n==="Clip"&&(this.imageJson.Sizing=3,this.image.css({width:t+"px",height:i+"px"})),this.designPanel.updateWidgetSelectionBox(this.imageDiv),this.imageJson.Width.size=ej.DashboardUtil.getUnitVal(this.imageDiv.width(),"in"),this.imageJson.Height.size=ej.DashboardUtil.getUnitVal(this.imageDiv.height(),"in"),this.updatePropertyValue("Size","Height",this.imageDiv.height()),this.updatePropertyValue("Size","Width",this.imageDiv.width()))},n.prototype.getImageSizing=function(n){switch(n){case 0:return"AutoSize";case 1:return"Fit";case 3:return"Clip";default:return"FitProportional"}},n.prototype.showDefaultImage=function(n){ej.isNullOrUndefined(this.scrollCont)&&ej.isNullOrUndefined(this.defaultImgDiv)||(n?(this.scrollCont.css("display","none"),this.defaultImgDiv.css("display","block")):(this.defaultImgDiv.css("display","none"),this.scrollCont.css("display","block")))},n.prototype.updateImageVisiblity=function(n){var t=ej.DashboardUtil.isExpression(n)?!n:n;this.imageJson.Visibility?this.imageJson.Visibility.Hidden=t:this.imageJson.Visibility={Hidden:t}},n.prototype.updatePropertyChange=function(n,t,i,r){switch(n){case"Height":this.updateImageHeight(i);break;case"Width":this.updateImageWidth(i);break;case"Left":this.updateImageLeft(i);break;case"Top":this.updateImageTop(i);break;case"BorderColorDefault":this.updateBorderColor(this.imageJson.Style.Border,i,"");break;case"BorderColorLeft":this.imageJson.Style.LeftBorder||(this.imageJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderColor(this.imageJson.Style.LeftBorder,i,"-left");break;case"BorderColorRight":this.imageJson.Style.RightBorder||(this.imageJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderColor(this.imageJson.Style.RightBorder,i,"-right");break;case"BorderColorTop":this.imageJson.Style.TopBorder||(this.imageJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderColor(this.imageJson.Style.TopBorder,i,"-top");break;case"BorderColorBottom":this.imageJson.Style.BottomBorder||(this.imageJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderColor(this.imageJson.Style.BottomBorder,i,"-bottom");break;case"BorderWidthDefault":this.updateBorderWidth(this.imageJson.Style.Border,i,"");break;case"BorderWidthLeft":this.imageJson.Style.LeftBorder||(this.imageJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderWidth(this.imageJson.Style.LeftBorder,i,"-left");break;case"BorderWidthRight":this.imageJson.Style.RightBorder||(this.imageJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderWidth(this.imageJson.Style.RightBorder,i,"-right");break;case"BorderWidthTop":this.imageJson.Style.TopBorder||(this.imageJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderWidth(this.imageJson.Style.TopBorder,i,"-top");break;case"BorderWidthBottom":this.imageJson.Style.BottomBorder||(this.imageJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderWidth(this.imageJson.Style.BottomBorder,i,"-bottom");break;case"BorderStyleDefault":this.updateBorderStyle(this.imageJson.Style.Border,i,"");break;case"BorderStyleLeft":this.imageJson.Style.LeftBorder||(this.imageJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderStyle(this.imageJson.Style.LeftBorder,i,"-left");break;case"BorderStyleRight":this.imageJson.Style.RightBorder||(this.imageJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderStyle(this.imageJson.Style.RightBorder,i,"-right");break;case"BorderStyleTop":this.imageJson.Style.TopBorder||(this.imageJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderStyle(this.imageJson.Style.TopBorder,i,"-top");break;case"BorderStyleBottom":this.imageJson.Style.BottomBorder||(this.imageJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderStyle(this.imageJson.Style.BottomBorder,i,"-bottom");break;case"PaddingLeft":this.imageJson.Style.PaddingLeft||(this.imageJson.Style.PaddingLeft=this.createBorder("Left"));this.updatePadding(this.imageJson.Style.PaddingLeft,i,"-left");break;case"PaddingRight":this.imageJson.Style.PaddingRight||(this.imageJson.Style.PaddingRight=this.createBorder("Right"));this.updatePadding(this.imageJson.Style.PaddingRight,i,"-right");break;case"PaddingTop":this.imageJson.Style.PaddingTop||(this.imageJson.Style.PaddingTop=this.createBorder("Top"));this.updatePadding(this.imageJson.Style.PaddingTop,i,"-top");break;case"PaddingBottom":this.imageJson.Style.PaddingBottom||(this.imageJson.Style.PaddingBottom=this.createBorder("Bottom"));this.updatePadding(this.imageJson.Style.PaddingBottom,i,"-bottom");break;case"Name":this.updateName(i);break;case"ToolTip":this.updateToolTip(i);break;case"Source":this.updateSource(i);break;case"Value":this.updateImageValue(i);break;case"ExternalValue":this.updateImageValue(i);break;case"MIMEType":this.updateMimeType(i);break;case"Sizing":this.updateSizing(i);break;case"Hidden":this.updateImageVisiblity(i);break;case"ItemLink":this.imageJson.ActionInfo=i}if(ejDashboardDesigner.editManager.isPerformAction){var u=$.extend(!0,{},r);u.categoryName=r.categoryName;u.valueList=r.valueList;this.propertyPanel.updatePropertyValue(u,"Image",i)}ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-image",this.imageDiv.attr("id"),[n,i,t,r],[n,t,i,r])},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"MIMEType":this.setPropertyElement("BasicSettings",n,i,-1);break;case"Value":this.setPropertyElement("BasicSettings",n,i,-1);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"Image",i);this.propertyPanel.canUpdate=!0},n.prototype.updatePosition=function(n,t,i){if(this.imageDiv.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.imageJson.Left.size),ej.DashboardUtil.getPixelVal(this.imageJson.Top.size),!0],u=[n,t,!0];this.imageJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-image",this.imageDiv.attr("id"),r,u)}},n.prototype.updateSize=function(n,t,i){if(this.imageDiv.css({width:n,height:t}),this.image.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.imageDiv),this.updateSizing(this.getImageSizing(this.imageJson.Sizing===0?2:this.imageJson.Sizing)),i){var r=[ej.DashboardUtil.getPixelVal(this.imageJson.Width.size),ej.DashboardUtil.getPixelVal(this.imageJson.Height.size),!0],u=[n,t,!0];this.imageJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageJson.Height.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Size","Width",n);this.updatePropertyValue("Size","Height",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-image",this.imageDiv.attr("id"),r,u)}},n.prototype.updateItemSize=function(n,t,i,r,u){if(this.imageDiv.css({left:n,top:t,width:i,height:r}),this.image.css({width:i,height:r}),this.designPanel.updateWidgetSelectionBox(this.imageDiv),this.updateSizing(this.getImageSizing(this.imageJson.Sizing===0?2:this.imageJson.Sizing)),u){var f=[ej.DashboardUtil.getPixelVal(this.imageJson.Left.size),ej.DashboardUtil.getPixelVal(this.imageJson.Top.size),ej.DashboardUtil.getPixelVal(this.imageJson.Width.size),ej.DashboardUtil.getPixelVal(this.imageJson.Height.size),!0],e=[n,t,i,r,!0];this.imageJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.imageJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.imageJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.imageJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.updatePropertyValue("Size","Width",i);this.updatePropertyValue("Size","Height",r);this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-image",this.imageDiv.attr("id"),f,e)}},n.prototype.getPixelValue=function(n){return ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getPixelVal(n):n},n.prototype.getPropertyGridItems=function(){var t=this.getValue(this.imageJson.Value),n="#808080";return{Header:this.imageJson.Name,Type:"Image",Items:[{CategoryName:"Basic Settings",Items:[{name:"Source",value:this.imageJson.Source!==null?this.imageJson.Source===0?"External":this.imageJson.Source===2?"Database":"Embedded":"Embedded",itemType:"dropdown",enableExpression:!1,valueList:["External","Embedded","Database"]},{name:"ExternalValue",displayName:"Value",value:this.externalValue,isVisible:this.imageJson.Source!==null?this.imageJson.Source===0?!0:!1:!1,itemType:"label"},{name:"Value",value:ej.isNullOrUndefined(t)?"":t.Name,itemType:"dropdown",isVisible:this.imageJson.Source!==null?this.imageJson.Source!==0?!0:!1:!0,valueList:this.getEmbImages()},{name:"MIMEType",displayName:"MIME Type",value:this.imageJson.Source===2?ej.isNullOrUndefined(this.imageJson.MIMEType)?ej.isNullOrUndefined(t)?"image/png":t.MIMEType:this.imageJson.MIMEType:null,itemType:"dropdown",isVisible:this.imageJson.Source===2,valueList:["image/bmp","image/jpeg","image/gif","image/png","image/x-png"]}]},{CategoryName:"Link",Items:[{name:"Link",value:this.imageJson.ActionInfo,category:"Item",itemType:"link"}]},{CategoryName:"Appearance",Items:[{name:"Border",displayName:"Border",itemType:"border",items:[{name:"BorderStyleDefault",displayName:"None",value:this.imageJson.Style.Border!==null?this.imageJson.Style.Border.Style:"None",unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorDefault",displayName:"None",value:this.imageJson.Style.Border!==null?this.imageJson.Style.Border.Color:n,itemType:"color"},{name:"BorderWidthDefault",displayName:"None",value:this.imageJson.Style.Border&&this.imageJson.Style.Border.Width?this.getPixelValue(this.imageJson.Style.Border.Width.size):ej.DashboardUtil.getPixelVal("1pt"),minimum:.33,maximum:26.6,unitType:"in",itemType:"float"}],childItems:[{name:"LeftBorder",displayName:"Left",itemType:"border",items:[{name:"BorderStyleLeft",displayName:"None",value:this.imageJson.Style.LeftBorder!==null?this.imageJson.Style.LeftBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorLeft",displayName:"None",value:this.imageJson.Style.LeftBorder!==null?this.imageJson.Style.LeftBorder.Color:n,itemType:"color"},{name:"BorderWidthLeft",displayName:"None",value:this.imageJson.Style.LeftBorder&&this.imageJson.Style.LeftBorder.Width?this.getPixelValue(this.imageJson.Style.LeftBorder.Width.size):"",minimum:.33,maximum:26.6,unitType:"in",itemType:"float"}]},{name:"RightBorder",displayName:"Right",itemType:"border",items:[{name:"BorderStyleRight",displayName:"None",value:this.imageJson.Style.RightBorder!==null?this.imageJson.Style.RightBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorRight",displayName:"None",value:this.imageJson.Style.RightBorder!==null?this.imageJson.Style.RightBorder.Color:n,itemType:"color"},{name:"BorderWidthRight",displayName:"None",value:this.imageJson.Style.RightBorder&&this.imageJson.Style.RightBorder.Width?this.getPixelValue(this.imageJson.Style.RightBorder.Width.size):"",minimum:.33,maximum:26.6,unitType:"in",itemType:"float"}]},{name:"TopBorder",displayName:"Top",itemType:"border",items:[{name:"BorderStyleTop",displayName:"None",value:this.imageJson.Style.TopBorder!==null?this.imageJson.Style.TopBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorTop",displayName:"None",value:this.imageJson.Style.TopBorder!==null?this.imageJson.Style.TopBorder.Color:n,itemType:"color"},{name:"BorderWidthTop",displayName:"None",value:this.imageJson.Style.TopBorder&&this.imageJson.Style.TopBorder.Width?this.getPixelValue(this.imageJson.Style.TopBorder.Width.size):"",minimum:.33,maximum:26.6,unitType:"in",itemType:"float"}]},{name:"BottomBorder",displayName:"Bottom",itemType:"border",items:[{name:"BorderStyleBottom",displayName:"None",value:this.imageJson.Style.BottomBorder!==null?this.imageJson.Style.BottomBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorBottom",displayName:"None",value:this.imageJson.Style.BottomBorder!==null?this.imageJson.Style.BottomBorder.Color:n,itemType:"color"},{name:"BorderWidthBottom",displayName:"None",value:this.imageJson.Style.BottomBorder!==null&&this.imageJson.Style.BottomBorder.Width!==null?this.getPixelValue(this.imageJson.Style.BottomBorder.Width.size):"",minimum:.33,maximum:26.6,unitType:"in",itemType:"float"}]}]}]},{CategoryName:"Size",Items:[{name:"Padding",displayName:"Padding",itemType:"padding",isVisible:!1,items:[{name:"PaddingLeft",displayName:"Left",value:this.imageJson.Style.PaddingLeft?this.getPixelValue(this.imageJson.Style.PaddingLeft.size):0,unitType:"pt",itemType:"float"},{name:"PaddingRight",displayName:"Right",value:this.imageJson.Style.PaddingRight?this.getPixelValue(this.imageJson.Style.PaddingRight.size):0,unitType:"pt",itemType:"float"},{name:"PaddingTop",displayName:"Top",value:this.imageJson.Style.PaddingTop?this.getPixelValue(this.imageJson.Style.PaddingTop.size):0,unitType:"pt",itemType:"float"},{name:"PaddingBottom",displayName:"Bottom",value:this.imageJson.Style.PaddingBottom?this.getPixelValue(this.imageJson.Style.PaddingBottom.size):0,unitType:"pt",itemType:"float"}]},{name:"Sizing",value:this.getImageSizing(this.imageJson.Sizing),itemType:"dropdown",enableExpression:!1,valueList:["AutoSize","Fit","FitProportional","Clip"]}]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",itemType:"position",enableExpression:!1,items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.imageJson.Left.size),maximum:43680,unitType:"in",itemType:"float"},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.imageJson.Top.size),maximum:43680,unitType:"in",itemType:"float"}]},{name:"Size",displayName:"Size",itemType:"size",enableExpression:!1,items:[{name:"Width",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.imageJson.Width.size),maximum:43680,unitType:"in",itemType:"float"},{name:"Height",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.imageJson.Height.size),maximum:43680,unitType:"in",itemType:"float"}]}]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.imageJson.Visibility&&this.imageJson.Visibility.Hidden?ej.DashboardUtil.isExpression(this.imageJson.Visibility.Hidden)?!this.imageJson.Visibility.Hidden:this.imageJson.Visibility.Hidden:!0,itemType:"bool"}]}]}},n.prototype.getValue=function(n){var i=ejDashboardDesigner.getInstance("ImageManager").imageList,t;if(!ej.isNullOrUndefined(n)&&n.length>0)for(t=0;t<i.length;t++)if(n===i[t].Name)return i[t];return null},n.prototype.getEmbImages=function(){var n=ejDashboardDesigner.getInstance("ImageManager").imageList,i=[],t;if(n&&n.length>0)for(t=0;t<n.length;t++)i.push(n[t].Name);return i},n.prototype.getReportItem=function(){return this.imageDiv},n.prototype.getReportItemJson=function(){return this.imageJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-image");this.renderImageReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderImageReportElement","e-image",this.imageDiv.attr("id"),null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.imageDiv.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderImageReportElement","e-image",this.imageDiv.attr("id"),[this.imageJson,n.attr("id")],null);this.imageDiv.removeData("Image");this.imageDiv.remove();this.designPanel.selectedReportItems=[]},n.prototype.getImageJson=function(){return{__type:"Syncfusion.RDL.DOM.Image",Source:1,MIMEType:null,Sizing:2,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"1.9675in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"1.32167in"},Name:"Image1",Value:"",ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"1.13542in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"2.01042in"},ZIndex:0,Visibility:{Hidden:!1},LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#808080",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.createSize=function(n){return{__type:"Syncfusion.RDL.DOM.Size",size:n}},n.prototype.createBorder=function(n){return{__type:"Syncfusion.RDL.DOM."+n+"Border",Color:"#808080",Style:n===""?"None":null,Width:this.createSize(ej.DashboardUtil.getUnitVal(0,"pt"))}},n}();window.ej.createObject("ej.DashboardDesignerUtility.ImageItem",InternalImageReportItem,window);InternalItemPanel=function(){function n(n,t){this.reportDesigner=null;this.headerPanelHeight=30;this.isKeyDown=!1;this.waterMarkText="Search Items";this.noMatchedText="No matches found..";this.reportDesigner=n;this.targetTag=t;this.rendererItemPanel()}return n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)},n.prototype.rendererItemPanel=function(){var n=this.reportDesigner._id;this.panelItems=[{GroupName:"Comparison",GroupClass:"e-reporticons e-reportdesigner-column-chart",GroupId:n+"_comparison",Items:[{id:n+"_column","class":"e-widgeticon e-reportdesigner-column-chart",itemType:"e-chart-bar",itemName:"Column",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4"]},{id:n+"_barchart","class":"e-widgeticon e-reportdesigner-bar-chart",itemType:"e-chart-bar",itemName:"Bar",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4"]},{id:n+"_stackedcolumn","class":"e-widgeticon e-reportdesigner-stacked-column-chart",itemType:"e-chart-bar",itemName:"Stacked Column",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4","path5","path6","path7","path8"]},{id:n+"_stackedbar","class":"e-widgeticon e-reportdesigner-stacked-bar-chart",itemType:"e-chart-bar",itemName:"Stacked Bar",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4","path5","path6","path7","path8"]},{id:n+"_percentstackedbar","class":"e-widgeticon e-reportdesigner-percent-stacked-bar-chart",itemType:"e-chart-bar",itemName:"100% Stacked Bar",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4","path5","path6","path7","path8"]},{id:n+"_percentstackedcolumn","class":"e-widgeticon e-reportdesigner-percent-stacked-column-chart",itemType:"e-chart-bar",itemName:"100% Stacked Column",searchCategory:["chart","comparison"],paths:["path1","path2","path3","path4","path5","path6","path7","path8"]}]},{GroupName:"Relationship",GroupClass:"e-reporticons e-reportdesigner-widget-table",GroupId:n+"_Relationship",Items:[{id:n+"_grid","class":"e-widgeticon e-reportdesigner-widget-grid",itemType:"e-grid-item",itemName:"Grid",searchCategory:["grid","relationship"]},{id:n+"_bubblemap","class":"e-widgeticon e-reportdesigner-widget-bubblemap",itemType:"e-bubblemap-item",itemName:"BubbleMap",searchCategory:["bubblemap","Relationship"]},{id:n+"_choroplethmap","class":"e-widgeticon e-reportdesigner-widget-choroplethmap",itemType:"e-choroplethmap-item",itemName:"ChoroplethMap",searchCategory:["choroplethmap","Relationship"]},{id:n+"_treemap","class":"e-widgeticon e-reportdesigner-widget-treemap",itemType:"e-treemap-item",itemName:"TreeMap",searchCategory:["treemap","Relationship"]}]},{GroupName:"Deviation",GroupClass:"e-reporticons e-reportdesigner-widget-deviation",GroupId:n+"_Deviation",Items:[{id:n+"_card","class":"e-widgeticon e-reportdesigner-widget-card",itemType:"e-card-item",itemName:"Card",searchCategory:["card","deviation"]},{id:n+"_radialgauge","class":"e-widgeticon e-reportdesigner-radialgauge",itemType:"e-radialgauge-item",itemName:"RadialGauge",searchCategory:["gauge","deviation"]}]},{GroupName:"Proportion",GroupClass:"e-reporticons e-reportdesigner-pie-chart",GroupId:n+"_proportion",Items:[{id:n+"_pie","class":"e-widgeticon e-reportdesigner-pie-chart",itemType:"e-chart-bar",itemName:"Pie",searchCategory:["chart","proportion"],paths:["path1","path2","path3"]},{id:n+"_doughnut","class":"e-widgeticon e-reportdesigner-doughnut-chart",itemType:"e-chart-bar",itemName:"Doughnut",searchCategory:["chart","proportion"],paths:["path1","path2"]},{id:n+"_pyramid","class":"e-widgeticon e-reportdesigner-pyramid-chart",itemType:"e-chart-bar",searchCategory:["chart","proportion"],itemName:"Pyramid",paths:["path1","path2","path3"]},{id:n+"_funnel","class":"e-widgeticon e-reportdesigner-funnel-chart",itemType:"e-chart-bar",itemName:"Funnel",searchCategory:["chart","proportion"],paths:["path1","path2","path3","path4"]}]},{GroupName:"Distribution",GroupClass:"e-reporticons e-reportdesigner-line-chart",GroupId:n+"_distribution",Items:[{id:n+"_area","class":"e-widgeticon e-reportdesigner-area-chart",itemType:"e-chart-bar",itemName:"Area",searchCategory:["chart","distribution"],paths:["path1","path2"]},{id:n+"_stackedarea","class":"e-widgeticon e-reportdesigner-stacked-area-chart",itemType:"e-chart-bar",itemName:"Stacked Area",searchCategory:["chart","distribution"],paths:["path1","path2","path3"]},{id:n+"_percentstackedarea","class":"e-widgeticon e-reportdesigner-percent-stacked-area-chart",itemType:"e-chart-bar",itemName:"100% Stacked Area",searchCategory:["chart","distribution"],paths:["path1","path2","path3"]},{id:n+"_linechart","class":"e-widgeticon e-reportdesigner-line-chart",itemType:"e-chart-bar",itemName:"Line",searchCategory:["chart","distribution"],paths:["path1","path2","path3"]},{id:n+"_splinechart","class":"e-widgeticon e-reportdesigner-spline-chart",itemType:"e-chart-bar",itemName:"Spline",searchCategory:["chart","distribution"],paths:["path1","path2","path3"]},]},{GroupName:"Filters",GroupClass:"e-reporticons e-reportdesigner-widget-filters",GroupId:n+"_Filters",Items:[{id:n+"_combobox","class":"e-widgeticon e-reportdesigner-widget-checkbox",itemType:"e-combobox-item",itemName:"ComboBox",searchCategory:["combobox","filters"]},{id:n+"_listBox","class":"e-widgeticon e-reportdesigner-widget-listbox",itemType:"e-listbox-item",searchCategory:["listbox","filters"],itemName:"ListBox"},{id:n+"_datepicker","class":"e-widgeticon e-reportdesigner-datepicker",itemType:"e-datepicker-item",itemName:"DatePicker",searchCategory:["datepicker","filters"]},{id:n+"_rangeslider","class":"e-widgeticon e-reportdesigner-widget-rangeslider",itemType:"e-rangeslider-item",itemName:"RangeSlider",searchCategory:["rangeslider","filters"]}]}];this.renderHeaderPanel();this.expandablePanel=ej.buildTag("div.e-reportdesigner-scroller","",{width:"100%",display:"block","background-color":"white","border-top":"1px solid #c8c8c8"},{id:n+"_designerItemPanel"});var t=ej.buildTag("div","",{},{id:n+"_scrollContentItemPanel"}),i=ej.buildTag("div","",{display:"none",width:"100%",height:"100%"},{id:n+"_itemPanel_empty_msg"}),r=ej.buildTag("div.e-designer-empty-msg","No matches found",{display:"table-cell"});i.append(r);this.expandablePanel.append(t).append(i);this.targetTag.append(this.expandablePanel);this.renderGroupItems(this.panelItems,t,!0,!1);this.expandablePanel.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0,scroll:$.proxy(this.onItemScroll,this)});this.updateSize();this.wiredEvents()},n.prototype.updateSize=function(){if(this.isLoaded()){var t=$("#"+this.reportDesigner._id+"_designAreaContainer").height(),n=$("#"+this.reportDesigner._id+"_item_autocomplete"),i=n.height()+parseInt(n.css("margin-top"),10)+parseInt(n.css("margin-bottom"),10)+parseInt(n.css("border-top-width"),10)+parseInt(n.css("border-bottom-width"),10);this.expandablePanel.height(t-i-1+"px");this.expandablePanel.data("ejScroller")&&(this.expandablePanel.data("ejScroller").setModel({height:t-i-1+"px"}),this.expandablePanel.data("ejScroller").refresh())}},n.prototype.validateSearchString=function(n,t){for(var r=!1,i=0;i<n.length;i++)if(ej.DashboardUtil.contains(n[i],t,!0)){r=!0;break}return r},n.prototype.getPanelItems=function(){return[]},n.prototype.renderHeaderPanel=function(){this.headerPanel=ej.buildTag("div","",{width:"100%"},{id:this.reportDesigner._id+"_itemHeaderPanel"});var n=ej.buildTag("div","",{display:"inline-block",float:"left",height:"30px","border-radius":"4px",margin:"5px",width:"150px",border:"1px solid #c8c8c8","box-sizing":"border-box","background-color":"white"},{id:this.reportDesigner._id+"_item_autocomplete"}),t=ej.buildTag("input.e-autocomplete e-reportdesigner-widget-watermark e-reportdesigner-atc-boxshadow e-js e-input","",{"text-align":"left","font-size":"13px",float:"left",width:"110px","border-radius":"4px"},{type:"text",value:this.waterMarkText,id:this.reportDesigner._id+"_panelSearch"}),i=ej.buildTag("span","",{width:"20px",height:this.headerPanelHeight+"px","margin-top":"8px",float:"right","font-size":"10px"},{id:this.reportDesigner._id+"_searchIcon","class":"e-headericon e-reportdesigner-search"});n.append(t);n.append(i);this.headerPanel.append(n);this.targetTag.append(this.headerPanel)},n.prototype.onExpandCollapseClick=function(n,t,i){var r=$("#"+this.reportDesigner._id+"_groupHeaderIcon_"+n);r.hasClass("e-reportdesigner-plus")?$("#"+this.reportDesigner._id+"_group_"+n).slideDown("fast",$.proxy(function(){$("#"+this.reportDesigner._id+"_groupHeader_"+n).css("border-bottom","1px solid #c8c8c8");r.addClass("e-reportdesigner-minus").removeClass("e-reportdesigner-plus")},this)):$("#"+this.reportDesigner._id+"_group_"+n).slideUp("fast",$.proxy(function(){r.addClass("e-reportdesigner-plus").removeClass("e-reportdesigner-minus");t<i-1?$("#"+this.reportDesigner._id+"_groupHeader_"+n).css("border-bottom","0px solid #c8c8c8"):$("#"+this.reportDesigner._id+"_groupHeader_"+n).css("border-bottom","1px solid #c8c8c8")},this));$(this.expandablePanel).data("ejScroller")&&$(this.expandablePanel).data("ejScroller").refresh()},n.prototype.getDragElement=function(n){var r=ej.buildTag("div","",{width:"74.5px",height:"75px",cursor:"default",float:"left","vertical-align":"middle","text-align":"center",border:"1px solid #c8c8c8","background-color":"white"},{unselectable:"on",itemType:n.attr("itemType"),itemName:n.attr("itemName")}),i=ej.buildTag("div","",{"class":n.attr("itemClass"),itemType:n.attr("itemType"),itemName:n.attr("itemName")}),t,u;if(i.addClass("e-widgeticon-drag"),!ej.isNullOrUndefined(n.attr("itemPath"))&&n.attr("itemPath").length>0)for(t=0;t<n.attr("itemPath").length;t++)u=ej.buildTag("span","",{},{"class":"path"+(t+1).toString()}),i.append(u);return r.append(i),r},n.prototype.renderGroupItems=function(n,t,i,r){var p=[],f,k,v,s,e,c,a,g;for(f in n){var o=n[f].GroupName.replace(" ",""),w=ej.buildTag("div","",{position:"relative",margin:"0 auto","background-color":"white",width:"160px"},{id:this.reportDesigner._id+"_group_"+o}),l=ej.buildTag("div.e-itempanel-header","",{"border-top":f!=="0"?"1px solid #c8c8c8":"0px solid #c8c8c8","border-bottom":"1px solid #c8c8c8",height:"30px"},{id:this.reportDesigner._id+"_groupHeader_"+o}),b=ej.buildTag("div.e-designer-fontfamily","",{float:"left","margin-left":"14px","margin-top":"6px","font-size":"12px","font-weight":"600"},{id:this.reportDesigner._id+"_groupHeaderText_"+o});for(b.text(n[f].GroupName),l.append(b),k=ej.buildTag("div","",{float:"right",width:"25px","margin-left":"6px","margin-top":"1px","margin-right":"5px","text-align":"center"},{"class":"e-designer-panel-icon e-reportdesigner-itempanel e-reportdesigner-minus",id:this.reportDesigner._id+"_groupHeaderIcon_"+o}),l.append(k),l.bind("click",$.proxy(this.onExpandCollapseClick,this,o,parseInt(f),n.length)),t.append(l),v=ej.buildTag("div","",{height:"100%",width:"100%"},{unselectable:"on",id:n[f].GroupId}),s=void 0,e=0;e<n[f].Items.length;e++){e%2==0&&(s=ej.buildTag("div","",{height:"75px",width:"100%",border:"0px solid #c8c8c8","border-bottom-width":"1px","box-sizing":"border-box"},{unselectable:"on",id:n[f].GroupId+"_container_"+e}),e+2>=n[f].Items.length&&parseInt(f,10)<n.length-1&&(!r||r&&parseInt(f,10)!==n.length-1)&&s.css("border-bottom-width","0px"));var u=n[f].Items[e],d=u.id,h=ej.buildTag("div.e-draggable e-rpt-item e-itempanel-report","",{width:"74.5px",height:"74px",cursor:"default",float:"left","vertical-align":"middle","text-align":"center",border:"0px solid #c8c8c8","border-right-width":"1px"},{unselectable:"on",itemType:u.itemType,itemName:u.itemName,itemClass:u.class,itemPath:u.paths});if(e%2!=0&&h.css("border-right-width","0px"),s.append(h),ejDashboardDesigner.getInstance("DragOnDrop").initializeDraggable(h,1010),e%2==0&&v.append(s),c=ej.buildTag("div","",{"margin-top":"14px",cursor:"default"},{id:d,"class":u.class,itemClass:u.class,itemType:u.itemType,itemName:u.itemName,itemPath:u.paths}),!ej.isNullOrUndefined(u.paths)&&u.paths.length>0)for(a=0;a<u.paths.length;a++)g=ej.buildTag("span","",{},{"class":"path"+(a+1).toString()}),c.append(g);h.append(c);p.push(c);var nt=ej.buildTag("span.e-designer-fontfamily","",{display:"inline-block",width:"70px",height:"30px","margin-top":"4px","font-size":"10px",overflow:"hidden","text-overflow":"ellipsis",cursor:"default"},{id:d+"_text",unselectable:"on"}),tt=n[f].GroupName.replace(" ",""),y="";y=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).itemPanel.groupItems[tt].Items[u.itemName];ej.DashboardUtil.textWidth(y,"12px segoe ui")>70&&c.css("margin-top","7px");nt.text(y);h.append(nt)}w.append(v);t.append(w)}return $(this.expandablePanel).data("ejScroller")&&$(this.expandablePanel).data("ejScroller").refresh(),p},n.prototype.getSearchItems=function(){return this.searchItems},n.prototype.getSearchItemsLength=function(){for(var n=0,t=0;t<this.searchItems.length;t++)n=n+this.searchItems[t].Items.length;return n},n.prototype.onSearchClick=function(n){if(n.keyCode!==13){var t=$("#"+this.reportDesigner._id+"_panelSearch"),i=t.val();i.length>0?($("#"+this.reportDesigner._id+"_searchIcon").addClass("e-reportdesigner-close").addClass("e-reportdesigner-errorLog").removeClass("e-reportdesigner-search"),t.removeClass("e-reportdesigner-widget-watermark"),this.searchItems=this.getPanelItems(this.panelItems,i),$("#"+this.reportDesigner._id+"_scrollContentItemPanel").empty(),this.renderGroupItems(this.searchItems,$("#"+this.reportDesigner._id+"_scrollContentItemPanel"),!0,!0),this.showToolboxItems(this.searchItems.length>0)):($("#"+this.reportDesigner._id+"_searchIcon").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog"),$("#"+this.reportDesigner._id+"_scrollContentItemPanel").empty(),this.searchItems=[],this.renderGroupItems(this.panelItems,$("#"+this.reportDesigner._id+"_scrollContentItemPanel"),!0,!1),this.showToolboxItems(!0));this.isKeyDown=!0}},n.prototype.onSearchBlur=function(){var n=$("#"+this.reportDesigner._id+"_panelSearch");n.removeClass("e-focus");n.val().trim().length===0||n.val()===this.waterMarkText?(n.addClass("e-reportdesigner-widget-watermark"),n.val(this.waterMarkText),$("#"+this.reportDesigner._id+"_searchIcon").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog"),this.isKeyDown&&($("#"+this.reportDesigner._id+"_scrollContentItemPanel").empty(),this.searchItems=[],this.renderGroupItems(this.panelItems,$("#"+this.reportDesigner._id+"_scrollContentItemPanel"),!0,!1))):n.removeClass("e-reportdesigner-widget-watermark");this.isKeyDown=!1},n.prototype.onSearchFocus=function(){var n=$("#"+this.reportDesigner._id+"_panelSearch");n.addClass("e-focus");this.isKeyDown=!1;n.val()===this.waterMarkText&&(n.val(""),this.searchItems=[],n.removeClass("e-reportdesigner-widget-watermark"))},n.prototype.onCloseClick=function(){$("#"+this.reportDesigner._id+"_panelSearch").val(this.waterMarkText);$("#"+this.reportDesigner._id+"_panelSearch").addClass("e-reportdesigner-widget-watermark");$("#"+this.reportDesigner._id+"_searchIcon").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog");$("#"+this.reportDesigner._id+"_scrollContentItemPanel").empty();this.showToolboxItems(!0);this.renderGroupItems(this.panelItems,$("#"+this.reportDesigner._id+"_scrollContentItemPanel"),!0,!1)},n.prototype.showToolboxItems=function(n){$("#"+this.reportDesigner._id+"_itemPanel_empty_msg").css("display",n?"none":"table")},n.prototype.onItemScroll=function(n){n.cancel=this.reportDesigner.isItemDrag},n.prototype.updateCulture=function(){var n=this.reportDesigner._id,i=this.reportDesigner.model.locale,t;t=ej.DashboardDesigner.Locale[i]?ej.DashboardDesigner.Locale[i].itemPanel:ej.DashboardDesigner.Locale["en-US"].itemPanel;this.waterMarkText=t.waterMarkText;this.noMatchedText=t.noDataFound;$("#"+n+"_panelSearch").val($("#"+n+"_panelSearch").hasClass("e-focus")?"":this.waterMarkText);$("#"+n+"_noMessageToolTip").find(".editLabel").html(this.noMatchedText);$("#"+n+"_Comparison").html(t.groupItems.Comparison.groupName);$("#"+n+"_Proportion").html(t.groupItems.Proportion.groupName);$("#"+n+"_Distribution").html(t.groupItems.Distribution.groupName);$("#"+n+"_column_text").html(t.groupItems.Comparison.Items.Column);$("#"+n+"_stackedcolumn_text").html(t.groupItems.Comparison.Items.StackedColumn);$("#"+n+"_percent_stackedcolumn_text").html(t.groupItems.Comparison.Items.PercentStackedColumn);$("#"+n+"_linechart_text").html(t.groupItems.Distribution.Items.Line);$("#"+n+"_splinechart_text").html(t.groupItems.Distribution.Items.Spline);$("#"+n+"_barchart_text").html(t.groupItems.Comparison.Items.Bar);$("#"+n+"_stackedbar_text").html(t.groupItems.Comparison.Items.StackedBar);$("#"+n+"_precent_stackedbar_text").html(t.groupItems.Comparison.Items.PercentStackedBar);$("#"+n+"_pie_text").html(t.groupItems.Proportion.Items.Pie);$("#"+n+"_doughnut_text").html(t.groupItems.Proportion.Items.Doughnut);$("#"+n+"_pyramid_text").html(t.groupItems.Proportion.Items.Pyramid);$("#"+n+"_funnel_text").html(t.groupItems.Proportion.Items.Funnel);$("#"+n+"_area_text").html(t.groupItems.Distribution.Items.Area);$("#"+n+"_stackedarea_text").html(t.groupItems.Distribution.Items.StackedArea);$("#"+n+"percent_stackedarea_text").html(t.groupItems.Distribution.Items.PercentStackedArea);$("#"+n+"_range_text").html(t.groupItems.Distribution.Items.Range);$("#"+n+"_rangecolumn_text").html(t.groupItems.Distribution.Items.RangeColumn);$("#"+n+"_stockrange_text").html(t.groupItems.Distribution.Items.StockRange);$("#"+n+"_candlestick_text").html(t.groupItems.Distribution.Items.Candlestick);$("#"+n+"_errorbar_text").html(t.groupItems.Distribution.Items.ErrorBar);$("#"+n+"_scatter_text").html(t.groupItems.Distribution.Items.Scatter);$("#"+n+"_Relationship").html(t.groupItems.Relationship.groupName);$("#"+n+"_bubblemap").html(t.groupItems.Relationship.Items.BubbleMap);$("#"+n+"_choroplethmap").html(t.groupItems.Relationship.Items.ChoroplethMap);$("#"+n+"_treemap").html(t.groupItems.Relationship.Items.TreeMap);$("#"+n+"_Filters").html(t.groupItems.Filters.groupName);$("#"+n+"_comboBox_text").html(t.groupItems.Filters.Items.ComboBox);$("#"+n+"_listbox_text").html(t.groupItems.Filters.Items.ListBox);$("#"+n+"_datepicker_text").html(t.groupItems.Filters.Items.DatePicker);$("#"+n+"_rangeslider_text").html(t.groupItems.Filters.Items.RangeSlider);$("#"+n+"_Deviation").html(t.groupItems.Deviation.groupName);$("#"+n+"_card_text").html(t.groupItems.Deviation.Items.Card);$("#"+n+"_radialgauge_text").html(t.groupItems.Deviation.Items.RadialGauge)},n.prototype.wiredEvents=function(){$("#"+this.reportDesigner._id+"_panelSearch").bind("keyup",$.proxy(this.onSearchClick,this));$("#"+this.reportDesigner._id+"_panelSearch").bind("blur",$.proxy(this.onSearchBlur,this));$("#"+this.reportDesigner._id+"_panelSearch").bind("focus",$.proxy(this.onSearchFocus,this));$("#"+this.reportDesigner._id+"_searchIcon").bind("click",$.proxy(this.onCloseClick,this))},n}();window.ej.createObject("ej.DashboardDesignerUtility.ItemPanel",InternalItemPanel,window);__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();ejDashboardDesigner=function(n){function t(t,i){var r=n.call(this)||this;return(r.rootCss="e-reportdesigner",r.setFirst=!1,r.pluginName="ejDashboardDesigner",r._id=$(r.element).attr("id"),r.id=null,r.model=null,r.defaults={serviceUrl:null,dashboardPath:null,viewerSettings:null,serviceAuthorizationToken:"",toolbarSettings:{items:32767,showToolbar:!0,templateId:null},reportOpened:null,reportSaved:null,reportModified:null,toolbarRendering:null,toolbarClick:null,openReportClick:null,saveReportClick:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,queryDesignerRendered:null,locale:"en-US"},r.designerPanel=null,r.itemPanel=null,r.dragDropHelper=null,r.rdlParser=null,r.isHeight=!1,r.isWidth=!1,r.isPercentWidth=-1,r.isPercentHeight=-1,r.dataConfigurationPanel=null,r.itemPanelWidth=160,r.dataPanelWidth=36,r.designSurfaceHeaderHeight=35,r.isOpenServerRpt=!1,r.isNewServerRpt=!1,r.isNewRpt=!1,r.resizeTO=null,r.lastConfigSize=null,r.isKeyDown=!1,r.isItemDrag=!1,r.serverCategory=null,r.reportFileName="UntitledDashboard.sydx",r.zoomValue=1,r.copiedItem=null,r.authenticationToken=null,r.reportServerInfo=null,r.resizeObj={isDesigner:!0,isPreview:!0,isQueryDesigner:!0},r.refreshSetting=null,r.rptToolbar=null,t&&(t.jquery||(t=$("#"+t)),t.length))?$(t).ejDashboardDesigner(i).data(r.pluginName):r}return __extends(t,n),t.prototype._init=function(){t.reportDesigner=this;this.initUnhandledExceptionHandler();new ej.DashboardUtil(this,this.model.itemId);new ej.DashboardDesignerUtility.Serialization;this.authenticationToken=this.getAuthenticationToken(this._id);t.editManager=t.getInstance("UndoManager");this.renderDesignerContainer();this.initializeDesigner();this.refreshSetting={enableClientCaching:!1,enableAutoRefresh:!1,isRefreshWidget:!1,interval:"00:00:00",isRefreshRowCount:!1,widgetCollection:[]}},t.prototype._setModel=function(n){for(var t in n)switch(t){case"locale":this.setCultureInfo(n.locale);break;case"toolbarSettings":this.rptToolbar.updateToolbar()}},t.prototype.loadReport=function(){ej.isNullOrUndefined(this.model.dashboardPath)||ej.isNullOrUndefined(this.model.serviceUrl)?this.newReportJSON():this.openReport()},t.prototype.initializeDesigner=function(){this.loadReport();this.wiredEvents();t.editManager.updateToolbar();this.rptToolbar.updateToolbar()},t.prototype.renderDesignerContainer=function(){var f=this.element.height(),t=this.element.width(),i=ej.browserInfo(),e,r,o,u;this.element[0].style.height||this.element[0].parentElement.clientHeight===0||(this.isHeight=!0);this.element[0].style.width||this.element[0].parentElement.clientWidth===0||(this.isWidth=!0);f===0&&this.element[0].parentElement.clientHeight!==0?(this.element.height(this.element[0].parentElement.clientHeight),f=this.element.height()):i.name==="msie"&&i.version==="8.0"&&this.element[0].style.height.indexOf("%")!==-1&&(e=parseFloat(this.element[0].style.height),r=this.element[0].parentElement.clientHeight,r=r/100*e,this.element.height(r));t===0&&this.element[0].parentElement.clientWidth!==0?(this.element.width(this.element[0].parentElement.clientWidth),t=this.element.width()):i.name==="msie"&&i.version==="8.0"&&this.element[0].style.width.indexOf("%")!==-1&&(o=parseFloat(this.element[0].style.width),u=this.element[0].parentElement.clientWidth,u=u/100*o,this.element.width(u));this.dashboardViewerPanel=ej.buildTag("div.e-reportdesigner-reportViewer","",{height:"100%",display:"none"},{id:this._id+"_viewerContainer"});this.designerContainer=ej.buildTag("div.e-reportdesigner-designer","",{height:"100%","box-sizing":"border-box"},{id:this._id+"_designerContainer"});var n=this.designAreaTag=ej.buildTag("div.e-reportdesigner-designer e-userselect","",{height:"100%","border-width":"1px 0px","border-style":"solid","border-color":"#c8c8c8",display:"inline-block","background-color":"#ececec","box-sizing":"border-box"},{id:this._id+"_designAreaContainer"}),s=this.itemPanelTag=ej.buildTag("div.e-reportdesigner-ItemPanel","",{width:this.itemPanelWidth+"px",height:"100%",float:"left","box-sizing":"border-box","background-color":"#f9f9f9"},{id:this._id+"_itemPanelContainer"}),h=this.designPanelTag=ej.buildTag("div","",{width:t-this.itemPanelWidth-this.dataPanelWidth+"px",border:"0px solid #c8c8c8","border-left-width":"1px",height:"100%",float:"left","background-color":"#f9f9f9","box-sizing":"border-box"},{id:this._id+"_designSurfaceContainer"}),c=this.dataPanelTag=ej.buildTag("div","",{width:this.dataPanelWidth+"px",height:"100%",float:"right","box-sizing":"border-box","background-color":"white"},{id:this._id+"_dataPanelContainer"});this.element.append(this.designerContainer);this.element.append(this.dashboardViewerPanel);this.renderToolbar(this.designerContainer,t);this.designerContainer.append(n);n.append(s);n.append(h);n.append(c);this.setContainerSize();this.renderItemPanel(s);this.renderDesignPanel(h);this.renderDataConfigurationPanel(c);n.ejWaitingPopup({showOnInit:!1,cssClass:this._id+"_designer_waiting_popup e-designer-loader"});ej.DashboardUtil.renderErrorToolTip(this._id)},t.prototype.newReportJSON=function(){this.isNewServerRpt=this.isOpenServerRpt=!1;ej.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=new ej.DashboardDesignerUtility.RDLParser(this));this.rdlParser.newJsonReport();this.designerPanel.updateRptToolbarActions();this.designerPanel.updateDefaultProperties();t.editManager.reset();this.copiedItem=null;t.getInstance("DataSource").isLoaded()?t.getInstance("DataSource").pouplateDataSources():t.getInstance("DataSource").updateDataSourceJSON();t.getInstance("DataSet").isLoaded()?t.getInstance("DataSet").pouplateDataSets():t.getInstance("DataSet").updateDataSetJSON();t.getInstance("Parameter").isLoaded()?t.getInstance("Parameter").populateReportParameters():t.getInstance("Parameter").updateParameterJSON();t.getInstance("ImageManager").isLoaded()?t.getInstance("ImageManager").populateEmbeddedImages():t.getInstance("ImageManager").updateImageJSON();this.isNewRpt=!0},t.prototype.openRdlJSON=function(n,i){if(n&&n.indexOf("Sf_Exception")!==-1)ej.DashboardUtil.getInstance().ejAlertDialog("Report",n,!1,!0,!1,"ReportDesigner failed to Open the selected Report");else{this.isOpenServerRpt=this.isNewServerRpt=this.isNewRpt=!1;var r=t.getInstance("DataSource"),u=t.getInstance("DataSet"),f=t.getInstance("Parameter"),e=t.getInstance("ImageManager");ej.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=new ej.DashboardDesignerUtility.RDLParser(this));this.rdlParser.deserialize(n);this.designerPanel.reset();r.isLoaded()?r.pouplateDataSources():r.updateDataSourceJSON();u.isLoaded()?u.pouplateDataSets():u.updateDataSetJSON();f.isLoaded()?f.populateReportParameters():f.updateParameterJSON();e.isLoaded()?e.populateEmbeddedImages():e.updateImageJSON();this.designerPanel.renderReport(this.rdlParser);this.designerPanel.updateRptToolbarActions();t.editManager.reset();this.triggerEvents("reportOpened",{isServerReport:i?!0:!1,reportName:this.reportFileName});this.triggerEvents("reportModified",{reportAction:"Opened"});this.designerPanel.updateDefaultProperties()}},t.prototype.openRdlReport=function(n){n&&n.indexOf("Sf_Exception")!==-1?ej.DashboardUtil.getInstance().ejAlertDialog("Report",n,!1,!0,!1,"ReportDesigner failed to Open the selected Report"):(this.reportFileName=ej.DashboardUtil.getFileName(this.model.dashboardPath),this.openRdlJSON(n,!0),this.isOpenServerRpt=!0,this.isNewServerRpt=this.isNewRpt=!1)},t.prototype.newServerRDL=function(n,t){this.newReportJSON();t&&(this.model.serviceUrl=t);n&&n.length>0&&(this.isNewServerRpt=!0,this.isNewRpt=!1,this.reportFileName=n)},t.prototype.newRDLReport=function(n){this.reportFileName=n&&n.length>0?n:"Untitled Dashboard1.sydx";this.isNewServerRpt=this.isOpenServerRpt=!1;this.newReportJSON();this.isNewRpt=!0},t.prototype.newSharedDataSet=function(n,i,r){var u=this;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.sharedDataSet,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.sharedDataSet,reportInfo:{dataSetRefer:i}})},{fnction:$.proxy(function(f){var o,e,h,s,c;if(f&&typeof f=="string"&&f.indexOf("Sf_Exception")!==-1)ej.DashboardUtil.getInstance().ejAlertDialog("Report",f,!1,!0,!1,"ReportDesigner failed to create a shared DataSet");else{if(o=t.getInstance("DataSet"),r?u.newServerRDL(n):u.newRDLReport(n),e=ejQueryDesigner.createDataSet(),h={__type:"Syncfusion.RDL.DOM.SharedDataSet",SharedDataSetReference:"",QueryParameters:[]},e.Name=o.getAvailableName(),e.Query=null,f.Fields.length>0)for(e.Fields=[],s=0;s<f.Fields.length;s++)c=f.Fields[s],c.__type="Syncfusion.RDL.DOM.Field",e.Fields.push(c);h.SharedDataSetReference=i;e.SharedDataSet=h;u.rdlParser.rdlJsonObj.DataSets.push(e);o.isLoaded()?(u.rdlParser.rdlJsonObj.DataSets.push(e),o.pouplateDataSets()):o.updateDataSetJSON()}},this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]})},t.prototype.createServerReport=function(n){var i=this.saveJSONData(),t;!ej.isNullOrUndefined(this.rdlParser)&&n&&(t={},this.model.dashboardPath="/"+n.category+"/"+n.name,t.reportServerUrl=this.model.serviceUrl,ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/savetoserver/",{data:JSON.stringify({name:n.name,description:"",categoryId:n.categoryId,categoryName:n.category})},{fnction:$.proxy(this.saveRdlReport,this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]}))},t.prototype.editServerReport=function(n){var i=this.saveJSONData(),t;ej.isNullOrUndefined(this.rdlParser)||(t={},t.reportServerUrl=this.model.serviceUrl,n&&n.length>0&&(t.reportPath=this.model.dashboardPath=n),ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.saveServerReport,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.saveServerReport,reportInfo:t,rdlJSON:i,datasourceMapping:this.getDataSourceMap(),datasetMapping:this.getDataSetMap()})},{fnction:$.proxy(this.saveRdlReport,this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]}))},t.prototype.getDataSourceMap=function(){var r=[],n=t.getInstance("DataSource").datasources,i;if(n&&n.length>0)for(i=0;i<n.length;i++)n[i].DataSourceReference&&n[i].DataSourceReference.length>0&&r.push({Name:n[i].Name,DataSourceId:n[i].DataSourceReference});return r&&r.length>0?r:null},t.prototype.getDataSetMap=function(){var r=[],n=t.getInstance("DataSet").datasets,i;if(n&&n.length>0)for(i=0;i<n.length;i++)n[i].SharedDataSet&&n[i].SharedDataSet.SharedDataSetReference&&n[i].SharedDataSet.SharedDataSetReference.length>0&&r.push({Name:n[i].Name,DataSetId:n[i].SharedDataSet.SharedDataSetReference});return r&&r.length>0?r:null},t.prototype.saveServerReport=function(n,t){t?this.editServerReport(n):this.createServerReport(this.getReportCategory(n))},t.prototype.saveAsReport=function(){this.isOpenServerRpt?this.editServerReport(this.model.dashboardPath):this.isNewServerRpt?this.rptToolbar.saveServerClick():(this.downloadReport(),t.getInstance("UndoManager").saveActionIndex())},t.prototype.saveRdlReport=function(n){n&&typeof n=="string"&&n.indexOf("Sf_Exception")!==-1?ej.DashboardUtil.getInstance().ejAlertDialog("Report",n,!1,!0,!1,"ReportDesigner failed to save the created report"):(this.isNewServerRpt=this.isNewRpt=!1,this.isOpenServerRpt=!0,t.getInstance("UndoManager").saveActionIndex(),this.triggerEvents("reportSaved",{reportAction:"Saved"}),this.triggerEvents("reportModified",{reportAction:"Saved"}))},t.prototype.downloadReport=function(){var n=this.saveJSONData(),t=this.reportFileName.indexOf(".rdl")===-1?this.reportFileName+".rdl":this.reportFileName;ej.isNullOrUndefined(this.rdlParser)||(ej.DashboardUtil.doPostBack(this.model.serviceUrl+"/PostDesignerAction/",{reportPath:t,reportData:n},this),this.triggerEvents("reportSaved",{reportAction:"Download"}))},t.prototype.saveJSONData=function(){this.designerPanel.updateReportDef(this.rdlParser);return this.rdlParser.serialize(!1)},t.prototype.updateDashboardViewer=function(){var n=this.dashboardViewerPanel.find("#"+this._id+"_dashboardviewer");n.height(this.element.height());n.width(this.element.width());n.data("ejDashboardViewer")&&n.data("ejDashboardViewer").resizeDashboard()},t.prototype.renderDesignPanel=function(n){this.designerPanel=new ej.DashboardDesignerUtility.DesignPanel(this,n)},t.prototype.updateFileStatus=function(n){var t={name:this.reportFileName,isModified:n};this.triggerEvents("reportModified",t)},t.prototype.renderToolbar=function(n,t){this.rptToolbar=new ej.DashboardDesignerUtility.Toolbar(n);this.rptToolbar.renderToolBar(n,this.designSurfaceHeaderHeight,t)},t.prototype.renderItemPanel=function(n){this.dragDropHelper=new ej.DashboardDesignerUtility.DragdropHelper(this);this.itemPanel=new ej.DashboardDesignerUtility.ItemPanel(this,n)},t.prototype.renderDataConfigurationPanel=function(n){this.dataConfigurationPanel=new ej.DashboardDesignerUtility.DataConfigurationPanel(n)},t.prototype.showDesignReport=function(){$("#"+this._id+"_reportviewer_toolbarContainer_target").length>0&&$("#"+this._id+"_reportviewer_toolbarContainer_hiddenlist").is(":visible")&&$("#"+this._id+"_reportviewer_toolbarContainer_target").mousedown();this.hideWaitingPopup($("#"+this._id+"_reportviewer_loadingIndicator"));this.hideWaitingPopup($("#"+this._id+"_reportviewer_viewerContainer"));this.designerContainer.css("display","block");this.dashboardViewerPanel.css("display","none");this.resizeObj.isDesigner&&(this.setContainerSize(),this.updateDesignerSize(),this.resizeObj.isDesigner=!1)},t.prototype.PreviewDashboard=function(){var n=this;if($("#"+this._id+"_toolBar_target").length>0&&$("#"+this._id+"_toolBar_hiddenlist").is(":visible")&&$("#"+this._id+"_toolBar_target").mousedown(),!this.model.viewerSettings||ej.isNullOrUndefined(this.model.viewerSettings.serviceUrl)){ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Designer",t.getLocale(this.model.locale).errorMessage.previewServiceUrlNotSet,!1,!0,!1,t.getLocale(this.model.locale).errorMessage.previewServiceUrlNotSetDesc);return}ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/GetPreviewDashboard",{data:null},{fnction:$.proxy(function(i){ej.isNullOrUndefined(i)?ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Designer",t.getLocale(n.model.locale).errorMessage.widgetNotConfigured,!1,!1,!1,""):(n.hideWaitingPopup(),n.showViewer(i),n.resizeObj.isPreview&&(n.updateDashboardViewer(),n.resizeObj.isPreview=!1))},this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]})},t.prototype.showViewer=function(n){var t=$("#"+this._id+"_dashboardviewer"),r=this.element.width(),u=this.element.height(),f=this.element.offset(),i;t.length===0?(this.dashboardViewerPanel.width(r),this.dashboardViewerPanel.height(u),this.renderViewerToolbar(),t=ej.buildTag("div","",{width:r,height:u-40,position:"relative"},{id:this._id+"_dashboardviewer"}),this.dashboardViewerPanel.append(t),t.ejDashboardViewer({serviceUrl:this.model.viewerSettings.serviceUrl,dashboardPath:n})):(i=t.data("ejDashboardViewer"),i.model.dashboardPath=n,i.redrawDashboard());this.designerContainer.css("display","none");this.dashboardViewerPanel.css("display","block")},t.prototype.renderViewerToolbar=function(){var n=ej.buildTag("div.e-dashboarddesigner-preview-toolbar","",{},{}),i=ej.buildTag("ul.e-reportviewer-toolbarul e-ul e-horizontal ","",{float:"right","margin-right":"10px"},{}),r=ej.buildTag("div.e-reportdesigner-ejdesigner","",{display:"block"},{id:this._id+"_viewer_editdiv"}),u=ej.buildTag("button",t.getLocale(this.model.locale).menuBar.designButtonText,{background:"#428bca",color:"white"},{id:this._id+"_designButton"});i.append(r);r.append(u);n.append(i);this.dashboardViewerPanel.append(n);u.ejButton({showRoundedCorner:!1,size:"small",width:"120px",height:"27px",contentType:ej.ContentType.TextAndImage,cssClass:"e-flat e-designer-designbutton",prefixIcon:"e-toolbarPreview e-toolbarClose e-reportdesigner-close",click:$.proxy(this.showDesignReport,this)});this.rptToolbar.showDesign(this.model.toolbarSettings.items&ej.DashboardDesigner.ToolbarItems.EditDesign)},t.prototype.viewerAjaxLoad=function(n){if(n.inVokemethod==="_reportLoaded"){var i=[],t={headers:i,data:null,reportDesignerToken:this.authenticationToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken};this.triggerEvents("ajaxBeforeLoad",t);n.data=t.data;n.serviceAuthorizationToken=t.serviceAuthorizationToken;i.push({Key:"reportDesignerToken",Value:t.reportDesignerToken});n.headers=i}},t.prototype.setCultureInfo=function(n){this.model.locale=n;this.updateCulture(n);t.getInstance("ItemPanel").updateCulture(n);t.getInstance("ToolBar").updateCulture(n);t.getInstance("PropertyPanel").updateCulture(n);t.getInstance("DataSource").updateCulture(n);t.getInstance("DataSet").updateCulture(n);t.getInstance("ImageManager").updateCulture(n)},t.prototype.updateCulture=function(n){var i=this._id,t;t=ej.DashboardDesigner.Locale[n]?ej.DashboardDesigner.Locale[n].menuBar:ej.DashboardDesigner.Locale["en-US"].menuBar;$("#"+i+"_previewButton").text(t.previewText);$("#"+i+"_Label_newMenuItem").text(t.newMenu);$("#"+i+"_Label_openMenuItem").html(t.openMenu);$("#"+i+"_Label_saveMenuItem").html(t.saveMenu);$("#"+i+"_createFileContainer").html(t.createReport);$("#"+i+"_openFileContainer").html(t.openReport);$("#"+i+"_CreateButton").html(t.createButtonText);$("#"+i+"_designButton").html(t.designButtonText)},t.prototype._destroy=function(){ej.destroyWidgets(this.element);this.unwiredEvents();this.resetInstance()},t.prototype.resetInstance=function(){clearInterval(t.getInstance("PropertyPanel").groupInterval);ej.DashboardDesignerUtility.LinkReport.linkReport=null;ej.DashboardDesignerUtility.LinkParameter.linkParameter=null;ej.DashboardDesignerUtility.ReportAction.reportAction=null;ej.DashboardDesignerUtility.PropertyPanel.propertySource=null;ej.DashboardDesignerUtility.UndoManager.undoManager=null;ej.DashboardDesignerUtility.DataSource.dataSource=null;ej.DashboardDesignerUtility.DataSet.dataSet=null;ej.DashboardDesignerUtility.DataConfigurationPanel.dataPanel=null;ej.DashboardDesignerUtility.ImageManager.imageSource=null;ej.DashboardDesignerUtility.CredentialDialog.credential=null;ej.DashboardDesignerUtility.GroupDialog.groupDialog=null;ej.DashboardDesignerUtility.SQLDataSource.sqldataSource=null;ej.DashboardDesignerUtility.MySQLDataSource.mysqlDataSource=null;ej.DashboardDesignerUtility.SqlCeDataSource.sqlcedataSource=null;ej.DashboardDesignerUtility.XMLDataSource.xmldataSource=null;ej.DashboardDesignerUtility.ODBCDataSource.odbcdataSource=null;ej.DashboardDesignerUtility.ORACLEDataSource.oracledataSource=null;ej.DashboardDesignerUtility.OLEDBDataSource.oledbdataSource=null;ej.DashboardDesignerUtility.SharedDataSource.shareddataSource=null;ej.DashboardDesignerUtility.ODATADataSource.odatadataSource=null;ej.DashboardDesignerUtility.PSQLDataSource.psqldataSource=null;ej.DashboardDesignerUtility.SASSDataSource.sassdataSource=null;ej.DashboardDesignerUtility.SharedDataSet.shareddataSet=null;ej.DashboardDesignerUtility.SortDialog.sortDialog=null;ej.DashboardDesignerUtility.FilterDialog.filter=null;ej.DashboardDesignerUtility.RSLoginWind.rsloginWind=null;ej.DashboardDesignerUtility.QueryJoiner.queryJoiner=null;ej.DashboardDesignerUtility.StoreParameter.storeParameter=null;ej.DashboardDesignerUtility.Expression.expression=null;ej.DashboardDesignerUtility.DataConfiguration.dataConfigSource=null;ej.DashboardDesignerUtility.QueryFilter.queryFilter=null;ej.DashboardDesignerUtility.QueryFilter.queryparameter=null;ej.DashboardDesignerUtility.Parameter.reportParameter=null;ej.DashboardDesignerUtility.BrowseDialog.fileBrowse=null;ej.DashboardDesignerUtility.QueryExpression.queryExpression=null;ej.DashboardDesignerUtility.FormatDialog.format=null;ej.DashboardDesignerUtility.FormattingText.formatText=null;ej.DashboardDesignerUtility.FilterConfiguration.filterConfig=null;ej.DashboardDesignerUtility.FileDatasource.fileDatasource=null;ej.DashboardDesignerUtility.MeasureFilter.measureFilter=null;ej.DashboardDesignerUtility.WebDatasource.webDatasource=null;ej.DashboardDesignerUtility.DimensionFilter.dimensionFilter=null;ej.DashboardDesignerUtility.ConditionalFormat.conditionalFormat=null;ej.DashboardDesignerUtility.KPIWindow.kpiwindow=null;ej.DashboardDesignerUtility.CustomLegendSettings.customLegendSettings=null;ej.DashboardDesignerUtility.ContainerPropertyItem.container=null;ej.DashboardDesignerUtility.GridTemplate.gridtemplate=null;t.reportDesigner.designerPanel=null;t.reportDesigner.rdlParser=null;t.reportDesigner.itemPanel=null;t.reportDesigner.dragDropHelper=null;t.reportDesigner.rptToolbar=null;t.reportDesigner=null},t.prototype.showItemPopup=function(n){this.element.append(n)},t.prototype.wiredEvents=function(){this._on($(document),"keydown",this.designerKeyDown);this._on($(document),"click",this.designerClick);this._on($(window),"resize",this.designerResize)},t.prototype.unwiredEvents=function(){this._off($(document),"keydown",this.designerKeyDown);this._off($(window),"resize",this.designerResize);this._off($(document),"click",this.designerClick)},t.prototype.designerResize=function(){var t=ej.browserInfo(),n=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){var e=n.isWidth?n.element[0].parentElement.style.width:n.element[0].style.width,o=n.isHeight?n.element[0].parentElement.style.height:n.element[0].style.height,i=$(n.element).height(),r=$(n.element).width(),u,f;o.indexOf("%")!==-1?(n.isPercentHeight=parseFloat(o),u=n.isHeight?$(n.element).parent().height():i,i=n.isHeight?u:u/100*n.isPercentHeight):n.element[0].parentElement.clientHeight!==0&&n.isPercentHeight!==-1?i=n.isHeight?n.element[0].parentElement.clientHeight:n.element[0].parentElement.clientHeight/100*n.isPercentHeight:n.isHeight&&n.element[0].parentElement.clientHeight!==0?i=n.element[0].parentElement.clientHeight:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientHeight!==0&&(i=n.element[0].parentElement.clientHeight);n.element.height(i);e.indexOf("%")!==-1?(n.isPercentWidth=parseFloat(e),f=n.isWidth?$(n.element).parent().width():r,r=n.isWidth?f:f/100*n.isPercentWidth):n.element[0].parentElement.clientWidth!==0&&n.isPercentWidth!==-1?r=n.isWidth?n.element[0].parentElement.clientWidth:n.element[0].parentElement.clientWidth/100*n.isPercentWidth:n.isWidth&&n.element[0].parentElement.clientWidth!==0?r=n.element[0].parentElement.clientWidth:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientWidth!==0&&(r=n.element[0].parentElement.clientWidth);n.element.width(r);n.updateSize();n.designerPanel.updateDesignPanelSize()},200)},t.prototype.updateSize=function(){this.setContainerSize();this.dashboardViewerPanel.is(":visible")?(this.updateDashboardViewer(),this.resizeObj.isDesigner=this.resizeObj.isQueryDesigner=!0,this.resizeObj.isPreview=!1):this.designerContainer.is(":visible")&&$("#"+this._id+"_queryDesigner").is(":visible")?(this.rptToolbar.updateSize(),this.updateQueryDesigner(),this.resizeObj.isPreview=this.resizeObj.isDesigner=!0,this.resizeObj.isQueryDesigner=!1):(this.resizeObj.isDesigner=!1,this.updateDesignerSize(),this.resizeObj.isPreview=this.resizeObj.isQueryDesigner=!0)},t.prototype.updateDesignerSize=function(){this.rptToolbar.updateSize();t.getInstance("ItemPanel").updateSize();t.getInstance("DesignPanel").updatePanelSize();t.getInstance("DataConfigurationPanel").updateSize()},t.prototype.updateConfigPanel=function(n){var t=$("#"+this._id+"_designerConfigurationPanel"),f;if(n){this.lastConfigSize={panelSize:this.dataPanelTag.width(),containerSize:t.width()};var i=parseFloat(this.designAreaTag.css("border-left-width")),r=parseFloat(this.designAreaTag.css("border-right-width")),u=this.element.width();this.itemPanelTag.css("display","none");this.designPanelTag.css("display","none");$("#"+this._id+"_configurationHeaderPanel").css("display","none");this.dataPanelTag.width(u-(i+r));t.width(u-(i+r))}else if(this.lastConfigSize){var i=parseFloat(this.designAreaTag.css("border-left-width")),r=parseFloat(this.designAreaTag.css("border-right-width")),u=this.element.width();this.itemPanelTag.css("display","block");this.designPanelTag.css("display","block");$("#"+this._id+"_configurationHeaderPanel").css("display","block");this.dataPanelTag.width(this.lastConfigSize.panelSize);t.width(this.lastConfigSize.containerSize);this.lastConfigSize=null;f=u-(this.itemPanelTag.width()+this.dataPanelTag.width());this.designPanelTag.css({width:f-(i+r)+"px"})}},t.prototype.updateDesignPanel=function(){var n=this.element.width(),t=parseFloat(this.designAreaTag.css("border-left-width")),i=parseFloat(this.designAreaTag.css("border-right-width")),r=n-(this.itemPanelTag.width()+this.dataPanelTag.width());this.designPanelTag.css({width:r-(t+i)+"px"});this.designerPanel.updateDesignPanelSize()},t.prototype.updateQueryDesigner=function(){var f=this.element.height(),n=this.element.width(),e=this.toolbarTag.height(),o=parseFloat(this.toolbarTag.css("border-top-width")),s=parseFloat(this.toolbarTag.css("border-bottom-width")),h=parseFloat(this.designAreaTag.css("border-top-width")),c=parseFloat(this.designAreaTag.css("border-bottom-width")),i=f-e-(o+s)+1,l=i-(c+h),r=parseFloat(this.designAreaTag.css("border-left-width")),u=parseFloat(this.designAreaTag.css("border-right-width"));this.designAreaTag.css({height:i+"px",width:n+"px"});$("#"+this._id+"_queryDesigner").css({width:n+"px",height:l+"px"});this.dataPanelTag.width(n-(r+u));$("#"+this._id+"_designerConfigurationPanel").width(n-(r+u));t.getInstance("QueryDesigner").updateSize()},t.prototype.updateQueryDesignerSize=function(){this.resizeObj.isQueryDesigner&&(this.updateQueryDesigner(),this.resizeObj.isQueryDesigner=!1)},t.prototype.setContainerSize=function(){var r=this.element.height(),t=this.element.width(),u=this.toolbarTag.height(),f=parseFloat(this.toolbarTag.css("border-top-width")),e=parseFloat(this.toolbarTag.css("border-bottom-width")),o=parseFloat(this.designAreaTag.css("border-top-width")),s=parseFloat(this.designAreaTag.css("border-bottom-width")),h=parseFloat(this.designAreaTag.css("border-left-width")),c=parseFloat(this.designAreaTag.css("border-right-width")),i=r-u-(f+e)+1,n=i-(s+o),l=t-(this.itemPanelTag.width()+this.dataPanelTag.width());this.designAreaTag.css({height:i+"px",width:t+"px"});this.itemPanelTag.height(n);this.dataPanelTag.height(n);this.designPanelTag.css({height:n+"px",width:l-(h+c)+"px"})},t.prototype.showToolbar=function(n){n?($("#"+this._id+"_toolBar").data("ejToolbar").enable(),$("#"+this._id+"_previewButton").css("opacity","1").data("ejButton").enable()):($("#"+this._id+"_toolBar").data("ejToolbar").disable(),$("#"+this._id+"_previewButton").css("opacity",".3").data("ejButton").disable())},t.prototype.designerClick=function(n){var i=$(n.target).parents("ul.e-designer-menu"),r,t;i.length>0?(r=this.element.find(".e-designer-menu:visible").not(i),r.hide()):$(n.target).hasClass("e-designer-click")?(t=$(n.target).attr("e-target"),this.hideMenuExceptItem(t),$(".e-designer-tooltip:visible").css("display","none")):$(n.target).closest(".e-designer-click").length>0?(t=$(n.target).closest(".e-designer-click").attr("e-target"),this.hideMenuExceptItem(t),$(".e-designer-tooltip:visible").css("display","none")):($(".e-designer-menu:visible").hide(),$(".e-designer-tooltip:visible").css("display","none"))},t.prototype.hideMenuExceptItem=function(n){if(!ej.isNullOrUndefined(n)&&n.length>0){var t=void 0;t=n==="e-exp-menu"?$(".e-exp-menu:visible"):n==="e-aggr-menu"?$(".e-aggr-menu:visible"):$("#"+n);$(".e-designer-menu:visible").not(t).hide()}else $(".e-designer-menu:visible").hide()},t.prototype.showDesignIndicator=function(){this.designAreaTag.data("ejWaitingPopup").show();this.showToolbar(!1)},t.prototype.hideDesignIndicator=function(){this.designAreaTag.data("ejWaitingPopup").hide();this.showToolbar(!0)},t.prototype.isTextfocused=function(){var n=$(document.activeElement);return n.prop("type")==="text"||n.prop("type")==="textarea"||n.prop("contenteditable")==="true"},t.prototype.designerKeyDown=function(n){var u,i,r;this.designPanelTag.is(":visible")&&(u=this.isTextfocused(),u||(i=t.getInstance("UndoManager"),(n.ctrlKey&&n.keyCode===90||n.altKey&&n.keyCode===90)&&i.isUndo()?(n.preventDefault(),i.undo()):(n.ctrlKey&&n.keyCode===89||n.altKey&&n.keyCode===89)&&i.isRedo()?(n.preventDefault(),i.redo()):n.ctrlKey&&n.keyCode===88?this.designerPanel.cutItem():n.ctrlKey&&n.keyCode===67?this.designerPanel.copyItem():n.ctrlKey&&n.keyCode===86?this.designerPanel.pasteItem():n.keyCode===46?this.designerPanel.removeItem():n.keyCode===13?this.designerPanel.selectedReportItems.length>0&&this.designerPanel.selectedReportItems[0].hasClass("e-textboxitem")&&(r=ej.DashboardUtil.getReportItem(this.designerPanel.selectedReportItems[0]),r&&r.designerKeyDown(event)):n.ctrlKey&&n.keyCode===83?(this.saveAsReport(),n.preventDefault()):n.ctrlKey&&n.keyCode===79?this.rptToolbar.browseDiskReport():n.shiftKey&&n.keyCode===37?this.panelKeyDown("width","left"):n.shiftKey&&n.keyCode===39?this.panelKeyDown("width","right"):n.shiftKey&&n.keyCode===38?this.panelKeyDown("height","top"):n.shiftKey&&n.keyCode===40?this.panelKeyDown("height","bottom"):n.keyCode===37?this.panelKeyDown("left","left"):n.keyCode===39?this.panelKeyDown("left","right"):n.keyCode===38?this.panelKeyDown("top","top"):n.keyCode===40?this.panelKeyDown("top","bottom"):n.shiftKey&&n.keyCode===9?this.designerPanel.previousWidgetItem():n.keyCode===9&&this.designerPanel.nextWidgetItem()))},t.prototype.panelKeyDown=function(n,t){if(this.designerPanel.selectedReportItems&&this.designerPanel.selectedReportItems.length>0){var i=this.designerPanel;window.setTimeout(function(){switch(n){case"left":i.updateElementLeft(t);break;case"top":i.updateElementTop(t);break;case"width":i.updateElementWidth(t);break;case"height":i.updateElementHeight(t)}},100)}},t.prototype.triggerEvents=function(n,t){var i,r=t;switch(n){case"ajaxBeforeLoad":i=this._trigger(n,r);break;case"ajaxSuccess":i=this._trigger(n,r);break;case"ajaxError":i=this._trigger(n,r);break;case"toolbarClick":i=this._trigger(n,r);break;case"openReportClick":i=this._trigger(n,r);break;case"saveReportClick":i=this._trigger(n,r);break;case"toolbarRendering":i=this._trigger(n,r);break;case"reportModified":i=this._trigger(n,r);break;case"reportOpened":i=this._trigger(n,r);break;case"reportSaved":i=this._trigger(n,r);break;case"queryDesignerRendered":i=this._trigger(n,r)}return i},t.prototype.hideWaitingPopup=function(n){if(n&&n.length>0){var t=n.data("ejWaitingPopup");t&&t.hide()}else $("."+this._id+"_designer_waiting_popup:visible").hide()},t.prototype.isReportServerLogin=function(){return this.reportServerInfo&&this.reportServerInfo.token?!0:!1},t.prototype.getAuthenticationToken=function(n){return ej.getGuid(n+"_")},t.prototype.showDataSourcetip=function(){var t=$("#"+this._id+"_designer_right_tooltip"),r=$("#"+this._id+"_Datasource_wrapper"),n;if(t.length===0){n=ej.buildTag("div.e-designer-right-tip e-tooltip-wrap e-widget e-designer-tooltip","",{},{id:this._id+"_designer_right_tooltip"});$(document.body).append(n);var u=ej.buildTag("div.e-arrowTip","",{}),o=ej.buildTag("div.e-arrowTipOuter","",{}),s=ej.buildTag("div.e-arrowTipInner","",{}),i=ej.buildTag("div.e-tipContainer"),h=ej.buildTag("div","We should create the Datasource to create new Dataset.",{},{}),c=ej.buildTag("div","",{height:"1px",border:"0px Solid","border-top-width":"0.5px","border-color":"white",margin:"9px 3px 3px 3px"},{}),f=ej.buildTag("div","",{width:"100%","text-align":"center",padding:"4px 0px"}),e=ej.buildTag("button.e-designer-content","Add DataSource",{"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"},{id:this._id+"_newDataSourceButton"});u.append(o).append(s);i.append(h);i.append(c);i.append(f);f.append(e);n.append(i);n.append(u);t=n;e.ejButton({width:"142px",height:"25px",showRoundedCorner:!0,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:$.proxy(this.newDataSource,this)})}t.css({display:"block",top:r.offset().top,left:r.offset().left-(t.width()+20)})},t.prototype.newDataSource=function(){var n=t.getInstance("DataSet");t.getInstance("DataConfigurationPanel").showConfigurationPanel(!0,"DataSet");n.switchPanel(PanelList.DataType)},t.prototype.updateRefreshSetting=function(n){this.refreshSetting=n},t.prototype.undo=function(){t.getInstance("UndoManager").undo()},t.prototype.canUndo=function(){return t.getInstance("UndoManager").isUndo()},t.prototype.redo=function(){t.getInstance("UndoManager").redo()},t.prototype.canRedo=function(){return t.getInstance("UndoManager").isRedo()},t.prototype.cut=function(){this.designerPanel.cutItem()},t.prototype.canCut=function(){return this.designerPanel.canCut()},t.prototype.copy=function(){this.designerPanel.copyItem()},t.prototype.canCopy=function(){return this.designerPanel.canCopy()},t.prototype.delete=function(){this.designerPanel.copyItem()},t.prototype.canDelete=function(){return this.designerPanel.canCopy()},t.prototype.paste=function(){this.designerPanel.pasteItem()},t.prototype.canPaste=function(){return this.designerPanel.canCopy()},t.prototype.showPreview=function(){this.PreviewDashboard({})},t.prototype.showDesign=function(){this.showDesignReport({})},t.prototype.hasReportChanges=function(){return t.editManager.hasItemChanges()},t.prototype.isServerReport=function(){return this.isNewServerRpt||this.isOpenServerRpt},t.prototype.isNewReport=function(){return this.isNewServerRpt||this.isNewRpt},t.prototype.isNewServerReport=function(){return this.isNewServerRpt},t.prototype.saveToDevice=function(){this.downloadReport()},t.prototype.newReport=function(n,t){ej.isNullOrUndefined(n)||n&&n.length===0?this.rptToolbar.newReportClick():n&&t&&t.length>0?this.newSharedDataSet(n,t,!1):this.newRDLReport(n)},t.prototype.newServerReport=function(n,t){var i=this;ej.isNullOrUndefined(n)||n&&n.length===0?this.rptToolbar.openNewDialog(function(n){i.newServerRDL(n.name)}):n&&t&&t.length>0?this.newSharedDataSet(n,t,!0):this.newServerRDL(n)},t.prototype.showOpenSaveReportDialog=function(n,i,r){var u=t.getInstance("BrowseDialog");u.openDialog(n,i,r&&r.length?r:this.reportFileName)},t.prototype.openServerReportDialog=function(){this.rptToolbar.openServerClick()},t.prototype.saveServerReportDialog=function(){this.rptToolbar.saveServerClick()},t.prototype.showNewReportDialog=function(n){var i=t.getInstance("ToolBar");i.openNewDialog(n)},t.prototype.openReportFromDevice=function(){this.rptToolbar.browseDiskReport()},t.prototype.saveReport=function(n,t){if(!ej.isNullOrUndefined(n)&&n.length>0){var i=!ej.isNullOrUndefined(t)&&t;this.saveServerReport(n,i)}else this.saveAsReport()},t.prototype.openReport=function(n,t){var i={};(t?(i.reportServerUrl=t,this.model.serviceUrl=t):i.reportServerUrl=this.model.serviceUrl,n?(i.reportPath=n,this.model.dashboardPath=n):i.reportPath=this.model.dashboardPath,ej.isNullOrUndefined(i.reportPath))||(this.isOpenServerRpt=!0,ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.openServerReport,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.openServerReport,reportInfo:i})},{fnction:$.proxy(this.openRdlReport,this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]}))},t.prototype.getReportCategory=function(n){var i=n.substr(n.lastIndexOf("/")+1),t=n.substr(0,n.lastIndexOf("/"));return t.length>0&&t.charAt(0)==="/"&&(t=t.substr(1)),{name:i,category:t}},t.getInstance=function(n){return n==="DashboardDesigner"?t.reportDesigner:n==="DesignPanel"?t.reportDesigner.designerPanel:n==="RDLParser"?t.reportDesigner.rdlParser:n==="ItemPanel"?t.reportDesigner.itemPanel:n==="PropertyPanel"?ej.DashboardDesignerUtility.PropertyPanel.PropertySource:n==="DragOnDrop"?t.reportDesigner.dragDropHelper:n==="ToolBar"?t.reportDesigner.rptToolbar:n==="UndoManager"?ej.DashboardDesignerUtility.UndoManager.UndoManager:n==="DataSource"?ej.DashboardDesignerUtility.DataSource.DataSource:n==="DataSet"?ej.DashboardDesignerUtility.DataSet.DataSet:n==="DataConfigurationPanel"?ej.DashboardDesignerUtility.DataConfigurationPanel.DataPanel:n==="ImageManager"?ej.DashboardDesignerUtility.ImageManager.ImageSource:n==="DataConfiguration"?ej.DashboardDesignerUtility.DataConfiguration.DataConfigSource:n==="SortDialog"?ej.DashboardDesignerUtility.SortDialog.SortInstance:n==="Filter"?ej.DashboardDesignerUtility.FilterDialog.Filter:n==="GroupDialog"?ej.DashboardDesignerUtility.GroupDialog.GroupInstance:n==="SQLDataSource"?ej.DashboardDesignerUtility.SQLDataSource.SQLDataSource:n==="SqlCeDataSource"?ej.DashboardDesignerUtility.SqlCeDataSource.SqlCeDataSource:n==="XMLDataSource"?ej.DashboardDesignerUtility.XMLDataSource.XMLDataSource:n==="ODBCDataSource"?ej.DashboardDesignerUtility.ODBCDataSource.ODBCDataSource:n==="ORACLEDataSource"?ej.DashboardDesignerUtility.ORACLEDataSource.ORACLEDataSource:n==="OLEDBDataSource"?ej.DashboardDesignerUtility.OLEDBDataSource.OLEDBDataSource:n==="SharedDataSource"?ej.DashboardDesignerUtility.SharedDataSource.SharedDataSource:n==="ODATADataSource"?ej.DashboardDesignerUtility.ODATADataSource.ODATADataSource:n==="PSQLDataSource"?ej.DashboardDesignerUtility.PSQLDataSource.PSQLDataSource:n==="SASSDataSource"?ej.DashboardDesignerUtility.SASSDataSource.SASSDataSource:n==="SharedDataSet"?ej.DashboardDesignerUtility.SharedDataSet.SharedDataSet:n==="CredentialWind"?ej.DashboardDesignerUtility.CredentialDialog.CredentialDialog:n==="ReportServerLogin"?ej.DashboardDesignerUtility.RSLoginWind.RSLoginWind:n==="QueryJoiner"?ej.DashboardDesignerUtility.QueryJoiner.QueryJoiner:n==="StoreParameter"?ej.DashboardDesignerUtility.StoreParameter.StoreParameter:n==="Expression"?ej.DashboardDesignerUtility.Expression.Expression:n==="ExpressionMenu"?ej.DashboardDesignerUtility.ExpressionMenu.ExpMenu:n==="QueryFilter"?ej.DashboardDesignerUtility.QueryFilter.QueryFilter:n==="QueryParameter"?ej.DashboardDesignerUtility.QueryParameter.QueryParameter:n==="SqlEditor"?ej.DashboardDesignerUtility.SqlEditor.Editor:n==="Parameter"?ej.DashboardDesignerUtility.Parameter.Parameter:n==="ReportAction"?ej.DashboardDesignerUtility.ReportAction.ReportAction:n==="LinkReport"?ej.DashboardDesignerUtility.LinkReport.LinkReport:n==="LinkParameter"?ej.DashboardDesignerUtility.LinkParameter.LinkParameter:n==="BrowseDialog"?ej.DashboardDesignerUtility.BrowseDialog.BrowseDialog:n==="QueryDesigner"?$("#"+this.reportDesigner._id+"_queryDesigner").data("ejQueryDesigner"):n==="FormatDialog"?ej.DashboardDesignerUtility.FormatDialog.Format:n==="FormattingText"?ej.DashboardDesignerUtility.FormattingText.FormatText:n==="QueryExpression"?ej.DashboardDesignerUtility.QueryExpression.QueryExpression:n==="FilterConfiguration"?ej.DashboardDesignerUtility.FilterConfiguration.FilterConfiguration:n==="FileDatasource"?ej.DashboardDesignerUtility.FileDatasource.FileDatasource:n==="DimensionFilter"?ej.DashboardDesignerUtility.DimensionFilter.DimensionFilter:n==="MySQLDatasource"?ej.DashboardDesignerUtility.MySQLDataSource.MySQLDataSource:n==="MeasureFilter"?ej.DashboardDesignerUtility.MeasureFilter.MeasureFilter:n==="WebDatasource"?ej.DashboardDesignerUtility.WebDatasource.WebDatasource:n==="ContainerPropertyItem"?ej.DashboardDesignerUtility.ContainerPropertyItem.ContainerPropertyItem:n==="ConditionalFormat"?ej.DashboardDesignerUtility.ConditionalFormat.ConditionalFormat:n==="KPIWindow"?ej.DashboardDesignerUtility.KPIWindow.KPIWindow:n==="CustomLegendSettings"?ej.DashboardDesignerUtility.CustomLegendSettings.CustomLegendSettings:n==="GridTemplate"?ej.DashboardDesignerUtility.GridTemplate.gridTemplate:n==="RefreshDialog"?ej.DashboardDesignerUtility.RefreshDialog.Refresh:null},t.getLocale=function(n){return ej.isNullOrUndefined(ej.DashboardDesigner.Locale[n])?ej.DashboardDesigner.Locale["en-US"]:ej.DashboardDesigner.Locale[n]},t.getAvailableName=function(n){var u=[],t,i,r,f;switch(n){case"e-textboxitem":t="TextBox";i=$("#"+this.reportDesigner._id+"_designCanvas .e-textboxitem");break;case"e-line":t="Line";i=$("#"+this.reportDesigner._id+"_designCanvas .e-line");break;case"e-rectangle":t="Rectangle";i=$("#"+this.reportDesigner._id+"_designCanvas .e-rectangle");break;case"e-image":t="Image";i=$("#"+this.reportDesigner._id+"_designCanvas .e-image");break;case"e-chart-bar":t="Chart";i=$("#"+this.reportDesigner._id+"_designCanvas .e-chart-bar");break;case"e-grid-item":t="Grid";i=$("#"+this.reportDesigner._id+"_designCanvas .e-grid-item");break;case"e-pivotgrid-item":t="PivotGrid";i=$("#"+this.reportDesigner._id+"_designCanvas .e-pivotgrid-item");break;case"e-gauge":t="Gauge";i=$("#"+this.reportDesigner._id+"_designCanvas .e-gauge");break;case"e-subreport":t="SubReport";i=$("#"+this.reportDesigner._id+"_designCanvas .e-subreport");break;case"e-combobox-item":t="ComboBox";i=$("#"+this.reportDesigner._id+"_designCanvas .e-combobox-item");break;case"e-listbox-item":t="ListBox";i=$("#"+this.reportDesigner._id+"_designCanvas .e-listbox-item");break;case"e-bubblemap-item":t="BubbleMap";i=$("#"+this.reportDesigner._id+"_designCanvas .e-bubblemap-item");break;case"e-choroplethmap-item":t="ChoroplethMap";i=$("#"+this.reportDesigner._id+"_designCanvas .e-choroplethmap-item");break;case"e-treemap-item":t="TreeMap";i=$("#"+this.reportDesigner._id+"_designCanvas .e-treemap-item");break;case"e-datepicker-item":t="DatePicker";i=$("#"+this.reportDesigner._id+"_designCanvas .e-datepicker-item");break;case"e-radialgauge-item":t="RadialGauge";i=$("#"+this.reportDesigner._id+"_designCanvas .e-radialgauge-item");break;case"e-card-item":t="Card";i=$("#"+this.reportDesigner._id+"_designCanvas .e-card-item");break;case"e-rangeslider-item":t="RangeSlider";i=$("#"+this.reportDesigner._id+"_designCanvas .e-rangeslider-item")}i.each(function(n,t){u.push($(t).attr("name"))});r=0;do r++,f=u.indexOf(t+r);while(f!==-1);return t+r},t.prototype.initUnhandledExceptionHandler=function(){var n=this;window.onerror=function(t,i,r,u,f){if(i&&i.indexOf("ej.dashboarddesigner")!==-1||f&&f.stack&&f.stack.indexOf("ej.dashboarddesigner")!==-1)return n.designerPanel.logError({Type:f.name,LineNo:r,ColumnNo:u,Error:f}),!1}},t.reportDesigner=null,t.editManager=null,t}(ej.WidgetBase);window.ej.widget("ejDashboardDesigner","ej.DashboardDesigner",new ejDashboardDesigner);ej.DashboardDesigner.ToolbarItems={New:1,Open:2,Save:4,Cut:8,Copy:16,Paste:32,Delete:64,Undo:128,Redo:256,Zoom:512,Preview:1024,GridLine:2048,Header:4096,Footer:8192,EditDesign:16384,All:32767};ej.DashboardDesigner.Locale={},function(n){n[n.ReportItem=0]="ReportItem";n[n.Text=1]="Text"}(CopyType||(CopyType={}));InternalLineReportItem=function(){function n(){this.lineJSON=null;this.propertyPanel=null;this.reportDesigner=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.reportDesigner=this.designPanel.reportDesigner;this.isDataEnabled=!1}return n.prototype.renderLineReportElement=function(n,t){try{this.lineJSON=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size),top:ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size),width:ej.DashboardUtil.getPixelVal(this.lineJSON.Width.size),height:ej.DashboardUtil.getPixelVal(this.lineJSON.Height.size)};this.renderLineElement(u,r);this.openLineStyle(this.lineJSON.Style.Border);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.lineDiv)}catch(i){this.designPanel.logError({Source:this.lineJSON.Name,Error:i,Type:i.name})}},n.prototype.renderLineItem=function(n,t){try{var r=$("#"+t);this.lineJSON=this.getLineJson();n.width=150;n.height=150;this.lineJSON.Name=ejDashboardDesigner.getAvailableName("e-line");this.renderLineElement(n,r);this.lineJSON.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.lineJSON.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.lineJSON.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.lineJSON.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in");this.designPanel.performItemSelection(this.lineDiv);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderLineItem","e-line",this.lineJSON.Name,null,[n,t])}catch(i){this.designPanel.logError({Source:this.lineJSON.Name,Error:i,Type:i.name})}},n.prototype.renderLineElement=function(n,t){var u="http://www.w3.org/2000/svg",i,r;this.lineDiv=ej.buildTag("div.e-line e-reportitem","",{position:"absolute",top:n.top,left:n.left,width:n.width,height:n.height},{id:this.lineJSON.Name,name:this.lineJSON.Name,isDataEnabled:this.isDataEnabled});t.append(this.lineDiv);this.lineDiv.data("Line",this);i=document.createElementNS(u,"svg");ej.DashboardUtil.setAttributes(i,{width:"100%",height:"100%"});$(i).css("position","absolute");r=document.createElementNS(u,"line");ej.DashboardUtil.setAttributes(r,{x1:"0",y1:"0",stroke:"#000000","stroke-width":"1",x2:n.width,y2:n.height});i.appendChild(r);this.lineDiv.append(i)},n.prototype.openLineStyle=function(n){var t={};t.stroke=n&&n.Color?n.Color:"black";t["stroke-dasharray"]=this.getBorderStyle(n&&n.Style?n.Style:"Solid");t["stroke-width"]=ej.DashboardUtil.getPixelVal(n&&n.Width?n.Width.size:"1pt");ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],t)},n.prototype.updateStroke=function(n,t){n.Color=t;ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{stroke:t}):ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{stroke:"black"})},n.prototype.updateStrokeWidth=function(n,t){var i=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t,r;n&&n.Width?n.Width.size=i:n.Width={__type:"Syncfusion.RDL.DOM.Size",size:i};r=ej.DashboardUtil.isExpression(t.toString())?ej.DashboardUtil.getPixelVal(t.toString()):ej.DashboardUtil.getPixelVal("1pt");ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{"stroke-width":r})},n.prototype.updateStrokeStyle=function(n,t){n.Style=t;ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{"stroke-dasharray":this.getBorderStyle(t)}):ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{"stroke-dasharray":"0"})},n.prototype.updateLineVisiblity=function(n){var t=ej.DashboardUtil.isExpression(n)?!n:n;this.lineJSON.Visibility?this.lineJSON.Visibility.Hidden=t:this.lineJSON.Visibility={Hidden:t}},n.prototype.updateLineLeft=function(n){this.lineJSON.Left.size=ej.DashboardUtil.getUnitVal(n,"in");var t=this.checkLineDirection(this.lineDiv.find("line"));this.setLinePosition(n.toString(),ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size).toString(),this.lineDiv.width().toString(),this.lineDiv.height().toString(),t.leftDirection,t.leftDirection)},n.prototype.updateLineTop=function(n){this.lineJSON.Top.size=ej.DashboardUtil.getUnitVal(n,"in");var t=this.checkLineDirection(this.lineDiv.find("line"));this.setLinePosition(ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size).toString(),n.toString(),this.lineDiv.width().toString(),this.lineDiv.height().toString(),t.leftDirection,t.leftDirection)},n.prototype.updateLineWidth=function(n){this.lineJSON.Width.size=ej.DashboardUtil.getUnitVal(n,"in");n=n.toString();var t=this.checkLineDirection(this.lineDiv.find("line"));this.setLinePosition(ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size).toString(),ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size).toString(),n,this.lineDiv.height().toString(),t.leftDirection,t.leftDirection)},n.prototype.updateLineHeight=function(n){this.lineJSON.Height.size=ej.DashboardUtil.getUnitVal(n,"in");n=n.toString();var t=this.checkLineDirection(this.lineDiv.find("line"));this.setLinePosition(ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size).toString(),ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size).toString(),this.lineDiv.width().toString(),n,t.leftDirection,t.leftDirection)},n.prototype.checkLineDirection=function(n){var i=Number(n.attr("x1")),r=Number(n.attr("y1")),u=Number(n.attr("x2")),f=Number(n.attr("y2")),t={leftDirection:!0,topDirection:!0};return i>0&&r>0?(t.leftDirection=!1,t.topDirection=!1):r>0&&u>0?(t.topDirection=!1,t.leftDirection=!0):i>0&&f>0?(t.leftDirection=!1,t.topDirection=!0):u>0&&f>0&&(t.leftDirection=!0,t.topDirection=!0),t},n.prototype.setLinePosition=function(n,t,i,r,u,f){var e=Number(i)===0?"1":i,o=Number(r)===0?"1":r;this.lineDiv.css({left:n+"px",top:t+"px",width:e,height:o});u||f?f?u?u&&f&&ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{x1:0,y1:0,x2:i,y2:r}):ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{x1:i,y1:0,x2:0,y2:r}):ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{x1:0,y1:r,x2:i,y2:0}):ej.DashboardUtil.setAttributes(this.lineDiv.find("line")[0],{x1:i,y1:r,x2:0,y2:0})},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.lineJSON.Name=i;break;case"LineColor":this.lineJSON.Style.Border||(this.lineJSON.Style.Border=this.createBorder());this.updateStroke(this.lineJSON.Style.Border,i);break;case"LineWidth":this.lineJSON.Style.Border||(this.lineJSON.Style.Border=this.createBorder());this.updateStrokeWidth(this.lineJSON.Style.Border,i);break;case"LineStyle":this.lineJSON.Style.Border||(this.lineJSON.Style.Border=this.createBorder());this.updateStrokeStyle(this.lineJSON.Style.Border,i);break;case"Horizontal":this.updateLineHeight(i);break;case"Vertical":this.updateLineWidth(i);break;case"Left":this.updateLineLeft(i);break;case"Top":this.updateLineTop(i);break;case"Hidden":this.updateLineVisiblity(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.lineDiv.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Line",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-line",this.lineJSON.Name,[n,i,t,r],[n,t,i,r])},n.prototype.updatePosition=function(n,t,i){if(this.lineDiv.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size),ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size),!0],u=[n,t,!0];this.lineJSON.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.lineJSON.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.setPropertyElement("Position","Left",n);this.setPropertyElement("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-line",this.lineJSON.Name,r,u)}},n.prototype.updateSize=function(n,t,i,r,u){var h,c;this.lineDiv.css({width:n,height:t});var e=Number(n)<=4?1:Number(n),o=Number(t)<=4?1:Number(t),f=this.lineDiv.find("line"),s=this.lineDiv.find("."+this.designPanel.designId+"_designArea_e-selection");this.lineDiv.css({width:e,height:o});e<=4||o<=4?(e<=4?n="0":t="0",s.css("display","none")):s.css("display","block");r||u?u?r?r&&u&&ej.DashboardUtil.setAttributes(f[0],{x1:0,y1:0,x2:n,y2:t}):ej.DashboardUtil.setAttributes(f[0],{x1:n,y1:0,x2:0,y2:t}):ej.DashboardUtil.setAttributes(f[0],{x1:0,y1:t,x2:n,y2:0}):ej.DashboardUtil.setAttributes(f[0],{x1:n,y1:t,x2:0,y2:0});i&&(h=[ej.DashboardUtil.getPixelVal(this.lineJSON.Width.size),ej.DashboardUtil.getPixelVal(this.lineJSON.Height.size),!0],c=[n,t,!0],this.lineJSON.Width.size=ej.DashboardUtil.getUnitVal(n,"in"),this.lineJSON.Height.size=ej.DashboardUtil.getUnitVal(t,"in"),this.setPropertyElement("Position","Horizontal",n),this.setPropertyElement("Position","Vertical",t),ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-line",this.lineJSON.Name,h,c))},n.prototype.updateItemSize=function(n,t,i,r,u,f,e){var s=Number(i)<=4?1:Number(i),h=Number(r)<=4?1:Number(r),o=this.lineDiv.find("line"),c=this.lineDiv.find("."+this.designPanel.designId+"_designArea_e-selection");if(e?this.lineDiv.css({top:t,height:h}):h<=4&&(Number(o.attr("y1"))>1||Number(o.attr("y2"))>1)?this.lineDiv.css({top:t+4,height:h}):h>=4&&this.lineDiv.css({top:t,height:h}),f?this.lineDiv.css({left:n,width:s}):s<=4&&(Number(o.attr("x1"))>1||Number(o.attr("x2"))>1)?this.lineDiv.css({left:n+4,width:s}):s>=4&&this.lineDiv.css({left:n,width:s}),s<=4||h<=4?(s<=4?i="0":r="0",c.css("display","none")):c.css("display","block"),f||e?e?f?f&&e&&ej.DashboardUtil.setAttributes(o[0],{x1:0,y1:0,x2:i,y2:r}):ej.DashboardUtil.setAttributes(o[0],{x1:i,y1:0,x2:0,y2:r}):ej.DashboardUtil.setAttributes(o[0],{x1:0,y1:r,x2:i,y2:0}):ej.DashboardUtil.setAttributes(o[0],{x1:i,y1:r,x2:0,y2:0}),u){var l=this.reportDesigner.designerPanel.leftDirection,a=this.reportDesigner.designerPanel.topDirection,v=[ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size),ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size),ej.DashboardUtil.getPixelVal(this.lineJSON.Width.size),ej.DashboardUtil.getPixelVal(this.lineJSON.Height.size),!0,l,a],y=[n,t,i,r,!0,f,e];this.lineJSON.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.lineJSON.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.lineJSON.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.lineJSON.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.setPropertyElement("Position","Left",n);this.setPropertyElement("Position","Top",t);this.setPropertyElement("Position","Horizontal",i);this.setPropertyElement("Position","Vertical",r);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-line",this.lineJSON.Name,v,y)}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"Line",i);this.propertyPanel.canUpdate=!0},n.prototype.getBorderStyle=function(n){var t="0";switch(n){case"Solid":t="0";break;case"Dotted":t="1,5";break;case"Dashed":t="5,5"}return t},n.prototype.getPropertyGridItems=function(){return{Header:this.lineJSON.Name,Type:"Line",Items:[{CategoryName:"Basic Settings",Items:[{name:"LineStyle",displayName:"Line",itemType:"border",items:[{name:"LineStyle",displayName:"None",value:this.lineJSON.Style.Border?this.lineJSON.Style.Border.Style:"Solid",itemType:"dropdown",valueList:["Solid","Dashed","Dotted"]},{name:"LineColor",displayName:"None",value:this.lineJSON.Style.Border&&this.lineJSON.Style.Border.Color?this.lineJSON.Style.Border.Color:"Black",itemType:"color"},{name:"LineWidth",displayName:"None",value:this.lineJSON.Style.Border&&this.lineJSON.Style.Border.Width?ej.DashboardUtil.isExpression(this.lineJSON.Style.Border.Width.size)?ej.DashboardUtil.getPixelVal(this.lineJSON.Style.Border.Width.size):this.lineJSON.Style.Border.Width.size:ej.DashboardUtil.getPixelVal("1pt"),minimum:.33,maximum:26.6,unitType:"pt",itemType:"float"}]}]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",itemType:"position",enableExpression:!1,items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.lineJSON.Left.size),maximum:43680,unitType:"in",itemType:"float"},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.lineJSON.Top.size),maximum:43680,unitType:"in",itemType:"float"}]},{name:"Size",displayName:"Size",itemType:"size",enableExpression:!1,items:[{name:"Vertical",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.lineJSON.Width.size),maximum:43680,unitType:"in",itemType:"float"},{name:"Horizontal",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.lineJSON.Height.size),maximum:43680,unitType:"in",itemType:"float"}]}]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.lineJSON.Visibility&&this.lineJSON.Visibility.Hidden?ej.DashboardUtil.isExpression(this.lineJSON.Visibility.Hidden)?!this.lineJSON.Visibility.Hidden:this.lineJSON.Visibility.Hidden:!0,itemType:"bool"}]}]}},n.prototype.createBorder=function(){return{__type:"Syncfusion.RDL.DOM.Border",Color:"Black",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}}},n.prototype.getReportItem=function(){return this.lineDiv},n.prototype.getReportItemJson=function(){return this.lineJSON},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-line");this.renderLineReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderLineReportElement","e-line",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.lineDiv.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderLineReportElement","e-line",this.lineJSON.Name,[this.lineJSON,n.attr("id")],null);$("#"+this.lineJSON.Name).removeData("Line");$("#"+this.lineJSON.Name).remove();this.designPanel.selectedReportItems=[]},n.prototype.getLineJson=function(){return{__type:"Syncfusion.RDL.DOM.Line",Left:{__type:"Syncfusion.RDL.DOM.Size",size:"2.8425in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0.4675in"},Name:"Line1",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"1.04167in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"2.21875in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#000000",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n}();window.ej.createObject("ej.DashboardDesignerUtility.LineItem",InternalLineReportItem,window);InternalLinkParameter=function(){function n(){this.targetInstance=null;this.targetMethod=null;this.parameters=[];this.paramDialog=null;this.footerTag=null;this.errorMsg="Enter a value for this property";this.childParams=[];this.ejScrollerDiv=null;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.expression=ejDashboardDesigner.getInstance("ExpressionMenu");this.id=this.reportDesigner._id;this.renderParameter()}return Object.defineProperty(n,"LinkParameter",{get:function(){return(this.linkParameter===null||this.linkParameter===undefined)&&(this.linkParameter=new ej.DashboardDesignerUtility.LinkParameter),this.linkParameter},enumerable:!0,configurable:!0}),n.prototype.renderParameter=function(){var n=ej.buildTag("div.e-userselect","",{height:"auto"},{title:"Parameters",id:this.id+"_link_param_dialog"}),e=ej.buildTag("div","",{}),o=ej.buildTag("table","",{"border-spacing":"0px"},{unselectable:"on"}),r=ej.buildTag("tr","",{},{}),s=ej.buildTag("td","",{width:"485px"},{}),c=ej.buildTag("Label.e-designer-add-label","Report Parameters",{},{type:"label"}),t=ej.buildTag("div","",{cursor:"pointer"},{id:this.id+"_link_param_addIcon"}),h=ej.buildTag("td","",{}),l=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_add_link_param_span"}),u,f;t.bind("click",$.proxy(this.renderNewParameterField,this));var a=ej.buildTag("span.e-btntxt e-designer-add-btn","ADD",{}),i=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{height:"304px",width:"525px",padding:"5px 3px","margin-top":"4px","margin-bottom":"2px"},{id:this.id+"_link_param_container"}),v=ej.buildTag("div.e-items","",{},{id:this.id+"_link_param_container_div"});i.append(v);u=ej.buildTag("button","Cancel",{float:"right"},{id:this.id+"_link_param_cancel"});f=ej.buildTag("button","Ok",{float:"right"},{id:this.id+"_link_param_ok"});n.append(e);e.append(o);o.append(r);r.append(s);s.append(c);r.append(h);h.append(t);t.append(l);t.append(a);n.append(i);$(document.body).append(n);n.ejDialog({minWidth:550,minHeight:361,width:"auto",height:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});this.footerTag=$("#"+this.id+"_link_param_dialog_foot");this.footerTag.append(u).append(f);f.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",click:$.proxy(this.updateParameterInfo,this),enabled:!1});u.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",click:$.proxy(this.closeDialog,this,!0)});i.ejScroller({height:"292px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejScrollerDiv=i.data("ejScroller");this.paramDialog=n},n.prototype.updateAvailableParameters=function(n){for(var r,u,e,t=0;t<n.length;t++){var i=this.renderNewParameterField(n[t]),f=$("#"+i+"_link_param_value").data("ejAutocomplete"),o=$("#"+i+"_link_param_name").data("ejAutocomplete");o.setModel({value:n[t].Name});r=!0;u=ej.DashboardUtil.getExpression(n[t].Value);u.isExp&&n[t].Value.length!==0?n[t].Value.startsWith("=")&&u.isExp?($("#"+i+"_link_param_value").attr("e-exp",n[t].Value),e=this.isFieldAvailable(u.exp),$("#"+i+"_link_param_value").val(e?u.exp:""),r=!1):($("#"+i+"_link_param_value").val(n[t].Value),r=!0):(f.setModel({value:n[t].Value}),r=!0);f.setModel({enabled:r});$("#"+i+"_link_param_Expression").css("background-color",r?"white":"black")}},n.prototype.renderNewParameterField=function(n){$("#"+this.id+"_link_param_ok").data("ejButton").enable();var p=$("#"+this.id+"_link_param_container_div"),t=ej.getGuid(this.id+"_row_"),r=ej.buildTag("div.e-reportdesigner-link-parameter-row e-drag-row","",{padding:"4px 8px"},{id:t,rowId:t});p.append(r);var u=ej.buildTag("table.e-designer-table-dialog","",{width:"100%",height:"36px"},{unselectable:"on",id:t+"_link_parameter_table"}),i=ej.buildTag("tr","",{},{id:t+"_link_rowTag"}),f=ej.buildTag("td","",{width:"5px"}),e=ej.buildTag("div.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-designer-double-drag","",{display:"block"},{id:t+"_link_iconspan"}),o=ej.buildTag("td","",{width:"180px"},{}),s=ej.buildTag("input","",{"font-size":"12px"},{id:t+"_link_param_name"}),h=ej.buildTag("td","",{width:"180px","padding-left":"10px"},{}),c=ej.buildTag("input","",{"font-size":"12px"},{id:t+"_link_param_value"}),l=ej.buildTag("td","",{width:"20px","padding-left":"10px"});this.expression.renderExpressionElement(l,{id:t+"_link_param",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Link Parameter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[t+"_link_param_value",t]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[t+"_link_param_value",t]},parentElement:$("#"+this.id+"_link_param_dialog")}});var a=ej.buildTag("td","",{"padding-right":"5px"},{id:t+"_col_error_icon"}),v=ej.buildTag("td","",{"padding-right":"5px",width:"10px","padding-top":"5px"}),y=ej.buildTag("span.e-chk-image e-icon e-cross-circle e-designer-delete-icon","",{cursor:"pointer"},{id:t+"_delete_icon"});return r.append(u),u.append(i),i.append(f),f.append(e),i.append(o),o.append(s),i.append(h),h.append(c),i.append(l).append(a).append(v),ej.DashboardUtil.renderErrIndictor(a,this.id,this.errorMsg),v.append(y),y.bind("click",$.proxy(this.deleteParameter,this,r,t)),s.ejAutocomplete({showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",width:"180px",height:"26px",dataSource:this.childParams,fields:{text:"Name",key:"Name"},enabled:!0,showPopupButton:!0,showEmptyResultText:!1,allowSorting:!1,filterType:"equal",enableDistinct:!0,watermarkText:"Parameter Name"}),c.ejAutocomplete({showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",dataSource:ej.isNullOrUndefined(n.Value)?this.getDataSetFields():this.getDataSetFields(n),fields:{text:"text",key:"text"},enabled:!0,width:"180px",height:"26px",showPopupButton:!0,showEmptyResultText:!1,sortOrder:ej.SortOrder.Ascending,filterType:"equal",watermarkText:"Value"}),ejDashboardDesigner.getInstance("DragOnDrop").initializeSortable(e,r,this.id+"_link_param_dialog",this.id+"_link_param_container"),this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh(),t},n.prototype.deleteParameter=function(n){$("#"+this.id+"_link_param_container_div").find(".e-reportdesigner-link-parameter-row").length>0&&n.remove();this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh()},n.prototype.openExpressionEditor=function(n){var t=$("#"+n+"_link_param_value"),i=t.val()==="<<Expression>>"?t.data("expression"):t.val(),r=ejDashboardDesigner.getInstance("Expression");r.openEditor(i,this,"updateExpression",n,"Value")},n.prototype.getDataSetFields=function(n){var r=ejDashboardDesigner.getInstance("DataSet").datasets,i=[],o="",f,u,e,t;if(!ej.isNullOrUndefined(r)&&r.length>0)for(t=0;t<r.length;t++)for(f=r[t].Fields,u=0;u<f.length;u++)o="=First(Fields!"+f[u].Name+'.Value, "'+r[t].Name+'")',i.push({key:f[u].Name,text:o});if(!ej.isNullOrUndefined(n)&&!ej.isNullOrUndefined(n.Value)&&n.Value.length>0){for(e=!0,t=0;t<i.length;t++)(n.Value===i[t].text||n.Name===i[t].key)&&(e=!1);e&&!n.Value.startsWith("=")&&i.push({key:n.Name,text:n.Value})}return i},n.prototype.isFieldAvailable=function(n){for(var i=this.getDataSetFields(),t=0;t<i.length;t++)if(n.length>0&&n===i[t].text)return!0},n.prototype.openParameter=function(n,t,i,r){this.resetParameterDialog();this.targetInstance=t;this.targetMethod=i;this.parameters=n;this.paramDialog.data("ejDialog").open();this.parameters.length>0&&this.updateAvailableParameters(this.parameters);r&&this.loadParameters(r.value)},n.prototype.closeDialog=function(){this.paramDialog.data("ejDialog").close()},n.prototype.resetParameterDialog=function(){this.childParams=[];this.targetInstance=null;this.targetMethod=null;$("#"+this.id+"_link_param_container_div").empty();this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh()},n.prototype.destroy=function(){ej.DashboardUtil.destroyEjObjects(this.paramDialog);this.paramDialog.length>0&&$("#"+this.id+"_link_param_dialog").remove()},n.prototype.updateParameterInfo=function(){var n=this,t=[],r=$("#"+this.id+"_link_param_container_div .e-reportdesigner-link-parameter-row"),i=!1;r.each(function(r,u){var f=$(u).attr("id"),o=$("#"+f+"_link_param_name").val(),h=$("#"+f+"_link_param_value"),s=h.attr("e-exp"),c=!ej.isNullOrUndefined(s)&&s.length>0?s:h.val(),e;o&&o.length>0?(n.updateBorder(f,!1),ej.DashboardUtil.showErrIndictor($("#"+f+"_col_error_icon"),!1),e=n.createParameter(),e.Name=o,e.Value=c,t.push(e)):(n.updateBorder(f,!0),ej.DashboardUtil.showErrIndictor($("#"+f+"_col_error_icon"),!0),i=!0)});this.targetInstance===null||i||(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[t]),this.closeDialog())},n.prototype.setExpressionValue=function(n){var t=$("#"+n.arguments[0]),i=n.expression[0],u=ej.DashboardUtil.getExpression(i),r=!0;!ej.isNullOrUndefined(u)&&u.isExp&&i&&i.startsWith("=")?(t.attr("e-exp",i),t.val(""),r=!1):(t.attr("e-exp",""),r=!0,t.removeClass("e-designer-txtmark"),t.val(u.exp));$("#"+n.arguments[1]+"_link_param_Expression").css("background-color",r?"white":"black");t.data("ejAutocomplete").setModel({enabled:r})},n.prototype.getExpressionValue=function(n){var t=$("#"+n).attr("e-exp");return t||(t=$("#"+n).val(),t=!ej.isNullOrUndefined(t)&&t.length>0?t:""),t},n.prototype.updateBorder=function(n,t){var i=$("#"+n+"_link_param_name_wrapper > span");t?i.addClass("e-designer-error"):i.removeClass("e-designer-error")},n.prototype.loadParameters=function(n){ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.reportParameters,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.reportParameters,reportInfo:{reportPath:n}})},{fnction:$.proxy(this.populateParameters,this)})},n.prototype.populateParameters=function(n){var t,i;if((!n||typeof n!="string"||n.indexOf("Sf_Exception")===-1)&&n&&Array.isArray(n)&&(this.childParams=n,t=$("#"+this.id+"_link_param_container_div").find(".e-reportdesigner-link-parameter-row"),t&&t.length>0))for(i=0;i<t.length;i++){var u=$(t[i]).attr("id"),r=$("#"+u+"_link_param_name").data("ejAutocomplete"),f=r.getValue();r.setModel({dataSource:this.childParams});r.setModel({value:f})}},n.prototype.createParameter=function(){return{__type:"Syncfusion.RDL.DOM.Parameter",Count:0,IsMultiValue:"false",Label:null,Name:"",Omit:null,Value:""}},n}();window.ej.createObject("ej.DashboardDesignerUtility.LinkParameter",InternalLinkParameter,window);InternalLinkReport=function(){function n(){this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"LinkReport",{get:function(){return(this.linkReport===null||this.linkReport===undefined)&&(this.linkReport=new ej.DashboardDesignerUtility.LinkReport),this.linkReport},enumerable:!0,configurable:!0}),n.prototype.renderReport=function(n,t,i,r){var u,f="",e=$("#"+this.id+"_propertyPanelContainer").width();if(r?(this.reportItem=r,this.reportPath=null,u=t,f=r.value):(this.reportItem=null,this.reportPath=i,u=this.id+"_"+t+"_"+i.category,f=i.value),$("#"+u).length===0&&n){var h=ej.buildTag("div","",{width:e-10,display:!ej.isNullOrUndefined(r)&&!ej.isNullOrUndefined(r.isVisible)?r.isVisible?"block":"none":"block"},{id:u}),c=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{unselectable:"on"}),l=ej.buildTag("tr","",{height:"28px"},{}),a=ej.buildTag("td","",{width:(e-47)*37.21/100+"px"},{}),v=ej.buildTag("td","",{width:(e-33)*62.8/100-110+"px"},{}),y=ej.buildTag("td","",{},{}),w=ej.buildTag("div.e-designer-fontfamily","Report",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"5px","white-space":"nowrap","text-overflow":"ellipsis"}),o=ej.buildTag("input.e-textbox","",{height:"28px","margin-left":"2px",width:(e-33)*62.8/100-70+"px"},{id:u+"_link_report_txt",type:"text",value:f}),s=ej.buildTag("div","",{},{id:u+"_link_report_btn"}),b=ej.buildTag("span.e-reportdesigner-horizontal-browse e-reportdesigner-browse-icon","",{"font-size":"16px","margin-top":"6px"}),p=ej.buildTag("td","",{width:"20px"},{});this.expression.renderExpressionElement(p,{id:u+"_link_report_exp",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"LinkReport",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[u]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[u]},parentElement:n}});s.append(b);a.append(w);v.append(o);y.append(s);c.append(l);l.append(a).append(v).append(y).append(p);h.append(c);n.append(h);o.bind("blur",$.proxy(this.reportFocusOut,this,u));o.bind("keyup",$.proxy(this.reportKeyUp,this,u));s.ejButton({width:"25px",height:"26px",showRoundedCorner:!0,click:$.proxy(this.clickBrowse,this,u)})}else $("#"+u).css("display",!ej.isNullOrUndefined(r)&&!ej.isNullOrUndefined(r.isVisible)?r.isVisible?"block":"none":"block"),this.populateLinkReport(f,u)},n.prototype.renderParameter=function(n,t,i,r){var u,f=$("#"+this.id+"_propertyPanelContainer").width();if(r?(this.parameterItem=r,this.parameter=null,u=t):(this.parameterItem=null,this.parameter=i,u=this.id+"_"+t+"_"+i.category),$("#"+u).length===0){var e=ej.buildTag("div","",{width:f-10,display:!ej.isNullOrUndefined(r)&&!ej.isNullOrUndefined(r.isVisible)?r.isVisible?"block":"none":"block"},{id:u}),o=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{unselectable:"on"}),s=ej.buildTag("tr","",{height:"28px"},{}),l=ej.buildTag("td","",{width:(f-47)*37.21/100+"px"},{}),h=ej.buildTag("td","",{},{}),c=ej.buildTag("button","Set Parameters...",{"font-size":"13px","margin-left":"2px"},{id:u+"_link_report_param"});h.append(c);o.append(s);s.append(l).append(h);e.append(o);n.append(e);c.ejButton({width:"120px",height:"28px",showRoundedCorner:!0,click:$.proxy(this.clickParameter,this,u),cssClass:"e-designer-setparam-btn"})}},n.prototype.clickParameter=function(){var n=ejDashboardDesigner.getInstance("LinkParameter");n.openParameter(this.parameterItem?this.parameterItem.value:this.parameter.value,this,"setParameter",ej.isNullOrUndefined(this.reportItem)?this.reportPath:this.reportItem)},n.prototype.setParameter=function(n){this.parameter&&!ej.DashboardUtil.isEqualObj(this.parameter.value,n)?(this.propertyPanel.updatePropertyChange(this.parameter.category,this.parameter.value,n,this.parameter,this.parameter.categoryName),this.parameter.value=n):this.parameterItem&&!ej.DashboardUtil.isEqualObj(this.parameterItem.value,n)&&(ej.DashboardUtil.invokeMethod(this.parameterItem.instance,this.parameterItem.method,[n]),this.parameterItem.value=n)},n.prototype.setExpressionValue=function(n){var t=ej.isNullOrUndefined(n.expression[0])?"":n.expression[0],i=ej.DashboardUtil.isExpression(t),r=$("#"+n.arguments[0]+"_link_report_txt");r.attr("link-exp","");r.val(t);this.reportFocusOut(n.arguments[0],"");$("#"+n.arguments[0]+"_link_report_exp_Expression").css("background-color",i?"white":"black");r.val(i?t:"");r.attr("link-exp",i?"":t);this.enableFields(i,n.arguments[0])},n.prototype.populateLinkReport=function(n,t){var r=n,i=ej.DashboardUtil.isExpression(r);$("#"+t+"_link_report_txt").val(i?r:"");$("#"+t+"_link_report_txt").attr("link-exp",i?"":r);$("#"+t+"_link_report_exp_Expression").css("background-color",i?"white":"black");this.enableFields(i,t)},n.prototype.enableFields=function(n,t){n?($("#"+t+"_link_report_txt").removeAttr("disabled").css("opacity","1"),$("#"+t+"_link_report_btn").data("ejButton").enable()):($("#"+t+"_link_report_txt").attr("disabled","true").css("opacity",".3"),$("#"+t+"_link_report_btn").data("ejButton").disable())},n.prototype.getExpressionValue=function(n){var t=$("#"+n+"_link_report_txt");return t.attr("link-exp")},n.prototype.clickBrowse=function(n){var t=ejDashboardDesigner.getInstance("BrowseDialog");t.openBrowseDialog(this,"importReport",BrowseType.Open,n)},n.prototype.importReport=function(n,t,i){var r=t+"/"+n.Name;$("#"+i+"_link_report_txt").val(r);this.updateReport(r)},n.prototype.reportFocusOut=function(n){this.updateReport($("#"+n+"_link_report_txt").val())},n.prototype.reportKeyUp=function(n,t){t.keyCode===13&&this.updateReport($("#"+n+"_link_report_txt").val())},n.prototype.updateReport=function(n){this.reportPath&&n!==this.reportPath.value?(this.propertyPanel.updatePropertyChange(this.reportPath.category,this.reportPath.value,n,this.reportPath,this.reportPath.categoryName),this.reportPath.value=n):this.reportItem&&n!==this.reportItem.value&&(ej.DashboardUtil.invokeMethod(this.reportItem.instance,this.reportItem.method,[n]),this.reportItem.value=n)},n}();window.ej.createObject("ej.DashboardDesignerUtility.LinkReport",InternalLinkReport,window);InternalListBoxReportItem=function(){function n(){this.propertyPanel=null;this.listBoxElement=null;this.listBoxItem=null;this.controlContainer=null;this.contentContainer=null;this.listBoxJson=null;this.enableMultiSelect=!1;this.actAsMasterWidget=!0;this.ignoreFilterActions=!0;this.showBorder=!0;this.enableComment=!0;this.dataSource=null;this.fields=null;this.showCheckbox=!1;this.cellInfo=null;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.controlHeader=null;this.reportName=null;this.controlType=null;this.dataGroupInfo=null;this.dataConfiguration=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.listBox;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.listBox;this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"ListBox",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){var n={Header:this.listBoxJson.ContainerSettings.Title,Type:"ListBox",Items:[{CategoryName:"Basic Settings",Items:[{name:"EnableMultiSelect",displayName:"Enable Multi-select",value:this.listBoxJson.EnableMultiSelection,itemType:"bool",enableExpression:!1}]}]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.listBoxJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.renderListBoxItem=function(n,t,i){try{var u=i.attr("id");this.listBoxJson=this.getListBoxJson();this.listBoxJson.UniqueName=this.listBoxJson.ContainerSettings.Title=this.reportName;this.renderListBoxElement(n,i);this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderListBoxItem","e-listbox-item",this.listBoxJson.UniqueName,null,[n,u])}catch(r){this.designPanel.logError({Source:this.listBoxJson.UniqueName,Error:r,Type:r.name})}},n.prototype.getListBoxJson=function(){return new ListBoxProperties},n.prototype.renderListBoxElement=function(){this.listBoxItem=ej.buildTag("div.e-listboxitem e-dbrd-widget e-dbrd-control","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"listboxitem"+this.listBoxJson.UniqueName});this.listBoxElement=ej.buildTag("ul","",{margin:"0px",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"listboxelement"+this.listBoxJson.UniqueName});this.contentContainer.append(this.listBoxItem);this.controlContainer.data("ListBox",this);this.listBoxItem.append(this.listBoxElement);this.dataSource=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}];this.fields={id:"itemId",text:"itemName"};this.listBoxElement.ejListBox({dataSource:this.dataSource,fields:this.fields,showCheckbox:this.listBoxJson.EnableMultiSelection,width:this.listBoxItem.width().toString(),height:this.listBoxItem.height().toString()})},n.prototype.getTitlePositionJson=function(n){var t="Center";switch(n){case"TopLeft":t="Left";break;case"TopCenter":t="Center";break;case"TopRight":t="Right";break;default:t="Center"}return t},n.prototype.getPixelValue=function(n){return ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getPixelVal(n):n},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.listBoxJson.ContainerSettings.Title=i;break;case"EnableMultiSelect":this.updateEnableMultiSelect(i)}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.listBoxItem.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Line",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-listbox",this.listBoxJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateEnableMultiSelect=function(n){this.listBoxJson.EnableMultiSelection=n;var t=this.listBoxElement.data("ejListBox");t&&t.option("showCheckbox",n)},n.prototype.updateSize=function(n,t,i){if(this.controlContainer.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),this.listBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo),i){var r=this.listBoxElement.data("ejListBox");r&&(r.option("width","100%"),r.option("height","100%"))}},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r,u){var e,f;this.controlContainer.css({left:n,top:t,width:i,height:r});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.listBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);u&&(e=this.listBoxJson.ContainerSettings.Bounds,ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-listbox-item",this.listBoxJson.UniqueName,[e],[ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)]));f=this.listBoxElement.data("ejListBox");f.option("width","100%");f.option("height","100%")},n.prototype.updatePosition=function(n,t,i){this.controlContainer.css({left:n,top:t});this.listBoxJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);i},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Column",CategoryType:CategoryType.Non_Numeric}),n},n.prototype.updateData=function(n){var t=this.listBoxElement.data("ejListBox"),i,r;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.listBoxJson,this.dataGroupInfo);i=null;ej.isNullOrUndefined(n)||n.data==="[]"?(i=[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}],t.model.fields.id="itemId",t.model.fields.text="itemName"):(i=JSON.parse(n.data),r=this.getColumns(i),t.model.fields.id=r[0].id,t.model.fields.text=r[0].text);t.option("dataSource",i)},n.prototype.getColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.dispose=function(){var n=this.listBoxItem.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderListBoxElement","e-listbox-item",this.listBoxJson.UniqueName,[this.listBoxJson,n.attr("id")],null);$("#"+this.listBoxJson.UniqueName).removeData("ListBox");$("#"+this.listBoxJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.listBoxJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.ListBoxItem",InternalListBoxReportItem,window);ej.DashboardDesigner.Locale["en-US"]={itemPanel:{waterMarkText:"Search Widgets",noDataFound:"No matches found...",groupItems:{Comparison:{groupName:"Comparison",Items:{Column:"Column",Bar:"Bar","Stacked Column":"Stacked Column","Stacked Bar":"Stacked Bar","100% Stacked Column":"100% Stacked Column","100% Stacked Bar":"100% Stacked Bar"}},Proportion:{groupName:"Proportion",Items:{Pie:"Pie",Doughnut:"Doughnut",Pyramid:"Pyramid",Funnel:"Funnel"}},Distribution:{groupName:"Distribution",Items:{Area:"Area","Stacked Area":"Stacked Area","100% Stacked Area":"100% Stacked Area",Line:"Line",Spline:"Spline",Range:"Range","Range Column":"Range Column","Stock Range":"Stock Range",Candlestick:"Candlestick","Error Bar":"Error Bar",Scatter:"Scatter"}},Relationship:{groupName:"Relationship",Items:{Grid:"Grid",PivotGrid:"PivotGrid",Bubble:"Bubble",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",TreeMap:"TreeMap"}},Deviation:{groupName:"Deviation",Items:{Card:"Card",RadialGauge:"RadialGauge"}},GaugeItem:{groupName:"Gauge Items",Items:{Radial:"Radial","Half Circle":"Half Circle",Horizontal:"Horizontal",Vertical:"Vertical",Thermometer:"Thermometer","Bullet Graph":"Bullet Graph"}},Filters:{groupName:"Filters",Items:{ComboBox:"ComboBox",ListBox:"ListBox",DatePicker:"DatePicker",RangeSlider:"RangeSlider"}}}},menuBar:{previewText:"Preview",newMenu:"New",openMenu:"Open",saveMenu:"Save",createReport:"Create Report",openReport:"Open Report",createButtonText:"Create",designButtonText:"Close Preview"},propertyPanel:{headerText:"Properties"},dataSource:{headerText:"Datasource",newDataSourceText:"NEW DATASOURCE",dataSourceTypeText:"Datasource Type",backButtonText:"Back",sqlButtonText:"SQL",connectButtonText:"Connect",advanceOptionText:"Advance Options",basicOption:"Basic Options",setConnectionText:"Set Connection",dataSourceNameText:"Datasource name",dataSourceText:"DataSource",serverNameText:"Server name",authenticationTypeText:"Authentication type",windowsText:"Windows",sqlServerText:"SQL Server",authentication:"Authentication",promptText:"Prompt",noneText:"None",dataBaseText:"Database",useCurrentWindowsUser:"Use current windows user",useThisUserNameAndPassword:"Use this Username and password",userName:"Username",passWord:"Password",savePassWord:"Save Password",useAsWindowCredential:"Use as Window Credential",impersonateAuthenticatedUserAfterConnecting:"Impersonate the authenticated user after connecting",promptForCredentials:"Prompt for credentials",enterPromptText:"Enter prompt text",doNotUseCredentials:"Do not use credentials",editContextMenu:"Edit",deleteContextMenu:"Delete",specifyServerName:"Specify the server name",specifyDatabaseName:"Specify the database name",specifyDataSourceName:"Specify the DataSource name",nameAlreadyExistonDataSource:"The specified name already exists in DataSource list"},dataSet:{headerText:"Dataset",newDataSetButtonText:"New Dataset",selectDataSourceText:"Select Datasource",backButtonText:"Back",createNewDataSource:"Create a New DataSource",dataSetName:"DataSet ",searchItemsText:"Search Items",previewText:"Preview",joinEditor:"Join Editor",renameContextMenu:"Rename",aggregationContextMenu:"Aggregation",groupBySubContextMenu:"GroupBy",sumSubContextMenu:"Sum",avgSubContextMenu:"Avg",minSubContextMenu:"Min",maxSubContextMenu:"Max",countSubContextMenu:"Count",stDevSubContextMenu:"StDev",stDevpSubContextMenu:"StDevP",varSubContextMenu:"Var",varPSubContextMenu:"VarP",sumDistinctSubContextMenu:"SumDistinct",avgDistinctSubContextMenu:"AvgDistinct",minDistinctSubContextMenu:"MinDistinct",maxDistinctSubContextMenu:"MaxDistinct",countDistinctSubContextMenu:"CountDistinct",leftTableHeader:"Left Table",tableFieldHeader:"Table Field",relationshipHeader:"Relationship",operatorHeader:"Operator",rightTableHeader:"Right Table",noRecordsToDisplay:"No records to display",pagesText:"pages",itemsText:"items"},imageManager:{headerText:"Image Manager",addImageButtonText:"Add Image",browseImage:"Browse Image"},controlType:{chart:"Chart",grid:"Grid",comboBox:"comboBox",listBox:"listBox",rangeSlider:"RangeSlider",datePicker:"DatePicker",radialgauge:"RadialGauge",bubbleMap:"BubbleMap",choroplethMap:"ChoroplethMap",treeMap:"TreeMap",card:"Card"},errorMessage:{previewServiceUrlNotSet:"Dashboard viewer settings is not configured",previewServiceUrlNotSetDesc:"Dashboard Viewer Service URL is not set. Hence preview cannot be initiated",widgetNotConfigured:"Please configure the data and widgets to preview the dashboard"}};InternalMeasureFilter=function(){function n(){this.filterDialog=null;this.columnNameTag=null;this.measureFilterInfo=null;this.rightTextBoxDiv=null;this.measureItemTable=null;this.textDiv=null;this.targetMethod=null;this.targetInstance=null;this.applyButton=null;this.resetButton=null;this.columnName=null;this.measureItemDropObj=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.renderMeasureFilterDialog()}return Object.defineProperty(n,"MeasureFilter",{get:function(){return(this.measureFilter===null||this.measureFilter===undefined)&&(this.measureFilter=new ej.DashboardDesignerUtility.MeasureFilter),this.measureFilter},enumerable:!0,configurable:!0}),n.prototype.renderMeasureFilterDialog=function(){var t=this.filterDialog=ej.buildTag("div.e-userselect","",{},{id:this.id+"_measure_filter"}),e=ej.buildTag("div","",{}),o=ej.buildTag("table.e-designer-exp-table","",{width:"100%",padding:"5px 0px 10px"},{}),s=$("<tr><\/tr>"),h=ej.buildTag("td","",{width:"50px"},{}),it=ej.buildTag("editLabel.e-designer-fontfamily","Column:",{"font-size":"12px","font-weight":"600"},{type:"label"}),c=ej.buildTag("td","",{},{}),rt=this.columnNameTag=ej.buildTag("span.e-designer-fontfamily","",{"font-size":"12px"},{id:this.id+"_measure_filter_columnName"}),i,l,u,n,tt;c.append(rt);h.append(it);s.append(h).append(c);o.append(s);i=ej.buildTag("div","",{width:"75px","padding-left":"4px"});l=ej.buildTag("editLabel.e-designer-fontfamily","Ranges",{"font-size":"12px"},{type:"label"});i.append(l);var a=this.measureItemTable=ej.buildTag("table.e-designer-exp-table","",{width:"100%",padding:"5px 0px 15px"},{}),v=$("<tr><\/tr>"),y=ej.buildTag("td","",{},{}),r=ej.buildTag("input","",{},{type:"text",id:this.id+"_measure_filter_rangedrop"});y.append(r);u=ej.buildTag("td","",{"padding-left":"8px"},{});n=ej.buildTag("input","",{},{type:"text",id:this.id+"_measure_filter_text1"});u.append(n);var p=ej.buildTag("td","",{width:"30px"},{}),w=this.textDiv=ej.buildTag("div","",{padding:"0px 5px",display:"none"}),ut=ej.buildTag("editLabel.e-designer-fontfamily","and",{"font-size":"12px"},{type:"label"}),b=ej.buildTag("td","",{width:"90px",height:"28px"},{}),k=this.rightTextBoxDiv=ej.buildTag("div","",{display:"none"}),f=ej.buildTag("input.e-textbox","",{},{type:"text",id:this.id+"_measure_filter_text2"});b.append(k);k.append(f);w.append(ut);p.append(w);var d=ej.buildTag("button.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_measure_filter_cancel"}),g=this.applyButton=ej.buildTag("button.e-designer-okbtn","",{float:"right"},{id:this.id+"_measure_filter_ok"}),nt=this.resetButton=ej.buildTag("button","",{"margin-left":"2px"},{id:this.id+"_measure_filter_reset"});v.append(y).append(u).append(p).append(b);a.append(v);e.append(o).append(i).append(a);t.append(e);$(document.body).append(t);t.ejDialog({title:"Measure Filter",width:"auto",height:"auto",minWidth:240,minHeight:150,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});tt=$("#"+this.id+"_measure_filter_foot");tt.append(nt).append(d).append(g);nt.ejButton({text:"Reset",showRoundedCorner:!0,size:"mini",click:$.proxy(this.resetMeasureFilterValues,this)});g.ejButton({text:"Apply",showRoundedCorner:!0,cssClass:"e-designer-okbtn",size:"mini",click:$.proxy(this.applyFilterValues,this)});d.ejButton({text:"Cancel",showRoundedCorner:!0,cssClass:"e-designer-cancelbtn",size:"mini",click:$.proxy(this.closeMeasureFilter,this)});r.ejDropDownList({width:"160px",height:"28px",dataSource:this.measureItemList(),fields:{text:"text",value:"value"},enabled:!0,showRoundedCorner:!0,popupWidth:"170px",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets",change:$.proxy(this.changeMeasureItem,this)});n.ejNumericTextbox({showSpinButton:!1,decimalPlaces:2,value:0,width:"90px",height:"28px",showRoundedCorner:!0,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.changeTextBoxValue,this,n)});f.ejNumericTextbox({showSpinButton:!1,decimalPlaces:2,value:0,width:"90px",height:"28px",showRoundedCorner:!0,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.changeTextBoxValue,this,f)});this.measureItemDropObj=r.data("ejDropDownList");this.disableFilterButton(this.applyButton,!0)},n.prototype.changeTextBoxValue=function(n,t){this.applyButton.attr("disabled")==="disabled"&&this.disableFilterButton(this.applyButton,!1);ej.isNullOrUndefined(t.value)&&n.data("ejNumericTextbox").setModel({value:0})},n.prototype.changeMeasureItem=function(n){var t=n.value;this.applyButton.attr("disabled")==="disabled"&&this.disableFilterButton(this.applyButton,!1);t==="Between"||t==="Not Between"?this.enableTextElement(!0):this.enableTextElement(!1)},n.prototype.enableTextElement=function(n){n?(this.textDiv.css("display","block"),this.rightTextBoxDiv.css("display","block")):(this.textDiv.css("display","none"),this.rightTextBoxDiv.css("display","none"))},n.prototype.disableFilterButton=function(n,t){t?n.css("opacity","0.5").attr("disabled","disabled"):n.css("opacity","1").removeAttr("disabled")},n.prototype.populateFilterInfo=function(n){var i=n.Conditions,r=n.Values,f=r.length,e=i==="Between"||i==="Not Between",t,u;for(this.enableTextElement(e),t=0;t<f;t++)u=this.measureItemTable.find("#"+this.id+"_measure_filter_text"+(t+1)),u.data("ejNumericTextbox").setModel({value:r[t]})},n.prototype.updateFilterInfo=function(n){var t,i;this.columnNameTag.text(this.columnName);t=n.Conditions;this.measureItemDropObj.selectItemByValue(t);this.populateFilterInfo(n);i=n.Values[0];t.toLowerCase()==="equals"&&i===0?this.disableFilterButton(this.resetButton,!0):this.disableFilterButton(this.resetButton,!1);this.disableFilterButton(this.applyButton,!0)},n.prototype.resetMeasureFilterValues=function(){this.measureItemDropObj.selectItemsByIndices(0);this.enableTextElement(!1);var n=this.measureItemTable.find("#"+this.id+"_measure_filter_text1");n.data("ejNumericTextbox").setModel({value:0});this.disableFilterButton(this.resetButton,!0)},n.prototype.getFilterValue=function(){var r=[],i=this.measureItemDropObj.getSelectedValue(),n=this.createMeasureFilter(),u,t;for(n.Conditions=i,u=i==="Between"||i==="Not Between"?2:1,t=0;t<u;t++){var e=this.measureItemTable.find("#"+this.id+"_measure_filter_text"+(t+1)),f=e.data("ejNumericTextbox").getValue(),o=ej.isNullOrUndefined(f)?0:f;r.push(o)}return n.Values=r,n.ColumnName=this.columnName,n},n.prototype.applyFilterValues=function(){var n=this.getFilterValue();ej.isNullOrUndefined(this.targetInstance)||(ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[n]),this.closeMeasureFilter())},n.prototype.openMeasureFilter=function(n,t,i,r){this.resetMeasureFilter();this.targetInstance=n;this.targetMethod=t;this.measureFilterInfo=r;this.columnName=i;this.filterDialog.data("ejDialog").open();!ej.isNullOrUndefined(r)&&r.Values.length>0?this.updateFilterInfo(r):this.resetMeasureFilterValues()},n.prototype.resetMeasureFilter=function(){this.columnNameTag.text("");this.measureFilterInfo=null;this.columnName=null},n.prototype.closeMeasureFilter=function(){this.filterDialog.data("ejDialog").close()},n.prototype.createMeasureFilter=function(){return{Conditions:"Equals",Values:[]}},n.prototype.measureItemList=function(){return[{text:"Equals",value:"Equals"},{text:"Does Not Equal",value:"Does Not Equal"},{text:"Less Than",value:"Less Than"},{text:"Greater Than",value:"Greater Than"},{text:"Less Than or Equal To",value:"Less Than or Equal To"},{text:"Greater Than Or Equal To",value:"Greater Than Or Equal To"},{text:"Between",value:"Between"},{text:"Not Between",value:"Not Between"}]},n}();window.ej.createObject("ej.DashboardDesignerUtility.MeasureFilter",InternalMeasureFilter,window);InternalMySQLDataSource=function(){function n(){this.lastServerName="";this.datasource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"MySQLDataSource",{get:function(){return(this.mysqlDataSource===null||this.mysqlDataSource===undefined)&&(this.mysqlDataSource=new ej.DashboardDesignerUtility.MySQLDataSource),this.mysqlDataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_mysql_datasource").length>0?this.resetConfiguration():(this.mysqlConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_mysql_datasource"}),n.append(this.mysqlConfig),this.renderBasicPanel());this.showConfiguration(!0)},n.prototype.renderRadioOptions=function(n,t,i){for(var u,f,r=0;r<t.length;r++)u=$("<tr/>"),f=$("<td unselectable='on'/>"),u.append(f),n.append(u),this.renderRadioItem(t[r],this.id+"_mysql_"+t[r],i,r===0?!0:!1,f);$("#"+this.id+"_mysql_DriverName").ejDropDownList("disable")},n.prototype.renderRadioItem=function(n,t,i,r,u){var f=ej.buildTag("div","",{"margin-top":"8px","margin-left":"2px",float:"left"}),o,c,s,e,h;f.css("margin-right",n==="DSN"?"10px":"2px");o=ej.buildTag("input","",{},{type:"radio",name:i,id:t+"Option"});f.append(o);c=ej.buildTag("label.editLabel e-designer-title-label",n,{"margin-left":"6px"},{"for":t+"Option",id:t+"labelOption"});f.append(c);u.append(f);o.ejRadioButton({checked:r,cssClass:"e-designer-radiobtn",change:$.proxy(this.onRadioOptionChanged,this,n)});s=ej.buildTag("div","",{width:"160px","margin-right":"9px","margin-top":"5px"},{id:t+"Name_td"});e=ej.buildTag("input.e-designer-exclude","",{},{id:t+"Name",value:"",spellcheck:"false"});s.append(e);h=ej.buildTag("div","",{float:"left","margin-top":"5.5px","margin-left":"3px"},{id:t+"Name_error_icon_td"});ej.DashboardUtil.renderErrIndictor(h,this.id);u.append(h);u.append(s);n==="DSN"?e.ejDropDownList({width:"437px",showPopupButton:!0,enableAutoFill:!0,showLoadingIcon:!0,focusIn:$.proxy(this.mysqlDSNfocus,this),cssClass:"e-designer-ejwidgets e-designer-content-label",showEmptyResultText:!1,showRoundedCorner:!0,dataSource:new ej.DataManager(this.mysqlDSNDriverFocus("DsnNames",this.loadmysqlDsn,this))}):e.ejDropDownList({width:"437px",showPopupButton:!0,enableAutoFill:!0,showLoadingIcon:!0,dataSource:new ej.DataManager(this.mysqlDSNDriverFocus("OdbcDrivers",this.loadmysqlDriver,this)),cssClass:"e-designer-ejwidgets e-designer-content-label",showEmptyResultText:!1,showRoundedCorner:!0})},n.prototype.mysqlDSNDriverFocus=function(n,t){this.isPostBackDB=!0;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.loadODBCDrivers,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.loadODBCDrivers,datasource:{Name:"",Provider:"MySQL",IsIntegrated:!1,SecurityType:"None",DSNName:"",Driver:"",Database:"",Service:"",Username:"",Password:"",Port:null,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",ConnectionString:null},type:n})},{fnction:$.proxy(t,this)})},n.prototype.loadmysqlDsn=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.DsnNames.length;t++)i.push(r.DsnNames[t]);this.ejMySqlDsnAutoComp.setModel({dataSource:i})}this.isPostBackDB=!1},n.prototype.loadmysqlDriver=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.OdbcDrivers.length;t++)i.push(r.OdbcDrivers[t]);this.ejMySqlDriverAutoComp.setModel({dataSource:i})}this.isPostBackDB=!0},n.prototype.onRadioOptionChanged=function(n){n==="DSN"?($("#"+this.id+"_mysql_DSNName").ejDropDownList("enable"),$("#"+this.id+"_mysql_DriverName").ejDropDownList("disable")):($("#"+this.id+"_mysql_DSNName").ejDropDownList("disable"),$("#"+this.id+"_mysql_DriverName").ejDropDownList("enable"))},n.prototype.renderBasicPanel=function(){this.basicPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_mysql_basicpanel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_mysql_basic_config"});this.mysqlConfig.append(this.basicPanel);this.basicPanel.append(n);this.renderRadioOptions(n,["DSN","Driver"],"mysql");this.datasource.renderTextBoxItem("Server Name",this.id+"_mysql_servername",!1,n,426);this.datasource.renderTextBoxItem("Service",this.id+"_mysql_service",!1,n,426);this.datasource.renderTextBoxItem("Port",this.id+"_mysql_port",!1,n,218);this.datasource.renderTextBoxItem("Username",this.id+"_mysql_username",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_mysql_passwd",!0,n,426);this.datasource.renderAccordionItem("Database",this.id+"_mysql_dbname",n,this.mysqlDBfocus,null,this);this.mysqlServer=$("#"+this.id+"_mysql_servername");this.mysqlService=$("#"+this.id+"_mysql_service");this.mysqlUsrName=$("#"+this.id+"_mysql_username");this.mysqlDatabase=$("#"+this.id+"_mysql_dbname");this.mysqlDSN=$("#"+this.id+"_mysql_DSNName");this.mysqlDriver=$("#"+this.id+"_mysql_DriverName");this.mysqlPasswrd=$("#"+this.id+"_mysql_passwd");this.mysqlPasswrdTag=$("#"+this.id+"_mysql_passwd_tr");this.mysqlUsrNameTag=$("#"+this.id+"_mysql_username_tr");this.portData=$("#"+this.id+"_mysql_port").data("ejNumericTextbox");this.port=$("#"+this.id+"_mysql_port");this.portTag=$("#"+this.id+"_mysql_port_tr");this.ejMySqlDsnAutoComp=$("#"+this.id+"_mysql_DSNName").data("ejDropDownList");this.ejMySqlDriverAutoComp=$("#"+this.id+"_mysql_DriverName").data("ejDropDownList");this.ejMySqlDbAutoComp=this.mysqlDatabase.data("ejAutocomplete");this.dsNameId=this.id+"_datasource_dsname";this.dsName=$("#"+this.dsNameId).val();this.mysqlServer.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlService.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlUsrName.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlDatabase.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlPasswrd.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.port.bind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.inputFocus=function(n,t){this.elementId=ej.isNullOrUndefined(t)?null:$(t.currentTarget).attr("id");this.getDatasourceInfo(n)},n.prototype.unWiredEvents=function(){this.mysqlServer.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlService.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlUsrName.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlDatabase.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.mysqlPasswrd.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.port.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.destroy=function(){this.unWiredEvents()},n.prototype.hideValidationMsg=function(n){(ej.isNullOrUndefined(this.mysqlServer)||this.mysqlServer.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.mysqlServer.attr("id"),!1);(ej.isNullOrUndefined(this.mysqlDSN)||this.mysqlDSN.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.mysqlDSN.attr("id"),!1);(ej.isNullOrUndefined(this.mysqlDatabase)||this.mysqlDatabase.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.mysqlDatabase.attr("id"),!1);(ej.isNullOrUndefined(this.mysqlUsrName)||this.mysqlUsrName.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.mysqlUsrName.attr("id"),!1);(ej.isNullOrUndefined(this.mysqlPasswrd)||this.mysqlPasswrd.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.mysqlPasswrd.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.mysqlServer.val("");this.mysqlService.val("");this.mysqlUsrName.val("");this.mysqlPasswrd.val("");this.port.val("");this.ejMySqlDsnAutoComp.clearText();this.ejMySqlDsnAutoComp.setModel({value:"",dataSource:[]});this.ejMySqlDbAutoComp.clearText();this.ejMySqlDbAutoComp.setModel({value:"",dataSource:[]});this.lastServerName=""},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.DSNName=t.DSNName;n.ConnectionProperties.Driver=t.Driver;n.ConnectionProperties.Database=t.Database;n.ConnectionProperties.Service=t.Service;n.ConnectionProperties.Port=t.Port;n.SecurityType=t.SecurityType},n.prototype.editConfiguration=function(n){var t,i;this.renderConfiguration(this.datasource.configTable);n&&(t=n.ConnectionProperties.ConnectString,n.ConnectionProperties.IsDesignState||(i=this.datasource.getConStringArgs(t),this.mysqlUsrName.val(n.ConnectionProperties.UserName),this.mysqlPasswrd.val(n.ConnectionProperties.PassWord),this.mysqlServer.val(i["data source"].value),n.ConnectionProperties.Database&&this.ejMySqlDbAutoComp.setModel({value:n.ConnectionProperties.Database})));this.hideValidationMsg()},n.prototype.showConfiguration=function(n){this.mysqlConfig.css("display",n?"table-row":"none");this.mysqlConfig.children().show()},n.prototype.getDatabaseVal=function(){var n=this.ejMySqlDbAutoComp.getValue();return n?n:$("#"+this.id+"_mysql_dbname").val()},n.prototype.getDatasourceInfo=function(n,t){var i=!0,u="",f="",o="",s=!0,h="Integrated";this.hideValidationMsg(this.elementId);var c=this.mysqlServer.val(),a=this.mysqlService.val(),l=this.getDatabaseVal(),v=this.port.val(),r=this.ejMySqlDsnAutoComp.option("value"),e;return(ej.isNullOrUndefined(r)?e=this.ejMySqlDriverAutoComp.option("value"):(this.GetDriverName(r,this),e=this.driver),c.length===0&&(this.mysqlServer.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.mysqlServer.attr("id"),!0,"Specify the server name"),i=!1),r!==null&&r.length===0&&(this.mysqlDSN.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.mysqlDSN.attr("id"),!0,"Specify the DSN name"),i=!1),l.length===0&&(this.mysqlDatabase.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.mysqlDatabase.attr("id"),!0,"Specify the database name"),i=!1),u=this.mysqlUsrName.val(),f=this.mysqlPasswrd.val(),h="DataBase",s=!1,u.length===0&&(this.mysqlUsrName.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.mysqlUsrName.attr("id"),!0,"Specify the Username"),i=!1),f.length===0&&(this.mysqlPasswrd.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.mysqlPasswrd.attr("id"),!0,"Specify the Password"),i=!1),o=this.buildConnection(c,t),i)?{Name:n,Provider:"MySQL",IsIntegrated:s,SecurityType:h,IsDesignState:!1,DSNName:r,Driver:e,Database:l,Service:a,Username:u,Password:f,Port:v,ConnectionString:o}:null},n.prototype.GetDriverName=function(n){this.isPostBackDB=!0;var t={Name:"",Provider:"MySQL",IsIntegrated:!1,SecurityType:"None",DSNName:n,Driver:"",Database:"",Service:"",Username:"",Password:"",Port:null,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",ConnectionString:null};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.loadODBCDrivers,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.getOBDCDriver,datasource:t})},{fnction:$.proxy(this.loadDriver,this)})},n.prototype.loadDriver=function(n){if(n&&n!=="Not Found"){var t=JSON.parse(n);this.driver=t}this.isPostBackDB=!1},n.prototype.buildConnection=function(n,t){var u,i,f,r,e;if(this.datasource.isEdit){for(u="",i=this.datasource.getConStringArgs(t.ConnectionProperties.ConnectString),i["data source"].value&&(i["data source"].value=n),f=Object.keys(i),r=0;r<f.length;r++)e=i[f[r]],u+=e.field+"="+e.value+";";return u}return"Data Source="+n+";"},n.prototype.mysqlDSNfocus=function(){},n.prototype.mysqlDBfocus=function(n){var u,h;if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackDB){var r=this.mysqlServer.val(),c=this.mysqlService.val(),t=this.ejMySqlDsnAutoComp.option("value"),i=void 0;if(ej.isNullOrUndefined(t)?i=this.ejMySqlDriverAutoComp.option("value"):(this.GetDriverName(t,this),i=this.driver),u=this.port.val(),r){var f="",e="",o=!0,s="Integrated";f=this.mysqlUsrName.val();e=this.mysqlPasswrd.val();o=!1;s="DataBase";this.isPostBackDB=!0;h={Name:"",Provider:"MySQL",IsIntegrated:o,SecurityType:s,DSNName:t,Driver:i,Database:t,Service:c,Username:ej.DashboardUtil.encryptData(f),Password:ej.DashboardUtil.encryptData(e),Port:u,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",ConnectionString:ej.DashboardUtil.encryptData("Data Source="+r+";")};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:h})},{fnction:$.proxy(this.loadmysqlDB,this)})}}},n.prototype.loadmysqlDB=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejMySqlDbAutoComp.setModel({dataSource:i})}this.isPostBackDB=!1},n.prototype.mysqlServerFocusOut=function(){var n=this.mysqlServer.val();this.lastServerName!==n&&this.ejMySqlDbAutoComp.setModel({dataSource:[]});this.lastServerName=""},n.prototype.mysqlServerFocus=function(){this.lastServerName=this.mysqlServer.val()},n}();window.ej.createObject("ej.DashboardDesignerUtility.MySQLDataSource",InternalMySQLDataSource,window);InternalODATADataSource=function(){function n(){this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.reportDesigner._id}return Object.defineProperty(n,"ODATADataSource",{get:function(){return(this.odatadataSource===null||this.odatadataSource===undefined)&&(this.odatadataSource=new ej.DashboardDesignerUtility.ODATADataSource),this.odatadataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_odata_datasource").length>0?this.resetConfiguration():(this.odataConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_odata_datasource"}),n.append(this.odataConfig),this.renderOdataPanel());this.showConfiguration(!0)},n.prototype.renderOdataPanel=function(){this.odataPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_odata_Panel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_odata_config"});this.odataConfig.append(this.odataPanel);this.odataPanel.append(n);this.datasource.renderTextArea("Connection String",this.id+"_odata_conStr",n);this.conncString=$("#"+this.id+"_odata_conStr")},n.prototype.editConfiguration=function(n){this.renderConfiguration(this.datasource.configTable);this.hideValidationMsg();this.conncString.val(n.ConnectionProperties.ConnectString)},n.prototype.showConfiguration=function(n){this.odataConfig.css("display",n?"table-row":"none");this.odataConfig.children().show()},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.conncString.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.conncString.val("");this.hideValidationMsg()},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType},n.prototype.getDatasourceInfo=function(n){var t=!0;return(this.hideValidationMsg(),this.conncString.val().length===0&&(this.datasource.showValidationMsg(this.conncString.attr("id"),!0,"Specify the Connection string"),t=!1),t)?{Name:n,Provider:"OData",IsIntegrated:!1,SecurityType:"None",Username:"",Password:"",ConnectionString:this.conncString.val()}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.ODATADataSource",InternalODATADataSource,window);InternalODBCDataSource=function(){function n(){this.dataSource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.isOdbcPostBack=!1;this.sqlWinUserName=null;this.isDsnConn=!1;this.isEdit=!1;this.odbcDb=null;this.filePath=null;this.isSqlPostBack=!1;this.isSqlPostBackDB=!1;this.isOracPostBackDb=!1;this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"ODBCDataSource",{get:function(){return ej.isNullOrUndefined(this.odbcdataSource)&&(this.odbcdataSource=new ej.DashboardDesignerUtility.ODBCDataSource),this.odbcdataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_odbc_datasource").length>0?this.resetConfigs():(this.odbcConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_odbc_datasource"}),n.append(this.odbcConfig),this.renderBasicPanel(),this.renderAdvcPanel());this.showConfiguration(!0)},n.prototype.renderBasicPanel=function(){this.basicPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_odbc_basicpanel"});this.basicConfigTable=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_odbc_basic_config"});this.odbcConfig.append(this.basicPanel);this.basicPanel.append(this.basicConfigTable);this.renderDbSpec();this.changedSpecification({text:"DSN"})},n.prototype.renderAdvcPanel=function(){this.advancePanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_odbc_advancepanel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_odbc_advance_config"}),t=this.dataSourceLocale.authentication,i=this.dataSourceLocale.promptText,r=this.dataSourceLocale.noneText,u=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i},{id:r.toLowerCase(),text:r,value:r}];this.odbcConfig.append(this.advancePanel);this.advancePanel.append(n);this.dataSource.renderTextArea("Connection String",this.id+"_odbc_advanceConStr",n);this.dataSource.renderDropDownItem("Authentication Type",this.id+"_odbc_adv_authtype",n,u,{id:"id",text:"text",value:"value"},"0");this.dataSource.renderTextBoxItem("Prompt Text",this.id+"_odbc_adv_prompt",!1,n,426);this.dataSource.renderTextBoxItem("Username",this.id+"_odbc_adv_usr",!1,n,426);this.dataSource.renderTextBoxItem("Password",this.id+"_odbc_adv_pswd",!0,n,426);$("#"+this.id+"_odbc_adv_authtype")&&(this.ejAdvcAuthDrpdwn=$("#"+this.id+"_odbc_adv_authtype").data("ejDropDownList"),this.ejAdvcAuthDrpdwn.model.change=$.proxy(this.changedAdvcAuthentication,this));this.advcPromptCont=$("#"+this.id+"_odbc_adv_prompt");this.advcPromptTag=$("#"+this.id+"_odbc_adv_prompt_tr");this.advcUsrName=$("#"+this.id+"_odbc_adv_usr");this.advcUsrNameTag=$("#"+this.id+"_odbc_adv_usr_tr");this.advcPasswd=$("#"+this.id+"_odbc_adv_pswd");this.advcPasswdTag=$("#"+this.id+"_odbc_adv_pswd_tr");this.advcOdbcConStr=$("#"+this.id+"_odbc_advanceConStr");this.changedAdvcAuthentication({text:this.dataSourceLocale.authentication})},n.prototype.renderDbSpec=function(){this.dataSource.renderDropDownItem("Connection Type",this.id+"_odbc_specificationtype",this.basicConfigTable,[{id:"dsn",text:"DSN",value:"Dsn"},{id:"driver",text:"Driver",value:"Driver"},{id:"constr",text:"Connection String",value:"connectionstring"}],{id:"id",text:"text",value:"value"},"0");this.dataSource.renderAccordionItem("DSN Name",this.id+"_odbc_dbname",this.basicConfigTable,this.odbcDbFocus,null,this);this.dataSource.renderTextBoxItem("Driver",this.id+"_odbc_driver",!1,this.basicConfigTable,426);this.renderFileUpload(this.basicConfigTable,".mdb, .accdb");this.dataSource.renderTextArea("Connection String",this.id+"_odbc_constr",this.basicConfigTable);this.odbcConType=$("#"+this.id+"_odbc_specificationtype");this.odbcDatabase=$("#"+this.id+"_odbc_dbname");this.odbcDbTag=$("#"+this.id+"_odbc_dbname_tr");this.dsnDriver=$("#"+this.id+"_odbc_driver");this.dsnDriverTag=$("#"+this.id+"_odbc_driver_tr");this.odbcConStr=$("#"+this.id+"_odbc_constr");this.odbcConStrTag=$("#"+this.id+"_odbc_constr_tr");this.dsnDriverTag.css("display","table-row");this.odbcDbTag.find(".editLabel").length>0&&this.odbcDbTag.find(".editLabel").addClass("odbcDbLabel");this.odbcConType&&(this.ejSpecDrpdwn=this.odbcConType.data("ejDropDownList"),this.ejSpecDrpdwn.model.change=$.proxy(this.changedSpecification,this));this.odbcDatabase&&(this.ejOdbcDbAutoComp=this.odbcDatabase.data("ejAutocomplete"),this.ejOdbcDbAutoComp.model.change=$.proxy(this.changedOdbcDatabase,this))},n.prototype.renderFileUpload=function(n,t){var f=this.filePathTag=ej.buildTag("tr","",{display:"table-row"},{id:this.id+"_odbc_filepath_tr"}),e=ej.buildTag("td","",{},{unselectable:"on"}),i,h,r;f.append(e);n.append(f);i=ej.buildTag("table","",{},{unselectable:"on"});i.append(this.dataSource.getRowCaption("File Name",this.id+"_odbc_filepath"));var u=ej.buildTag("tr","",{},{}),o=ej.buildTag("td","",{},{id:this.id+"_odbc_filepath_td"}),s=ej.buildTag("td","",{},{});u.append(o);u.append(s);i.append(u);e.append(i);h=this.filePathText=ej.buildTag("input.e-designer-textcontent e-designer-content-label","",{height:"24px",width:"177px"},{edittype:"stringedit",disabled:"disabled",id:this.id+"_odbc_filepath",type:"text"});o.append(h);r=ej.buildTag("div","",{},{id:this.id+"_odbc_fileupload"});s.append(r);r.ejUploadbox({saveUrl:this.reportDesigner.model.serviceUrl+"/UploadReportAction",autoUpload:!0,showFileDetails:!1,height:"30px",width:"37px",buttonText:{browse:"..."},extensionsAllow:t,success:$.proxy(this.uploadComplete,this),beforeSend:$.proxy(this.beforeUpload,this),dialogAction:{closeOnComplete:!0}});this.ejFileUpload=r.data("ejUploadbox")},n.prototype.renderSqlConfig=function(n){var i,r,t;if(n.find("#"+this.id+"_odbc_sqlconfig_table").length>0)this.resetConfig("sql");else{i=this.sqlConfigTag=ej.buildTag("tr","",{},{id:this.id+"_odbc_sqlconfig_tr"});r=ej.buildTag("td","",{},{unselectable:"on"});i.append(r);n.append(i);t=ej.buildTag("table","",{width:"100%","margin-left":"-3px"},{unselectable:"on",id:this.id+"_odbc_sqlconfig_table"});r.append(t);var u=this.dataSourceLocale.windowsText,f=this.dataSourceLocale.sqlServerText,e=[{id:u.toLowerCase(),text:u,value:u},{id:f.toLowerCase(),text:f,value:f}];this.dataSource.renderAccordionItem("Server Name",this.id+"_odbc_sql_servername",t,this.sqlServerFocus,null,this);this.dataSource.renderDropDownItem("Authentication Type",this.id+"_Sql_authenticationtype",t,e,{id:"id",text:"text",value:"value"},"0");this.dataSource.renderTextBoxItem("Username",this.id+"_odbc_sql_username",!1,t,426);this.dataSource.renderTextBoxItem("Password",this.id+"_odbc_sql_password",!0,t,426);this.dataSource.renderAccordionItem("Database",this.id+"_odbc_sql_dbname",t,this.sqlDbfocus,null,this);this.sqlSerName=$("#"+this.id+"_odbc_sql_servername");this.sqlUsrName=$("#"+this.id+"_odbc_sql_username");this.sqlPasswd=$("#"+this.id+"_odbc_sql_password");this.sqlDbName=$("#"+this.id+"_odbc_sql_dbname");this.sqlAuthType=$("#"+this.id+"_Sql_authenticationtype");this.ejSqlAutoComp=this.sqlSerName.data("ejAutocomplete");this.ejSqlDbAutoComp=this.sqlDbName.data("ejAutocomplete");this.sqlAuthType&&(this.ejSqlAuthDrpdwn=this.sqlAuthType.data("ejDropDownList"),this.ejSqlAuthDrpdwn.model.change=$.proxy(this.changedSQLAuthentication,this))}this.changedSQLAuthentication({text:this.dataSourceLocale.windowsText})},n.prototype.renderMySqlConfig=function(n){var i,r,t;n.find("#"+this.id+"_odbc_mysqlconfig_table").length>0?this.resetConfig("mysql"):(i=this.mySqlConfigTag=ej.buildTag("tr","",{},{id:this.id+"_odbc_mysqlconfig_tr"}),r=ej.buildTag("td","",{},{unselectable:"on"}),i.append(r),n.append(i),t=ej.buildTag("table","",{width:"100%","margin-left":"-3px"},{unselectable:"on",id:this.id+"_odbc_mysqlconfig_table"}),r.append(t),this.dataSource.renderTextBoxItem("Server Name",this.id+"_odbc_mysql_servername",!1,t,426),this.dataSource.renderTextBoxItem("Port",this.id+"_odbc_mysql_portno",!1,t,426),this.dataSource.renderTextBoxItem("Username",this.id+"_odbc_mysql_username",!1,t,426),this.dataSource.renderTextBoxItem("Password",this.id+"_odbc_mysql_password",!0,t,426),this.dataSource.renderTextBoxItem("Database",this.id+"_odbc_mysql_dbname",!1,t,426),this.mySqlSerName=$("#"+this.id+"_odbc_mysql_servername"),this.mySqlPortNo=$("#"+this.id+"_odbc_mysql_portno"),this.mySqlUsrName=$("#"+this.id+"_odbc_mysql_username"),this.mySqlPasswd=$("#"+this.id+"_odbc_mysql_password"),this.mySqlDbName=$("#"+this.id+"_odbc_mysql_dbname"))},n.prototype.renderPSqlConfig=function(n){var t;if(n.find("#"+this.id+"_odbc_postsqlconfig_table").length>0)this.resetConfig("postsql");else{var i=this.pSqlConfigTag=ej.buildTag("tr","",{},{id:this.id+"_odbc_postsqlconfig_tr"}),r=ej.buildTag("td","",{},{unselectable:"on"});i.append(r);n.append(i);t=ej.buildTag("table","",{width:"100%","margin-left":"-3px"},{unselectable:"on",id:this.id+"_odbc_postsqlconfig_table"});r.append(t);this.dataSource.renderTextBoxItem("Server Name",this.id+"_odbc_postsql_servername",!1,t,426);this.dataSource.renderDropDownItem("SSL Mode",this.id+"_odbc_postsql_ssltype",t,[{id:"ssl_disable",text:"disable",value:"disable"},{id:"ssl_allow",text:"allow",value:"allow"},{id:"ssl_prefer",text:"prefer",value:"prefer"},{id:"ssl_require",text:"require",value:"require"},{id:"ssl_verify-ca",text:"verify-ca",value:"verify-ca"},{id:"ssl_verify-full",text:"verify-full",value:"verify-full"}],{id:"id",text:"text",value:"value"},"0");this.dataSource.renderTextBoxItem("Port",this.id+"_odbc_postsql_portno",!1,t,426);this.dataSource.renderTextBoxItem("Username",this.id+"_odbc_postsql_username",!1,t,426);this.dataSource.renderTextBoxItem("Password",this.id+"_odbc_postsql_password",!0,t,426);this.dataSource.renderTextBoxItem("Database",this.id+"_odbc_postsql_dbname",!1,t,426);this.pSqlSerName=$("#"+this.id+"_odbc_postsql_servername");this.pSqlPortNo=$("#"+this.id+"_odbc_postsql_portno");this.pSqlUsrName=$("#"+this.id+"_odbc_postsql_username");this.pSqlPasswd=$("#"+this.id+"_odbc_postsql_password");this.pSqlDbName=$("#"+this.id+"_odbc_postsql_dbname");this.ejPSqlSslDrpdwn=$("#"+this.id+"_odbc_postsql_ssltype").data("ejDropDownList")}},n.prototype.renderOracConfig=function(n){var i,r,t;n.find("#"+this.id+"_odbc_oracleconfig_table").length>0?this.resetConfig("oracle"):(i=this.oracConfigTag=ej.buildTag("tr","",{},{id:this.id+"_odbc_oracleconfig_tr"}),r=ej.buildTag("td","",{},{unselectable:"on"}),i.append(r),n.append(i),t=ej.buildTag("table","",{width:"100%","margin-left":"-3px"},{unselectable:"on",id:this.id+"_odbc_oracleconfig_table"}),r.append(t),this.dataSource.renderTextBoxItem("Server Name",this.id+"_odbc_oracle_servername",!1,t,426),this.dataSource.renderTextBoxItem("Username",this.id+"_odbc_oracle_username",!1,t,426),this.dataSource.renderTextBoxItem("Password",this.id+"_odbc_oracle_password",!0,t,426),this.dataSource.renderAccordionItem("Database",this.id+"_odbc_oracle_dbname",t,this.oracleDbfocus,null,this),this.oracSerName=$("#"+this.id+"_odbc_oracle_servername"),this.oracUsrName=$("#"+this.id+"_odbc_oracle_username"),this.oracPasswd=$("#"+this.id+"_odbc_oracle_password"),this.oracDbName=$("#"+this.id+"_odbc_oracle_dbname"),this.ejOracDbAutoComp=this.oracDbName.data("ejAutocomplete"))},n.prototype.changedSpecification=function(n){this.isEdit=!1;this.resetOdbcDbConfig();this.isDsnConn=n.text.toLowerCase()==="dsn";this.odbcDatabase.val("");this.ejOdbcDbAutoComp.model.value="";this.ejOdbcDbAutoComp.setModel({dataSource:[]});n.text==="Connection String"?(this.odbcConStr.val(""),this.odbcDbTag.css("display","none"),this.odbcConStrTag.css("display","table-row")):(this.odbcDbTag.css("display","table-row"),this.odbcConStrTag.css("display","none"),!ej.isNullOrUndefined(this.odbcDb)&&(this.odbcDb.DsnNames.length>0||this.odbcDb.OdbcDrivers.length>0)&&this.loadOdbcDb(this.odbcDb),this.odbcDbTag.find(".odbcDbLabel")[0].innerHTML=this.isDsnConn?"DSN Name":n.text);this.hideValidationMsgs();this.dataSource.updateEJComponentSize();this.dataSource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.changedOdbcDatabase=function(n){var t,i=$("#"+this.id+"_adv_authenticationtype").data("ejDropDownList");if(this.resetOdbcDbConfig(),this.hideValidationMsg("dbfile"),this.odbcDb!==null&&(t=this.isDsnConn?this.odbcDb.DsnNames.filter(function(t){return t.Name.toLowerCase()===n.value.toLowerCase()})[0]:this.odbcDb.OdbcDrivers.filter(function(t){return t.Name.toLowerCase()===n.value.toLowerCase()})[0]),t){this.isDsnConn&&(this.dsnDriverTag.css("display","table-row"),this.dsnDriver.val(t.DSNDriverName?t.DSNDriverName:"").prop("disabled","disabled"));switch(this.getDBType()){case"dbfile":this.filePathTag.css("display","table-row");this.filePathText.val("Upload database file").prop("disabled","disabled");this.ejFileUpload.setModel({extensionsAllow:t.FileExtension?t.FileExtension:".mdb, .accdb"});this.isDsnConn&&t.DSNFilePath&&this.filePathText.val(t.DSNFilePath.substr(t.DSNFilePath.lastIndexOf("\\")+1));break;case"sql":this.renderSqlConfig(this.basicConfigTable);this.sqlConfigTag.css("display","table-row");this.isDsnConn&&(t.DSNServerName&&this.ejSqlAutoComp.setModel({value:t.DSNServerName}),t.DSNDatabase&&this.ejSqlDbAutoComp.setModel({value:t.DSNDatabase}),t.IsIntegrated&&(this.ejSqlAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}),this.sqlUsrName.val(this.sqlWinUserName)));break;case"mysql":this.renderMySqlConfig(this.basicConfigTable);this.mySqlConfigTag.css("display","table-row");this.isDsnConn&&(t.DSNServerName&&this.mySqlSerName.val(t.DSNServerName),t.DSNDatabase&&this.mySqlDbName.val(t.DSNDatabase),t.DSNUid&&this.mySqlUsrName.val(t.DSNUid),t.DSNPwd&&this.mySqlPasswd.val(t.DSNPwd),t.DSNPort&&this.mySqlPortNo.val(t.DSNPort));i.setModel({value:this.dataSourceLocale.sqlServerText});break;case"postsql":this.renderPSqlConfig(this.basicConfigTable);this.pSqlConfigTag.css("display","table-row");this.isDsnConn&&(t.DSNServerName&&this.pSqlSerName.val(t.DSNServerName),t.DSNDatabase&&this.pSqlDbName.val(t.DSNDatabase),t.DSNUid&&this.pSqlUsrName.val(t.DSNUid),t.DSNPwd&&this.pSqlPasswd.val(t.DSNPwd),t.DSNPort&&this.pSqlPortNo.val(t.DSNPort),t.DSNSslMode&&this.ejPSqlSslDrpdwn.setModel({value:t.DSNSslMode}));i.setModel({value:this.dataSourceLocale.sqlServerText});break;case"oracle":this.renderOracConfig(this.basicConfigTable);this.oracConfigTag.css("display","table-row");this.isDsnConn&&(t.DSNServerName&&this.oracSerName.val(t.DSNServerName),t.DSNDatabase&&this.oracDbName.val(t.DSNDatabase),t.DSNUid&&this.oracUsrName.val(t.DSNUid),t.DSNPwd&&this.oracPasswd.val(t.DSNPwd));i.setModel({value:this.dataSourceLocale.sqlServerText})}}else this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!0,"Selected database is not available");this.dataSource.updateEJComponentSize();this.dataSource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.changedSQLAuthentication=function(n){this.sqlUsrName.val("");this.sqlPasswd.val("");this.dataSource.showValidationMsg(this.sqlUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.sqlPasswd.attr("id"),!1);$("#"+this.id+"_adv_authenticationtype").data("ejDropDownList").setModel({value:n.text});n.text===this.dataSourceLocale.windowsText?(this.sqlUsrName.val(this.sqlWinUserName).prop("disabled","disabled"),this.sqlPasswd.prop("disabled","disabled")):(this.sqlUsrName.val("").removeAttr("disabled"),this.sqlPasswd.removeAttr("disabled"));this.ejSqlDbAutoComp.setModel({dataSource:[]});this.dataSource.updateEJComponentSize();this.dataSource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.changedAdvcAuthentication=function(n){this.hideValidationMsg("odbc-advc");this.advcPromptTag.css("display","none");this.advcUsrNameTag.css("display","none");this.advcPasswdTag.css("display","none");n.text===this.dataSourceLocale.authentication?(this.advcUsrNameTag.css("display","table-row"),this.advcPasswdTag.css("display","table-row")):n.text===this.dataSourceLocale.promptText&&(this.advcPromptTag.css("display","table-row"),this.advcUsrNameTag.css("display","table-row"),this.advcPasswdTag.css("display","table-row"));this.dataSource.updateEJComponentSize();this.dataSource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.odbcDbFocus=function(n){this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!1);n.model.dataSource&&n.model.dataSource.length>0||this.isOdbcPostBack||(this.isOdbcPostBack=!0,ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.loadODBCDrivers,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.loadODBCDrivers})},{fnction:$.proxy(this.loadOdbcDb,this),indicator:[$.proxy(this.showLoadingIndicator,$("#"+this.odbcDatabase.attr("id"))),$.proxy(this.hideLoadingIndicator,$("#"+this.odbcDatabase.attr("id")))]}))},n.prototype.loadOdbcDb=function(n){var i,t;if(!this.odbcDb&&n.OdbcDB&&(this.odbcDb=n.OdbcDB),n&&typeof n!="object"&&n.indexOf("Sf_Exception")!==-1)ej.DashboardUtil.getInstance().ejAlertDialog("ODBC DataSource",n,!1,!0,!1,"DashboardDesigner failed to connect the datasource",{height:200});else if(this.odbcDb&&(this.odbcDb.DsnNames.length>0||this.odbcDb.OdbcDrivers.length>0)){if(i=[],!this.sqlWinUserName&&n.WinUserName&&(this.sqlWinUserName=n.WinUserName),this.odbcDb.DsnNames.length===0&&this.isDsnConn?this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!0,"DSN is not available"):this.odbcDb.OdbcDrivers.length===0&&this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!0,"DSN Drivers are not available"),this.odbcDb)if(Object.keys(this.odbcDb).length>0&&this.odbcDb.DsnNames.length>0&&this.isDsnConn)for(this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!1),t=0;t<this.odbcDb.DsnNames.length;t++)i.push({text:this.odbcDb.DsnNames[t].Name,category:this.odbcDb.DsnNames[t].DSNCategory});else if(Object.keys(this.odbcDb).length>0&&this.odbcDb.OdbcDrivers.length>0&&!this.isDsnConn)for(this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!1),t=0;t<this.odbcDb.OdbcDrivers.length;t++)i.push(this.odbcDb.OdbcDrivers[t].Name);this.ejOdbcDbAutoComp.setModel({dataSource:i});this.isDsnConn&&(this.ejOdbcDbAutoComp.model.fields.groupBy="category");this.isEdit&&this.setOdbcDatasource()}else this.ejSpecDrpdwn.setModel({value:"connectionstring"});this.isOdbcPostBack=!1},n.prototype.sqlServerFocus=function(n){if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isSqlPostBack){this.isSqlPostBack=!0;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.serverInstance,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.serverInstance,datasource:{Name:"",Provider:"SQL",IsIntegrated:!0,SecurityType:"Integrated",Username:"",Password:"",ConnectionString:""}})},{fnction:$.proxy(this.loadSqlServers,this),indicator:[$.proxy(this.showLoadingIndicator,$("#"+this.sqlSerName.attr("id"))),$.proxy(this.hideLoadingIndicator,$("#"+this.sqlSerName.attr("id")))]})}},n.prototype.loadSqlServers=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].ServerName);this.ejSqlAutoComp.setModel({dataSource:i})}this.isSqlPostBack=!1},n.prototype.sqlDbfocus=function(n){var t,e;if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isSqlPostBackDB&&(t=this.sqlSerName.val(),t)){var i="",r="",u=!0,f="Integrated";this.ejSqlAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&(i=this.sqlUsrName.val(),r=this.sqlPasswd.val(),u=!1,f="DataBase");this.isSqlPostBackDB=!0;e={Name:"",Provider:"SQL",IsIntegrated:u,SecurityType:f,Username:ej.DashboardUtil.encryptData(i),Password:ej.DashboardUtil.encryptData(r),ConnectionString:ej.DashboardUtil.encryptData("Data Source="+t+";")};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:e})},{fnction:$.proxy(this.loadSqlDb,this),indicator:[$.proxy(this.showLoadingIndicator,$("#"+this.sqlDbName.attr("id"))),$.proxy(this.hideLoadingIndicator,$("#"+this.sqlDbName.attr("id")))]})}},n.prototype.loadSqlDb=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejSqlDbAutoComp.setModel({dataSource:i})}this.isSqlPostBackDB=!1},n.prototype.oracleDbfocus=function(n){var t,i;n.model.dataSource&&n.model.dataSource.length>0||this.isOracPostBackDb||(t=this.oracSerName.val(),t&&(this.isOracPostBackDb=!0,i={Name:"",Provider:"Oracle",IsIntegrated:!0,Username:ej.DashboardUtil.encryptData(this.oracUsrName.val()),Password:ej.DashboardUtil.encryptData(this.oracPasswd.val()),ConnectionString:ej.DashboardUtil.encryptData("Data Source="+t)},ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:i})},{fnction:$.proxy(this.loadOracleDb,this),indicator:[$.proxy(this.showLoadingIndicator,$("#"+this.oracDbName.attr("id"))),$.proxy(this.hideLoadingIndicator,$("#"+this.oracDbName.attr("id")))]})))},n.prototype.loadOracleDb=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejOracDbAutoComp.setModel({dataSource:i})}this.isOracPostBackDb=!1},n.prototype.beforeUpload=function(n){var t={reportDesignerToken:this.reportDesigner.authenticationToken,serviceAuthorizationToken:this.reportDesigner.model.serviceAuthorizationToken};this.reportDesigner.triggerEvents("ajaxBeforeLoad",t);n.xhr.setRequestHeader("reportDesignerToken",t.reportDesignerToken);n.xhr.setRequestHeader("serviceAuthorizationToken",t.serviceAuthorizationToken);this.reportDesigner.authenticationToken=t.reportDesignerToken},n.prototype.uploadComplete=function(n){this.filePathText.val(n.files.name);this.filePath=ej.DashboardUtil.getCacheFolder(this.reportDesigner.authenticationToken)+n.files.name;this.hideValidationMsg("dbfile")},n.prototype.resetOdbcDbConfig=function(){this.basicPanel.length>0&&this.basicPanel.is(":visible")&&(this.dsnDriverTag&&this.dsnDriverTag.is(":visible")&&this.dsnDriverTag.css("display","none"),this.filePathTag&&this.filePathTag.is(":visible")&&this.filePathTag.css("display","none"),this.sqlConfigTag&&this.sqlConfigTag.is(":visible")&&this.sqlConfigTag.css("display","none"),this.mySqlConfigTag&&this.mySqlConfigTag.is(":visible")&&this.mySqlConfigTag.css("display","none"),this.pSqlConfigTag&&this.pSqlConfigTag.is(":visible")&&this.pSqlConfigTag.css("display","none"),this.oracConfigTag&&this.oracConfigTag.is(":visible")&&this.oracConfigTag.css("display","none"))},n.prototype.resetConfigs=function(){this.basicPanel.length>0&&this.basicPanel.is(":visible")?(this.resetConfig("dbfile"),this.sqlConfigTag&&this.resetConfig("sql"),this.mySqlConfigTag&&this.resetConfig("mysql"),this.pSqlConfigTag&&this.resetConfig("postsql"),this.oracConfigTag&&this.resetConfig("oracle")):this.resetConfig("odbc-advc")},n.prototype.resetConfig=function(n){switch(n){case"dbfile":this.hideValidationMsg("dbfile");this.filePath=null;this.dsnDriver.val("");this.odbcConStr.val("");this.ejOdbcDbAutoComp.model.value="";this.odbcDbTag.find(".odbcDbLabel")[0].innerHTML="DSN Name";this.ejSpecDrpdwn.setModel({value:"Dsn"});this.ejOdbcDbAutoComp.setModel({dataSource:[]});break;case"sql":this.hideValidationMsg("sql");this.sqlUsrName.val("");this.sqlPasswd.val("");this.ejSqlAutoComp.setModel({value:"",dataSource:[]});this.ejSqlDbAutoComp.setModel({value:"",dataSource:[]});this.ejSqlAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText});break;case"mysql":this.hideValidationMsg("mysql");this.mySqlSerName.val("");this.mySqlPortNo.val("");this.mySqlUsrName.val("");this.mySqlPasswd.val("");this.mySqlDbName.val("");break;case"postsql":this.hideValidationMsg("postsql");this.pSqlSerName.val("");this.pSqlPortNo.val("");this.pSqlUsrName.val("");this.pSqlPasswd.val("");this.pSqlDbName.val("");this.ejPSqlSslDrpdwn.setModel({value:"disable"});break;case"oracle":this.hideValidationMsg("oracle");this.oracSerName.val("");this.oracUsrName.val("");this.oracPasswd.val("");this.oracDbName.val("");this.ejOracDbAutoComp.setModel({value:"",dataSource:[]});break;case"odbc-advc":this.advcOdbcConStr.val("");this.advcPromptCont.val("");this.advcUsrName.val("");this.advcPasswd.val("");this.hideValidationMsg("odbc-advc");this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication})}},n.prototype.hideValidationMsgs=function(){this.basicPanel.length>0&&this.basicPanel.is(":visible")?(this.hideValidationMsg("dbfile"),this.sqlConfigTag&&this.hideValidationMsg("sql"),this.mySqlConfigTag&&this.hideValidationMsg("mysql"),this.pSqlConfigTag&&this.hideValidationMsg("postsql"),this.oracConfigTag&&this.hideValidationMsg("oracle")):this.hideValidationMsg("odbc-advc")},n.prototype.hideValidationMsg=function(n){switch(n){case"dbfile":this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!1);this.dataSource.showValidationMsg(this.filePathText.attr("id"),!1);this.dataSource.showValidationMsg(this.odbcConStr.attr("id"),!1);break;case"sql":this.dataSource.showValidationMsg(this.sqlSerName.attr("id"),!1);this.dataSource.showValidationMsg(this.sqlUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.sqlPasswd.attr("id"),!1);this.dataSource.showValidationMsg(this.sqlDbName.attr("id"),!1);break;case"mysql":this.dataSource.showValidationMsg(this.mySqlSerName.attr("id"),!1);this.dataSource.showValidationMsg(this.mySqlPortNo.attr("id"),!1);this.dataSource.showValidationMsg(this.mySqlUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.mySqlPasswd.attr("id"),!1);this.dataSource.showValidationMsg(this.mySqlDbName.attr("id"),!1);break;case"postsql":this.dataSource.showValidationMsg(this.pSqlSerName.attr("id"),!1);this.dataSource.showValidationMsg(this.pSqlPortNo.attr("id"),!1);this.dataSource.showValidationMsg(this.pSqlUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.pSqlPasswd.attr("id"),!1);this.dataSource.showValidationMsg(this.pSqlDbName.attr("id"),!1);break;case"oracle":this.dataSource.showValidationMsg(this.oracSerName.attr("id"),!1);this.dataSource.showValidationMsg(this.oracUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.oracPasswd.attr("id"),!1);this.dataSource.showValidationMsg(this.oracDbName.attr("id"),!1);break;case"odbc-advc":this.dataSource.showValidationMsg(this.advcOdbcConStr.attr("id"),!1);this.dataSource.showValidationMsg(this.advcPromptCont.attr("id"),!1);this.dataSource.showValidationMsg(this.advcUsrName.attr("id"),!1);this.dataSource.showValidationMsg(this.advcPasswd.attr("id"),!1)}},n.prototype.showLoadingIndicator=function(){$("#"+this[0].id+"_dropdown").addClass("e-load");$("#"+this[0].id+"_dropdown>span").removeClass("e-arrow-sans-down")},n.prototype.hideLoadingIndicator=function(){$("#"+this[0].id+"_dropdown").removeClass("e-load");$("#"+this[0].id+"_dropdown>span").addClass("e-arrow-sans-down")},n.prototype.editConfiguration=function(n){if(this.renderConfiguration(this.dataSource.configTable),n)if(this.basicPanel.length>0&&this.basicPanel.is(":visible")){var t=void 0;this.isEdit=!0;this.showConfiguration(!0);this.conStrArgs=this.dataSource.getConStringArgs(n.ConnectionProperties.ConnectString);t="isIntegrated";this.conStrArgs[t]=n.ConnectionProperties.IntegratedSecurity;t="UserName";this.conStrArgs[t]=n.ConnectionProperties.UserName;t="PassWord";this.conStrArgs[t]=n.ConnectionProperties.PassWord;t="constr";this.conStrArgs[t]=n.ConnectionProperties.ConnectString;this.odbcDb?this.loadOdbcDb(this.odbcDb):this.odbcDbFocus(this.ejOdbcDbAutoComp)}else n.ConnectionProperties.ConnectString.length>0&&this.advcOdbcConStr.val(n.ConnectionProperties.ConnectString),this.advcUsrName.val(n.ConnectionProperties.UserName),this.advcPasswd.val(n.ConnectionProperties.PassWord),n.ConnectionProperties.IntegratedSecurity||n.SecurityType!==0&&n.SecurityType!=="None"?!n.ConnectionProperties.IntegratedSecurity&&(!ej.isNullOrUndefined(n.ConnectionProperties.UserName)&&n.ConnectionProperties.UserName.length>0||!ej.isNullOrUndefined(n.ConnectionProperties.PassWord)&&n.ConnectionProperties.PassWord.length>0)?this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication}):n.ConnectionProperties.IntegratedSecurity||!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&(ej.isNullOrUndefined(n.ConnectionProperties.Prompt)||n.ConnectionProperties.Prompt.length!==0)||n.SecurityType!==2&&n.SecurityType!=="DataBase"?n.ConnectionProperties.IntegratedSecurity||(this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.promptText}),this.advcPromptCont.val(!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&n.ConnectionProperties.Prompt.length>0?n.ConnectionProperties.Prompt:"Specify the Username and Password for DataSource: "+n.Name)):this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication}):this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText})},n.prototype.setOdbcDatasource=function(){var n,t;if(this.isEdit=!1,this.conStrArgs.dsn?(n=this.conStrArgs.dsn.value,this.ejSpecDrpdwn.setModel({value:this.conStrArgs.dsn.field}),this.ejOdbcDbAutoComp.setModel({value:this.conStrArgs.dsn.value})):this.conStrArgs.driver&&(n=this.conStrArgs.driver.value.search("{")!==-1||this.conStrArgs.driver.value.search("}")!==-1?this.trimString(this.conStrArgs.driver.value,["{","}"]):this.conStrArgs.driver.value,this.ejSpecDrpdwn.setModel({value:this.conStrArgs.driver.field}),this.ejOdbcDbAutoComp.setModel({value:n})),this.conStrArgs.constr&&this.conStrArgs.uid&&this.conStrArgs.pwd||this.isSupOdbcDb(n.toLowerCase()))this.resetConfig("dbfile"),this.ejSpecDrpdwn.setModel({value:"connectionstring"}),this.odbcConStr.val(this.conStrArgs.constr);else switch(this.getDBType()){case"dbfile":this.conStrArgs.dbq&&this.conStrArgs.dbq.value&&(t=this.conStrArgs.dbq.value.indexOf("\\")>0?this.conStrArgs.dbq.value.substr(this.conStrArgs.dbq.value.lastIndexOf("\\")+1):ej.DashboardUtil.getFileName(this.conStrArgs.dbq.value),this.filePathText.val(t),this.filePath=this.conStrArgs.dbq.value);break;case"sql":this.conStrArgs.server&&this.conStrArgs.server.value&&this.ejSqlAutoComp.setModel({value:this.conStrArgs.server.value});this.conStrArgs.database&&this.conStrArgs.database.value&&this.ejSqlDbAutoComp.setModel({value:this.conStrArgs.database.value});this.conStrArgs.isIntegrated?this.ejSqlAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}):(this.ejSqlAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}),this.sqlUsrName.val(this.conStrArgs.UserName),this.sqlPasswd.val(this.conStrArgs.PassWord));break;case"mysql":this.conStrArgs.server&&this.conStrArgs.server.value&&this.mySqlSerName.val(this.conStrArgs.server.value);this.conStrArgs.database&&this.conStrArgs.database.value&&this.mySqlDbName.val(this.conStrArgs.database.value);this.conStrArgs.UserName&&this.mySqlUsrName.val(this.conStrArgs.UserName);this.conStrArgs.PassWord&&this.mySqlPasswd.val(this.conStrArgs.PassWord);this.conStrArgs.port&&this.conStrArgs.port.value&&this.mySqlPortNo.val(this.conStrArgs.port.value);break;case"postsql":this.conStrArgs.server&&this.conStrArgs.server.value&&this.pSqlSerName.val(this.conStrArgs.server.value);this.conStrArgs.database&&this.conStrArgs.database.value&&this.pSqlDbName.val(this.conStrArgs.database.value);this.conStrArgs.UserName&&this.pSqlUsrName.val(this.conStrArgs.UserName);this.conStrArgs.PassWord&&this.pSqlPasswd.val(this.conStrArgs.PassWord);this.conStrArgs.port&&this.conStrArgs.port.value&&this.pSqlPortNo.val(this.conStrArgs.port.value);this.conStrArgs.sslmode&&this.conStrArgs.sslmode.value&&this.ejPSqlSslDrpdwn.setModel({value:this.conStrArgs.sslmode.value});break;case"oracle":this.conStrArgs.server&&this.conStrArgs.server.value?this.oracSerName.val(this.conStrArgs.server.value):this.conStrArgs.dbq&&this.conStrArgs.dbq.value&&this.oracSerName.val(this.conStrArgs.dbq.value);this.conStrArgs.database&&this.conStrArgs.database.value&&this.oracDbName.val(this.conStrArgs.database.value);this.conStrArgs.UserName&&this.oracUsrName.val(this.conStrArgs.UserName);this.conStrArgs.PassWord&&this.oracPasswd.val(this.conStrArgs.PassWord)}},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;this.advancePanel.length>0&&this.advancePanel.is(":visible")&&(this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication?(n.ConnectionProperties.UserName=t.Username,n.ConnectionProperties.PassWord=t.Password):this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&(n.ConnectionProperties.Prompt=!ej.isNullOrUndefined(this.advcPromptCont)&&this.advcPromptCont.val().length>0?this.advcPromptCont.val():"Specify the Username and Password for DataSource: "+n.Name))},n.prototype.getDatasourceInfo=function(n){var t=!1,i="DataBase",r,u,f;if(this.hideValidationMsg("odbc-advc"),this.validateConnection())if(this.basicPanel.length>0&&this.basicPanel.is(":visible")){r=this.ejOdbcDbAutoComp.getValue();switch(this.getDBType()){case"dbfile":return{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:"",Password:"",ConnectionString:this.buildDbFileConn(r)};case"sql":return u="",f="",this.ejSqlAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText?(u=this.sqlUsrName.val(),f=this.sqlPasswd.val()):this.ejSqlAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.windowsText&&(t=!0,i="Integrated"),{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:u,Password:f,ConnectionString:this.buildSqlConn(r)};case"mysql":return{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:this.mySqlUsrName.val(),Password:this.mySqlPasswd.val(),ConnectionString:this.buildMySqlConn(r)};case"postsql":return{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:this.pSqlUsrName.val(),Password:this.pSqlPasswd.val(),ConnectionString:this.buildPSqlConn(r)};case"oracle":return{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:this.oracUsrName.val(),Password:this.oracPasswd.val(),ConnectionString:this.buildOracleConn(r)};case"constr":return{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:"None",Username:"",Password:"",ConnectionString:this.odbcConStr.val()}}}else return u="",f="",this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText||this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication?(u=this.advcUsrName.val(),f=this.advcPasswd.val()):this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.noneText&&(i="None"),{Name:n,Provider:"ODBC",IsIntegrated:t,SecurityType:i,Username:u,Password:f,ConnectionString:this.advcOdbcConStr.val()};return null},n.prototype.validateConnection=function(){var n=!0,i,r,t,u;if(this.basicPanel.length>0&&this.basicPanel.is(":visible"))if(i=this.getDBType(),r=this.odbcDatabase.val(),ej.isNullOrUndefined(r)||r.length===0&&i!=="constr")this.dataSource.showValidationMsg(this.odbcDatabase.attr("id"),!0,"Select the DSN/driver"),n=!1;else switch(i){case"dbfile":t=this.filePathText.val();(ej.isNullOrUndefined(t)||t.length===0||t==="Upload database file")&&(this.dataSource.showValidationMsg(this.filePathText.attr("id"),!0,"Database file is not available"),n=!1);break;case"sql":var f=this.sqlSerName.val(),e=this.sqlDbName.val(),o=this.sqlUsrName.val(),s=this.sqlPasswd.val();(ej.isNullOrUndefined(f)||f.length===0)&&(this.dataSource.showValidationMsg(this.sqlSerName.attr("id"),!0,"Select the SQL server instance"),n=!1);(ej.isNullOrUndefined(e)||e.length===0)&&(this.dataSource.showValidationMsg(this.sqlDbName.attr("id"),!0,"Select the SQL Database"),n=!1);this.ejSqlAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&((ej.isNullOrUndefined(o)||o.length===0)&&(this.dataSource.showValidationMsg(this.sqlUsrName.attr("id"),!0,"Specify the Username"),n=!1),(ej.isNullOrUndefined(s)||s.length===0)&&(this.dataSource.showValidationMsg(this.sqlPasswd.attr("id"),!0,"Specify the Password"),n=!1));break;case"mysql":var h=this.mySqlSerName.val(),c=this.mySqlDbName.val(),l=this.mySqlUsrName.val(),a=this.mySqlPasswd.val(),v=this.mySqlPortNo.val();(ej.isNullOrUndefined(h)||h.length===0)&&(this.dataSource.showValidationMsg(this.mySqlSerName.attr("id"),!0,"Specify the MYSQL server instance"),n=!1);(ej.isNullOrUndefined(c)||c.length===0)&&(this.dataSource.showValidationMsg(this.mySqlDbName.attr("id"),!0,"Specify the MYSQL Database"),n=!1);(ej.isNullOrUndefined(l)||l.length===0)&&(this.dataSource.showValidationMsg(this.mySqlUsrName.attr("id"),!0,"Specify the Username"),n=!1);(ej.isNullOrUndefined(a)||a.length===0)&&(this.dataSource.showValidationMsg(this.mySqlPasswd.attr("id"),!0,"Specify the Password"),n=!1);(ej.isNullOrUndefined(v)||v.length===0)&&(this.dataSource.showValidationMsg(this.mySqlPortNo.attr("id"),!0,"Specify the port number"),n=!1);break;case"postsql":var y=this.pSqlSerName.val(),p=this.pSqlDbName.val(),w=this.pSqlUsrName.val(),b=this.pSqlPasswd.val(),k=this.pSqlPortNo.val();(ej.isNullOrUndefined(y)||y.length===0)&&(this.dataSource.showValidationMsg(this.pSqlSerName.attr("id"),!0,"Specify the PostSQL server instance"),n=!1);(ej.isNullOrUndefined(p)||p.length===0)&&(this.dataSource.showValidationMsg(this.pSqlDbName.attr("id"),!0,"Specify the PostSQL Database"),n=!1);(ej.isNullOrUndefined(w)||w.length===0)&&(this.dataSource.showValidationMsg(this.pSqlUsrName.attr("id"),!0,"Specify the Username"),n=!1);(ej.isNullOrUndefined(b)||b.length===0)&&(this.dataSource.showValidationMsg(this.pSqlPasswd.attr("id"),!0,"Specify the Password"),n=!1);(ej.isNullOrUndefined(k)||k.length===0)&&(this.dataSource.showValidationMsg(this.pSqlPortNo.attr("id"),!0,"Specify the port number"),n=!1);break;case"oracle":var d=this.oracSerName.val(),g=this.oracDbName.val(),nt=this.oracUsrName.val(),tt=this.oracPasswd.val();(ej.isNullOrUndefined(d)||d.length===0)&&(this.dataSource.showValidationMsg(this.oracSerName.attr("id"),!0,"Specify the Oracle server instance"),n=!1);(ej.isNullOrUndefined(g)||g.length===0)&&(this.dataSource.showValidationMsg(this.oracDbName.attr("id"),!0,"Specify the Oracle Database"),n=!1);(ej.isNullOrUndefined(nt)||nt.length===0)&&(this.dataSource.showValidationMsg(this.oracUsrName.attr("id"),!0,"Specify the Username"),n=!1);(ej.isNullOrUndefined(tt)||tt.length===0)&&(this.dataSource.showValidationMsg(this.oracPasswd.attr("id"),!0,"Specify the Password"),n=!1);break;case"constr":u=this.odbcConStr.val();(ej.isNullOrUndefined(u)||u.length===0)&&(this.dataSource.showValidationMsg(this.odbcConStr.attr("id"),!0,"Specify the connection string"),n=!1)}else this.advcOdbcConStr.val().length===0&&(this.dataSource.showValidationMsg(this.advcOdbcConStr.attr("id"),!0,"Specify the connection string"),n=!1),this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&this.advcPromptCont.val().length===0&&(this.dataSource.showValidationMsg(this.advcPromptCont.attr("id"),!0,"Specify the prompt text"),n=!1),(this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText||this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication)&&(this.advcUsrName.val().length===0&&(this.dataSource.showValidationMsg(this.advcUsrName.attr("id"),!0,"Specify the Username"),n=!1),this.advcPasswd.val().length===0&&(this.dataSource.showValidationMsg(this.advcPasswd.attr("id"),!0,"Specify the Password"),n=!1));return this.dataSource.updateEJComponentSize(),this.dataSource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer")),n},n.prototype.buildDbFileConn=function(n){var t;return this.isDsnConn?(t="Dsn="+n,this.isDefaultValChanged("")&&!ej.isNullOrUndefined(this.filePath)&&(t="Dsn="+n+";DBQ="+this.filePath)):t="Driver="+n+";DBQ="+this.filePath,t},n.prototype.buildSqlConn=function(n){var t,i=this.ejSqlAutoComp.getValue(),r=this.ejSqlDbAutoComp.getValue();return this.isDsnConn?(t="Dsn="+n,this.isDefaultValChanged("server")&&this.isDefaultValChanged("database")?t+=";Server="+i+";Database="+r:this.isDefaultValChanged("server")?t+=";Server="+i:this.isDefaultValChanged("database")&&(t+=";Database="+r)):t="Driver="+n+";Server="+i+";Database="+r,t},n.prototype.buildMySqlConn=function(n){var t,i=this.mySqlSerName.val(),r=this.mySqlDbName.val(),u=this.mySqlPortNo.val();return this.isDsnConn?(t="Dsn="+n,this.isDefaultValChanged("port")?t+=";Server="+i+";Database="+r+";port="+u:this.isDefaultValChanged("server")&&this.isDefaultValChanged("database")?t+=";Server="+i+";Database="+r:this.isDefaultValChanged("server")?t+=";Server="+i:this.isDefaultValChanged("database")&&(t+=";Database="+r)):t="Driver="+n+";Server="+i+";Database="+r+";port="+u,t},n.prototype.buildPSqlConn=function(n){var t,i=this.pSqlSerName.val(),r=this.pSqlDbName.val(),u=this.pSqlPortNo.val(),f=this.ejPSqlSslDrpdwn.getSelectedValue();return this.isDsnConn?(t="Dsn="+n,this.isDefaultValChanged("sslmode")?t+=";Server="+i+";Database="+r+";port="+u+";sslmode="+f:this.isDefaultValChanged("port")?t+=";Server="+i+";Database="+r+";port="+u:this.isDefaultValChanged("server")&&this.isDefaultValChanged("database")?t+=";Server="+i+";Database="+r:this.isDefaultValChanged("server")?t+=";Server="+i:this.isDefaultValChanged("database")&&(t+=";Database="+r)):t="Driver="+n+";Server="+i+";Database="+r+";port="+u+";sslmode="+f,t},n.prototype.buildOracleConn=function(n){var t,i=this.oracSerName.val(),r=this.oracDbName.val();return this.isDsnConn?(t="Dsn="+n,this.isDefaultValChanged("server")&&this.isDefaultValChanged("database")?t+=";Server="+i+";Database="+r:this.isDefaultValChanged("server")?t+=";Server="+i:this.isDefaultValChanged("database")&&(t+=";Database="+r)):t="Driver="+n+";Dbq="+i+";Database="+r,t},n.prototype.showConfiguration=function(n){this.odbcConfig.css("display",n?"table-row":"none");this.odbcConfig.children().show();this.showBasicPanel(!n)},n.prototype.showBasicPanel=function(n){n?(this.basicPanel.css("display","table-row"),this.advancePanel.css("display","none")):(this.basicPanel.css("display","none"),this.advancePanel.css("display","table-row"))},n.prototype.getDBType=function(){var i=this,n=this.odbcDatabase.val().toLowerCase(),t;return(this.odbcDb!==null&&this.isDsnConn&&(t=this.odbcDb.DsnNames.filter(function(n){return n.Name.toLowerCase()===i.odbcDatabase.val().toLowerCase()})[0],n=t?t.DSNDriverName.toLowerCase():""),this.odbcConType.val()==="connectionstring")?"constr":n.search("sql server")!==-1?"sql":n.search("mysql")!==-1?"mysql":n.search("postgresql")!==-1?"postsql":n.search("oracle")!==-1?"oracle":n?"dbfile":void 0},n.prototype.isDefaultValChanged=function(n){var r=this,t,i=!1;if(this.odbcDb!==null){t=this.odbcDb.DsnNames.filter(function(n){return n.Name===r.ejOdbcDbAutoComp.getValue()})[0];switch(this.getDBType()){case"dbfile":i=this.filePathText.val()!==(ej.isNullOrUndefined(t.DSNFilePath)?null:t.DSNFilePath.substr(t.DSNFilePath.lastIndexOf("\\")+1));break;case"sql":i=n==="server"?this.ejSqlAutoComp.getValue()!==t.DSNServerName:this.ejSqlDbAutoComp.getValue()!==t.DSNDatabase;break;case"mysql":i=n==="port"?this.mySqlPortNo.val()!==t.DSNPort:n==="server"?this.mySqlSerName.val()!==t.DSNServerName:this.mySqlDbName.val()!==t.DSNDatabase;break;case"postsql":i=n==="sslmode"?this.ejPSqlSslDrpdwn.getSelectedValue()!==t.DSNSslMode:n==="port"?this.pSqlPortNo.val()!==t.DSNPort:n==="server"?this.pSqlSerName.val()!==t.DSNServerName:this.pSqlDbName.val()!==t.DSNDatabase;break;case"oracle":i=n==="server"?this.oracSerName.val()!==t.DSNServerName:this.ejOracDbAutoComp.getValue()!==t.DSNDatabase}}return i},n.prototype.isSupOdbcDb=function(n){return!ej.isNullOrUndefined(this.odbcDb)&&(this.isDsnConn&&this.odbcDb.DsnNames.filter(function(t){return t.Name.toLowerCase()===n})[0]||this.odbcDb.OdbcDrivers.filter(function(t){return t.Name.toLowerCase()===n})[0])?!1:!0},n.prototype.trimString=function(n,t){for(var i=0;i<t.length;i++)n=n.replace(t[i],"");return n},n}();window.ej.createObject("ej.DashboardDesignerUtility.ODBCDataSource",InternalODBCDataSource,window);InternalOLEDBDataSource=function(){function n(){this.datasource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"OLEDBDataSource",{get:function(){return(this.oledbdataSource===null||this.oledbdataSource===undefined)&&(this.oledbdataSource=new ej.DashboardDesignerUtility.OLEDBDataSource),this.oledbdataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_oledb_datasource").length>0?this.resetConfiguration():(this.oleDbConfig=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_oledb_datasource"}),n.append(this.oleDbConfig),this.renderOleDbPanel(),this.changedAuthentication({text:this.dataSourceLocale.authentication}));this.showConfiguration(!0)},n.prototype.renderOleDbPanel=function(){this.oleDbPanel=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_oledb_panel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_oledb_config"}),t=this.dataSourceLocale.authentication,i=this.dataSourceLocale.promptText,r=this.dataSourceLocale.noneText,u=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i},{id:r.toLowerCase(),text:r,value:r}];this.oleDbConfig.append(this.oleDbPanel);this.oleDbPanel.append(n);this.datasource.renderTextArea("Connection String",this.id+"_oledb_conStr",n);this.datasource.renderDropDownItem("Authentication Type",this.id+"_oledb_authtype",n,u,{id:"id",text:"text",value:"value"},"0");this.datasource.renderTextBoxItem("Prompt Text",this.id+"_oledb_prompt",!1,n,426);this.datasource.renderTextBoxItem("Username",this.id+"_oledb_usr",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_oledb_pswd",!0,n,426);$("#"+this.id+"_oledb_authtype")&&(this.ejAuthDrpdwn=$("#"+this.id+"_oledb_authtype").data("ejDropDownList"),this.ejAuthDrpdwn.model.change=$.proxy(this.changedAuthentication,this));this.promptTag=$("#"+this.id+"_oledb_prompt_tr");this.conncString=$("#"+this.id+"_oledb_conStr");this.promptCont=$("#"+this.id+"_oledb_prompt");this.userName=$("#"+this.id+"_oledb_usr");this.passWord=$("#"+this.id+"_oledb_pswd");this.userNameTag=$("#"+this.id+"_oledb_usr_tr");this.passWordTag=$("#"+this.id+"_oledb_pswd_tr")},n.prototype.changedAuthentication=function(n){this.hideValidationMsg();this.promptTag.css("display","none");this.userNameTag.css("display","none");this.passWordTag.css("display","none");(n.text===this.dataSourceLocale.authentication||n.text===this.dataSourceLocale.promptText)&&(this.userNameTag.css("display","table-row"),this.passWordTag.css("display","table-row"));n.text===this.dataSourceLocale.promptText&&this.promptTag.css("display","table-row");this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.editConfiguration=function(n){this.hideValidationMsg();this.renderConfiguration(this.datasource.configTable);this.conncString.val(n.ConnectionProperties.ConnectString);this.userName.val(n.ConnectionProperties.UserName);this.passWord.val(n.ConnectionProperties.PassWord);n.ConnectionProperties.IntegratedSecurity||n.SecurityType!==0&&n.SecurityType!=="None"?!n.ConnectionProperties.IntegratedSecurity&&(!ej.isNullOrUndefined(n.ConnectionProperties.UserName)&&n.ConnectionProperties.UserName.length>0||!ej.isNullOrUndefined(n.ConnectionProperties.PassWord)&&n.ConnectionProperties.PassWord.length>0)?this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication}):n.ConnectionProperties.IntegratedSecurity||!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&(ej.isNullOrUndefined(n.ConnectionProperties.Prompt)||n.ConnectionProperties.Prompt.length!==0)||n.SecurityType!==2&&n.SecurityType!=="DataBase"?n.ConnectionProperties.IntegratedSecurity||(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.promptText}),this.promptCont.val(!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&n.ConnectionProperties.Prompt.length>0?n.ConnectionProperties.Prompt:"Specify the Username and Password for DataSource: "+n.Name)):this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication}):this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText})},n.prototype.showConfiguration=function(n){this.oleDbConfig.css("display",n?"table-row":"none")},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.conncString.attr("id"),!1);this.datasource.showValidationMsg(this.promptCont.attr("id"),!1);this.datasource.showValidationMsg(this.userName.attr("id"),!1);this.datasource.showValidationMsg(this.passWord.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.conncString.val("");this.promptCont.val("");this.userName.val("");this.passWord.val("");this.hideValidationMsg();this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication})},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication?(n.ConnectionProperties.UserName=t.Username,n.ConnectionProperties.PassWord=t.Password):this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&(n.ConnectionProperties.Prompt=!ej.isNullOrUndefined(this.promptCont)&&this.promptCont.val().length>0?this.promptCont.val():"Specify the Username and Password for DataSource: "+n.Name)},n.prototype.getDatasourceInfo=function(n){var t=!0,i="",r="",u="None";return(this.hideValidationMsg(),this.conncString.val().length===0&&(this.datasource.showValidationMsg(this.conncString.attr("id"),!0,"Specify the connection string"),t=!1),this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&this.promptCont.val().length===0&&(this.datasource.showValidationMsg(this.promptCont.attr("id"),!0,"Specify the Prompt Text"),t=!1),(this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText||this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication)&&(i=this.userName.val(),r=this.passWord.val(),i.length===0&&(this.datasource.showValidationMsg(this.userName.attr("id"),!0,"Specify the User Name"),t=!1),r.length===0&&(this.datasource.showValidationMsg(this.passWord.attr("id"),!0,"Specify the Password"),t=!1),u="DataBase"),t)?{Name:n,Provider:"OLEDB",IsIntegrated:!1,SecurityType:u,Username:i,Password:r,ConnectionString:this.conncString.val()}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.OLEDBDataSource",InternalOLEDBDataSource,window);InternalORACLEDataSource=function(){function n(){this.lastServerName="";this.datasource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"ORACLEDataSource",{get:function(){return(this.oracleDataSource===null||this.oracleDataSource===undefined)&&(this.oracleDataSource=new ej.DashboardDesignerUtility.ORACLEDataSource),this.oracleDataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_oracle_datasource").length>0?this.resetConfiguration():(this.oracleConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_oracle_datasource"}),n.append(this.oracleConfig),this.renderBasicPanel());this.showConfiguration(!0)},n.prototype.renderRadioOptions=function(n,t,i){for(var u,f,r=0;r<t.length;r++)u=$("<tr/>"),f=$("<td unselectable='on'/>"),u.append(f),n.append(u),this.renderRadioItem(t[r],this.id+"_oracle_"+t[r],i,r===0?!0:!1,f);$("#"+this.id+"_oracle_DriverName").ejDropDownList("disable")},n.prototype.renderRadioItem=function(n,t,i,r,u){var f=ej.buildTag("div","",{"margin-top":"8px","margin-left":"2px",float:"left"}),o,c,s,e,h;f.css("margin-right",n==="DSN"?"10px":"2px");o=ej.buildTag("input","",{},{type:"radio",name:i,id:t+"Option"});f.append(o);c=ej.buildTag("label.editLabel e-designer-title-label",n,{"margin-left":"6px"},{"for":t+"Option",id:t+"labelOption"});f.append(c);u.append(f);o.ejRadioButton({checked:r,cssClass:"e-designer-radiobtn",change:$.proxy(this.onRadioOptionChanged,this,n)});s=ej.buildTag("div","",{width:"160px","margin-right":"9px","margin-top":"5px"},{id:t+"Name_td"});e=ej.buildTag("input.e-designer-exclude","",{},{id:t+"Name",value:"",spellcheck:"false"});s.append(e);h=ej.buildTag("div","",{float:"left","margin-top":"5.5px","margin-left":"3px"},{id:t+"Name_error_icon_td"});ej.DashboardUtil.renderErrIndictor(h,this.id);u.append(h);u.append(s);n==="DSN"?e.ejDropDownList({width:"437px",showPopupButton:!0,enableAutoFill:!0,showLoadingIcon:!0,focusIn:$.proxy(this.oracleDSNfocus,this),cssClass:"e-designer-ejwidgets e-designer-content-label",showEmptyResultText:!1,showRoundedCorner:!0,dataSource:new ej.DataManager(this.oracleDSNDriverFocus("DsnNames",this.loadoracleDsn,this))}):e.ejDropDownList({width:"437px",showPopupButton:!0,enableAutoFill:!0,showLoadingIcon:!0,dataSource:new ej.DataManager(this.oracleDSNDriverFocus("OdbcDrivers",this.loadoracleDriver,this)),cssClass:"e-designer-ejwidgets e-designer-content-label",showEmptyResultText:!1,showRoundedCorner:!0})},n.prototype.oracleDSNDriverFocus=function(n,t){this.isPostBackDB=!0;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.loadODBCDrivers,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.loadODBCDrivers,datasource:{Name:"",Provider:"Oracle",IsIntegrated:!1,SecurityType:"None",DSNName:"",Driver:"",Database:"",Service:"",Username:"",Password:"",Port:null,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",ConnectionString:null},type:n})},{fnction:$.proxy(t,this)})},n.prototype.loadoracleDsn=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.DsnNames.length;t++)i.push(r.DsnNames[t]);this.ejOracleDsnAutoComp.setModel({dataSource:i})}this.isPostBackDB=!1},n.prototype.loadoracleDriver=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.OdbcDrivers.length;t++)i.push(r.OdbcDrivers[t]);this.ejOracleDriverAutoComp.setModel({dataSource:i})}this.isPostBackDB=!0},n.prototype.onRadioOptionChanged=function(n){n==="DSN"?($("#"+this.id+"_oracle_DSNName").ejDropDownList("enable"),$("#"+this.id+"_oracle_DriverName").ejDropDownList("disable")):($("#"+this.id+"_oracle_DSNName").ejDropDownList("disable"),$("#"+this.id+"_oracle_DriverName").ejDropDownList("enable"))},n.prototype.renderBasicPanel=function(){this.basicPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_oracle_basicpanel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_oracle_basic_config"});this.oracleConfig.append(this.basicPanel);this.basicPanel.append(n);this.renderRadioOptions(n,["DSN","Driver"],"oracle");this.datasource.renderTextBoxItem("Server Name",this.id+"_oracle_servername",!1,n,426);this.datasource.renderTextBoxItem("Service",this.id+"_oracle_service",!1,n,426);this.datasource.renderTextBoxItem("Port",this.id+"_oracle_port",!1,n,218);this.datasource.renderTextBoxItem("Username",this.id+"_oracle_username",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_oracle_passwd",!0,n,426);this.datasource.renderAccordionItem("Database",this.id+"_oracle_dbname",n,this.oracleDBfocus,null,this);this.oracleServer=$("#"+this.id+"_oracle_servername");this.oracleService=$("#"+this.id+"_oracle_service");this.oracleUsrName=$("#"+this.id+"_oracle_username");this.oracleDatabase=$("#"+this.id+"_oracle_dbname");this.oracleDSN=$("#"+this.id+"_oracle_DSNName");this.oracleDriver=$("#"+this.id+"_oracle_DriverName");this.oraclePasswrd=$("#"+this.id+"_oracle_passwd");this.oraclePasswrdTag=$("#"+this.id+"_oracle_passwd_tr");this.oracleUsrNameTag=$("#"+this.id+"_oracle_username_tr");this.portData=$("#"+this.id+"_oracle_port").data("ejNumericTextbox");this.port=$("#"+this.id+"_oracle_port");this.portTag=$("#"+this.id+"_oracle_port_tr");this.ejOracleDsnAutoComp=$("#"+this.id+"_oracle_DSNName").data("ejDropDownList");this.ejOracleDriverAutoComp=$("#"+this.id+"_oracle_DriverName").data("ejDropDownList");this.ejOracleDbAutoComp=this.oracleDatabase.data("ejAutocomplete");this.dsNameId=this.id+"_datasource_dsname";this.dsName=$("#"+this.dsNameId).val();this.oracleServer.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleService.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleUsrName.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleDatabase.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oraclePasswrd.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.port.bind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.inputFocus=function(n,t){this.elementId=ej.isNullOrUndefined(t)?null:$(t.currentTarget).attr("id");this.getDatasourceInfo(n)},n.prototype.unWiredEvents=function(){this.oracleServer.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleService.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleUsrName.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oracleDatabase.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.oraclePasswrd.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.port.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.destroy=function(){this.unWiredEvents()},n.prototype.hideValidationMsg=function(n){(ej.isNullOrUndefined(this.oracleServer)||this.oracleServer.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.oracleServer.attr("id"),!1);(ej.isNullOrUndefined(this.oracleDSN)||this.oracleDSN.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.oracleDSN.attr("id"),!1);(ej.isNullOrUndefined(this.oracleDatabase)||this.oracleDatabase.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.oracleDatabase.attr("id"),!1);(ej.isNullOrUndefined(this.oracleUsrName)||this.oracleUsrName.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.oracleUsrName.attr("id"),!1);(ej.isNullOrUndefined(this.oraclePasswrd)||this.oraclePasswrd.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.oraclePasswrd.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.oracleServer.val("");this.oracleService.val("");this.oracleUsrName.val("");this.oraclePasswrd.val("");this.port.val("");this.ejOracleDsnAutoComp.clearText();this.ejOracleDsnAutoComp.setModel({value:"",dataSource:[]});this.ejOracleDbAutoComp.clearText();this.ejOracleDbAutoComp.setModel({value:"",dataSource:[]});this.lastServerName=""},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.DSNName=t.DSNName;n.ConnectionProperties.Driver=t.Driver;n.ConnectionProperties.Database=t.Database;n.ConnectionProperties.Service=t.Service;n.ConnectionProperties.Port=t.Port;n.SecurityType=t.SecurityType},n.prototype.editConfiguration=function(n){var t,i;this.renderConfiguration(this.datasource.configTable);n&&(t=n.ConnectionProperties.ConnectString,n.ConnectionProperties.IsDesignState||(i=this.datasource.getConStringArgs(t),this.oracleUsrName.val(n.ConnectionProperties.UserName),this.oraclePasswrd.val(n.ConnectionProperties.PassWord),this.oracleServer.val(i["data source"].value),n.ConnectionProperties.Database&&this.ejOracleDbAutoComp.setModel({value:n.ConnectionProperties.Database})));this.hideValidationMsg()},n.prototype.showConfiguration=function(n){this.oracleConfig.css("display",n?"table-row":"none");this.oracleConfig.children().show()},n.prototype.getDatabaseVal=function(){var n=this.ejOracleDbAutoComp.getValue();return n?n:$("#"+this.id+"_oracle_dbname").val()},n.prototype.getDatasourceInfo=function(n,t){var i=!0,u="",f="",o="",s=!0,h="Integrated";this.hideValidationMsg(this.elementId);var c=this.oracleServer.val(),a=this.oracleService.val(),l=this.getDatabaseVal(),v=this.port.val(),r=this.ejOracleDsnAutoComp.option("value"),e;return(ej.isNullOrUndefined(r)?e=this.ejOracleDriverAutoComp.option("value"):(this.GetDriverName(r,this),e=this.driver),c.length===0&&(this.oracleServer.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.oracleServer.attr("id"),!0,"Specify the server name"),i=!1),r!==null&&r.length===0&&(this.oracleDSN.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.oracleDSN.attr("id"),!0,"Specify the DSN name"),i=!1),l.length===0&&(this.oracleDatabase.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.oracleDatabase.attr("id"),!0,"Specify the database name"),i=!1),u=this.oracleUsrName.val(),f=this.oraclePasswrd.val(),h="DataBase",s=!1,u.length===0&&(this.oracleUsrName.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.oracleUsrName.attr("id"),!0,"Specify the Username"),i=!1),f.length===0&&(this.oraclePasswrd.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.oraclePasswrd.attr("id"),!0,"Specify the Password"),i=!1),o=this.buildConnection(c,t),i)?{Name:n,Provider:"Oracle",IsIntegrated:s,SecurityType:h,IsDesignState:!1,DSNName:r,Driver:e,Database:l,Service:a,Username:u,Password:f,Port:v,ConnectionString:o}:null},n.prototype.GetDriverName=function(n){this.isPostBackDB=!0;var t={Name:"",Provider:"Oracle",IsIntegrated:!1,SecurityType:"None",DSNName:n,Driver:"",Database:"",Service:"",Username:"",Password:"",Port:null,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",ConnectionString:null};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.loadODBCDrivers,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.getOBDCDriver,datasource:t})},{fnction:$.proxy(this.loadDriver,this)})},n.prototype.loadDriver=function(n){if(n&&n!=="Not Found"){var t=JSON.parse(n);this.driver=t}this.isPostBackDB=!1},n.prototype.buildConnection=function(n,t){var u,i,f,r,e;if(this.datasource.isEdit){for(u="",i=this.datasource.getConStringArgs(t.ConnectionProperties.ConnectString),i["data source"].value&&(i["data source"].value=n),f=Object.keys(i),r=0;r<f.length;r++)e=i[f[r]],u+=e.field+"="+e.value+";";return u}return"Data Source="+n+";"},n.prototype.oracleDSNfocus=function(){},n.prototype.oracleDBfocus=function(n){var u,h;if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackDB){var r=this.oracleServer.val(),c=this.oracleService.val(),t=this.ejOracleDsnAutoComp.option("value"),i=void 0;if(ej.isNullOrUndefined(t)?i=this.ejOracleDriverAutoComp.option("value"):(this.GetDriverName(t,this),i=this.driver),u=this.port.val(),r){var f="",e="",o=!0,s="Integrated";f=this.oracleUsrName.val();e=this.oraclePasswrd.val();o=!1;s="DataBase";this.isPostBackDB=!0;h={Name:"",Provider:"Oracle",IsIntegrated:o,SecurityType:s,DSNName:t,Driver:i,Database:"",Service:c,IsDesignState:!1,FileName:"",Parameters:null,Headers:null,WebUrl:"",DataFormat:"",RefreshInterval:"",MethodType:"",Username:ej.DashboardUtil.encryptData(f),Password:ej.DashboardUtil.encryptData(e),Port:u,ConnectionString:ej.DashboardUtil.encryptData("Data Source="+r+";")};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:h})},{fnction:$.proxy(this.loadoracleDB,this)})}}},n.prototype.loadoracleDB=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejOracleDbAutoComp.setModel({dataSource:i})}this.isPostBackDB=!1},n.prototype.oracleServerFocusOut=function(){var n=this.oracleServer.val();this.lastServerName!==n&&this.ejOracleDbAutoComp.setModel({dataSource:[]});this.lastServerName=""},n.prototype.oracleServerFocus=function(){this.lastServerName=this.oracleServer.val()},n}();window.ej.createObject("ej.DashboardDesignerUtility.ORACLEDataSource",InternalORACLEDataSource,window);InternalParameter=function(){function n(){this.id=null;this.cultureFormat="en-US";this.parameters=[];this.isEdit=!1;this.paramUlTag=null;this.creationUI=null;this.designerTag=null;this.configMenuTag=null;this.availParamTag=null;this.defParamTag=null;this.drpDwnDtType=null;this.drpDwnVisible=null;this.listContainer=null;this.bodyContainer=null;this.newParamContainer=null;this.nullTag=null;this.multiValTag=null;this.allowBlank=null;this.assignDialog=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.parameters=this.rdlParser.rdlJsonObj.ReportParameters;this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"Parameter",{get:function(){return ej.isNullOrUndefined(this.reportParameter)&&(this.reportParameter=new ej.DashboardDesignerUtility.Parameter),this.reportParameter},enumerable:!0,configurable:!0}),n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)},n.prototype.updateParameterJSON=function(){this.parameters=this.rdlParser.rdlJsonObj.ReportParameters},n.prototype.renderContainer=function(n){this.targetTag=n;var t=ej.buildTag("div.e-reportdesigner-designer-configuration","",{width:"100%",height:"100%"},{id:this.id+"_param_Container"});this.targetTag.append(t);this.renderParameterPanel(t)},n.prototype.isConfigWizard=function(){return this.designerTag.is(":visible")?!0:!1},n.prototype.showParameter=function(n,t){$("#"+this.id+"_param_Container").css("display",n?"block":"none");n&&this.designerTag.is(":visible")&&(this.creationUI.css("display","block"),this.designerTag.css("display","none"));t.isParameter&&(this.updateSize(),t.isParameter=!1)},n.prototype.renderParameterPanel=function(n){var t=this.creationUI=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{width:"100%",height:"100%",display:"block",position:"relative","background-color":"white"},{id:this.id+"_parameterList"}),i=this.designerTag=ej.buildTag("div","",{width:"100%",height:"100%",display:"none","background-color":"white"},{id:this.id+"_createParameter"});n.append(t);n.append(i);this.renderParameterList(t);this.renderNewParameter(i);this.populateReportParameters();this.updateSize()},n.prototype.renderParameterList=function(n){var i=ej.buildTag("div","",{width:"100%",height:"35px",display:"block",overflow:"hidden"},{id:this.id+"_param_Hdr_Container"}),t=this.bodyContainer=ej.buildTag("div.e-lv e-js e-parentlv e-designer-hint-newparameter e-reportdesigner-scroller ","",{width:"100%",display:"block","margin-left":"1px","background-color":"white"},{id:this.id+"_paramBdy_Container"}),r=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_param_Footr_Container"}),o=ej.buildTag("span.e-designer-header e-designer-cursor","PARAMETERS",{padding:"8.5px 7px 7px 0px",overflow:"hidden",display:"inline-block"}),s=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-parameters e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),u=ej.buildTag("div","",{},{}),f=this.listContainer=ej.buildTag("div.e-list-container e-js e-widget e-reportdesigner-dataset","",{"border-top-width":"1px",padding:"0px 3px"},{id:this.id+"_div_paramList"}),h=this.paramUlTag=ej.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"}),c=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"}),e=ej.buildTag("button.e-designer-newparam-btn e-designer-button","NEW PARAMETER",{"padding-right":"3px"},{id:this.id+"_btn_New_Param"});i.append(o);i.append(s);r.append(c);f.append(h);u.append(f);t.append(u);r.append(e);n.append(i);n.append(t);n.append(r);e.ejButton({showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:$.proxy(this.parameterSelection,this,"New")});t.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.renderContextMenu(t)},n.prototype.renderContextMenu=function(n){var t=this.configMenuTag=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_param_dsConfigMenu"});t.append('<li><a class="e-reportdesigner-menu-list">Edit<\/a><\/li>');t.append('<li><a class="e-reportdesigner-menu-list">Delete<\/a><\/li>');n.append(t);t.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:this.creationUI,width:100,click:$.proxy(this.contextMenuClick,this)})},n.prototype.renderNewParameter=function(n){var i=ej.buildTag("div","",{width:"100%",height:"30px",display:"block",overflow:"hidden","background-color":"white"},{id:this.id+"_create_Hdr_Container"}),r=this.newParamContainer=ej.buildTag("div.e-reportdesigner-scroller ","",{width:"100%",display:"block","background-color":"white"},{id:this.id+"_createParam_Bdy_Container"}),u=ej.buildTag("div","",{},{}),t=ej.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_create_param_Footr"}),h=ej.buildTag("span.e-designer-header e-designer-cursor","NEW PARAMETER",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_span_text_header"}),c=ej.buildTag("span.e-designer-header-icon e-reportdesigner-configuration-parameters e-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px",cursor:"auto"},{}),l=ej.buildTag("div.e-designer-new-btn-footer","",{margin:"8px","margin-bottom":"9px"}),f=ej.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{}),e=ej.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{}),o=ej.buildTag("button.e-designer-content e-designer-button e-designer-connect-btn e-designer-savebtn ","Save",{},{id:this.id+"_param_btn_Save"}),s=ej.buildTag("button.e-designer-content e-designer-button e-designer-back-btn e-designer-savebtn ","Cancel",{},{id:this.id+"_param_btn_cancel"});i.append(h);i.append(c);t.append(l);r.append(u);t.append(f);t.append(e);f.append(o);e.append(s);n.append(i);n.append(r);n.append(t);this.populateNewParameter(u);o.ejButton({showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-shrink",size:"small",click:$.proxy(this.onSaveParameter,this)});s.ejButton({showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,prefixIcon:"e-reply",size:"small",click:$.proxy(this.onCancelParameter,this,!0)});r.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.populateNewParameter=function(n){var i=ej.buildTag("div","",{width:"100%",display:"inline-block",height:"auto"},{id:this.id+"_basic_panel_div"}),t=ej.buildTag("table.e-designer-param-table","",{"margin-left":"7px","margin-bottom":"6px",width:"100%"},{unselectable:"on",id:this.id+"_basic_panel_table"});this.renderTextBoxItem("Name",this.id+"_param_name",t,this.getValidParameter());this.renderTextBoxItem("Prompt",this.id+"_param_prompt",t,this.getValidParameter());this.renderDropDownList("Data Type",this.id+"_param_dataType",t,[{name:"String"},{name:"Boolean"},{name:"DateTime"},{name:"Integer"},{name:"Float"}],0);this.renderCheckboxItem('Allow blank value ("")',this.id+"_param_blnkVal",t,"3px 0px 5px 5px");this.renderCheckboxItem("Allow null value",this.id+"_param_nullVal",t,"5px 0px 5px 5px");this.renderCheckboxItem("Allow multiple values",this.id+"_param_multVal",t,"5px 0px 5px 5px");this.renderDropDownList("Visibility",this.id+"_param_visibilty",t,[{name:"Visible"},{name:"Hidden"},{name:"Internal"}],0);var r=ej.buildTag("tr","",{},{}),u=ej.buildTag("td","",{"padding-top":"10px"},{}),f=ej.buildTag("a.e-designer-fontfamily","Assign Value >>",{"font-size":"12px","font-weight":"600",margin:"3px","margin-top":"4px","margin-left":"5px",color:"#3a99fb"},{href:"javascript:void(0);",color:"#0B0080",id:this.id+"_param_assign_values"});n.append(i);i.append(t);t.append(r);r.append(u);u.append(f);f.bind("click",$.proxy(this.openAssignDialog,this));this.drpDwnDtType=$("#"+this.id+"_param_dataType");this.drpDwnVisible=$("#"+this.id+"_param_visibilty");this.nullTag=$("#"+this.id+"_param_nullVal");this.allowBlank=$("#"+this.id+"_param_blnkVal");this.multiValTag=$("#"+this.id+"_param_multVal");this.drpDwnDtType.data("ejDropDownList").setModel({change:$.proxy(this.onDropDownChange,this)})},n.prototype.getLabelCaption=function(n,t){var i=ej.buildTag("tr","",{}),u=ej.buildTag("td","",{}),f=ej.buildTag("label.editLabel e-designer-title-label",n,{}),r;return u.append(f),i.append(u),r=ej.buildTag("td","",{"padding-right":"18px"},{id:t+"_error_icon_td"}),ej.DashboardUtil.renderErrIndictor(r,this.id),i.append(r),i},n.prototype.renderTextBoxItem=function(n,t,i,r){var o=ej.buildTag("tr","",{},{id:t+"_tr"}),s=ej.buildTag("td","",{}),u,f,e,h;o.append(s);i.append(o);u=ej.buildTag("table","",{width:"100%"},{unselectable:"on"});s.append(u);u.append(this.getLabelCaption(n,t));f=ej.buildTag("tr","",{});e=ej.buildTag("td","",{},{colspan:"2",id:t+"_td"});u.append(f);f.append(e);h=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-content-label","",{height:"25px",width:"216px"},{edittype:"stringedit",id:t,type:"text",value:r});e.append(h)},n.prototype.renderDropDownList=function(n,t,i,r,u){var c=ej.buildTag("tr","",{},{id:t+"_tr"}),l=ej.buildTag("td","",{}),f,e,o,s,h;c.append(l);i.append(c);f=ej.buildTag("table","",{width:"100%"},{unselectable:"on"});l.append(f);f.append(this.getLabelCaption(n,t));e=ej.buildTag("tr","",{});o=ej.buildTag("td","",{"padding-bottom":"5px"},{colspan:"2",id:t+"_td"});f.append(e);e.append(o);s=ej.buildTag("div","",{float:"left",margin:"1px","margin-top":"0px"},{id:t+"_parameter_li"});h=ej.buildTag("input","",{},{id:t});s.append(h);o.append(s);h.ejDropDownList({dataSource:r,fields:{text:"name"},selectedIndex:u,width:"228px",height:"28px",showRoundedCorner:!0,cssClass:"e-reportdesigner-dataset-selection  e-designer-param-assign e-designer-border e-designer-ejwidgets"})},n.prototype.renderCheckboxItem=function(n,t,i,r){var f=ej.buildTag("tr","",{id:t+"_tr"}),e=ej.buildTag("td","",{align:"left",padding:r},{}),u;f.append(e);i.append(f);u=ej.buildTag("input","",{},{type:"checkbox",id:t});e.append(u);u.ejCheckBox({cssClass:"e-designer-param-assign e-designer-param-checktxt",text:n})},n.prototype.renderRadioItem=function(n,t,i,r,u){var f=ej.buildTag("td","",{}),e;f.css("width","119px");u.append(f);e=ej.buildTag("input","",{},{type:"radio",name:i,id:t});f.append(e);e.ejRadioButton({checked:r,change:$.proxy(this.changeOptions,this,n),text:n})},n.prototype.renderAvailableParameters=function(){var r=$("#"+this.id+"_assign_parent_div"),n=this.availParamTag=ej.buildTag("div.e-reportdesigner-designer-parameters","",{width:"100%",display:"block"},{id:this.id+"_availParameters"}),i=ej.buildTag("table.e-designer-param-table","",{"margin-top":"6px","margin-left":"6px"},{unselectable:"on"}),t;n.append(i);t=ej.buildTag("tr","",{});i.append(t);this.renderRadioItem("None",this.id+"_avail_none","avail",!0,t);this.renderRadioItem("Specify Value",this.id+"_avail_specify","avail",!1,t);this.renderRadioItem("Query Value",this.id+"_avail_qury","avail",!1,t);this.renderNoneFields(n,this.id+"_avail_none_container","avail");this.renderSetValuePanel(n,this.id+"_avail_val_container","avail");this.renderQueryPanel(n,this.id+"_avail_qury_container","avail");r.append(n)},n.prototype.renderQueryPanel=function(n,t,i){for(var tt,r,it,u,v,e,y=ejDashboardDesigner.getInstance("DataSet").datasets,p=[],ot=i==="avail"?"available":"default",c=0;c<y.length;c++)p.push({name:y[c].Name});var l=ej.buildTag("div","",{width:"auto",height:"100%",display:"none",overflow:"auto","margin-left":"8px"},{id:t}),w=ej.buildTag("div","",{},{}),b=ej.buildTag("table.e-designer-param-table","",{width:"100%"},{unselectable:"on"}),k=ej.buildTag("tr","",{"padding-top":"10px"},{}),d=ej.buildTag("td","",{},{}),st=ej.buildTag("Label.e-designer-add-label","Choose the dataSet and fields for the "+ot+" values :",{},{type:"label"}),g=ej.buildTag("div","",{height:"250px",width:"581px",overflow:"auto"},{}),nt=ej.buildTag("div","",{}),a=ej.buildTag("table.e-designer-param-table","",{width:"100%"},{}),o=ej.buildTag("tr","",{},{}),s=ej.buildTag("td","",{},{});i==="avail"?s.css({width:"52px"}):s.css({width:"25px"});tt=ej.buildTag("Label.e-designer-fontfamily","Dataset",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"});r=ej.buildTag("td","",{"padding-left":"19px"},{});i==="avail"?r.css({width:"52px"}):r.css({width:"66px"});it=ej.buildTag("Label.e-designer-fontfamily","Value Field",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"});u=ej.buildTag("td","",{},{});i==="avail"?u.css({width:"46px","padding-left":"20px"}):u.css({width:"46px","padding-left":"15px"});var ht=ej.buildTag("Label.e-designer-fontfamily","Label Field",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"}),f=ej.buildTag("tr","",{},{}),h=ej.buildTag("td","",{},{});i==="avail"?h.css("width","20px"):h.css("width","6px");v=ej.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtset"});e=ej.buildTag("td","",{"padding-left":"19px"},{});i==="avail"?e.css({width:"20px"}):e.css({width:"290px"});var rt=ej.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtsetVal"}),ut=ej.buildTag("td","",{"padding-left":"19px"},{}),ft=ej.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtsetLbl"}),et=ej.buildTag("td","",{"padding-top":"1px"},{id:this.id+"_"+i+"_param_query_td"});ej.DashboardUtil.renderErrIndictor(et,this.id);n.append(l);l.append(w);w.append(b);b.append(k);k.append(d);d.append(st);l.append(g);g.append(nt);nt.append(a);a.append(o);o.append(s);s.append(tt);o.append(r);r.append(it);a.append(f);f.append(h);h.append(v);f.append(e);e.append(rt);i.toLowerCase()==="avail"&&(o.append(u),u.append(ht),f.append(ut),ut.append(ft));f.append(et);v.ejDropDownList({dataSource:p,fields:{text:"name"},enabled:!0,width:"162px",height:"26px",change:$.proxy(this.onValueChange,this,i),cssClass:"e-reportdesigner-dataset-selection e-designer-param-assign e-designer-border e-designer-ejwidgets",watermarkText:"Choose Dataset Value",showRoundedCorner:!0});rt.ejDropDownList({dataSource:[],fields:{text:"name"},enabled:!1,width:"162px",height:"26px",showRoundedCorner:!0,cssClass:"e-reportdesigner-dataset-selection e-designer-param-assign e-designer-border e-designer-ejwidgets",watermarkText:"Choose Value"});ft.ejDropDownList({dataSource:[],fields:{text:"name"},enabled:!1,width:"162px",height:"26px",showRoundedCorner:!0,cssClass:"e-reportdesigner-dataset-selection e-designer-param-assign e-designer-border e-designer-ejwidgets",watermarkText:"Choose Label"})},n.prototype.renderSetValuePanel=function(n,t,i){var l=i==="avail"?"available":"default",u=ej.buildTag("div","",{width:"auto",height:"100%",display:"none","margin-top":"0px",overflow:"auto","margin-left":"12px"},{id:t}),o=ej.buildTag("div","",{},{}),s=ej.buildTag("table","",{},{}),f=ej.buildTag("tr","",{"padding-top":"10px"},{}),h=ej.buildTag("td","",{width:"520px"},{}),a=ej.buildTag("Label.e-designer-add-label","Add the "+l+" values for parameters:",{},{type:"label"}),r=ej.buildTag("div","",{cursor:"pointer",float:"right"},{}),c=ej.buildTag("td","",{},{}),v=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_"+i+"_add_span"}),y=ej.buildTag("span.e-btntxt e-designer-add-btn ","ADD",{},{}),e=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{margin:"0px 0px 4px 0px",height:"250px",width:"571px",padding:"5px 0px"},{id:this.id+"_"+i+"_val_parent"}),p=ej.buildTag("div.e-items","",{},{id:this.id+"_"+i+"_container_div"});n.append(u);u.append(o);o.append(s);s.append(f);f.append(h);h.append(a);f.append(c);c.append(r);r.append(v);r.append(y);u.append(e);e.append(p);e.ejScroller({height:"250px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});r.bind("click",$.proxy(this.renderSetValueFields,this,i))},n.prototype.renderSetValueFields=function(n){var k=$("#"+this.id+"_"+n+"_container_div"),f=$("#"+this.id+"_"+n+"_val_parent"),d="e-reportdesigner-parameter-"+n+"-row",t=ej.getGuid(this.id+"_row_"),g=ejDashboardDesigner.getInstance("DragOnDrop"),e=ej.buildTag("div","",{padding:"4px"},{id:t,rowId:t,"class":d+" e-drag-row"}),c,u,l,b;k.append(e);var a=ej.buildTag("table.e-designer-table-dialog","",{width:"100%"},{}),i=ej.buildTag("tr","",{height:"36px"},{}),v=ej.buildTag("td","",{width:"12px"},{}),y=ej.buildTag("div.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-assign-value e-designer-double-drag","",{display:"inline-block","line-height":"2"},{id:t+"_"+n+"_iconspan"}),o=ej.buildTag("td","",{width:"60px"},{id:t+"_"+n+"_lbl_txtCol"}),r=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border ","",{height:"20px"},{type:"text",id:t+"_"+n+"_lbl_txt"}),s=ej.buildTag("td","",{width:"20px","padding-left":"14px"},{});this.expression.renderExpressionElement(s,{id:t+"_param_lable_"+n,enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Parameter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[t+"_"+n+"_lbl_txt",t+"_param_lable_"+n]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[t+"_"+n+"_lbl_txt",t+"_param_lable_"+n]},parentElement:$("#"+this.id+"_assign_dialog")}});n.toLowerCase()==="avail"?ej.DashboardUtil.txtWaterMark(r,"Label"):ej.DashboardUtil.txtWaterMark(r,"Choose Default Value");n.toLowerCase()==="avail"?r.css("width","167px"):r.css("width","200px");n.toLowerCase()==="avail"?o.css("width","60px"):o.css("width","20px");n.toLowerCase()==="avail"?s.css("padding-right","0px"):s.css("padding-right","241px");e.append(a);a.append(i);i.append(v);v.append(y);i.append(o);o.append(r);i.append(s);var p=ej.buildTag("td","",{width:"60px","padding-right":"5px"},{}),w=ej.buildTag("span.e-chk-image e-icon e-cross-circle e-designer-delete-icon","",{cursor:"default","padding-top":"4px"},{id:t+"_"+n+"_del_icon"}),h=ej.buildTag("td","",{},{});return n.toLowerCase()==="avail"?h.css({width:"60px","padding-left":"4px"}):h.css({width:"60px","padding-left":"28px"}),c=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"20px",width:"167px"},{type:"text",id:t+"_"+n+"_value_txt"}),ej.DashboardUtil.txtWaterMark(c,"Value"),u=ej.buildTag("td.e-reportdesigner-box-sizing","",{width:"20px",display:"none","padding-left":"14px","padding-right":"47px","margin-top":"1px"},{id:t+"_"+n+"_txtCol_exp"}),this.expression.renderExpressionElement(u,{id:t+"_param_txt_"+n,enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"12px",dataInfo:{element:{name:"Parameter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[t+"_"+n+"_value_txt",t+"_param_txt_"+n]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[t+"_"+n+"_value_txt",t+"_param_txt_"+n]},parentElement:$("#"+this.id+"_assign_dialog")}}),l=ej.buildTag("td","",{"padding-top":"1px",width:"50px"},{id:t+"_param_error_td"}),ej.DashboardUtil.renderErrIndictor(l,this.id),n.toLowerCase()==="avail"&&(i.append(h),h.append(c),i.append(u)),n.toLowerCase()==="avail"?u.css({display:"inline-block"}):u.css({display:"none"}),i.append(l),i.append(p),p.append(w),w.bind("click",$.proxy(this.deleteRow,this,e,f)),g.initializeSortable(y,e,this.id+"_assign_dialog",this.id+"_"+n+"_val_parent"),b=$("#"+this.id+"_"+n+"_container_div").height(),f.height()>b?f.find(".e-content").removeClass("e-content"):this.scrollerRefresh(f),t},n.prototype.renderNoneFields=function(n,t){var i=ej.buildTag("div","",{border:"1px solid white","border-radius":"2px",margin:"0px 0px 0px 12px",height:"274px",width:"584px",padding:"5px 0px",display:"block"},{id:t});n.append(i)},n.prototype.renderDefaultParameters=function(){var r=$("#"+this.id+"_assign_parent_div"),n=this.defParamTag=ej.buildTag("div.e-reportdesigner-designer-parameters","",{width:"auto",display:"none"},{id:this.id+"_defParameters"}),i=ej.buildTag("table.e-designer-param-table","",{"margin-top":"6px","margin-left":"6px"},{unselectable:"on"}),t;n.append(i);t=ej.buildTag("tr","",{});i.append(t);this.renderRadioItem("None",this.id+"_def_none","def",!0,t);this.renderRadioItem("Specify Value",this.id+"_def_specify","def",!1,t);this.renderRadioItem("Query Value",this.id+"_def_qury","def",!1,t);this.renderNoneFields(n,this.id+"_def_none_container","def");this.renderSetValuePanel(n,this.id+"_def_val_container","def");this.renderQueryPanel(n,this.id+"_def_qury_container","def");r.append(n)},n.prototype.renderAssignDialog=function(){var i=this.assignDialog=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Parameter",id:this.id+"_assign_dialog"}),r=ej.buildTag("div","",{width:"100%"},{id:this.id+"_assign_parent_div"}),n=ej.buildTag("ul","",{},{}),t=ej.buildTag("li","",{width:"127px",height:"30px","list-style":"none"},{}),s=ej.buildTag("a.e-designer-param-assign e-designer-param-tab","Available Value",{},{href:"#"+this.id+"_assign_parent_div"}),u=ej.buildTag("li","",{height:"30px","list-style":"none"},{}),h=ej.buildTag("a.e-designer-param-assign e-designer-param-tab","Default Value",{},{href:"#"+this.id+"_assign_parent_div"}),f=ej.buildTag("button.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_assign_btn_cancel"}),e=ej.buildTag("button.e-designer-okbtn","",{float:"right"},{id:this.id+"_param_btn_ok"}),o;i.append(r);r.append(n);n.append(t);t.append(s);n.append(u);u.append(h);$(document.body).append(i);i.ejDialog({width:"auto",minWidth:600,height:"auto",minHeight:410,enableResize:!1,showOnInit:!1,showHeader:!0,enableModal:!0,cssClass:"e-designer-dialog e-flat-mode",showFooter:!0});r.ejTab({itemActive:$.proxy(this.onTabActive,this)});o=$("#"+this.id+"_assign_dialog_foot");o.append(f).append(e);e.ejButton({showRoundedCorner:!1,size:"mini",text:"OK",click:$.proxy(this.saveDialogValues,this,!0)});f.ejButton({showRoundedCorner:!1,size:"mini",text:"Cancel",click:$.proxy(this.closeDialog,this,!0)});this.renderAvailableParameters();this.renderDefaultParameters();n.css("height",t.height()+parseInt(t.css("border-bottom-width"),10))},n.prototype.contextMenuClick=function(n){var t=this.configMenuTag.attr("parameter");switch(n.text){case"Edit":this.editParameter(t);break;case"Delete":ej.DashboardUtil.getInstance().ejAlertDialog("Parameter","Delete report parameter '"+t+"'?",!0,!0,!0,"",{dataInfo:{name:t},instance:this,method:"deletConfirmation"})}},n.prototype.deletConfirmation=function(n,t){n&&!ej.isNullOrUndefined(t)&&this.removeParameter(t.name)},n.prototype.onValueChange=function(n,t){var u=ejDashboardDesigner.getInstance("DataSet").datasets,r,f,i;for(n.toLowerCase()==="avail"?(r=$("#"+this.id+"_avail_qury_dtsetVal").data("ejDropDownList"),f=$("#"+this.id+"_avail_qury_dtsetLbl").data("ejDropDownList")):n.toLowerCase()==="def"&&(r=$("#"+this.id+"_def_qury_dtsetVal").data("ejDropDownList")),i=0;i<u.length;i++)if(u[i].Name===t.selectedText){ej.isNullOrUndefined(r)||(r.setModel({fields:{id:"Name",text:"Name",value:"Name"}}),r.setModel({dataSource:u[i].Fields,enabled:!0}));ej.isNullOrUndefined(f)||(f.setModel({fields:{id:"Name",text:"Name",value:"Name"}}),f.setModel({dataSource:u[i].Fields,enabled:!0}));break}},n.prototype.parameterSelection=function(){this.resetParamUI();$("#"+this.id+"_span_text_header").text("NEW PARAMETER");this.creationUI.css("display","none");this.designerTag.css("display","block");$("#"+this.id+"_param_name").val(this.getValidParameter());$("#"+this.id+"_param_prompt").val(this.getValidParameter());this.parameter=this.createParameter();this.scrollerRefresh(this.newParamContainer);this.updateControlSize()},n.prototype.onDropDownChange=function(n){var t=this.drpDwnDtType.data("ejDropDownList").getSelectedValue(),i;n.isInteraction&&((ej.isNullOrUndefined(this.parameter)||ej.isNullOrUndefined(this.parameter.DefaultValue))&&ej.isNullOrUndefined(this.parameter.ValidValues)||t!==this.getDataType(this.parameter.DataType)&&(i="Changing the datatype will discard changes made to the available and default values. Do you want to change the datatype anyway ?",ej.DashboardUtil.getInstance().ejAlertDialog("Parameter",i,!0,!1,!0,"",{instance:this,method:"discardValue"})));t==="String"?this.allowBlank.data("ejCheckBox").enable():this.allowBlank.data("ejCheckBox").disable()},n.prototype.discardValue=function(n){if(n){var t=this.drpDwnDtType.data("ejDropDownList").getSelectedValue();this.parameter.ValidValues=null;this.parameter.DefaultValue=null;this.parameter.DataType=this.getDataTypeVal(t)}else this.drpDwnDtType.data("ejDropDownList").selectItemByText(this.getDataType(this.parameter.DataType))},n.prototype.changeSelection=function(n,t){n&&(t.toLowerCase()==="allownull"?this.nullTag.data("ejCheckBox").setModel({checked:this.parameter.Nullable}):this.allowBlank.data("ejCheckBox").setModel({checked:this.parameter.AllowBlank}),this.onSaveParameter())},n.prototype.resetParamUI=function(){$("#"+this.id+"_param_name").val("");$("#"+this.id+"_param_prompt").val("");this.parameterItem=this.isEdit?this.parameterItem:null;this.isEdit?this.drpDwnDtType.data("ejDropDownList").setModel({selectedIndex:-1}):this.drpDwnDtType.data("ejDropDownList").setModel({selectedIndex:0});this.drpDwnVisible.data("ejDropDownList").setModel({selectedIndex:0});this.allowBlank.data("ejCheckBox").setModel({checked:!1});this.nullTag.data("ejCheckBox").setModel({checked:!1});this.multiValTag.data("ejCheckBox").setModel({checked:!1});this.hideValidationMsg();!ej.isNullOrUndefined(this.assignDialog)&&this.assignDialog.data("ejDialog")&&this.resetDialogValues()},n.prototype.hideValidationMsg=function(){this.renderValidation(this.id+"_param_name",!1);this.renderValidation(this.id+"_param_prompt",!1)},n.prototype.onSaveParameter=function(){if(this.validateParamFields()){this.parameter.Name=$("#"+this.id+"_param_name").val();this.parameter.Prompt=$("#"+this.id+"_param_prompt").val();var t=this.drpDwnDtType.data("ejDropDownList").option("itemValue"),n=this.drpDwnVisible.data("ejDropDownList").model.value;this.parameter.DataType=this.getDataTypeVal(t);this.parameter.AllowBlank=t.toLowerCase()==="string"?this.allowBlank.data("ejCheckBox").model.checked:!1;n==="Hidden"?this.parameter.Hidden=!0:n==="Visible"?this.parameter.Hidden=!1:n==="Internal"&&(this.parameter.Hidden=!0,this.parameter.Prompt=null);this.parameter.Nullable=this.nullTag.data("ejCheckBox").model.checked;this.parameter.MultiValue=this.multiValTag.data("ejCheckBox").model.checked;this.creationUI.css("display","block");this.designerTag.css("display","none");this.scrollerRefresh(this.bodyContainer);this.scrollerRefresh(this.newParamContainer);this.isEdit?this.updateParameter(this.parameterItem,this.parameter):this.addParameter(this.parameter);this.isEdit=!1}else return},n.prototype.onCancelParameter=function(){this.creationUI.css("display","block");this.designerTag.css("display","none");this.closeDialog();this.isEdit=!1},n.prototype.updateSize=function(){if(this.isLoaded()){$("#"+this.id+"_param_Container").height($("#"+this.id+"_designerConfigurationPanel").height());var n=$("#"+this.id+"_param_Container").height()-($("#"+this.id+"_param_Hdr_Container").height()+$("#"+this.id+"_param_Footr_Container").height()),t=$("#"+this.id+"_param_Container").height()-($("#"+this.id+"_create_Hdr_Container").height()+$("#"+this.id+"_create_param_Footr").height());this.bodyContainer.height(n);this.newParamContainer.height(t);this.bodyContainer.data("ejScroller")&&(this.bodyContainer.data("ejScroller").setModel({height:n+"px"}),this.bodyContainer.data("ejScroller").refresh());this.newParamContainer.data("ejScroller")&&(this.newParamContainer.data("ejScroller").setModel({height:t+"px"}),this.newParamContainer.data("ejScroller").refresh());this.updateControlSize()}},n.prototype.updateControlSize=function(){$("#"+this.id+"_basic_panel_div").height()>this.newParamContainer.height()?($("#"+this.id+"_param_name").css("width","208px"),$("#"+this.id+"_param_prompt").css("width","208px"),this.drpDwnDtType.data("ejDropDownList").setModel({width:"218px"}),this.drpDwnVisible.data("ejDropDownList").setModel({width:"218px"})):($("#"+this.id+"_param_name").css("width","216px"),$("#"+this.id+"_param_prompt").css("width","216px"),this.drpDwnDtType.data("ejDropDownList").setModel({width:"228px"}),this.drpDwnVisible.data("ejDropDownList").setModel({width:"228px"}))},n.prototype.changeOptions=function(n){var t=$("#"+this.id+"_avail_val_container"),i=$("#"+this.id+"_avail_qury_container"),r=$("#"+this.id+"_def_val_container"),u=$("#"+this.id+"_def_qury_container"),f=$("#"+this.id+"_def_none_container"),e=$("#"+this.id+"_avail_none_container");n.toLowerCase()==="specify value"&&$("#"+this.id+"_avail_specify").data("ejRadioButton").model.checked?(t.css("display","block"),i.css("display","none"),e.css("display","none")):n.toLowerCase()==="query value"&&$("#"+this.id+"_avail_qury").data("ejRadioButton").model.checked?(i.css("display","block"),t.css("display","none"),e.css("display","none")):n.toLowerCase()==="none"&&$("#"+this.id+"_avail_none").data("ejRadioButton").model.checked&&(t.css("display","none"),i.css("display","none"),e.css("display","block"));n.toLowerCase()==="specify value"&&$("#"+this.id+"_def_specify").data("ejRadioButton").model.checked?(r.css("display","block"),u.css("display","none"),f.css("display","none")):n.toLowerCase()==="query value"&&$("#"+this.id+"_def_qury").data("ejRadioButton").model.checked?(u.css("display","block"),r.css("display","none"),f.css("display","none")):n.toLowerCase()==="none"&&$("#"+this.id+"_def_none").data("ejRadioButton").model.checked&&(r.css("display","none"),u.css("display","none"),f.css("display","block"))},n.prototype.onTabActive=function(n){var t,i;n.activeHeader.innerText==="Available Value"?(this.availParamTag.css("display","block"),this.defParamTag.css("display","none"),t=$("#"+this.id+"_avail_val_parent"),i=$("#"+this.id+"_avail_container_div").height()):n.activeHeader.innerText==="Default Value"&&(this.availParamTag.css("display","none"),this.defParamTag.css("display","block"),t=$("#"+this.id+"_def_val_parent"),i=$("#"+this.id+"_def_container_div").height());t.height()>i?t.find(".e-content").removeClass("e-content"):this.scrollerRefresh(t)},n.prototype.validateParameter=function(n){for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n)return!1;return!0},n.prototype.getValidParameter=function(){for(var t="ReportParameter",i="ReportParameter1",n=0;n<=this.parameters.length;n++)if(this.validateParameter(t+(n+1))){i=t+(n+1);break}return i},n.prototype.validateParamFields=function(){var n=$("#"+this.id+"_param_name").val(),i=$("#"+this.id+"_param_prompt").val(),r=$("#"+this.id+"_def_container_div .e-reportdesigner-parameter-def-row"),u=this.drpDwnVisible.data("ejDropDownList").model.value,f=this.nullTag.data("ejCheckBox").model.checked,e=this.parameter.Nullable,o=this.allowBlank.data("ejCheckBox").model.checked,s=this.parameter.AllowBlank,t;if(n.length===0||i.length===0)return this.renderValidation(this.id+"_param_name",n.length===0,"Please enter the name"),u!=="Internal"?(this.renderValidation(this.id+"_param_prompt",i.length===0,"Please enter the value"),!1):(this.renderValidation(this.id+"_param_prompt",!1),!0);if(this.validateParameter(n)||this.isEdit)if(/^[a-zA-Z0-9-_]*$/.test(n)){if(this.nullTag.data("ejCheckBox").isChecked()&&this.multiValTag.data("ejCheckBox").isChecked())return ej.DashboardUtil.getInstance().ejAlertDialog("Parameter","A multi-value parameter cannot include null values",!1,!0,!0,""),!1;if(r.length>1&&!$("#"+this.id+"_param_multVal").data("ejCheckBox").model.checked)return ej.DashboardUtil.getInstance().ejAlertDialog("Parameter","Multiple default values were specified. The parameter does not allow multiple values.",!1,!0,!0,""),!1;if(!this.parameter.Nullable||f===e||ej.isNullOrUndefined(this.parameter.ValidValues)||!ej.isNullOrUndefined(this.parameter.DefaultValue)){if(this.parameter.AllowBlank&&o!==s&&!(ej.isNullOrUndefined(this.parameter.ValidValues)||!ej.isNullOrUndefined(this.parameter.DefaultValue)))return t="Available or Default values might contains blank value, Do you want to check the allow blank value?",ej.DashboardUtil.getInstance().ejAlertDialog("Parameter",t,!0,!1,!0,"",{method:"changeSelection",instance:this,dataInfo:"allowblank"}),!1}else return t="Available or Default values might contains null value, Do you want to check the allow null value?",ej.DashboardUtil.getInstance().ejAlertDialog("Parameter",t,!0,!1,!0,"",{method:"changeSelection",instance:this,dataInfo:"allownull"}),!1}else return this.renderValidation(this.id+"_param_name",!0,"Name should not contain spaces and special characters"),!1;else return this.renderValidation(this.id+"_param_name",!0,"The name "+n+" already exists"),!1;return!0},n.prototype.validateExpValue=function(n){if(ej.DashboardUtil.contains(n,"[",!0)||ej.DashboardUtil.contains(n,"]",!0)){if(/^-?\[(?=.*[a-zA-Z])[a-zA-Z0-9@]{1,1000}\]$/.test(n)){if(ej.DashboardUtil.contains(n,"@",!0)&&n.indexOf("@")!==1)return!1}else return!1;return!0}},n.prototype.validateQueryValues=function(n,t){var i="",r=$("#"+this.id+"_"+t+"_qury_dtset_container"),u=$("#"+this.id+"_"+t+"_qury_dtsetVal_container");return ej.isNullOrUndefined(n)||(ej.isNullOrUndefined(n.dataSetName)?(i+="Dataset field is required. ",this.updateHighlighter(r,!0)):this.updateHighlighter(r,!1),!ej.isNullOrUndefined(n.dataSetName)&&ej.isNullOrUndefined(n.valueFieldName)?(i+="Value field is required. ",this.updateHighlighter(u,!0)):this.updateHighlighter(u,!1)),i},n.prototype.validateParamValues=function(n,t,i,r){var f=this.drpDwnDtType.data("ejDropDownList").option("itemValue"),o=this.nullTag.data("ejCheckBox").isChecked(),u="",e;return ej.isNullOrUndefined(n)||(n==="\\"?u+="The entered value in the "+t+" field is not a valid token syntax.":ej.DashboardUtil.contains(n,"[",!0)||ej.DashboardUtil.contains(n,"]",!0)?this.validateExpValue(n)||(u+="The entered value in the "+t+" field is not a valid token syntax."):t.toLowerCase()==="value"&&(n==="(Null)"&&o===!1&&(u+="In "+t+" field, A null value was specified. The parameter does not allow null values."),f.toLowerCase()==="string"?n!==""||this.allowBlank.data("ejCheckBox").isChecked()||(u+="The "+t+" field is blank. The parameter does not allow blank values."):f.toLowerCase()==="boolean"?u+=n.toLowerCase()==="true"||n.toLowerCase()==="false"?"":"Value is not a boolean value. ":f.toLowerCase()==="integer"?(e=/^-?[0-9]*[1-9][0-9]*$/,e.test(n)||(u+="Value is not an integer. ")):f.toLowerCase()==="float"?(e=/^[0-9]+(\.)?[0-9]*$/,e.test(n)||(u+="Value is not a float. ")):f.toLowerCase()==="datetime"&&(u+=n.toLowerCase()==="invalid format"?"Value is an invalid date format.":"")),ej.isNullOrUndefined(u)||u.length!==0?(r.removeClass("e-designer-textbox-border").addClass("e-designer-border"),this.updateHighlighter(r,!0)):(this.updateHighlighter(r,!1),r.addClass("e-designer-textbox-border").addClass("e-designer-border"))),u},n.prototype.updateHighlighter=function(n,t){t?n.addClass("e-designer-error").addClass("e-designer-error-radius"):n.removeClass("e-designer-error").removeClass("e-designer-error-radius")},n.prototype.getDateValue=function(n){for(var i=["dd/MM/yyyy","M/d/yyyy","M/d/yy","MM/dd/yy","MM/dd/yyyy","yyyy-MM-dd","dd-MMM-yy","dddd,MMMM d,yyyy","MMMM d,yyyy","dddd,d MMMM,yyyy","d MMMM,yyyy","d MMMM yyyy","MMMM dd yyyy","dd-MMM-yyyy","MMM dd yyyy","dd-MM-yyyy","ddd MMM d yyyy","d/M/yy"],t=0;t<i.length;t++)if(ej.parseDate(n,i[t],this.cultureFormat))return ej.parseDate(n,i[t],this.cultureFormat).toDateString();return"Invalid format"},n.prototype.populateReportParameters=function(){if(this.paramUlTag.empty(),this.parameters=this.rdlParser.rdlJsonObj.ReportParameters,!ej.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(var n=0;n<this.parameters.length;n++)this.getAppendItem(this.parameters[n].Name,this.getDataType(this.parameters[n].DataType));this.showParameterHint()},n.prototype.updateParameter=function(n,t){if(this.updateItem(n,t),!ej.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(var i=0;i<this.parameters.length;i++)if(this.parameters[i].Name===n.Name){this.parameters[i]=t;break}ejDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterEdit,"updateParameter","Parameter","",[t,n],[n,t])},n.prototype.updateItem=function(n,t){var i=n.Name,r=t.Name,u,f,e;n.DataType!==t.DataType&&(u=this.getDataTypeStyle(this.getDataType(n.DataType)),f=this.getDataTypeStyle(this.getDataType(t.DataType)),$("#"+this.id+"_li_param"+i).find(".e-designer-datatype-icon").removeClass(u),$("#"+this.id+"_li_param"+r).find(".e-designer-datatype-icon").addClass(f));e=$("#"+this.id+"_designerConfigurationPanel").width()-84;$("#"+this.id+"_li_param"+i).unbind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,i));$("#"+this.id+"_li_param"+i).unbind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,i));$("#"+this.id+"_li_param"+i).find(".e-title-tip").unbind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(ej.DashboardUtil.getInstance().tagOverTip,this,i));$("#"+this.id+"_li_param"+i).find(".e-title-tip").unbind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(ej.DashboardUtil.getInstance().tagOutTip,this,i));$("#"+this.id+"_li_param"+i+" .e-chk-image").unbind("click",$.proxy(this.editParameterItem,this,i));$("#"+this.id+"_li_param"+i+" .e-list-text").text(r);$("#"+this.id+"_param_"+i).unbind("click",$.proxy(this.editParameterItem,this,i));$("#"+this.id+"_li_param"+i).attr("name",r);$("#"+this.id+"_li_param"+i).attr("id",this.id+"_li_param"+r);$("#"+this.id+"_param_"+i).attr("id",this.id+"_param_"+r);$("#"+this.id+"_li_param"+r).bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,r));$("#"+this.id+"_li_param"+r).bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,r));$("#"+this.id+"_li_param"+r+" .e-chk-image").bind("click",$.proxy(this.editParameterItem,this,r));$("#"+this.id+"_param_"+r).bind("click",$.proxy(this.editParameterItem,this,r));ej.DashboardUtil.textWidth(r,"segoe ui 12px")>=e?($("#"+this.id+"_li_param"+r).find(".e-designer-param-text").addClass("e-title-tip"),ej.DashboardUtil.getInstance().titleTip($("#"+this.id+"_li_param"+r).find(".e-title-tip"))):$("#"+this.id+"_li_param"+r).find(".e-designer-param-text").removeClass("e-title-tip")},n.prototype.addParameters=function(n){for(var i,r,t=0;t<n.length;t++)if(this.isExistParameter(n[t]))for(i=0;i<n.length;i++)for(r=0;r<this.parameters.length;r++)this.parameters[r].Name===n[i].Name&&this.updateParameter(this.parameters[i],n[i]);else this.parameters.push(n[t]),this.isLoaded()&&(this.getAppendItem(n[t].Name,this.getDataType(n[t].DataType)),this.updateContainerBorder(),this.showParameterHint()),ejDashboardDesigner.editManager.addCmdAction(CommandAction.ParametersAdd,"removeParameters","Parameter","",[n,n.length-1],[n])},n.prototype.removeParameters=function(n){var r=[],i,t;if(!ej.isNullOrUndefined(n)&&n.length>0)for(i=0;i<n.length;i++)if(!ej.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(t=this.parameters.length-1;t>=0;t--)if(this.parameters[t].Name===n[i].Name){r.push(this.parameters[t]);this.isLoaded()&&(this.paramUlTag.find("#"+this.id+"_li_param"+this.parameters[t].Name).remove(),this.updateContainerBorder(),this.scrollerRefresh(this.bodyContainer),this.showParameterHint());this.parameters.splice(t,1);break}ejDashboardDesigner.editManager.addCmdAction(CommandAction.ParametersDelete,"addParameters","Parameter","",[n],[r])},n.prototype.isExistParameter=function(n){for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n.Name)return!0;return!1},n.prototype.addParameter=function(n){this.parameters.push(n);this.getAppendItem(n.Name,this.getDataType(n.DataType));this.updateContainerBorder();ejDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterAdd,"removeParameter","Parameter","",[n,this.parameters.length-1],[n.Name]);this.showParameterHint()},n.prototype.editParameter=function(n){$("#"+this.id+"_span_text_header").text("EDIT PARAMETER");for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n){this.isEdit=!0;this.resetParamUI();this.parameterItem=$.extend(!0,{},this.parameters[t]);this.parameter=$.extend(!0,{},this.parameters[t]);this.setParamValues(this.parameter);break}},n.prototype.setParamValues=function(n){this.creationUI.css("display","none");this.designerTag.css("display","block");this.scrollerRefresh(this.newParamContainer);this.updateControlSize();$("#"+this.id+"_param_name").val(n.Name);$("#"+this.id+"_param_prompt").val(n.Prompt);this.drpDwnDtType.data("ejDropDownList").setModel({selectedIndex:n.DataType});n.Hidden===!1?this.drpDwnVisible.data("ejDropDownList").selectItemByText("Visible"):n.Hidden===!0&&n.Prompt===null?this.drpDwnVisible.data("ejDropDownList").selectItemByText("Internal"):this.drpDwnVisible.data("ejDropDownList").selectItemByText("Hidden");this.allowBlank.data("ejCheckBox").setModel({checked:n.AllowBlank});this.nullTag.data("ejCheckBox").setModel({checked:n.Nullable});this.multiValTag.data("ejCheckBox").setModel({checked:n.MultiValue})},n.prototype.insertParameter=function(n,t){t===0?this.parameters.unshift(n):this.parameters.splice(t,0,n);this.getAppendItem(n.Name,this.getDataType(this.parameters[t].DataType),t);this.showParameterHint()},n.prototype.removeParameter=function(n){var t,i;if($("#"+this.id+"_li_param"+n).remove(),this.updateContainerBorder(),!ej.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n){i=$.extend(!0,{},this.parameters[t]);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterDelete,"insertParameter","Parameter","",[this.parameters[t].Name],[i,t]);this.parameters.splice(t,1);break}this.scrollerRefresh(this.bodyContainer);this.showParameterHint()},n.prototype.enableEdit=function(n){this.paramUlTag.find("#"+this.id+"_param_"+n).css("display","block")},n.prototype.disableEdit=function(n){this.paramUlTag.find("#"+this.id+"_param_"+n).css("display","none")},n.prototype.editParameterItem=function(n){var i=$("#"+this.id+"_param_"+n),r=i.offset(),t=this.configMenuTag.data("ejMenu");t.element.attr("parameter",n);t.element.is(":visible")?t.hide():t.show(r.left-this.configMenuTag.width(),r.top+i.height(),this.creationUI,n)},n.prototype.populateDialogValues=function(n){var u,t;if(!ej.isNullOrUndefined(n.DefaultValue)){var r=n.DefaultValue.DataSetReference,f=$("#"+this.id+"_def_qury_dtset").data("ejDropDownList"),e=$("#"+this.id+"_def_qury_dtsetVal").data("ejDropDownList"),i=n.DefaultValue.Values;if(!ej.isNullOrUndefined(r)){for($("#"+this.id+"_def_qury").data("ejRadioButton").setModel({checked:!0}),t=0;t<f.model.dataSource.length;t++)if(r.DataSetName===f.model.dataSource[t].name){f.setModel({selectedIndex:t});break}for(t=0;t<e.model.dataSource.length;t++)if(r.ValueField===e.model.dataSource[t].Name){e.setModel({selectedIndex:t});break}}if(!ej.isNullOrUndefined(i)&&i.length>0)for($("#"+this.id+"_def_specify").data("ejRadioButton").setModel({checked:!0}),t=0;t<i.length;t++)u=this.renderSetValueFields("def"),this.updateValues(u,i[t],"Defaultvalues")}if(!ej.isNullOrUndefined(n.ValidValues)){var r=n.ValidValues.DataSetReference,i=n.ValidValues.ParameterValues,o=$("#"+this.id+"_avail_qury_dtset").data("ejDropDownList"),s=$("#"+this.id+"_avail_qury_dtsetVal").data("ejDropDownList"),h=$("#"+this.id+"_avail_qury_dtsetLbl").data("ejDropDownList");if(!ej.isNullOrUndefined(i)&&i.length>0)for($("#"+this.id+"_avail_specify").data("ejRadioButton").setModel({checked:!0}),t=0;t<i.length;t++)u=this.renderSetValueFields("avail"),this.updateValues(u,i[t],"Availablevalues");if(!ej.isNullOrUndefined(r)){for($("#"+this.id+"_avail_qury").data("ejRadioButton").setModel({checked:!0}),t=0;t<o.model.dataSource.length;t++)if(r.DataSetName===o.model.dataSource[t].name){o.setModel({selectedIndex:t});break}for(t=0;t<s.model.dataSource.length;t++)if(r.ValueField===s.model.dataSource[t].Name){s.setModel({selectedIndex:t});break}for(t=0;t<h.model.dataSource.length;t++)if(r.LabelField===h.model.dataSource[t].Name){h.setModel({selectedIndex:t});break}}}},n.prototype.isFieldAvailable=function(n){var t=ejDashboardDesigner.getInstance("DataSet").datasets,i,u,r;if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)for(u=t[i].Fields,r=0;r<u.length;r++)if(n.length>0&&n===u[r].Name)return!0;return!1},n.prototype.updateTextFieldVal=function(n,t,i,r,u,f){var e=!0,o="white";!n.isExp&&t?(u.val(n.exp),u.attr("e-filter-exp",i),o="white",e=!0):i.startsWith("=")&&n.isExp?(u.attr("e-param-exp",i),o="black",e=!1):(u.val(i),o="white",e=!0);e?u.removeAttr("disabled"):u.attr("disabled","true");f.css("background-color",o)},n.prototype.updateValues=function(n,t,i){var r,f,e,s,o,u;i.toLowerCase()==="availablevalues"&&(f=$("#"+n+"_avail_lbl_txt"),e=$("#"+n+"_avail_value_txt"),f.removeClass("e-designer-txtmark"),e.removeClass("e-designer-txtmark"),r=ej.DashboardUtil.getExpression(t.Label),s=this.isFieldAvailable(r.exp),this.updateTextFieldVal(r,s,t.Label,n,f,$("#"+n+"_param_lable_avail_Expression")),r=ej.DashboardUtil.getExpression(t.Value),u=this.isFieldAvailable(r.exp),this.updateTextFieldVal(r,u,t.Value,n,e,$("#"+n+"_param_txt_avail_Expression")));i.toLowerCase()==="defaultvalues"&&(o=$("#"+n+"_def_lbl_txt"),o.removeClass("e-designer-txtmark"),r=ej.DashboardUtil.getExpression(t),u=this.isFieldAvailable(r.exp),this.updateTextFieldVal(r,u,t,n,o,$("#"+n+"_param_lable_def_Expression")))},n.prototype.renderValidation=function(n,t,i){var r=$("#"+n+"_error_icon_td"),u=$("#"+n+"_td").find(".e-designer-content-label");t?(ej.DashboardUtil.showErrIndictor(r,!0,i),u.addClass("e-designer-error")):(ej.DashboardUtil.showErrIndictor(r,!1),u.removeClass("e-designer-error"));$("#"+this.id+"_createParam_Bdy_Container").data("ejScroller")&&$("#"+this.id+"_createParam_Bdy_Container").data("ejScroller").refresh()},n.prototype.getAppendItem=function(n,t,i){var o=$("#"+this.id+"_designerConfigurationPanel").width()-84,r=ej.buildTag("li.e-user-select e-list e-state-default e-list-check e-draggable e-parameter e-reportdesigner-tree-list e-reportdesigner-param-list","",{padding:"0px","list-style":"none",height:"35px"},{id:this.id+"_li_param"+n,name:n}),s=ej.buildTag("span.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-designer-dragabble-icon","",{padding:"6.5px 5px",display:"inline-block",float:"left"},{id:this.id+"_drag_"+n}),h=ej.buildTag("span.e-query-datatype e-designer-datatype-icon e-designer-cursor "+this.getDataTypeStyle(t),"",{display:"inline-block",float:"left",padding:"3px 2px"},{id:this.id+"_type_"+n,datatype:this.getDataTypeStyle(t)}),u=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"5px 0px"}),f,e;r.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,n));r.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,n));f=ej.buildTag("span.e-list-text e-rel e-designer-param-text e-designer-li-text "+(ej.DashboardUtil.textWidth(n,"segoe ui 12px")>=o?"e-title-tip":""),n,{width:o+"px","padding-left":"5px",margin:"4px 0px"},{name:n});u.append(s);u.append(h);u.append(f);ej.DashboardUtil.getInstance().titleTip(u.find(".e-title-tip"));f.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableEdit,this,n));f.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableEdit,this,n));e=ej.buildTag("span.e-designer-content-icon e-reportdesigner-single-drag e-designer-click","",{display:"none",float:"right","margin-right":"5px","padding-top":"5px"},{id:this.id+"_param_"+n,"e-target":this.id+"_param_dsConfigMenu"});u.append(e);r.append(u);e.bind("click",$.proxy(this.editParameterItem,this,n));ej.isNullOrUndefined(i)?this.paramUlTag.append(r):i===0?(this.paramUlTag.prepend(r),r.css({"border-bottom":"1px solid #DBDBDB"})):this.listContainer.find("ul>li:nth-child("+i+")").after(r);ejDashboardDesigner.getInstance("DragOnDrop").initializeParameterDraggable(r);this.updateContainerBorder();this.bodyContainer.height()>this.listContainer.height()?this.bodyContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.bodyContainer)},n.prototype.getDragElement=function(n,t){var i=ej.buildTag("div","",{border:"0.5px solid #EDF1F4",background:"#EDF1F4",margin:"6px",height:"25px","border-radius":"1px","z-index":"50","white-space":"nowrap",overflow:"hidden"},{id:this.id+"_"+n+"_div"}),u=ej.buildTag("div","",{"margin-right":"3px","margin-left":"15px","margin-top":"2.5px","margin-bottom":"2.5px",float:"left"},{id:this.id+"_dataseticon","class":t}),r=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"12px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-left":"2px","margin-top":"3px",width:"120px","vertical-align":"middle"},{id:this.id+"_"+n+"_text"});return r.text(n),i.append(u),i.append(r),i},n.prototype.updateContainerBorder=function(){this.listContainer.css("border-top-width",this.listContainer.find(" li").length===0?"0px":"1px")},n.prototype.getDataTypeStyle=function(n){var t="e-reportdesigner-dataset-misc";return n.toLowerCase()==="datetime"?t="e-reportdesigner-dataset-datetime":n.toLowerCase()==="integer"||n.toLowerCase()==="float"?t="e-reportdesigner-dataset-number":n.toLowerCase()==="boolean"?t="e-reportdesigner-dataset-boolean":n.toLowerCase()==="string"&&(t="e-reportdesigner-dataset-string"),t},n.prototype.getValues=function(n){var t=n.val(),i,r,u,f;return n.hasClass("e-designer-txtmark")?i="":this.validateExpValue(t)?(r=t.indexOf("@"),u=t.indexOf("]"),r!==-1&&u!==-1&&(f=t.substring(r+1,u),t=f,i="=Parameters!"+t+".Value")):i=t,i},n.prototype.saveDialogValues=function(){var i=this,u={},r={},t="",n,f=!1,e=!1,c,o,y,s,h;if(n=$.extend(!0,{},this.parameter),n.Name=$("#"+this.id+"_param_name").val(),n.Prompt=$("#"+this.id+"_param_prompt").val(),n.DataType=this.getDataTypeVal(this.drpDwnDtType.data("ejDropDownList").getSelectedValue()),n.Nullable=this.nullTag.data("ejCheckBox").model.checked,n.AllowBlank=this.allowBlank.data("ejCheckBox").model.checked,$("#"+this.id+"_avail_specify").data("ejRadioButton").model.checked)c=$("#"+this.id+"_avail_container_div .e-reportdesigner-parameter-avail-row"),o=[],c.each(function(n,r){var s=$(r).attr("id"),l=$("#"+s+"_avail_lbl_txt"),a=$("#"+s+"_avail_value_txt"),c,e={},h,u;e.__type="Syncfusion.RDL.DOM.ParameterValue";e.Label=i.getValues(l);c=i.getValues(a);h=l.attr("e-param-exp");e.Label=!ej.isNullOrUndefined(h)&&h.length>0?h:i.getValues(l);c=i.getValues(a);u=a.attr("e-param-exp");e.Value=i.drpDwnDtType.data("ejDropDownList").getSelectedValue().toLowerCase()==="datetime"?!ej.isNullOrUndefined(u)&&u.length>0?u:i.getDateValue(c):!ej.isNullOrUndefined(u)&&u.length>0?u:c;o.push(e);(ej.isNullOrUndefined(h)||h.length===0)&&(t+=i.validateParamValues(e.Label,"label","(Available)",$("#"+s+"_avail_lbl_txt")));(ej.isNullOrUndefined(u)||u.length===0)&&(t+=i.validateParamValues(e.Value,"value","(Available)",$("#"+s+"_avail_value_txt")));ej.isNullOrUndefined(t)||t.length===0?ej.DashboardUtil.showErrIndictor($("#"+s+"_param_error_td"),!1,t):(ej.DashboardUtil.showErrIndictor($("#"+s+"_param_error_td"),!0,t),t="",f=!0)}),n.ValidValues=this.createValidValues(),n.ValidValues.DataSetReference=null,n.ValidValues.ParameterValues=o;else if($("#"+this.id+"_avail_qury").data("ejRadioButton").model.checked){var l=$("#"+this.id+"_avail_qury_dtset").data("ejDropDownList").model.value,a=$("#"+this.id+"_avail_qury_dtsetVal").data("ejDropDownList").model.value,v=$("#"+this.id+"_avail_qury_dtsetLbl").data("ejDropDownList").model.value;n.ValidValues=this.createValidValues();n.ValidValues.ParameterValues=[];n.ValidValues.DataSetReference.DataSetName=l;n.ValidValues.DataSetReference.ValueField=a;n.ValidValues.DataSetReference.LabelField=v;r.dataSetName=l;r.valueFieldName=a;r.labelFieldName=v;t+=this.validateQueryValues(r,"avail");ej.isNullOrUndefined(t)||t.length===0?ej.DashboardUtil.showErrIndictor($("#"+this.id+"_avail_param_query_td"),!1,t):(ej.DashboardUtil.showErrIndictor($("#"+this.id+"_avail_param_query_td"),!0,t),t="",f=!0)}else $("#"+this.id+"_avail_none").data("ejRadioButton").model.checked&&(n.ValidValues=null);$("#"+this.id+"_def_specify").data("ejRadioButton").model.checked?(y=$("#"+this.id+"_def_container_div .e-reportdesigner-parameter-def-row"),n.DefaultValue=this.createDefaultValues(),n.DefaultValue.DataSetReference=null,y.each(function(r,u){var o=$(u).attr("id"),c=$("#"+o+"_def_lbl_txt"),h=i.getValues(c),f=c.attr("e-param-exp"),s;i.drpDwnDtType.data("ejDropDownList").getSelectedValue().toLowerCase()==="datetime"?(s=i.getDateValue(h),n.DefaultValue.Values.push(!ej.isNullOrUndefined(f)&&f.length>0?f:s)):(s=h,n.DefaultValue.Values.push(!ej.isNullOrUndefined(f)&&f.length>0?f:h));(ej.isNullOrUndefined(f)||f.length===0)&&(t+=i.validateParamValues(s,"value","(Default)",$("#"+o+"_def_lbl_txt")));ej.isNullOrUndefined(t)||t.length===0?ej.DashboardUtil.showErrIndictor($("#"+o+"_param_error_td"),!1,t):(ej.DashboardUtil.showErrIndictor($("#"+o+"_param_error_td"),!0,t),t="",e=!0)})):$("#"+this.id+"_def_qury").data("ejRadioButton").model.checked?(s=$("#"+this.id+"_def_qury_dtsetVal").data("ejDropDownList").model.value,h=$("#"+this.id+"_def_qury_dtset").data("ejDropDownList").model.value,n.DefaultValue=this.createDefaultValues(),n.DefaultValue.ParameterValues=[],n.DefaultValue.DataSetReference.DataSetName=h,n.DefaultValue.DataSetReference.ValueField=s,u.dataSetName=h,u.valueFieldName=s,t+=this.validateQueryValues(u,"def"),ej.isNullOrUndefined(t)||t.length===0?ej.DashboardUtil.showErrIndictor($("#"+this.id+"_def_param_query_td"),!1,t):(ej.DashboardUtil.showErrIndictor($("#"+this.id+"_def_param_query_td"),!0,t),t="",e=!0)):$("#"+this.id+"_def_none").data("ejRadioButton").model.checked&&(n.DefaultValue=null);f||e||(this.parameter=n,n={},this.closeDialog())},n.prototype.updateAvailableDataset=function(){var t=ejDashboardDesigner.getInstance("DataSet").datasets,i=[],n;if(t.length===0)$("#"+this.id+"_avail_qury").data("ejRadioButton").disable(),$("#"+this.id+"_def_qury").data("ejRadioButton").disable();else{for(n=0;n<t.length;n++)i.push({name:t[n].Name});$("#"+this.id+"_avail_qury").data("ejRadioButton").enable();$("#"+this.id+"_def_qury").data("ejRadioButton").enable();$("#"+this.id+"_avail_qury_dtset").data("ejDropDownList").setModel({dataSource:i});$("#"+this.id+"_def_qury_dtset").data("ejDropDownList").setModel({dataSource:i})}},n.prototype.openAssignDialog=function(){ej.isNullOrUndefined(this.assignDialog)&&$("#"+this.id+"_assign_dialog").length===0&&this.renderAssignDialog();this.resetDialogValues();this.updateAvailableDataset();this.assignDialog.data("ejDialog").open();this.populateDialogValues(this.parameter)},n.prototype.closeDialog=function(){$("#"+this.id+"_avail_val_container").css("display","none");$("#"+this.id+"_avail_qury_container").css("display","none");$("#"+this.id+"_def_val_container").css("display","none");$("#"+this.id+"_def_qury_container").css("display","none");ej.isNullOrUndefined(this.assignDialog)||$("#"+this.id+"_assign_dialog").length===0||this.assignDialog.data("ejDialog").close()},n.prototype.resetDialogValues=function(){var n=$("#"+this.id+"_assign_parent_div").data("ejTab");$("#"+this.id+"_avail_container_div").empty();$("#"+this.id+"_def_container_div").empty();$("#"+this.id+"_def_qury_dtset").data("ejDropDownList").setModel({selectedIndex:-1});$("#"+this.id+"_def_qury_dtsetVal").data("ejDropDownList").setModel({selectedIndex:-1});$("#"+this.id+"_avail_qury_dtset").data("ejDropDownList").setModel({selectedIndex:-1});$("#"+this.id+"_avail_qury_dtsetVal").data("ejDropDownList").setModel({selectedIndex:-1});$("#"+this.id+"_avail_qury_dtsetLbl").data("ejDropDownList").setModel({selectedIndex:-1});$("#"+this.id+"_avail_none").data("ejRadioButton").setModel({checked:!0});$("#"+this.id+"_def_none").data("ejRadioButton").setModel({checked:!0});ej.isNullOrUndefined(n)||(n.option("enabledItemIndex",[1]),n.option("selectedItemIndex")===1&&n.option("selectedItemIndex",0));this.updateHighlighter($("#"+this.id+"_avail_qury_dtset_container"),!1);this.updateHighlighter($("#"+this.id+"_avail_qury_dtsetVal_container"),!1);this.updateHighlighter($("#"+this.id+"_def_qury_dtset_container"),!1);this.updateHighlighter($("#"+this.id+"_def_qury_dtsetVal_container"),!1);ej.DashboardUtil.showErrIndictor($("#"+this.id+"_avail_param_query_td"),!1);ej.DashboardUtil.showErrIndictor($("#"+this.id+"_def_param_query_td"),!1);this.scrollerRefresh($("#"+this.id+"_avail_val_parent"));this.scrollerRefresh($("#"+this.id+"_def_val_parent"))},n.prototype.deleteRow=function(n,t){n.remove();this.scrollerRefresh(t)},n.prototype.showParameterHint=function(){this.listContainer.find("li").length>0?this.bodyContainer.removeClass("e-designer-hint-newparameter"):this.bodyContainer.addClass("e-designer-hint-newparameter")},n.prototype.getDataType=function(n){return n===0?"String":n===1?"Boolean":n===2?"DateTime":n===3?"Integer":n===4?"Float":void 0},n.prototype.getDataTypeVal=function(n){return n.toLowerCase()==="string"?DataTypes.String:n.toLowerCase()==="boolean"?DataTypes.Boolean:n.toLowerCase()==="datetime"?DataTypes.DateTime:n.toLowerCase()==="integer"?DataTypes.Integer:n.toLowerCase()==="float"?DataTypes.Float:void 0},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.getExpressionValue=function(n){var i=$("#"+n),t=i.attr("e-param-exp");return t||(t=this.getValues(i),t=!ej.isNullOrUndefined(t)&&t.length>0?t:""),t},n.prototype.setExpressionValue=function(n){var i=$("#"+n.arguments[0]),t=n.expression[0],u=!0,f=ej.DashboardUtil.getExpression(t),r,e;i.attr("e-param-exp","");r="white";e=this.isFieldAvailable(f.exp);f.isExp||!e||t.startsWith("=Parameters!")?t&&t.startsWith("=")&&(f.isExp||t.startsWith("=Parameters!"))?(i.attr("e-param-exp",t),r="black",u=!1):t&&t.startsWith("=")?(i.attr("e-param-exp",t),r="black",u=!1):(i.val(ej.isNullOrUndefined(t)?"":t),r="white",u=!0):(i.removeClass("e-designer-txtmark"),i.val(f.exp),i.attr("e-param-exp",t),r="white",u=!0);$("#"+n.arguments[1]+"_Expression").css("background-color",r);u?i.removeAttr("disabled"):i.attr("disabled","true")},n.prototype.createParameter=function(){return{__type:"Syncfusion.RDL.DOM.ReportParameter",Name:"",Prompt:"",DataType:0,Hidden:!1,AllowBlank:!1,Nullable:!1,MultiValue:!1,ValidValues:null,DefaultValue:null,UsedInQuery:0}},n.prototype.createValidValues=function(){return{__type:"Syncfusion.RDL.DOM.ValidValues",ParameterValues:[],DataSetReference:{__type:"Syncfusion.RDL.DOM.DataSetReference",DataSetName:null,ValueField:null,LabelField:null}}},n.prototype.createDefaultValues=function(){return{__type:"Syncfusion.RDL.DOM.DefaultValue",Values:[],DataSetReference:{__type:"Syncfusion.RDL.DOM.DataSetReference",DataSetName:null,ValueField:null}}},n}();window.ej.createObject("ej.DashboardDesignerUtility.Parameter",InternalParameter,window);InternalPivotGridReportItem=function(){function n(){this.gridJson=null;this.contentContainer=null;this.minimumWidth=60;this.minimumHeight=30;this.showHeader=!0;this.headerBackColor="#77a7fb";this.headerFontFamily="Arial";this.headerFontColor="White";this.headerFontSize="10pt";this.headerFontStyle="Default";this.headerFontWeight="Default";this.headerTextDecoration="Default";this.headerTextAlign="Left";this.headerPaddingLeft="4pt";this.headerPaddingRight="2pt";this.headerPaddingTop="2pt";this.headerPaddingBottom="2pt";this.contentBorderWidth="1pt";this.contentBorderStyle="Solid";this.contentBorderColor="lightgrey";this.contentBackColor="Transparent";this.contentFontFamily="Arial";this.contentFontColor="Black";this.contentFontSize="10pt";this.contentFontStyle="Default";this.contentFontWeight="Default";this.contentTextDecoration="Default";this.contentTextAlign="Left";this.contentPaddingLeft="4pt";this.contentPaddingRight="2pt";this.contentPaddingTop="2pt";this.contentPaddingBottom="2pt";this.columnSummaryBorderColor="lightgrey";this.columnSummaryBorderStyle="Solid";this.columnSummaryBorderWidth="1pt";this.columnSummaryBackColor="lightgrey";this.columnSummaryFontFamily="Arial";this.columnSummaryFontColor="Black";this.columnSummaryFontSize="10pt";this.columnSummaryFontStyle="Default";this.columnSummaryFontWeight="Default";this.columnSummaryTextDecoration="Default";this.columnSummaryTextAlign="Left";this.columnSummaryPaddingLeft="4pt";this.columnSummaryPaddingRight="2pt";this.columnSummaryPaddingTop="2pt";this.columnSummaryPaddingBottom="2pt";this.tableSummaryColumnBorderColor="lightgrey";this.tableSummaryColumnBorderStyle="Solid";this.tableSummaryColumnBorderWidth="1pt";this.tableSummaryColumnBackColor="lightgrey";this.tableSummaryColumnFontFamily="Arial";this.tableSummaryColumnFontColor="Black";this.tableSummaryColumnFontSize="10pt";this.tableSummaryColumnFontStyle="Default";this.tableSummaryColumnFontWeight="Default";this.tableSummaryColumnTextDecoration="Default";this.tableSummaryColumnTextAlign="Left";this.tableSummaryColumnPaddingLeft="4pt";this.tableSummaryColumnPaddingRight="2pt";this.tableSummaryColumnPaddingTop="2pt";this.tableSummaryColumnPaddingBottom="2pt";this.columnGroupBorderColor="lightgrey";this.columnGroupBorderStyle="Solid";this.columnGroupBorderWidth="1pt";this.columnGroupBackColor="white";this.columnGroupFontFamily="Arial";this.columnGroupFontColor="Black";this.columnGroupFontSize="10pt";this.columnGroupFontStyle="Default";this.columnGroupFontWeight="Default";this.columnGroupTextDecoration="Default";this.columnGroupTextAlign="Left";this.columnGroupPaddingLeft="4pt";this.columnGroupPaddingRight="2pt";this.columnGroupPaddingTop="2pt";this.columnGroupPaddingBottom="2pt";this.cornerCellBorderColor="lightgrey";this.cornerCellBorderWidth="1pt";this.cornerCellBorderStyle="Solid";this.cornerCellBackColor="Transparent";this.cornerCellFontFamily="Arial";this.cornerCellFontColor="Black";this.cornerCellFontSize="10pt";this.cornerCellFontStyle="Default";this.cornerCellFontWeight="Default";this.cornerCellTextDecoration="Default";this.cornerCellTextAlign="Left";this.cornerCellPaddingLeft="4pt";this.cornerCellPaddingRight="2pt";this.cornerCellPaddingTop="2pt";this.cornerCellPaddingBottom="2pt";this.rowGroupBorderColor="lightgrey";this.rowGroupBorderStyle="Solid";this.rowGroupBorderWidth="1pt";this.rowGroupBackColor="white";this.rowGroupFontFamily="Arial";this.rowGroupFontColor="Black";this.rowGroupFontSize="10pt";this.rowGroupFontStyle="Default";this.rowGroupFontWeight="Default";this.rowGroupTextDecoration="Default";this.rowGroupTextAlign="Left";this.rowGroupPaddingLeft="4pt";this.rowGroupPaddingRight="2pt";this.rowGroupPaddingTop="2pt";this.rowGroupPaddingBottom="2pt";this.rowSummaryBorderColor="lightgrey";this.rowSummaryBorderStyle="Solid";this.rowSummaryBorderWidth="1pt";this.rowSummaryBackColor="lightgrey";this.rowSummaryFontFamily="Arial";this.rowSummaryFontColor="Black";this.rowSummaryFontSize="10pt";this.rowSummaryFontStyle="Default";this.rowSummaryFontWeight="Default";this.rowSummaryTextDecoration="Default";this.rowSummaryTextAlign="Left";this.rowSummaryPaddingLeft="4pt";this.rowSummaryPaddingRight="2pt";this.rowSummaryPaddingTop="2pt";this.rowSummaryPaddingBottom="2pt";this.tableSummaryRowBorderColor="lightgrey";this.tableSummaryRowBorderStyle="Solid";this.tableSummaryRowBorderWidth="1pt";this.tableSummaryRowBackColor="lightgrey";this.tableSummaryRowFontFamily="Arial";this.tableSummaryRowFontColor="Black";this.tableSummaryRowFontSize="10pt";this.tableSummaryRowFontStyle="Default";this.tableSummaryRowFontWeight="Default";this.tableSummaryRowTextDecoration="Default";this.tableSummaryRowTextAlign="Left";this.tableSummaryRowPaddingLeft="4pt";this.tableSummaryRowPaddingRight="2pt";this.tableSummaryRowPaddingTop="2pt";this.tableSummaryRowPaddingBottom="2pt";this.tableSummaryColumns=[];this.tableSummaryRows=[];this.horizontalGridLine=!0;this.verticalGridLine=!0;this.columnWidth="1.04in";this.columnWidths=[];this.rowHeights=[];this.rowHeight="0.265in";this.rowName="";this.rowsName="";this.columnName="";this.columnsName="";this.cornerLabel="";this.enableSummaryRow=!0;this.enableSummaryColumn=!0;this.enableTableSummaryRow=!0;this.enableTableSummaryColumn=!0;this.columns=[];this.rows=[];this.lastColumnGroupMembers=[];this.isColumnSettingsEnabled=!1;this.isRowSettingsEnabled=!1;this.summaryValueIndex=0;this.summaryValueName="";this.summaryColumnValueIndex=0;this.summaryColumnValueName="";this.selectedColumnIndex=0;this.selectedColumnSettingsIndex=0;this.selectedRowIndex=0;this.selectedRowSettingsIndex=0;this.dataGroupInfo=null;this.gridWidth="0";this.gridHeight="0";this.isEmptyColumn=!1;this.isHeaderVisible=!0;this.isControlMenuVisible=!1;this.isMaximizeEnable=!1;this.reportName=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.designId=this.designPanel.reportDesigner._id;this.isDataEnabled=!0;this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration")}return n.prototype.renderGridReportElement=function(n,t){try{this.gridJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(n.Left.size),top:ej.DashboardUtil.getPixelVal(n.Top.size),width:ej.DashboardUtil.getPixelVal(n.Width.size),height:ej.DashboardUtil.getPixelVal(n.Height.size)};this.renderGridElement(u,r);this.deserializeReportItem(n);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.gridJson.Name,Error:i,Type:i.name})}},n.prototype.renderGridItem=function(n,t,i){try{this.columns.push(this.createColumn());this.rows.push(this.createRow());this.selectedColumnIndex=0;var u=i.attr("id");this.gridJson=this.getGridJson();this.gridJson.Name=this.reportName;this.renderGridElement(n,i);this.gridJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.gridJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.gridJson.Width.size=ej.DashboardUtil.getUnitVal(ej.DashboardUtil.getSizeVal(this.controlContainer.css("width")),"in");this.gridJson.Height.size=ej.DashboardUtil.getUnitVal(ej.DashboardUtil.getSizeVal(this.controlContainer.css("height")),"in");this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGridItem","e-pivotgrid-item",this.gridJson.Name,null,[n,u,t])}catch(r){this.designPanel.logError({Source:this.gridJson.Name,Error:r,Type:r.name})}},n.prototype.createTableCell=function(n){return ej.buildTag("td.e-reportdesigner-grid-cell","",{padding:"2pt","padding-left":"4pt",margin:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Margin)?"0px":n.Margin,border:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Border)?"1px solid #dddddd":n.Border,"background-color":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Background)?"white":n.Background,"font-family":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.FontFamily)?"Roboto":n.FontFamily,color:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Color)?"black":n.Color,"font-size":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.FontSize)?"10pt":n.FontSize,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","text-align":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.TextAlign)?"left":n.TextAlign,"vertical-align":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.VerticalAlign)?"middle":n.VerticalAlign},{rowSpan:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.RowSpan)?"1":n.RowSpan,colSpan:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.ColSpan)?"1":n.ColSpan})},n.prototype.createTableCellHeader=function(n){return ej.buildTag("th.e-reportdesigner-grid-cell","",{padding:"2pt","padding-left":"4pt",margin:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Margin)?"0px":n.Margin,border:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Border)?"1px solid #dddddd":n.Border,"background-color":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Background)?"white":n.Background,"font-family":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.FontFamily)?"Segoe UI":n.FontFamily,color:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Color)?"black":n.Color,"font-size":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.FontSize)?"10pt":n.FontSize,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","text-align":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.TextAlign)?"left":n.TextAlign,"vertical-align":ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.VerticalAlign)?"middle":n.VerticalAlign},{rowSpan:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.RowSpan)?"1":n.RowSpan,colSpan:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.ColSpan)?"1":n.ColSpan,id:ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Id)?"":n.Id})},n.prototype.renderGridElement=function(){var n,r,i,t;for(this.gridItem=ej.buildTag("div.e-pivotgriditem","",{width:"100%",height:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"998",overflow:"hidden"},{id:this.designId+"gridItem"+this.gridJson.Name}),this.tableElement=ej.buildTag("table.e-reportdesigner-grid-table","",{width:"100%",height:"100%","font-size":"10pt","background-color":"white"},{id:this.designId+"tableElement"+this.gridJson.Name,cellspacing:"0",cellpadding:"0"}),this.contentContainer.append(this.gridItem),this.gridItem.append(this.tableElement),this.controlContainer.data("Grid",this),n=0;n<=1;n++){for(r=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),i=1;i<=2;i++)t=void 0,n===0||n===1&&i===1?(t=this.createTableCellHeader(),n===0&&i===2?t.text("Columns"):n===1&&t.text("Rows")):(t=this.createTableCell(),n>0&&t.text("Datas")),r.append(t);this.tableElement.append(r)}this.controlContainer.css("width",2*ej.DashboardUtil.getPixelVal(this.columnWidth)+4+"px");this.updateCurrentSize();this.tableRows=this.tableElement.find("tr")},n.prototype.updateCurrentSize=function(){this.gridWidth=this.controlContainer.css("width");this.gridHeight=this.controlContainer.css("height")},n.prototype.validateHorizontalGridLines=function(n){return n.Style.TopBorder===null&&n.Style.BottomBorder===null?!0:n.Style.TopBorder!==null&&n.Style.BottomBorder!==null?n.Style.TopBorder.Style==="None"&&n.Style.BottomBorder.Style==="None"?!1:!0:void 0},n.prototype.validateVerticalGridLines=function(n){return n.Style.LeftBorder===null&&n.Style.RightBorder===null?!0:n.Style.LeftBorder!==null&&n.Style.RightBorder!==null?n.Style.LeftBorder.Style==="None"&&n.Style.RightBorder.Style==="None"?!1:!0:void 0},n.prototype.validateGridLines=function(){var i=!1,r=!1,u=[],n;(this.dataGroupInfo.Values.length===0||this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0&&this.dataGroupInfo.Columns.length!==0)&&(u=this.getCellReportItems("TablixCorner"));var f=this.getCellReportItems("TablixBody"),e=this.getCellReportItems("TablixColumnGroup"),o=this.getCellReportItems("TablixRowGroup"),t=$.merge($.merge($.merge(u,f),e),o);for(n=0;n<t.length;n++)i=this.validateHorizontalGridLines(t[n]),r=this.validateVerticalGridLines(t[n]);this.horizontalGridLine=i;this.verticalGridLine=r;this.updateGridLines()},n.prototype.deserializeReportItem=function(n){if(this.deserializeGrid(n),n.Style){var t={};this.deserializeGridBorder(n.Style,t);this.gridItem.css(t)}this.tableRows=this.tableElement.find("tr");this.updateVisibility();this.validateGridLines()},n.prototype.deserializeGridBorder=function(n,t){n.Border&&this.openBorder(n.Border,"",t);n.LeftBorder&&this.openBorder(n.LeftBorder,"-left",t);n.TopBorder&&this.openBorder(n.TopBorder,"-top",t);n.RightBorder&&this.openBorder(n.RightBorder,"-right",t);n.BottomBorder&&this.openBorder(n.BottomBorder,"-bottom",t)},n.prototype.openBorder=function(n,t,i){n&&(n.Color&&(i["border"+t+"-color"]=n.Color),n.Style&&(n.Style==="Default"||n.Style==="None"?(i["border"+t+"-style"]="none",this.controlContainer.css("border"+t+"-style","dotted")):(i["border"+t+"-style"]=n.Style.toLowerCase(),this.controlContainer.css("border"+t+"-style","none"))),n.Width&&n.Width.size&&(i["border"+t+"-width"]=n.Width.size))},n.prototype.getDataCategoriesInfo=function(){for(var t,r=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo"),i=["Value"],n=0;n<i.length;n++)t=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createValueInfo"),t.Name=i[n].replace(" ",""),t.DisplayName=i[n],r.Values.push(t);return r},n.prototype.updateGridSize=function(){var t,n,i;if(this.dataGroupInfo.Rows.length>0||this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Values.length>0){for($(this.tableElement).find("colgroup").remove(),t=ej.buildTag("colgroup","",{}),n=0;n<this.columnWidths.length;n++)i=ej.buildTag("col","",{width:this.columnWidths[n]+"px"}),t.append(i);t.prependTo(this.tableElement);this.updateGridWidth(!0);this.updateGridHeight(!0);this.tableElement.css("table-layout","fixed");this.propertyPanel.canUpdate=!1;this.gridJson.Width.size=ej.DashboardUtil.getUnitVal(ej.DashboardUtil.getSizeVal(this.controlContainer.css("width")),"in");this.setPropertyElement("Width","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Width.size),-1);this.gridJson.Height.size=ej.DashboardUtil.getUnitVal(ej.DashboardUtil.getSizeVal(this.controlContainer.css("height")),"in");this.setPropertyElement("Height","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Height.size),-1);this.propertyPanel.canUpdate=!0}},n.prototype.updateDataGroupInfo=function(n,t){this.dataGroupInfo=n;(t.columnUpdate||t.rowUpdate||t.valueUpdate||t.update)&&(this.isEmptyColumn=this.dataGroupInfo.Columns.length===0&&this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0?!0:!1,this.updateColumnDatas(),this.updateRowDatas(),this.renderTable(n),this.updateVisibility(),this.getDataColumns(),this.getDataRows(),n.Columns.length>0&&this.renderSummaryTableColumn(),n.Rows.length>0&&this.renderSummaryTableRow(),this.updateMaximumColumnWidth(),this.updateMaximumRowHeight(),this.updateGridSize(),this.updateGridLines(),this.dataGroupInfo.Columns.length===0&&this.dataGroupInfo.Rows.length===0&&(this.dataGroupInfo.Values.length===0||this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length===0)&&(this.updateWidth(2*ej.DashboardUtil.getPixelVal(this.columnWidth)+4),this.updateHeight(2*ej.DashboardUtil.getPixelVal(this.rowHeight)+4)),this.designPanel.updateWidgetSelectionBox(this.controlContainer));this.gridJson.Filters=this.dataGroupInfo.Filters;this.gridJson.SortExpressions=this.dataGroupInfo.SortExpressions;this.gridJson.TablixRowHierarchy.TablixMembers.length>0&&(this.isEmptyColumn?this.updateFilters(this.dataGroupInfo.Rows,this.gridJson.TablixRowHierarchy.TablixMembers[1],0):this.updateFilters(this.dataGroupInfo.Rows,this.gridJson.TablixRowHierarchy.TablixMembers[0],0));this.gridJson.TablixColumnHierarchy.TablixMembers.length>0&&(this.isEmptyColumn?this.updateFilters(this.dataGroupInfo.Rows,this.gridJson.TablixRowHierarchy.TablixMembers[1],0):this.updateFilters(this.dataGroupInfo.Columns,this.gridJson.TablixColumnHierarchy.TablixMembers[0],0))},n.prototype.updatePropertyData=function(){},n.prototype.updateFilters=function(n,t,i){n.length>0&&(i===0?(t.Group.GroupExpressions=n[i].GroupExpressions,t.Group.Filters=n[i].Filters,t.SortExpressions=n[i].SortExpressions):i<n.length&&this.updateFilters(n,t.TablixMembers[0],i+1))},n.prototype.updateVisibility=function(){this.propertyPanel.updateItemVisibility("PivotGrid","BasicSettings","Filter",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","BasicSettings","Sort",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateCategoryVisibility("PivotGrid","Column Group Settings",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateCategoryVisibility("PivotGrid","Row Group Settings",this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateCategoryVisibility("PivotGrid","Summary Settings",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateCategoryVisibility("PivotGrid","Column Settings",this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length);this.propertyPanel.updateCategoryVisibility("PivotGrid","Row Settings",this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateCategoryVisibility("PivotGrid","Corner Cell Settings",this.dataGroupInfo.Columns.length>0);(this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0)&&this.getSummaryValue();this.propertyPanel.updateItemVisibility("PivotGrid","Appearance","HeaderVisibility",!this.isEmptyColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumn",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnBackgroundColor",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnBorder",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnFont",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnFontStyleRoot",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnTextDecoration",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnTextAlign",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnPadding",this.dataGroupInfo.Columns.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumns",this.dataGroupInfo.Columns.length>0);$("#TableSummaryColumns_Container").css("display",this.dataGroupInfo.Columns.length>0?"block":"none");$("#TableSummaryRows_Container").css("display",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0?"block":"none");this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRow",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowBackgroundColor",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowBorder",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowFont",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowFontStyleRoot",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowTextDecoration",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowTextAlign",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowPadding",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRows",this.dataGroupInfo.Rows.length>0&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerBackgroundColor",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerFont",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerFontStyleRoot",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerTextDecoration",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerTextAlign",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerPadding",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.propertyPanel.updateItemVisibility("PivotGrid","CornerCellSettings","CornerLabel",this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0);this.columnName===""&&(this.enableColumnBasicSettings(!1),this.enableColumnHeaderSettings(!1),this.enableColumnSummarySettings(!1));this.rowName===""&&(this.enableRowBasicSettings(!1),this.enableRowHeaderSettings(!1),this.enableRowSummarySettings(!1))},n.prototype.updateColumnDatas=function(){this.isColumnSettingsEnabled=!1;this.selectedColumnIndex=0;var n=$("#"+this.designId+"_PivotGrid_ColumnGroupSettings_Column").data("ejDropDownList"),t=this.getColumns();ej.isNullOrUndefined(n)||(n.option("dataSource",t),this.columnName!==""&&(this.selectedColumnIndex=t.indexOf(this.columnName),this.selectedColumnIndex!==-1?(n.option("selectedIndex",this.selectedColumnIndex),this.updateColumn(this.columnName)):(this.columnName="",this.selectedColumnIndex=0)));this.populateColumnSettings(t)},n.prototype.updateRowDatas=function(){this.isRowSettingsEnabled=!1;this.selectedRowIndex=0;var n=$("#"+this.designId+"_PivotGrid_RowGroupSettings_RowName").data("ejDropDownList"),t=this.getRows();ej.isNullOrUndefined(n)||(n.option("dataSource",t),this.rowName!==""&&(this.selectedRowIndex=t.indexOf(this.rowName),this.selectedRowIndex!==-1?(n.option("selectedIndex",this.selectedRowIndex),this.updateRowName(this.rowName)):(this.rowName="",this.selectedRowIndex=0)));this.populateRowSettings(t)},n.prototype.populateRowSettings=function(n){for(var f,r,t,u=[],i=0;i<n.length;i++){for(f=!0,r=0;r<this.rows.length;r++)if(this.dataGroupInfo.Rows[i].Field===this.rows[r].Field){u.push(this.rows[r]);f=!1;break}f&&(t=this.createRow(),t.Name=n[i],t.Label=this.dataGroupInfo.Rows[i].Field,t.Field=this.dataGroupInfo.Rows[i].Field,t.HeaderBackColor=this.rowGroupBackColor,t.HeaderFontFamily=this.rowGroupFontFamily,t.HeaderFontSize=this.rowGroupFontSize,t.HeaderFontColor=this.rowGroupFontColor,t.HeaderFontStyle=this.rowGroupFontStyle,t.HeaderFontWeight=this.rowGroupFontWeight,t.HeaderPaddingLeft=this.rowGroupPaddingLeft,t.HeaderPaddingRight=this.rowGroupPaddingRight,t.HeaderPaddingTop=this.rowGroupPaddingTop,t.HeaderPaddingBottom=this.rowGroupPaddingBottom,t.SummaryBackColor=this.columnSummaryBackColor,t.SummaryFontFamily=this.columnSummaryFontFamily,t.SummaryFontSize=this.columnSummaryFontSize,t.SummaryFontColor=this.columnSummaryFontColor,t.SummaryFontStyle=this.columnSummaryFontStyle,t.SummaryFontWeight=this.columnSummaryFontWeight,t.SummaryPaddingLeft=this.columnSummaryPaddingLeft,t.SummaryPaddingRight=this.columnSummaryPaddingRight,t.SummaryPaddingTop=this.columnSummaryPaddingTop,t.SummaryPaddingBottom=this.columnSummaryPaddingBottom,t.enableSummaryRow=this.enableSummaryRow,t.Format="",t.FormatType="",t.ActionInfo="",u.push(t))}this.rows=u},n.prototype.populateColumnSettings=function(n){for(var f,r,t,u=[],i=0;i<n.length;i++){for(f=!0,r=0;r<this.columns.length;r++)if(this.dataGroupInfo.Columns[i].Field===this.columns[r].Field){u.push(this.columns[r]);f=!1;break}f&&(t=this.createColumn(),t.Name=n[i],t.Label=this.dataGroupInfo.Columns[i].Field,t.Field=this.dataGroupInfo.Columns[i].Field,t.HeaderBackColor=this.columnGroupBackColor,t.HeaderFontFamily=this.columnGroupFontFamily,t.HeaderFontSize=this.columnGroupFontSize,t.HeaderFontColor=this.columnGroupFontColor,t.HeaderFontStyle=this.columnGroupFontStyle,t.HeaderFontWeight=this.columnGroupFontWeight,t.HeaderPaddingLeft=this.columnGroupPaddingLeft,t.HeaderPaddingRight=this.columnGroupPaddingRight,t.HeaderPaddingTop=this.columnGroupPaddingTop,t.HeaderPaddingBottom=this.columnGroupPaddingBottom,t.SummaryBackColor=this.columnSummaryBackColor,t.SummaryFontFamily=this.columnSummaryFontFamily,t.SummaryFontSize=this.columnSummaryFontSize,t.SummaryFontColor=this.columnSummaryFontColor,t.SummaryFontStyle=this.columnSummaryFontStyle,t.SummaryFontWeight=this.columnSummaryFontWeight,t.SummaryPaddingLeft=this.columnSummaryPaddingLeft,t.SummaryPaddingRight=this.columnSummaryPaddingRight,t.SummaryPaddingTop=this.columnSummaryPaddingTop,t.SummaryPaddingBottom=this.columnSummaryPaddingBottom,t.enableSummaryColumn=this.enableSummaryColumn,t.Width="",t.Format="",t.FormatType="",t.ActionInfo="",u.push(t))}this.columns=u},n.prototype.updateDefaultTableJson=function(){var t,n;for(this.gridJson.TablixBody.TablixColumns=[],this.gridJson.TablixBody.TablixRows=[],this.gridJson.TablixColumnHierarchy.TablixMembers=[],this.gridJson.TablixRowHierarchy.TablixMembers=[],this.gridJson.DataSetName="",n=0;n<3;n++)this.gridJson.TablixBody.TablixColumns.push(this.createTablixColumn()),this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMember());for(t=0;t<=1;t++)for(this.gridJson.TablixBody.TablixRows.push(this.createTablixRow()),t===0?this.gridJson.TablixRowHierarchy.TablixMembers.push(this.createTablixMember()):this.gridJson.TablixRowHierarchy.TablixMembers.push(this.createTablixMemberGroup()),n=0;n<3;n++)t===0?this.gridJson.TablixBody.TablixRows[t].TablixCells.push(this.createTablixCell(n*2+1,"",!0)):this.gridJson.TablixBody.TablixRows[t].TablixCells.push(this.createTablixCell(n*2+2,"",!1))},n.prototype.populateTablixCorners=function(){for(var u,r,n,t,i=0;i<this.gridJson.TablixCorner.TablixCornerRows.length;i++){if(u=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),i===0&&i!==this.gridJson.TablixCorner.TablixCornerRows.length-1)n=this.gridJson.TablixCorner.TablixCornerRows[i].TablixCornerCells[0],t=void 0,t=this.createTableCellHeader({RowSpan:n.CellContents.RowSpan,ColSpan:n.CellContents.ColSpan}),this.cornerLabel=n.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value,t.text(n.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value),this.setCornerElementStyle(t,n.CellContents.ReportItem),n.CellContents.RowSpan===this.gridJson.TablixCorner.TablixCornerRows.length&&(this.showHeader=!1),u.append(t);else if(i===this.gridJson.TablixCorner.TablixCornerRows.length-1)for(r=0;r<this.gridJson.TablixCorner.TablixCornerRows[i].TablixCornerCells.length;r++)n=this.gridJson.TablixCorner.TablixCornerRows[i].TablixCornerCells[r],t=void 0,t=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),t.text(this.showHeader?n.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value:this.dataGroupInfo.Rows[r].Field),this.setHeaderElementStyle(t,n.CellContents.ReportItem),u.append(t);this.tableElement.append(u)}},n.prototype.populateRowInfo=function(n,t){if(!ej.isNullOrUndefined(n.TablixHeader)){var i=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createRowInfo");i.Value=n.TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value;i.Name=this.gridJson.DataSetName;i.Field=n.Group.Name;i.DataField=this.dataConfiguration.getDataField(i.Field);i.GroupName=n.Group.Name;i.GroupExpressions=n.Group.GroupExpressions;i.SortExpressions=n.SortExpressions;i.Filters=n.Group.Filters;t.push(i)}n.TablixMembers.length>0&&this.populateRowInfo(n.TablixMembers[0],t)},n.prototype.getFieldValue=function(n,t){var i=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"validateExpression",[n,t]);return i?t:t.split("!",2)[1].split(".",2)[0]},n.prototype.populateColumnInfo=function(n,t){var r,f,u,i;if(ej.isNullOrUndefined(n.TablixHeader)||(r=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createColumnInfo"),r.Value=n.TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value,r.Name=this.gridJson.DataSetName,r.Field=n.Group.Name,r.DataField=this.dataConfiguration.getDataField(r.Field),r.GroupName=n.Group.Name,r.GroupExpressions=n.Group.GroupExpressions,r.SortExpressions=n.SortExpressions,r.Filters=n.Group.Filters,t.push(r)),n.TablixMembers.length>0)if(n.TablixMembers[0].TablixMembers.length>0)this.populateColumnInfo(n.TablixMembers[0],t);else for(u=0;u<n.TablixMembers.length;u++)i=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataValueInfo"),i.Value=this.gridJson.TablixBody.TablixRows[0].TablixCells[u].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value,i.Name=this.gridJson.DataSetName,i.Field=this.getFieldValue(this.gridJson.DataSetName,n.TablixMembers[u].TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value),i.DataField=this.dataConfiguration.getDataField(i.Field),this.dataGroupInfo.Values[0].Values.push(i);else for(f=t.length===0?this.gridJson.TablixBody.TablixRows[0].TablixCells.length:t.length,u=0;u<f;u++)i=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataValueInfo"),i.Value=this.gridJson.TablixBody.TablixRows[0].TablixCells[u].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value,i.Name=this.gridJson.DataSetName,i.Field=this.getFieldValue(this.gridJson.DataSetName,this.gridJson.TablixBody.TablixRows[0].TablixCells[u].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value),i.DataField=this.dataConfiguration.getDataField(i.Field),this.dataGroupInfo.Values[0].Values.push(i)},n.prototype.validateDisabledRowSummaries=function(n,t){var i=0;return i=i+n.TablixMembers.length>1?0:1,n.TablixMembers.length<=1&&(this.rows[t].enableSummaryRow=!1),n.TablixMembers.length>0&&n.TablixMembers[0].TablixMembers.length>0&&(i=i+this.validateDisabledRowSummaries(n.TablixMembers[0],t+1)),i},n.prototype.validateDisabledColumnSummaries=function(n,t){var i=0;return n.TablixMembers.length>0&&n.TablixMembers[0].TablixMembers.length>0&&(i=i+n.TablixMembers.length>1?0:1,n.TablixMembers.length<=1&&(this.columns[t].enableSummaryColumn=!1),i=i+this.validateDisabledColumnSummaries(n.TablixMembers[0],t+1)),i},n.prototype.deserializeGrid=function(n){var i,r,e,o,t,f,u,s;for(this.tableElement.empty(),this.columnName="",this.rowName="",i=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo"),i.Filters=n.Filters,i.SortExpressions=n.SortExpressions,this.dataGroupInfo=i,ej.isNullOrUndefined(this.gridJson.TablixCorner)||this.populateTablixCorners(),r=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createValueInfo"),r.Name="Value",r.DisplayName="Value",this.dataGroupInfo.Values.push(r),this.populateColumnInfo(this.gridJson.TablixColumnHierarchy.TablixMembers[0],this.dataGroupInfo.Columns),this.isEmptyColumn=this.dataGroupInfo.Columns.length===0&&this.gridJson.TablixRowHierarchy.TablixMembers.length>1&&!ej.isNullOrUndefined(this.gridJson.TablixRowHierarchy.TablixMembers[1].Group)&&this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0?!0:!1,this.isEmptyColumn?this.populateRowInfo(this.gridJson.TablixRowHierarchy.TablixMembers[1],this.dataGroupInfo.Rows):this.populateRowInfo(this.gridJson.TablixRowHierarchy.TablixMembers[0],this.dataGroupInfo.Rows),e=this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,this.updateColumnDatas(),this.updateRowDatas(),this.dataGroupInfo.Columns.length>0?(o=this.validateDisabledColumnSummaries(this.gridJson.TablixColumnHierarchy.TablixMembers[0],0),this.gridJson.TablixBody.TablixColumns.length===(this.dataGroupInfo.Columns.length-o)*e&&(this.enableTableSummaryColumn=!1)):this.enableTableSummaryColumn=!1,this.dataGroupInfo.Rows.length>0?(t=0,this.isEmptyColumn&&this.dataGroupInfo.Rows.length>1?t=this.validateDisabledRowSummaries(this.gridJson.TablixRowHierarchy.TablixMembers[1],0):this.isEmptyColumn||(t=this.validateDisabledRowSummaries(this.gridJson.TablixRowHierarchy.TablixMembers[0],0)),this.gridJson.TablixBody.TablixRows.length===this.dataGroupInfo.Rows.length-t&&(this.enableTableSummaryRow=!1),this.isEmptyColumn&&this.gridJson.TablixBody.TablixRows.length===this.dataGroupInfo.Rows.length+1-t&&(this.enableTableSummaryRow=!1)):this.enableTableSummaryRow=!1,this.renderColumnGroups(this.dataGroupInfo,!1),this.renderColumnHeader(this.dataGroupInfo,!1),this.renderRowGroups(this.dataGroupInfo,!1),this.renderDatas(this.dataGroupInfo,!1),this.isColumnSettingsEnabled=this.dataGroupInfo.Columns.length>0,f=ej.buildTag("colgroup","",{}),u=0;u<this.columnWidths.length;u++)s=ej.buildTag("col","",{width:this.columnWidths[u]+"px"}),f.append(s);f.prependTo(this.tableElement);this.updateGridWidth(!1);this.updateGridHeight(!1);this.tableElement.css("table-layout","fixed")},n.prototype.renderRowGroups=function(n,t,i){var w,r,u,b,a,v,y,p,l,e,f,s;if(n.Rows.length>0){var h=!1,o=ej.isNullOrUndefined(i)?this.isEmptyColumn?0:n.Columns.length+1:n.Columns.length+1+n.Rows.length,c=n.Values.length>0&&n.Values.length===0||n.Values.length===0?n.Columns.length+1+n.Rows.length:n.Columns.length+1+n.Rows.length+1;for(this.isEmptyColumn&&(!t&&n.Rows.length>1?(w=this.validateDisabledRowSummaries(this.gridJson.TablixRowHierarchy.TablixMembers[1],0),c=n.Rows.length-w+(this.enableTableSummaryRow?1:0)):c=n.Rows.length+(this.enableTableSummaryRow?1:0)),t||this.enableTableSummaryRow||this.isEmptyColumn||(c=n.Values.length>0&&n.Values.length===0||n.Values.length===0?n.Columns.length+1+n.Rows.length:n.Columns.length+1+this.gridJson.TablixBody.TablixRows.length),e=void 0,r=0;r<n.Rows.length;r++)for(u=o;u<c;u++)if(r===0&&(e=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"})),this.tableRows=this.tableElement.find("tr"),u===o?(f=void 0,f=this.createTableCellHeader({RowSpan:n.Values.length>0&&n.Values[0].Values.length>0?n.Rows.length-r:"1"}),ejDashboardDesigner.getInstance("DataConfiguration").validateExpression(n.Rows[r].Name,n.Rows[r].Value,!1)?f.text("<Expression>"):f.text("[ "+n.Rows[r].Value.split("!")[1].split(".")[0]+" ]"),r===0?t&&(this.gridJson.TablixRowHierarchy.TablixMembers.push(this.createTablixMemberGroup()),this.populateTablixMember(this.gridJson.TablixRowHierarchy.TablixMembers[0],n.Rows[r],0),this.setRowElementStyleFromData(f,!1,0),this.gridJson.TablixRowHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader(u.toString()+r.toString(),n.Rows[r].Value,!0,{BackColor:"white",FontColor:"black"})):t&&(this.setTablixRowHeader(r,u,this.gridJson.TablixRowHierarchy.TablixMembers[0],this.createTablixHeader(u.toString()+r.toString(),n.Rows[r].Value,!0,{BackColor:"white",FontColor:"black"}),n.Rows[r],0),this.setRowElementStyleFromData(f,!1,r)),r===0?(e.append(f),h=!0):u<this.tableRows.length&&$(this.tableRows[this.isEmptyColumn&&!t?u+1:u]).append(f),t||(r===0?this.isEmptyColumn?(this.setRowElementStyle(f,this.gridJson.TablixRowHierarchy.TablixMembers[1].TablixHeader.CellContents.ReportItem,!1,r),this.columnWidths.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixRowHierarchy.TablixMembers[1].TablixHeader.Size.size))):(this.setRowElementStyle(f,this.gridJson.TablixRowHierarchy.TablixMembers[0].TablixHeader.CellContents.ReportItem,!1,r),this.columnWidths.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixRowHierarchy.TablixMembers[0].TablixHeader.Size.size))):u<this.tableRows.length&&(b=r+1,this.rowName="Row "+b,this.isEmptyColumn?(this.setRowElementStyle(f,this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[1],1).TablixHeader.CellContents.ReportItem,!1,r),this.columnWidths.push(ej.DashboardUtil.getPixelVal(this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[1],1).TablixHeader.Size.size))):(this.setRowElementStyle(f,this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[0],1).TablixHeader.CellContents.ReportItem,!1,r),this.columnWidths.push(ej.DashboardUtil.getPixelVal(this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[0],1).TablixHeader.Size.size))),this.rowName="")),u=(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r-1):n.Values.length>0&&n.Values[0].Values.length>0&&(f=void 0,f=this.createTableCellHeader({Background:"#f9f9f9"}),f.text(u===(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r?"Total":""),r===0?t&&(this.gridJson.TablixRowHierarchy.TablixMembers.push(this.createTablixMember()),this.setTableSummaryRowElementStyleFromData(f),this.gridJson.TablixRowHierarchy.TablixMembers[1].TablixHeader=this.createTablixHeader(u.toString()+r.toString(),u===(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r?"Total":"",!0,{BackColor:"#f9f9f9"})):u!==(this.isEmptyColumn?n.Rows.length:n.Columns.length+n.Rows.length+1)?t&&(this.setTablixRowSummaryHeader({startIndex:0,colIndex:r,rowIndex:u},this.getTablixRowSummaryHeader({startIndex:0,colIndex:r,rowIndex:u},this.gridJson.TablixRowHierarchy.TablixMembers[0]),this.createTablixHeader(u.toString()+r.toString(),u===(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r?"Total":"",!0,{BackColor:"#f9f9f9"}),null,u===(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r?1:0),this.setRowElementStyleFromData(f,!0,r-1)):t&&(this.setTablixLastColumnHeader(r,this.gridJson.TablixRowHierarchy.TablixMembers[1],this.createTablixHeader(u.toString()+r.toString(),u===(ej.isNullOrUndefined(i)?o:n.Columns.length+1)+n.Rows.length-r?"Total":"",!0,{BackColor:"#f9f9f9"})),this.setTableSummaryRowElementStyleFromData(f)),ej.isNullOrUndefined(i)?(r===0?e.append(f):u<this.tableRows.length&&$(this.tableRows[this.isEmptyColumn&&!t?u+1:u]).append(f),t||(a=this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers.length>2:this.gridJson.TablixRowHierarchy.TablixMembers.length>1,r===0&&a?this.isEmptyColumn?this.setTableSummaryRowElementStyle(f,this.gridJson.TablixRowHierarchy.TablixMembers[2].TablixHeader.CellContents.ReportItem):this.setTableSummaryRowElementStyle(f,this.gridJson.TablixRowHierarchy.TablixMembers[1].TablixHeader.CellContents.ReportItem):u!==n.Columns.length+n.Rows.length+1&&u<this.tableRows.length?(this.rowName="Row "+r,v=this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),v.TablixMembers.length>1?this.setRowElementStyle(f,v.TablixMembers[1].TablixHeader.CellContents.ReportItem,!0,r-1):this.addSummaryRow(this.rows[r-1].enableSummaryRow,r-1,!1),this.rowName=""):u<this.tableRows.length&&a&&(this.rowName="Row 1",this.setTableSummaryRowElementStyle(f,this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[2]:this.gridJson.TablixRowHierarchy.TablixMembers[1],1).TablixHeader.CellContents.ReportItem),this.rowName=""))):u>=this.tableRows.length-1&&e.append(f)),r===0)if(ej.isNullOrUndefined(i))if(this.tableElement.append(e),h&&n.Values.length>0&&n.Values[0].Values.length>0){for(y=0;y<n.Rows.length-r-1;y++)p=void 0,p=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),this.tableElement.append(p);h=!1}else h=!1;else u>=this.tableRows.length&&(this.tableElement.append(e),this.tableRows=this.tableElement.find("tr"),this.tableRows.length!==this.rowHeights.length&&this.rowHeights.push(this.rowHeights[this.rowHeights.length-1]));if(!t)for(l=0;l<this.gridJson.TablixBody.TablixColumns.length;l++)this.columnWidths.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixBody.TablixColumns[l].Width.size))}else e=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),f=void 0,f=this.createTableCellHeader({RowSpan:this.dataGroupInfo.Columns.length>0?this.dataGroupInfo.Columns.length:1}),f.text("Rows"),t&&(this.gridJson.TablixRowHierarchy.TablixMembers.push(this.createTablixMemberGroup()),this.populateTablixMember(this.gridJson.TablixRowHierarchy.TablixMembers[0],{EmptyField:"RowGroup"},0),this.gridJson.TablixRowHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader("RowGroup","",!0,{BackColor:"white",FontColor:"black"})),e.append(f),this.tableElement.append(e);if(n.Rows.length===1&&t)for(s=0;s<this.gridJson.TablixRowHierarchy.TablixMembers.length;s++)s>1?this.gridJson.TablixRowHierarchy.TablixMembers[s].KeepWithGroup=1:this.gridJson.TablixRowHierarchy.TablixMembers[s].TablixMembers.push(this.createTablixMember());this.tableRows=this.tableElement.find("tr")},n.prototype.getTablixColumnSummaryHeader=function(n,t){if(n.startIndex!==n.rowIndex)return n.startIndex++,n.startIndex===n.rowIndex&&n.colIndex===1||n.startIndex===this.dataGroupInfo.Columns.length-n.colIndex?t.TablixMembers.length>1?t.TablixMembers[1]:t:this.getTablixColumnSummaryHeader(n,t.TablixMembers[0])},n.prototype.setTablixColumnSummaryHeader=function(n,t,i,r){return t.TablixMembers.length>0&&ej.isNullOrUndefined(t.Group)?this.setTablixColumnSummaryHeader(n,t.TablixMembers[0],i,r):(t.TablixMembers.push(this.createTablixMember()),ej.isNullOrUndefined(r)||this.populateTablixMember(t.TablixMembers[t.TablixMembers.length-1],r),t.TablixMembers[t.TablixMembers.length-1].TablixHeader=i,t.TablixMembers[t.TablixMembers.length-1])},n.prototype.setTablixColumnHeader=function(n,t,i,r,u){return n>0?(i.TablixMembers.length===0?(i.TablixMembers.push(this.createTablixMemberGroup()),ej.isNullOrUndefined(u)||this.populateTablixMember(i.TablixMembers[i.TablixMembers.length-1],u),n=0):n--,this.setTablixColumnHeader(n,t,i.TablixMembers[0],r,u)):(i.TablixHeader=r,i)},n.prototype.setTablixLastColumnHeader=function(n,t,i){return n>0?(t.TablixMembers.length===0&&t.TablixMembers.push(this.createTablixMember()),n--,this.setTablixLastColumnHeader(n,t.TablixMembers[0],i)):(t.TablixHeader=i,t)},n.prototype.getTablixRowSummaryHeader=function(n,t){if(n.startIndex!==n.colIndex)return n.startIndex++,(n.startIndex===n.colIndex&&n.rowIndex===this.isEmptyColumn?1:this.dataGroupInfo.Columns.length+2)||n.startIndex===this.dataGroupInfo.Rows.length+1+this.dataGroupInfo.Columns.length-n.rowIndex?t.TablixMembers.length>1?t.TablixMembers[1]:t:this.getTablixRowSummaryHeader(n,t.TablixMembers[0])},n.prototype.setTablixRowSummaryHeader=function(n,t,i,r,u){return t.TablixMembers.length>0&&ej.isNullOrUndefined(t.Group)?this.setTablixColumnSummaryHeader(n,t.TablixMembers[0],i,r):(t.TablixMembers.push(this.createTablixMember()),ej.isNullOrUndefined(r)||this.populateTablixMember(t.TablixMembers[t.TablixMembers.length-1],r,u),t.TablixMembers[t.TablixMembers.length-1].TablixHeader=i,t.TablixMembers[t.TablixMembers.length-1])},n.prototype.setTablixRowHeader=function(n,t,i,r,u,f){n>0?(i.TablixMembers.length===0?(i.TablixMembers.push(this.createTablixMemberGroup()),this.populateTablixMember(i.TablixMembers[i.TablixMembers.length-1],u,f),n=0):n--,this.setTablixRowHeader(n,t,i.TablixMembers[0],r,u,f)):i.TablixHeader=r},n.prototype.setTablixHeader=function(n,t,i,r){n>0?(i.TablixMembers.length===0&&(i.TablixMembers.push(this.createTablixMember()),i.TablixMembers[0].KeepWithGroup=2),n--,this.setTablixHeader(n,t,i.TablixMembers[0],r)):i.TablixHeader=r},n.prototype.populateLastColumnMembers=function(n){for(var t=0;t<n.TablixMembers.length;t++)n.TablixMembers[t].TablixMembers.length>0?this.populateLastColumnMembers(n.TablixMembers[t]):this.lastColumnGroupMembers.push(n)},n.prototype.populateTablixMember=function(n,t,i){ej.isNullOrUndefined(t)||(ej.isNullOrUndefined(t.EmptyField)?(n.Group.Name=t.GroupName,n.Group.GroupExpressions=t.GroupExpressions,n.Group.Filters=t.Filters,n.SortExpressions=t.SortExpressions):n.Group.Name=t.EmptyField);n.KeepWithGroup=ej.isNullOrUndefined(i)?0:i},n.prototype.validateSummary=function(n){var t=$("#"+n);return ej.isNullOrUndefined(t)||t.length===0?!0:!1},n.prototype.renderColumnGroups=function(n,t,i){var s=n.Values.length>0&&n.Values[0].Values.length>0?(n.Columns.length+1)*n.Values[0].Values.length:1,o,e,r,u,v,h,c,l,f,a;if(t)for(u=ej.isNullOrUndefined(i)?0:i;u<s;u++)this.gridJson.TablixBody.TablixColumns.push(this.createTablixColumn()),!ej.isNullOrUndefined(i)&&this.columnWidths.length<this.gridJson.TablixBody.TablixColumns.length&&this.columnWidths.push(this.columnWidths[u-1]);else this.enableTableSummaryColumn||(s=n.Values.length>0?this.gridJson.TablixBody.TablixColumns.length*n.Values[0].Values.length:this.gridJson.TablixBody.TablixColumns.length);for(e=n.Values.length>0&&n.Values[0].Values.length>0?n.Values[0].Values.length:1,this.tableRows=this.tableElement.find("tr"),r=0;r<n.Columns.length;r++)for(u=ej.isNullOrUndefined(i)?0:i;u<s;u++)u===0?(f=void 0,ej.isNullOrUndefined(i)&&(f=this.createTableCellHeader({ColSpan:n.Values.length>0&&n.Values[0].Values.length>0?(n.Columns.length-r)*e:1}),ejDashboardDesigner.getInstance("DataConfiguration").validateExpression(n.Columns[r].Name,n.Columns[r].Value,!1)?f.text("<Expression>"):f.text("[ "+n.Columns[r].Value.split("!")[1].split(".")[0]+" ]")),r===0?t&&(this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMemberGroup()),o=this.gridJson.TablixColumnHierarchy.TablixMembers[0],this.populateTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],n.Columns[r]),this.setColumnElementStyleFromData(f,!1,0),this.gridJson.TablixColumnHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader(r.toString()+u.toString(),n.Columns[r].Value,!0,{BackColor:"white",FontColor:"black"})):t&&(o=this.setTablixColumnHeader(r,u,this.gridJson.TablixColumnHierarchy.TablixMembers[0],this.createTablixHeader(r.toString()+u.toString(),n.Columns[r].Value,!0,{BackColor:"white",FontColor:"black"}),n.Columns[r]),this.setColumnElementStyleFromData(f,!1,r)),ej.isNullOrUndefined(i)&&r<this.tableRows.length&&($(this.tableRows[r]).append(f),t||(r===0?(this.setColumnElementStyle(f,this.gridJson.TablixColumnHierarchy.TablixMembers[0].TablixHeader.CellContents.ReportItem,!1,r),this.rowHeights.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixColumnHierarchy.TablixMembers[0].TablixHeader.Size.size)+2*ej.DashboardUtil.getPixelVal("2pt"))):(v=r+1,this.columnName="Column "+v,h=this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1).TablixHeader,this.setColumnElementStyle(f,h.CellContents.ReportItem,!1,r),this.rowHeights.push(ej.DashboardUtil.getPixelVal(h.Size.size)+2*ej.DashboardUtil.getPixelVal("2pt")),this.columnName=""))),t&&r===this.dataGroupInfo.Columns.length-1&&(this.lastColumnGroupMembers.length>u?this.lastColumnGroupMembers[u]=o:this.lastColumnGroupMembers.push(o)),u=(n.Values.length>0&&n.Values[0].Values.length>0?(n.Columns.length-r)*e:n.Columns.length-r)-1):n.Values.length>0&&n.Values[0].Values.length>0&&(f=void 0,c=this.validateSummary("summaryColumn_"+r.toString()+(this.dataGroupInfo.Rows.length+u).toString()),(ej.isNullOrUndefined(i)||c)&&(f=this.createTableCellHeader({ColSpan:e,Id:"summaryColumn_"+r.toString()+(this.dataGroupInfo.Rows.length+u).toString()}),f.text(Math.floor(u/e)===n.Columns.length-r?"Total":"")),r===0?t&&(this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMember()),o=this.gridJson.TablixColumnHierarchy.TablixMembers[1],this.setTableSummaryColumnElementStyleFromData(f),this.gridJson.TablixColumnHierarchy.TablixMembers[1].TablixHeader=this.createTablixHeader(r.toString()+u.toString(),u===n.Columns.length*e-r?"Total":"",!0,{BackColor:"#f9f9f9"})):u!==n.Columns.length*e?t&&(o=this.setTablixColumnSummaryHeader({startIndex:0,rowIndex:r,colIndex:Math.floor(u/e)},this.getTablixColumnSummaryHeader({startIndex:0,rowIndex:r,colIndex:Math.floor(u/e)},this.gridJson.TablixColumnHierarchy.TablixMembers[0]),this.createTablixHeader(r.toString()+u.toString(),u===n.Columns.length*e-r?"Total":"",!0,{BackColor:"#f9f9f9"}),null),this.setColumnElementStyleFromData(f,!0,r-1)):t&&(o=this.setTablixLastColumnHeader(r,this.gridJson.TablixColumnHierarchy.TablixMembers[1],this.createTablixHeader(r.toString()+u.toString(),u===n.Columns.length*e-r?"Total":"",!0,{BackColor:"#f9f9f9"})),this.setTableSummaryColumnElementStyleFromData(f)),t&&r===this.dataGroupInfo.Columns.length-1&&(this.lastColumnGroupMembers.length>u?this.lastColumnGroupMembers[u]=o:this.lastColumnGroupMembers.push(o)),(ej.isNullOrUndefined(i)||c)&&r<this.tableRows.length&&($(this.tableRows[r]).append(f),t||(r===0?this.setTableSummaryColumnElementStyle(f,this.gridJson.TablixColumnHierarchy.TablixMembers[1].TablixHeader.CellContents.ReportItem):u!==n.Columns.length?(this.columnName="Column "+r,l=this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),l.TablixMembers.length>1?this.setColumnElementStyle(f,l.TablixMembers[1].TablixHeader.CellContents.ReportItem,!0,r-1):this.addSummaryColumn(this.columns[r-1].enableSummaryColumn,r-1,!1),this.columnName=""):(this.columnName="Column 1",this.setTableSummaryColumnElementStyle(f,this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[1],1).TablixHeader.CellContents.ReportItem),this.columnName=""))),u=u+e-1);if(t||this.populateLastColumnMembers(this.gridJson.TablixColumnHierarchy),n.Columns.length===0)if(f=void 0,f=this.createTableCellHeader(),f.text("Columns"),$(this.tableRows[0]).append(f),t&&n.Values.length>0&&n.Values[0].Values.length>0)for(a=0;a<n.Values[0].Values.length;a++)this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMember());else t&&(this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMemberGroup()),this.populateTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],{EmptyField:"ColumnGroup"}),this.gridJson.TablixColumnHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader("ColumnGroup","",!0,{BackColor:"white",FontColor:"black"}));this.tableRows=this.tableElement.find("tr")},n.prototype.renderCornerRows=function(n){for(var f,r,i,t,u=0;u<n.Columns.length;u++)f=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),u===0&&(t=void 0,t=this.createTableCellHeader({RowSpan:n.Columns.length,ColSpan:n.Rows.length===0?1:n.Rows.length}),t.text(this.cornerLabel),f.append(t),this.setCornerCellElementStyleFromData(t)),this.tableElement.append(f);if(r=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),this.dataGroupInfo.Rows.length===0){if(this.dataGroupInfo.Columns.length===0)t=void 0,t=this.createTableCellHeader(),t.text(""),r.append(t),this.tableElement.append(r),this.gridJson.TablixCorner.TablixCornerRows.push(this.createTablixCornerRow(!1,1,1,1));else if(n.Columns.length>0&&n.Values.length>0&&n.Values[0].Values.length>0){for(this.gridJson.TablixCorner.TablixCornerRows.push(this.createTablixCornerRow(!1,n.Columns.length,1,n.Columns.length)),i=0;i<1;i++)t=void 0,t=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),t.text(""),r.append(t),this.gridJson.TablixCorner.TablixCornerRows[n.Columns.length].TablixCornerCells[i]=this.createTablixCornerCell(!1,n.Columns.length,i,1,1),this.setHeaderElementStyleFromData(t),this.gridJson.TablixCorner.TablixCornerRows[n.Columns.length].TablixCornerCells[i].CellContents.ReportItem=this.createReportItem("_CC"+n.Columns.length.toString()+i,"",!0,{BackColor:"#77a7fb",FontColor:"white"});this.tableElement.append(r)}this.tableRows=this.tableElement.find("tr")}else{for(this.gridJson.TablixCorner.TablixCornerRows.push(this.createTablixCornerRow(!1,n.Columns.length,n.Rows.length,n.Columns.length)),i=0;i<this.dataGroupInfo.Rows.length;i++)t=void 0,t=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),t.text(n.Rows[i].Field),r.append(t),this.gridJson.TablixCorner.TablixCornerRows[n.Columns.length].TablixCornerCells[i]=this.createTablixCornerCell(!1,n.Columns.length,i,1,1),this.setHeaderElementStyleFromData(t),this.gridJson.TablixCorner.TablixCornerRows[n.Columns.length].TablixCornerCells[i].CellContents.ReportItem=this.createReportItem("_CC"+n.Columns.length.toString()+i,n.Rows[i].Field,!0,{BackColor:"#77a7fb",FontColor:"white"});this.tableElement.append(r)}this.tableRows=this.tableElement.find("tr")},n.prototype.populateCornerCellHeader=function(){this.gridJson.TablixCorner.TablixCornerRows.push(this.createTablixCornerRow(!1,this.dataGroupInfo.Columns.length,this.dataGroupInfo.Rows.length,this.dataGroupInfo.Columns.length));for(var n=0;n<this.dataGroupInfo.Rows.length;n++)this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells[n]=this.createTablixCornerCell(!1,this.dataGroupInfo.Columns.length,n,1,1),this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells[n].CellContents.ReportItem=this.createReportItem("_CC"+this.dataGroupInfo.Columns.length.toString()+n,this.dataGroupInfo.Rows[n].Field,!0,{BackColor:"#77a7fb",FontColor:"white"})},n.prototype.populateColumnHeaders=function(){var r=this.dataGroupInfo.Values.length>0?this.gridJson.TablixBody.TablixColumns.length*this.dataGroupInfo.Values[0].Values.length:this.gridJson.TablixBody.TablixColumns.length,n,t,i;if(this.dataGroupInfo.Values.length>0&&(this.dataGroupInfo.Values[0].Values.length>0&&this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Values[0].Values.length>1))for(n=0,t=0,i=0;i<r;i++)t===this.dataGroupInfo.Values[0].Values.length&&(n++,t=0),this.lastColumnGroupMembers.length>0&&this.lastColumnGroupMembers[n].TablixMembers.length<this.dataGroupInfo.Values[0].Values.length&&(this.lastColumnGroupMembers[n].TablixMembers.push(this.createTablixMember()),this.lastColumnGroupMembers[n].TablixMembers[this.lastColumnGroupMembers[n].TablixMembers.length-1].TablixHeader=this.createTablixHeader(this.dataGroupInfo.Columns.length.toString()+i.toString(),this.dataGroupInfo.Values[0].Values[t].Field,!0,{BackColor:"#77a7fb",FontColor:"white"}),this.setHeaderReportStyle(this.lastColumnGroupMembers[n].TablixMembers[this.lastColumnGroupMembers[n].TablixMembers.length-1].TablixHeader.CellContents.ReportItem)),t++},n.prototype.renderColumnHeader=function(n,t,i){var c,l,o,e,a,s,v,h,u,r,f;if(this.tableRows=this.tableElement.find("tr"),c=n.Values.length>0?(n.Columns.length+1)*n.Values[0].Values.length:1,t||this.enableTableSummaryColumn||(c=this.gridJson.TablixBody.TablixColumns.length),l=n.Values.length>0&&n.Values[0].Values.length>0?n.Values[0].Values.length:1,n.Values.length>0&&n.Values[0].Values.length>0&&n.Columns.length>0)for(u=ej.isNullOrUndefined(i)?0:Math.floor(i/l),o=0,r=ej.isNullOrUndefined(i)?0:i;r<c;r++)e=void 0,a=this.validateSummary("summaryColumn_"+this.dataGroupInfo.Columns.length.toString()+(this.dataGroupInfo.Rows.length+r).toString()),(ej.isNullOrUndefined(i)||a)&&(e=this.createTableCellHeader({Background:"#77a7fb",Color:"white",Id:"summaryColumn_"+this.dataGroupInfo.Columns.length.toString()+(this.dataGroupInfo.Rows.length+r).toString()})),o===n.Values[0].Values.length&&(u++,o=0),t&&this.lastColumnGroupMembers.length>0&&this.lastColumnGroupMembers[u].TablixMembers.length<n.Values[0].Values.length&&(this.lastColumnGroupMembers[u].TablixMembers.push(this.createTablixMember()),this.lastColumnGroupMembers[u].TablixMembers[this.lastColumnGroupMembers[u].TablixMembers.length-1].TablixHeader=this.createTablixHeader(n.Columns.length.toString()+r.toString(),n.Values[0].Values[o].Field,!0,{BackColor:"#77a7fb",FontColor:"white"}),this.setHeaderElementStyleFromData(e)),(ej.isNullOrUndefined(i)||a)&&(e.text(n.Values[0].Values[o].Field),$(this.tableRows[n.Columns.length]).append(e),t||(r<n.Values[0].Values.length?(s=this.getTablixMemberHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[0],r),this.setHeaderElementStyle(e,ej.isNullOrUndefined(s)?null:s.CellContents.ReportItem),r!==0||ej.isNullOrUndefined(s)||this.rowHeights.push(ej.DashboardUtil.getPixelVal(this.getTablixMemberHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[0],r).Size.size)+2*ej.DashboardUtil.getPixelVal("2pt"))):r>=n.Columns.length*n.Values[0].Values.length?(s=this.getTablixMemberHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[1],r-n.Columns.length*n.Values[0].Values.length),this.setHeaderElementStyle(e,ej.isNullOrUndefined(s)?null:s.CellContents.ReportItem)):(v=this.getTablixMemberSummaryHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[0],0,u-1,o),this.setHeaderElementStyle(e,ej.isNullOrUndefined(v)?null:v.CellContents.ReportItem)))),o++;else if(n.Columns.length===0&&n.Values.length>0&&n.Values[0].Values.length>0&&this.dataGroupInfo.Rows.length>0){for(h=void 0,h=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),this.tableElement.append(h),$(h).insertBefore($(this.tableRows[0])),this.tableRows=this.tableElement.find("tr"),t?this.gridJson.TablixBody.TablixRows.push(this.createTablixRow()):this.rowHeights.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixBody.TablixRows[0].Height.size)+2*ej.DashboardUtil.getPixelVal("2pt")),u=0;u<n.Rows.length;u++)f=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),f.text(n.Rows[u].Field),t?u===0?(this.gridJson.TablixRowHierarchy.TablixMembers.splice(0,0,this.createTablixMember()),this.gridJson.TablixRowHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader("header_row0"+u.toString(),n.Rows[u].Field,!0,{BackColor:"#77a7fb",FontColor:"white"}),this.setHeaderElementStyleFromData(f)):(this.setTablixLastColumnHeader(u,this.gridJson.TablixRowHierarchy.TablixMembers[0],this.createTablixHeader("header_row0"+u.toString(),n.Rows[u].Field,!0,{BackColor:"#77a7fb",FontColor:"white"})),this.setHeaderElementStyleFromData(f)):this.setHeaderElementStyle(f,this.gridJson.TablixBody.TablixRows[0].TablixCells[0].CellContents.ReportItem),$(this.tableRows[0]).append(f);for(r=0;r<l;r++)f=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),f.text(n.Values[0].Values[r].Field),t?(this.gridJson.TablixBody.TablixRows[0].TablixCells.push(this.createTablixCell("_header_0"+r.toString(),n.Values[0].Values[r].Field,!0,{BackColor:"#77a7fb",FontColor:"white"})),this.setHeaderElementStyleFromData(f)):this.setHeaderElementStyle(f,this.gridJson.TablixBody.TablixRows[0].TablixCells[r].CellContents.ReportItem),$(this.tableRows[0]).append(f)}$(this.tableRows[this.dataGroupInfo.Columns.length]).css("display",this.showHeader?"table-row":"none");this.isEmptyColumn||this.gridJson.TablixCorner.TablixCornerRows.length!==n.Columns.length||(this.showHeader=!1)},n.prototype.renderDatas=function(n,t,i,r){var s,h,e,c,l,y,u,p,f;if(n.Values.length>0&&n.Values[0].Values.length){this.tableRows=this.tableElement.find("tr");var o=n.Values[0].Values.length,a=n.Rows.length+1+(this.isEmptyColumn?1:0),v=n.Columns.length+1;if(t||(this.enableTableSummaryRow||(a=this.gridJson.TablixBody.TablixRows.length),this.enableTableSummaryColumn||this.isEmptyColumn||(v=this.gridJson.TablixBody.TablixColumns.length)),s=ej.isNullOrUndefined(i)?0:i,h=0,ej.isNullOrUndefined(r))for(e=this.isEmptyColumn?1:0;e<a;e++)for(t?ej.isNullOrUndefined(i)&&this.gridJson.TablixBody.TablixRows.push(this.createTablixRow()):this.gridJson.TablixBody.TablixRows.length>e&&this.rowHeights.push(ej.DashboardUtil.getPixelVal(this.gridJson.TablixBody.TablixRows[e].Height.size)+2*ej.DashboardUtil.getPixelVal("2pt")),s=ej.isNullOrUndefined(i)?0:i,h=0,u=ej.isNullOrUndefined(i)?0:i;u<v*o;u++)e===(this.isEmptyColumn?1:0)&&u<o?(ej.isNullOrUndefined(i)&&(f=this.createTableCell(),ejDashboardDesigner.getInstance("DataConfiguration").validateExpression(n.Values[0].Values[u].Name,n.Values[0].Values[u].Value,!0)?f.text("<Expression>"):f.text("[ "+n.Values[0].Values[u].Value.split("!")[1].split(".")[0]+" ]"),$(this.tableRows[e+n.Columns.length+(this.isEmptyColumn||!this.showHeader?0:1)]).append(f),t?this.setContentElementStyleFromData(f):this.setContentElementStyle(f,this.gridJson.TablixBody.TablixRows[e].TablixCells[u].CellContents.ReportItem)),t&&(n.Columns.length!==0||this.isEmptyColumn||(u===0?(this.gridJson.TablixColumnHierarchy.TablixMembers[0].TablixHeader=this.createTablixHeader("0"+u.toString(),n.Values[0].Values[u].Field,!0,{BackColor:"#77a7fb",FontColor:"white"}),c=$(this.tableRows[0]).find("th"),$(c[c.length-1]).text(n.Values[0].Values[u].Field),$(c[c.length-1]).css({"background-color":"#77a7fb",color:"white"})):(l=this.createTableCellHeader({Background:"#77a7fb",Color:"white"}),l.text(n.Values[0].Values[u].Field),this.gridJson.TablixColumnHierarchy.TablixMembers.push(this.createTablixMember()),this.gridJson.TablixColumnHierarchy.TablixMembers[u].TablixHeader=this.createTablixHeader("0"+u.toString(),n.Values[0].Values[u].Field,!0,{BackColor:"#77a7fb",FontColor:"white"}),$(this.tableRows[0]).append(l))),this.gridJson.TablixBody.TablixRows[e].TablixCells.push(this.createTablixCell("_data_"+e.toString()+u.toString(),n.Values[0].Values[u].Value,!0)))):(h=1,f=void 0,y=this.validateSummary("summaryColumn_"+(e+n.Columns.length+1).toString()+(this.dataGroupInfo.Rows.length+u).toString()),(ej.isNullOrUndefined(i)||y)&&(f=this.createTableCellHeader({Background:"#f9f9f9",Id:"summaryColumn_"+(e+n.Columns.length+1).toString()+(this.dataGroupInfo.Rows.length+u).toString()}),ejDashboardDesigner.getInstance("DataConfiguration").validateExpression(n.Values[0].Values[u%o].Name,n.Values[0].Values[u%o].Value,!0)?f.text("<Expression>"):f.text("[ "+n.Values[0].Values[u%o].Value+" ]"),$(this.tableRows[e+n.Columns.length+(this.isEmptyColumn||!this.showHeader?0:1)]).append(f),h===o&&(s++,h=0),t?e===0?u<n.Columns.length*o?this.setColumnElementStyleFromData(f,!0,this.dataGroupInfo.Columns.length-(s+1)):this.setTableSummaryColumnElementStyleFromData(f):e<this.dataGroupInfo.Rows.length?this.setRowElementStyleFromData(f,!0,this.dataGroupInfo.Rows.length-(e+1)):this.setTableSummaryRowElementStyleFromData(f):e<this.gridJson.TablixBody.TablixRows.length?this.setElementStyle(f,this.gridJson.TablixBody.TablixRows[e].TablixCells[u].CellContents.ReportItem,s):this.setElementStyle(f,this.gridJson.TablixBody.TablixRows[this.gridJson.TablixBody.TablixRows.length-1].TablixCells[u].CellContents.ReportItem,s),h++),t&&e<this.gridJson.TablixBody.TablixRows.length&&this.gridJson.TablixBody.TablixRows[e].TablixCells.push(this.createTablixCell("_data_"+e.toString()+u.toString(),n.Values[0].Values[u%o].Value,!0,{BackColor:"#f9f9f9"})));else for(t&&this.gridJson.TablixBody.TablixRows.push(this.createTablixRow()),s=ej.isNullOrUndefined(i)?0:i,h=0,u=0;u<(n.Columns.length+1)*o;u++)f=void 0,p=$(this.tableRows[r+n.Columns.length+1]).find("th").length-1<u+n.Rows.length,(ej.isNullOrUndefined(i)||p)&&(f=this.createTableCellHeader({Background:"#f9f9f9",Id:"summaryColumn_"+(r+n.Columns.length+1).toString()+(this.dataGroupInfo.Rows.length+u).toString()}),f.text(n.Values[0].Values[u%o].Value),$(this.tableRows[r+n.Columns.length+1]).append(f),h===o&&(s++,h=0),t?r===0?u<n.Columns.length*o?this.setColumnElementStyleFromData(f,!0,this.dataGroupInfo.Columns.length-(s+1)):this.setTableSummaryColumnElementStyleFromData(f):r<this.dataGroupInfo.Rows.length?this.setRowElementStyleFromData(f,!0,this.dataGroupInfo.Rows.length-(r+1)):this.setTableSummaryRowElementStyleFromData(f):this.setElementStyle(f,this.gridJson.TablixBody.TablixRows[r].TablixCells[u].CellContents.ReportItem,s),h++),t&&this.gridJson.TablixBody.TablixRows[r].TablixCells.push(this.createTablixCell("_data_"+r.toString()+u.toString(),n.Values[0].Values[u%o].Value,!0,{BackColor:"#f9f9f9"}))}else(n.Values.length>0&&n.Values[0].Values.length===0||n.Values.length===0)&&(f=void 0,f=this.createTableCellHeader({RowSpan:this.dataGroupInfo.Rows.length>0?n.Columns.length===0?this.dataGroupInfo.Rows.length:this.dataGroupInfo.Rows.length+1:1,ColSpan:this.dataGroupInfo.Columns.length>0&&n.Values.length>0&&n.Values[0].Values.length>0?this.dataGroupInfo.Columns.length+1:1}),f.text("Datas"),t&&(this.gridJson.TablixBody.TablixRows.push(this.createTablixRow()),this.gridJson.TablixBody.TablixRows[0].TablixCells.push(this.createTablixCell("_emptyData","",!0))),$(this.tableRows[n.Columns.length>0?n.Columns.length:n.Columns.length+1]).append(f));this.tableRows=this.tableElement.find("tr")},n.prototype.setTablixMemberHeader=function(n,t,i){n.TablixMembers.length>0&&(n.TablixMembers[0].TablixMembers.length>0?this.setTablixMemberHeader(n.TablixMembers[0],t,i):n.TablixMembers[t].TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=i)},n.prototype.setTablixRowGroupHeader=function(n,t,i,r){t!==i?this.setTablixRowGroupHeader(n.TablixMembers[0],t+1,i,r):n.TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=r},n.prototype.setTablixMemberSummaryHeader=function(n,t,i,r,u){t!==i?this.setTablixMemberSummaryHeader(n.TablixMembers[0],t+1,i,r,u):this.setTablixMemberHeader(n.TablixMembers[1],r,u)},n.prototype.getTablixMemberHeader=function(n,t){if(n.TablixMembers.length>0)return n.TablixMembers[0].TablixMembers.length>0?this.getTablixMemberHeader(n.TablixMembers[0],t):n.TablixMembers[t].TablixHeader},n.prototype.getTablixMemberSummaryHeader=function(n,t,i,r){return t!==i?this.getTablixMemberSummaryHeader(n.TablixMembers[0],t+1,i,r):n.TablixMembers.length>1?this.getTablixMemberHeader(n.TablixMembers[1],r):null},n.prototype.getTablixMemberSize=function(n,t){if(t===0)return n.TablixHeader.Size.size;for(var i=0;i<n.TablixMembers.length;i++)return this.getTablixMemberSize(n.TablixMembers[i],t-1)},n.prototype.setTablixMemberSize=function(n,t,i){if(t===0)ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.TablixHeader)||(n.TablixHeader.Size.size=i);else for(var r=0;r<n.TablixMembers.length;r++)this.setTablixMemberSize(n.TablixMembers[r],t-1,i)},n.prototype.renderTable=function(n){var t,u,r,i;if(this.tableElement.empty(),this.lastColumnGroupMembers=[],n.Rows.length>0||n.Columns.length>0||n.Values.length>0&&n.Values[0].Values.length>0)this.controlContainer.css("height",2*ej.DashboardUtil.getPixelVal(this.rowHeight)+4+"px"),this.controlContainer.css("width",2*ej.DashboardUtil.getPixelVal(this.columnWidth)+4+"px"),this.tableElement.css("table-layout","auto"),this.gridJson.TablixBody.TablixColumns=[],this.gridJson.TablixBody.TablixRows=[],this.gridJson.TablixColumnHierarchy.TablixMembers=[],this.gridJson.TablixRowHierarchy.TablixMembers=[],n.Values.length===0||n.Values.length>0&&n.Values[0].Values.length===0||n.Values.length>0&&n.Values[0].Values.length>0&&(n.Columns.length!==0||n.Rows.length===0)?(this.gridJson.TablixCorner={__type:"Syncfusion.RDL.DOM.TablixCorner",TablixCornerRows:[]},this.gridJson.TablixCorner.TablixCornerRows=this.createTablixCornerRows(n.Rows.length===0?n.Values.length>0&&n.Values[0].Values.length>0?1:n.Rows.length:n.Rows.length,n.Columns.length)):delete this.gridJson.TablixCorner,(n.Values.length===0||n.Values.length>0&&n.Values[0].Values.length===0||n.Values.length>0&&n.Values[0].Values.length>0&&(n.Columns.length!==0||n.Rows.length===0))&&this.renderCornerRows(n),this.renderColumnGroups(n,!0),this.renderRowGroups(n,!0),this.renderColumnHeader(n,!0),this.renderDatas(n,!0),this.gridJson.DataSetName=n.Values.length>0&&n.Values[0].Values.length>0?n.Values[0].Values[0].Name:n.Columns.length>0?n.Columns[0].Name:n.Rows.length>0?n.Rows[0].Name:"";else{for(this.updateDefaultTableJson(),t=0;t<=1;t++){for(u=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle"},{vAlign:"top"}),r=1;r<=2;r++)i=void 0,t===0||t===1&&r===1?(i=this.createTableCellHeader(),t===0&&r===2?i.text("Columns"):t===1&&i.text("Rows")):(i=this.createTableCell(),t>0&&i.text("Datas")),u.append(i);this.tableElement.append(u)}this.controlContainer.css("height",2*ej.DashboardUtil.getPixelVal(this.rowHeight)+4+"px");this.controlContainer.css("width",2*ej.DashboardUtil.getPixelVal(this.columnWidth)+4+"px");this.updateCurrentSize()}this.tableRows=this.tableElement.find("tr")},n.prototype.updateGridHeight=function(n){var f,u,e,o,s,i,r,t;for(this.tableRows=$(this.tableElement).find("tr"),t=0;t<this.tableRows.length;t++){for(f=$(this.tableRows[t]).find("th"),u=t,i=0;i<f.length;i++){for(u=t,e=0,o=0;o<parseInt($(f[i]).attr("rowspan"),10);o++)e=e+this.rowHeights[u],u++;$(f[i])[0].style.height=e+"px"}for(s=$(this.tableRows[t]).find("td"),i=0;i<s.length;i++)$(s[i])[0].style.height=this.rowHeights[u]+"px"}if(n)for(t=0;t<this.tableRows.length;t++)if(t<this.rowHeights.length)if(t<this.dataGroupInfo.Columns.length+1&&this.dataGroupInfo.Columns.length>0)for(i=0;i<this.gridJson.TablixColumnHierarchy.TablixMembers.length;i++)this.setTablixMemberSize(this.gridJson.TablixColumnHierarchy.TablixMembers[i],t,ej.DashboardUtil.getUnitVal(this.rowHeights[t],"in"));else this.gridJson.TablixBody.TablixRows.length>t-(this.dataGroupInfo.Columns.length+1)&&t-(this.dataGroupInfo.Columns.length+1)>=0&&(this.isEmptyColumn&&t<this.gridJson.TablixBody.TablixRows.length?this.gridJson.TablixBody.TablixRows[t].Height.size=ej.DashboardUtil.getUnitVal(this.rowHeights[t],"in"):this.isEmptyColumn||(this.gridJson.TablixBody.TablixRows[t-(this.dataGroupInfo.Columns.length+1)].Height.size=ej.DashboardUtil.getUnitVal(this.rowHeights[t],"in")));for(r=0,t=0;t<this.rowHeights.length;t++)r=r+this.rowHeights[t];return Math.round(r+this.getBorderHeight())+"px"!==this.controlContainer.css("height")&&this.controlContainer.css("height",r+this.getBorderHeight()+"px"),this.updateCurrentSize(),r},n.prototype.updateGridWidth=function(n){var f,r,u,i,t;for(this.tableRows=$(this.tableElement).find("tr"),f=$(this.tableElement).find("col"),t=0;t<f.length;t++)$(f[t])[0].style.width=this.columnWidths[t]+"px";if(n)for(r=this.dataGroupInfo.Rows.length===0?1:this.dataGroupInfo.Rows.length,t=0;t<this.dataGroupInfo.Rows.length+this.gridJson.TablixBody.TablixColumns.length;t++)if(t<this.columnWidths.length)if(t<this.dataGroupInfo.Rows.length)for(u=0;u<this.gridJson.TablixRowHierarchy.TablixMembers.length;u++)this.setTablixMemberSize(this.gridJson.TablixRowHierarchy.TablixMembers[u],t,ej.DashboardUtil.getUnitVal(this.columnWidths[t],"in"));else this.gridJson.TablixBody.TablixColumns.length>t-r&&t-r>=0&&(this.gridJson.TablixBody.TablixColumns[t-r].Width.size=ej.DashboardUtil.getUnitVal(this.columnWidths[t],"in"));for(i=0,t=0;t<this.columnWidths.length;t++)i=i+this.columnWidths[t];return Math.round(i+this.getBorderWidth())+"px"!==this.controlContainer.css("width")&&this.controlContainer.css("width",i+this.getBorderWidth()+"px"),this.updateCurrentSize(),i},n.prototype.updateHeightValues=function(n,t){this.dataGroupInfo.Columns.length===0&&this.dataGroupInfo.Rows.length===0&&n>0&&t>this.rowHeights[0]-2*ej.DashboardUtil.getPixelVal("2pt")&&(t=this.rowHeights[0]-2*ej.DashboardUtil.getPixelVal("2pt"));this.rowHeights.length>n&&t>this.rowHeights[n]?this.rowHeights[n]=t+2*ej.DashboardUtil.getPixelVal("2pt"):this.rowHeights.length<=n&&this.rowHeights.push(t+2*ej.DashboardUtil.getPixelVal("2pt"))},n.prototype.updateMaximumRowHeight=function(){var t,i,r,n,u;for(this.rowHeights=[],this.tableRows=$(this.tableElement).find("tr"),t=0;t<this.tableRows.length;t++){for(i=$(this.tableRows[t]).find("th"),n=0;n<i.length;n++)i.length>n&&parseInt($(i[n]).attr("rowspan"),10)===1&&(u=this.validateHeight($(i[n]).height()),this.updateHeightValues(t,u));for(r=$(this.tableRows[t]).find("td"),n=0;n<r.length;n++)r.length>n&&parseInt($(r[n]).attr("rowspan"),10)===1&&(u=this.validateHeight($(r[n]).height()),this.updateHeightValues(t,u))}},n.prototype.validateHeight=function(n){return n<this.minimumHeight?this.minimumHeight:n},n.prototype.validateWidth=function(n){return n<this.minimumWidth?this.minimumWidth:n},n.prototype.updateMaximumColumnWidth=function(){var i,r,u,f,n,t;for(this.columnWidths=[],this.tableRows=$(this.tableElement).find("tr"),i=this.dataGroupInfo.Columns.length;i<this.tableRows.length;i++){for(r=$(this.tableRows[i]).find("th"),n=0;n<r.length;n++)r.length>n&&parseInt($(r[n]).attr("colspan"),10)===1&&(t=this.validateWidth($(r[n]).width()),this.columnWidths.length>n&&t>this.columnWidths[n]?this.columnWidths[n]=t+ej.DashboardUtil.getPixelVal("4pt")+ej.DashboardUtil.getPixelVal("2pt"):this.columnWidths.length<=n&&this.columnWidths.push(t+ej.DashboardUtil.getPixelVal("4pt")+ej.DashboardUtil.getPixelVal("2pt")));for(u=$(this.tableRows[i]).find("td"),f=this.dataGroupInfo.Rows.length>0?this.dataGroupInfo.Rows.length:1,n=0;n<u.length;n++)u.length>n&&parseInt($(u[n]).attr("colspan"),10)===1&&(t=this.validateWidth($(u[n]).width()),this.columnWidths.length>n+f&&t>this.columnWidths[n+f]?this.columnWidths[n+f]=t+ej.DashboardUtil.getPixelVal("4pt")+ej.DashboardUtil.getPixelVal("2pt"):this.columnWidths.length<=n+f&&this.columnWidths.push(t+ej.DashboardUtil.getPixelVal("4pt")+ej.DashboardUtil.getPixelVal("2pt")))}},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,h,c,l,a,v,e,o,y,s;switch(n){case"Name":this.gridJson.Name=i;break;case"Hidden":this.updateGridVisibility(i);break;case"Left":this.updateLeftPosition(i);break;case"Top":this.updateTopPosition(i);break;case"Height":this.updateHeight(i);break;case"Width":this.updateWidth(i);break;case"ColumnSelectedFormat":this.updateColumnFormat(i);break;case"RowSelectedFormat":this.updateRowFormat(i);break;case"ColumnActionLink":this.updateColumnActionInfo(i);break;case"RowActionLink":this.updateRowActionInfo(i);break;case"BorderColorDefault":this.gridJson.Style.Border||(this.gridJson.Style.Border=this.createBorder(""));this.updateBorderColor(this.gridJson.Style.Border,i,"");break;case"BorderColorLeft":this.gridJson.Style.LeftBorder||(this.gridJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderColor(this.gridJson.Style.LeftBorder,i,"-left");break;case"BorderColorRight":this.gridJson.Style.RightBorder||(this.gridJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderColor(this.gridJson.Style.RightBorder,i,"-right");break;case"BorderColorTop":this.gridJson.Style.TopBorder||(this.gridJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderColor(this.gridJson.Style.TopBorder,i,"-top");break;case"BorderColorBottom":this.gridJson.Style.BottomBorder||(this.gridJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderColor(this.gridJson.Style.BottomBorder,i,"-bottom");break;case"BorderWidthDefault":this.gridJson.Style.Border||(this.gridJson.Style.Border=this.createBorder(""));this.updateBorderWidth(this.gridJson.Style.Border,i,"");break;case"BorderWidthLeft":this.gridJson.Style.LeftBorder||(this.gridJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderWidth(this.gridJson.Style.LeftBorder,i,"-left");break;case"BorderWidthRight":this.gridJson.Style.RightBorder||(this.gridJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderWidth(this.gridJson.Style.RightBorder,i,"-right");break;case"BorderWidthTop":this.gridJson.Style.TopBorder||(this.gridJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderWidth(this.gridJson.Style.TopBorder,i,"-top");break;case"BorderWidthBottom":this.gridJson.Style.BottomBorder||(this.gridJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderWidth(this.gridJson.Style.BottomBorder,i,"-bottom");break;case"BorderStyleDefault":this.gridJson.Style.Border||(this.gridJson.Style.Border=this.createBorder(""));this.updateBorderStyle(this.gridJson.Style.Border,i,"");break;case"BorderStyleLeft":this.gridJson.Style.LeftBorder||(this.gridJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderStyle(this.gridJson.Style.LeftBorder,i,"-left");break;case"BorderStyleRight":this.gridJson.Style.RightBorder||(this.gridJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderStyle(this.gridJson.Style.RightBorder,i,"-right");break;case"BorderStyleTop":this.gridJson.Style.TopBorder||(this.gridJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderStyle(this.gridJson.Style.TopBorder,i,"-top");break;case"BorderStyleBottom":this.gridJson.Style.BottomBorder||(this.gridJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderStyle(this.gridJson.Style.BottomBorder,i,"-bottom");break;case"BreakLocation":this.gridJson.PageBreak||(this.gridJson.PageBreak=this.createPageBreak());this.gridJson.PageBreak.BreakLocation=i;break;case"Disabled":this.gridJson.PageBreak||(this.gridJson.PageBreak=this.createPageBreak());this.gridJson.PageBreak.Disabled=i;this.propertyPanel.updateItemVisibility("PivotGrid","PageBreak","BreakLocation",$.parseJSON(i));this.propertyPanel.updateItemVisibility("PivotGrid","PageBreak","ResetPageNumber",$.parseJSON(i));this.propertyPanel.refreshScroller();break;case"ResetPageNumber":this.gridJson.PageBreak||(this.gridJson.PageBreak=this.createPageBreak());this.gridJson.PageBreak.ResetPageNumber=i;break;case"PageName":this.gridJson.PageName=i;break;case"RepeatColumnHeaders":this.gridJson.RepeatColumnHeaders=i;break;case"RepeatRowHeaders":this.gridJson.RepeatRowHeaders=i;break;case"KeepTogether":this.gridJson.KeepToGether=i;break;case"NoRowsMessage":this.gridJson.NoRowsMessage=i;break;case"NoRowFontFamily":this.gridJson.Style.FontFamily=i;break;case"NoRowFontColor":this.gridJson.Style.Color=i;break;case"NoRowFontSize":this.gridJson.Style.FontSize=this.getDomSize(i);break;case"NoRowFontStyle":this.gridJson.Style.FontStyle=i;break;case"NoRowFontWeight":this.gridJson.Style.FontWeight=i;break;case"NoRowTextDecoration":this.gridJson.Style.TextDecoration=i;break;case"NoRowTextAlign":this.gridJson.Style.TextAlign=i;break;case"NoRowVerticalAlign":this.gridJson.Style.VerticalAlign=i;break;case"NoRowPaddingLeft":this.gridJson.Style.PaddingLeft=this.getDomSize(i+"pt");break;case"NoRowPaddingRight":this.gridJson.Style.PaddingRight=this.getDomSize(i+"pt");break;case"NoRowPaddingTop":this.gridJson.Style.PaddingTop=this.getDomSize(i+"pt");break;case"NoRowPaddingBottom":this.gridJson.Style.PaddingBottom=this.getDomSize(i+"pt");break;case"HeaderVisibility":this.updateHeaderVisibility(i);break;case"HeaderBackgroundColor":this.updateHeaderBackgroundColor(i);break;case"HeaderFontFamily":this.updateHeaderFontFamily(i);break;case"HeaderFontColor":this.updateHeaderFontColor(i);break;case"HeaderFontSize":this.updateHeaderFontSize(i);break;case"HeaderFontStyle":this.updateHeaderFontStyle(i);break;case"HeaderFontWeight":this.updateHeaderFontWeight(i);break;case"HeaderTextDecoration":this.updateHeaderTextDecoration(i);break;case"HeaderTextAlign":this.updateHeaderTextAlignment(i);break;case"HeaderPaddingLeft":this.updateHeaderPadding(i,"-left");break;case"HeaderPaddingRight":this.updateHeaderPadding(i,"-right");break;case"HeaderPaddingTop":this.updateHeaderPadding(i,"-top");break;case"HeaderPaddingBottom":this.updateHeaderPadding(i,"-bottom");break;case"CellBorderColor":this.updateContentBorderColor(i);break;case"CellBorderStyle":this.updateContentBorderStyle(i);break;case"CellBorderWidth":this.updateContentBorderWidth(i);break;case"BackgroundColor":this.updateContentBackgroundColor(i);break;case"ContentFontFamily":this.updateContentFontFamily(i);break;case"ContentFontColor":this.updateContentFontColor(i);break;case"ContentFontSize":this.updateContentFontSize(i);break;case"ContentFontStyle":this.updateContentFontStyle(i);break;case"ContentFontWeight":this.updateContentFontWeight(i);break;case"ContentTextDecoration":this.updateContentTextDecoration(i);break;case"ContentTextAlign":this.updateContentTextAlignment(i);break;case"ContentPaddingLeft":this.updateContentPadding(i,"-left");break;case"ContentPaddingRight":this.updateContentPadding(i,"-right");break;case"ContentPaddingTop":this.updateContentPadding(i,"-top");break;case"ContentPaddingBottom":this.updateContentPadding(i,"-bottom");break;case"HorizontalGridLine":this.updateHorizontalGridLine(i);break;case"VerticalGridLine":this.updateVerticalGridLine(i);break;case"TableSummaryValue":this.setSummaryValue(i);f=$("#"+this.designId+"_PivotGrid_SummarySettings_TableSummaryValue").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=f.option("dataSource"));break;case"SummaryValue":this.setColumnSummaryValue(i);h=$("#"+this.designId+"_PivotGrid_ColumnGroupSettings_SummaryValue").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=h.option("dataSource"));break;case"Column":u=this.updateColumn(i);c=$("#"+this.designId+"_PivotGrid_ColumnGroupSettings_Column").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=c.option("dataSource"));break;case"ColumnHeaderBorderColor":u=this.updateColumnGroupBorderColor(i);break;case"ColumnHeaderBorderStyle":u=this.updateColumnGroupBorderStyle(i);break;case"ColumnHeaderBorderWidth":u=this.updateColumnGroupBorderWidth(i);break;case"ColumnHeaderBackgroundColor":u=this.updateColumnGroupBackgroundColor(i);break;case"ColumnHeaderFontFamily":u=this.updateColumnGroupFontFamily(i);break;case"ColumnHeaderFontColor":u=this.updateColumnGroupFontColor(i);break;case"ColumnHeaderFontSize":u=this.updateColumnGroupFontSize(i);break;case"ColumnHeaderFontStyle":u=this.updateColumnGroupFontStyle(i);break;case"ColumnHeaderFontWeight":u=this.updateColumnGroupFontWeight(i);break;case"ColumnHeaderTextDecoration":u=this.updateColumnGroupTextDecoration(i);break;case"ColumnHeaderTextAlign":u=this.updateColumnGroupTextAlign(i);break;case"ColumnHeaderPaddingLeft":u=this.updateColumnGroupPadding(i,"-left");break;case"ColumnHeaderPaddingRight":u=this.updateColumnGroupPadding(i,"-right");break;case"ColumnHeaderPaddingTop":u=this.updateColumnGroupPadding(i,"-top");break;case"ColumnHeaderPaddingBottom":u=this.updateColumnGroupPadding(i,"-bottom");break;case"TableSummaryColumn":this.updateTableSummaryColumn(i);break;case"TableSummaryRow":this.updateTableSummaryRow(i);break;case"TableSummaryColumnBorderColor":u=this.updateColumnGroupSummaryBorderColor(i,!0);break;case"TableSummaryColumnBorderStyle":u=this.updateColumnGroupSummaryBorderStyle(i,!0);break;case"TableSummaryColumnBorderWidth":u=this.updateColumnGroupSummaryBorderWidth(i,!0);break;case"TableSummaryColumnBackgroundColor":u=this.updateColumnGroupSummaryBackgroundColor(i,!0);break;case"TableSummaryColumnFontFamily":u=this.updateColumnGroupSummaryFontFamily(i,!0);break;case"TableSummaryColumnFontColor":u=this.updateColumnGroupSummaryFontColor(i,!0);break;case"TableSummaryColumnFontSize":u=this.updateColumnGroupSummaryFontSize(i,!0);break;case"TableSummaryColumnFontStyle":u=this.updateColumnGroupSummaryFontStyle(i,!0);break;case"TableSummaryColumnFontWeight":u=this.updateColumnGroupSummaryFontWeight(i,!0);break;case"TableSummaryColumnTextDecoration":u=this.updateColumnGroupSummaryTextDecoration(i,!0);break;case"TableSummaryColumnTextAlign":u=this.updateColumnGroupSummaryTextAlign(i,!0);break;case"TableSummaryColumnPaddingLeft":u=this.updateColumnGroupSummaryPadding(i,"-left",!0);break;case"TableSummaryColumnPaddingRight":u=this.updateColumnGroupSummaryPadding(i,"-right",!0);break;case"TableSummaryColumnPaddingTop":u=this.updateColumnGroupSummaryPadding(i,"-top",!0);break;case"TableSummaryColumnPaddingBottom":u=this.updateColumnGroupSummaryPadding(i,"-bottom",!0);break;case"ColumnGroupSummaryBorderColor":u=this.updateColumnGroupSummaryBorderColor(i);break;case"ColumnGroupSummaryBorderStyle":u=this.updateColumnGroupSummaryBorderStyle(i);break;case"ColumnGroupSummaryBorderWidth":u=this.updateColumnGroupSummaryBorderWidth(i);break;case"ColumnGroupSummaryBackgroundColor":u=this.updateColumnGroupSummaryBackgroundColor(i);break;case"ColumnGroupSummaryFontFamily":u=this.updateColumnGroupSummaryFontFamily(i);break;case"ColumnGroupSummaryFontColor":u=this.updateColumnGroupSummaryFontColor(i);break;case"ColumnGroupSummaryFontSize":u=this.updateColumnGroupSummaryFontSize(i);break;case"ColumnGroupSummaryFontStyle":u=this.updateColumnGroupSummaryFontStyle(i);break;case"ColumnGroupSummaryFontWeight":u=this.updateColumnGroupSummaryFontWeight(i);break;case"ColumnGroupSummaryTextDecoration":u=this.updateColumnGroupSummaryTextDecoration(i);break;case"ColumnGroupSummaryTextAlign":u=this.updateColumnGroupSummaryTextAlign(i);break;case"ColumnGroupSummaryPaddingLeft":u=this.updateColumnGroupSummaryPadding(i,"-left");break;case"ColumnGroupSummaryPaddingRight":u=this.updateColumnGroupSummaryPadding(i,"-right");break;case"ColumnGroupSummaryPaddingTop":u=this.updateColumnGroupSummaryPadding(i,"-top");break;case"ColumnGroupSummaryPaddingBottom":u=this.updateColumnGroupSummaryPadding(i,"-bottom");break;case"RowHeaderBorderColor":u=this.updateRowGroupBorderColor(i);break;case"RowHeaderBorderStyle":u=this.updateRowGroupBorderStyle(i);break;case"RowHeaderBorderWidth":u=this.updateRowGroupBorderWidth(i);break;case"RowHeaderBackgroundColor":u=this.updateRowGroupBackgroundColor(i);break;case"RowHeaderFontFamily":u=this.updateRowGroupFontFamily(i);break;case"RowHeaderFontColor":u=this.updateRowGroupFontColor(i);break;case"RowHeaderFontSize":u=this.updateRowGroupFontSize(i);break;case"RowHeaderFontStyle":u=this.updateRowGroupFontStyle(i);break;case"RowHeaderFontWeight":u=this.updateRowGroupFontWeight(i);break;case"RowHeaderTextDecoration":u=this.updateRowGroupTextDecoration(i);break;case"RowHeaderTextAlign":u=this.updateRowGroupTextAlign(i);break;case"RowHeaderPaddingLeft":u=this.updateRowGroupPadding(i,"-left");break;case"RowHeaderPaddingRight":u=this.updateRowGroupPadding(i,"-right");break;case"RowHeaderPaddingTop":u=this.updateRowGroupPadding(i,"-top");break;case"RowHeaderPaddingBottom":u=this.updateRowGroupPadding(i,"-bottom");break;case"TableSummaryRowBorderColor":u=this.updateRowGroupSummaryBorderColor(i,!0);break;case"TableSummaryRowBorderStyle":u=this.updateRowGroupSummaryBorderStyle(i,!0);break;case"TableSummaryRowBorderWidth":u=this.updateRowGroupSummaryBorderWidth(i,!0);break;case"TableSummaryRowBackgroundColor":u=this.updateRowGroupSummaryBackgroundColor(i,!0);break;case"TableSummaryRowFontFamily":u=this.updateRowGroupSummaryFontFamily(i,!0);break;case"TableSummaryRowFontColor":u=this.updateRowGroupSummaryFontColor(i,!0);break;case"TableSummaryRowFontSize":u=this.updateRowGroupSummaryFontSize(i,!0);break;case"TableSummaryRowFontStyle":u=this.updateRowGroupSummaryFontStyle(i,!0);break;case"TableSummaryRowFontWeight":u=this.updateRowGroupSummaryFontWeight(i,!0);break;case"TableSummaryRowTextDecoration":u=this.updateRowGroupSummaryTextDecoration(i,!0);break;case"TableSummaryRowTextAlign":u=this.updateRowGroupSummaryTextAlign(i,!0);break;case"TableSummaryRowPaddingLeft":u=this.updateRowGroupSummaryPadding(i,"-left",!0);break;case"TableSummaryRowPaddingRight":u=this.updateRowGroupSummaryPadding(i,"-right",!0);break;case"TableSummaryRowPaddingTop":u=this.updateRowGroupSummaryPadding(i,"-top",!0);break;case"TableSummaryRowPaddingBottom":u=this.updateRowGroupSummaryPadding(i,"-bottom",!0);break;case"RowSummaryBorderColor":u=this.updateRowGroupSummaryBorderColor(i);break;case"RowSummaryBorderStyle":u=this.updateRowGroupSummaryBorderStyle(i);break;case"RowSummaryBorderWidth":u=this.updateRowGroupSummaryBorderWidth(i);break;case"RowSummaryBackgroundColor":u=this.updateRowGroupSummaryBackgroundColor(i);break;case"RowSummaryFontFamily":u=this.updateRowGroupSummaryFontFamily(i);break;case"RowSummaryFontColor":u=this.updateRowGroupSummaryFontColor(i);break;case"RowSummaryFontSize":u=this.updateRowGroupSummaryFontSize(i);break;case"RowSummaryFontStyle":u=this.updateRowGroupSummaryFontStyle(i);break;case"RowSummaryFontWeight":u=this.updateRowGroupSummaryFontWeight(i);break;case"RowSummaryTextDecoration":u=this.updateRowGroupSummaryTextDecoration(i);break;case"RowSummaryTextAlign":u=this.updateRowGroupSummaryTextAlign(i);break;case"RowSummaryPaddingLeft":u=this.updateRowGroupSummaryPadding(i,"-left");break;case"RowSummaryPaddingRight":u=this.updateRowGroupSummaryPadding(i,"-right");break;case"RowSummaryPaddingTop":u=this.updateRowGroupSummaryPadding(i,"-top");break;case"RowSummaryPaddingBottom":u=this.updateRowGroupSummaryPadding(i,"-bottom");break;case"Columns":u=this.updateColumns(i);l=$("#"+this.designId+"_PivotGrid_ColumnSettings_Columns").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=l.option("dataSource"));break;case"Rows":u=this.updateRows(i);a=$("#"+this.designId+"_PivotGrid_RowSettings_Rows").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=a.option("dataSource"));break;case"ColumnTitle":this.updateColumnHeader(i);break;case"CornerBorderColor":this.updateCornerBorderColor(i);break;case"CornerBorderStyle":this.updateCornerBorderStyle(i);break;case"CornerBorderWidth":this.updateCornerBorderWidth(i);break;case"CornerBackgroundColor":this.updateCornerBackgroundColor(i);break;case"CornerFontFamily":this.updateCornerFontFamily(i);break;case"CornerFontColor":this.updateCornerFontColor(i);break;case"CornerFontSize":this.updateCornerFontSize(i);break;case"CornerFontStyle":this.updateCornerFontStyle(i);break;case"CornerFontWeight":this.updateCornerFontWeight(i);break;case"CornerTextDecoration":this.updateCornerTextDecoration(i);break;case"CornerTextAlign":this.updateCornerTextAlign(i);break;case"CornerPaddingLeft":this.updateCornerPadding(i,"-left");break;case"CornerPaddingRight":this.updateCornerPadding(i,"-right");break;case"CornerPaddingTop":this.updateCornerPadding(i,"-top");break;case"CornerPaddingBottom":this.updateCornerPadding(i,"-bottom");break;case"CornerLabel":this.updateCornerLabel(i);break;case"ColumnWidth":u=this.updateColumnWidth(i);break;case"RowName":u=this.updateRowName(i);v=$("#"+this.designId+"_PivotGrid_RowGroupSettings_RowName").data("ejDropDownList");ej.isNullOrUndefined(f)||(r.valueList=v.option("dataSource"));break;case"RowHeight":u=this.updateRowHeight(i);break;case"SummaryRow":this.updateSummaryRow(i);break;case"SummaryColumn":this.updateSummaryColumn(i)}if(ej.isNullOrUndefined(u)||(t=u),ejDashboardDesigner.editManager.isPerformAction&&(e=this.designPanel.selectedReportItems,e.length>0))for(o=0;o<e.length;o++)y=e[o],y.attr("id")===this.controlContainer.attr("id")&&(s=$.extend(!0,{},r),s.categoryName=r.categoryName,s.valueList=r.valueList,this.propertyPanel.updatePropertyValue(s,"PivotGrid",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-pivotgrid-item",this.gridJson.Name,[n,i,t,r],[n,t,i,r])},n.prototype.updateGridVisibility=function(n){var t=ej.DashboardUtil.isExpression(n)?!n:n;this.gridJson.Visibility?this.gridJson.Visibility.Hidden=t:this.gridJson.Visibility={Hidden:t}},n.prototype.updateLeftPosition=function(n){this.gridJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.controlContainer.css("left",n)},n.prototype.updateTopPosition=function(n){this.gridJson.Top.size=ej.DashboardUtil.getUnitVal(n,"in");this.controlContainer.css("top",n)},n.prototype.updateWidth=function(n){var i,t;for(this.gridJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in"),this.columnWidths.length===0&&this.updateMaximumColumnWidth(),i=(n-parseInt(this.gridWidth,10))/this.columnWidths.length,this.controlContainer.css("width",Math.round(n+this.getBorderWidth())),this.updateCurrentSize(),t=0;t<this.columnWidths.length;t++)this.columnWidths[t]=this.columnWidths[t]+i;this.updateGridWidth(!0);this.designPanel.updateWidgetSelectionBox(this.controlContainer)},n.prototype.updateRowHeight=function(n){var t;return t=this.setRowHeight(n),this.designPanel.updateWidgetSelectionBox(this.controlContainer),t},n.prototype.updateColumnWidth=function(n){var t;return t=this.setColumnWidth(n),this.designPanel.updateWidgetSelectionBox(this.controlContainer),t},n.prototype.updateHeight=function(n){var i,t;for(n<this.minimumHeight*this.tableRows.length&&(n=this.minimumHeight*this.tableRows.length+this.getBorderHeight()),this.gridJson.Height.size=ej.DashboardUtil.getUnitVal(n,"in"),this.rowHeights.length===0&&this.updateMaximumRowHeight(),i=this.rowHeights.length>0?n/this.rowHeights.length:n/2,this.controlContainer.css("height",Math.round(n+this.getBorderHeight())),this.updateCurrentSize(),t=0;t<this.rowHeights.length;t++)this.rowHeights[t]=i;this.updateGridHeight(!0);this.designPanel.updateWidgetSelectionBox(this.controlContainer)},n.prototype.updateBorderColor=function(n,t,i){n.Color=t;ej.DashboardUtil.isExpression(t)&&this.gridItem.css("border"+i+"-color",ej.isNullOrUndefined(t)?"transparent":t)},n.prototype.updateBorderWidth=function(n,t,i){n.Width?n.Width.size=t+"pt":n.Width={__type:"Syncfusion.RDL.DOM.Size",size:t+"pt"};ej.DashboardUtil.isExpression(i)&&this.gridItem.css("border"+i+"-width",(t>0?t:1).toString()+"pt")},n.prototype.updateBorderStyle=function(n,t,i){n.Style=t;t==="Default"||t==="None"?(this.gridItem.css("border"+i+"-style","none"),this.controlContainer.css("border-style","dotted")):ej.DashboardUtil.isExpression(i)&&(this.gridItem.css("border"+i+"-style",t.toLowerCase()),this.controlContainer.css("border-style","none"))},n.prototype.updateHeaderVisibility=function(n){if(this.showHeader=n,this.columnName!==""&&(this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderBackgroundColor",this.showHeader),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderFont",this.showHeader),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderFontStyleRoot",this.showHeader),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderTextDecoration",this.showHeader),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderTextAlign",this.showHeader),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderPadding",this.showHeader)),this.propertyPanel.updateItemVisibility("PivotGrid","Appearance","HeaderBackgroundColor",n),this.propertyPanel.refreshScroller(),this.dataGroupInfo.Rows.length>0)if(n)this.populateCornerCellHeader(),this.populateColumnHeaders();else{this.gridJson.TablixCorner.TablixCornerRows=this.gridJson.TablixCorner.TablixCornerRows.slice(0,-1);for(var t=0;t<this.lastColumnGroupMembers.length;t++)this.lastColumnGroupMembers[t].TablixMembers=[]}$(this.tableRows[this.dataGroupInfo.Columns.length]).css("display",n?"table-row":"none");this.getDataRows()},n.prototype.updateColumnActionInfo=function(n){this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"ActionInfo",n),this.columns[this.selectedColumnIndex].ActionInfo=n,this.updateColumnGroupFontColor("#0000FF"),this.updateColumnGroupTextDecoration("Underline"))},n.prototype.updateRowActionInfo=function(n){this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[1],1),"ActionInfo",n),this.rows[this.selectedRowIndex].ActionInfo=n,this.updateRowGroupFontColor("#0000FF"),this.updateRowGroupTextDecoration("Underline"))},n.prototype.updateColumnFormat=function(n){this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"Format",n),this.columns[this.selectedColumnIndex].Format=n.format,this.columns[this.selectedColumnIndex].FormatType=n.format)},n.prototype.updateRowFormat=function(n){this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.gridJson.TablixRowHierarchy.TablixMembers[1],1),"Format",n),this.rows[this.selectedRowIndex].Format=n.format,this.rows[this.selectedRowIndex].FormatType=n.format)},n.prototype.getTablixMember=function(n,t){return parseFloat(this.columnName.split(" ")[1])===t?n:n.TablixMembers.length>0?this.getTablixMember(n.TablixMembers[0],t+1):null},n.prototype.getTablixRowMember=function(n,t){return parseFloat(this.rowName.split(" ")[1])===t?n:n.TablixMembers.length>0?this.getTablixRowMember(n.TablixMembers[0],t+1):null},n.prototype.updateSummaryColumnCells=function(n,t,i){i===0?ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.TablixHeader)||(n.TablixHeader.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=t):this.updateSummaryColumnCells(n.TablixMembers[0],t,i-1)},n.prototype.updateSummaryColumnDataCells=function(n,t,i){var r=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1;ej.isNullOrUndefined(this.gridJson.TablixBody.TablixRows[t-this.dataGroupInfo.Columns.length].TablixCells[this.dataGroupInfo.Columns.length*r+this.summaryColumnValueIndex-(ej.isNullOrUndefined(i)?0:i*r)])||(this.gridJson.TablixBody.TablixRows[t-this.dataGroupInfo.Columns.length].TablixCells[this.dataGroupInfo.Columns.length*r+this.summaryColumnValueIndex-(ej.isNullOrUndefined(i)?0:i*r)].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n)},n.prototype.updateSummaryDataCells=function(n,t,i){var r=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1;ej.isNullOrUndefined(this.gridJson.TablixBody.TablixRows[t-this.dataGroupInfo.Columns.length].TablixCells[this.dataGroupInfo.Columns.length*r+this.summaryValueIndex-(ej.isNullOrUndefined(i)?0:i*r)])||(this.gridJson.TablixBody.TablixRows[t-this.dataGroupInfo.Columns.length].TablixCells[this.dataGroupInfo.Columns.length*r+this.summaryValueIndex-(ej.isNullOrUndefined(i)?0:i*r)].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n)},n.prototype.updateSummaryRowDataCells=function(n,t){ej.isNullOrUndefined(this.gridJson.TablixBody.TablixRows[this.gridJson.TablixBody.TablixRows.length-1].TablixCells[t-this.dataGroupInfo.Rows.length])||(this.gridJson.TablixBody.TablixRows[this.gridJson.TablixBody.TablixRows.length-1].TablixCells[t-this.dataGroupInfo.Rows.length].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n)},n.prototype.getSummaryColumnCells=function(n,t,i,r,u){if(i===0){if(ej.isNullOrUndefined(t)||ej.isNullOrUndefined(t.TablixHeader)||n.push(t.TablixHeader.CellContents.ReportItem),!ej.isNullOrUndefined(t)&&t.TablixMembers.length>0)return this.getSummaryColumnCells(n,t.TablixMembers[0],i,r,u)}else return this.getSummaryColumnCells(n,t.TablixMembers[1],i-1,r,u);return!u&&n.length>this.dataGroupInfo.Columns.length-(r+1)&&(n=n.slice(0,-1)),n},n.prototype.getSummaryDataCells=function(n){for(var i=[],r=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,t=0;t<this.gridJson.TablixBody.TablixRows.length;t++)ej.isNullOrUndefined(this.gridJson.TablixBody.TablixRows[t].TablixCells[n*r+this.summaryValueIndex])||i.push(this.gridJson.TablixBody.TablixRows[t].TablixCells[n*r+this.summaryValueIndex].CellContents.ReportItem);return i},n.prototype.getSummaryDataRowCells=function(n){var i=[],t;if(this.gridJson.TablixBody.TablixRows.length>1)for(t=0;t<this.gridJson.TablixBody.TablixRows[n].TablixCells.length;t++)ej.isNullOrUndefined(this.gridJson.TablixBody.TablixRows[n].TablixCells[t])||i.push(this.gridJson.TablixBody.TablixRows[n].TablixCells[t].CellContents.ReportItem);return i},n.prototype.setRowElementStyleFromData=function(n,t,i){$(n).css({"background-color":t?this.rows[i].SummaryBackColor:this.rows[i].HeaderBackColor,"border-color":t?this.rows[i].SummaryBorderColor:this.rows[i].HeaderBorderColor,"border-style":t?this.rows[i].SummaryBorderStyle:this.rows[i].HeaderBorderStyle,"border-width":t?this.rows[i].SummaryBorderWidth:this.rows[i].HeaderBorderWidth,"border-top-color":t?this.rows[i].SummaryBorderColor:this.rows[i].HeaderBorderColor,"border-top-style":t?this.rows[i].SummaryBorderStyle:this.rows[i].HeaderBorderStyle,"border-top-width":t?this.rows[i].SummaryBorderWidth:this.rows[i].HeaderBorderWidth,"border-left-color":t?this.rows[i].SummaryBorderColor:this.rows[i].HeaderBorderColor,"border-left-style":t?this.rows[i].SummaryBorderStyle:this.rows[i].HeaderBorderStyle,"border-left-width":t?this.rows[i].SummaryBorderWidth:this.rows[i].HeaderBorderWidth,"border-right-color":t?this.rows[i].SummaryBorderColor:this.rows[i].HeaderBorderColor,"border-right-style":t?this.rows[i].SummaryBorderStyle:this.rows[i].HeaderBorderStyle,"border-right-width":t?this.rows[i].SummaryBorderWidth:this.rows[i].HeaderBorderWidth,"border-bottom-color":t?this.rows[i].SummaryBorderColor:this.rows[i].HeaderBorderColor,"border-bottom-style":t?this.rows[i].SummaryBorderStyle:this.rows[i].HeaderBorderStyle,"border-bottom-width":t?this.rows[i].SummaryBorderWidth:this.rows[i].HeaderBorderWidth,"font-family":t?this.rows[i].SummaryFontFamily:this.rows[i].HeaderFontFamily,color:t?this.rows[i].SummaryFontColor:this.rows[i].HeaderFontColor,"font-size":t?this.rows[i].SummaryFontSize:this.rows[i].HeaderFontSize,"font-style":t?this.rows[i].SummaryFontStyle:this.rows[i].HeaderFontStyle,"font-weight":t?this.rows[i].SummaryFontWeight:this.rows[i].HeaderFontWeight,"text-decoration":t?this.rows[i].SummaryTextDecoration:this.rows[i].HeaderTextDecoration,"text-align":t?this.rows[i].SummaryTextAlign:this.rows[i].HeaderTextAlign,"padding-left":t?this.rows[i].SummaryPaddingLeft:this.rows[i].HeaderPaddingLeft,"padding-right":t?this.rows[i].SummaryPaddingRight:this.rows[i].HeaderPaddingRight,"padding-top":t?this.rows[i].SummaryPaddingTop:this.rows[i].HeaderPaddingTop,"padding-bottom":t?this.rows[i].SummaryPaddingBottom:this.rows[i].HeaderPaddingBottom})},n.prototype.setColumnElementStyleFromData=function(n,t,i){$(n).css({"background-color":t?this.columns[i].SummaryBackColor:this.columns[i].HeaderBackColor,"border-color":t?this.columns[i].SummaryBorderColor:this.columns[i].HeaderBorderColor,"border-style":t?this.columns[i].SummaryBorderStyle:this.columns[i].HeaderBorderStyle,"border-width":t?this.columns[i].SummaryBorderWidth:this.columns[i].HeaderBorderWidth,"border-top-color":t?this.columns[i].SummaryBorderColor:this.columns[i].HeaderBorderColor,"border-top-style":t?this.columns[i].SummaryBorderStyle:this.columns[i].HeaderBorderStyle,"border-top-width":t?this.columns[i].SummaryBorderWidth:this.columns[i].HeaderBorderWidth,"border-left-color":t?this.columns[i].SummaryBorderColor:this.columns[i].HeaderBorderColor,"border-left-style":t?this.columns[i].SummaryBorderStyle:this.columns[i].HeaderBorderStyle,"border-left-width":t?this.columns[i].SummaryBorderWidth:this.columns[i].HeaderBorderWidth,"border-right-color":t?this.columns[i].SummaryBorderColor:this.columns[i].HeaderBorderColor,"border-right-style":t?this.columns[i].SummaryBorderStyle:this.columns[i].HeaderBorderStyle,"border-right-width":t?this.columns[i].SummaryBorderWidth:this.columns[i].HeaderBorderWidth,"border-bottom-color":t?this.columns[i].SummaryBorderColor:this.columns[i].HeaderBorderColor,"border-bottom-style":t?this.columns[i].SummaryBorderStyle:this.columns[i].HeaderBorderStyle,"border-bottom-width":t?this.columns[i].SummaryBorderWidth:this.columns[i].HeaderBorderWidth,"font-family":t?this.columns[i].SummaryFontFamily:this.columns[i].HeaderFontFamily,color:t?this.columns[i].SummaryFontColor:this.columns[i].HeaderFontColor,"font-size":t?this.columns[i].SummaryFontSize:this.columns[i].HeaderFontSize,"font-style":t?this.columns[i].SummaryFontStyle:this.columns[i].HeaderFontStyle,"font-weight":t?this.columns[i].SummaryFontWeight:this.columns[i].HeaderFontWeight,"text-decoration":t?this.columns[i].SummaryTextDecoration:this.columns[i].HeaderTextDecoration,"text-align":t?this.columns[i].SummaryTextAlign:this.columns[i].HeaderTextAlign,"padding-left":t?this.columns[i].SummaryPaddingLeft:this.columns[i].HeaderPaddingLeft,"padding-right":t?this.columns[i].SummaryPaddingRight:this.columns[i].HeaderPaddingRight,"padding-top":t?this.columns[i].SummaryPaddingTop:this.columns[i].HeaderPaddingTop,"padding-bottom":t?this.columns[i].SummaryPaddingBottom:this.columns[i].HeaderPaddingBottom})},n.prototype.setCornerCellElementStyleFromData=function(n){$(n).css({"background-color":this.cornerCellBackColor,"border-color":this.cornerCellBorderColor,"border-style":this.cornerCellBorderStyle,"border-width":this.cornerCellBorderWidth,"border-top-color":this.cornerCellBorderColor,"border-top-style":this.cornerCellBorderStyle,"border-top-width":this.cornerCellBorderWidth,"border-left-color":this.cornerCellBorderColor,"border-left-style":this.cornerCellBorderStyle,"border-left-width":this.cornerCellBorderWidth,"border-right-color":this.cornerCellBorderColor,"border-right-style":this.cornerCellBorderStyle,"border-right-width":this.cornerCellBorderWidth,"border-bottom-color":this.cornerCellBorderColor,"border-bottom-style":this.cornerCellBorderStyle,"border-bottom-width":this.cornerCellBorderWidth,"font-family":this.cornerCellFontFamily,color:this.cornerCellFontColor,"font-size":this.cornerCellFontSize,"font-style":this.cornerCellFontStyle,"font-weight":this.cornerCellFontWeight,"text-decoration":this.cornerCellTextDecoration,"text-align":this.cornerCellTextAlign,"padding-left":this.cornerCellPaddingLeft,"padding-right":this.cornerCellPaddingRight,"padding-top":this.cornerCellPaddingTop,"padding-bottom":this.cornerCellPaddingBottom})},n.prototype.setTableSummaryRowElementStyleFromData=function(n){$(n).css({"background-color":this.tableSummaryRowBackColor,"border-color":this.tableSummaryRowBorderColor,"border-style":this.tableSummaryRowBorderStyle,"border-width":this.tableSummaryRowBorderWidth,"border-top-color":this.tableSummaryRowBorderColor,"border-top-style":this.tableSummaryRowBorderStyle,"border-top-width":this.tableSummaryRowBorderWidth,"border-left-color":this.tableSummaryRowBorderColor,"border-left-style":this.tableSummaryRowBorderStyle,"border-left-width":this.tableSummaryRowBorderWidth,"border-right-color":this.tableSummaryRowBorderColor,"border-right-style":this.tableSummaryRowBorderStyle,"border-right-width":this.tableSummaryRowBorderWidth,"border-bottom-color":this.tableSummaryRowBorderColor,"border-bottom-style":this.tableSummaryRowBorderStyle,"border-bottom-width":this.tableSummaryRowBorderWidth,"font-family":this.tableSummaryRowFontFamily,color:this.tableSummaryRowFontColor,"font-size":this.tableSummaryRowFontSize,"font-style":this.tableSummaryRowFontStyle,"font-weight":this.tableSummaryRowFontWeight,"text-decoration":this.tableSummaryRowTextDecoration,"text-align":this.tableSummaryRowTextAlign,"padding-left":this.tableSummaryRowPaddingLeft,"padding-right":this.tableSummaryRowPaddingRight,"padding-top":this.tableSummaryRowPaddingTop,"padding-bottom":this.tableSummaryRowPaddingBottom})},n.prototype.setTableSummaryColumnElementStyleFromData=function(n){$(n).css({"background-color":this.tableSummaryColumnBackColor,"border-color":this.tableSummaryColumnBorderColor,"border-style":this.tableSummaryColumnBorderStyle,"border-width":this.tableSummaryColumnBorderWidth,"border-top-color":this.tableSummaryColumnBorderColor,"border-top-style":this.tableSummaryColumnBorderStyle,"border-top-width":this.tableSummaryColumnBorderWidth,"border-left-color":this.tableSummaryColumnBorderColor,"border-left-style":this.tableSummaryColumnBorderStyle,"border-left-width":this.tableSummaryColumnBorderWidth,"border-right-color":this.tableSummaryColumnBorderColor,"border-right-style":this.tableSummaryColumnBorderStyle,"border-right-width":this.tableSummaryColumnBorderWidth,"border-bottom-color":this.tableSummaryColumnBorderColor,"border-bottom-style":this.tableSummaryColumnBorderStyle,"border-bottom-width":this.tableSummaryColumnBorderWidth,"font-family":this.tableSummaryColumnFontFamily,color:this.tableSummaryColumnFontColor,"font-size":this.tableSummaryColumnFontSize,"font-style":this.tableSummaryColumnFontStyle,"font-weight":this.tableSummaryColumnFontWeight,"text-decoration":this.tableSummaryColumnTextDecoration,"text-align":this.tableSummaryColumnTextAlign,"padding-left":this.tableSummaryColumnPaddingLeft,"padding-right":this.tableSummaryColumnPaddingRight,"padding-top":this.tableSummaryColumnPaddingTop,"padding-bottom":this.tableSummaryColumnPaddingBottom})},n.prototype.setContentElementStyleFromData=function(n){$(n).css({"background-color":this.contentBackColor,"border-color":this.contentBorderColor,"border-style":this.contentBorderStyle,"border-width":this.contentBorderWidth,"border-top-color":this.contentBorderColor,"border-top-style":this.contentBorderStyle,"border-top-width":this.contentBorderWidth,"border-left-color":this.contentBorderColor,"border-left-style":this.contentBorderStyle,"border-left-width":this.contentBorderWidth,"border-right-color":this.contentBorderColor,"border-right-style":this.contentBorderStyle,"border-right-width":this.contentBorderWidth,"border-bottom-color":this.contentBorderColor,"border-bottom-style":this.contentBorderStyle,"border-bottom-width":this.contentBorderWidth,"font-family":this.contentFontFamily,color:this.contentFontColor,"font-size":this.contentFontSize,"font-style":this.contentFontStyle,"font-weight":this.contentFontWeight,"text-decoration":this.contentTextDecoration,"text-align":this.contentTextAlign,"padding-left":this.contentPaddingLeft,"padding-right":this.contentPaddingRight,"padding-top":this.contentPaddingTop,"padding-bottom":this.contentPaddingBottom})},n.prototype.setHeaderElementStyleFromData=function(n){$(n).css({"background-color":this.headerBackColor,"font-family":this.headerFontFamily,color:this.headerFontColor,"font-size":this.headerFontSize,"font-style":this.headerFontStyle,"font-weight":this.headerFontWeight,"text-decoration":this.headerTextDecoration,"text-align":this.headerTextAlign,"padding-left":this.headerPaddingLeft,"padding-right":this.headerPaddingRight,"padding-top":this.headerPaddingTop,"padding-bottom":this.headerPaddingBottom})},n.prototype.setHeaderReportStyle=function(n){n.Style.BackgroundColor=this.headerBackColor;n.Paragraphs[0].TextRuns[0].Style.FontFamily=this.headerFontFamily;n.Paragraphs[0].TextRuns[0].Style.Color=this.headerFontColor;n.Paragraphs[0].TextRuns[0].Style.FontSize=this.headerFontSize;n.Paragraphs[0].TextRuns[0].Style.FontStyle=this.headerFontStyle;n.Paragraphs[0].TextRuns[0].Style.FontWeight=this.headerFontWeight;n.Paragraphs[0].TextRuns[0].Style.TextDecoration=this.headerTextDecoration;n.Paragraphs[0].Style.TextAlign=this.headerTextAlign;n.Style.PaddingLeft.size=this.headerPaddingLeft;n.Style.PaddingRight.size=this.headerPaddingRight;n.Style.PaddingTop.size=this.headerPaddingTop;n.Style.PaddingBottom.size=this.headerPaddingBottom},n.prototype.updateElementStyle=function(n,t){$(n).css({"background-color":t.Style.BackgroundColor,"border-color":t.Style.Border.Color,"border-style":t.Style.Border.Style,"border-width":ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size,"border-top-color":t.Style.TopBorder.Color,"border-top-style":t.Style.TopBorder.Style,"border-top-width":ej.isNullOrUndefined(t.Style.TopBorder.Width)?"0pt":t.Style.TopBorder.Width.size,"border-left-color":t.Style.LeftBorder.Color,"border-left-style":t.Style.LeftBorder.Style,"border-left-width":ej.isNullOrUndefined(t.Style.LeftBorder.Width)?"0pt":t.Style.LeftBorder.Width.size,"border-right-color":t.Style.RightBorder.Color,"border-right-style":t.Style.RightBorder.Style,"border-right-width":ej.isNullOrUndefined(t.Style.RightBorder.Width)?"0pt":t.Style.RightBorder.Width.size,"border-bottom-color":t.Style.BottomBorder.Color,"border-bottom-style":t.Style.BottomBorder.Style,"border-bottom-width":ej.isNullOrUndefined(t.Style.BottomBorder.Width)?"0pt":t.Style.BottomBorder.Width.size,"font-family":t.Paragraphs[0].TextRuns[0].Style.FontFamily,color:t.Paragraphs[0].TextRuns[0].Style.Color,"font-size":t.Paragraphs[0].TextRuns[0].Style.FontSize,"font-style":this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),"font-weight":this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),"text-decoration":this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),"text-align":this.getTextAlign(t.Paragraphs[0].Style.TextAlign),"padding-left":t.Style.PaddingLeft.size,"padding-right":t.Style.PaddingRight.size,"padding-top":t.Style.PaddingTop.size,"padding-bottom":t.Style.PaddingBottom.size})},n.prototype.setHeaderElementStyle=function(n,t){ej.isNullOrUndefined(t)?$(n).css({display:"none"}):(this.updateElementStyle(n,t),this.headerBackColor=t.Style.BackgroundColor,this.headerFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily,this.headerFontColor=t.Paragraphs[0].TextRuns[0].Style.Color,this.headerFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize,this.headerFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),this.headerFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),this.headerTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),this.headerTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign),this.headerPaddingLeft=t.Style.PaddingLeft.size,this.headerPaddingRight=t.Style.PaddingRight.size,this.headerPaddingTop=t.Style.PaddingTop.size,this.headerPaddingBottom=t.Style.PaddingBottom.size)},n.prototype.setContentElementStyle=function(n,t){this.updateElementStyle(n,t);this.contentBackColor=t.Style.BackgroundColor;this.contentBorderColor=t.Style.Border.Color;this.contentBorderStyle=t.Style.Border.Style;this.contentBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size;this.contentFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily;this.contentFontColor=t.Paragraphs[0].TextRuns[0].Style.Color;this.contentFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize;this.contentFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle);this.contentFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight);this.contentTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration);this.contentTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign);this.contentPaddingLeft=t.Style.PaddingLeft.size;this.contentPaddingRight=t.Style.PaddingRight.size;this.contentPaddingTop=t.Style.PaddingTop.size;this.contentPaddingBottom=t.Style.PaddingBottom.size},n.prototype.setCornerElementStyle=function(n,t){this.updateElementStyle(n,t);this.cornerCellBackColor=t.Style.BackgroundColor;this.cornerCellBorderColor=t.Style.Border.Color;this.cornerCellBorderStyle=t.Style.Border.Style;this.cornerCellBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size;this.cornerCellFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily;this.cornerCellFontColor=t.Paragraphs[0].TextRuns[0].Style.Color;this.cornerCellFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize;this.cornerCellFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle);this.cornerCellFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight);this.cornerCellTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration);this.cornerCellTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign);this.cornerCellPaddingLeft=t.Style.PaddingLeft.size;this.cornerCellPaddingRight=t.Style.PaddingRight.size;this.cornerCellPaddingTop=t.Style.PaddingTop.size;this.cornerCellPaddingBottom=t.Style.PaddingBottom.size},n.prototype.setTableSummaryRowElementStyle=function(n,t){this.updateElementStyle(n,t);this.tableSummaryRowBackColor=t.Style.BackgroundColor;this.tableSummaryRowBorderColor=t.Style.Border.Color;this.tableSummaryRowBorderStyle=t.Style.Border.Style;this.tableSummaryRowBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size;this.tableSummaryRowFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily;this.tableSummaryRowFontColor=t.Paragraphs[0].TextRuns[0].Style.Color;this.tableSummaryRowFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize;this.tableSummaryRowFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle);this.tableSummaryRowFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight);this.tableSummaryRowTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration);this.tableSummaryRowTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign);this.tableSummaryRowPaddingLeft=t.Style.PaddingLeft.size;this.tableSummaryRowPaddingRight=t.Style.PaddingRight.size;this.tableSummaryRowPaddingTop=t.Style.PaddingTop.size;this.tableSummaryRowPaddingBottom=t.Style.PaddingBottom.size},n.prototype.setTableSummaryColumnElementStyle=function(n,t){this.updateElementStyle(n,t);this.tableSummaryColumnBackColor=t.Style.BackgroundColor;this.tableSummaryColumnBorderColor=t.Style.Border.Color;this.tableSummaryColumnBorderStyle=t.Style.Border.Style;this.tableSummaryColumnBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size;this.tableSummaryColumnFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily;this.tableSummaryColumnFontColor=t.Paragraphs[0].TextRuns[0].Style.Color;this.tableSummaryColumnFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize;this.tableSummaryColumnFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle);this.tableSummaryColumnFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight);this.tableSummaryColumnTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration);this.tableSummaryColumnTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign);this.tableSummaryColumnPaddingLeft=t.Style.PaddingLeft.size;this.tableSummaryColumnPaddingRight=t.Style.PaddingRight.size;this.tableSummaryColumnPaddingTop=t.Style.PaddingTop.size;this.tableSummaryColumnPaddingBottom=t.Style.PaddingBottom.size},n.prototype.setElementStyle=function(n,t,i){ej.isNullOrUndefined(i)||this.dataGroupInfo.Columns.length-(i+1)<this.columns.length&&i<this.columns.length&&$(n).css("display",this.columns[this.dataGroupInfo.Columns.length-(i+1)].enableSummaryColumn?"table-cell":"none");this.updateElementStyle(n,t)},n.prototype.setColumnElementStyle=function(n,t,i,r){this.updateElementStyle(n,t);i?(this.columns[r].enableSummaryColumn||this.addSummaryColumn(!1,r,!1),this.columns[r].SummaryBackColor=t.Style.BackgroundColor,this.columns[r].SummaryBorderColor=t.Style.Border.Color,this.columns[r].SummaryBorderStyle=t.Style.Border.Style,this.columns[r].SummaryBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size,this.columns[r].SummaryFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily,this.columns[r].SummaryFontColor=t.Paragraphs[0].TextRuns[0].Style.Color,this.columns[r].SummaryFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize,this.columns[r].SummaryFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),this.columns[r].SummaryFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),this.columns[r].SummaryTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),this.columns[r].SummaryTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign),this.columns[r].SummaryPaddingLeft=t.Style.PaddingLeft.size,this.columns[r].SummaryPaddingRight=t.Style.PaddingRight.size,this.columns[r].SummaryPaddingTop=t.Style.PaddingTop.size,this.columns[r].SummaryPaddingBottom=t.Style.PaddingBottom.size):(this.columns[r].HeaderBackColor=t.Style.BackgroundColor,this.columns[r].HeaderBorderColor=t.Style.Border.Color,this.columns[r].HeaderBorderStyle=t.Style.Border.Style,this.columns[r].HeaderBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size,this.columns[r].HeaderFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily,this.columns[r].HeaderFontColor=t.Paragraphs[0].TextRuns[0].Style.Color,this.columns[r].HeaderFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize,this.columns[r].HeaderFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),this.columns[r].HeaderFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),this.columns[r].HeaderTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),this.columns[r].HeaderTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign),this.columns[r].HeaderPaddingLeft=t.Style.PaddingLeft.size,this.columns[r].HeaderPaddingRight=t.Style.PaddingRight.size,this.columns[r].HeaderPaddingTop=t.Style.PaddingTop.size,this.columns[r].HeaderPaddingBottom=t.Style.PaddingBottom.size)},n.prototype.setRowElementStyle=function(n,t,i,r){this.updateElementStyle(n,t);i?(this.rows[r].enableSummaryRow||this.addSummaryRow(!1,r,!1),this.rows[r].SummaryBackColor=t.Style.BackgroundColor,this.rows[r].SummaryBorderColor=t.Style.Border.Color,this.rows[r].SummaryBorderStyle=t.Style.Border.Style,this.rows[r].SummaryBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size,this.rows[r].SummaryFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily,this.rows[r].SummaryFontColor=t.Paragraphs[0].TextRuns[0].Style.Color,this.rows[r].SummaryFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize,this.rows[r].SummaryFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),this.rows[r].SummaryFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),this.rows[r].SummaryTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),this.rows[r].SummaryTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign),this.rows[r].SummaryPaddingLeft=t.Style.PaddingLeft.size,this.rows[r].SummaryPaddingRight=t.Style.PaddingRight.size,this.rows[r].SummaryPaddingTop=t.Style.PaddingTop.size,this.rows[r].SummaryPaddingBottom=t.Style.PaddingBottom.size):(this.rows[r].HeaderBackColor=t.Style.BackgroundColor,this.rows[r].HeaderBorderColor=t.Style.Border.Color,this.rows[r].HeaderBorderStyle=t.Style.Border.Style,this.rows[r].HeaderBorderWidth=ej.isNullOrUndefined(t.Style.Border.Width)?"0pt":t.Style.Border.Width.size,this.rows[r].HeaderFontFamily=t.Paragraphs[0].TextRuns[0].Style.FontFamily,this.rows[r].HeaderFontColor=t.Paragraphs[0].TextRuns[0].Style.Color,this.rows[r].HeaderFontSize=t.Paragraphs[0].TextRuns[0].Style.FontSize,this.rows[r].HeaderFontStyle=this.getFontStyle(t.Paragraphs[0].TextRuns[0].Style.FontStyle),this.rows[r].HeaderFontWeight=this.getFontWeight(t.Paragraphs[0].TextRuns[0].Style.FontWeight),this.rows[r].HeaderTextDecoration=this.getTextDecoration(t.Paragraphs[0].TextRuns[0].Style.TextDecoration),this.rows[r].HeaderTextAlign=this.getTextAlign(t.Paragraphs[0].Style.TextAlign),this.rows[r].HeaderPaddingLeft=t.Style.PaddingLeft.size,this.rows[r].HeaderPaddingRight=t.Style.PaddingRight.size,this.rows[r].HeaderPaddingTop=t.Style.PaddingTop.size,this.rows[r].HeaderPaddingBottom=t.Style.PaddingBottom.size)},n.prototype.setReportItem=function(n,t,i,r){switch(t){case"BackColor":n.Style.BackgroundColor=i;break;case"BorderColor":n.Style.Border.Color=i;break;case"BorderStyle":n.Style.Border.Style=i;break;case"BorderWidth":n.Style.Border.Width?n.Style.Border.Width.size=i+"pt":n.Style.Border.Width={__type:"Syncfusion.RDL.DOM.Size",size:i+"pt"};break;case"FontFamily":n.Paragraphs[0].TextRuns[0].Style.FontFamily=i;break;case"FontColor":n.Paragraphs[0].TextRuns[0].Style.Color=i;break;case"FontSize":n.Paragraphs[0].TextRuns[0].Style.FontSize=this.getDomSize(i);break;case"FontStyle":n.Paragraphs[0].TextRuns[0].Style.FontStyle=i;break;case"FontWeight":n.Paragraphs[0].TextRuns[0].Style.FontWeight=i;break;case"TextDecoration":n.Paragraphs[0].TextRuns[0].Style.TextDecoration=i;break;case"TextAlign":n.Paragraphs[0].Style.TextAlign=i;break;case"Padding":switch(r){case"-left":n.Style.PaddingLeft.size=i+"pt";break;case"-right":n.Style.PaddingRight.size=i+"pt";break;case"-top":n.Style.PaddingTop.size=i+"pt";break;case"-bottom":n.Style.PaddingBottom.size=i+"pt"}break;case"Format":n.Paragraphs[0].TextRuns[0].Style.Format=i.format;n.Paragraphs[0].TextRuns[0].Style.FormatType=i.formatType;break;case"ActionInfo":n.Paragraphs[0].TextRuns[0].ActionInfo=i;break;case"Visibility":n.Visibility?n.Visibility.Hidden=!$.parseJSON(i):n.Visibility={Hidden:!$.parseJSON(i)}}},n.prototype.updateGroupHeaderValues=function(n,t,i,r){var u,f,e;if(ej.isNullOrUndefined(n.length))this.setReportItem(n.TablixHeader.CellContents.ReportItem,t,i,r);else for(u=0;u<n.length;u++)for(f=0;f<n[u].TablixMembers.length;f++)ej.isNullOrUndefined(n[u].TablixMembers[f].TablixHeader.CellContents)||(e=n[u].TablixMembers[f].TablixHeader.CellContents.ReportItem,this.setReportItem(e,t,i,r))},n.prototype.setGroupValue=function(n,t,i,r){var u;if(ej.isNullOrUndefined(n.CellContents)?ej.isNullOrUndefined(n.TablixHeader)||ej.isNullOrUndefined(n.TablixHeader.CellContents)||(u=n.TablixHeader.CellContents.ReportItem):u=n.CellContents.ReportItem,!ej.isNullOrUndefined(u))switch(t){case"BackColor":u.Style.BackgroundColor=i;break;case"BorderColor":u.Style.Border.Color=i;break;case"BorderStyle":u.Style.Border.Style=i;break;case"BorderWidth":u.Style.Border.Width?u.Style.Border.Width.size=i+"pt":u.Style.Border.Width={__type:"Syncfusion.RDL.DOM.Size",size:i+"pt"};break;case"FontFamily":u.Paragraphs[0].TextRuns[0].Style.FontFamily=i;break;case"FontColor":u.Paragraphs[0].TextRuns[0].Style.Color=i;break;case"FontSize":u.Paragraphs[0].TextRuns[0].Style.FontSize=this.getDomSize(i);break;case"FontStyle":u.Paragraphs[0].TextRuns[0].Style.FontStyle=i;break;case"FontWeight":u.Paragraphs[0].TextRuns[0].Style.FontWeight=i;break;case"TextDecoration":u.Paragraphs[0].TextRuns[0].Style.TextDecoration=i;break;case"TextAlign":u.Paragraphs[0].Style.TextAlign=i;break;case"Padding":switch(r){case"-left":u.Style.PaddingLeft.size=i+"pt";break;case"-right":u.Style.PaddingRight.size=i+"pt";break;case"-top":u.Style.PaddingTop.size=i+"pt";break;case"-bottom":u.Style.PaddingBottom.size=i+"pt"}}},n.prototype.updateGroupSummaryValues=function(n,t,i,r,u,f){if(i===0)(!t||t&&n.TablixMembers.length>0)&&this.setGroupValue(n,r,u,f),n.TablixMembers.length>i&&this.updateGroupSummaryValues(n.TablixMembers[i],t,i,r,u);else if(i===1)for(var e=0;e<n.TablixMembers.length;e++)e>0&&this.setGroupValue(n.TablixMembers[i],r,u,f)},n.prototype.updateColumnGroupBorderColor=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderBorderColor,this.columnGroupBorderColor=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"BorderColor",n),this.columns[this.selectedColumnIndex].HeaderBorderColor=ej.isNullOrUndefined(n)?"transparent":n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("border-color",ej.isNullOrUndefined(n)?"transparent":n),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupBorderStyle=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderBorderStyle,this.columnGroupBorderStyle=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"BorderStyle",n),this.columns[this.selectedColumnIndex].HeaderBorderStyle=n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("border-style",n.toLowerCase()),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupBorderWidth=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderBorderWidth,this.columnGroupBorderWidth=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"BorderWidth",n),this.columns[this.selectedColumnIndex].HeaderBorderWidth=n+"pt"),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("border-width",n+"pt"),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupBackgroundColor=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderBackColor,this.columnGroupBackColor=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"BackColor",n),this.columns[this.selectedColumnIndex].HeaderBackColor=ej.isNullOrUndefined(n)?"transparent":n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupFontFamily=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderFontFamily,this.columnGroupFontFamily=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"FontFamily",n),this.columns[this.selectedColumnIndex].HeaderFontFamily=n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("font-family",n),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupFontColor=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderFontColor,this.columnGroupFontColor=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"FontColor",n),this.columns[this.selectedColumnIndex].HeaderFontColor=n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("color",n),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupFontSize=function(n){var i,t,r;return i=this.columns[this.selectedColumnIndex].HeaderFontSize,this.columnGroupFontSize=n,this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"FontSize",n),this.columns[this.selectedColumnIndex].HeaderFontSize=n),t=parseInt(this.columnName.split(" ")[1],10)-1,r=$(this.tableRows[t]).children(),$(r[t===0?1:0]).css("font-size",n),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupFontStyle=function(n){var r,t,i;r=this.columns[this.selectedColumnIndex].HeaderFontStyle;this.columnGroupFontStyle=n;this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"FontStyle",n),this.columns[this.selectedColumnIndex].HeaderFontStyle=n);t=parseInt(this.columnName.split(" ")[1],10)-1;i=$(this.tableRows[t]).children();switch(n){case"Default":$(i[t===0?1:0]).css("font-style","");break;case"Normal":$(i[t===0?1:0]).css("font-style","normal");break;case"Italic":$(i[t===0?1:0]).css("font-style","italic")}return this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),r},n.prototype.updateColumnGroupFontWeight=function(n){var r,t,i;r=this.columns[this.selectedColumnIndex].HeaderFontWeight;this.columnGroupFontWeight=n;this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"FontWeight",n),this.columns[this.selectedColumnIndex].HeaderFontWeight=n);t=parseInt(this.columnName.split(" ")[1],10)-1;i=$(this.tableRows[t]).children();switch(n){case"Default":$(i[t===0?1:0]).css("font-weight","");break;case"Normal":$(i[t===0?1:0]).css("font-weight","normal");break;case"Thin":$(i[t===0?1:0]).css("font-weight","200");break;case"ExtraLight":$(i[t===0?1:0]).css("font-weight","300");break;case"Light":$(i[t===0?1:0]).css("font-weight","400");break;case"Medium":$(i[t===0?1:0]).css("font-weight","500");break;case"SemiBold":$(i[t===0?1:0]).css("font-weight","600");break;case"Bold":$(i[t===0?1:0]).css("font-weight","bold");break;case"ExtraBold":$(i[t===0?1:0]).css("font-weight","800");break;case"Heavy":$(i[t===0?1:0]).css("font-weight","900")}return this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),r},n.prototype.updateColumnGroupTextDecoration=function(n){var r,t,i;r=this.columns[this.selectedColumnIndex].HeaderTextDecoration;this.columnGroupTextDecoration=n;this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"TextDecoration",n),this.columns[this.selectedColumnIndex].HeaderTextDecoration=n);t=parseInt(this.columnName.split(" ")[1],10)-1;i=$(this.tableRows[t]).children();switch(n){case"Default":$(i[t===0?1:0]).css("text-decoration","");break;case"None":$(i[t===0?1:0]).css("text-decoration","none");break;case"Underline":$(i[t===0?1:0]).css("text-decoration","underline");break;case"Overline":$(i[t===0?1:0]).css("text-decoration","overline");break;case"LineThrough":$(i[t===0?1:0]).css("text-decoration","line-through")}return this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),r},n.prototype.updateColumnGroupTextAlign=function(n){var r,t,i;r=this.columns[this.selectedColumnIndex].HeaderTextAlign;this.columnGroupTextAlign=n;this.dataGroupInfo.Columns.length>0&&(this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"TextAlign",n),this.columns[this.selectedColumnIndex].HeaderTextAlign=n);t=parseInt(this.columnName.split(" ")[1],10)-1;i=$(this.tableRows[t]).children();switch(n){case"Default":case"General":$(i[t===0?1:0]).css("text-align","");break;case"Left":$(i[t===0?1:0]).css("text-align","left");break;case"Center":$(i[t===0?1:0]).css("text-align","center");break;case"Right":$(i[t===0?1:0]).css("text-align","right")}return this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),r},n.prototype.updateColumnGroupPadding=function(n,t){var i,r,u;if(this.dataGroupInfo.Columns.length>0)switch(t){case"-left":i=this.columns[this.selectedColumnIndex].HeaderPaddingLeft;this.columnGroupPaddingLeft=n+"pt";this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"Padding",n,t);this.columns[this.selectedColumnIndex].HeaderPaddingLeft=n+"pt";break;case"-right":i=this.columns[this.selectedColumnIndex].HeaderPaddingRight;this.columnGroupPaddingRight=n+"pt";this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"Padding",n,t);this.columns[this.selectedColumnIndex].HeaderPaddingRight=n+"pt";break;case"-top":i=this.columns[this.selectedColumnIndex].HeaderPaddingTop;this.columnGroupPaddingTop=n+"pt";this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"Padding",n,t);this.columns[this.selectedColumnIndex].HeaderPaddingTop=n+"pt";break;case"-bottom":i=this.columns[this.selectedColumnIndex].HeaderPaddingBottom;this.columnGroupPaddingBottom=n+"pt";this.updateGroupHeaderValues(this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],1),"Padding",n,t);this.columns[this.selectedColumnIndex].HeaderPaddingBottom=n+"pt"}return r=parseInt(this.columnName.split(" ")[1],10)-1,u=$(this.tableRows[r]).children(),$(u[r===0?1:0]).css("padding"+t,n+"pt"),this.updateColumnHeaderSettings(this.columns[this.selectedColumnIndex].Name),i},n.prototype.updateColumnGroupSummaryBorderColor=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryBorderColor,this.columnSummaryBorderColor=n):(o=this.tableSummaryColumnBorderColor,this.tableSummaryColumnBorderColor=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"BorderColor",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"BorderColor",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"BorderColor",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryBorderColor=ej.isNullOrUndefined(n)?"transparent":n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("border-color",ej.isNullOrUndefined(n)?"transparent":n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("border-color",ej.isNullOrUndefined(n)?"transparent":n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryBorderStyle=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryBorderStyle,this.columnSummaryBorderStyle=n):(o=this.tableSummaryColumnBorderStyle,this.tableSummaryColumnBorderStyle=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"BorderStyle",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"BorderStyle",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"BorderStyle",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryBorderStyle=n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("border-style",n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("border-style",n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryBorderWidth=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryBorderWidth,this.columnSummaryBorderWidth=n+"pt"):(o=this.tableSummaryColumnBorderWidth,this.tableSummaryColumnBorderWidth=n+"pt"),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"BorderWidth",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"BorderWidth",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"BorderWidth",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryBorderWidth=n+"pt")}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("border-width",n+"pt"):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("border-width",n+"pt");return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryBackgroundColor=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryBackColor,this.columnSummaryBackColor=n):(o=this.tableSummaryColumnBackColor,this.tableSummaryColumnBackColor=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"BackColor",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"BackColor",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"BackColor",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryBackColor=ej.isNullOrUndefined(n)?"transparent":n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryFontFamily=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryFontFamily,this.columnSummaryFontFamily=n):(o=this.tableSummaryColumnFontFamily,this.tableSummaryColumnFontFamily=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"FontFamily",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"FontFamily",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"FontFamily",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryFontFamily=n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("font-family",n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("font-family",n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryFontColor=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryFontColor,this.columnSummaryFontColor=n):(o=this.tableSummaryColumnFontColor,this.tableSummaryColumnFontColor=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"FontColor",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"FontColor",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"FontColor",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryFontColor=n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("color",n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("color",n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryFontSize=function(n,t){var o,f,u,i,r,e;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryFontSize,this.columnSummaryFontSize=n):(o=this.tableSummaryColumnFontSize,this.tableSummaryColumnFontSize=n),f=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"FontSize",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"FontSize",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(r=0;r<f;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*f-u*f-r],"FontSize",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryFontSize=n)}for(i=0;i<this.tableRows.length;i++)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)e=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length?$(e[e.length-1-u*f-r]).css("font-size",n):i>=u&&i!==this.dataGroupInfo.Columns.length&&$(e[e.length-1-u]).css("font-size",n);return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryFontStyle=function(n,t){var o,e,u,i,f,r;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryFontStyle,this.columnSummaryFontStyle=n):(o=this.tableSummaryColumnFontStyle,this.tableSummaryColumnFontStyle=n),e=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"FontStyle",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"FontStyle",n),i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(f=0;f<e;f++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[i].TablixCells[this.dataGroupInfo.Columns.length*e-u*e-f],"FontStyle",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryFontStyle=n)}for(i=0;i<this.tableRows.length;i++)for(f=0;f<this.dataGroupInfo.Values[0].Values.length;f++)if(r=$(this.tableRows[i]).children(),i>=u&&i!==this.dataGroupInfo.Columns.length&&i>this.dataGroupInfo.Columns.length)switch(n){case"Default":$(r[r.length-1-u*e-f]).css("font-style","");break;case"Normal":$(r[r.length-1-u*e-f]).css("font-style","normal");break;case"Italic":$(r[r.length-1-u*e-f]).css("font-style","italic")}else if(i>=u&&i!==this.dataGroupInfo.Columns.length)switch(n){case"Default":$(r[r.length-1-u]).css("font-style","");break;case"Normal":$(r[r.length-1-u]).css("font-style","normal");break;case"Italic":$(r[r.length-1-u]).css("font-style","italic")}return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryFontWeight=function(n,t){var o,f,r,e,u,i;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryFontWeight,this.columnSummaryFontWeight=n):(o=this.tableSummaryColumnFontWeight,this.tableSummaryColumnFontWeight=n),f=this.dataGroupInfo.Values[0].Values.length,r=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"FontWeight",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"FontWeight",n),e=0;e<this.gridJson.TablixBody.TablixRows.length;e++)for(u=0;u<f;u++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[e].TablixCells[this.dataGroupInfo.Columns.length*f-r*f-u],"FontWeight",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryFontWeight=n)}for(e=0;e<this.tableRows.length;e++)for(u=0;u<this.dataGroupInfo.Values[0].Values.length;u++)if(i=$(this.tableRows[e]).children(),e>=r&&e!==this.dataGroupInfo.Columns.length&&e>this.dataGroupInfo.Columns.length)switch(n){case"Default":$(i[i.length-1-r*f-u]).css("font-weight","");break;case"Normal":$(i[i.length-1-r*f-u]).css("font-weight","normal");break;case"Thin":$(i[i.length-1-r*f-u]).css("font-weight","200");break;case"ExtraLight":$(i[i.length-1-r*f-u]).css("font-weight","300");break;case"Light":$(i[i.length-1-r*f-u]).css("font-weight","400");break;case"Medium":$(i[i.length-1-r*f-u]).css("font-weight","500");break;case"SemiBold":$(i[i.length-1-r*f-u]).css("font-weight","600");break;case"Bold":$(i[i.length-1-r*f-u]).css("font-weight","bold");break;case"ExtraBold":$(i[i.length-1-r*f-u]).css("font-weight","800");break;case"Heavy":$(i[i.length-1-r*f-u]).css("font-weight","900")}else if(e>=r&&e!==this.dataGroupInfo.Columns.length)switch(n){case"Default":$(i[i.length-1-r]).css("font-weight","");break;case"Normal":$(i[i.length-1-r]).css("font-weight","normal");break;case"Thin":$(i[i.length-1-r]).css("font-weight","200");break;case"ExtraLight":$(i[i.length-1-r]).css("font-weight","300");break;case"Light":$(i[i.length-1-r]).css("font-weight","400");break;case"Medium":$(i[i.length-1-r]).css("font-weight","500");break;case"SemiBold":$(i[i.length-1-r]).css("font-weight","600");break;case"Bold":$(i[i.length-1-r]).css("font-weight","bold");break;case"ExtraBold":$(i[i.length-1-r]).css("font-weight","800");break;case"Heavy":$(i[i.length-1-r]).css("font-weight","900")}return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryTextDecoration=function(n,t){var o,e,r,u,f,i;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryTextDecoration,this.columnSummaryTextDecoration=n):(o=this.tableSummaryColumnTextDecoration,this.tableSummaryColumnTextDecoration=n),e=this.dataGroupInfo.Values[0].Values.length,r=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"TextDecoration",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"TextDecoration",n),u=0;u<this.gridJson.TablixBody.TablixRows.length;u++)for(f=0;f<e;f++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[u].TablixCells[this.dataGroupInfo.Columns.length*e-r*e-f],"TextDecoration",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryTextDecoration=n)}for(u=0;u<this.tableRows.length;u++)for(f=0;f<this.dataGroupInfo.Values[0].Values.length;f++)if(i=$(this.tableRows[u]).children(),u>=r&&u!==this.dataGroupInfo.Columns.length&&u>this.dataGroupInfo.Columns.length)switch(n){case"Default":$(i[i.length-1-r*e-f]).css("text-decoration","");break;case"None":$(i[i.length-1-r*e-f]).css("text-decoration","none");break;case"Underline":$(i[i.length-1-r*e-f]).css("text-decoration","underline");break;case"Overline":$(i[i.length-1-r*e-f]).css("text-decoration","overline");break;case"LineThrough":$(i[i.length-1-r*e-f]).css("text-decoration","line-through")}else if(u>=r&&u!==this.dataGroupInfo.Columns.length)switch(n){case"Default":$(i[i.length-1-r]).css("text-decoration","");break;case"None":$(i[i.length-1-r]).css("text-decoration","none");break;case"Underline":$(i[i.length-1-r]).css("text-decoration","underline");break;case"Overline":$(i[i.length-1-r]).css("text-decoration","overline");break;case"LineThrough":$(i[i.length-1-r]).css("text-decoration","line-through")}return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryTextAlign=function(n,t){var o,e,u,r,f,i;if(ej.isNullOrUndefined(t)?(o=this.columns[this.selectedColumnIndex].SummaryTextAlign,this.columnSummaryTextAlign=n):(o=this.tableSummaryColumnTextAlign,this.tableSummaryColumnTextAlign=n),e=this.dataGroupInfo.Values[0].Values.length,u=t?0:parseInt(this.columnName.split(" ")[1],10),this.dataGroupInfo.Columns.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"TextAlign",n):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"TextAlign",n),r=0;r<this.gridJson.TablixBody.TablixRows.length;r++)for(f=0;f<e;f++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[r].TablixCells[this.dataGroupInfo.Columns.length*e-u*e-f],"TextAlign",n);ej.isNullOrUndefined(t)&&(this.columns[this.selectedColumnIndex].SummaryTextAlign=n)}for(r=0;r<this.tableRows.length;r++)for(f=0;f<this.dataGroupInfo.Values[0].Values.length;f++)if(i=$(this.tableRows[r]).children(),r>=u&&r!==this.dataGroupInfo.Columns.length&&r>this.dataGroupInfo.Columns.length)switch(n){case"Default":case"General":$(i[i.length-1-u*e-f]).css("text-align","");break;case"Left":$(i[i.length-1-u*e-f]).css("text-align","left");break;case"Center":$(i[i.length-1-u*e-f]).css("text-align","center");break;case"Right":$(i[i.length-1-u*e-f]).css("text-align","right")}else if(r>=u&&r!==this.dataGroupInfo.Columns.length)switch(n){case"Default":case"General":$(i[i.length-1-u]).css("text-align","");break;case"Left":$(i[i.length-1-u]).css("text-align","left");break;case"Center":$(i[i.length-1-u]).css("text-align","center");break;case"Right":$(i[i.length-1-u]).css("text-align","right")}return ej.isNullOrUndefined(t)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),o},n.prototype.updateColumnGroupSummaryPadding=function(n,t,i){var e,f=this.dataGroupInfo.Values[0].Values.length,o=i?0:parseInt(this.columnName.split(" ")[1],10),r,u,s;if(this.dataGroupInfo.Columns.length>0)switch(t){case"-left":for(ej.isNullOrUndefined(i)?(e=this.columns[this.selectedColumnIndex].SummaryPaddingLeft,this.columnSummaryPaddingLeft=n+"pt"):(e=this.tableSummaryColumnPaddingLeft,this.tableSummaryColumnPaddingLeft=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows.length;r++)for(u=0;u<f;u++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[r].TablixCells[this.dataGroupInfo.Columns.length*f-o*f-u],"Padding",n,t);ej.isNullOrUndefined(i)&&(this.columns[this.selectedColumnIndex].SummaryPaddingLeft=n+"pt");break;case"-right":for(ej.isNullOrUndefined(i)?(e=this.columns[this.selectedColumnIndex].SummaryPaddingRight,this.columnSummaryPaddingRight=n+"pt"):(e=this.tableSummaryColumnPaddingRight,this.tableSummaryColumnPaddingRight=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows.length;r++)for(u=0;u<f;u++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[r].TablixCells[this.dataGroupInfo.Columns.length*f-o*f-u],"Padding",n,t);ej.isNullOrUndefined(i)&&(this.columns[this.selectedColumnIndex].SummaryPaddingRight=n+"pt");break;case"-top":for(ej.isNullOrUndefined(i)?(e=this.columns[this.selectedColumnIndex].SummaryPaddingLeft,this.columnSummaryPaddingLeft=n+"pt"):(e=this.tableSummaryColumnPaddingLeft,this.tableSummaryColumnPaddingLeft=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows.length;r++)for(u=0;u<f;u++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[r].TablixCells[this.dataGroupInfo.Columns.length*f-o*f-u],"Padding",n,t);ej.isNullOrUndefined(i)&&(this.columns[this.selectedColumnIndex].SummaryPaddingTop=n+"pt");break;case"-bottom":for(ej.isNullOrUndefined(i)?(e=this.columns[this.selectedColumnIndex].SummaryPaddingBottom,this.columnSummaryPaddingBottom=n+"pt"):(e=this.tableSummaryColumnPaddingBottom,this.tableSummaryColumnPaddingBottom=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[1],!0,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixColumnHierarchy.TablixMembers[0],!0,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows.length;r++)for(u=0;u<f;u++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[r].TablixCells[this.dataGroupInfo.Columns.length*f-o*f-u],"Padding",n,t);ej.isNullOrUndefined(i)&&(this.columns[this.selectedColumnIndex].SummaryPaddingBottom=n+"pt")}for(r=0;r<this.tableRows.length;r++)for(u=0;u<this.dataGroupInfo.Values[0].Values.length;u++)s=$(this.tableRows[r]).children(),r>=o&&r!==this.dataGroupInfo.Columns.length&&r>this.dataGroupInfo.Columns.length?$(s[s.length-1-o*f-u]).css("padding"+t,n+"pt"):r>=o&&r!==this.dataGroupInfo.Columns.length&&$(s[s.length-1-o]).css("padding"+t,n+"pt");return ej.isNullOrUndefined(i)&&this.updateColumnSummarySettings(this.columns[this.selectedColumnIndex].Name),e},n.prototype.updateRowGroupBorderColor=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderBorderColor,this.rowGroupBorderColor=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"BorderColor",n),this.rows[this.selectedRowIndex].HeaderBorderColor=ej.isNullOrUndefined(n)?"transparent":n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("border-color",ej.isNullOrUndefined(n)?"transparent":n),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupBorderStyle=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderBorderStyle,this.rowGroupBorderStyle=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"BorderStyle",n),this.rows[this.selectedRowIndex].HeaderBorderStyle=n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("border-style",n.toLowerCase()),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupBorderWidth=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderBorderWidth,this.rowGroupBorderWidth=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"BorderWidth",n),this.rows[this.selectedRowIndex].HeaderBorderWidth=n+"pt"),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("border-width",n+"pt"),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupBackgroundColor=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderBackColor,this.rowGroupBackColor=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"BackColor",n),this.rows[this.selectedRowIndex].HeaderBackColor=ej.isNullOrUndefined(n)?"transparent":n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupFontFamily=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderFontFamily,this.rowGroupFontFamily=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"FontFamily",n),this.rows[this.selectedRowIndex].HeaderFontFamily=n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("font-family",n),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupFontColor=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderFontColor,this.rowGroupFontColor=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"FontColor",n),this.rows[this.selectedRowIndex].HeaderFontColor=n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("color",n),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupFontSize=function(n){var t,i,r;return t=this.rows[this.selectedRowIndex].HeaderFontSize,this.rowGroupFontSize=n,this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"FontSize",n),this.rows[this.selectedRowIndex].HeaderFontSize=n),i=parseInt(this.rowName.split(" ")[1],10)-1,r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(r[i]).css("font-size",n),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),t},n.prototype.updateRowGroupFontStyle=function(n){var r,t,i;r=this.rows[this.selectedRowIndex].HeaderFontStyle;this.rowGroupFontStyle=n;this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"FontStyle",n),this.rows[this.selectedRowIndex].HeaderFontStyle=n);t=parseInt(this.rowName.split(" ")[1],10)-1;i=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children();switch(n){case"Default":$(i[t]).css("font-style","");break;case"Normal":$(i[t]).css("font-style","normal");break;case"Italic":$(i[t]).css("font-style","italic")}return this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupFontWeight=function(n){var r,t,i;r=this.rows[this.selectedRowIndex].HeaderFontWeight;this.rowGroupFontWeight=n;this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"FontWeight",n),this.rows[this.selectedRowIndex].HeaderFontWeight=n);t=parseInt(this.rowName.split(" ")[1],10)-1;i=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children();switch(n){case"Default":$(i[t]).css("font-weight","");break;case"Normal":$(i[t]).css("font-weight","normal");break;case"Thin":$(i[t]).css("font-weight","200");break;case"ExtraLight":$(i[t]).css("font-weight","300");break;case"Light":$(i[t]).css("font-weight","400");break;case"Medium":$(i[t]).css("font-weight","500");break;case"SemiBold":$(i[t]).css("font-weight","600");break;case"Bold":$(i[t]).css("font-weight","bold");break;case"ExtraBold":$(i[t]).css("font-weight","800");break;case"Heavy":$(i[t]).css("font-weight","900")}return this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupTextDecoration=function(n){var r,t,i;r=this.rows[this.selectedRowIndex].HeaderTextDecoration;this.rowGroupTextDecoration=n;this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"TextDecoration",n),this.rows[this.selectedRowIndex].HeaderTextDecoration=n);t=parseInt(this.rowName.split(" ")[1],10)-1;i=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children();switch(n){case"Default":$(i[t]).css("text-decoration","");break;case"None":$(i[t]).css("text-decoration","none");break;case"Underline":$(i[t]).css("text-decoration","underline");break;case"Overline":$(i[t]).css("text-decoration","overline");break;case"LineThrough":$(i[t]).css("text-decoration","line-through")}return this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupTextAlign=function(n){var r,t,i;r=this.rows[this.selectedRowIndex].HeaderTextAlign;this.rowGroupTextAlign=n;this.dataGroupInfo.Rows.length>0&&(this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"TextAlign",n),this.rows[this.selectedRowIndex].HeaderTextAlign=n);t=parseInt(this.rowName.split(" ")[1],10)-1;i=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children();switch(n){case"Default":case"General":$(i[t]).css("text-align","");break;case"Left":$(i[t]).css("text-align","left");break;case"Center":$(i[t]).css("text-align","center");break;case"Right":$(i[t]).css("text-align","right")}return this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupPadding=function(n,t){var i,r,u;if(this.dataGroupInfo.Rows.length>0)switch(t){case"-left":i=this.rows[this.selectedRowIndex].HeaderPaddingLeft;this.rowGroupPaddingLeft=n+"pt";this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"Padding",n,t);this.rows[this.selectedRowIndex].HeaderPaddingLeft=n+"pt";break;case"-right":i=this.rows[this.selectedRowIndex].HeaderPaddingRight;this.rowGroupPaddingRight=n+"pt";this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"Padding",n,t);this.rows[this.selectedRowIndex].HeaderPaddingRight=n+"pt";break;case"-top":i=this.rows[this.selectedRowIndex].HeaderPaddingTop;this.rowGroupPaddingTop=n+"pt";this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"Padding",n,t);this.rows[this.selectedRowIndex].HeaderPaddingTop=n+"pt";break;case"-bottom":i=this.rows[this.selectedRowIndex].HeaderPaddingBottom;this.rowGroupPaddingBottom=n+"pt";this.updateGroupHeaderValues(this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],1),"Padding",n,t);this.rows[this.selectedRowIndex].HeaderPaddingBottom=n+"pt"}return r=parseInt(this.rowName.split(" ")[1],10)-1,u=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),$(u[r]).css("padding"+t,n+"pt"),this.updateRowHeaderSettings(this.rows[this.selectedRowIndex].Name),i},n.prototype.updateRowGroupSummaryBorderColor=function(n,t){var r,f,i;t?(r=this.tableSummaryRowBorderColor,this.tableSummaryRowBorderColor=n):(r=this.rows[this.selectedRowIndex].SummaryBorderColor,this.rowSummaryBorderColor=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"BorderColor",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"BorderColor",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"BorderColor",n);t||(this.rows[this.selectedRowIndex].SummaryBorderColor=ej.isNullOrUndefined(n)?"transparent":n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("border-color",ej.isNullOrUndefined(n)?"transparent":n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryBorderStyle=function(n,t){var r,f,i;t?(r=this.tableSummaryRowBorderStyle,this.tableSummaryRowBorderStyle=n):(r=this.rows[this.selectedRowIndex].SummaryBorderStyle,this.rowSummaryBorderStyle=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"BorderStyle",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"BorderStyle",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"BorderStyle",n);t||(this.rows[this.selectedRowIndex].SummaryBorderStyle=n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("border-style",n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryBorderWidth=function(n,t){var r,f,i;t?(r=this.tableSummaryRowBorderWidth,this.tableSummaryRowBorderWidth=n+"pt"):(r=this.rows[this.selectedRowIndex].SummaryBorderWidth,this.rowSummaryBorderWidth=n+"pt");var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"BorderWidth",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"BorderWidth",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"BorderWidth",n);t||(this.rows[this.selectedRowIndex].SummaryBorderWidth=n+"pt")}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("border-width",n+"pt");return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryBackgroundColor=function(n,t){var r,f,i;t?(r=this.tableSummaryRowBackColor,this.tableSummaryRowBackColor=n):(r=this.rows[this.selectedRowIndex].SummaryBackColor,this.rowSummaryBackColor=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"BackColor",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"BackColor",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"BackColor",n);t||(this.rows[this.selectedRowIndex].SummaryBackColor=ej.isNullOrUndefined(n)?"transparent":n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryFontFamily=function(n,t){var r,f,i;t?(r=this.tableSummaryRowFontFamily,this.tableSummaryRowFontFamily=n):(r=this.rows[this.selectedRowIndex].SummaryFontFamily,this.rowSummaryFontFamily=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"FontFamily",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"FontFamily",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"FontFamily",n);t||(this.rows[this.selectedRowIndex].SummaryFontFamily=n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("font-family",n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryFontColor=function(n,t){var r,f,i;t?(r=this.tableSummaryRowFontColor,this.tableSummaryRowFontColor=n):(r=this.rows[this.selectedRowIndex].SummaryFontColor,this.rowSummaryFontColor=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"FontColor",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"FontColor",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"FontColor",n);t||(this.rows[this.selectedRowIndex].SummaryFontColor=n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("color",n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryFontSize=function(n,t){var r,f,i;t?(r=this.tableSummaryRowFontSize,this.tableSummaryRowFontSize=n):(r=this.rows[this.selectedRowIndex].SummaryFontSize,this.rowSummaryFontSize=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"FontSize",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"FontSize",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"FontSize",n);t||(this.rows[this.selectedRowIndex].SummaryFontSize=n)}for(f=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<f.length;i++)$(f[i]).css("font-size",n);return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),r},n.prototype.updateRowGroupSummaryFontStyle=function(n,t){var u,r,i;t?(u=this.tableSummaryRowFontStyle,this.tableSummaryRowFontStyle=n):(u=this.rows[this.selectedRowIndex].SummaryFontStyle,this.rowSummaryFontStyle=n);var f=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"FontStyle",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"FontStyle",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-f].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-f].TablixCells[i],"FontStyle",n);t||(this.rows[this.selectedRowIndex].SummaryFontStyle=n)}for(r=$(this.tableRows[this.tableRows.length-1-f]).children(),i=0;i<r.length;i++)switch(n){case"Default":$(r[i]).css("font-style","");break;case"Normal":$(r[i]).css("font-style","normal");break;case"Italic":$(r[i]).css("font-style","italic")}return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),u},n.prototype.updateRowGroupSummaryFontWeight=function(n,t){var u,r,i;t?(u=this.tableSummaryRowFontWeight,this.tableSummaryRowFontWeight=n):(u=this.rows[this.selectedRowIndex].SummaryFontWeight,this.rowSummaryFontWeight=n);var f=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"FontWeight",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"FontWeight",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-f].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-f].TablixCells[i],"FontWeight",n);t||(this.rows[this.selectedRowIndex].SummaryFontWeight=n)}for(r=$(this.tableRows[this.tableRows.length-1-f]).children(),i=0;i<r.length;i++)switch(n){case"Default":$(r[i]).css("font-weight","");break;case"Normal":$(r[i]).css("font-weight","normal");break;case"Thin":$(r[i]).css("font-weight","200");break;case"ExtraLight":$(r[i]).css("font-weight","300");break;case"Light":$(r[i]).css("font-weight","400");break;case"Medium":$(r[i]).css("font-weight","500");break;case"SemiBold":$(r[i]).css("font-weight","600");break;case"Bold":$(r[i]).css("font-weight","bold");break;case"ExtraBold":$(r[i]).css("font-weight","800");break;case"Heavy":$(r[i]).css("font-weight","900")}return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),u},n.prototype.updateRowGroupSummaryTextDecoration=function(n,t){var u,r,i;t?(u=this.tableSummaryRowTextDecoration,this.tableSummaryRowTextDecoration=n):(u=this.rows[this.selectedRowIndex].SummaryTextDecoration,this.rowSummaryTextDecoration=n);var f=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(t?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"TextDecoration",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"TextDecoration",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-f].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-f].TablixCells[i],"TextDecoration",n);t||(this.rows[this.selectedRowIndex].SummaryTextDecoration=n)}for(r=$(this.tableRows[this.tableRows.length-1-f]).children(),i=0;i<r.length;i++)switch(n){case"Default":$(r[i]).css("text-decoration","");break;case"None":$(r[i]).css("text-decoration","none");break;case"Underline":$(r[i]).css("text-decoration","underline");break;case"Overline":$(r[i]).css("text-decoration","overline");break;case"LineThrough":$(r[i]).css("text-decoration","line-through")}return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),u},n.prototype.updateRowGroupSummaryTextAlign=function(n,t){var f,r,i;t?(f=this.tableSummaryRowTextAlign,this.tableSummaryRowTextAlign=n):(f=this.rows[this.selectedRowIndex].SummaryTextAlign,this.rowSummaryTextAlign=n);var u=t?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length;if(this.dataGroupInfo.Rows.length>0){for(u===0?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"TextAlign",n):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"TextAlign",n),i=0;i<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;i++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[i],"TextAlign",n);t||(this.rows[this.selectedRowIndex].SummaryTextAlign=n)}for(r=$(this.tableRows[this.tableRows.length-1-u]).children(),i=0;i<r.length;i++)switch(n){case"Default":case"General":$(r[i]).css("text-align","");break;case"Left":$(r[i]).css("text-align","left");break;case"Center":$(r[i]).css("text-align","center");break;case"Right":$(r[i]).css("text-align","right")}return t||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),f},n.prototype.updateRowGroupSummaryPadding=function(n,t,i){var f,u=i?0:parseInt(this.rowName.split(" ")[1],10),e=this.isEmptyColumn?1:0,o=this.isEmptyColumn?this.dataGroupInfo.Rows.length+1:this.dataGroupInfo.Rows.length,s,r;if(this.dataGroupInfo.Rows.length>0)switch(t){case"-left":for(i?(f=this.tableSummaryRowPaddingLeft,this.tableSummaryRowPaddingLeft=n+"pt"):(f=this.rows[this.selectedRowIndex].SummaryPaddingLeft,this.rowSummaryPaddingLeft=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[r],"Padding",n,t);i||(this.rows[this.selectedRowIndex].SummaryPaddingLeft=n+"pt");break;case"-right":for(i?(f=this.tableSummaryRowPaddingRight,this.tableSummaryRowPaddingRight=n+"pt"):(f=this.rows[this.selectedRowIndex].SummaryPaddingRight,this.rowSummaryPaddingRight=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[r],"Padding",n,t);i||(this.rows[this.selectedRowIndex].SummaryPaddingRight=n+"pt");break;case"-top":for(i?(f=this.tableSummaryRowPaddingTop,this.tableSummaryRowPaddingTop=n+"pt"):(f=this.rows[this.selectedRowIndex].SummaryPaddingTop,this.rowSummaryPaddingTop=n+"pt"),u===0?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[r],"Padding",n,t);i||(this.rows[this.selectedRowIndex].SummaryPaddingTop=n+"pt");break;case"-bottom":for(i?(f=this.tableSummaryRowPaddingBottom,this.tableSummaryRowPaddingBottom=n+"pt"):(f=this.rows[this.selectedRowIndex].SummaryPaddingBottom,this.rowSummaryPaddingBottom=n+"pt"),i?this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e+1],!1,0,"Padding",n,t):this.updateGroupSummaryValues(this.gridJson.TablixRowHierarchy.TablixMembers[e],!1,1,"Padding",n,t),r=0;r<this.gridJson.TablixBody.TablixRows[o-u].TablixCells.length;r++)this.setGroupValue(this.gridJson.TablixBody.TablixRows[o-u].TablixCells[r],"Padding",n,t);i||(this.rows[this.selectedRowIndex].SummaryPaddingBottom=n+"pt")}for(s=$(this.tableRows[this.tableRows.length-1-u]).children(),r=0;r<s.length;r++)$(s[r]).css("padding"+t,n+"pt");return i||this.updateRowSummarySettings(this.rows[this.selectedRowIndex].Name),f},n.prototype.updateCornerBorderColor=function(n){var t,i;this.cornerCellBorderColor=n;this.gridJson.TablixCorner.TablixCornerRows.length>0&&(t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0],t.CellContents.ReportItem.Style.Border.Color=n,ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem)))},n.prototype.updateCornerBorderStyle=function(n){var t,i;this.cornerCellBorderStyle=n;this.gridJson.TablixCorner.TablixCornerRows.length>0&&(t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0],t.CellContents.ReportItem.Style.Border.Style=n,ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem)))},n.prototype.updateCornerBorderWidth=function(n){var t,i;this.cornerCellBorderWidth=n;this.gridJson.TablixCorner.TablixCornerRows.length>0&&(t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0],t.CellContents.ReportItem.Style.Border.Width?t.CellContents.ReportItem.Style.Border.Width.size=n+"pt":t.CellContents.ReportItem.Style.Border.Width={__type:"Syncfusion.RDL.DOM.Size",size:n+"pt"},ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem)))},n.prototype.updateCornerBackgroundColor=function(n){var t,i;this.cornerCellBackColor=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Style.BackgroundColor=n;ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerFontFamily=function(n){var t,i;this.cornerCellFontFamily=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.FontFamily=n;ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerFontColor=function(n){var t,i;this.cornerCellFontColor=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.Color=n;ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerFontSize=function(n){var t,i;this.cornerCellFontSize=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.FontSize=n;ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerFontStyle=function(n){var t,i;this.cornerCellFontStyle=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.FontStyle=this.getFontStyle(n);ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerFontWeight=function(n){var t,i;this.cornerCellFontWeight=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.FontWeight=this.getFontWeight(n);ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerTextDecoration=function(n){var t,i;this.cornerCellTextDecoration=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.TextDecoration=this.getTextDecoration(n);ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerTextAlign=function(n){var t,i;this.cornerCellTextAlign=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Style.TextAlign=this.getTextAlign(n);ej.DashboardUtil.isExpression(n)&&(i=$(this.tableRows[0]).find("th"),this.setElementStyle(i[0],t.CellContents.ReportItem))},n.prototype.updateCornerPadding=function(n,t){var i=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0],r;if(this.dataGroupInfo.Rows.length>0)switch(t){case"-left":this.cornerCellPaddingLeft=n+"pt";i.CellContents.ReportItem.Style.PaddingLeft.size=n+"pt";break;case"-right":this.cornerCellPaddingRight=n+"pt";i.CellContents.ReportItem.Style.PaddingRight.size=n+"pt";break;case"-top":this.cornerCellPaddingTop=n+"pt";i.CellContents.ReportItem.Style.PaddingTop.size=n+"pt";break;case"-bottom":this.cornerCellPaddingBottom=n+"pt";i.CellContents.ReportItem.Style.PaddingBottom.size=n+"pt"}r=$(this.tableRows[0]).find("th");this.setElementStyle(r[0],i.CellContents.ReportItem)},n.prototype.updateCornerLabel=function(n){var t,i;this.cornerLabel=n;t=this.gridJson.TablixCorner.TablixCornerRows[0].TablixCornerCells[0];t.CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n;i=$(this.tableRows[0]).find("th");$(i[0]).text(n)},n.prototype.updateColumnHeaderValues=function(n,t,i,r){for(var u,f=0;f<n.length;f++)if(!ej.isNullOrUndefined(n[f].CellContents)){u=n[f].CellContents.ReportItem;switch(t){case"BackColor":u.Style.BackgroundColor=i;break;case"FontFamily":u.Paragraphs[0].TextRuns[0].Style.FontFamily=i;break;case"FontColor":u.Paragraphs[0].TextRuns[0].Style.Color=i;break;case"FontSize":u.Paragraphs[0].TextRuns[0].Style.FontSize=this.getDomSize(i);break;case"FontStyle":u.Paragraphs[0].TextRuns[0].Style.FontStyle=i;break;case"FontWeight":u.Paragraphs[0].TextRuns[0].Style.FontWeight=i;break;case"TextDecoration":u.Paragraphs[0].TextRuns[0].Style.TextDecoration=i;break;case"TextAlign":u.Paragraphs[0].Style.TextAlign=i;break;case"Padding":switch(r){case"-left":u.Style.PaddingLeft.size=i+"pt";break;case"-right":u.Style.PaddingRight.size=i+"pt";break;case"-top":u.Style.PaddingTop.size=i+"pt";break;case"-bottom":u.Style.PaddingBottom.size=i+"pt"}break;case"Visibility":u.Visibility?u.Visibility.Hidden=!$.parseJSON(i):u.Visibility={Hidden:!$.parseJSON(i)}}}},n.prototype.updateHeaderBackgroundColor=function(n){var i,t;for(this.headerBackColor=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"BackColor",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"BackColor",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"BackColor",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"BackColor",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)$(i[t]).css("background-color",ej.isNullOrUndefined(n)?"transparent":n)},n.prototype.updateHeaderFontFamily=function(n){var i,t;for(this.headerFontFamily=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"FontFamily",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"FontFamily",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"FontFamily",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"FontFamily",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)$(i[t]).css("font-family",n)},n.prototype.updateHeaderFontColor=function(n){var i,t;for(this.headerFontColor=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"FontColor",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"FontColor",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"FontColor",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"FontColor",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)$(i[t]).css("color",ej.isNullOrUndefined(n)?"transparent":n)},n.prototype.updateHeaderFontSize=function(n){var i,t;for(this.headerFontSize=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"FontSize",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"FontSize",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"FontSize",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"FontSize",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)$(i[t]).css("font-size",n)},n.prototype.updateHeaderFontStyle=function(n){var i,t;for(this.headerFontStyle=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"FontStyle",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"FontStyle",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"FontStyle",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"FontStyle",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)switch(n){case"Default":$(i[t]).css("font-style","");break;case"Normal":$(i[t]).css("font-style","normal");break;case"Italic":$(i[t]).css("font-style","italic")}},n.prototype.updateHeaderFontWeight=function(n){var i,t;for(this.headerFontWeight=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"FontWeight",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"FontWeight",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"FontWeight",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"FontWeight",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)switch(n){case"Default":$(i[t]).css("font-weight","");break;case"Normal":$(i[t]).css("font-weight","normal");break;case"Thin":$(i[t]).css("font-weight","200");break;case"ExtraLight":$(i[t]).css("font-weight","300");break;case"Light":$(i[t]).css("font-weight","400");break;case"Medium":$(i[t]).css("font-weight","500");break;case"SemiBold":$(i[t]).css("font-weight","600");break;case"Bold":$(i[t]).css("font-weight","bold");break;case"ExtraBold":$(i[t]).css("font-weight","800");break;case"Heavy":$(i[t]).css("font-weight","900")}},n.prototype.updateHeaderTextDecoration=function(n){var i,t;for(this.headerTextDecoration=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"TextDecoration",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"TextDecoration",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"TextDecoration",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"TextDecoration",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)switch(n){case"Default":$(i[t]).css("text-decoration","");break;case"None":$(i[t]).css("text-decoration","none");break;case"Underline":$(i[t]).css("text-decoration","underline");break;case"Overline":$(i[t]).css("text-decoration","overline");break;case"LineThrough":$(i[t]).css("text-decoration","line-through")}},n.prototype.updateHeaderTextAlignment=function(n){var i,t;for(this.headerTextAlign=n,this.dataGroupInfo.Rows.length>0&&(this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"TextAlign",n),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"TextAlign",n)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"TextAlign",n),this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"TextAlign",n)),i=$(this.tableRows[this.dataGroupInfo.Columns.length]).children(),t=0;t<i.length;t++)switch(n){case"Default":case"General":$(i[t]).css("text-align","");break;case"Left":$(i[t]).css("text-align","left");break;case"Center":$(i[t]).css("text-align","center");break;case"Right":$(i[t]).css("text-align","right")}},n.prototype.updateHeaderPadding=function(n,t){if(this.dataGroupInfo.Rows.length>0){switch(t){case"-left":this.headerPaddingLeft=n+"pt";break;case"-right":this.headerPaddingRight=n+"pt";break;case"-top":this.headerPaddingTop=n+"pt";break;case"-bottom":this.headerPaddingBottom=n+"pt"}this.isEmptyColumn?(this.updateGroupHeaderValues(this.gridJson.TablixRowHierarchy.TablixMembers[0],"Padding",n,t),this.updateColumnHeaderValues(this.gridJson.TablixBody.TablixRows[0].TablixCells,"Padding",n,t)):this.updateColumnHeaderValues(this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells,"Padding",n,t);this.dataGroupInfo.Columns.length>0&&this.updateGroupHeaderValues(this.lastColumnGroupMembers,"Padding",n,t)}},n.prototype.updateContentBorderStyle=function(n){this.contentBorderStyle=n;this.setContentBorderStyle(n)},n.prototype.updateContentBorderWidth=function(n){this.contentBorderWidth=n;this.setContentBorderWidth(n)},n.prototype.updateContentBorderColor=function(n){this.contentBorderColor=n;this.setContentBorderColor(n)},n.prototype.updateContentBackgroundColor=function(n){this.contentBackColor=n;this.setContentBackgroundColor(n)},n.prototype.updateContentFontFamily=function(n){this.contentFontFamily=n;this.setContentFontFamily(n)},n.prototype.updateContentFontColor=function(n){this.contentFontColor=n;this.setContentFontColor(n)},n.prototype.updateContentFontSize=function(n){this.contentFontSize=n;this.setContentFontSize(n)},n.prototype.updateContentFontStyle=function(n){this.contentFontStyle=n;this.setContentFontStyle(n)},n.prototype.updateContentFontWeight=function(n){this.contentFontWeight=n;this.setContentFontWeight(n)},n.prototype.updateContentTextDecoration=function(n){this.contentTextDecoration=n;this.setContentTextDecoration(n)},n.prototype.updateContentTextAlignment=function(n){this.contentTextAlign=n;this.setContentTextAlign(n)},n.prototype.updateContentPadding=function(n,t){switch(t){case"-left":this.contentPaddingLeft=n+"pt";break;case"-right":this.contentPaddingRight=n+"pt";break;case"-top":this.contentPaddingTop=n+"pt";break;case"-bottom":this.contentPaddingBottom=n+"pt"}this.setContentPadding(n,t)},n.prototype.updateCellBorderLines=function(n){for(var t=0;t<n.length;t++)n[t].Style.TopBorder=this.createBorder("Top"),n[t].Style.BottomBorder=this.createBorder("Bottom"),n[t].Style.LeftBorder=this.createBorder("Left"),n[t].Style.RightBorder=this.createBorder("Right"),n[t].Style.TopBorder.Style=this.horizontalGridLine?"Solid":"None",n[t].Style.BottomBorder.Style=this.horizontalGridLine?"Solid":"None",n[t].Style.LeftBorder.Style=this.verticalGridLine?"Solid":"None",n[t].Style.RightBorder.Style=this.verticalGridLine?"Solid":"None"},n.prototype.getCellGroupReportItems=function(n){for(var r,i=[],t=0;t<n.length;t++)ej.isNullOrUndefined(n[t].TablixHeader)||ej.isNullOrUndefined(n[t].TablixHeader.CellContents)||i.push(n[t].TablixHeader.CellContents.ReportItem),n[t].TablixMembers.length>0&&(r=this.getCellGroupReportItems(n[t].TablixMembers),i=$.merge(i,r));return i},n.prototype.getCellReportItems=function(n){var r=[],u,i,f,t;switch(n){case"TablixCorner":for(i=0;i<this.gridJson.TablixCorner.TablixCornerRows.length;i++)for(u=this.gridJson.TablixCorner.TablixCornerRows[i].TablixCornerCells,t=0;t<u.length;t++)ej.isNullOrUndefined(u[t].CellContents)||r.push(u[t].CellContents.ReportItem);break;case"TablixBody":for(i=0;i<this.gridJson.TablixBody.TablixRows.length;i++)for(f=this.gridJson.TablixBody.TablixRows[i].TablixCells,t=0;t<f.length;t++)r.push(f[t].CellContents.ReportItem);break;case"TablixColumnGroup":r=this.getCellGroupReportItems(this.gridJson.TablixColumnHierarchy.TablixMembers);break;case"TablixRowGroup":r=this.getCellGroupReportItems(this.gridJson.TablixRowHierarchy.TablixMembers)}return r},n.prototype.updateGridLines=function(){var i,t,n;for((this.dataGroupInfo.Values.length===0||this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0&&this.dataGroupInfo.Columns.length!==0)&&this.updateCellBorderLines(this.getCellReportItems("TablixCorner")),this.updateCellBorderLines(this.getCellReportItems("TablixBody")),this.updateCellBorderLines(this.getCellReportItems("TablixColumnGroup")),this.updateCellBorderLines(this.getCellReportItems("TablixRowGroup")),i=0;i<this.tableRows.length;i++)for(t=$(this.tableRows[i]).children(),n=0;n<t.length;n++)$(t[n]).css("border-bottom-style",this.horizontalGridLine?"Solid":"None"),$(t[n]).css("border-top-style",this.horizontalGridLine?"Solid":"None"),$(t[n]).css("border-left-style",this.verticalGridLine?"Solid":"None"),$(t[n]).css("border-right-style",this.verticalGridLine?"Solid":"None")},n.prototype.updateHorizontalGridLine=function(n){this.horizontalGridLine=n;this.updateGridLines()},n.prototype.updateVerticalGridLine=function(n){this.verticalGridLine=n;this.updateGridLines()},n.prototype.addTableSummaryRow=function(n){n?($(this.tableRows[this.dataGroupInfo.Columns.length+(this.showHeader?1:0)+this.dataGroupInfo.Rows.length]).css("display","table-row"),this.renderRowGroups(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length),this.renderDatas(this.dataGroupInfo,!0,0,this.dataGroupInfo.Rows.length)):($(this.tableRows[this.tableRows.length-1]).css("display","none"),this.gridJson.TablixBody.TablixRows=this.gridJson.TablixBody.TablixRows.slice(0,-1),this.gridJson.TablixRowHierarchy.TablixMembers=this.gridJson.TablixRowHierarchy.TablixMembers.slice(0,-1));this.tableRows=this.tableElement.find("tr")},n.prototype.addTableSummaryColumn=function(n){var i,t,r;if(n){for(i=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,t=0;t<this.dataGroupInfo.Columns.length+1+this.dataGroupInfo.Rows.length+1;t++)if(t>=this.dataGroupInfo.Columns.length)for(r=0;r<=i;r++)$("#summaryColumn_"+t.toString()+(this.dataGroupInfo.Rows.length+this.dataGroupInfo.Columns.length*i+r).toString()).css("display","table-cell");else $("#summaryColumn_"+t.toString()+(this.dataGroupInfo.Rows.length+this.dataGroupInfo.Columns.length*i).toString()).css("display","table-cell");this.renderColumnGroups(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length*i);this.renderColumnHeader(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length*i);this.renderDatas(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length*this.dataGroupInfo.Values[0].Values.length)}else{for(i=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,t=0;t<this.dataGroupInfo.Columns.length+1+this.dataGroupInfo.Rows.length+1;t++)if(t>=this.dataGroupInfo.Columns.length){if(this.dataGroupInfo.Values.length>0)for(r=0;r<=i;r++)$("#summaryColumn_"+t.toString()+(this.dataGroupInfo.Rows.length+this.dataGroupInfo.Columns.length*i+r).toString()).css("display","none")}else $("#summaryColumn_"+t.toString()+(this.dataGroupInfo.Rows.length+this.dataGroupInfo.Columns.length*i).toString()).css("display","none");this.gridJson.TablixBody.TablixColumns=this.gridJson.TablixBody.TablixColumns.slice(0,-1);this.gridJson.TablixColumnHierarchy.TablixMembers=this.gridJson.TablixColumnHierarchy.TablixMembers.slice(0,-1);this.lastColumnGroupMembers=this.lastColumnGroupMembers.slice(0,-1)}this.tableRows=this.tableElement.find("tr")},n.prototype.addSummaryRow=function(n,t,i){var r,u,f;if(n){for($(this.tableRows[this.tableRows.length-1-(t+1)]).css("display","table-row"),r=0;r<=t;r++)u=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).find("th"),$(u[r]).attr("rowspan",parseInt($(u[r]).attr("rowspan"),10)+1);i&&(this.renderRowGroups(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length),this.renderDatas(this.dataGroupInfo,!0,0,this.dataGroupInfo.Rows.length))}else{for($(this.tableRows[this.tableRows.length-1-(t+1)]).css("display","none"),r=0;r<=t;r++)u=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).find("th"),$(u[r]).attr("rowspan",parseInt($(u[r]).attr("rowspan"),10)-1);i&&(f=this.getTablixRowMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],t+1),f.TablixMembers=f.TablixMembers.slice(0,-1),this.enableTableSummaryColumn?this.gridJson.TablixBody.TablixRows.splice(this.gridJson.TablixBody.TablixRows.length-1-(t+1),1):this.gridJson.TablixBody.TablixRows.splice(this.gridJson.TablixBody.TablixRows.length-1-t,1))}this.tableRows=this.tableElement.find("tr")},n.prototype.addSummaryColumn=function(n,t,i){var f,u,e,o,r;if(n){for(f=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,u=t+1;u<this.dataGroupInfo.Columns.length+1+this.dataGroupInfo.Rows.length+1;u++)if(u>=this.dataGroupInfo.Columns.length)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)$("#summaryColumn_"+u.toString()+(this.dataGroupInfo.Rows.length+(this.dataGroupInfo.Columns.length-(t+1))*f+r).toString()).css("display","table-cell");else $("#summaryColumn_"+u.toString()+(this.dataGroupInfo.Rows.length+(this.dataGroupInfo.Columns.length-(t+1))*f).toString()).css("display","table-cell");for(r=0;r<=t;r++)e=$(this.tableRows[r]).find("th"),$(e[r===0?1:0]).attr("colspan",parseInt($(e[r===0?1:0]).attr("colspan"),10)+1);i&&(this.renderColumnGroups(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length),this.renderColumnHeader(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length*this.dataGroupInfo.Values[0].Values.length),this.renderDatas(this.dataGroupInfo,!0,this.dataGroupInfo.Columns.length*this.dataGroupInfo.Values[0].Values.length))}else{for(f=this.dataGroupInfo.Values.length>0?this.dataGroupInfo.Values[0].Values.length:1,u=t+1;u<this.dataGroupInfo.Columns.length+1+this.dataGroupInfo.Rows.length+1;u++)if(u>=this.dataGroupInfo.Columns.length){if(this.dataGroupInfo.Values.length>0)for(r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)$("#summaryColumn_"+u.toString()+(this.dataGroupInfo.Rows.length+(this.dataGroupInfo.Columns.length-(t+1))*f+r).toString()).css("display","none")}else $("#summaryColumn_"+u.toString()+(this.dataGroupInfo.Rows.length+(this.dataGroupInfo.Columns.length-(t+1))*f).toString()).css("display","none");for(r=0;r<=t;r++)e=$(this.tableRows[r]).find("th"),$(e[r===0?1:0]).attr("colspan",parseInt($(e[r===0?1:0]).attr("colspan"),10)-1);if(i)for(o=this.getTablixMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],t+1),ej.isNullOrUndefined(o)||(o.TablixMembers=o.TablixMembers.slice(0,-1)),r=0;r<this.dataGroupInfo.Values[0].Values.length;r++)this.gridJson.TablixBody.TablixColumns.splice((this.dataGroupInfo.Columns.length-(t+1))*this.dataGroupInfo.Values[0].Values.length,1)}this.tableRows=this.tableElement.find("tr")},n.prototype.updateSummaryRow=function(n){this.rows[this.selectedRowIndex].enableSummaryRow=$.parseJSON(n);this.addSummaryRow($.parseJSON(n),this.selectedRowIndex,!0);$("#SummaryRows_Container").css("display",n.toString()==="true"?"block":"none");this.renderSummaryRow();this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryBackgroundColor",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryFont",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryFontStyleRoot",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryTextDecoration",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryTextAlign",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowGroupSummaryPadding",this.rows[this.selectedRowIndex].enableSummaryRow);this.propertyPanel.refreshScroller();this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.getDataRows();this.updateGridLines()},n.prototype.updateSummaryColumn=function(n){this.columns[this.selectedColumnIndex].enableSummaryColumn=$.parseJSON(n);this.addSummaryColumn($.parseJSON(n),this.selectedColumnIndex,!0);$("#SummaryColumns_Container").css("display",n.toString()==="true"?"block":"none");this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryBackgroundColor",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryFont",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryFontStyleRoot",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryTextDecoration",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryTextAlign",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryPadding",this.columns[this.selectedColumnIndex].enableSummaryColumn);this.propertyPanel.refreshScroller();this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.getDataColumns();this.updateGridLines()},n.prototype.setPropertyElement=function(n,t,i,r){var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),n,t,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=t;this.propertyPanel.updatePropertyValue(u,"PivotGrid",i)},n.prototype.updateRowName=function(n){var t;return this.isRowSettingsEnabled=!0,n!==""?(this.selectedRowIndex=this.getColumnIndex(n),this.rows[this.selectedRowIndex].Name=n,this.rows[this.selectedRowIndex].Label===""&&(this.rows[this.selectedRowIndex].Label=this.dataGroupInfo.Rows[this.selectedRowIndex].Field),this.enableRowBasicSettings(!0),this.enableRowHeaderSettings(!0),this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?(this.enableRowSummarySettings(!1),$("#SummaryRows_Container").css("display","none"),this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","SummaryRow",!1)):(this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","SummaryRow",!0),this.enableRowSummarySettings(this.getRowSettings(n,"SummaryRow")),this.getRowSettings(n,"SummaryRow")&&($("#SummaryRows_Container").css("display","block"),this.renderSummaryRow())),this.updateRowHeaderSettings(n),this.updateRowSummarySettings(n)):(this.enableRowBasicSettings(!1),this.enableRowHeaderSettings(!1),this.enableRowSummarySettings(!1),this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","SummaryRow",!1)),t=this.rowName,this.rowName=n,this.propertyPanel.refreshScroller(),t},n.prototype.renderSummaryTableColumn=function(){$("#TableSummaryColumns_summaryGrid").empty();this.tableSummaryColumns=this.getSummaryTableColumns();this.renderSummaryColumnDetails(this.tableSummaryColumns,"TableSummaryColumns")},n.prototype.renderSummaryColumn=function(){$("#SummaryColumns_summaryGrid").empty();this.dataGroupInfo.Columns.length>1&&(this.columns[this.selectedColumnIndex].SummaryColumns=this.getSummaryColumns(),this.renderSummaryColumnDetails(this.columns[this.selectedColumnIndex].SummaryColumns,"SummaryColumns"))},n.prototype.renderSummaryTableRow=function(){$("#TableSummaryRows_summaryGrid").empty();this.tableSummaryRows=this.getSummaryTableRows();this.renderSummaryColumnDetails(this.tableSummaryRows,"TableSummaryRows")},n.prototype.renderSummaryRow=function(){$("#SummaryRows_summaryGrid").empty();this.dataGroupInfo.Rows.length>1&&(this.rows[this.selectedRowIndex].SummaryRows=this.getSummaryRows(),this.renderSummaryColumnDetails(this.rows[this.selectedRowIndex].SummaryRows,"SummaryRows"))},n.prototype.renderSummaryColumnDetails=function(n,t){for(var f,r,u,e,i=0;i<=n.length;i++){f=ej.buildTag("tr","",{padding:"0px",margin:"0px","text-align":"left","vertical-align":"middle",height:"30px"},{vAlign:"top",id:i===0?t+"_Header":t+"_"+(i-1)});f.on("mouseover",$.proxy(this.summaryTableRowHover,this));f.on("mouseout",$.proxy(this.summaryTableRowLeave,this));for(r=0;r<2;r++){if(u=void 0,i===0)u=this.createTableCellHeader({Background:"#fbfbfb"}),u.text(r===0?"Column":"Expression");else if(u=this.createTableCell({Background:"Transparent"}),u.text(r===0?n[i-1].Column:n[i-1].Expression),r>0){e=ej.buildTag("div","",{"font-size":"16px",padding:"2px",float:"right",visibility:"hidden"},{"class":"e-designer-content-icon e-reportdesigner-expression e-reportdesigner-toolbar-exp",id:t+"_"+(i-1)+"_Expression"});e.on("click",$.proxy(this.setExpression,this,{Label:r===0?n[i-1].Column:n[i-1].Expression,Id:t,RowIndex:i-1}));u.append(e)}f.append(u)}$("#"+t+"_summaryGrid").append(f)}},n.prototype.summaryTableRowHover=function(n){var t=$(n.currentTarget).attr("id");t!=="summaryRowHeader"&&($("#"+t+"_Expression").css("visibility","visible"),$(n.currentTarget).css("background-color","#f9f9f9"))},n.prototype.summaryTableRowLeave=function(n){var t=$(n.currentTarget).attr("id");t!=="summaryRowHeader"&&($("#"+t+"_Expression").css("visibility","hidden"),$(n.currentTarget).css("background-color","white"))},n.prototype.renderSummaryTableColumns=function(n,t){var i,r,u;ej.isNullOrUndefined(n)?$("#"+t.name+"_Container").css("display",t.isVisible?"block":"none"):(i=ej.buildTag("div","",{margin:"15px","margin-top":"15px",display:t.isVisible?"block":"none"},{id:t.name+"_Container"}),r=ej.buildTag("div","",{"margin-bottom":"10px","margin-top":"10px","font-weight":"600"},{id:t.name+"_Label"}),r.text(t.displayName),i.append(r),n.append(i),u=ej.buildTag("table.e-reportdesigner-grid-table","",{width:"100%",height:"100%","font-size":"10pt"},{id:t.name+"_summaryGrid",cellspacing:"0",cellpadding:"0"}),i.append(u));switch(t.name){case"TableSummaryColumns":this.renderSummaryTableColumn();break;case"TableSummaryRows":this.renderSummaryTableRow();break;case"SummaryColumns":this.renderSummaryColumn();break;case"SummaryRows":this.renderSummaryRow()}},n.prototype.updateExpression=function(n,t){var i=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),r=i.dataGroupInfo.Values.length>0?i.dataGroupInfo.Values[0].Values.length:1;switch(t.Id){case"SummaryColumns":t.RowIndex+i.selectedColumnIndex+2>i.dataGroupInfo.Columns.length?(i.updateSummaryColumnDataCells(n,t.RowIndex+i.selectedColumnIndex+1,i.selectedColumnIndex+1),$($(this.tableRows[t.RowIndex+i.selectedColumnIndex+2])[0].children[$(this.tableRows[t.RowIndex+i.selectedColumnIndex+2])[0].children.length-1-(i.selectedColumnIndex+1)-(r-(this.summaryColumnValueIndex+1))]).text(n)):(i.updateSummaryColumnCells(i.getSummaryMember(i.gridJson.TablixColumnHierarchy.TablixMembers[0],i.selectedColumnIndex),n,t.RowIndex),$($(this.tableRows[t.RowIndex+i.selectedColumnIndex+1])[0].children[$(this.tableRows[t.RowIndex+i.selectedColumnIndex+1])[0].children.length-1-(i.selectedColumnIndex+1)]).text(n));i.renderSummaryColumn();break;case"SummaryRows":t.RowIndex>=i.dataGroupInfo.Rows.length?i.updateSummaryDataCells(n,t.RowIndex,i.selectedRowIndex+1):i.updateSummaryColumnCells(i.getSummaryMember(i.isEmptyColumn?i.gridJson.TablixRowHierarchy.TablixMembers[1]:i.gridJson.TablixRowHierarchy.TablixMembers[0],i.selectedRowIndex),n,t.RowIndex);$($(this.tableRows[this.tableRows.length-1-(i.selectedRowIndex+1)])[0].children[t.RowIndex]).text(n);i.renderSummaryColumn();break;case"TableSummaryColumns":t.RowIndex+1>i.dataGroupInfo.Columns.length?(i.updateSummaryDataCells(n,t.RowIndex),$($(this.tableRows[t.RowIndex+1])[0].children[$(this.tableRows[t.RowIndex+1])[0].children.length-1-(r-(this.summaryValueIndex+1))]).text(n)):t.RowIndex!==i.dataGroupInfo.Columns.length&&(i.updateSummaryColumnCells(i.gridJson.TablixColumnHierarchy.TablixMembers[1],n,t.RowIndex),$($(this.tableRows[t.RowIndex])[0].children[$(this.tableRows[t.RowIndex])[0].children.length-1]).text(n));i.renderSummaryTableColumn();break;case"TableSummaryRows":t.RowIndex>=i.dataGroupInfo.Rows.length?i.updateSummaryRowDataCells(n,t.RowIndex):i.updateSummaryColumnCells(i.isEmptyColumn?i.gridJson.TablixRowHierarchy.TablixMembers[2]:i.gridJson.TablixRowHierarchy.TablixMembers[1],n,t.RowIndex);$($(this.tableRows[this.tableRows.length-1])[0].children[t.RowIndex]).text(n);i.renderSummaryTableRow()}},n.prototype.setExpression=function(n){switch(n.Id){case"SummaryColumns":ejDashboardDesigner.getInstance("Expression").openEditor(ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).columns[ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).selectedColumnIndex].SummaryColumns[n.RowIndex].Expression,this,"updateExpression",n,ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).columns[ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).selectedColumnIndex].Name);break;case"SummaryRows":ejDashboardDesigner.getInstance("Expression").openEditor(ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).rows[ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).selectedRowIndex].SummaryRows[n.RowIndex].Expression,this,"updateExpression",n,ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).rows[ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).selectedRowIndex].Name);break;case"TableSummaryColumns":ejDashboardDesigner.getInstance("Expression").openEditor(ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).tableSummaryColumns[n.RowIndex].Expression,this,"updateExpression",n,"");break;case"TableSummaryRows":ejDashboardDesigner.getInstance("Expression").openEditor(ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).tableSummaryRows[n.RowIndex].Expression,this,"updateExpression",n,"")}},n.prototype.enableRowBasicSettings=function(n){var t,i,r,u;n&&(t={name:"RowSelectedFormat",displayName:"Format",isVisible:n,value:this.getSelectedRowTextFormat(),itemType:"formattext",categoryName:"RowGroupSettings"},i=ejDashboardDesigner.getInstance("FormattingText"),i.renderItem(null,"PivotGrid_RowGroupSettings",t),r={value:this.getSelectedRowTextActionInfo(),name:"RowLink",displayName:"Link",isVisible:n,itemType:"link",category:"RowAction",categoryName:"RowGroupSettings"},u=ejDashboardDesigner.getInstance("ReportAction"),u.renderAction(null,"PivotGrid_RowGroupSettings",r));this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSelectedFormat",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowAction",n)},n.prototype.enableColumnBasicSettings=function(n){var t,i,r,u;n&&(t={name:"ColumnSelectedFormat",displayName:"Format",isVisible:n,value:this.getSelectedColumnTextFormat(),itemType:"formattext",categoryName:"ColumnGroupSettings"},i=ejDashboardDesigner.getInstance("FormattingText"),i.renderItem(null,"PivotGrid_ColumnGroupSettings",t),r={value:this.getSelectedColumnTextActionInfo(),name:"ColumnLink",displayName:"Link",isVisible:n,itemType:"link",category:"ColumnAction",categoryName:"ColumnGroupSettings"},u=ejDashboardDesigner.getInstance("ReportAction"),u.renderAction(null,"PivotGrid_ColumnGroupSettings",r));this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnSelectedFormat",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnAction",n)},n.prototype.enableColumnHeaderSettings=function(n){this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderBackgroundColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderBorder",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderFont",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderFontStyleRoot",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderTextDecoration",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderTextAlign",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnHeaderPadding",n)},n.prototype.enableRowHeaderSettings=function(n){this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderBackgroundColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderBorder",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderFont",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderFontStyleRoot",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderTextDecoration",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderTextAlign",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowHeaderPadding",n)},n.prototype.enableColumnSummarySettings=function(n){this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>1&&n&&this.dataGroupInfo.Columns.length>1?this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryValue",n):this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryValue",!1);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryBackgroundColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryBorderColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryBorderStyle",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryBorderWidth",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryFont",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryFontStyleRoot",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryTextDecoration",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryTextAlign",n);this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","ColumnGroupSummaryPadding",n)},n.prototype.enableRowSummarySettings=function(n){this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryBackgroundColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryBorderColor",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryBorderStyle",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryBorderWidth",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryFont",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryFontStyleRoot",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryTextDecoration",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","RowSummaryTextAlign",n);this.propertyPanel.updateItemVisibility("PivotGrid","RowGroupSettings","ColumnGroupSummaryPadding",n)},n.prototype.updateColumnBasicSettings=function(n){n!==""&&(this.propertyPanel.canUpdate=!1,this.setPropertyElement("ColumnWidth","ColumnGroupSettings",this.getColumnSettings(n,"Width")),this.propertyPanel.canUpdate=!0)},n.prototype.updateRowHeaderSettings=function(n){n!==""&&(this.propertyPanel.canUpdate=!1,ej.DashboardUtil.isExpression(this.getRowSettings(n,"HeaderBackColor"))&&this.setPropertyElement("RowHeaderBackgroundColor","RowGroupSettings",this.getRowSettings(n,"HeaderBackColor")),this.setPropertyElement("RowHeaderWidth","RowGroupSettings",this.getRowSettings(n,"HeaderWidth")),this.setPropertyElement("RowHeaderBackgroundColor","RowGroupSettings",this.getRowSettings(n,"HeaderBackColor")),this.setPropertyElement("RowHeaderBorderColor","RowGroupSettings",this.getRowSettings(n,"HeaderBorderColor")),this.setPropertyElement("RowHeaderBorderWidth","RowGroupSettings",this.getRowSettings(n,"HeaderBorderWidth")),this.setPropertyElement("RowHeaderBorderStyle","RowGroupSettings",this.getRowSettings(n,"HeaderBorderStyle")),this.setPropertyElement("RowHeaderFontFamily","RowGroupSettings",this.getRowSettings(n,"HeaderFontFamily")),this.setPropertyElement("RowHeaderFontSize","RowGroupSettings",this.getRowSettings(n,"HeaderFontSize")),this.setPropertyElement("RowHeaderFontColor","RowGroupSettings",this.getRowSettings(n,"HeaderFontColor")),this.setPropertyElement("RowHeaderFontStyle","RowGroupSettings",this.getRowSettings(n,"HeaderFontStyle")),this.setPropertyElement("RowHeaderFontWeight","RowGroupSettings",this.getRowSettings(n,"HeaderFontWeight")),this.setPropertyElement("RowHeaderTextDecoration","RowGroupSettings",this.getRowSettings(n,"HeaderTextDecoration")),this.setPropertyElement("RowHeaderTextAlign","RowGroupSettings",this.getRowSettings(n,"HeaderTextAlign")),this.setPropertyElement("RowHeaderPaddingLeft","RowGroupSettings",this.getRowSettings(n,"HeaderPaddingLeft")),this.setPropertyElement("RowHeaderPaddingTop","RowGroupSettings",this.getRowSettings(n,"HeaderPaddingTop")),this.setPropertyElement("RowHeaderPaddingBottom","RowGroupSettings",this.getRowSettings(n,"HeaderPaddingBottom")),this.setPropertyElement("RowHeaderPaddingRight","RowGroupSettings",this.getRowSettings(n,"HeaderPaddingRight")),this.propertyPanel.canUpdate=!0)},n.prototype.updateColumnHeaderSettings=function(n){n!==""&&(this.propertyPanel.canUpdate=!1,ej.DashboardUtil.isExpression(this.getColumnSettings(n,"HeaderBackColor"))&&this.setPropertyElement("ColumnHeaderBackgroundColor","ColumnGroupSettings",this.getColumnSettings(n,"HeaderBackColor")),this.setPropertyElement("ColumnHeaderWidth","ColumnGroupSettings",this.getColumnSettings(n,"Width")),this.setPropertyElement("ColumnHeaderBackgroundColor","ColumnGroupSettings",this.getColumnSettings(n,"HeaderBackColor")),this.setPropertyElement("ColumnHeaderBorderColor","ColumnGroupSettings",this.getColumnSettings(n,"HeaderBorderColor")),this.setPropertyElement("ColumnHeaderBorderWidth","ColumnGroupSettings",this.getColumnSettings(n,"HeaderBorderWidth")),this.setPropertyElement("ColumnHeaderBorderStyle","ColumnGroupSettings",this.getColumnSettings(n,"HeaderBorderStyle")),this.setPropertyElement("ColumnHeaderFontFamily","ColumnGroupSettings",this.getColumnSettings(n,"HeaderFontFamily")),this.setPropertyElement("ColumnHeaderFontSize","ColumnGroupSettings",this.getColumnSettings(n,"HeaderFontSize")),this.setPropertyElement("ColumnHeaderFontColor","ColumnGroupSettings",this.getColumnSettings(n,"HeaderFontColor")),this.setPropertyElement("ColumnHeaderFontStyle","ColumnGroupSettings",this.getColumnSettings(n,"HeaderFontStyle")),this.setPropertyElement("ColumnHeaderFontWeight","ColumnGroupSettings",this.getColumnSettings(n,"HeaderFontWeight")),this.setPropertyElement("ColumnHeaderTextDecoration","ColumnGroupSettings",this.getColumnSettings(n,"HeaderTextDecoration")),this.setPropertyElement("ColumnHeaderTextAlign","ColumnGroupSettings",this.getColumnSettings(n,"HeaderTextAlign")),this.setPropertyElement("ColumnHeaderPaddingLeft","ColumnGroupSettings",this.getColumnSettings(n,"HeaderPaddingLeft")),this.setPropertyElement("ColumnHeaderPaddingTop","ColumnGroupSettings",this.getColumnSettings(n,"HeaderPaddingTop")),this.setPropertyElement("ColumnHeaderPaddingBottom","ColumnGroupSettings",this.getColumnSettings(n,"HeaderPaddingBottom")),this.setPropertyElement("ColumnHeaderPaddingRight","ColumnGroupSettings",this.getColumnSettings(n,"HeaderPaddingRight")),this.propertyPanel.canUpdate=!0)},n.prototype.updateColumnSummarySettings=function(n){n!==""&&(this.propertyPanel.canUpdate=!1,this.setPropertyElement("SummaryColumn","ColumnGroupSettings",this.getColumnSettings(n,"SummaryColumn")),ej.DashboardUtil.isExpression(this.getColumnSettings(n,"SummaryBackColor"))&&this.setPropertyElement("ColumnGroupSummaryBackgroundColor","ColumnGroupSettings",this.getColumnSettings(n,"SummaryBackColor")),this.setPropertyElement("SummaryColumn","ColumnGroupSettings",this.getColumnSettings(n,"SummaryColumn")),this.setPropertyElement("ColumnGroupSummaryBorderColor","ColumnGroupSettings",this.getColumnSettings(n,"SummaryBorderColor")),this.setPropertyElement("ColumnGroupSummaryBorderStyle","ColumnGroupSettings",this.getColumnSettings(n,"SummaryBorderStyle")),this.setPropertyElement("ColumnGroupSummaryBorderWidth","ColumnGroupSettings",this.getColumnSettings(n,"SummaryBorderWidth")),this.setPropertyElement("ColumnGroupSummaryBackgroundColor","ColumnGroupSettings",this.getColumnSettings(n,"SummaryBackColor")),this.setPropertyElement("ColumnGroupSummaryFontFamily","ColumnGroupSettings",this.getColumnSettings(n,"SummaryFontFamily")),this.setPropertyElement("ColumnGroupSummaryFontSize","ColumnGroupSettings",this.getColumnSettings(n,"SummaryFontSize")),this.setPropertyElement("ColumnGroupSummaryFontColor","ColumnGroupSettings",this.getColumnSettings(n,"SummaryFontColor")),this.setPropertyElement("ColumnGroupSummaryFontStyle","ColumnGroupSettings",this.getColumnSettings(n,"SummaryFontStyle")),this.setPropertyElement("ColumnGroupSummaryFontWeight","ColumnGroupSettings",this.getColumnSettings(n,"SummaryFontWeight")),this.setPropertyElement("ColumnGroupSummaryTextDecoration","ColumnGroupSettings",this.getColumnSettings(n,"SummaryTextDecoration")),this.setPropertyElement("ColumnGroupSummaryTextAlign","ColumnGroupSettings",this.getColumnSettings(n,"SummaryTextAlign")),this.setPropertyElement("ColumnGroupSummaryPaddingLeft","ColumnGroupSettings",this.getColumnSettings(n,"SummaryPaddingLeft")),this.setPropertyElement("ColumnGroupSummaryPaddingTop","ColumnGroupSettings",this.getColumnSettings(n,"SummaryPaddingTop")),this.setPropertyElement("ColumnGroupSummaryPaddingBottom","ColumnGroupSettings",this.getColumnSettings(n,"SummaryPaddingBottom")),this.setPropertyElement("ColumnGroupSummaryPaddingRight","ColumnGroupSettings",this.getColumnSettings(n,"SummaryPaddingRight")),this.propertyPanel.canUpdate=!0)},n.prototype.updateRowSummarySettings=function(n){n!==""&&(this.propertyPanel.canUpdate=!1,ej.DashboardUtil.isExpression(this.getRowSettings(n,"SummaryBackColor"))&&this.setPropertyElement("RowSummaryBackgroundColor","RowGroupSettings",this.getRowSettings(n,"SummaryBackColor")),this.setPropertyElement("SummaryRow","RowGroupSettings",this.getRowSettings(n,"SummaryRow")),this.setPropertyElement("RowSummaryWidth","RowGroupSettings",this.getRowSettings(n,"SummaryWidth")),this.setPropertyElement("RowSummaryBorderColor","RowGroupSettings",this.getRowSettings(n,"SummaryBorderColor")),this.setPropertyElement("RowSummaryBorderStyle","RowGroupSettings",this.getRowSettings(n,"SummaryBorderStyle")),this.setPropertyElement("RowSummaryBorderWidth","RowGroupSettings",this.getRowSettings(n,"SummaryBorderWidth")),this.setPropertyElement("RowSummaryBackgroundColor","RowGroupSettings",this.getRowSettings(n,"SummaryBackColor")),this.setPropertyElement("RowSummaryFontFamily","RowGroupSettings",this.getRowSettings(n,"SummaryFontFamily")),this.setPropertyElement("RowSummaryFontSize","RowGroupSettings",this.getRowSettings(n,"SummaryFontSize")),this.setPropertyElement("RowSummaryFontColor","RowGroupSettings",this.getRowSettings(n,"SummaryFontColor")),this.setPropertyElement("RowSummaryFontStyle","RowGroupSettings",this.getRowSettings(n,"SummaryFontStyle")),this.setPropertyElement("RowSummaryFontWeight","RowGroupSettings",this.getRowSettings(n,"SummaryFontWeight")),this.setPropertyElement("RowSummaryTextDecoration","RowGroupSettings",this.getRowSettings(n,"SummaryTextDecoration")),this.setPropertyElement("RowSummaryTextAlign","RowGroupSettings",this.getRowSettings(n,"SummaryTextAlign")),this.setPropertyElement("RowSummaryPaddingLeft","RowGroupSettings",this.getRowSettings(n,"SummaryPaddingLeft")),this.setPropertyElement("RowSummaryPaddingTop","RowGroupSettings",this.getRowSettings(n,"SummaryPaddingTop")),this.setPropertyElement("RowSummaryPaddingBottom","RowGroupSettings",this.getRowSettings(n,"SummaryPaddingBottom")),this.setPropertyElement("RowSummaryPaddingRight","RowGroupSettings",this.getRowSettings(n,"SummaryPaddingRight")),this.propertyPanel.canUpdate=!0)},n.prototype.updateTableSummaryColumn=function(n){this.enableTableSummaryColumn=$.parseJSON(n);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnBackgroundColor",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnBorder",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnFont",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnFontStyleRoot",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnTextDecoration",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnTextAlign",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumnPadding",this.enableTableSummaryColumn);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryColumns",this.enableTableSummaryColumn);this.addTableSummaryColumn(this.enableTableSummaryColumn);$("#TableSummaryColumns_Container").css("display",n.toString()==="true"?"block":"none");this.renderSummaryTableColumn();this.getDataColumns();this.updateGridSize();this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.updateGridLines();this.propertyPanel.refreshScroller()},n.prototype.updateTableSummaryRow=function(n){this.enableTableSummaryRow=$.parseJSON(n);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowBackgroundColor",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowBorder",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowFont",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowFontStyleRoot",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowTextDecoration",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowTextAlign",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRowPadding",this.enableTableSummaryRow);this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryRows",this.enableTableSummaryRow);this.addTableSummaryRow(this.enableTableSummaryRow);$("#TableSummaryRows_Container").css("display",n.toString()==="true"?"block":"none");this.renderSummaryTableRow();this.getDataRows();this.updateGridLines();this.propertyPanel.refreshScroller()},n.prototype.getColumnSize=function(){return this.selectedColumnSettingsIndex>=this.dataGroupInfo.Rows.length?this.gridJson.TablixBody.TablixColumns[this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length].Width.size:this.getTablixMemberSize(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],this.selectedColumnSettingsIndex)},n.prototype.getMemberIndex=function(){return Math.floor((this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length)/this.dataGroupInfo.Values[0].Values.length)-1},n.prototype.setColumnHeader=function(n){var t,i,r;this.selectedColumnSettingsIndex>=this.dataGroupInfo.Rows.length?this.isEmptyColumn?this.gridJson.TablixBody.TablixRows[0].TablixCells[this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n:this.selectedColumnSettingsIndex<this.dataGroupInfo.Rows.length+this.dataGroupInfo.Values[0].Values.length?this.setTablixMemberHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[0],this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length,n):this.selectedColumnSettingsIndex<this.dataGroupInfo.Rows.length+this.dataGroupInfo.Columns.length*this.dataGroupInfo.Values[0].Values.length?(t=this.getMemberIndex(),i=this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length-(t+1)*this.dataGroupInfo.Values[0].Values.length,this.setTablixMemberSummaryHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[0],0,t,i,n)):(t=this.getMemberIndex(),i=this.selectedColumnSettingsIndex-this.dataGroupInfo.Rows.length-(t+1)*this.dataGroupInfo.Values[0].Values.length,this.setTablixMemberHeader(this.gridJson.TablixColumnHierarchy.TablixMembers[1],i,n)):ej.isNullOrUndefined(this.gridJson.TablixCorner)?this.setTablixRowGroupHeader(this.gridJson.TablixRowHierarchy.TablixMembers[0],0,this.selectedColumnSettingsIndex,n):this.gridJson.TablixCorner.TablixCornerRows[this.dataGroupInfo.Columns.length].TablixCornerCells[this.selectedColumnSettingsIndex].CellContents.ReportItem.Paragraphs[0].TextRuns[0].Value=n;r=$(this.tableRows[this.dataGroupInfo.Columns.length]).find("th");$(r[this.selectedColumnSettingsIndex]).text(n)},n.prototype.getColumnHeader=function(){var n=$(this.tableRows[this.dataGroupInfo.Columns.length]).find("th");return $(n[this.selectedColumnSettingsIndex]).text()},n.prototype.updateColumnHeader=function(n){this.setColumnHeader(n)},n.prototype.updateColumns=function(n){var t;return n!==""?(this.selectedColumnSettingsIndex=this.getColumnIndex(n),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnSettings","ColumnTitle",!0),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnSettings","ColumnWidth",!0),this.propertyPanel.canUpdate=!1,this.setPropertyElement("ColumnWidth","ColumnSettings",this.columnWidths[this.selectedColumnSettingsIndex],-1),this.setPropertyElement("ColumnTitle","ColumnSettings",this.getColumnHeader(),-1),this.propertyPanel.canUpdate=!0):(this.propertyPanel.updateItemVisibility("PivotGrid","ColumnSettings","ColumnTitle",!1),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnSettings","ColumnWidth",!1)),t=this.columnsName,this.columnsName=n,this.propertyPanel.refreshScroller(),t},n.prototype.updateRows=function(n){var t;return n!==""?(this.selectedRowSettingsIndex=this.getColumnIndex(n),this.propertyPanel.updateItemVisibility("PivotGrid","RowSettings","RowHeight",!0),this.propertyPanel.canUpdate=!1,this.setPropertyElement("RowHeight","RowSettings",this.rowHeights[this.selectedRowSettingsIndex],-1),this.propertyPanel.canUpdate=!0):this.propertyPanel.updateItemVisibility("PivotGrid","RowSettings","RowHeight",!1),t=this.rowsName,this.rowsName=n,this.propertyPanel.refreshScroller(),t},n.prototype.setSummaryValue=function(n){n!==""&&(this.summaryValueIndex=this.getColumnIndex(n),this.summaryValueName=n,this.renderSummaryTableColumn())},n.prototype.setColumnSummaryValue=function(n){n!==""&&(this.summaryColumnValueIndex=this.getColumnIndex(n),this.summaryColumnValueName=n,this.renderSummaryColumn())},n.prototype.updateColumn=function(n){var t;return this.isColumnSettingsEnabled=!0,n!==""?(this.selectedColumnIndex=this.getColumnIndex(n),this.columns[this.selectedColumnIndex].Name=n,this.columns[this.selectedColumnIndex].Label===""&&(this.columns[this.selectedColumnIndex].Label=this.dataGroupInfo.Columns[this.selectedColumnIndex].Field),this.enableColumnBasicSettings(!0),this.enableColumnHeaderSettings(!0),this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?(this.enableColumnSummarySettings(!1),$("#SummaryColumns_Container").css("display","none"),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryColumn",!1)):(this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryColumn",!0),this.enableColumnSummarySettings(this.getColumnSettings(n,"SummaryColumn")),this.getColumnSettings(n,"SummaryColumn")&&($("#SummaryColumns_Container").css("display","block"),this.renderSummaryColumn())),this.updateColumnBasicSettings(n),this.updateColumnHeaderSettings(n),this.updateColumnSummarySettings(n)):(this.enableColumnBasicSettings(!1),this.enableColumnHeaderSettings(!1),this.enableColumnSummarySettings(!1),this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryColumn",!1)),t=this.columnName,this.columnName=n,this.propertyPanel.refreshScroller(),t},n.prototype.setContentBorderStyle=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Style.Border.Style=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("border-style",n.toLowerCase())},n.prototype.setContentBorderWidth=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Style.Border.Width?i.Style.Border.Width.size=n+"pt":i.Style.Border.Width={__type:"Syncfusion.RDL.DOM.Size",size:n+"pt"},ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("border-width",(parseInt(n,10)>0?n:1).toString()+"pt")},n.prototype.setContentBorderColor=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Style.Border.Color=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("border-color",n)},n.prototype.setContentBackgroundColor=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Style.BackgroundColor=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("background-color",n)},n.prototype.setContentFontFamily=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.FontFamily=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("font-family",n)},n.prototype.setContentFontColor=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.Color=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("color",n)},n.prototype.setContentFontSize=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.FontSize=this.getDomSize(n),ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("font-size",n)},n.prototype.setContentFontStyle=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.FontStyle=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("font-style",n)},n.prototype.setContentFontWeight=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.FontWeight=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("font-weight",n)},n.prototype.setContentTextDecoration=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].TextRuns[0].Style.TextDecoration=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("text-decoration",n)},n.prototype.setContentTextAlign=function(n){var r=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)i=this.gridJson.TablixBody.TablixRows[0].TablixCells[t].CellContents.ReportItem,i.Paragraphs[0].Style.TextAlign=n,ej.DashboardUtil.isExpression(n)&&$(r[this.dataGroupInfo.Rows.length+t]).css("text-align",n)},n.prototype.setContentPadding=function(n,t){var u=$(this.tableRows[this.dataGroupInfo.Columns.length+1]).children(),i,r;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0)for(i=0;i<this.dataGroupInfo.Values[0].Values.length;i++){r=this.gridJson.TablixBody.TablixRows[0].TablixCells[i].CellContents.ReportItem;switch(t){case"-left":r.Style.PaddingLeft.size=n;break;case"-right":r.Style.PaddingRight.size=n;break;case"-top":r.Style.PaddingTop.size=n;break;case"-bottom":r.Style.PaddingBottom.size=n}ej.DashboardUtil.isExpression(n)&&$(u[this.dataGroupInfo.Rows.length+i]).css("padding"+t,n)}},n.prototype.setColumnWidth=function(n){var i=this.columnWidths[this.selectedColumnSettingsIndex],t;return this.columnWidths[this.selectedColumnSettingsIndex]=n,this.tableRows=this.tableElement.find("tr"),t=this.updateGridWidth(!0),this.gridJson.Width.size=ej.DashboardUtil.getUnitVal(t+"px","in"),this.propertyPanel.canUpdate=!1,this.setPropertyElement("Width","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Width.size),-1),this.propertyPanel.canUpdate=!0,i},n.prototype.setRowHeight=function(n){var i=this.rowHeights[this.selectedRowSettingsIndex],t;return this.rowHeights[this.selectedRowSettingsIndex]=n,this.tableRows=this.tableElement.find("tr"),t=this.updateGridHeight(!0),this.gridJson.Height.size=ej.DashboardUtil.getUnitVal(t+"px","in"),this.propertyPanel.canUpdate=!1,this.setPropertyElement("Height","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Height.size),-1),this.propertyPanel.canUpdate=!0,i},n.prototype.updatePosition=function(n,t,i){if(this.controlContainer.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.gridJson.Left.size),ej.DashboardUtil.getPixelVal(this.gridJson.Top.size),!0],u=[n,t,!0];this.gridJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.gridJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.setPropertyElement("Left","Position",n);this.setPropertyElement("Top","Position",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-pivotgrid-item",this.gridJson.Name,r,u)}},n.prototype.getBorderHeight=function(){var t=this.tableElement.find("tr"),n=this.getTableCells(t);return parseFloat(this.controlContainer.css("border-top-width"))+parseFloat(this.controlContainer.css("border-bottom-width"))+(ej.isNullOrUndefined(n)?0:parseFloat($(n[0]).css("border-bottom-width"))+parseFloat($(n[0]).css("border-top-width")))},n.prototype.getBorderWidth=function(){var t=this.tableElement.find("tr"),n=this.getTableCells(t);return parseFloat(this.controlContainer.css("border-left-width"))+parseFloat(this.controlContainer.css("border-right-width"))+(ej.isNullOrUndefined(n)?0:parseFloat($(n[0]).css("border-left-width"))+parseFloat($(n[0]).css("border-right-width")))},n.prototype.getTableCells=function(n){for(var i,t=n.length-1;t>=0;t--)if(i=$(n[t]).find("th"),i.length>0)return i;return null},n.prototype.updateSize=function(n,t,i){if(this.controlContainer.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),i){this.tableRows=this.tableElement.find("tr");t-this.getBorderHeight()<this.minimumHeight*this.tableRows.length&&(t=this.minimumHeight*this.tableRows.length+this.getBorderHeight());var r=[ej.DashboardUtil.getPixelVal(this.gridJson.Width.size),ej.DashboardUtil.getPixelVal(this.gridJson.Height.size),!0],u=[n,t,!0];(this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0||this.dataGroupInfo.Values.length>0)&&(this.updateWidth(n-this.getBorderWidth()),this.updateHeight(t-this.getBorderHeight()));this.setPropertyElement("Width","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Width.size));this.setPropertyElement("Height","Position",ej.DashboardUtil.getPixelVal(this.gridJson.Height.size));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-pivotgrid-item",this.gridJson.Name,r,u)}},n.prototype.updateItemSize=function(n,t,i,r,u){if(this.controlContainer.css({left:n,top:t,width:i,height:r}),this.designPanel.updateWidgetSelectionBox(this.controlContainer),u){var f=[ej.DashboardUtil.getPixelVal(this.gridJson.Left.size),ej.DashboardUtil.getPixelVal(this.gridJson.Top.size),ej.DashboardUtil.getPixelVal(this.gridJson.Width.size),ej.DashboardUtil.getPixelVal(this.gridJson.Height.size),!0],e=[n,t,i,r,!0];this.gridJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.gridJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.gridJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.gridJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.updateWidth(ej.DashboardUtil.getPixelVal(this.gridJson.Width.size));this.updateHeight(ej.DashboardUtil.getPixelVal(this.gridJson.Height.size));this.designPanel.setPropertyPanelItem();ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-pivotgrid-item",this.gridJson.Name,f,e)}},n.prototype.getDomSize=function(n){return{__type:"Syncfusion.RDL.DOM.Size",size:n}},n.prototype.getFontStyle=function(n){var t="";switch(n){case"Default":t="";break;case"Normal":t="normal";break;case"Italic":t="italic"}return t},n.prototype.getFontWeight=function(n){var t="";switch(n){case"Normal":t="normal";break;case"Thin":t="200";break;case"ExtraLight":t="300";break;case"Light":t="400";break;case"Medium":t="500";break;case"SemiBold":t="600";break;case"Bold":t="bold";break;case"ExtraBold":t="800";break;case"Heavy":t="900";break;default:t=""}return t},n.prototype.getTextDecoration=function(n){var t="none";switch(n){case"Default":t="";break;case"None":t="none";break;case"Underline":t="underline";break;case"Overline":t="overline";break;case"LineThrough":t="line-through"}return t},n.prototype.getTextAlign=function(n){var t="";switch(n){case"Default":case"General":t="";break;case"Left":t="left";break;case"Center":t="center";break;case"Right":t="right"}return t},n.prototype.createBorder=function(n){return{__type:"Syncfusion.RDL.DOM."+n+"Border",Color:"LightGrey",Style:n===""?"None":null,Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}}},n.prototype.createPageBreak=function(){return{__type:"Syncfusion.RDL.DOM.PageBreak",BreakLocation:"None",Disabled:!1,ResetPageNumber:!1}},n.prototype.createSort=function(n){return{__type:"Syncfusion.RDL.DOM.SortExpression",Value:ej.isNullOrUndefined(n)?"":n,Direction:"Ascending"}},n.prototype.createGroup=function(n){return{__type:"Syncfusion.RDL.DOM.GroupExpression",Value:ej.isNullOrUndefined(n)?"":n}},n.prototype.createTablixMemberGroup=function(n){return{__type:"Syncfusion.RDL.DOM.TablixMember",Group:{__type:"Syncfusion.RDL.DOM.Group",Name:"Details",DocumentMapLabel:null,GroupExpressions:[{__type:"Syncfusion.RDL.DOM.GroupExpression",Value:""}],DomainScope:null,PageBreak:null,Filters:[],Variables:[],Parent:null,DataElementName:null,DataElementOutput:0,DocumentMapLabelLocID:null,PageName:null},SortExpressions:[],TablixHeader:null,TablixMembers:ej.isNullOrUndefined(n)||n-1==0&&n>=0?[]:[this.createTablixMemberGroup(n-1)],CustomProperties:[],FixedData:!1,Visibility:null,HideIfNoRows:!1,KeepWithGroup:0,RepeatOnNewPage:!1,DataElementName:null,DataElementOutput:0,KeepTogether:!1}},n.prototype.createTablixCell=function(n,t,i,r){return{__type:"Syncfusion.RDL.DOM.TablixCell",CellContents:{__type:"Syncfusion.RDL.DOM.CellContents",ReportItem:this.createReportItem(n,t,i,r),ColSpan:1,RowSpan:1},DataElementName:null,DataElementOutput:0}},n.prototype.createTablixCornerRow=function(n,t,i,r){return{__type:"Syncfusion.RDL.DOM.TablixCornerRow",TablixCornerCells:this.createTablixCornerCells(n,t,i,r)}},n.prototype.createTablixCornerCells=function(n,t,i,r){for(var f=[],u=0;u<i;u++)f.push(this.createTablixCornerCell(u===0&&!n?n:!0,t,u,i,r));return i===0&&f.push(this.createTablixCornerCell(n,t,0,i,r)),f},n.prototype.createTablixCornerCell=function(n,t,i,r,u){return n?{__type:"Syncfusion.RDL.DOM.TablixCornerCell"}:{__type:"Syncfusion.RDL.DOM.TablixCornerCell",CellContents:{__type:"Syncfusion.RDL.DOM.CellContents",ReportItem:this.createReportItem("_CC"+t.toString()+i,"",!0),ColSpan:r>0?r:1,RowSpan:u>0?u:1}}},n.prototype.createTablixCornerRows=function(n,t){for(var r=[],i=0;i<t;i++)i===0?r.push(this.createTablixCornerRow(!1,i,n,t)):r.push(this.createTablixCornerRow(!0,i,n,t));return r},n.prototype.createReportItem=function(n,t,i,r){return{__type:"Syncfusion.RDL.DOM.TextBox",CanGrow:!0,CanShrink:!1,IsNoRowMessage:!1,DataElementStyle:0,HideDuplicates:null,KeepTogether:!0,Paragraphs:[{__type:"Syncfusion.RDL.DOM.Paragraph",TextRuns:[{__type:"Syncfusion.RDL.DOM.TextRun",InternalLabel:null,Label:null,Value:t,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Left",VerticalAlign:"Middle",Color:ej.isNullOrUndefined(r)?"Black":ej.isNullOrUndefined(r.FontColor)?"Black":r.FontColor,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:null,TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},ActionInfo:null,ToolTip:null,MarkupType:0}],LeftIndent:null,RightIndent:null,HangingIndent:null,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:null,TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null},ListStyle:0,ListLevel:0,SpaceBefore:null,SpaceAfter:null}],ToggleImage:null,UserSort:null,Text:null,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"0in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0in"},Name:"Textbox"+n,Value:null,ActionInfo:null,Height:null,Width:null,ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:ej.isNullOrUndefined(r)?"Transparent":ej.isNullOrUndefined(r.BackColor)?"Transparent":r.BackColor,FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Left",VerticalAlign:"Middle",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"4pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"LightGrey",Style:"Solid",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.createTablixColumn=function(){return{__type:"Syncfusion.RDL.DOM.TablixColumn",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1.042in"}}},n.prototype.createTablixRow=function(){return{__type:"Syncfusion.RDL.DOM.TablixRow",Height:{__type:"Syncfusion.RDL.DOM.Size",size:"0.500in"},TablixCells:[]}},n.prototype.createTablixHeader=function(n,t,i,r){return{__type:"Syncfusion.RDL.DOM.TablixHeader",CellContents:{__type:"Syncfusion.RDL.DOM.CellContents",ReportItem:this.createReportItem(n,t,i,r),ColSpan:1,RowSpan:1},Size:{__type:"Syncfusion.RDL.DOM.Size",size:"0.500in"}}},n.prototype.createTablixMember=function(){return{__type:"Syncfusion.RDL.DOM.TablixMember",Group:null,SortExpressions:[],TablixHeader:null,TablixMembers:[],CustomProperties:[],FixedData:!1,Visibility:null,HideIfNoRows:!1,KeepWithGroup:0,RepeatOnNewPage:!1,DataElementName:null,DataElementOutput:0,KeepTogether:!1}},n.prototype.getColumns=function(){var n,t,i;for(this.isColumnSettingsEnabled=!1,n=[],t=0;t<this.dataGroupInfo.Columns.length;t++)n.push("Group "+(t+1));return i=$("#"+this.designId+"_PivotGrid_ColumnGroupSettings_Column").data("ejDropDownList"),ej.isNullOrUndefined(i)||i.option("dataSource",n),n},n.prototype.getSummaryValue=function(){var n=[],t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>1){for(this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryValue",!0),t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)n.push("Value "+(t+1));i=$("#"+this.designId+"_PivotGrid_SummarySettings_TableSummaryValue").data("ejDropDownList");ej.isNullOrUndefined(i)||(i.option("dataSource",n),i.option("selectedIndex",0),this.summaryValueName=n[0])}else this.propertyPanel.updateItemVisibility("PivotGrid","SummarySettings","TableSummaryValue",!1);return n},n.prototype.getColumnSummaryValue=function(){var n=[],t,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>1&&this.dataGroupInfo.Columns.length>1){for(this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryValue",this.enableSummaryColumn),t=0;t<this.dataGroupInfo.Values[0].Values.length;t++)n.push("Value "+(t+1));i=$("#"+this.designId+"_PivotGrid_ColumnGroupSettings_SummaryValue").data("ejDropDownList");ej.isNullOrUndefined(i)||(i.option("dataSource",n),i.option("selectedIndex",0),this.summaryColumnValueName=n[0])}else this.propertyPanel.updateItemVisibility("PivotGrid","ColumnGroupSettings","SummaryValue",!1);return n},n.prototype.getDataColumns=function(){var t=[],n,i;if(this.dataGroupInfo.Values.length>0&&this.dataGroupInfo.Values[0].Values.length>0){for(n=0;n<this.dataGroupInfo.Rows.length+this.dataGroupInfo.Values[0].Values.length*(this.dataGroupInfo.Columns.length+1);n++)t.push("Column "+(n+1));i=$("#"+this.designId+"_PivotGrid_ColumnSettings_Columns").data("ejDropDownList");ej.isNullOrUndefined(i)||i.option("dataSource",t)}return t},n.prototype.getDataRows=function(){var t=[],r=this.isEmptyColumn?1:this.dataGroupInfo.Columns.length+2,n,i;if(this.dataGroupInfo.Rows.length>0){for(n=0;n<this.dataGroupInfo.Rows.length+r;n++)t.push("Row "+(n+1));i=$("#"+this.designId+"_PivotGrid_RowSettings_Rows").data("ejDropDownList");ej.isNullOrUndefined(i)||i.option("dataSource",t)}return t},n.prototype.getRows=function(){var n,t,i;for(this.isRowSettingsEnabled=!1,n=[],t=0;t<this.dataGroupInfo.Rows.length;t++)n.push("Group "+(t+1));return i=$("#"+this.designId+"_PivotGrid_RowGroupSettings_RowName").data("ejDropDownList"),ej.isNullOrUndefined(i)||i.option("dataSource",n),n},n.prototype.getColumnIndex=function(n){return parseFloat(n.split(" ")[1])-1},n.prototype.getColumnSettings=function(n,t){for(var i=0;i<this.columns.length;i++)if(this.columns[i].Name===n||n==="")switch(t){case"Label":return this.columns[i].Label;case"Field":return this.columns[i].Field;case"Visibility":return this.columns[i].Visibility;case"HeaderBackColor":return this.columns[i].HeaderBackColor;case"HeaderBorderColor":return this.columns[i].HeaderBorderColor;case"HeaderBorderStyle":return this.columns[i].HeaderBorderStyle;case"HeaderBorderWidth":return this.columns[i].HeaderBorderWidth;case"HeaderFontFamily":return this.columns[i].HeaderFontFamily;case"HeaderFontColor":return this.columns[i].HeaderFontColor;case"HeaderFontSize":return this.columns[i].HeaderFontSize;case"HeaderFontStyle":return this.columns[i].HeaderFontStyle;case"HeaderFontWeight":return this.columns[i].HeaderFontWeight;case"HeaderTextDecoration":return this.columns[i].HeaderTextDecoration;case"HeaderTextAlign":return this.columns[i].HeaderTextAlign;case"HeaderPaddingLeft":return this.columns[i].HeaderPaddingLeft;case"HeaderPaddingTop":return this.columns[i].HeaderPaddingTop;case"HeaderPaddingRight":return this.columns[i].HeaderPaddingRight;case"HeaderPaddingBottom":return this.columns[i].HeaderPaddingBottom;case"SummaryBackColor":return this.columns[i].SummaryBackColor;case"SummaryBorderColor":return this.columns[i].SummaryBorderColor;case"SummaryBorderStyle":return this.columns[i].SummaryBorderStyle;case"SummaryBorderWidth":return this.columns[i].SummaryBorderWidth;case"SummaryFontFamily":return this.columns[i].SummaryFontFamily;case"SummaryFontColor":return this.columns[i].SummaryFontColor;case"SummaryFontSize":return this.columns[i].SummaryFontSize;case"SummaryFontStyle":return this.columns[i].SummaryFontStyle;case"SummaryFontWeight":return this.columns[i].SummaryFontWeight;case"SummaryTextDecoration":return this.columns[i].SummaryTextDecoration;case"SummaryTextAlign":return this.columns[i].SummaryTextAlign;case"SummaryPaddingLeft":return this.columns[i].SummaryPaddingLeft;case"SummaryPaddingTop":return this.columns[i].SummaryPaddingTop;case"SummaryPaddingRight":return this.columns[i].SummaryPaddingRight;case"SummaryPaddingBottom":return this.columns[i].SummaryPaddingBottom;case"Width":return this.columns[i].Width;case"Height":return this.columns[i].Height;case"SummaryColumn":return this.columns[i].enableSummaryColumn;case"SummaryColumns":return this.columns[i].SummaryColumns;case"Format":return this.columns[i].Format;case"FormatType":return this.columns[i].FormatType;case"ActionInfo":return this.columns[i].ActionInfo}},n.prototype.getRowSettings=function(n,t){for(var i=0;i<this.rows.length;i++)if(this.rows[i].Name===n||n==="")switch(t){case"Label":return this.rows[i].Label;case"Field":return this.rows[i].Field;case"Visibility":return this.rows[i].Visibility;case"HeaderBackColor":return this.rows[i].HeaderBackColor;case"HeaderBorderColor":return this.rows[i].HeaderBorderColor;case"HeaderBorderStyle":return this.rows[i].HeaderBorderStyle;case"HeaderBorderWidth":return this.rows[i].HeaderBorderWidth;case"HeaderFontFamily":return this.rows[i].HeaderFontFamily;case"HeaderFontColor":return this.rows[i].HeaderFontColor;case"HeaderFontSize":return this.rows[i].HeaderFontSize;case"HeaderFontStyle":return this.rows[i].HeaderFontStyle;case"HeaderFontWeight":return this.rows[i].HeaderFontWeight;case"HeaderTextDecoration":return this.rows[i].HeaderTextDecoration;case"HeaderTextAlign":return this.rows[i].HeaderTextAlign;case"HeaderPaddingLeft":return this.rows[i].HeaderPaddingLeft;case"HeaderPaddingTop":return this.rows[i].HeaderPaddingTop;case"HeaderPaddingRight":return this.rows[i].HeaderPaddingRight;case"HeaderPaddingBottom":return this.rows[i].HeaderPaddingBottom;case"SummaryBackColor":return this.rows[i].SummaryBackColor;case"SummaryBorderWidth":return this.rows[i].SummaryBorderWidth;case"SummaryBorderColor":return this.rows[i].SummaryBorderColor;case"SummaryBorderStyle":return this.rows[i].SummaryBorderStyle;case"SummaryFontFamily":return this.rows[i].SummaryFontFamily;case"SummaryFontColor":return this.rows[i].SummaryFontColor;case"SummaryFontSize":return this.rows[i].SummaryFontSize;case"SummaryFontStyle":return this.rows[i].SummaryFontStyle;case"SummaryFontWeight":return this.rows[i].SummaryFontWeight;case"SummaryTextDecoration":return this.rows[i].SummaryTextDecoration;case"SummaryTextAlign":return this.rows[i].SummaryTextAlign;case"SummaryPaddingLeft":return this.rows[i].SummaryPaddingLeft;case"SummaryPaddingTop":return this.rows[i].SummaryPaddingTop;case"SummaryPaddingRight":return this.rows[i].SummaryPaddingRight;case"SummaryPaddingBottom":return this.rows[i].SummaryPaddingBottom;case"Width":return this.rows[i].Width;case"Height":return this.rows[i].Height;case"SummaryRow":return this.rows[i].enableSummaryRow;case"SummaryRows":return this.rows[i].SummaryRows;case"Format":return this.rows[i].Format;case"FormatType":return this.rows[i].FormatType;case"ActionInfo":return this.rows[i].ActionInfo}},n.prototype.createColumn=function(){return{Name:"",Label:"",Field:"",HeaderBackColor:"white",HeaderBorderColor:"lightgrey",HeaderBorderStyle:"Solid",HeaderBorderWidth:"1pt",HeaderFontFamily:"Arial",HeaderFontColor:"Black",HeaderFontSize:"10pt",HeaderFontStyle:"Default",HeaderFontWeight:"Default",HeaderTextDecoration:"Default",HeaderTextAlign:"Left",HeaderPaddingLeft:"4pt",HeaderPaddingTop:"2pt",HeaderPaddingRight:"2pt",HeaderPaddingBottom:"2pt",SummaryBorderColor:"lightgrey",SummaryBorderStyle:"Solid",SummaryBorderWidth:"1pt",SummaryBackColor:"lightgrey",SummaryFontFamily:"Arial",SummaryFontColor:"Black",SummaryFontSize:"10pt",SummaryFontStyle:"Default",SummaryFontWeight:"Default",SummaryTextDecoration:"Default",SummaryTextAlign:"Left",SummaryPaddingLeft:"4pt",SummaryPaddingTop:"2pt",SummaryPaddingRight:"2pt",SummaryPaddingBottom:"2pt",Visibility:!0,Width:"1.0598in",Height:"0.265in",enableSummaryColumn:!0,SummaryColumns:[],Format:"",FormatType:"",ActionInfo:""}},n.prototype.createRow=function(){return{Name:"",Label:"",Field:"",HeaderBackColor:"white",HeaderBorderColor:"lightgrey",HeaderBorderStyle:"Solid",HeaderBorderWidth:"1pt",HeaderFontFamily:"Arial",HeaderFontColor:"Black",HeaderFontSize:"10pt",HeaderFontStyle:"Default",HeaderFontWeight:"Default",HeaderTextDecoration:"Default",HeaderTextAlign:"Left",HeaderPaddingLeft:"4pt",HeaderPaddingTop:"2pt",HeaderPaddingRight:"2pt",HeaderPaddingBottom:"2pt",SummaryBackColor:"Transparent",SummaryBorderColor:"lightgrey",SummaryBorderStyle:"Solid",SummaryBorderWidth:"1pt",SummaryFontFamily:"Arial",SummaryFontColor:"Black",SummaryFontSize:"10pt",SummaryFontStyle:"Default",SummaryFontWeight:"Default",SummaryTextDecoration:"Default",SummaryTextAlign:"Left",SummaryPaddingLeft:"4pt",SummaryPaddingTop:"2pt",SummaryPaddingRight:"2pt",SummaryPaddingBottom:"2pt",Visibility:!0,Width:"1.0598in",Height:"0.265in",enableSummaryRow:!0,SummaryRows:[],Format:"",FormatType:"",ActionInfo:""}},n.prototype.getSummaryTableRows=function(){var t=[],i,r,n;if(this.gridJson.TablixRowHierarchy.TablixMembers.length>1){for(i=this.getSummaryColumnCells([],this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[2]:this.gridJson.TablixRowHierarchy.TablixMembers[1],0,this.selectedRowIndex,!0),n=0;n<i.length;n++)t.push({Column:"Column"+(n+1).toString(),Expression:i[n].Paragraphs[0].TextRuns[0].Value});for(r=this.getSummaryDataRowCells(this.dataGroupInfo.Rows.length),n=0;n<r.length;n++)t.push({Column:"Column"+(n+1+this.dataGroupInfo.Rows.length).toString(),Expression:r[n].Paragraphs[0].TextRuns[0].Value})}return t},n.prototype.getSummaryRows=function(){var t=[],i,r,n;if(this.gridJson.TablixRowHierarchy.TablixMembers.length>0){for(i=this.getSummaryColumnCells([],this.getSummaryMember(this.isEmptyColumn?this.gridJson.TablixRowHierarchy.TablixMembers[1]:this.gridJson.TablixRowHierarchy.TablixMembers[0],this.selectedRowIndex),0,this.selectedRowIndex,!0),n=0;n<i.length;n++)t.push({Column:"Column"+(n+this.selectedRowIndex+2).toString(),Expression:i[n].Paragraphs[0].TextRuns[0].Value});for(r=this.getSummaryDataRowCells(this.dataGroupInfo.Rows.length-(this.selectedRowIndex+1)),n=0;n<r.length;n++)t.push({Column:"Column"+(n+1+this.dataGroupInfo.Rows.length+1).toString(),Expression:r[n].Paragraphs[0].TextRuns[0].Value})}return t},n.prototype.getSummaryTableColumns=function(){var t=[],i,r,n;if(this.gridJson.TablixColumnHierarchy.TablixMembers.length>0){for(i=this.getSummaryColumnCells([],this.gridJson.TablixColumnHierarchy.TablixMembers[1],0,this.selectedColumnIndex,!1),n=0;n<i.length;n++)t.push({Column:"Row"+(n+1).toString(),Expression:i[n].Paragraphs[0].TextRuns[0].Value});for(r=this.getSummaryDataCells(this.dataGroupInfo.Columns.length),n=0;n<r.length;n++)t.push({Column:"Row"+(n+1+this.dataGroupInfo.Columns.length+1).toString(),Expression:r[n].Paragraphs[0].TextRuns[0].Value})}return t},n.prototype.getSummaryMember=function(n,t){return t===0?n.TablixMembers[1]:this.getSummaryMember(n.TablixMembers[0],t-1)},n.prototype.getSummaryColumns=function(){var t=[],i,r,n;if(this.gridJson.TablixColumnHierarchy.TablixMembers.length>0){for(i=this.getSummaryColumnCells([],this.getSummaryMember(this.gridJson.TablixColumnHierarchy.TablixMembers[0],this.selectedColumnIndex),0,this.selectedColumnIndex,!1),n=0;n<i.length;n++)t.push({Column:"Row"+(n+this.selectedColumnIndex+2).toString(),Expression:i[n].Paragraphs[0].TextRuns[0].Value});for(r=this.getSummaryDataCells(this.dataGroupInfo.Columns.length-(this.selectedColumnIndex+1)),n=0;n<r.length;n++)t.push({Column:"Row"+(n+1+this.dataGroupInfo.Columns.length+1).toString(),Expression:r[n].Paragraphs[0].TextRuns[0].Value})}return t},n.prototype.validateField=function(n){for(var r,u,f,e=this.gridJson.DataSetName,i=ejDashboardDesigner.getInstance("DataSet").datasets,t=0;t<i.length;t++)if(i[t].Name===e){for(r=0;r<i[t].Fields.length;r++)for(u=0;u<this.dataGroupInfo.Columns.length;u++)if(f=ej.DashboardUtil.getDatasetTypeIcon(i[t].Fields[r].TypeName),f==="e-reportdesigner-dataset-number"&&i[t].Fields[r].Name===n)return!0;break}},n.prototype.getValidColumnSpans=function(n){for(var t=[],i=0,r=n;r<this.dataGroupInfo.Columns.length;r++)t.push(i+1),i++;return t},n.prototype.getSelectedRowTextFormat=function(){var n;return this.selectedRowIndex<this.rows.length&&(n={format:this.rows[this.selectedRowIndex].Format,formatType:this.rows[this.selectedRowIndex].FormatType}),n},n.prototype.getSelectedRowTextActionInfo=function(){var n;return this.selectedColumnIndex<this.rows.length&&(n=this.rows[this.selectedColumnIndex].ActionInfo),n},n.prototype.getSelectedColumnTextFormat=function(){var n;return this.selectedColumnIndex<this.columns.length&&(n={format:this.columns[this.selectedColumnIndex].Format,formatType:this.columns[this.selectedColumnIndex].FormatType}),n},n.prototype.getSelectedColumnTextActionInfo=function(){var n;return this.selectedColumnIndex<this.columns.length&&(n=this.columns[this.selectedColumnIndex].ActionInfo),n},n.prototype.getPropertyGridItems=function(){return{Header:this.gridJson.Name,Type:"PivotGrid",Items:[{CategoryName:"Basic Settings",Items:[{name:"HorizontalGridLine",displayName:"Horizontal Grid Line",value:this.horizontalGridLine,itemType:"bool",enableExpression:!1},{name:"VerticalGridLine",displayName:"Vertical Grid Line",value:this.verticalGridLine,itemType:"bool",enableExpression:!1},{name:"Filter",displayName:"Filters",itemType:"filters",isVisible:this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0},{name:"Sort",displayName:"Sorts",itemType:"sorts",isVisible:this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0}]},{CategoryName:"Summary Settings",IsVisible:this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Rows.length>0,Items:[{name:"TableSummaryColumn",displayName:"Enable Summary Column",value:this.enableTableSummaryColumn,enableExpression:!1,isVisible:this.dataGroupInfo.Columns.length,itemType:"bool"},{name:"TableSummaryColumnBackgroundColor",displayName:"Summary Column Style",value:this.tableSummaryColumnBackColor,isVisible:this.enableTableSummaryColumn,itemType:"color",childItems:[{name:"TableSummaryColumnFont",displayName:"Font",itemType:"font",isVisible:this.enableTableSummaryColumn,enableExpression:!1,items:[{name:"TableSummaryColumnFontFamily",displayName:"None",value:this.tableSummaryColumnFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"TableSummaryColumnFontColor",displayName:"None",value:this.tableSummaryColumnFontColor,itemType:"color"},{name:"TableSummaryColumnFontSize",displayName:"None",value:this.tableSummaryColumnFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"TableSummaryColumnFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.enableTableSummaryColumn,enableExpression:!1,items:[{name:"TableSummaryColumnFontStyle",displayName:"None",value:this.tableSummaryColumnFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"TableSummaryColumnFontWeight",displayName:"None",value:this.tableSummaryColumnFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"TableSummaryColumnTextDecoration",displayName:"Text Decoration",value:this.tableSummaryColumnTextDecoration,isVisible:this.enableTableSummaryColumn,enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"TableSummaryColumnTextAlign",displayName:"Text Alignment",value:this.tableSummaryColumnTextAlign,isVisible:this.enableTableSummaryColumn,enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"TableSummaryColumnPadding",displayName:"Padding",itemType:"padding",isVisible:this.enableTableSummaryColumn,enableExpression:!1,items:[{name:"TableSummaryColumnPaddingLeft",displayName:"Left",value:this.tableSummaryColumnPaddingLeft,unitType:"pt",itemType:"float"},{name:"TableSummaryColumnPaddingRight",displayName:"Right",value:this.tableSummaryColumnPaddingRight,unitType:"pt",itemType:"float"},{name:"TableSummaryColumnPaddingTop",displayName:"Top",value:this.tableSummaryColumnPaddingTop,unitType:"pt",itemType:"float"},{name:"TableSummaryColumnPaddingBottom",displayName:"Bottom",value:this.tableSummaryColumnPaddingBottom,unitType:"pt",itemType:"float"}]}]},{name:"TableSummaryColumnBorder",displayName:"Summary Column Border",isVisible:this.enableTableSummaryColumn,itemType:"border",items:[{name:"TableSummaryColumnBorderStyle",displayName:"None",value:this.tableSummaryColumnBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"TableSummaryColumnBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.tableSummaryColumnBorderColor),itemType:"color"},{name:"TableSummaryColumnBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.tableSummaryColumnBorderWidth),unitType:"pt",itemType:"float"}]},{name:"TableSummaryValue",displayName:"Choose Summary",value:this.summaryValueName,itemType:"dropdown",valueList:this.getSummaryValue(),isVisible:this.enableTableSummaryColumn,enableExpression:!1},{name:"TableSummaryColumns",displayName:"Summary Columns",enableExpression:!1,value:"",isVisible:this.enableTableSummaryColumn,itemType:"summarygrid"},{name:"TableSummaryRow",displayName:"Enable Summary Row",value:this.enableTableSummaryRow,enableExpression:!1,isVisible:this.dataGroupInfo.Rows.length,itemType:"bool"},{name:"TableSummaryRowBackgroundColor",displayName:"Summary Row Style",value:this.tableSummaryRowBackColor,isVisible:this.enableTableSummaryRow,itemType:"color",childItems:[{name:"TableSummaryRowFont",displayName:"Font",itemType:"font",isVisible:this.enableTableSummaryRow,enableExpression:!1,items:[{name:"TableSummaryRowFontFamily",displayName:"None",value:this.tableSummaryRowFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"TableSummaryRowFontColor",displayName:"None",value:this.tableSummaryRowFontColor,itemType:"color"},{name:"TableSummaryRowFontSize",displayName:"None",value:this.tableSummaryRowFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"TableSummaryRowFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.enableTableSummaryRow,enableExpression:!1,items:[{name:"TableSummaryRowFontStyle",displayName:"None",value:this.tableSummaryRowFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"TableSummaryRowFontWeight",displayName:"None",value:this.tableSummaryRowFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"TableSummaryRowTextDecoration",displayName:"Text Decoration",value:this.tableSummaryRowTextDecoration,isVisible:this.enableTableSummaryRow,enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"TableSummaryRowTextAlign",displayName:"Text Alignment",value:this.tableSummaryRowTextAlign,isVisible:this.enableTableSummaryRow,enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"TableSummaryRowPadding",displayName:"Padding",itemType:"padding",isVisible:this.enableTableSummaryRow,enableExpression:!1,items:[{name:"TableSummaryRowPaddingLeft",displayName:"Left",value:this.tableSummaryRowPaddingLeft,unitType:"pt",itemType:"float"},{name:"TableSummaryRowPaddingRight",displayName:"Right",value:this.tableSummaryRowPaddingRight,unitType:"pt",itemType:"float"},{name:"TableSummaryRowPaddingTop",displayName:"Top",value:this.tableSummaryRowPaddingTop,unitType:"pt",itemType:"float"},{name:"TableSummaryRowPaddingBottom",displayName:"Bottom",value:this.tableSummaryRowPaddingBottom,unitType:"pt",itemType:"float"}]}]},{name:"TableSummaryRowBorder",displayName:"Summary Row Border",isVisible:this.enableTableSummaryRow,itemType:"border",items:[{name:"TableSummaryRowBorderStyle",displayName:"None",value:this.tableSummaryRowBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"TableSummaryRowBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.tableSummaryRowBorderColor),itemType:"color"},{name:"TableSummaryRowBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.tableSummaryRowBorderWidth),unitType:"pt",itemType:"float"}]},{name:"TableSummaryRows",displayName:"Summary Rows",enableExpression:!1,value:"",isVisible:this.enableTableSummaryRow,itemType:"summarygrid"}]},{CategoryName:"Column Group Settings",IsVisible:this.dataGroupInfo.Columns.length>0,Items:[{name:"Column",displayName:"Choose Column Group",value:this.columnName,itemType:"dropdown",valueList:this.getColumns(),enableExpression:!1},{name:"ColumnSelectedFormat",displayName:"Format",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",value:this.getSelectedColumnTextFormat(),itemType:"formattext",enableExpression:!1},{name:"ColumnLink",displayName:"Link",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"link",category:"ColumnAction"},{name:"ColumnHeaderBackgroundColor",displayName:"Cell Style",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderBackColor"):this.createColumn().HeaderBackColor),isVisible:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"color",childItems:[{name:"ColumnHeaderFont",displayName:"Font",itemType:"font",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnHeaderFontFamily",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderFontFamily"):this.createColumn().HeaderFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"ColumnHeaderFontColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderFontColor"):this.createColumn().HeaderFontColor),itemType:"color"},{name:"ColumnHeaderFontSize",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderFontSize"):this.createColumn().HeaderFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"ColumnHeaderFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnHeaderFontStyle",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderFontStyle"):this.createColumn().HeaderFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"ColumnHeaderFontWeight",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderFontWeight"):this.createColumn().HeaderFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"ColumnHeaderTextDecoration",displayName:"Text Decoration",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderTextDecoration"):this.createColumn().HeaderTextDecoration,isVisible:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"ColumnHeaderTextAlign",displayName:"Text Alignment",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderTextAlign"):this.createColumn().HeaderTextAlign,isVisible:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"ColumnHeaderPadding",displayName:"Padding",itemType:"padding",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnHeaderPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderPaddingLeft"):this.createColumn().HeaderPaddingLeft),unitType:"pt",itemType:"float"},{name:"ColumnHeaderPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderPaddingRight"):this.createColumn().HeaderPaddingRight),unitType:"pt",itemType:"float"},{name:"ColumnHeaderPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderPaddingTop"):this.createColumn().HeaderPaddingTop),unitType:"pt",itemType:"float"},{name:"ColumnHeaderPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderPaddingBottom"):this.createColumn().HeaderPaddingBottom),unitType:"pt",itemType:"float"}]}]},{name:"ColumnHeaderBorder",displayName:"Cell Border",isVisible:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"border",items:[{name:"ColumnHeaderBorderStyle",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderBorderStyle"):this.createColumn().HeaderBorderStyle),itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"ColumnHeaderBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderBorderColor"):this.createColumn().HeaderBorderColor),itemType:"color"},{name:"ColumnHeaderBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"HeaderBorderWidth"):this.createColumn().HeaderBorderWidth),unitType:"pt",itemType:"float"}]},{name:"SummaryColumn",displayName:"Enable Summary Column",value:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?this.enableSummaryColumn:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryColumn"):this.enableSummaryColumn,isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,itemType:"bool"},{name:"SummaryValue",displayName:"Choose Summary",value:this.summaryColumnValueName,itemType:"dropdown",valueList:this.getColumnSummaryValue(),isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1},{name:"SummaryColumns",displayName:"Summary Columns",enableExpression:!1,value:"",isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"summarygrid"},{name:"ColumnGroupSummaryBackgroundColor",displayName:"Summary Style",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryBackColor"):this.createColumn().SummaryBackColor),isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"color",childItems:[{name:"ColumnGroupSummaryFont",displayName:"Font",itemType:"font",isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnGroupSummaryFontFamily",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryFontFamily"):this.createColumn().SummaryFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"ColumnGroupSummaryFontColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryFontColor"):this.createColumn().SummaryFontColor),itemType:"color"},{name:"ColumnGroupSummaryFontSize",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryFontSize"):this.createColumn().SummaryFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"ColumnGroupSummaryFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnGroupSummaryFontStyle",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryFontStyle"):this.createColumn().SummaryFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"ColumnGroupSummaryFontWeight",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryFontWeight"):this.createColumn().SummaryFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"ColumnGroupSummaryTextDecoration",displayName:"Text Decoration",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryTextDecoration"):this.createColumn().SummaryTextDecoration,isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"ColumnGroupSummaryTextAlign",displayName:"Text Alignment",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryTextAlign"):this.createColumn().SummaryTextAlign,isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"ColumnGroupSummaryPadding",displayName:"Padding",itemType:"padding",isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",enableExpression:!1,items:[{name:"ColumnGroupSummaryPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryPaddingLeft"):this.createColumn().SummaryPaddingLeft),unitType:"pt",itemType:"float"},{name:"ColumnGroupSummaryPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryPaddingRight"):this.createColumn().SummaryPaddingRight),unitType:"pt",itemType:"float"},{name:"ColumnGroupSummaryPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryPaddingTop"):this.createColumn().SummaryPaddingTop),unitType:"pt",itemType:"float"},{name:"ColumnGroupSummaryPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryPaddingBottom"):this.createColumn().SummaryPaddingBottom),unitType:"pt",itemType:"float"}]}]},{name:"ColumnGroupSummaryBorder",displayName:"Summary Border",isVisible:this.selectedColumnIndex===this.dataGroupInfo.Columns.length-1?!1:this.isColumnSettingsEnabled||this.columnName!=="",itemType:"border",items:[{name:"ColumnGroupSummaryBorderStyle",displayName:"None",value:this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryBorderStyle"):this.createColumn().SummaryBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"ColumnGroupSummaryBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryBorderColor"):this.createColumn().SummaryBorderColor),itemType:"color"},{name:"ColumnGroupSummaryBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.selectedColumnIndex<this.columns.length?this.getColumnSettings(this.columns[this.selectedColumnIndex].Name,"SummaryBorderWidth"):this.createColumn().SummaryBorderWidth),unitType:"pt",itemType:"float"}]}]},{CategoryName:"Row Group Settings",IsVisible:this.dataGroupInfo.Rows.length>0,Items:[{name:"RowName",displayName:"Choose Row Group",value:this.rowName,itemType:"dropdown",enableExpression:!1,valueList:this.getRows()},{name:"RowSelectedFormat",displayName:"Format",isVisible:this.isRowSettingsEnabled||this.rowName!=="",value:this.getSelectedRowTextFormat(),itemType:"formattext",enableExpression:!1},{name:"RowLink",displayName:"Link",isVisible:this.isRowSettingsEnabled||this.rowName!=="",itemType:"link",category:"RowAction"},{name:"RowHeaderBackgroundColor",displayName:"Cell Style",value:ej.DashboardUtil.getColorCode(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderBackColor"):this.createRow().HeaderBackColor),isVisible:this.isRowSettingsEnabled||this.rowName!=="",itemType:"color",childItems:[{name:"RowHeaderFont",displayName:"Font",itemType:"font",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"RowHeaderFontFamily",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderFontFamily"):this.createRow().HeaderFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"RowHeaderFontColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderFontColor"):this.createRow().HeaderFontColor),itemType:"color"},{name:"RowHeaderFontSize",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderFontSize"):this.createRow().HeaderFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"RowHeaderFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"RowHeaderFontStyle",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderFontStyle"):this.createRow().HeaderFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"RowHeaderFontWeight",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderFontWeight"):this.createRow().HeaderFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"RowHeaderTextDecoration",displayName:"Text Decoration",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderTextDecoration"):this.createRow().HeaderTextDecoration,isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"RowHeaderTextAlign",displayName:"Text Alignment",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderTextAlign"):this.createRow().HeaderTextAlign,isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"RowHeaderPadding",displayName:"Padding",itemType:"padding",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"RowHeaderPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderPaddingLeft"):this.createRow().HeaderPaddingLeft),unitType:"pt",itemType:"float"},{name:"RowHeaderPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderPaddingRight"):this.createRow().HeaderPaddingRight),unitType:"pt",itemType:"float"},{name:"RowHeaderPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderPaddingTop"):this.createRow().HeaderPaddingTop),unitType:"pt",itemType:"float"},{name:"RowHeaderPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderPaddingBottom"):this.createRow().HeaderPaddingBottom),unitType:"pt",itemType:"float"}]}]},{name:"RowHeaderBorder",displayName:"Cell Border",isVisible:this.isRowSettingsEnabled||this.rowName!=="",itemType:"border",items:[{name:"RowHeaderBorderStyle",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderBorderStyle"):this.createRow().HeaderBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"RowHeaderBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderBorderColor"):this.createRow().HeaderBorderColor),itemType:"color"},{name:"RowHeaderBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"HeaderBorderWidth"):this.createRow().HeaderBorderWidth),unitType:"pt",itemType:"float"}]},{name:"SummaryRow",displayName:"Enable Summary Row",value:this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?this.enableSummaryRow:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryRow"):this.enableSummaryRow,isVisible:this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?!1:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,itemType:"bool"},{name:"SummaryRows",displayName:"Summary Rows",enableExpression:!1,value:"",isVisible:this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?!1:this.isRowSettingsEnabled||this.rowName!=="",itemType:"summarygrid"},{name:"RowSummaryBackgroundColor",displayName:"Summary Style",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryBackColor"):this.createRow().SummaryBackColor,isVisible:this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?!1:this.isRowSettingsEnabled||this.rowName!=="",itemType:"color",childItems:[{name:"RowSummaryFont",displayName:"Font",itemType:"font",enableExpression:!1,items:[{name:"RowSummaryFontFamily",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryFontFamily"):this.createRow().SummaryFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"RowSummaryFontColor",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryFontColor"):this.createRow().SummaryFontColor,itemType:"color"},{name:"RowSummaryFontSize",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryFontSize"):this.createRow().SummaryFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"RowSummaryFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",enableExpression:!1,items:[{name:"RowSummaryFontStyle",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryFontStyle"):this.createRow().SummaryFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"RowSummaryFontWeight",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryFontWeight"):this.createRow().SummaryFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"RowSummaryTextDecoration",displayName:"Text Decoration",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryTextDecoration"):this.createRow().SummaryTextDecoration,enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"RowSummaryTextAlign",displayName:"Text Align",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryTextAlign"):this.createRow().SummaryTextAlign,enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"RowSummaryPadding",displayName:"Padding",itemType:"padding",enableExpression:!1,items:[{name:"RowSummaryPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryPaddingLeft"):this.createRow().SummaryPaddingLeft),unitType:"pt",itemType:"float"},{name:"RowSummaryPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryPaddingRight"):this.createRow().SummaryPaddingRight),unitType:"pt",itemType:"float"},{name:"RowSummaryPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryPaddingTop"):this.createRow().SummaryPaddingTop),unitType:"pt",itemType:"float"},{name:"RowSummaryPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryPaddingBottom"):this.createRow().SummaryPaddingBottom),unitType:"pt",itemType:"float"}]}]},{name:"RowSummaryBorder",displayName:"Summary Border",isVisible:this.selectedRowIndex===this.dataGroupInfo.Rows.length-1?!1:this.isRowSettingsEnabled||this.rowName!=="",itemType:"border",items:[{name:"RowSummaryBorderStyle",displayName:"None",value:this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryBorderStyle"):this.createRow().SummaryBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"RowSummaryBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryBorderColor"):this.createRow().SummaryBorderColor),itemType:"color"},{name:"RowSummaryBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.selectedRowIndex<this.rows.length?this.getRowSettings(this.rows[this.selectedRowIndex].Name,"SummaryBorderWidth"):this.createRow().SummaryBorderWidth),unitType:"pt",itemType:"float"}]}]},{CategoryName:"Column Settings",IsVisible:this.dataGroupInfo.Values.length>0,Items:[{name:"Columns",displayName:"Choose Column",value:this.columnsName,itemType:"dropdown",valueList:this.getDataColumns(),enableExpression:!1},{name:"ColumnTitle",displayName:"Header",value:this.getColumnHeader(),isVisible:this.columnsName!=="",itemType:"label"},{name:"ColumnWidth",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.columnWidth),enableExpression:!1,unitType:"in",isVisible:this.columnsName!=="",itemType:"float",minimum:this.minimumWidth,maximum:1e3}]},{CategoryName:"Row Settings",IsVisible:this.dataGroupInfo.Columns.length>0||this.dataGroupInfo.Values.length,Items:[{name:"Rows",displayName:"Choose Row",value:this.rowsName,itemType:"dropdown",valueList:this.getDataRows(),enableExpression:!1},{name:"RowHeight",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.rowHeight),enableExpression:!1,unitType:"in",isVisible:this.rowsName!=="",itemType:"float",minimum:this.minimumHeight,maximum:500}]},{CategoryName:"Appearance",Items:[{name:"HeaderVisibility",displayName:"Show Header",value:this.showHeader,enableExpression:!1,isVisible:!this.isEmptyColumn,itemType:"bool"},{name:"HeaderBackgroundColor",displayName:"Header Style",value:this.headerBackColor,itemType:"color",childItems:[{name:"HeaderFont",displayName:"Font",itemType:"font",enableExpression:!1,items:[{name:"HeaderFontFamily",displayName:"None",value:this.headerFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"HeaderFontColor",displayName:"None",value:this.headerFontColor,itemType:"color"},{name:"HeaderFontSize",displayName:"None",value:this.headerFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"HeaderFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",enableExpression:!1,items:[{name:"HeaderFontStyle",displayName:"None",value:this.headerFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"HeaderFontWeight",displayName:"None",value:this.headerFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"HeaderTextDecoration",displayName:"Text Decoration",value:this.headerTextDecoration,itemType:"dropdown",enableExpression:!1,valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"HeaderTextAlign",displayName:"Text Align",value:this.headerTextAlign,itemType:"dropdown",enableExpression:!1,valueList:["Default","Left","Center","Right"]},{name:"HeaderPadding",displayName:"Padding",itemType:"padding",enableExpression:!1,items:[{name:"HeaderPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.headerPaddingLeft),unitType:"pt",itemType:"float"},{name:"HeaderPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.headerPaddingRight),unitType:"pt",itemType:"float"},{name:"HeaderPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.headerPaddingTop),unitType:"pt",itemType:"float"},{name:"HeaderPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.headerPaddingBottom),unitType:"pt",itemType:"float"}]}]},{name:"Border",displayName:"Border",itemType:"border",items:[{name:"BorderStyleDefault",displayName:"None",value:this.gridJson.Style.Border?this.gridJson.Style.Border.Style:"Solid",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorDefault",displayName:"None",value:this.gridJson.Style.Border&&this.gridJson.Style.Border.Color?this.gridJson.Style.Border.Color:"Transparent",itemType:"color"},{name:"BorderWidthDefault",displayName:"None",value:this.gridJson.Style.Border&&this.gridJson.Style.Border.Width?ej.DashboardUtil.getSizeVal(this.gridJson.Style.Border.Width.size):1,unitType:"pt",itemType:"float"}],childItems:[{name:"LeftBorder",displayName:"Left",itemType:"border",items:[{name:"BorderStyleLeft",displayName:"None",value:this.gridJson.Style.LeftBorder?this.gridJson.Style.LeftBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorLeft",displayName:"None",value:this.gridJson.Style.LeftBorder&&this.gridJson.Style.LeftBorder.Color?this.gridJson.Style.LeftBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthLeft",displayName:"None",value:this.gridJson.Style.LeftBorder&&this.gridJson.Style.LeftBorder.Width?ej.DashboardUtil.getSizeVal(this.gridJson.Style.LeftBorder.Width.size):0,unitType:"pt",itemType:"float"}]},{name:"RightBorder",displayName:"Right",itemType:"border",items:[{name:"BorderStyleRight",displayName:"Right",value:this.gridJson.Style.RightBorder?this.gridJson.Style.RightBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorRight",displayName:"Right",value:this.gridJson.Style.RightBorder&&this.gridJson.Style.RightBorder.Color?this.gridJson.Style.RightBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthRight",displayName:"Right",value:this.gridJson.Style.RightBorder&&this.gridJson.Style.RightBorder.Width?ej.DashboardUtil.getSizeVal(this.gridJson.Style.RightBorder.Width.size):0,unitType:"pt",itemType:"float"}]},{name:"TopBorder",displayName:"Top",itemType:"border",items:[{name:"BorderStyleTop",displayName:"Top",value:this.gridJson.Style.TopBorder?this.gridJson.Style.TopBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorTop",displayName:"Top",value:this.gridJson.Style.TopBorder&&this.gridJson.Style.TopBorder.Color?this.gridJson.Style.TopBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthTop",displayName:"Top",value:this.gridJson.Style.TopBorder&&this.gridJson.Style.TopBorder.Width?ej.DashboardUtil.getSizeVal(this.gridJson.Style.TopBorder.Width.size):0,unitType:"pt",itemType:"float"}]},{name:"BottomBorder",displayName:"Bottom",itemType:"border",items:[{name:"BorderStyleBottom",displayName:"Bottom",value:this.gridJson.Style.BottomBorder?this.gridJson.Style.BottomBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorBottom",displayName:"Bottom",value:this.gridJson.Style.BottomBorder&&this.gridJson.Style.BottomBorder.Color?this.gridJson.Style.BottomBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthBottom",displayName:"Bottom",value:this.gridJson.Style.BottomBorder&&this.gridJson.Style.BottomBorder.Width?ej.DashboardUtil.getSizeVal(this.gridJson.Style.BottomBorder.Width.size):0,unitType:"pt",itemType:"float"}]}]},{name:"CellBorder",displayName:"Cell Border",itemType:"border",items:[{name:"CellBorderStyle",displayName:"None",value:this.contentBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"CellBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.contentBorderColor),itemType:"color"},{name:"CellBorderWidth",displayName:"None",value:ej.DashboardUtil.getSizeVal(this.contentBorderWidth),unitType:"pt",itemType:"float"}]},{name:"BackgroundColor",displayName:"Cell Style",value:ej.DashboardUtil.getColorCode(this.contentBackColor),itemType:"color",childItems:[{name:"ContentFont",displayName:"Font",itemType:"font",enableExpression:!1,items:[{name:"ContentFontFamily",displayName:"None",value:this.contentFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"ContentFontColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.contentFontColor),itemType:"color"},{name:"ContentFontSize",displayName:"None",value:this.contentFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"ContentFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",enableExpression:!1,items:[{name:"ContentFontStyle",displayName:"None",value:this.contentFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"ContentFontWeight",displayName:"None",value:this.contentFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"ContentTextDecoration",displayName:"Text Decoration",value:this.contentTextDecoration,enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"ContentTextAlign",displayName:"Text Alignment",value:this.contentTextAlign,enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"ContentPadding",displayName:"Padding",itemType:"padding",enableExpression:!1,items:[{name:"ContentPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.contentPaddingLeft),unitType:"pt",itemType:"float"},{name:"ContentPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.contentPaddingRight),unitType:"pt",itemType:"float"},{name:"ContentPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.contentPaddingTop),unitType:"pt",itemType:"float"},{name:"ContentPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.contentPaddingBottom),unitType:"pt",itemType:"float"}]}]}]},{CategoryName:"Corner Cell Settings",IsVisible:this.dataGroupInfo.Rows.length>0,Items:[{name:"CornerBackgroundColor",displayName:"Cell Style",value:ej.DashboardUtil.getColorCode(this.cornerCellBackColor),isVisible:this.isRowSettingsEnabled||this.rowName!=="",itemType:"color",childItems:[{name:"CornerFont",displayName:"Font",itemType:"font",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"CornerFontFamily",displayName:"None",value:this.cornerCellFontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"CornerFontColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.cornerCellFontColor),itemType:"color"},{name:"CornerFontSize",displayName:"None",value:this.cornerCellFontSize,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"CornerFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"CornerFontStyle",displayName:"None",value:this.cornerCellFontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"CornerFontWeight",displayName:"None",value:this.cornerCellFontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"CornerTextDecoration",displayName:"Text Decoration",value:this.cornerCellTextDecoration,isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"CornerTextAlign",displayName:"Text Alignment",value:this.cornerCellTextAlign,isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"CornerPadding",displayName:"Padding",itemType:"padding",isVisible:this.isRowSettingsEnabled||this.rowName!=="",enableExpression:!1,items:[{name:"CornerPaddingLeft",displayName:"Left",value:this.cornerCellPaddingLeft,unitType:"pt",itemType:"float"},{name:"CornerPaddingRight",displayName:"Right",value:this.cornerCellPaddingRight,unitType:"pt",itemType:"float"},{name:"CornerPaddingTop",displayName:"Top",value:this.cornerCellPaddingTop,unitType:"pt",itemType:"float"},{name:"CornerPaddingBottom",displayName:"Bottom",value:this.cornerCellPaddingBottom,unitType:"pt",itemType:"float"}]}]},{name:"CornerBorder",displayName:"Cell Border",itemType:"border",items:[{name:"CornerBorderStyle",displayName:"None",value:this.cornerCellBorderStyle,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"CornerBorderColor",displayName:"None",value:ej.DashboardUtil.getColorCode(this.cornerCellBorderColor),itemType:"color"},{name:"CornerBorderWidth",displayName:"None",value:this.cornerCellBorderWidth,unitType:"pt",itemType:"float"}]},{name:"CornerLabel",displayName:"Cell Label",isVisible:this.isRowSettingsEnabled||this.rowName!=="",value:this.cornerLabel,itemType:"label"},]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",itemType:"position",enableExpression:!1,items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.gridJson.Left.size),unitType:"in",itemType:"float",maximum:3e3},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.gridJson.Top.size),unitType:"in",itemType:"float",maximum:3e3}]},{name:"Size",displayName:"Size",itemType:"size",enableExpression:!1,items:[{name:"Width",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.gridJson.Width.size),unitType:"in",itemType:"float",minimum:150,maximum:1e4},{name:"Height",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.gridJson.Height.size),unitType:"in",itemType:"float",minimum:60,maximum:1e4}]}]},{CategoryName:"Page Break",Items:[{name:"Disabled",displayName:"Enable Page Break",value:this.gridJson.PageBreak?this.gridJson.PageBreak.Disabled:!1,itemType:"bool"},{name:"BreakLocation",displayName:"Break Location",value:this.gridJson.PageBreak?this.gridJson.PageBreak.BreakLocation:null,isVisible:this.gridJson.PageBreak?this.gridJson.PageBreak.Disabled:!1,itemType:"dropdown",valueList:["None","Start","End","StartAndEnd","Between"]},{name:"ResetPageNumber",displayName:"Page Number Reset",value:this.gridJson.PageBreak?this.gridJson.PageBreak.ResetPageNumber:!1,isVisible:this.gridJson.PageBreak?this.gridJson.PageBreak.Disabled:!1,itemType:"bool"}]},{CategoryName:"Miscellaneous",Items:[{name:"NoRowsMessage",displayName:"No Rows Message",value:this.gridJson.NoRowsMessage,childItems:[{name:"NoRowFont",displayName:"Font",itemType:"font",items:[{name:"NoRowFontFamily",displayName:"None",value:this.gridJson.Style.FontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"NoRowFontColor",displayName:"None",value:this.gridJson.Style.Color,itemType:"color"},{name:"NoRowFontSize",displayName:"None",value:this.gridJson.Style.FontSize.size,itemType:"dropdown",valueList:["4pt","6pt","8pt","10pt","12pt","14pt","16pt","18pt","20pt","22pt","24pt","26pt","28pt","30pt","32pt","34pt","36pt","38pt","40pt","42pt","44pt","46pt","48pt","50pt","52pt","54pt","56pt","58pt","60pt","62pt","64pt","66pt","68pt","70pt","72pt"]}]},{name:"NoRowFontStyleRoot",displayName:"Font Style",itemType:"fontStyle",items:[{name:"NoRowFontStyle",displayName:"None",value:this.gridJson.Style.FontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"NoRowFontWeight",displayName:"None",value:this.gridJson.Style.FontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"NoRowTextDecoration",displayName:"Text Decoration",value:this.gridJson.Style.TextDecoration,itemType:"dropdown",valueList:["Default","None","Underline","LineThrough","Overline"]},{name:"NoRowTextAlign",displayName:"Text Alignment",value:this.gridJson.Style.TextAlign,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"NoRowVerticalAlign",displayName:"Vertical Alignment",value:this.gridJson.Style.VerticalAlign,itemType:"dropdown",valueList:["Default","Top","Middle","Bottom"]},{name:"NoRowPadding",displayName:"Padding",itemType:"padding",items:[{name:"NoRowPaddingLeft",displayName:"Left",value:ej.DashboardUtil.getSizeVal(this.gridJson.Style.PaddingLeft.size),unitType:"pt",itemType:"float"},{name:"NoRowPaddingRight",displayName:"Right",value:ej.DashboardUtil.getSizeVal(this.gridJson.Style.PaddingRight.size),unitType:"pt",itemType:"float"},{name:"NoRowPaddingTop",displayName:"Top",value:ej.DashboardUtil.getSizeVal(this.gridJson.Style.PaddingTop.size),unitType:"pt",itemType:"float"},{name:"NoRowPaddingBottom",displayName:"Bottom",value:ej.DashboardUtil.getSizeVal(this.gridJson.Style.PaddingBottom.size),unitType:"pt",itemType:"float"}]}]},{name:"KeepTogether",displayName:"Keep Together",enableExpression:!1,value:this.gridJson.KeepTogether,itemType:"bool"},{name:"RepeatColumnHeaders",displayName:"Repeat Column Headers",enableExpression:!1,value:this.gridJson.RepeatColumnHeaders,itemType:"bool"}]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.gridJson.Visibility&&this.gridJson.Visibility.Hidden?ej.DashboardUtil.isExpression(this.gridJson.Visibility.Hidden)?!this.gridJson.Visibility.Hidden:this.gridJson.Visibility.Hidden:!0,itemType:"bool",enableExpression:!1}]}]}},n.prototype.getGridJson=function(){return{__type:"Syncfusion.RDL.DOM.Tablix",TablixCorner:{__type:"Syncfusion.RDL.DOM.TablixCorner",TablixCornerRows:this.createTablixCornerRows(0,0)},IsPivotGrid:!0,TablixBody:{__type:"Syncfusion.RDL.DOM.TablixBody",TablixColumns:[this.createTablixColumn(),this.createTablixColumn(),this.createTablixColumn()],TablixRows:[{__type:"Syncfusion.RDL.DOM.TablixRow",Height:{__type:"Syncfusion.RDL.DOM.Size",size:"0.500in"},TablixCells:[this.createTablixCell(1,"",!0),this.createTablixCell(3,"",!0),this.createTablixCell(5,"",!0)]},{__type:"Syncfusion.RDL.DOM.TablixRow",Height:{__type:"Syncfusion.RDL.DOM.Size",size:"0.500in"},TablixCells:[this.createTablixCell(2,"",!1),this.createTablixCell(4,"",!1),this.createTablixCell(6,"",!1)]}]},TablixColumnHierarchy:{__type:"Syncfusion.RDL.DOM.TablixColumnHierarchy",TablixMembers:[this.createTablixMember(),this.createTablixMember(),this.createTablixMember()]},TablixRowHierarchy:{__type:"Syncfusion.RDL.DOM.TablixRowHierarchy",TablixMembers:[this.createTablixMember(),this.createTablixMemberGroup()]},LayoutDirection:0,GroupsBeforeRowHeader:0,RepeatColumnHeaders:!1,RepeatRowHeaders:!1,FixedColumnHeaders:!1,FixedRowHeaders:!1,KeepTogether:!1,NoRowsMessage:null,DataSetName:null,PageBreak:null,Filters:[],SortExpressions:[],PageName:null,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"0.99875in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0.78in"},Name:"Tablix1",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"1.32292in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"4.58333in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Gray",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.gridJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-pivotgrid-item");this.renderGridReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderGridReportElement","e-pivotgrid-item",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.controlContainer.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderGridReportElement","e-pivotgrid-item",this.gridJson.Name,[this.gridJson,n.attr("id")],null);$("#"+this.gridJson.Name).removeData("Grid");$("#"+this.gridJson.Name).remove();this.designPanel.selectedReportItems=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.PivotGridItem",InternalPivotGridReportItem,window);InternalPropertyPanel=function(){function n(){this.id=null;this.canUpdate=!0;this.propertyHeaderText="Properties";this.isPropertyInfoChange=!1;this.endItemIndex=-1;this.currentItemIndex=-1;this.tooltipTimeOut=null;this.ejDropDownObj={};this.ejColorPickObj={};this.ejNumbericObj={};this.ejCheckboxObj={};this.ejMaskEditObj={};this.jQHeaderRows={};this.jQContainerRows={};this.resizeObj={isPropertyPanel:!1,isDataAssign:!1};this.propertyHeaderVal="";this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.id=this.reportDesigner._id;this.propertyContainer=ej.buildTag("div","",{border:"0px solid #c8c8c8",height:"100%"},{id:this.id+"_propertyPanel"});this.propertyPanelContainer=ej.buildTag("div.e-reportdesigner-scroller","",{border:"0px solid #c8c8c8","background-color":"white"},{id:this.id+"_propertyPanelContainer"});this.propertyContainer.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});this.ejWaitingPane=this.propertyContainer.data("ejWaitingPopup");this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"PropertySource",{get:function(){return ej.isNullOrUndefined(this.propertyPanel)&&(this.propertyPanel=new ej.DashboardDesignerUtility.PropertyPanel),this.propertyPanel},enumerable:!0,configurable:!0}),n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.targetTag)},n.prototype.isVisible=function(){return this.propertyContainer&&this.propertyContainer.is(":visible")},n.prototype.renderContainer=function(n){var t,i,u;this.targetTag=n;t=ej.buildTag("div","",{},{id:this.id+"_propertyTab"});i=ej.buildTag("ul.e-designer-property-header","",{background:"white"},{id:this.id+"_propertyTabUl"});i.append("<li><a href=#"+this.id+"_propertyPanelContainer>PROPERTIES<\/a><\/li>");i.append("<li><a href=#"+this.id+"_dataTabRootElement>DATA ASSIGN<\/a><\/li>");var e=ejDashboardDesigner.getInstance("DashboardDesigner").element.offset(),r=ej.buildTag("div","",{width:"120px",display:"none",right:"42px",top:e.top+41.5+"px",position:"absolute"},{id:this.id+"_propertyTabUl_datasetListContainer"}),f=ej.buildTag("input","",{},{id:this.id+"_propertyTabUl_datasetList"});r.append(f);i.append(r);t.append(i);t.append(this.propertyPanelContainer);this.propertyPanelContainer.css("width",$("#"+this.id+"_designerConfigurationPanel").width()+"px");this.scrollElement=ej.buildTag("div","",{});this.propertyPanelContainer.append(this.scrollElement);this.renderTooltip(this.scrollElement);this.propertyPanelContainer.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0,scroll:$.proxy(this.onPanelScroll,this)});this.updateSize();this.propertyContainer.append(t);this.propertyContainer.append(r);f.ejDropDownList({change:$.proxy(this.onDatasetFieldChange,this),selectedIndex:0,width:"120px",height:"24px",dataSource:this.getAvailableFields(),cssClass:"e-designer-ejwidgets-dataConfig e-designer-content-label",fields:{text:"text"}});u=ejDashboardDesigner.getInstance("DataConfiguration");u.isLoaded()||ejDashboardDesigner.getInstance("DataConfiguration").renderContainer(t);u.showDataConfig(!0,this.resizeObj);this.targetTag.append(this.propertyContainer);t.ejTab({itemActive:$.proxy(this.onTabActive,this)});this.ejPanelScroller=this.propertyPanelContainer.data("ejScroller");this.ejPanelTab=t.data("ejTab");this.calWidth=this.propertyPanelContainer.width()},n.prototype.onDatasetFieldChange=function(n){ej.isNullOrUndefined(n.selectedText)||ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"updateDatasetFields",[n.selectedText,!0])},n.prototype.refreshScroller=function(){this.ejPanelScroller&&this.ejPanelScroller.refresh()},n.prototype.resetTargetItems=function(){this.targetItems=null},n.prototype.onTabActive=function(n){if(n.activeHeader.innerText==="DATA ASSIGN")ejDashboardDesigner.getInstance("DataConfigurationPanel").targetTag.data("ejWaitingPopup")&&ejDashboardDesigner.getInstance("DataConfigurationPanel").targetTag.data("ejWaitingPopup").hide(),$("#"+this.id+"_propertyTabUl_datasetListContainer").css("display","inline-block"),ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"showDataConfig",[!0,this.resizeObj]);else{if($("#"+this.id+"_propertyTabUl_datasetListContainer").css("display","none"),this.designPanel.selectedReportItems.length>0){var t=this.designPanel.selectedReportItems[0],i=ej.DashboardUtil.getReportItem(t);(t.hasClass("e-chart-bar")||t.hasClass("e-grid-item")||t.hasClass("e-pivotgrid-item"))&&(i.updatePropertyData(),this.refreshScroller())}this.resizeObj.isPropertyPanel&&(this.updateSize(),this.resizeObj.isPropertyPanel=!1)}},n.prototype.getPropertyTab=function(){return $("#"+this.id+"_propertyTab").data("ejTab")},n.prototype.setPropertyTabIndex=function(n){var t=this.getPropertyTab();t.option("selectedItemIndex",n)},n.prototype.getAvailableFields=function(){var n=ejDashboardDesigner.getInstance("DataSet").datasets,i=[],t;if(!ej.isNullOrUndefined(n)&&n.length>0)for(t=0;t<n.length;t++)i.push({id:n[t].Name,text:n[t].Name});return i},n.prototype.setPropertyHeader=function(n){ej.isNullOrUndefined(this.propertyHeader)?this.renderPropertyHeader(n,n.Type):(this.headerInput.val(n.Header),this.propertyHeaderVal=n.Header);this.dashboardPropertyContainer[0].style.display=n.Type!="Dashboard"?"none":"inline-block";n.Type==="SelectedText"||n.Type==="Header"||n.Type==="Footer"||n.Type==="Body"||n.Type==="PageHeaderFooter"?this.headerInput.attr("disabled","disabled"):this.headerInput.removeAttr("disabled")},n.prototype.getPropertyIndexes=function(n){var t,i;if(n.Type!="Dashboard"){var f=n.Items.length,r={},u=0;for(t=0;t<f;t++)if(n.Items[t].Items&&n.Items[t].Items.length>0)for(i=0;i<n.Items[t].Items.length;i++)r[u]={name:n.Items[t].CategoryName,index:i},u++;return r}},n.prototype.getRowProperty=function(n,t,i){for(var u=n.Items.length,r=0;r<u;r++)if(n.Items[r].Items&&n.Items[r].Items.length>0&&n.Items[r].CategoryName===t)return n.Items[r].Items[i];return null},n.prototype.renderPropertyHeaders=function(n,t){for(var r=n.Items.length,i=0;i<r;i++)this.setPropertyItem(t,n.Items[i],n.Type,i===r-1)},n.prototype.renderRowElement=function(n,t,i){var r=i.split(" ").join("").replace("&",""),u=this.jQContainerRows[this.id+"_tableElement_"+t+"_"+r],f=this.jQHeaderRows[this.id+"_elementContainer_"+t+"_"+r].find(".e-header-row-icon");f.removeClass("e-reportdesigner-plus").addClass("e-reportdesigner-minus");this.populatePropertyItem(null,u,n,r,t,!0)},n.prototype.updateRowValue=function(n,t){var i=n.CategoryName.split(" ").join("").replace("&","");this.updateCategoryVisibility(t,i,ej.isNullOrUndefined(n.IsVisible)?!0:n.IsVisible);this.updatePropertyItem(n.Items,i,t)},n.prototype.showPropertyItem=function(n,t){var r,i;this.propertyContainer.is(":visible")&&(ej.DashboardUtil.isEqualObj(n,this.activeProperty)||(r=t&&t.length>0?t:n.Type,this.setPropertyHeader(n),i=$("#"+this.id+"_"+r.toLowerCase()+"_item_property"),this.propertyIndexes=this.getPropertyIndexes(n),i.length===0?(this.pausePropertyRender(),this.activeElement&&this.activeElement.css("display","none"),i=this.activeElement=ej.buildTag("div","",{width:"100%",display:"block","margin-top":"7px","background-color":"white"},{id:this.id+"_"+r.toLowerCase()+"_item_property"}),this.scrollElement.append(i),n.Type!="Dashboard"&&this.renderPropertyHeaders(n,i),this.currentItemIndex=0,this.activeProperty=n,n.Type!="Dashboard"&&(this.endItemIndex=Object.keys(this.propertyIndexes).length),this.startPropertyRender()):i.length>0&&i.hasClass("e-pro-pause")&&(ej.isNullOrUndefined(this.activeElement)||this.activeElement.attr("id")!==i.attr("id"))?(this.activeElement&&this.activeElement.css("display","none"),i.css("display","block"),this.pausePropertyRender(),this.activeProperty=n,this.activeElement=i,this.resumePropertyRender()):i.length>0&&i.hasClass("e-pro-pause")&&this.activeElement.attr("id")===i.attr("id")?(i.css("display","block"),this.currentItemIndex!==this.endItemIndex&&(i.addClass("e-pro-resume"),this.activeProperty=n)):i.hasClass("e-pro-completed")&&(this.activeElement&&this.activeElement.css("display","none"),i.css("display","block"),this.pausePropertyRender(),this.activeProperty=n,this.activeElement=i,this.updateProperties())))},n.prototype.startPropertyRender=function(){this.groupInterval&&(clearInterval(this.groupInterval),this.groupInterval=null);this.canUpdate=!1;this.groupInterval=setInterval($.proxy(this.tickPropertyRender,this),300);this.showIndicator()},n.prototype.tickPropertyRender=function(){if(this.currentItemIndex<this.endItemIndex){try{var n=this.propertyIndexes[this.currentItemIndex],i=this.getRowProperty(this.activeProperty,n.name,n.index);this.canUpdate=!1;this.renderRowElement(i,this.activeProperty.Type,n.name);this.canUpdate=!0}catch(t){this.designPanel.logError({Source:"Property Panel Loading:",Error:t,Type:t.name})}this.currentItemIndex++}else this.stopPropertyRender(),this.refreshScroller()},n.prototype.resumePropertyRender=function(){this.currentItemIndex=parseInt(this.activeElement.attr("e-current-index"),10);this.endItemIndex=parseInt(this.activeElement.attr("e-end-index"),10);this.activeElement.addClass("e-pro-resume");this.startPropertyRender()},n.prototype.pausePropertyRender=function(){this.activeElement&&this.currentItemIndex<this.endItemIndex&&(clearInterval(this.groupInterval),this.groupInterval=null,this.activeElement.addClass("e-pro-pause").removeClass("e-pro-completed"),this.activeElement.attr("e-current-index",this.currentItemIndex),this.activeElement.attr("e-end-index",this.endItemIndex),this.currentItemIndex=-1,this.endItemIndex=-1,this.canUpdate=!0);this.hideIndicator()},n.prototype.stopPropertyRender=function(){this.activeElement&&(clearInterval(this.groupInterval),this.groupInterval=null,this.currentItemIndex=-1,this.endItemIndex=-1,this.canUpdate=!0,this.activeElement.addClass("e-pro-completed").removeClass("e-pro-pause"),this.activeElement.hasClass("e-pro-resume")&&this.updateProperties());this.hideIndicator()},n.prototype.renderTooltip=function(n){var i=this.toolTipContainer=ej.buildTag("div.e-tooltip-wrap e-widget e-userselect e-designer-property-tooltip","",{display:"none"},{id:this.id+"_property_tooltip"}),r=ej.buildTag("div.e-arrowTip","",{height:"10px",width:"20px",top:"-10px",display:"block",left:"16px"},{id:this.id+"_property_arrow_tooltip"}),f=ej.buildTag("div.e-arrowTipOuter","",{}),e=ej.buildTag("div.e-arrowTipInner","",{left:"1px",top:"1px"}),t,u;r.append(f).append(e);t=ej.buildTag("div.e-tipContainer","",{});u=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_property_content_tooltip"});t.append(u);i.append(r).append(t);n.append(i)},n.prototype.showTooltip=function(n,t){var i=this;this.tooltipTimeOut&&clearTimeout(this.tooltipTimeOut);this.tooltipTimeOut=setTimeout(function(){i.setTooltipPosition(n,t)},700)},n.prototype.hideTooltip=function(){this.tooltipTimeOut&&clearTimeout(this.tooltipTimeOut);this.toolTipContainer.css("display","none")},n.prototype.setTooltipPosition=function(n,t){var i=n.offset(),r=this.toolTipContainer.find("#"+this.id+"_property_arrow_tooltip"),u=this.toolTipContainer.find("#"+this.id+"_property_content_tooltip");u.text(t);this.toolTipContainer.css({left:i.left,top:i.top+n.height()+r.height(),display:"block"})},n.prototype.onPanelScroll=function(n){this.toolTipContainer.is(":visible")&&this.hideTooltip(n)},n.prototype.updateProperties=function(){var n,t;if(this.activeProperty.Type!="Dashboard"){if(this.canUpdate=!1,this.activeProperty&&this.activeProperty.Items.length>0)for(n=0;n<this.activeProperty.Items.length;n++)t=this.activeProperty.Items[n],this.updateRowValue(t,this.activeProperty.Type);this.canUpdate=!0;this.refreshScroller()}},n.prototype.updateDropdownVal=function(){var u=$("#"+this.id+"_propertyTabUl_datasetList").data("ejDropDownList"),i,f,n,r,t;if(!ej.isNullOrUndefined(u)){if(i=this.getAvailableFields(),f=0,u.option("dataSource",i),n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo,r="",ej.isNullOrUndefined(n)||(r=!ej.isNullOrUndefined(n.Values)&&n.Values.length>0&&n.Values[0].Values.length>0?n.Values[0].Values[0].Name:!ej.isNullOrUndefined(n.Columns)&&n.Columns.length>0?n.Columns[0].Name:!ej.isNullOrUndefined(n.Rows)&&n.Rows.length>0?n.Rows[0].Name:""),r!=="")for(t=0;t<i.length;t++)if(i[t].text===r){f=t;break}u.option("selectedIndex",f)}},n.prototype.hasRptDataSet=function(){var n=ejDashboardDesigner.getInstance("DataSet").datasets;return n&&n.length>0?!0:!1},n.prototype.showIndicator=function(){this.ejWaitingPane.show()},n.prototype.hideIndicator=function(){this.ejWaitingPane.hide()},n.prototype.hidePropertyPanel=function(){this.activeElement&&this.activeElement.hasClass("e-pro-completed")?(this.hideIndicator(),this.activeElement.css("display","none"),this.activeProperty=null,this.activeElement=null):(this.pausePropertyRender(),this.hideIndicator(),this.activeElement&&this.activeElement.css("display","none"),this.activeProperty=null,this.activeElement=null);clearInterval(this.groupInterval);this.groupInterval=null},n.prototype.enableDataTab=function(n){n&&n.length>0&&this.hasRptDataSet()&&$.parseJSON(n.attr("isDataEnabled"))?(this.updateDropdownVal(),this.ejPanelTab.option("enabledItemIndex",[1])):this.ejPanelTab.option("disabledItemIndex",[1]);this.ejPanelTab.option("selectedItemIndex")===1&&this.ejPanelTab.option("selectedItemIndex",0)},n.prototype.showPropertyPanel=function(n,t){this.propertyContainer.css("display",n?"block":"none");ej.isNullOrUndefined(this.designPanel)&&(this.designPanel=ejDashboardDesigner.getInstance("DesignPanel"));n?ej.isNullOrUndefined(this.ejPanelTab)||(this.enableDataTab(this.designPanel.selectedReportItems.length>0?this.designPanel.selectedReportItems[0]:null),this.selectProperties()):this.hidePropertyPanel();t.isPropertyPanel&&(this.updateSize(),t.isPropertyPanel=!1)},n.prototype.showDesignAreaProperty=function(n,t){this.ejPanelTab.option("disabledItemIndex",[1]);this.ejPanelTab.option("selectedItemIndex")===1&&this.ejPanelTab.option("selectedItemIndex",0);this.showPropertyItem(n,t)},n.prototype.selectProperties=function(){var t=this.designPanel.selectedItems,i=this.designPanel.selectedReportItems,n=[];if(i.length>0)this.setPropertyElement(i);else if(t.length>0)if(ej.isNullOrUndefined($(t[0]).attr("designPanel"))&&$(t[0]).attr("class")!=="e-dashboarddesigner-designPanel")switch($(t[0]).attr("class")){case"e-header-tag e-designersection":n=ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Header");this.targetDesignArea="Header";this.showPropertyItem(n,"Header");break;case"e-body-tag e-designersection":n=ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Body");this.targetDesignArea="Body";this.showPropertyItem(n,"Body");break;case"e-footer-tag e-designersection":n=ejDashboardDesigner.getInstance("RDLParser").getDesignProperty("Footer");this.targetDesignArea="Footer";this.showPropertyItem(n,"Footer")}else n=ejDashboardDesigner.getInstance("DesignPanel").getDesignProperty("Report"),this.targetDesignArea="Report",this.showPropertyItem(n,"Report");else i.length===0&&(n=ejDashboardDesigner.getInstance("DesignPanel").getDesignProperty("Report"),this.targetDesignArea="Report",this.showPropertyItem(n,"Report"))},n.prototype.showProperty=function(n){n?ejDashboardDesigner.getInstance("DataConfigurationPanel").showConfigurationPanel(!0,"Properties"):ejDashboardDesigner.getInstance("DataConfigurationPanel").showConfigurationPanel(!1,"Properties")},n.prototype.renderPropertyHeader=function(n,t){var i,r,u,f,e,s;this.propertyHeader=ej.buildTag("div","",{overflow:"hidden","background-color":"white","margin-bottom":"15px"},{id:this.id+"_propertyItemHeaderName"});i=ej.buildTag("div","",{});r=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"13px",display:"inline-block","font-weight":"600",width:this.propertyPanelContainer.width()-48+"px",margin:"7px",float:"left","margin-right":"3px","margin-left":"10px"},{id:this.id+"_propertyItemHeaderText_Name"});r.text("Name");u=ej.buildTag("span","",{float:"right","padding-top":"11px","padding-right":"5px"},{id:this.id+"_propertyItemHeaderText_Name_error"});ej.DashboardUtil.renderErrIndictor(u,this.id);i.append(r);i.append(u);this.propertyHeader.append(i);this.headerInput=ej.buildTag("input.e-textbox e-designer-fontfamily","",{margin:"3px","margin-left":"10px",width:this.propertyPanelContainer.width()-33+"px",height:"28px",border:"0.5px solid","border-color":"lightgray"},{id:this.id+"_propertyItemHeaderInput_Name"});this.headerInput.bind("keyup",$.proxy(this.onTextKeyUp,this));this.headerInput.bind("focusout ",$.proxy(this.itemNameChange,this));this.headerInput.val(n.Header);this.propertyHeader.append(this.headerInput);this.scrollElement.append(this.propertyHeader);this.dashboardPropertyContainer=ej.buildTag("div","",{display:"inline-block"});f=ej.buildTag("div","",{display:"inline-block"});e=ej.buildTag("span.e-designer-fontfamily","",{overflow:"hidden","font-size":"13px",display:"inline-block","font-weight":"600",width:this.propertyPanelContainer.width()-48+"px",margin:"7px",float:"left","margin-right":"3px","margin-left":"10px"},{id:this.id+"_propertyItemDescriptionText_Description"});e.text("Description");f.append(e);this.dashboardPropertyContainer.append(f);this.descriptionInput=ej.buildTag("textarea.e-textbox e-designer-fontfamily","",{margin:"3px","margin-left":"10px",width:this.propertyPanelContainer.width()-33+"px",height:"58px",border:"0.5px solid","border-color":"lightgray",display:"inline-block",resize:"none"},{id:this.id+"_propertyItemDescriptionInput_Description"});this.descriptionInput.bind("keyup",$.proxy(this.onDescriptionTextKeyUp,this));this.descriptionInput.bind("blur",$.proxy(this.itemDescriptionChange,this));this.dashboardPropertyContainer.append(this.descriptionInput);var o=ej.buildTag("div","",{"margin-bottom":"15px",display:"inline-block"},{id:this.id+"_propertyCheckboxDiv_CheckBox"}),h=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),c=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});c.text("EnableComment");h.append(c);o.append(h);s=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"7px",border:"0px solid","border-color":"red"},{id:this.id+"_propertyCheckboxInput_CheckBox"});this.checkBoxElement=ej.buildTag("input","",{},{id:this.id+"_propertyCheckbox_CheckBox",type:"checkbox"});s.append(this.checkBoxElement);this.checkBoxElement.ejCheckBox({checked:!0,change:$.proxy(this.itemCommentChange,this,t),width:(this.calWidth-33)*61.8/100-15+"px",cssClass:"e-designer-prop-checkbox"});this.ejCheckboxObj[this.checkBoxElement.attr("id")]=this.checkBoxElement.data("ejCheckBox");o.append(s);this.dashboardPropertyContainer.append(o);this.propertyHeader.append(this.dashboardPropertyContainer)},n.prototype.onTextKeyUp=function(n){n.keyCode===13&&this.itemNameChange(n)},n.prototype.onDescriptionTextKeyUp=function(n){n.keyCode===13&&this.itemDescriptionChange(n)},n.prototype.getItem=function(n,t,i){for(var u,r=0;r<n.length;r++){if(!ej.isNullOrUndefined(n[r].name)&&t===n[r].name){u=i>=0?n[r].items[i]:n[r];break}!ej.isNullOrUndefined(n[r].Items)&&ej.isNullOrUndefined(u)&&(u=this.getItem(n[r].Items,t,i));!ej.isNullOrUndefined(n[r].items)&&ej.isNullOrUndefined(u)&&(u=this.getItem(n[r].items,t,i));!ej.isNullOrUndefined(n[r].childItems)&&ej.isNullOrUndefined(u)&&(u=this.getItem(n[r].childItems,t,i))}return u},n.prototype.getPropertyElement=function(n,t,i,r){for(var f,u=0;u<n.Items.length;u++)n.Items[u].CategoryName.split(" ").join("").replace("&","")===i&&(f=this.getItem(n.Items[u].Items,t,r));return f},n.prototype.setPropertyElement=function(n){var r=n.length,u,t,i;if(r>1)u="Property panel doesn't support to show common properties for multiple items",ej.DashboardUtil.getInstance().ejAlertDialog("Properties",u,!1,!0,!0,"",{height:120}),this.showProperty(!1);else{for(this.enableDataTab(n[0]),t=0;t<r;t++)i=ej.DashboardUtil.getReportItem(n[t]),ej.isNullOrUndefined(i)||this.showPropertyItem(i.getPropertyGridItems());this.targetItems=n}},n.prototype.onExpandCollapseClick=function(n){this.jQHeaderRows[this.id+"_elementContainer_"+n].hasClass("e-item-expand")?this.collapseCategory(n):this.expandCategory(n);this.refreshScroller()},n.prototype.expandCategory=function(n){this.jQHeaderRows[this.id+"_elementContainer_"+n].addClass("e-item-expand").removeClass("e-item-collapse");this.jQHeaderRows[this.id+"_elementContainer_"+n].find(".e-header-row-icon").addClass("e-reportdesigner-minus").removeClass("e-reportdesigner-plus");this.jQContainerRows[this.id+"_tableElement_"+n].css("display","block")},n.prototype.collapseCategory=function(n){this.jQHeaderRows[this.id+"_elementContainer_"+n].removeClass("e-item-expand").addClass("e-item-collapse");this.jQHeaderRows[this.id+"_elementContainer_"+n].find(".e-header-row-icon").removeClass("e-reportdesigner-minus").addClass("e-reportdesigner-plus");this.jQContainerRows[this.id+"_tableElement_"+n].css("display","none")},n.prototype.setPropertyItem=function(n,t,i,r){var h,c,o,s;if(t.Items.length>1||t.Items.length===1&&t.Items[0].name!=="Name"){var e=ej.isNullOrUndefined(t.IsVisible)?!0:t.IsVisible?!0:!1,u=t.CategoryName.split(" ").join("").replace("&",""),f=ej.buildTag("div.e-property-row-header "+(r?"e-last-item":"e-mid-item")+(e?" e-item-expand":" e-item-collapse"),"",{width:"100%",height:"25px",display:e?"block":"none"},{id:this.id+"_elementContainer_"+i+"_"+u});this.jQHeaderRows[this.id+"_elementContainer_"+i+"_"+u]=f;h=ej.buildTag("div.e-header-row-txt",t.CategoryName,{float:"left","font-size":"13px","margin-left":"12px","margin-top":"3px"},{id:this.id+"_header_"+i+"_"+u});f.append(h);c=ej.buildTag("span.e-header-row-icon "+(e?"e-reportdesigner-minus":"e-reportdesigner-plus"),"",{float:"right","margin-top":"-2px"});f.append(c);n.append(f);o=ej.buildTag("div","",{"margin-top":"10px","margin-bottom":"10px",display:"inline-block"});s=ej.buildTag("div.e-property-row-container","",{margin:"0.5px","margin-bottom":"0px",display:e?"block":"none"},{id:this.id+"_tableElement_"+i+"_"+u});this.jQContainerRows[this.id+"_tableElement_"+i+"_"+u]=s;o.append(s);n.append(o);f.bind("click",$.proxy(this.onExpandCollapseClick,this,i+"_"+u))}},n.prototype.updatePropertyItem=function(n,t,i){for(var f,u,e,r=0;r<n.length;r++)n[r].itemType==="float"?this.setNumber(null,null,t,n[r],!0,i):n[r].itemType==="color"?this.setColor(null,null,t,n[r],i):n[r].itemType==="dropdown"?this.setDropDown(null,null,t,n[r],i):n[r].itemType==="autocomplete"||(n[r].itemType==="bool"?(f=$.extend(!0,{},n[r]),f.valueList=["true","false"],this.setBoolean(null,null,t,n[r],i)):n[r].itemType==="border"?this.setBorder(null,null,t,n[r],i):n[r].itemType==="position"?this.setPosition(null,null,t,n[r],i):n[r].itemType==="size"?this.setSize(null,null,t,n[r],i):n[r].itemType==="padding"?this.setPadding(null,null,t,n[r],i):n[r].itemType==="background"?this.setBackground(null,null,t,n[r],i):n[r].itemType==="font"?this.setFont(null,null,t,n[r],i):n[r].itemType==="fontStyle"?this.setFontStyle(null,null,t,n[r],i):n[r].itemType==="link"?(u=ejDashboardDesigner.getInstance("ReportAction"),n[r].categoryName=t,u.renderAction(null,i+"_"+t,n[r])):n[r].itemType==="linkreport"?(u=ejDashboardDesigner.getInstance("LinkReport"),n[r].categoryName=t,u.renderReport(null,i+"_"+t,n[r])):n[r].itemType==="linkparameter"?(u=ejDashboardDesigner.getInstance("LinkReport"),n[r].categoryName=t,u.renderParameter(null,i+"_"+t,n[r])):n[r].itemType==="formattext"?(u=ejDashboardDesigner.getInstance("FormattingText"),n[r].categoryName=t,u.renderItem(null,i+"_"+t,n[r])):n[r].itemType==="filters"?this.setFilter(null,null,t,n[r],i):n[r].itemType==="button"?this.setButton(null,null,t,n[r],i):n[r].itemType==="sorts"?this.setSort(null,null,t,n[r],i):n[r].itemType==="summarygrid"?ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&(e=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),e.renderSummaryTableColumns(null,n[r])):n[r].itemType==="object"?ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length>0&&(n[r].categoryName=t,ej.DashboardUtil.invokeMethod(n[r].callbackInstance,n[r].callbackMethod,[null,i+"_"+t,n[r]])):n[r].name!=="Name"&&this.setLabel(null,null,t,n[r],i)),ej.isNullOrUndefined(n[r].childItems)||($("#"+this.id+"_tableElement_"+i+"_"+t+"_"+n[r].name+"_advanced").css("display","none"),$("#"+this.id+"_elementContainer_"+i+"_"+t+"_"+n[r].name+"_advanced").css("display","none"),this.updatePropertyItem(n[r].childItems,t,i))},n.prototype.getPropertyValue=function(n,t){var r,u,f,i,e;if(n.itemType==="float")return r=this.ejNumbericObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],r.option("value");if(n.itemType==="color")return u=this.ejColorPickObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],u.option("value");if(n.itemType==="dropdown")return f=this.ejDropDownObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],f.selectedTextValue;if(n.itemType==="bool"){if(i=this.ejCheckboxObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],!ej.isNullOrUndefined(i))return i.option("checked")}else return n.name!=="Name"?(e=this.ejMaskEditObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],e.val()):this.headerInput.val()},n.prototype.getValueList=function(n,t){for(var r=[],i=0;i<n.length;i++)ej.isNullOrUndefined(n[i].name)||r.length!==0||t!==n[i].name||ej.isNullOrUndefined(n[i].valueList)||(r=n[i].valueList),ej.isNullOrUndefined(n[i].Items)||r.length!==0||(r=this.getValueList(n[i].Items,t)),ej.isNullOrUndefined(n[i].items)||r.length!==0||(r=this.getValueList(n[i].items,t)),ej.isNullOrUndefined(n[i].childItems)||r.length!==0||(r=this.getValueList(n[i].childItems,t));return r},n.prototype.getChildItems=function(n,t){for(var r,i=0;i<n.Items.length;i++)for(r=0;r<n.Items[i].Items.length;r++)if(t===n.Items[i].Items[r].name)return n.Items[i].Items[r].childItems;return[]},n.prototype.isNullOrEmpty=function(n){return n===""||n===null},n.prototype.updatePropertyValue=function(n,t,i){var h,e,f,u,o,r,s;if(!ej.isNullOrUndefined(n.itemType)&&!ej.isNullOrUndefined(n.categoryName)&&!ej.isNullOrUndefined(n.name)){if(h=this.propertyContainer.find("#"+this.id+"_"+t+"_"+n.categoryName+"_"+n.name+"_Expression_container").parent(),n.itemType==="float")e=this.ejNumbericObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],ej.isNullOrUndefined(e)||e.option("value",parseFloat(i));else if(n.itemType==="color")f=this.ejColorPickObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],ej.isNullOrUndefined(f)||this.isNullOrEmpty(f.option("value"))&&this.isNullOrEmpty(ej.DashboardUtil.getColorCode(i))||f.option("value",ej.DashboardUtil.getColorCode(i));else if(n.itemType==="dropdown"){var c=-1,a=ej.isNullOrUndefined(n.valueList)?0:n.valueList.length,l=this.ejDropDownObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name];if(!ej.isNullOrUndefined(l)){for(u=0;u<a;u++)if(n.valueList[u]===i){c=u;break}l.option("selectedIndex",c)}}else n.itemType==="bool"?(o=this.ejCheckboxObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],ej.isNullOrUndefined(o)||o.option("checked",i)):n.itemType==="linkreport"?(r=ejDashboardDesigner.getInstance("LinkReport"),n.value=i,r.renderReport(null,t+"_"+n.categoryName,n)):n.itemType==="linkparameter"?(r=ejDashboardDesigner.getInstance("LinkReport"),n.value=i,r.renderParameter(null,t+"_"+n.categoryName,n)):n.itemType==="link"?(r=ejDashboardDesigner.getInstance("ReportAction"),n.value=i,r.renderAction(null,t+"_"+n.categoryName,n)):n.itemType==="formattext"?(r=ejDashboardDesigner.getInstance("FormattingText"),n.value=i,r.renderItem(null,t+"_"+n.categoryName,n)):n.name!=="Name"?(s=this.ejMaskEditObj[this.id+"_"+t+"_"+n.categoryName+"_"+n.name],ej.isNullOrUndefined(s)||s.val(i)):this.headerInput.val(i);n.value=i;this.expression.setExpressionEle(h,{id:this.id+"_"+t+"_"+n.categoryName+"_"+n.name,enableReset:ej.isNullOrUndefined(n.enableExpression)?!0:n.enableExpression,enableExpression:ej.isNullOrUndefined(n.enableExpression)?!0:n.enableExpression,enableAdvanceMode:n.childItems&&n.childItems.length>0?!0:!1,expressionList:this.getExpressionList(n),dataInfo:{categoryName:n.categoryName,elementType:t,isPropertyDialog:!1,element:n,callBackMethod:"populatePropertyItem",parentElement:this.propertyTableContainer}})}},n.prototype.populatePropertyItem=function(n,t,i,r,u,f){var h=0,e=[],o,c,s,l;for(f?(e=[i],h=1):(ej.isNullOrUndefined(i.Items)||(h=i.Items.length,e=i.Items),ej.isNullOrUndefined(i.items)||(h=i.items.length,e=i.items),ej.isNullOrUndefined(i.childItems)||(h=i.childItems.length,e=i.childItems)),r=r.split(" ").join("").replace("&",""),o=0;o<h;o++)e[o].itemType==="float"?this.setNumber(n,t,r,e[o],!0,u):e[o].itemType==="color"?this.setColor(n,t,r,e[o],u):e[o].itemType==="dropdown"?this.setDropDown(n,t,r,e[o],u):e[o].itemType==="autocomplete"||(e[o].itemType==="bool"?(c=$.extend(!0,{},e[o]),c.valueList=["true","false"],this.setBoolean(n,t,r,e[o],u)):e[o].itemType==="border"?this.setBorder(n,t,r,e[o],u):e[o].itemType==="position"?this.setPosition(n,t,r,e[o],u):e[o].itemType==="size"?this.setSize(n,t,r,e[o],u):e[o].itemType==="padding"?this.setPadding(n,t,r,e[o],u):e[o].itemType==="background"?this.setBackground(n,t,r,e[o],u):e[o].itemType==="font"?this.setFont(n,t,r,e[o],u):e[o].itemType==="fontStyle"?this.setFontStyle(n,t,r,e[o],u):e[o].itemType==="linkreport"?(s=ejDashboardDesigner.getInstance("LinkReport"),e[o].categoryName=r,s.renderReport(t,u+"_"+r,e[o])):e[o].itemType==="linkparameter"?(s=ejDashboardDesigner.getInstance("LinkReport"),e[o].categoryName=r,s.renderParameter(t,u+"_"+r,e[o])):e[o].itemType==="link"?(s=ejDashboardDesigner.getInstance("ReportAction"),e[o].categoryName=r,s.renderAction(t,u+"_"+r,e[o])):e[o].itemType==="formattext"?(s=ejDashboardDesigner.getInstance("FormattingText"),e[o].categoryName=r,s.renderItem(t,u+"_"+r,e[o])):e[o].itemType==="filters"?this.setFilter(n,t,r,e[o],u):e[o].itemType==="button"?this.setButton(n,t,r,e[o],u):e[o].itemType==="sorts"?this.setSort(n,t,r,e[o],u):e[o].itemType==="summarygrid"?(l=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]),l.renderSummaryTableColumns(t,e[o])):e[o].itemType==="object"?(e[o].categoryName=r,ej.DashboardUtil.invokeMethod(e[o].callbackInstance,e[o].callbackMethod,[t,u+"_"+r,e[o]])):e[o].name!=="Name"&&this.setLabel(n,t,r,e[o],u))},n.prototype.setColor=function(n,t,i,r,u){var a,o,h,e,l;if(ej.isNullOrUndefined(t))this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),o=this.ejColorPickObj[this.id+"_"+u+"_"+i+"_"+r.name],ej.isNullOrUndefined(o)||o.option("value",ej.DashboardUtil.getColorCode(r.value)),this.setExpressionElement(n,t,i,r,u);else{var f=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),c=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),s=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});s.text(r.name);c.append(s);ej.isNullOrUndefined(r.displayName)||s.text(r.displayName);f.append(c);h=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"3px"});e=ej.buildTag("input.e-reportdesigner-designer","",{},{id:this.id+"_"+u+"_"+i+"_"+r.name});h.append(e);e.ejColorPicker({value:ej.DashboardUtil.getColorCode(r.value),width:(this.calWidth-33)*61.8/100-15+"px",cssClass:"e-designer-ejwidgets-colorpicker e-designer-content-label",select:$.proxy(this.onValueChange,this,r,i,u),modelType:"palette",palette:"basicpalette"});this.ejColorPickObj[e.attr("id")]=e.data("ejColorPicker");f.append(h);t.append(f);a=f;this.renderExpressionElement(n,f,t,i,r,u)}r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(l=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,l,r,i,u,!1))},n.prototype.setButton=function(n,t,i,r,u){var c,f,s,e,h,o;ej.isNullOrUndefined(t)?this.setExpressionElement(n,t,i,r,u):(f=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),s=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),(ej.isNullOrUndefined(r.enableLabel)||$.parseJSON(r.enableLabel))&&(e=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),e.text(r.name),s.append(e),ej.isNullOrUndefined(r.displayName)||e.text(r.displayName)),f.append(s),h=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_parent"}),o=ej.buildTag("button",r.buttonText,{},{id:this.id+"_"+u+"_"+i+"_"+r.name}),h.append(o),o.ejButton({width:"175px",height:"28px",showRoundedCorner:!1,size:"small",click:$.proxy(this.onButtonClick,this,r),cssClass:"e-designer-click e-designer-button e-reportdesigner-previewbtn"}),o.css({"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"}),f.append(h),t.append(f),c=f,this.renderExpressionElement(n,f,t,i,r,u))},n.prototype.onButtonClick=function(n){ej.DashboardUtil.invokeMethod(n.callbackInstance,n.callbackMethod,[n])},n.prototype.setFilter=function(n,t,i,r,u){var c,s,e;if(ej.isNullOrUndefined(t))this.setExpressionElement(n,t,i,r,u);else{var f=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),h=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),o=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});o.text(r.name);h.append(o);ej.isNullOrUndefined(r.displayName)||o.text(r.displayName);f.append(h);s=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_parent"});e=ej.buildTag("button","Set Filters...",{},{id:this.id+"_"+u+"_"+i+"_"+r.name});s.append(e);e.ejButton({width:"175px",height:"28px",showRoundedCorner:!1,size:"small",click:$.proxy(this.onFilterClick,this),cssClass:"e-designer-click e-designer-button e-reportdesigner-previewbtn"});e.css({"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"});f.append(s);t.append(f);c=f;this.renderExpressionElement(n,f,t,i,r,u)}},n.prototype.onFilterClick=function(){var n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo;!ej.isNullOrUndefined(n)&&n.Columns.length>0&&ejDashboardDesigner.getInstance("Filter").openFilterDialog(n.Filters,this,"updateFilterInfo",{},n.Columns[0].Name)},n.prototype.updateFilterInfo=function(n){var t=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo;t.Filters=n;ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(t,{update:!1,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1})},n.prototype.updateItemVisibility=function(n,t,i,r){this.propertyContainer.find("#"+this.id+"_"+n+"_"+t+"_"+i+"_container").css("display",r?"inline-block":"none");(ej.DashboardUtil.contains(i,"format",!0)||ej.DashboardUtil.contains(i,"action",!0))&&this.propertyContainer.find("#"+this.id+"_"+n+"_"+t+"_"+i).css("display",r?"inline-block":"none")},n.prototype.updateItemDisable=function(n,t,i,r,u){var f,e,o,s,h;n==="float"?(f=this.ejNumbericObj[this.id+"_"+t+"_"+i+"_"+r],ej.isNullOrUndefined(f)||(u?f.disable():f.enable())):n==="color"?(e=this.ejColorPickObj[this.id+"_"+t+"_"+i+"_"+r],ej.isNullOrUndefined(e)||(u?e.disable():e.enable())):n==="dropdown"?(o=this.ejDropDownObj[this.id+"_"+t+"_"+i+"_"+r],ej.isNullOrUndefined(o)||(u?o.disable():o.enable())):n==="bool"?(s=this.ejCheckboxObj[this.id+"_"+t+"_"+i+"_"+r],ej.isNullOrUndefined(s)||(u?s.disable():s.enable())):r!=="Name"&&(h=this.ejMaskEditObj[this.id+"_"+t+"_"+i+"_"+r],ej.isNullOrUndefined(h)||(u?h.attr("disabled","disabled"):h.removeAttr("disabled")))},n.prototype.updateCategoryVisibility=function(n,t,i){var r=n+"_"+t.split(" ").join("").replace("&","");i?this.jQHeaderRows[this.id+"_elementContainer_"+r]&&(this.jQHeaderRows[this.id+"_elementContainer_"+r].css("display","block").addClass("e-item-expand").removeClass("e-item-collapse"),this.jQHeaderRows[this.id+"_elementContainer_"+r].find(".e-header-row-icon").addClass("e-reportdesigner-minus").removeClass("e-reportdesigner-plus"),this.jQContainerRows[this.id+"_tableElement_"+r].css("display","block")):this.jQHeaderRows[this.id+"_elementContainer_"+r]&&(this.jQHeaderRows[this.id+"_elementContainer_"+r].css("display","none"),this.jQContainerRows[this.id+"_tableElement_"+r].css("display","none"))},n.prototype.setSort=function(n,t,i,r,u){var c,s,e;if(ej.isNullOrUndefined(t))this.setExpressionElement(n,t,i,r,u);else{var f=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),h=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),o=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});o.text(r.name);h.append(o);ej.isNullOrUndefined(r.displayName)||o.text(r.displayName);f.append(h);s=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_parent"});e=ej.buildTag("button","Set Sorts...",{},{id:this.id+"_"+u+"_"+i+"_"+r.name});s.append(e);f.append(s);t.append(f);e.ejButton({width:"175px",height:"28px",showRoundedCorner:!1,size:"small",click:$.proxy(this.onSortClick,this),cssClass:"e-designer-click e-designer-button e-reportdesigner-previewbtn"});e.css({"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"});c=f;this.renderExpressionElement(n,f,t,i,r,u)}},n.prototype.onSortClick=function(){var n=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo;!ej.isNullOrUndefined(n)&&n.Columns.length>0&&ejDashboardDesigner.getInstance("SortDialog").openSortDialog(n.SortExpressions,{},this,"updateSortInfo",n.Columns[0].Name)},n.prototype.updateSortInfo=function(n){var t=ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).dataGroupInfo;t.SortExpressions=n;ej.DashboardUtil.getReportItem(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0]).updateDataGroupInfo(t,{update:!1,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1})},n.prototype.setLabel=function(n,t,i,r,u){var a,o,h,f,l;if(ej.isNullOrUndefined(t))this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),o=this.ejMaskEditObj[this.id+"_"+u+"_"+i+"_"+r.name],ej.isNullOrUndefined(o)||o.val(r.value),this.setExpressionElement(n,t,i,r,u);else{var e=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),c=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),s=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});s.text(r.name);c.append(s);ej.isNullOrUndefined(r.displayName)||s.text(r.displayName);e.append(c);h=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_parent"});f=ej.buildTag("input.e-textbox","",{height:"28px",width:(this.calWidth-33)*61.8/100-30+"px","margin-left":"2px"},{id:this.id+"_"+u+"_"+i+"_"+r.name,type:"text"});f.val(r.value);h.append(f);f.bind("blur",$.proxy(this.textFocusOut,this,r,i,u));f.bind("keyup",$.proxy(this.textKeyUp,this,r,i,u));this.ejMaskEditObj[f.attr("id")]=f;e.append(h);t.append(e);a=e;this.renderExpressionElement(n,e,t,i,r,u)}r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(l=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,l,r,i,u,!1))},n.prototype.textFocusOut=function(n,t,i){var r=this.ejMaskEditObj[this.id+"_"+i+"_"+t+"_"+n.name].val();this.onValueChange(n,t,i,{value:r})},n.prototype.textKeyUp=function(n,t,i,r){if(r.keyCode===13){var u=this.ejMaskEditObj[this.id+"_"+i+"_"+t+"_"+n.name].val();this.onValueChange(n,t,i,{value:u})}},n.prototype.onCloseAdvanceMode=function(n){this.propertyContainer.find("#"+this.id+"_tableElement_"+n.elementType+"_"+n.categoryName+"_"+n.name+"_advanced").css("display","none");this.propertyContainer.find("#"+this.id+"_elementContainer_"+n.elementType+"_"+n.categoryName+"_"+n.name+"_advanced").css("display","none");this.refreshScroller()},n.prototype.renderAdvancedHeader=function(n,t,i,r){var u=ej.buildTag("div","",{"border-top":"1px solid lightgray","border-bottom":"1px solid lightgray","background-color":"#f5f5f5",width:"100%",float:"left",height:"25px",display:"none"},{id:this.id+"_elementContainer_"+r+"_"+i+"_"+t.name+"_advanced"}),s=ej.buildTag("div","",{float:"left","font-size":"13px","font-weight":"600","margin-left":"12px","margin-top":"3px"},{id:this.id+"_header_"+r+"_"+i+"_"+t.name+"_advanced"}),f,e,o;return s.text("Advanced Options"),u.append(s),f=ej.buildTag("div","",{float:"right","margin-right":"8px","margin-top":"5px",cursor:"pointer"},{"class":"e-icon e-close"}),u.append(f),n.append(u),f.bind("click",$.proxy(this.onCloseAdvanceMode,this,{name:t.name,categoryName:i,elementType:r})),e=ej.buildTag("div","",{"margin-bottom":"10px","background-color":"#f5f5f5",display:"inline-block"}),o=ej.buildTag("div","",{margin:"0.5px","margin-bottom":"0px","margin-top":"10px","border-bottom":"1px solid lightgray","background-color":"#f5f5f5",display:"none"},{id:this.id+"_tableElement_"+r+"_"+i+"_"+t.name+"_advanced"}),e.append(o),n.append(e),o},n.prototype.enableAdvanceOptions=function(n){this.propertyContainer.find("#"+this.id+"_tableElement_"+n.elementType+"_"+n.categoryName+"_"+n.name+"_advanced").css("display","block");this.propertyContainer.find("#"+this.id+"_elementContainer_"+n.elementType+"_"+n.categoryName+"_"+n.name+"_advanced").css("display","block");this.refreshScroller()},n.prototype.setExpressionElement=function(n,t,i,r,u){this.expression.setExpressionEle(this.propertyContainer.find("#"+this.id+"_"+u+"_"+i+"_"+r.name+"_container"),{id:this.id+"_"+u+"_"+i+"_"+r.name,enableReset:ej.isNullOrUndefined(r.enableExpression)?!0:r.enableExpression,enableExpression:ej.isNullOrUndefined(r.enableExpression)?!0:r.enableExpression,enableAdvanceMode:r.childItems&&r.childItems.length>0?!0:!1,expressionList:this.getExpressionList(r),dataInfo:{categoryName:i,elementType:u,element:r,callBackMethod:"populatePropertyItem",parentElement:n}})},n.prototype.getExpressionList=function(n){var t=[],i;if(n.itemType==="border")for(i=0;i<n.items.length;i++)n.items[i].itemType==="float"?t.push({Name:"Size..."}):n.items[i].itemType==="color"?t.push({Name:"Color..."}):n.items[i].itemType==="dropdown"&&t.push({Name:"Style..."});else if(n.itemType==="position")t=[{Name:"Left..."},{Name:"Top..."}];else if(n.itemType==="size")t=[{Name:"Width..."},{Name:"Height..."}];else if(n.itemType==="padding")t=[{Name:"Left..."},{Name:"Right..."},{Name:"Top..."},{Name:"Bottom..."}];else if(n.itemType==="background")for(i=0;i<n.items.length;i++)n.items[i].itemType==="color"?t.push({Name:"Color..."}):n.items[i].itemType==="dropdown"&&t.push({Name:"Image..."});else n.itemType==="font"?t=[{Name:"FontFamily..."},{Name:"Color..."},{Name:"Size..."}]:n.itemType==="fontStyle"&&(t=[{Name:"Style..."},{Name:"Weight..."}]);return t},n.prototype.renderExpressionElement=function(n,t,i,r,u,f){this.expression.renderExpressionElement(t,{id:this.id+"_"+f+"_"+r+"_"+u.name,enableReset:ej.isNullOrUndefined(u.enableExpression)?!0:u.enableExpression,enableExpression:ej.isNullOrUndefined(u.enableExpression)?!0:u.enableExpression,enableAdvanceMode:u.childItems&&u.childItems.length>0?!0:!1,expressionList:this.getExpressionList(u),dataInfo:{categoryName:r,elementType:f,element:u,callBackMethod:"populatePropertyItem",parentElement:n}})},n.prototype.setBoolean=function(n,t,i,r,u){var c,o,h,f,a;if(ej.isNullOrUndefined(t))this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),o=this.ejCheckboxObj[this.id+"_"+u+"_"+i+"_"+r.name],ej.isNullOrUndefined(o)||o.option("checked",r.value),this.setExpressionElement(n,t,i,r,u);else{var e=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),l=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),s=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});s.text(r.name);l.append(s);ej.isNullOrUndefined(r.displayName)||s.text(r.displayName);e.append(l);h=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"7px",border:"0px solid","border-color":"red"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_parent"});f=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+r.name,type:"checkbox"});h.append(f);f.ejCheckBox({checked:r.value,change:$.proxy(this.onValueChange,this,r,i,u),width:(this.calWidth-33)*61.8/100-15+"px",cssClass:"e-designer-prop-checkbox"});this.ejCheckboxObj[f.attr("id")]=f.data("ejCheckBox");e.append(h);c=e;t.append(e);this.renderExpressionElement(n,c,t,i,r,u)}r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(a=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,a,r,i,u,!1))},n.prototype.setNumber=function(n,t,i,r,u,f){var y,c,e,s,l,h,a,o,v;ej.isNullOrUndefined(t)?(this.updateItemVisibility(f,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),c=this.ejNumbericObj[this.id+"_"+f+"_"+i+"_"+r.name],ej.isNullOrUndefined(c)||c.option("value",parseFloat(r.value)),this.setExpressionElement(n,t,i,r,f)):(e=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+f+"_"+i+"_"+r.name+"_container"}),s=(this.calWidth-33)*61.8/200,s=s-12,l=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),h=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),h.text(r.name),l.append(h),ej.isNullOrUndefined(r.displayName)||h.text(r.displayName),e.append(l),a=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red"},{id:this.id+"_"+f+"_"+i+"_"+r.name+"_parent"}),o=ej.buildTag("input","",{},{id:this.id+"_"+f+"_"+i+"_"+r.name}),a.append(o),o.ejNumericTextbox({value:parseFloat(r.value),showSpinButton:u,incrementStep:ej.isNullOrUndefined(r.interval)?1:r.interval,decimalPlaces:2,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.maximum)?20:r.maximum,minValue:ej.isNullOrUndefined(r.minimum)?0:r.minimum,change:$.proxy(this.onValueChange,this,r,i,f),width:s+"px"}),this.ejNumbericObj[o.attr("id")]=o.data("ejNumericTextbox"),e.append(a),t.append(e),y=e,this.renderExpressionElement(n,e,t,i,r,f));r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(v=this.renderAdvancedHeader(t,r,i,f),this.populatePropertyItem(n,v,r,i,f,!1))},n.prototype.setDropDown=function(n,t,i,r,u){var s=-1,b,a=ej.isNullOrUndefined(r.valueList)?0:r.valueList.length,h,f,e,w;if(ej.isNullOrUndefined(t)){if(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),h=this.ejDropDownObj[this.id+"_"+u+"_"+i+"_"+r.name],!ej.isNullOrUndefined(h)){for(h.option("dataSource",r.valueList),f=0;f<a;f++)if(e="",ej.isNullOrUndefined(r.value)||(e=r.value.toString()),r.valueList[f].toString()===e){s=f;break}h.option("selectedIndex",s)}this.setExpressionElement(n,t,i,r,u)}else{var o=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),v=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),l=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"});l.text(r.name);v.append(l);ej.isNullOrUndefined(r.displayName)||l.text(r.displayName);o.append(v);var y=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block","margin-top":"3px"}),c=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+r.name}),p=[];for(f=0;f<a;f++)e="",ej.isNullOrUndefined(r.value)||(e=r.value.toString()),r.valueList[f].toString()===e&&(s=f),p.push({text:r.valueList[f]});y.append(c);c.ejDropDownList({dataSource:p,fields:{text:"text"},change:$.proxy(this.onValueChange,this,r,i,u),selectedIndex:s,cssClass:"e-designer-ejwidgets e-designer-content-label",width:(this.calWidth-33)*61.8/100-15+"px"});this.ejDropDownObj[c.attr("id")]=c.data("ejDropDownList");o.append(y);t.append(o);b=o;this.renderExpressionElement(n,o,t,i,r,u)}r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(w=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,w,r,i,u,!1))},n.prototype.setBorder=function(n,t,i,r,u){var k,d,p,f,y,tt,h,it,w,o,e,c,et;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var a=r.items[f].itemType,l=r.items[f].name,v=r.items[f].valueList,s=r.items[f].value;if(a==="dropdown"){var y=-1,rt=this.ejDropDownObj[this.id+"_"+u+"_"+i+"_"+l],ot=ej.isNullOrUndefined(v)?0:v.length;if(!ej.isNullOrUndefined(rt)){for(h=0;h<ot;h++)if(ej.isNullOrUndefined(s)||(s=s.toString()),v[h].toString()===s){y=h;break}rt.option("selectedIndex",y)}}else a==="color"?(k=this.ejColorPickObj[this.id+"_"+u+"_"+i+"_"+l],ej.isNullOrUndefined(k)||k.option("value",ej.DashboardUtil.getColorCode(s))):a==="float"&&(d=this.ejNumbericObj[this.id+"_"+u+"_"+i+"_"+l],ej.isNullOrUndefined(d)||d.option("value",parseFloat(s)))}this.setExpressionElement(n,t,i,r,u)}else{var b=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),ut=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),g=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),st=r.name,ft=r.displayName;for(g.text(st),ut.append(g),ej.isNullOrUndefined(ft)||g.text(ft),b.append(ut),p=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),b.append(p),f=0;f<r.items.length;f++){var nt=r.items[f],a=r.items[f].itemType,l=r.items[f].name,v=r.items[f].valueList,s=r.items[f].value;if(a==="dropdown"){for(y=-1,o=(this.calWidth-33)*61.8/100/r.items.length,o=o+(o-36)/2-12,e=ej.buildTag("div","",{width:o+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&e.css("margin-left","0px"),c=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+l}),tt=ej.buildTag("ul","",{},{id:this.id+"_list_"+u+"_"+i+"_"+l}),h=0;h<v.length;h++)it=ej.buildTag("li","",{}),ej.isNullOrUndefined(s)||(s=s.toString()),v[h].toString()===s&&(y=h),it.text(v[h]),tt.append(it);e.append(c);e.append(tt);p.append(e);c.ejDropDownList({targetID:this.id+"_list_"+u+"_"+i+"_"+l,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.onValueChange,this,nt,i,u),selectedIndex:y,width:o+"px"});this.ejDropDownObj[c.attr("id")]=c.data("ejDropDownList");e.on(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.showTooltip,this,e,"Style"));e.on(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.hideTooltip,this))}else if(a==="color"){o=36;e=ej.buildTag("div","",{width:o+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"});f===0&&e.css("margin-left","0px");w=ej.buildTag("input.e-reportdesigner-designer","",{},{id:this.id+"_"+u+"_"+i+"_"+l});e.append(w);w.ejColorPicker({value:ej.DashboardUtil.getColorCode(s),cssClass:"e-designer-ejwidgets-colorpicker e-designer-content-label",width:o+"px",select:$.proxy(this.onValueChange,this,nt,i,u),modelType:"palette",palette:"basicpalette"});this.ejColorPickObj[w.attr("id")]=w.data("ejColorPicker");p.append(e);e.on(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.showTooltip,this,e,"Color"));e.on(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.hideTooltip,this))}else if(a==="float"){o=(this.calWidth-33)*61.8/100/r.items.length;o=o+(o-36)/2-12;e=ej.buildTag("div","",{width:o+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red","margin-left":"5px"},{id:this.id+"_"+u+"_"+i+"_"+l+"_parent"});f===0&&e.css("margin-left","0px");c=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+l});e.append(c);c.ejNumericTextbox({value:parseFloat(s),showSpinButton:!0,incrementStep:ej.isNullOrUndefined(r.interval)?.5:r.interval,decimalPlaces:2,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.items[f].maximum)?20:r.items[f].maximum,minValue:ej.isNullOrUndefined(r.items[f].minimum)?0:r.items[f].minimum,change:$.proxy(this.onValueChange,this,nt,i,u),width:o+"px"});this.ejNumbericObj[c.attr("id")]=c.data("ejNumericTextbox");p.append(e);e.on(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.showTooltip,this,e,"Width"));e.on(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.hideTooltip,this))}}t.append(b);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(et=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,et,r,i,u,!1));this.renderExpressionElement(n,b,t,i,r,u)}},n.prototype.setBackground=function(n,t,i,r,u){var k,b,f,a,v,g,e,nt,s,h,y,ft;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var p=r.items[f].itemType,c=r.items[f].name,l=r.items[f].valueList,o=r.items[f].value;if(p==="dropdown"){var a=-1,tt=this.ejDropDownObj[this.id+"_"+u+"_"+i+"_"+c],et=ej.isNullOrUndefined(l)?0:l.length;if(!ej.isNullOrUndefined(tt)){for(e=0;e<et;e++)if(ej.isNullOrUndefined(o)||(o=o.toString()),l[e].toString()===o){a=e;break}tt.option("selectedIndex",a)}}else p==="color"&&(k=this.ejColorPickObj[this.id+"_"+u+"_"+i+"_"+c],ej.isNullOrUndefined(k)||k.option("value",ej.DashboardUtil.getColorCode(o)))}this.setExpressionElement(n,t,i,r,u)}else{var w=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),it=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),d=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),ot=r.name,rt=r.displayName;for(d.text(ot),it.append(d),ej.isNullOrUndefined(rt)||d.text(rt),w.append(it),b=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),w.append(b),f=0;f<r.items.length;f++){var ut=r.items[f],p=r.items[f].itemType,c=r.items[f].name,l=r.items[f].valueList,o=r.items[f].value;if(p==="dropdown"){for(a=-1,s=(this.calWidth-33)*61.8/100/r.items.length,s=s+(s-36)-12,h=ej.buildTag("div","",{width:s+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&h.css("margin-left","0px"),v=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+c}),g=ej.buildTag("ul","",{},{id:this.id+"_list_"+u+"_"+i+"_"+c}),e=0;e<l.length;e++)nt=ej.buildTag("li","",{}),ej.isNullOrUndefined(o)||(o=o.toString()),l[e].toString()===o&&(a=e),nt.text(l[e]),g.append(nt);h.append(v);h.append(g);b.append(h);v.ejDropDownList({targetID:this.id+"_list_"+u+"_"+i+"_"+c,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.onValueChange,this,ut,i,u),selectedIndex:a,width:s+"px"});this.ejDropDownObj[v.attr("id")]=v.data("ejDropDownList")}else p==="color"&&(s=36,h=ej.buildTag("div","",{width:s+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&h.css("margin-left","0px"),y=ej.buildTag("input.e-reportdesigner-designer","",{},{id:this.id+"_"+u+"_"+i+"_"+c}),h.append(y),y.ejColorPicker({value:ej.DashboardUtil.getColorCode(o),cssClass:"e-designer-ejwidgets-colorpicker e-designer-content-label",width:s+"px",select:$.proxy(this.onValueChange,this,ut,i,u),modelType:"palette",palette:"basicpalette"}),this.ejColorPickObj[y.attr("id")]=y.data("ejColorPicker"),b.append(h))}t.append(w);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(ft=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,ft,r,i,u,!1));this.renderExpressionElement(n,w,t,i,r,u)}},n.prototype.setFont=function(n,t,i,r,u){var k,d,p,f,y,tt,h,it,w,e,o,c,et;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var a=r.items[f].itemType,l=r.items[f].name,v=r.items[f].valueList,s=r.items[f].value;if(a==="dropdown"){var y=-1,rt=this.ejDropDownObj[this.id+"_"+u+"_"+i+"_"+l],ot=ej.isNullOrUndefined(v)?0:v.length;if(!ej.isNullOrUndefined(rt)){for(h=0;h<ot;h++)if(ej.isNullOrUndefined(s)||(s=s.toString()),v[h].toString()===s){y=h;break}rt.option("selectedIndex",y)}}else a==="color"?(k=this.ejColorPickObj[this.id+"_"+u+"_"+i+"_"+l],ej.isNullOrUndefined(k)||k.option("value",ej.DashboardUtil.getColorCode(s))):a==="float"&&(d=this.ejNumbericObj[this.id+"_"+u+"_"+i+"_"+l],ej.isNullOrUndefined(d)||d.option("value",parseFloat(s)))}this.setExpressionElement(n,t,i,r,u)}else{var b=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),ut=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),g=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),st=r.name,ft=r.displayName;for(g.text(st),ut.append(g),ej.isNullOrUndefined(ft)||g.text(ft),b.append(ut),p=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),b.append(p),f=0;f<r.items.length;f++){var nt=r.items[f],a=r.items[f].itemType,l=r.items[f].name,v=r.items[f].valueList,s=r.items[f].value;if(a==="dropdown"){for(y=-1,e=(this.calWidth-33)*61.8/100/r.items.length,e=e+(e-36)/2-12,o=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&o.css("margin-left","0px"),c=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+l}),tt=ej.buildTag("ul","",{},{id:this.id+"_list_"+u+"_"+i+"_"+l}),h=0;h<v.length;h++)it=ej.buildTag("li","",{}),ej.isNullOrUndefined(s)||(s=s.toString()),v[h].toString()===s&&(y=h),it.text(v[h]),tt.append(it);o.append(c);o.append(tt);p.append(o);c.ejDropDownList({targetID:this.id+"_list_"+u+"_"+i+"_"+l,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.onValueChange,this,nt,i,u),selectedIndex:y,width:e+"px"});this.ejDropDownObj[c.attr("id")]=c.data("ejDropDownList")}else a==="color"?(e=36,o=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&o.css("margin-left","0px"),w=ej.buildTag("input.e-reportdesigner-designer","",{},{id:this.id+"_"+u+"_"+i+"_"+l}),o.append(w),w.ejColorPicker({value:ej.DashboardUtil.getColorCode(s),cssClass:"e-designer-ejwidgets-colorpicker e-designer-content-label",width:e+"px",select:$.proxy(this.onValueChange,this,nt,i,u),modelType:"palette",palette:"basicpalette"}),this.ejColorPickObj[w.attr("id")]=w.data("ejColorPicker"),p.append(o)):a==="float"&&(e=(this.calWidth-33)*61.8/100/r.items.length,e=e+(e-36)/2-12,o=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red","margin-left":"5px"},{id:this.id+"_"+u+"_"+i+"_"+l+"_parent"}),f===0&&o.css("margin-left","0px"),c=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+l}),o.append(c),c.ejNumericTextbox({value:parseFloat(s),showSpinButton:!0,incrementStep:ej.isNullOrUndefined(r.interval)?.5:r.interval,decimalPlaces:2,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.items[f].maximum)?20:r.items[f].maximum,minValue:ej.isNullOrUndefined(r.items[f].minimum)?0:r.items[f].minimum,change:$.proxy(this.onValueChange,this,nt,i,u),width:e+"px"}),this.ejNumbericObj[c.attr("id")]=c.data("ejNumericTextbox"),p.append(o))}t.append(b);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(et=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,et,r,i,u,!1));this.renderExpressionElement(n,b,t,i,r,u)}},n.prototype.setFontStyle=function(n,t,i,r,u){var w,f,h,c,l,a,b,e,k,it;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var d=r.items[f].itemType,v=r.items[f].name,s=r.items[f].valueList,o=r.items[f].value;if(d==="dropdown"){var h=-1,g=this.ejDropDownObj[this.id+"_"+u+"_"+i+"_"+v],rt=ej.isNullOrUndefined(s)?0:s.length;if(!ej.isNullOrUndefined(g)){for(e=0;e<rt;e++)if(ej.isNullOrUndefined(o)||(o=o.toString()),s[e].toString()===o){h=e;break}g.option("selectedIndex",h)}}}this.setExpressionElement(n,t,i,r,u)}else{var y=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),nt=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),p=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),ut=r.name,tt=r.displayName;for(p.text(ut),nt.append(p),ej.isNullOrUndefined(tt)||p.text(tt),y.append(nt),w=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),y.append(w),f=0;f<r.items.length;f++){var ft=r.items[f],d=r.items[f].itemType,v=r.items[f].name,s=r.items[f].valueList,o=r.items[f].value;if(d==="dropdown"){for(h=-1,c=(this.calWidth-33)*61.8/100/r.items.length,c=c-12,l=ej.buildTag("div","",{width:c+"px",display:"inline-block","margin-top":"3px","margin-left":"5px"}),f===0&&l.css("margin-left","0px"),a=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+v}),b=ej.buildTag("ul","",{},{id:this.id+"_list_"+u+"_"+i+"_"+v}),e=0;e<s.length;e++)k=ej.buildTag("li","",{}),ej.isNullOrUndefined(o)||(o=o.toString()),s[e].toString()===o&&(h=e),k.text(s[e]),b.append(k);l.append(a);l.append(b);w.append(l);a.ejDropDownList({targetID:this.id+"_list_"+u+"_"+i+"_"+v,cssClass:"e-designer-ejwidgets e-designer-content-label",change:$.proxy(this.onValueChange,this,ft,i,u),selectedIndex:h,width:c+"px"});this.ejDropDownObj[a.attr("id")]=a.data("ejDropDownList")}}t.append(y);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(it=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,it,r,i,u,!1));this.renderExpressionElement(n,y,t,i,r,u)}},n.prototype.updateExpression=function(n,t){var f=this.getPreviousValue(t.element,t.categoryName,t.elementType),i,r,u;if(t.element.isPropertyDialog){if(t.elementType==="Properties")for(i=0;i<this.targetItems.Items.length;i++)if(this.targetItems.Items[i].CategoryName===t.categoryName)for(r=0;r<this.targetItems.Items[i].Items.length;r++)if(this.targetItems.Items[i].Items[r].name===t.element.name){this.targetItems.Items[i].Items[r].value=n;this.isPropertyInfoChange=!0;break}}else this.updatePropertyChange(t.element.name,f,n,t.element,t.categoryName);this.setPreviousValue(t.element,t.categoryName,t.elementType,{value:n});ej.DashboardUtil.isExpression(n)?(u=$.extend(!0,{},t.element),u.categoryName=t.categoryName,this.updatePropertyValue(u,t.elementType,n)):this.updateItemDisable(t.element.itemType,t.elementType,t.categoryName,t.element.name,!0)},n.prototype.setPadding=function(n,t,i,r,u){var l,v,f,e,nt,h,o,tt;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value;y==="float"&&(l=this.ejNumbericObj[this.id+"_"+u+"_"+i+"_"+c],ej.isNullOrUndefined(l)||l.option("value",parseFloat(p)))}this.setExpressionElement(n,t,i,r,u)}else{var w=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),b=ej.buildTag("div","",{},{}),it=ej.buildTag("div","",{height:"10px",display:"inline-block",width:(this.calWidth-33)*37.21/100+"px"}),s=ej.buildTag("div","",{},{}),k=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),d=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"});b.append(it).append(d);s.append(k);w.append(b).append(s);var a=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),rt=r.name,g=r.displayName;for(a.text(rt+" (pixel)"),k.append(a),ej.isNullOrUndefined(g)||a.text(g+" (pixel)"),v=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),s.append(v),f=0;f<r.items.length;f++){var ut=r.items[f],y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value,ft=r.items[f].displayName;y==="float"&&(e=(this.calWidth-33)*31.4/200,e=e-10,nt=ej.buildTag("div.e-designer-fontfamily",ft,{width:e+"px",display:"inline-block","font-size":"10px","margin-left":"5px","margin-bottom":"8px"}),d.append(nt),h=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red","margin-left":"5px"},{id:this.id+"_"+u+"_"+i+"_"+c+"_parent"}),v.append(h),f===0&&h.css("margin-left","0px"),o=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+c}),h.append(o),o.ejNumericTextbox({value:parseFloat(p),showSpinButton:!0,incrementStep:ej.isNullOrUndefined(r.interval)?1:r.interval,decimalPlaces:0,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.items[f].maximum)?20:r.items[f].maximum,minValue:ej.isNullOrUndefined(r.items[f].minimum)?0:r.items[f].minimum,change:$.proxy(this.onValueChange,this,ut,i,u),width:e+"px"}),this.ejNumbericObj[o.attr("id")]=o.data("ejNumericTextbox"))}t.append(w);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(tt=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,tt,r,i,u,!1));this.renderExpressionElement(n,s,t,i,r,u)}},n.prototype.setSize=function(n,t,i,r,u){var l,v,f,e,nt,h,o,tt;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value;y==="float"&&(l=this.ejNumbericObj[this.id+"_"+u+"_"+i+"_"+c],ej.isNullOrUndefined(l)||l.option("value",parseFloat(p)))}this.setExpressionElement(n,t,i,r,u)}else{var w=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),b=ej.buildTag("div","",{},{}),it=ej.buildTag("div","",{height:"10px",display:"inline-block",width:(this.calWidth-33)*37.21/100+"px"}),s=ej.buildTag("div","",{},{}),k=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),d=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"});b.append(it).append(d);s.append(k);w.append(b).append(s);var a=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),rt=r.name,g=r.displayName;for(a.text(rt+" (pixel)"),k.append(a),ej.isNullOrUndefined(g)||a.text(g+" (pixel)"),v=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),s.append(v),f=0;f<r.items.length;f++){var ut=r.items[f],y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value,ft=r.items[f].displayName;y==="float"&&(e=(this.calWidth-33)*61.8/100/r.items.length,e=e-12,nt=ej.buildTag("div.e-designer-fontfamily",ft,{width:e+"px",display:"inline-block","font-size":"10px","margin-left":"5px","margin-bottom":"8px"}),d.append(nt),h=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red","margin-left":"5px"},{id:this.id+"_"+u+"_"+i+"_"+c+"_parent"}),f===0&&h.css("margin-left","0px"),o=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+c}),h.append(o),o.ejNumericTextbox({value:parseFloat(p),showSpinButton:!0,incrementStep:ej.isNullOrUndefined(r.items[f].interval)?1:r.items[f].interval,decimalPlaces:2,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.items[f].maximum)?20:r.items[f].maximum,minValue:ej.isNullOrUndefined(r.items[f].minimum)?0:r.items[f].minimum,change:$.proxy(this.onValueChange,this,ut,i,u),width:e+"px"}),this.ejNumbericObj[o.attr("id")]=o.data("ejNumericTextbox"),v.append(h))}t.append(w);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(tt=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,tt,r,i,u,!1));this.renderExpressionElement(n,s,t,i,r,u)}},n.prototype.setPosition=function(n,t,i,r,u){var l,v,f,e,nt,h,o,tt;if(ej.isNullOrUndefined(t)){for(this.updateItemVisibility(u,i,r.name,ej.isNullOrUndefined(r.isVisible)?!0:r.isVisible),f=0;f<r.items.length;f++){var y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value;y==="float"&&(l=this.ejNumbericObj[this.id+"_"+u+"_"+i+"_"+c],ej.isNullOrUndefined(l)||l.option("value",parseFloat(p)))}this.setExpressionElement(n,t,i,r,u)}else{var w=ej.buildTag("div","",{"margin-bottom":"15px",display:ej.isNullOrUndefined(r.isVisible)?"inline-block":r.isVisible?"inline-block":"none"},{id:this.id+"_"+u+"_"+i+"_"+r.name+"_container"}),b=ej.buildTag("div","",{},{}),it=ej.buildTag("div","",{height:"10px",display:"inline-block",width:(this.calWidth-33)*37.21/100+"px"}),s=ej.buildTag("div","",{},{}),k=ej.buildTag("div","",{width:(this.calWidth-33)*37.21/100+"px",float:"left","margin-left":"3px","margin-top":"8.5px"}),d=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"});b.append(it).append(d);s.append(k);w.append(b).append(s);var a=ej.buildTag("div.e-designer-fontfamily","",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"11px","white-space":"nowrap","text-overflow":"ellipsis"}),rt=r.name,g=r.displayName;for(a.text(rt+" (pixel)"),k.append(a),ej.isNullOrUndefined(g)||a.text(g+" (pixel)"),v=ej.buildTag("div","",{width:(this.calWidth-33)*61.8/100+"px",display:"inline-block"}),s.append(v),f=0;f<r.items.length;f++){var ut=r.items[f],y=r.items[f].itemType,c=r.items[f].name,p=r.items[f].value,ft=r.items[f].displayName;y==="float"&&(e=(this.calWidth-33)*61.8/100/r.items.length,e=e-12,nt=ej.buildTag("div.e-designer-fontfamily",ft,{width:e+"px",display:"inline-block","font-size":"10px","margin-left":"5px","margin-bottom":"8px"}),d.append(nt),h=ej.buildTag("div","",{width:e+"px",display:"inline-block","margin-top":"3px",border:"0px solid","border-color":"red","margin-left":"5px"},{id:this.id+"_"+u+"_"+i+"_"+c+"_parent"}),f===0&&h.css("margin-left","0px"),o=ej.buildTag("input","",{},{id:this.id+"_"+u+"_"+i+"_"+c}),h.append(o),o.ejNumericTextbox({value:parseFloat(p),showSpinButton:!0,incrementStep:ej.isNullOrUndefined(r.items[f].interval)?1:r.items[f].interval,decimalPlaces:2,cssClass:"e-designer-ejwidgets e-designer-ejwidgets-updown e-designer-content-label",maxValue:ej.isNullOrUndefined(r.items[f].maximum)?20:r.items[f].maximum,minValue:ej.isNullOrUndefined(r.items[f].minimum)?0:r.items[f].minimum,change:$.proxy(this.onValueChange,this,ut,i,u),width:e+"px"}),this.ejNumbericObj[o.attr("id")]=o.data("ejNumericTextbox"),v.append(h))}t.append(w);r.childItems&&r.childItems.length>0&&!ej.isNullOrUndefined(t)&&(tt=this.renderAdvancedHeader(t,r,i,u),this.populatePropertyItem(n,tt,r,i,u,!1));this.renderExpressionElement(n,s,t,i,r,u)}},n.prototype.validatePropertyValues=function(n,t,i,r){var f;if(n.name==="Name"){var u=ejDashboardDesigner.getInstance("DesignPanel").getReportItems($("#"+this.id+"_designBody .e-reportitem")),e=ejDashboardDesigner.getInstance("DesignPanel").getReportItems($("#"+this.id+"_designHeader .e-reportitem")),o=ejDashboardDesigner.getInstance("DesignPanel").getReportItems($("#"+this.id+"_designFooter .e-reportitem"));if(u.push.apply(u,e),u.push.apply(u,o),this.headerInput.val()==="")return ej.DashboardUtil.showErrIndictor($("#"+this.id+"_propertyItemHeaderText_Name_error"),!0,"Name cannot be empty"),this.headerInput.addClass("e-designer-error"),!1;if(u.length>1)for(f=0;f<u.length;f++)if(u[f].Name===this.headerInput.val()&&this.propertyHeaderVal!==this.headerInput.val())return $("#"+this.id+"_"+i+"_"+t+"_"+n.name+"_parent").css("border-width","1px"),ej.DashboardUtil.showErrIndictor($("#"+this.id+"_propertyItemHeaderText_Name_error"),!0,"Name already exists"),this.headerInput.addClass("e-designer-error"),!1}else if(n.itemType==="float"&&(parseFloat(n.minimum)>parseFloat(r.value)||parseFloat(n.maximum)<parseFloat(r.value)||ej.isNullOrUndefined(n.minimum)&&parseFloat(r.value)<0||ej.isNullOrUndefined(n.maximum)&&parseFloat(r.value)>20))return!1;return ej.DashboardUtil.showErrIndictor($("#"+this.id+"_propertyItemHeaderText_Name_error"),!1),this.headerInput.removeClass("e-designer-error"),!0},n.prototype.getPreviousValue=function(n,t,i){var r=ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length,u=ejDashboardDesigner.getInstance("DesignPanel").selectedItems.length;return r>0&&r<2&&!ej.isNullOrUndefined(ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue"))?ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue"):u>0&&r===0&&!ej.isNullOrUndefined(ejDashboardDesigner.getInstance("DesignPanel").selectedItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue"))?ejDashboardDesigner.getInstance("DesignPanel").selectedItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue"):n.value},n.prototype.setPreviousValue=function(n,t,i,r){var u=ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems.length,f=ejDashboardDesigner.getInstance("DesignPanel").selectedItems.length;f>0&&u===0?ejDashboardDesigner.getInstance("DesignPanel").selectedItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue",ej.isNullOrUndefined(r.value)?ej.isNullOrUndefined(r.isChecked)?"":r.isChecked:r.value):u>0&&u<2&&ejDashboardDesigner.getInstance("DesignPanel").selectedReportItems[0].data(this.id+"_"+i+"_"+t+"_"+n.name+"_previousValue",ej.isNullOrUndefined(r.value)?ej.isNullOrUndefined(r.isChecked)?"":r.isChecked:r.value)},n.prototype.itemNameChange=function(){this.onValueChange({name:"Name",value:this.activeProperty.Header},"General",this.activeProperty.Type,!1)},n.prototype.itemDescriptionChange=function(){this.onValueChange({name:"Description",value:this.activeProperty.Description},"General",this.activeProperty.Type,!1)},n.prototype.itemCommentChange=function(n,t){this.onValueChange({name:"Comment",value:this.activeProperty.Comment.value},"General",this.activeProperty.Type,t)},n.prototype.onValueChange=function(n,t,i,r){if(!ej.isNullOrUndefined(r)&&this.validatePropertyValues(n,t,i,r)){if(this.canUpdate){var u=this.getPreviousValue(n,t,i);n.name==="Name"?(this.updatePropertyChange(n.name,u,this.headerInput.val(),n,t,i),this.propertyHeaderVal=this.headerInput.val()):n.name==="Description"&&this.updatePropertyChange(n.name,u,this.descriptionInput.val(),n,t);n.name!="Name"&&n.name!="Description"&&this.isValueChanged(u,!ej.isNullOrUndefined(r)&&!ej.isNullOrUndefined(r.value)?r.value:ej.isNullOrUndefined(r.isChecked)?"":r.isChecked)&&this.updatePropertyChange(n.name,u,ej.isNullOrUndefined(r.value)?ej.isNullOrUndefined(r.isChecked)?"":r.isChecked:r.value,n,t)}this.setPreviousValue(n,t,i,r)}else this.canUpdate&&(this.canUpdate=!1,this.updatePropertyValue({name:n.name,itemType:n.itemType,valueList:n.valueList,categoryName:t},i,this.getPreviousValue(n,t,i)),this.canUpdate=!0)},n.prototype.isValueChanged=function(n,t){return n!==t},n.prototype.updatePanelSize=function(){this.resizeObj.isPropertyPanel=this.resizeObj.isDataAssign=!0;this.propertyPanelContainer.is(":visible")?(this.updateSize(),this.resizeObj.isPropertyPanel=!1):$("#"+this.reportDesigner._id+"_dataTabRootElement").is(":visible")&&(ejDashboardDesigner.getInstance("DataConfiguration").updateSize(),this.resizeObj.isDataAssign=!1)},n.prototype.updateSize=function(){this.isLoaded()&&(this.propertyPanelContainer.height($("#"+this.id+"_dataPanelContainer").height()-34+"px"),this.ejPanelScroller&&(this.ejPanelScroller.setModel({height:$("#"+this.id+"_dataPanelContainer").height()-34+"px"}),this.ejPanelScroller.refresh()))},n.prototype.updatePropertyChange=function(n,t,i,r,u,f){var h,s,o,e;if(ejDashboardDesigner.editManager.setMergeAction(!0),this.targetDesignArea&&this.targetDesignArea.length>0&&(this.designPanel.selectedReportItems.length<1||!ej.isNullOrUndefined(f)&&f==="Dashboard"))this.designPanel.updatePropertyChange(n,this.targetDesignArea,t,i,{name:r.name,itemType:r.itemType,valueList:r.valueList,categoryName:u});else if(!ej.isNullOrUndefined(this.targetItems)&&!ejDashboardDesigner.editManager.isPerformAction)for(h=this.targetItems.length,s=0;s<h;s++)o=ej.DashboardUtil.getReportItem(this.targetItems[s]),e=$.extend(!0,{},r),e.categoryName=u,e.valueList=r.valueList,o.updatePropertyChange(n,t,i,e),o.controlType==="Chart"?o.chartProperties.getContainerInstance().updatePropertyChange(n,t,i,e):o.getContainerInstance().updatePropertyChange(n,t,i,e);ej.DashboardDesignerUtility.Serialization.notifyChange();ejDashboardDesigner.editManager.setMergeAction(!1)},n.prototype.updateCulture=function(n){var i=this.id,t;t=ej.DashboardDesigner.Locale[n]?ej.DashboardDesigner.Locale[n].propertyPanel:ej.DashboardDesigner.Locale["en-US"].propertyPanel;this.propertyHeaderText=t.headerText;$("#"+i+"_propertyPanelHeaderText").html(this.propertyHeaderText)},n}();window.ej.createObject("ej.DashboardDesignerUtility.PropertyPanel",InternalPropertyPanel,window);InternalPSQLDataSource=function(){function n(){this.lastServerName="";this.datasource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"PSQLDataSource",{get:function(){return(this.psqldataSource===null||this.psqldataSource===undefined)&&(this.psqldataSource=new ej.DashboardDesignerUtility.PSQLDataSource),this.psqldataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_psql_datasource").length>0?this.resetConfiguration():(this.psqlConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_psql_datasource"}),n.append(this.psqlConfig),this.renderBasicPanel());this.showConfiguration(!0)},n.prototype.renderBasicPanel=function(){this.basicPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_psql_basicpanel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_psql_basic_config"});this.psqlConfig.append(this.basicPanel);this.basicPanel.append(n);this.datasource.renderTextBoxItem("Server Name",this.id+"_psql_servername",!1,n,426);this.datasource.renderNumericItem("Port",this.id+"_psql_port",n,this.inputFocus,this,this.dsName);this.datasource.renderTextBoxItem("Username",this.id+"_psql_username",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_psql_passwd",!0,n,426);this.datasource.renderAccordionItem("Database",this.id+"_psql_dbname",n,this.psqlDBfocus,null,this);this.psqlServer=$("#"+this.id+"_psql_servername");this.psqlUsrName=$("#"+this.id+"_psql_username");this.psqlDatabase=$("#"+this.id+"_psql_dbname");this.psqlPasswrd=$("#"+this.id+"_psql_passwd");this.psqlPasswrdTag=$("#"+this.id+"_psql_passwd_tr");this.psqlUsrNameTag=$("#"+this.id+"_psql_username_tr");this.portData=$("#"+this.id+"_psql_port").data("ejNumericTextbox");this.port=$("#"+this.id+"_psql_port");this.portTag=$("#"+this.id+"_psql_port_tr");this.ejSqlAutoComp=this.psqlServer.data("ejAutocomplete");this.ejSqlDbAutoComp=this.psqlDatabase.data("ejAutocomplete");this.dsNameId=this.id+"_datasource_dsname";this.dsName=$("#"+this.dsNameId).val();this.psqlServer.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlUsrName.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlDatabase.bind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlPasswrd.bind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.inputFocus=function(n,t){this.elementId=ej.isNullOrUndefined(t)?null:$(t.currentTarget).attr("id");this.getDatasourceInfo(n)},n.prototype.unWiredEvents=function(){this.psqlServer.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlUsrName.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlDatabase.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName));this.psqlPasswrd.unbind("keyup",$.proxy(this.inputFocus,this,this.dsName))},n.prototype.destroy=function(){this.unWiredEvents()},n.prototype.hideValidationMsg=function(n){(ej.isNullOrUndefined(this.psqlServer)||this.psqlServer.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.psqlServer.attr("id"),!1);(ej.isNullOrUndefined(this.psqlDatabase)||this.psqlDatabase.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.psqlDatabase.attr("id"),!1);(ej.isNullOrUndefined(this.psqlUsrName)||this.psqlUsrName.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.psqlUsrName.attr("id"),!1);(ej.isNullOrUndefined(this.psqlPasswrd)||this.psqlPasswrd.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.psqlPasswrd.attr("id"),!1);(ej.isNullOrUndefined(this.port)||this.port.attr("id")===n||ej.isNullOrUndefined(n))&&this.datasource.showValidationMsg(this.port.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.psqlUsrName.val("");this.psqlPasswrd.val("");this.portData.option("value","");this.ejSqlAutoComp.clearText();this.ejSqlDbAutoComp.clearText();this.ejSqlAutoComp.setModel({value:"",dataSource:[]});this.ejSqlDbAutoComp.setModel({value:"",dataSource:[]});this.lastServerName=""},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Port=t.Port;n.SecurityType=t.SecurityType},n.prototype.editConfiguration=function(n){var i,t;this.renderConfiguration(this.datasource.configTable);n&&(i=n.ConnectionProperties.ConnectString,n.ConnectionProperties.IsDesignState||(t=this.datasource.getConStringArgs(i),this.psqlUsrName.val(n.ConnectionProperties.UserName),this.psqlPasswrd.val(n.ConnectionProperties.PassWord),t.Server.value&&this.ejSqlAutoComp.setModel({value:t.Server.value}),t.Database.value&&this.ejSqlDbAutoComp.setModel({value:t.Database.value})));this.hideValidationMsg()},n.prototype.showConfiguration=function(n){this.psqlConfig.css("display",n?"table-row":"none");this.psqlConfig.children().show()},n.prototype.getDatabaseVal=function(){var n=this.ejSqlDbAutoComp.getValue();return n?n:$("#"+this.id+"_psql_dbname").val()},n.prototype.getDatasourceInfo=function(n,t){var i=!0,r="",u="",o="",s=!0,h="Integrated";this.hideValidationMsg(this.elementId);var f="",c=this.getDatabaseVal(),e=this.portData.option("value");return(c.length===0&&(this.psqlDatabase.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.psqlDatabase.attr("id"),!0,"Specify the database name"),i=!1),(this.port.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(ej.isNullOrUndefined(e)||e.length===0)&&(this.datasource.showValidationMsg(this.port.attr("id"),!0,"Specify the port number"),i=!1),f=this.psqlServer.val(),r=this.psqlUsrName.val(),u=this.psqlPasswrd.val(),h="DataBase",s=!1,f.length===0&&(this.psqlServer.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.psqlServer.attr("id"),!0,"Specify the server name"),i=!1),r.length===0&&(this.psqlUsrName.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.psqlUsrName.attr("id"),!0,"Specify the Username"),i=!1),u.length===0&&(this.psqlPasswrd.attr("id")===this.elementId||ej.isNullOrUndefined(this.elementId))&&(this.datasource.showValidationMsg(this.psqlPasswrd.attr("id"),!0,"Specify the Password"),i=!1),o=this.buildConnection(f,c,t),i)?{Name:n,Provider:"PostgreSQL",IsIntegrated:s,SecurityType:h,IsDesignState:!1,Username:r,Password:u,Port:e,ConnectionString:o}:null},n.prototype.buildConnection=function(n,t,i){var f,r,e,u,o;if(this.datasource.isEdit){for(f="",r=this.datasource.getConStringArgs(i.ConnectionProperties.ConnectString),r.Server.value&&(r.Server.value=n),r.Database.value&&(r.Database.value=t),e=Object.keys(r),u=0;u<e.length;u++)o=r[e[u]],f+=o.field+"="+o.value+";";return f}return"Server="+n+";Database="+t+";"},n.prototype.psqlDBfocus=function(n){var t,i,o;if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackDB&&(t="",t=this.psqlServer.val(),i=this.portData.option("value"),t)){var r="",u="",f=!0,e="Integrated";r=this.psqlUsrName.val();u=this.psqlPasswrd.val();f=!1;e="DataBase";this.isPostBackDB=!0;o={Name:"",Provider:"PostgreSQL",IsIntegrated:f,SecurityType:e,Username:ej.DashboardUtil.encryptData(r),Password:ej.DashboardUtil.encryptData(u),Port:i,ConnectionString:ej.DashboardUtil.encryptData("Server="+t+";")};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:o})},{fnction:$.proxy(this.loadpsqlDB,this)})}},n.prototype.loadpsqlDB=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejSqlDbAutoComp.setModel({dataSource:i})}this.isPostBackDB=!1},n.prototype.psqlServerFocusOut=function(){var n="";n=this.psqlServer.val();this.lastServerName!==n&&this.ejSqlDbAutoComp.setModel({dataSource:[]});this.lastServerName=""},n.prototype.psqlServerFocus=function(n){if(this.lastServerName=this.psqlServer.val(),!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackServer){this.isPostBackServer=!0;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.serverInstance,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.serverInstance,datasource:{Name:"",Provider:"PostgreSQL",IsIntegrated:!0,SecurityType:"Integrated",Username:"",Password:"",ConnectionString:""}})},{fnction:$.proxy(this.loadpsqlServers,this)})}},n.prototype.loadpsqlServers=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].ServerName);this.ejSqlAutoComp.setModel({dataSource:i})}this.isPostBackServer=!1},n}();window.ej.createObject("ej.DashboardDesignerUtility.PSQLDataSource",InternalPSQLDataSource,window);InternalQueryExpression=function(){function n(){this.id=null;this.oldVal="";this.oldExpName="";this.queryExp=[];this.tempExp=[];this.provider="";this.listContainer=null;this.expLiTag=null;this.bodyContainer=null;this.textBox=null;this.textArea=null;this.expressionContainer=null;this.addBtnTag=null;this.saveBtnTag=null;this.footerTag=null;this.columnList=0;this.expWaterMark="Query Expression";this.nameWaterMark="Expression Name";this.ejFunctionDropdown=null;this.ejColumnDropdown=null;this.ejFunctionList=null;this.ejColumnList=null;this.ejSaveBtn=null;this.ejExpDialog=null;this.ejIndicator=null;this.queryDesigner=ej.DashboardUtil.getQueryInstance("QueryDesigner");this.id=this.queryDesigner.id;this.provider="SQL";this.renderQueryExpression()}return Object.defineProperty(n,"QueryExpression",{get:function(){return(this.queryExpression===null||this.queryExpression===undefined)&&(this.queryExpression=new ej.DashboardDesignerUtility.QueryExpression),this.queryExpression},enumerable:!0,configurable:!0}),n.prototype.renderQueryExpression=function(){var i=ej.buildTag("div.e-userselect","",{},{id:this.id+"_exp_designer"}),t=ej.buildTag("div","",{},{id:this.id+"_exp_designer_div"}),n,r;i.append(t);var a=ej.buildTag("table.e-querydesigner-exp-table","",{},{unselectable:"on"}),v=ej.buildTag("tr","",{}),y=ej.buildTag("td.e-querydesigner-exp-separator e-querydesigner-exp-td","",{"font-size":"13px"},{}),p=ej.buildTag("td","",{"margin-left":"12px"},{});t.append(a);a.append(v);v.append(y).append(p);n=ej.buildTag("div","",{width:"175px",height:"460px"});r=this.expressionContainer=ej.buildTag("div","",{"margin-left":"10px"},{id:this.id+"_exp_designer_container_exp"});y.append(n);p.append(r);var u=ej.buildTag("table.e-querydesigner-exp-table","",{width:"623px"},{unselectable:"on"}),w=ej.buildTag("tr","",{width:"590px"}),b=ej.buildTag("td","",{}),ui=ej.buildTag("label.e-designer-title-label","Name",{},{id:this.id+"_exp_designer_exp_name"}),k=ej.buildTag("tr","",{width:"590px"}),d=ej.buildTag("td","",{}),f=this.textBox=ej.buildTag("input.e-textbox e-designer-textbox","",{height:"20px",width:"240px","margin-top":"2px","margin-bottom":"5px"},{type:"text",id:this.id+"_exp_designer_textBox",spellcheck:"false"});b.append(ui);w.append(b);d.append(f);k.append(d);var g=ej.buildTag("tr","",{height:"100px",width:"590px"}),nt=ej.buildTag("tr","",{width:"590px"}),tt=ej.buildTag("td","",{}),fi=ej.buildTag("label.e-designer-title-label","Expression",{},{id:this.id+"_exp_designer_trgt_name"});tt.append(fi);nt.append(tt);var it=ej.buildTag("td","",{"font-size":"13px"},{}),e=this.textArea=ej.buildTag("textarea.e-textarea e-designer-textarea","",{height:"90px",width:"593px","margin-top":"6px"},{id:this.id+"_exp_designer_textarea",spellcheck:"false"}),rt=ej.buildTag("tr","",{height:"255px",width:"590px"}),ut=ej.buildTag("td","",{}),ft=ej.buildTag("table.e-querydesigner-exp-innertable","",{height:"250px",width:"590px","margin-top":"6px","margin-bottom":"2px"}),et=ej.buildTag("tr","",{height:"35px",width:"590px"}),ot=ej.buildTag("td","",{}),ei=ej.buildTag("span.e-designer-title-label","Functions",{},{}),st=ej.buildTag("div","",{"margin-top":"6px",width:"210px"},{}),o=ej.buildTag("input","",{"margin-top":"5px"},{id:this.id+"_exp_designer_options"}),oi=ej.buildTag("div","",{},{id:this.id+"_exp_designer_option_div"}),ht=ej.buildTag("td","",{}),si=ej.buildTag("div","",{height:"25px",margin:"25px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});ht.append(si);var ct=ej.buildTag("td","",{}),hi=ej.buildTag("span.e-designer-title-label","Column Settings",{"margin-left":"6px"},{}),lt=ej.buildTag("div","",{"margin-top":"6px",width:"199px","margin-left":"6px"},{}),s=ej.buildTag("input","",{height:"35px",width:"190px"},{id:this.id+"_exp_designer_data"}),ci=ej.buildTag("div","",{},{id:this.id+"_exp_designer_data_div"}),li=ej.buildTag("td","",{height:"35px"}),at=ej.buildTag("tr","",{width:"590px"}),vt=ej.buildTag("td","",{width:"210px"},{}),yt=ej.buildTag("td","",{}),ai=ej.buildTag("div","",{height:"200px",margin:"-10px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});yt.append(ai);var pt=ej.buildTag("td","",{width:"205px"},{}),wt=ej.buildTag("td","",{height:"190px"}),bt=ej.buildTag("div","",{width:"205px","margin-top":"4px"},{}),h=ej.buildTag("ul","",{},{id:this.id+"_exp_designer_option_list"}),kt=ej.buildTag("div","",{width:"199px","margin-top":"4px","margin-left":"6px"},{}),c=ej.buildTag("ul","",{},{id:this.id+"_exp_designer_data_list"}),dt=ej.buildTag("div.e-designer-cursor","",{height:"200px",width:"180px","margin-right":"10px"},{id:this.id+"_cat_desc"}),vi=ej.buildTag("div","",{height:"5px"},{}),yi=ej.buildTag("div.e-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_desc_heading"}),pi=ej.buildTag("div","",{"text-align":"justify",height:"auto","font-size":"12px","margin-top":"8px"},{id:this.id+"_exp_designer_desc_content"}),wi=ej.buildTag("div","",{height:"12px"},{}),bi=ej.buildTag("div.e-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_example_heading"}),ki=ej.buildTag("div","",{float:"left","word-wrap":"break-word","margin-top":"8px",height:"auto","font-size":"12px",width:"190px"},{id:this.id+"_exp_designer_example_content"}),gt=this.addBtnTag=ej.buildTag("button","Add",{float:"left"},{id:this.id+"_exp_designer_add_btn"}),ni=this.saveBtnTag=ej.buildTag("input","",{float:"right"},{id:this.id+"_exp_designer_save_btn"}),ti=ej.buildTag("input","",{float:"right"},{id:this.id+"_exp_designer_close_btn"}),l=this.bodyContainer=ej.buildTag("div.e-lv e-js e-parentlv e-designer-hint-newexpression e-reportdesigner-scroller","",{width:"100%",height:n.height(),display:"block"},{id:this.id+"_exp_designer_bodyContainer"}),ii=ej.buildTag("div","",{},{}),ri=this.listContainer=ej.buildTag("div.e-list-container e-js e-widget e-reportdesigner-dataset","",{"border-top-width":"1px",padding:"3px"},{id:this.id+"_div_expList"}),di=this.expLiTag=ej.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_query_exp_li_container"});ri.append(di);ii.append(ri);l.append(ii);n.append(l);it.append(e);g.append(it);u.append(w).append(k).append(nt).append(g);et.append(li).append(ot).append(ht).append(ct);ot.append(ei).append(st);st.append(o).append(oi);ct.append(hi).append(lt);lt.append(s).append(ci);ft.append(et).append(at);ut.append(ft);rt.append(ut);u.append(rt);vt.append(bt);bt.append(h);pt.append(kt);kt.append(c);wt.append(dt);dt.append(vi).append(yi).append(pi).append(wi).append(bi).append(ki);at.append(wt).append(vt).append(yt).append(pt);r.append(u);i.ejDialog({width:"auto",height:"auto",minWidth:"310px",minHeight:"215px",title:"Query Expressions",zIndex:1e3,beforeClose:$.proxy(this.closeExpDialog,this),enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"e-designer-dialog e-flat-mode",enableModal:!0});this.footerTag=$("#"+this.id+"_exp_designer_foot");this.footerTag.append(gt).append(ti).append(ni);o.ejDropDownList({targetID:this.id+"_exp_designer_option_div",dataSource:[],popupHeight:"150px",minPopupWidth:"197px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets e-designer-drpdown-selection",width:"190px",height:"28px",change:$.proxy(this.renderFunctionList,this)});s.ejDropDownList({targetID:this.id+"_exp_designer_data_div",popupHeight:"150px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets e-designer-drpdown-selection",minPopupWidth:"197px",fields:{id:"id",text:"name"},dataSource:[],width:"190px",height:"28px",change:$.proxy(this.renderColumnList,this)});h.ejListBox({dataSource:[],height:"190px",change:$.proxy(this.optionClick,this),showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-list-selection",width:"190px"});c.ejListBox({dataSource:[],height:"190px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-list-selection",width:"190px"});gt.ejButton({showRoundedCorner:!1,size:"mini",width:"80px",height:"28px",text:"Add",contentType:ej.ContentType.TextAndImage,cssClass:"e-designer-addbtn",prefixIcon:"e-icon e-plus e-designer-plus-icon",click:$.proxy(this.addExpression,this)});ti.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",text:"Close",click:$.proxy(this.closeExpression,this)});ni.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",text:"Save",click:$.proxy(this.saveExpression,this)});l.ejScroller({buttonSize:0,scrollerSize:9,height:n.height(),enableTouchScroll:!0});t.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});this.ejFunctionDropdown=o.data("ejDropDownList");this.ejColumnDropdown=s.data("ejDropDownList");this.ejFunctionList=h.data("ejListBox");this.ejColumnList=c.data("ejListBox");this.ejSaveBtn=this.saveBtnTag.data("ejButton");this.ejExpDialog=i.data("ejDialog");this.ejIndicator=t.data("ejWaitingPopup");e.bind("change keyup paste",$.proxy(this.txtExpChanged,this));f.bind("change keyup paste",$.proxy(this.txtNameChanged,this));ej.DashboardUtil.txtWaterMark(e,this.expWaterMark);ej.DashboardUtil.txtWaterMark(f,this.nameWaterMark);this.wiredEvents()},n.prototype.enbaleSavebtn=function(n){n?(this.saveBtnTag.css("opacity","1"),this.ejSaveBtn.enable()):(this.saveBtnTag.css("opacity",".5"),this.ejSaveBtn.disable())},n.prototype.txtNameChanged=function(){var t=this.textBox.val(),n=this.expressionContainer.data("e-exp");t!==this.oldExpName?n&&n.isEdit&&t!==n.name||(n&&!n.isEdit||ej.isNullOrUndefined(n))&&t.length!==0?this.enbaleSavebtn(!0):this.enbaleSavebtn(!1):(n&&n.isEdit&&t===n.name||(n&&!n.isEdit||ej.isNullOrUndefined(n))&&t.length===0)&&this.enbaleSavebtn(!1);this.oldExpName=t},n.prototype.txtExpChanged=function(){var t=this.textArea.val(),n=this.expressionContainer.data("e-exp");t!==this.oldVal?n&&n.isEdit&&t!==n.expression||(n&&!n.isEdit||ej.isNullOrUndefined(n))&&t.length!==0?this.enbaleSavebtn(!0):this.enbaleSavebtn(!1):(n&&n.isEdit&&t===n.expression||(n&&!n.isEdit||ej.isNullOrUndefined(n))&&t.length===0)&&this.enbaleSavebtn(!1);this.oldVal=t},n.prototype.updateTextArea=function(){var n=this.textArea.val();n&&n.length>0?n!==this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")&&this.textArea.removeClass("e-designer-txtmark"):this.textArea.val(this.expWaterMark).addClass("e-designer-txtmark")},n.prototype.updateTextBox=function(){var n=this.textBox.val();n&&n.length>0?n!==this.nameWaterMark&&this.textBox.hasClass("e-designer-txtmark")&&this.textBox.removeClass("e-designer-txtmark"):this.textBox.val(this.nameWaterMark).addClass("e-designer-txtmark")},n.prototype.addExpression=function(){var t=this.expressionContainer.data("e-exp"),n,i,r,u;t&&t.isEdit?(n=this.textBox.val(),i=this.textArea.val(),n===this.nameWaterMark&&this.textBox.hasClass("e-designer-txtmark")&&(n=""),i===this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")&&(i=""),this.hasExpChanges(t,i)?n&&n.length===0||i&&i.length===0||!this.isValidName(n)||!/^[a-zA-Z0-9- _]*$/.test(n)?this.newExpression():ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Expression is not saved. Do you want to save and continue?",!0,!1,!0,"",{method:"updateExpressionInfo",instance:this,dataInfo:{name:n}}):this.switchEditExp()):t&&!t.isEdit||ej.isNullOrUndefined(t)?(r=this.getAvailableName(),this.textArea.val(this.expWaterMark).addClass("e-designer-txtmark"),this.textBox.val(r),this.updateTextBox(),this.enbaleSavebtn(!1)):this.newExpression();u=this.textBox.val();this.onListItemMouseUp({target:$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(u))[0]})},n.prototype.deleteEmtyExp=function(){var t=this,i=this.expLiTag.find("li"),n=null;i.each(function(i,r){for(var e=$(r).find(".e-list-text").text(),f=!0,u=0;u<t.queryExp.length;u++)if(e===t.queryExp[u].name){f=!1;break}if(f){n=$(r);return}});n&&n.remove()},n.prototype.getEmptyExp=function(){var n=this,i=this.expLiTag.find("li"),t=null;return i.each(function(i,r){for(var f=$(r).find(".e-list-text").text(),e=!0,u=0;u<n.queryExp.length;u++)if(f===n.queryExp[u].name){e=!1;break}if(e){t=f;return}}),t},n.prototype.switchEditExp=function(){var n=this,i=this.expLiTag.find("li"),t=!0;i.each(function(i,r){for(var f=$(r).find(".e-list-text").text(),e=!0,u=0;u<n.queryExp.length;u++)if(f===n.queryExp[u].name){e=!1;break}if(e){t=!1;n.expListClick(f);return}});t&&this.newExpression()},n.prototype.hasExpChanges=function(n,t){for(var i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===n.name&&(this.queryExp[i].name!==this.textBox.val()||this.queryExp[i].expression!==t))return!0;return!1},n.prototype.newExpression=function(){var n=this.getAvailableName();this.textArea.val(this.expWaterMark).addClass("e-designer-txtmark");this.textBox.val(n);this.updateTextBox();this.expressionContainer.data("e-exp",{isEdit:!1,name:""});this.appendExpList(n);this.enbaleSavebtn(!1);this.UpdateMiscellaneousList()},n.prototype.updateExpressionInfo=function(n){var t,i;if(n)t=(new ej.DashboardDesignerUtility.ExpressionParsor).parseErrors(this.textArea.val(),this.provider),this.isBalanceBrackets(this.textArea.val())?t&&t.length>0?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression",t[0],!1,!0,!1,"DashboardDesigner failed to parse the specified expression"):this.serverValidationExp({name:this.textBox.val(),expression:this.textArea.val()},ExpAction.Save):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Incorrect Syntax near Open/Close bracket(s).",!1,!0,!0,"");else{this.switchEditExp();i=this.textBox.val();this.onListItemMouseUp({target:$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(i))[0]})}},n.prototype.isValidName=function(n){for(var t=this.expressionContainer.data("e-exp"),i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===n&&(ej.isNullOrUndefined(t)||t.isEdit&&t.name!==n))return!1;return!0},n.prototype.getAvailableName=function(){for(var n,u,i="Expression",r=[],t=0;t<this.queryExp.length;t++)r.push(this.queryExp[t].name);n=0;do n++,u=r.indexOf(i+n);while(u!==-1);return i+n},n.prototype.populateExpressions=function(){if(this.expLiTag.children().length>0&&this.expLiTag.empty(),!ej.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0)for(var n=0;n<this.queryExp.length;n++)this.appendExpList(this.queryExp[n].name);this.scrollerRefresh(this.bodyContainer)},n.prototype.updateExpList=function(n,t){var i=ej.DashboardUtil.escapeSelector(n),r=ej.DashboardUtil.escapeSelector(t);$("#"+this.id+"_li_"+r).remove();$("#"+this.id+"_li_"+i).unbind("click",$.proxy(this.expressionSelection,this,n));$("#"+this.id+"_"+i).unbind("click",$.proxy(this.removeExpression,this,n));$("#"+this.id+"_li_"+i+" .e-list-text").text(t);$("#"+this.id+"_li_"+i).attr("id",this.id+"_li_"+r);$("#"+this.id+"_"+i).attr("id",this.id+"_"+r);$("#"+this.id+"_li_"+r).bind("click",$.proxy(this.expressionSelection,this,t));$("#"+this.id+"_"+r).bind("click",$.proxy(this.removeExpression,this,t))},n.prototype.appendExpList=function(n,t){var f=ej.DashboardUtil.escapeSelector(n),i=ej.buildTag("li.e-user-select e-list e-state-default e-list-check e-reportdesigner-exp-list","",{padding:"0px","list-style":"none"},{id:this.id+"_li_"+f,name:n}),r=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"8px 0px"}),e=ej.buildTag("span.e-list-text e-rel e-designer-content",n,{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle","padding-left":"2px",display:"inline-block","margin-top":"-2px",width:"122px","line-height":"normal","margin-left":"5px"},{name:n}),u;r.append(e);u=ej.buildTag("div.e-chk-image e-icon e-cross-circle","",{color:"#ff4d4d",float:"right",cursor:"pointer","margin-top":"2px","margin-right":"6px","font-size":"16px"},{id:this.id+"_"+f});r.append(u);i.append(r);u.bind("click",$.proxy(this.removeExpression,this,n));i.bind("click",$.proxy(this.expressionSelection,this,n));i.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onListItemMouseUp,this));ej.isNullOrUndefined(t)?this.expLiTag.append(i):t===0?(this.expLiTag.prepend(i),i.css({"border-bottom":"0.5px solid #c8c8c8"})):this.listContainer.find("ul>li:nth-child("+t+")").after(i);this.updateContainerBorder();this.bodyContainer.height()>this.listContainer.height()?this.bodyContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.bodyContainer)},n.prototype.onListItemMouseUp=function(n){var t=$(n.target).closest("li");t.hasClass("e-expression-user-selection-active")||(t.parent().children().each(function(){var n=$(this);n.removeClass("e-expression-user-selection-active");n.find("span").removeClass("e-expression-user-selection-active")}),t.addClass("e-expression-user-selection-active"),t.find("span").addClass("e-expression-user-selection-active"))},n.prototype.expressionSelection=function(n){this.expListClick(n)},n.prototype.renderFunctionJson=function(n){for(var t=0;t<n.length;t++)this.ejFunctionDropdown.setModel({fields:{id:"id",text:"name"},dataSource:n});this.ejFunctionDropdown.selectItemByText("All")},n.prototype.renderColumnJson=function(n){this.ejColumnDropdown.setModel({fields:{id:"id",text:"name"},dataSource:n});this.ejColumnDropdown.selectItemByText("All")},n.prototype.renderFunctionList=function(n){this.ejFunctionList.setModel({dataSource:n.value,fields:{id:"id",text:"name"},selectedIndex:0});var t=this.ejFunctionList.getSelectedItems();this.optionClick(t[0])},n.prototype.renderColumnList=function(n){this.ejColumnList.setModel({dataSource:n.value,fields:{text:"text"},selectedIndex:0})},n.prototype.getColumnJson=function(){for(var n,t=this.getTableItems(),r=[],u=[],f=[],i=0;i<t.length;i++)n=t[i].dataType,n.toLowerCase()==="int"||n==="decimal"||n==="money"||n==="smallmoney"||n==="numeric"||n==="float"||n==="smallint"||n==="bigint"||n==="real"||n==="tinyint"||n==="uniqueidentifier"?r.push(t[i]):n==="nchar"||n==="ntext"||n==="nvarchar"||n==="text"||n==="varchar"||n==="char"||n==="bit"?u.push(t[i]):(n==="datetime"||n==="datetime2"||n==="smalldatetime"||n==="date"||n==="datetimeoffset"||n==="timestamp"||n==="time")&&f.push(t[i]);return[{id:1,name:"All",value:t},{id:2,name:"Number",value:r},{id:3,name:"Text",value:u},{id:4,name:"Date",value:f},{id:5,name:"Miscellaneous",value:[]}]},n.prototype.functionJson=function(){return[{id:"ABS",name:"ABS",categoryName:"Numbers",desc:"Returns the absolute value of the given expression.",example:"ABS(numeric_expression)"},{id:"ACOS",name:"ACOS",categoryName:"Numbers",desc:"Returns the inverse cosine (also known as arccosine) of the given numeric expression.",example:"ACOS(numeric_expression)"},{id:"ASIN",name:"ASIN",categoryName:"Numbers",desc:"Returns the inverse sine (also known as arcsine) of the given numeric expression.",example:"ASIN(numeric_expression)"},{id:"ATAN",name:"ATAN",categoryName:"Numbers",desc:"Returns the inverse tangent (also known as arctangent) of the given numeric expression.",example:"ATAN(numeric_expression)"},{id:"COS",name:"COS",categoryName:"Numbers",desc:"Returns the cosine of the angle specified in radians of the given expression.",example:"COS(numeric_expression)"},{id:"DEGREES",name:"DEGREES",categoryName:"Numbers",desc:"Returns the angle in degrees for the one specified in radians of the given numeric expression.",example:"DEGREES(numeric_expression)"},{id:"EXP",name:"EXP",categoryName:"Numbers",desc:"Returns the exponential value of the given expression.",example:"EXP(numeric_expression)"},{id:"LOG",name:"LOG",categoryName:"Numbers",desc:"Returns the logarithm of the given expression to the specified base.",example:"LOG(numeric_expression)"},{id:"PI",name:"PI",categoryName:"Numbers",desc:"Returns the constant value of PI.",example:"PI()"},{id:"POWER",name:"POWER",categoryName:"Numbers",desc:"Returns the value of the given expression (expression1) to the specified power (expression2).",example:"POWER(numeric_expression, numeric_expression)"},{id:"RADIANS",name:"RADIANS",categoryName:"Numbers",desc:"Returns the angle in radians for the one specified in degrees in the given numeric expression.",example:"RADIANS(numeric_expression)"},{id:"ROUND",name:"ROUND",categoryName:"Numbers",desc:"Returns a rounded value.",example:"ROUND(numeric_expression)"},{id:"SIGN",name:"SIGN",categoryName:"Numbers",desc:"Returns a value representing the positive (+1), zero(0), or negative (-1) sign of the given numeric expression.",example:"SIGN(numeric_expression)"},{id:"SIN",name:"SIN",categoryName:"Numbers",desc:"Returns the sine of the angle specified in radians of the given expression.",example:"SIN(numeric_expression)"},{id:"SQRT",name:"SQRT",categoryName:"Numbers",desc:"Returns the square root of the given numeric expression.",example:"SQRT(numeric_expression)"},{id:"TAN",name:"TAN",categoryName:"Numbers",desc:"Returns the tangent of the given numeric expression.",example:"TAN(numeric_expression)"},{id:"IF",name:"IF",categoryName:"Conditional",desc:"Returns either true part or false part, depending upon the evaluation of the expression.",example:"IF(expression, true_part, false_part)"},{id:"IFNULL",name:"IFNULL",categoryName:"Conditional",desc:"If the expression is numeric/string/date, returns the first expression. If the first expression is NULL, returns the second expression.",example:"IFNULL(expression1,expression2)"},{id:"ISNOTNULL",name:"ISNOTNULL",categoryName:"Conditional",desc:"If the numeric/ string / date_expression is NULL, returns a string representing false, otherwise represents true.",example:"ISNOTNULL(expression)"},{id:"ISNULL",name:"ISNULL",categoryName:"Conditional",desc:"If the numeric/string/date_expression is NULL, returns a string representing true, otherwise represents false.",example:"ISNULL(expression)"},{id:"AND",name:"AND",isLogical:!0,categoryName:"Logical",desc:"Returns true if both the expressions evaluates to true.",example:"(expression1) AND (expression2)"},{id:"NOT",name:"NOT",isLogical:!0,categoryName:"Logical",desc:"Returns the reversal logical value of the expression being evaluated.",example:"NOT(expression)"},{id:"OR",name:"OR",isLogical:!0,categoryName:"Logical",desc:"Returns true if any of the expressions evaluates to true.",example:"(expression1) OR (expression2)"},{id:"DATEADD",name:"DATEADD",categoryName:"Date",desc:"Adds the number of days to the specified date.",example:"DATEADD(numeric_expression, date_expression)"},{id:"DATENAME",name:"DATENAME",categoryName:"Date",desc:"Returns a string representing the specified datepart of the given date expression.",example:"DATENAME(datepart, date_expression)"},{id:"DATEPART",name:"DATEPART",categoryName:"Date",desc:"Returns an integer value representing the specified date part of the given date expression.",example:"DATEPART(datepart, date_expression)"},{id:"DATESUB",name:"DATESUB",categoryName:"Date",desc:"Returns the date subtracted from the specified date.",example:"DATESUB(numeric_expression, date_expression)"},{id:"DAY",name:"DAY",categoryName:"Date",desc:"Returns a numeric value representing the day part of the specified date.",example:"DAY(date_expression)"},{id:"DAYDIFF",name:"DAYDIFF",categoryName:"Date",desc:"Returns a numeric value representing the difference between two specified dates.",example:"DAYDIFF(date_expression, date_expression)"},{id:"HOUR",name:"HOUR",categoryName:"Date",desc:"Returns the hour of the given date as an integer.",example:"HOUR(date_expression)"},{id:"MAX",name:"MAX",categoryName:"Date",desc:"Returns the maximum value in the given expression.",example:"MAX(expression)"},{id:"MIN",name:"MIN",categoryName:"Date",desc:"Returns the minimum value in the given expression.",example:"MIN(expression)"},{id:"MINUTE",name:"MINUTE",categoryName:"Date",desc:"Returns a numeric value representing the minute part of the date resulting from specified date expression.",example:"MINUTE(date_expression)"},{id:"MONTH",name:"MONTH",categoryName:"Date",desc:"Returns a numeric value representing the month part of the date resulting from specified date expression.",example:"MONTH(date_expression)"},{id:"NOW",name:"NOW",categoryName:"Date",desc:"Returns the current date and time.",example:"NOW()"},{id:"TODAY",name:"TODAY",categoryName:"Date",desc:"Returns the current date.",example:"TODAY()"},{id:"YEAR",name:"YEAR",categoryName:"Date",desc:"Returns a numeric value representing the year part of the date resulting from the specified date expression.",example:"YEAR(date_expression)"},{id:"CHAR",name:"CHAR",categoryName:"String",desc:"Converts the given integer ASCII code into a character.",example:"CHAR(numeric_expression)"},{id:"CONCAT",name:"CONCAT",categoryName:"String",desc:"Returns a string value resulting from the concatenation of two or more string values.",example:"CONCAT(expression1, expression2, ...,expressionN)"},{id:"CONTAINS",name:"CONTAINS",categoryName:"String",desc:"Returns true if the given string expression contains the specified substring expression.",example:"CONTAINS(string_expression, substring_expression)"},{id:"ENDSWITH",name:"ENDSWITH",categoryName:"String",desc:"Returns true if the given string expression ends with the specified substring expression.",example:"ENDSWITH(string_expression, substring_expression)"},{id:"LEFT",name:"LEFT",categoryName:"String",desc:"Returns the specified number of characters from start of the given string expression.",example:"LEFT(expression, numeric_expression)"},{id:"LEN",name:"LEN",categoryName:"String",desc:"Returns the natural logarithm of the given expression.",example:"LEN(string_expression)"},{id:"LOWER",name:"LOWER",categoryName:"String",desc:"Returns a lower case converted string value from a given string expression.",example:"LOWER(string_expression)"},{id:"LTRIM",name:"LTRIM",categoryName:"String",desc:"Returns the string value with leading blanks removed from string expression.",example:"LTRIM(string_expression)"},{id:"MAX",name:"MAX",categoryName:"String",desc:"Returns the maximum value in the given expression.",example:"MAX(expression)"},{id:"MIN",name:"MIN",categoryName:"String",desc:"Returns the minimum value in the given expression.",example:"MIN(expression)"},{id:"RIGHT",name:"RIGHT",categoryName:"String",desc:"Returns the specified number of characters from the end of the given string expression.",example:"RIGHT(expression, numeric_expression)"},{id:"RTRIM",name:"RTRIM",categoryName:"String",desc:"Returns the string without right side trailing spaces in the given string.",example:"RTRIM(string_expression)"},{id:"STARTSWITH",name:"STARTSWITH",categoryName:"String",desc:"Returns true if the given string expressions starts with the specified substring expression.",example:"STARTSWITH(string_expression, substring_expression)"},{id:"SUBSTR",name:"SUBSTR",categoryName:"String",desc:"Returns a specific length of string starting from specific index of the given string expression.",example:"SUBSTR(string_expression, starting_index, length_of_the_string)"},{id:"UPPER",name:"UPPER",categoryName:"String",desc:"Returns an upper case converted string value from a given string expression.",example:"UPPER(string_expression)"}]},n.prototype.getFunctionJson=function(){for(var i,n=this.functionJson(),r=[],u=[],f=[],e=[],o=[],t=0;t<n.length;t++)i=n[t].categoryName,i==="Numbers"?r.push(n[t]):i==="Conditional"?u.push(n[t]):i==="Logical"?f.push(n[t]):i==="Date"?e.push(n[t]):i==="String"&&o.push(n[t]);return[{id:1,name:"All",value:n},{id:2,name:"Numbers",value:r},{id:3,name:"Conditional",value:u},{id:4,name:"Logical",value:f},{id:5,name:"Date",value:e},{id:6,name:"String",value:o}]},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.getTableItems=function(){var t=this,i=$("#"+this.id+"_div_dragSurface .e-data-table"),r=this.queryDesigner.dbSchema,n=[];return i.each(function(i,u){for(var c=$(u).data("e-table"),e=r.Schemas[c.schema][c.viewType][c.name],o=Object.keys(e),f=0;f<o.length;f++){var l=$(u).find("#"+t.id+"_txtSpan_"+ej.DashboardUtil.escapeSelector(e[o[f]].Name)),s=e[o[f]].DataType,a=l.text(),h="";l.attr("isDuplicate")==="true"?h=/\(([^)]+)\)/.exec(l.text())[1]:a.toLowerCase()!==e[o[f]].Name.toLowerCase()&&(h=a);s!=="geography"&&s!=="hierarchyid"&&s!=="xml"&&n.push({text:h.length===0?e[o[f]].Name:e[o[f]].Name+"("+h+")",value:e[o[f]].Name,dataType:s})}}),this.columnList=n.length,n},n.prototype.functionDblClick=function(){var i=$("#"+this.id+"_exp_designer_option_list").data("ejListBox"),r=i.model.selectedItems,n=i.model.dataSource[r],t=null;n&&(!ej.isNullOrUndefined(n.isLogical)&&n.isLogical?(t=n.name,this.caretPosition(t)):(t=n.name+"()",this.caretPosition(t,!0,t.length)))},n.prototype.columnDblClick=function(){var t=$("#"+this.id+"_exp_designer_data_list").data("ejListBox"),r=t.model.selectedItems,i=t.model.dataSource[r],n=null;i&&(n="["+i.text+"]",this.caretPosition(n,!1,n.length))},n.prototype.caretPosition=function(n,t,i){var u,f,r;n&&n.length>0&&(u=this.textArea.val(),u!==this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")?this.textArea.removeClass("e-designer-txtmark"):u===this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")&&(u="",this.textArea.val(u).removeClass("e-designer-txtmark")),this.textArea.focus(),f=this.textArea[0],r=f.selectionStart,!ej.isNullOrUndefined(i)&&t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i-1):ej.isNullOrUndefined(i)||t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r):(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i),this.textArea.trigger("change"))},n.prototype.optionClick=function(n){n.data&&($("#"+this.id+"_exp_designer_desc_heading").text("Description"),$("#"+this.id+"_exp_designer_example_heading").text("Example"),$("#"+this.id+"_exp_designer_desc_content").text(n.data.desc),$("#"+this.id+"_exp_designer_example_content").text(n.data.example))},n.prototype.removeExpression=function(n){var t,i,r,u;if($("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(n)).remove(),this.updateContainerBorder(),!ej.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0){for(t=0;t<this.queryExp.length;t++)if(this.queryExp[t].name===n){this.queryExp.splice(t,1);break}i=this.queryExp.length;i>0?(this.expListClick(this.queryExp[i-1].name),this.deleteEmtyExp()):i===0&&this.expLiTag.children().length>0&&this.expLiTag.empty()}this.expLiTag.children().length===0&&(r=this.getAvailableName(),this.appendExpList(r),this.textBox.val(r),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("e-designer-txtmark"),this.expressionContainer.data("e-exp",{isEdit:!1,name:""}));this.scrollerRefresh(this.bodyContainer);this.UpdateMiscellaneousList();u=this.textBox.val();this.onListItemMouseUp({target:$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(u))[0]})},n.prototype.expListClick=function(n){for(var i,r=!1,t=0;t<this.queryExp.length;t++)if(n===this.queryExp[t].name){this.textBox.val(this.queryExp[t].name);this.textArea.val(this.queryExp[t].expression);this.updateTextBox();this.updateTextArea();this.textArea.focus();i=this.textArea[0];i.selectionStart=i.selectionEnd=this.queryExp[t].expression.length;this.expressionContainer.data("e-exp",{isEdit:!0,name:this.queryExp[t].name,expression:this.queryExp[t].expression});r=!0;this.enbaleSavebtn(!1);break}r||(this.textBox.val(n),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("e-designer-txtmark"),this.enbaleSavebtn(!1),this.expressionContainer.data("e-exp",null));this.UpdateMiscellaneousList()},n.prototype.updateContainerBorder=function(){this.listContainer.css("border-top-width",this.listContainer.find("li").length===0?"0px":"1px")},n.prototype.wiredEvents=function(){$("#"+this.id+"_exp_designer_option_list").bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.functionDblClick,this));$("#"+this.id+"_exp_designer_data_list").bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.columnDblClick,this))},n.prototype.unWiredEvents=function(){$("#"+this.id+"_exp_designer_option_list").unbind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.functionDblClick,this));$("#"+this.id+"_exp_designer_data_list").unbind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.columnDblClick,this))},n.prototype.openExpression=function(n,t){this.provider=t;this.ejExpDialog.open();this.resetDesigner(!0);this.queryExp=n;this.tempExp=$.extend(!0,[],n);this.ejFunctionDropdown.model.dataSource&&this.ejFunctionDropdown.model.dataSource.length>0?(this.ejFunctionDropdown.option("selectedIndex",0),this.renderFunctionList(this.ejFunctionDropdown.model.dataSource[0])):this.renderFunctionJson(this.getFunctionJson());this.renderColumnJson(this.getColumnJson());this.queryExp.length>0?(this.populateExpressions(),this.expListClick(this.queryExp[0].name)):this.newExpression();var i=this.textBox.val();this.onListItemMouseUp({target:$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(i))[0]});this.refreshListScroller()},n.prototype.refreshListScroller=function(){var t=this.ejFunctionList,n;t.scrollerObj.model.scrollTop=0;n=this.ejColumnList;n.scrollerObj.model.scrollTop=0;this.ejFunctionList.refresh(!0);this.ejColumnList.refresh(!0)},n.prototype.confirmAction=function(n){if(n){var t=(new ej.DashboardDesignerUtility.ExpressionParsor).parseErrors(this.textArea.val(),this.provider);t&&t.length>0?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression",t[0],!1,!0,!1,"DashboardDesigner failed to parse the specified expression"):this.serverValidationExp({name:this.textBox.val(),expression:this.textArea.val()},ExpAction.Close)}else this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator()},n.prototype.closeConfirmation=function(){var i=this.expressionContainer.data("e-exp"),n,t;i&&i.isEdit?(n=this.textBox.val(),t=this.textArea.val(),n===this.nameWaterMark&&this.textBox.hasClass("e-designer-txtmark")&&(n=""),t===this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")&&(t=""),!this.hasExpChanges(i,t)||n&&n.length===0||t&&t.length===0||!this.isValidName(n)||!/^[a-zA-Z0-9- _]*$/.test(n)?(this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator()):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Expression is not saved. Do you want to save and continue?",!0,!1,!0,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{name:n}})):(this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator())},n.prototype.closeExpDialog=function(n){n.isInteraction&&($("#"+this.id+"_exp_designer_div_WaitingPopup").is(":visible")?(this.hideExpIndicator(),n.cancel=!1,this.excuteExpQuery()):(n.cancel=!0,this.closeConfirmation()))},n.prototype.closeExpression=function(){this.closeConfirmation()},n.prototype.excuteExpQuery=function(){ej.DashboardUtil.isEqualObj(this.queryExp,this.tempExp)||this.queryDesigner.executeUIQuery();this.tempExp=[]},n.prototype.resetDesigner=function(n){n&&this.expLiTag.children().length>0&&(this.expLiTag.empty(),this.scrollerRefresh(this.bodyContainer));this.textBox.val("");this.textArea.val("");$("#"+this.id+"_exp_designer_desc_heading").text("");$("#"+this.id+"_exp_designer_example_heading").text("");$("#"+this.id+"_exp_designer_desc_content").text("");$("#"+this.id+"_exp_designer_example_content").text("")},n.prototype.saveExpression=function(){var r=this.expressionContainer.data("e-exp"),t=this.textBox.val(),n=this.textArea.val(),i;t===this.nameWaterMark&&this.textBox.hasClass("e-designer-txtmark")&&(t="");n===this.expWaterMark&&this.textArea.hasClass("e-designer-txtmark")&&(n="");ej.isNullOrUndefined(t)||t.length!==0?ej.isNullOrUndefined(n)||n.length!==0?this.isValidName(t)?/^[a-zA-Z0-9- _]*$/.test(t)===!1?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Expression name should not contain special characters.",!1,!0,!0,""):n.indexOf("["+t+"]")!==-1?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Column cannot be referred within its own expression!",!1,!0,!0,""):this.isBalanceBrackets(n)?r&&r.isEdit?(i=(new ej.DashboardDesignerUtility.ExpressionParsor).parseErrors(n,this.provider),i&&i.length>0?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression",i[0],!1,!0,!1,"DashboardDesigner failed to parse the specified expression"):this.serverValidationExp({name:t,expression:n},ExpAction.Edit)):(i=(new ej.DashboardDesignerUtility.ExpressionParsor).parseErrors(n,this.provider),i&&i.length>0?ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression",i[0],!1,!0,!1,"DashboardDesigner failed to parse the specified expression"):this.serverValidationExp({name:t,expression:n},ExpAction.New)):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Invalid syntax near Open/Close bracket(s).",!1,!0,!0,""):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","The specified expression name already exists",!1,!0,!0,""):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Expression should not be empty",!1,!0,!0,""):ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","Name should not be empty",!1,!0,!0,"")},n.prototype.isBalanceBrackets=function(n){for(var t=0,i=0;i<n.length;i++)if(n[i]==="("?t++:n[i]===")"&&t--,t<0)return!1;return t>0?!1:!0},n.prototype.UpdateMiscellaneousList=function(){for(var r,t=this.ejColumnDropdown.model.dataSource[0].value,i=this.ejColumnDropdown.model.dataSource[4].value,u=t.length,f=i.length,n=0;n<u-this.columnList;n++)t.pop();for(n=0;n<f;n++)i.pop();for(n=0;n<this.queryExp.length;n++)r={text:this.queryExp[n].name,value:this.queryExp[n].expression,dataType:null},t.push(r),i.push(r);this.ejColumnDropdown.model.dataSource[0].value=t;this.ejColumnDropdown.model.dataSource[4].value=i;this.ejColumnList.refresh(!0)},n.prototype.serverValidationExp=function(n,t){var i=this.queryDesigner.getExpQuery(n);ej.DashboardUtil.getInstance().doAjaxPost("POST",this.queryDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.executeQuery,datasource:this.queryDesigner.encrptDataSourceInfo(this.queryDesigner.datasourceInfo),sqlQuery:i,commandType:CommandMode.Text})},{fnction:$.proxy(this.expActionResult,this,{expression:n,action:t}),indicator:[$.proxy(this.showExpIndicator,this),$.proxy(this.hideExpIndicator,this)]})},n.prototype.expActionResult=function(n,t){var s,u,r,f,e,h,o,c,i;if(this.ejExpDialog.isOpen())if(t&&t.table&&t.type)if(s=JSON.parse(t.type),u=this.expressionContainer.data("e-exp"),s.length>0){if(r=n.expression.name,f=n.expression.expression,n.action===ExpAction.New){if(e=!0,$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(r)).length===0)h=this.getEmptyExp(),this.updateExpList(h,r);else{for(o=!0,i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===r){o=!1;break}o||(e=!1,ej.DashboardUtil.getInstance().ejAlertDialog("Query Expression","The specified expression name already exists",!1,!0,!0,""))}e&&(this.queryExp.push({name:r,expression:f}),this.expressionContainer.data("e-exp",{isEdit:!0,name:r,expression:f}),this.enbaleSavebtn(!1))}else if(n.action===ExpAction.Edit){for(i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){this.queryExp[i].name=r;this.queryExp[i].expression=f;this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r);this.expressionContainer.data("e-exp",{isEdit:!0,name:this.queryExp[i].name,expression:this.queryExp[i].expression});this.enbaleSavebtn(!1);break}}else if(n.action===ExpAction.Save){for(i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){this.queryExp[i].name=r;this.queryExp[i].expression=f;this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r);this.enbaleSavebtn(!1);this.switchEditExp();c=this.textBox.val();this.onListItemMouseUp({target:$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(c))[0]});break}}else if(n.action===ExpAction.Close){for(i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){this.queryExp[i].name=r;this.queryExp[i].expression=f;this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r);break}this.ejExpDialog.close();this.hideExpIndicator();this.excuteExpQuery()}this.UpdateMiscellaneousList()}else this.enbaleSavebtn(!0);else t&&t.indexOf("Sf_Exception")!==-1&&(this.enbaleSavebtn(!0),ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",t,!1,!0,!1,"DashboardDesigner failed to retrieve the specified expression"))},n.prototype.showExpIndicator=function(){this.footerTag.css("opacity",".5").attr("disabled","disabled");this.ejIndicator.show()},n.prototype.hideExpIndicator=function(){this.footerTag.css("opacity","1").removeAttr("disabled");this.ejIndicator.hide()},n.prototype.destroy=function(){this.unWiredEvents();ej.DashboardUtil.destroyEjObjects($("#"+this.id+"_exp_designer"));$("#"+this.id+"_exp_designer").length>0&&$("#"+this.id+"_exp_designer").remove()},n}();window.ej.createObject("ej.DashboardDesignerUtility.QueryExpression",InternalQueryExpression,window),function(n){n[n.New=0]="New";n[n.Edit=1]="Edit";n[n.Save=2]="Save";n[n.Close=3]="Close"}(ExpAction||(ExpAction={}));InternalQueryFilter=function(){function n(){this.queryFilters=[];this.dataFields=[];this.parameters=[];this.paramNameList=[];this.parentDiv=null;this.containerDiv=null;this.queryDesigner=ej.DashboardUtil.getQueryInstance("QueryDesigner");this.id=this.queryDesigner.id;this.renderQueryFilterDialog()}return Object.defineProperty(n,"QueryFilter",{get:function(){return(this.queryFilter===null||this.queryFilter===undefined)&&(this.queryFilter=new ej.DashboardDesignerUtility.QueryFilter),this.queryFilter},enumerable:!0,configurable:!0}),n.prototype.renderQueryFilterDialog=function(){var n=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Query Filters",id:this.id+"_query_filter_dialog"}),u=ej.buildTag("div","",{},{}),f=ej.buildTag("table","",{width:"100%"},{}),i=ej.buildTag("tr","",{"padding-top":"10px"},{}),e=ej.buildTag("td","",{width:"500px"},{}),l=ej.buildTag("Label.e-designer-add-label","List of Table Filters",{},{type:"label"}),o=ej.buildTag("td","",{},{}),t=ej.buildTag("div","",{cursor:"default",float:"right"},{}),a=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_query_filter_add"}),v=ej.buildTag("span.e-btntxt e-designer-add-btn","ADD",{},{}),r=this.parentDiv=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{width:"641px",padding:"5px 0px",height:"291px"},{id:this.id+"_query_parentContainer"}),y=this.containerDiv=ej.buildTag("div","",{},{id:this.id+"_query_container_div"}),s=ej.buildTag("button.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_query_btn_cancel"}),h=ej.buildTag("button.e-designer-okbtn","",{float:"right"},{id:this.id+"_query_btn_ok"}),c;n.append(u);u.append(f);f.append(i);i.append(e);e.append(l);i.append(o);o.append(t);t.append(a);t.append(v);n.append(r);r.append(y);$(document.body).append(n);n.ejDialog({minWidth:668,minHeight:371,width:"auto",height:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog",close:$.proxy(this.closeDialog,this)});c=$("#"+this.id+"_query_filter_dialog_foot");c.append(s).append(h);h.ejButton({showRoundedCorner:!1,size:"mini",text:"OK",click:$.proxy(this.saveQueryFilter,this,!0),enabled:!0});s.ejButton({showRoundedCorner:!1,size:"mini",text:"Cancel",click:$.proxy(this.closeDialog,this,!0)});t.bind("click",$.proxy(this.addQueryFilter,this));r.ejScroller({height:"291px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.renderQueryFilterRow=function(n){var u,i,t=ej.getGuid(this.id+"_row_"),p=n&&n.Name?!0:!1,w=this.getCurrentIndex(),f=ej.buildTag("div.e-reportdesigner-query-row","",{padding:"4px"},{id:t,rowId:t}),h=ej.buildTag("table.e-designer-table-dialog","",{width:"100%"}),r=ej.buildTag("tr","",{},{}),c=ej.buildTag("td","",{"padding-left":"0px"},{id:t+"_query_container_cell"}),l=ej.buildTag("td","",{width:"20px","padding-left":"12px"},{}),a=ej.buildTag("input.e-textbox","",{},{type:"text",id:t+"_query_filter_field"}),v=ej.buildTag("td","",{"padding-top":"3px","padding-right":"8px"},{id:t+"_query_error_td"}),e,o,s;if(ej.DashboardUtil.renderErrIndictor(v,this.id),e=ej.buildTag("td","",{"padding-top":"6px","padding-right":"10px"},{}),o=ej.buildTag("span.e-chk-image e-icon e-cross-circle e-designer-delete-icon","",{cursor:"default"},{id:t+"_query_delete_icon"}),this.containerDiv.append(f),f.append(h),h.append(r),r.append(l),l.append(a),r.append(c),r.append(v),r.append(e),e.append(o),a.ejDropDownList({width:"130px",height:"26px",dataSource:this.dataFields,fields:{text:"text",value:"tempVal"},enabled:!0,change:$.proxy(this.onDropDownChange,this,t,this.dataFields),selectedIndex:w,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"}),o.bind("click",$.proxy(this.deleteQueryFilter,this,f)),p&&(s=this.getFieldText(n.Name,n.TableName,n.Schema),this.getDrpDwn1(t).data("ejDropDownList").selectItemByText(s)),this.dataFields.length>0){var b=this.getDrpDwn1(t).data("ejDropDownList").getSelectedItem(),s=$(b).text(),y=this.getSelectedValue(s);u=y.typeName;i=y.typeCast}return u=ej.isNullOrUndefined(i)||i.length===0||this.isDefaultCast(i)?u:i,this.renderInputField(u,t,c),this.scrollerRefresh(this.parentDiv),t},n.prototype.renderCheckboxItem=function(n,t,i){var r=ej.buildTag("td","",{align:"left",width:n.toLowerCase()==="false"?"67px":"98px","padding-left":"13px",height:"27px"}),u,f;i.append(r);u=ej.buildTag("input","",{},{type:"checkbox",id:t});r.append(u);f=ej.buildTag("label.e-designer-fontfamily",n,{"margin-left":"15px","font-size":"13px"},{id:t,"for":t});r.append(f);u.ejCheckBox({cssClass:"e-designer-param-assign"})},n.prototype.renderBoolFields=function(n,t){var f=ej.buildTag("table","",{width:"100%","background-color":"#ECECEC","padding-bottom":"3px","padding-top":"3px"},{}),i=ej.buildTag("tr","",{},{}),r,u;this.renderCheckboxItem("Null",n+"_query_bool_chkbx1",i);this.renderCheckboxItem("True",n+"_query_bool_chkbx2",i);this.renderCheckboxItem("False",n+"_query_bool_chkbx3",i);r=ej.buildTag("td","",{"padding-bottom":"3px",float:"right"},{});u=ej.buildTag("input","",{},{type:"checkbox",id:n+"_query_bool_param"});t.append(f);f.append(i);i.append(r);r.append(u);u.ejCheckBox({checked:!1,cssClass:"e-designer-param-assign"});r.ejTooltip({content:"Include as Parameter"})},n.prototype.renderInputField=function(n,t,i){ej.isNullOrUndefined(n)||(this.isNumber(n)?this.renderFields(t,i,n,QueryDatatype.Int.toString()):this.isString(n)?this.renderFields(t,i,n,QueryDatatype.Char.toString()):this.isBoolean(n)?this.renderBoolFields(t,i):this.isDate(n)&&this.renderFields(t,i,n,QueryDatatype.Date.toString()))},n.prototype.renderDateFields=function(n,t,i,r){var u=ej.buildTag("td","",{"padding-left":"12px"},{id:n+"_query_date_pickcol"}),f=ej.buildTag("input","",{},{type:"text",id:n+"_query_date_picker"}),e=ej.buildTag("td","",{"padding-left":"12px",display:"none"},{id:n+"_query_date_rangecol"}),o=ej.buildTag("input","",{height:"26px"},{type:"text",id:n+"_query_date_rangepicker2"});t.append(u);u.append(f);t.append(e);e.append(o);this.getTxtColTag1(n,r).css("display","none");f.ejDateTimePicker({width:"201px",height:"26px",cssClass:"e-designer-border"});o.ejDateRangePicker({width:"203px",height:"26px"})},n.prototype.renderStringFields=function(n,t,i,r){var e=ej.buildTag("td","",{"padding-left":"12px"},{id:n+"_query_"+r+"_txtcol1"}),u=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"22px",width:"189px"},{type:"text",id:n+"_query_"+r+"_txtVal1"}),o=ej.buildTag("td","",{"padding-left":"12px",display:"none"},{id:n+"_query_"+r+"_txtcol2"}),f=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border","",{height:"22px",display:"none"},{type:"text",id:n+"_query_"+r+"_txtVal2"});t.append(e);e.append(u);f.val(r!==QueryDatatype.Char.toString()?"0":"");u.val(r!==QueryDatatype.Char.toString()?"0":"");t.append(o);o.append(f);(i==="System.Double"||i.toLowerCase()==="number"||i==="System.Single"||i==="System.Decimal")&&(f.val(r!==QueryDatatype.Char.toString()?"0.00":""),u.val(r!==QueryDatatype.Char.toString()?"0.00":""));r===QueryDatatype.Int.toString()&&(u.bind("keypress",$.proxy(this.validateTxtBox,this,u,i)),u.bind("focusin",$.proxy(this.textFocus,this,u,"focusin",i)),u.bind("focusout",$.proxy(this.textFocus,this,u,"focusout",i)),f.bind("keypress",$.proxy(this.validateTxtBox,this,f,i)),f.bind("focusin",$.proxy(this.textFocus,this,f,"focusin",i)),f.bind("focusout",$.proxy(this.textFocus,this,f,"focusout",i)),u.css({"text-align":"right","padding-right":"10px","padding-left":"0px"}),f.css({"text-align":"right","padding-right":"10px","padding-left":"0px"}))},n.prototype.renderFields=function(n,t,i,r){var o=ej.buildTag("table","",{width:"100%","background-color":"#ECECEC","padding-bottom":"2px","padding-top":"2px"},{}),u=ej.buildTag("tr","",{},{}),s=ej.buildTag("td","",{width:"10px","padding-left":"10px"},{}),h=ej.buildTag("input","",{},{type:"text",id:n+"_query_"+r+"_operator"}),f,e;t.append(o);o.append(u);u.append(s);s.append(h);h.ejDropDownList({dataSource:this.getOperatorsList(r),fields:{text:"text",value:"value"},enabled:!0,change:$.proxy(this.renderBetweenField,this,n,r),width:"130px",height:"26px",selectedIndex:0,showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"});(this.isNumber(i)||this.isString(i))&&this.renderStringFields(n,u,i,r);this.isDate(i)&&this.renderDateFields(n,u,i,r);f=ej.buildTag("td","",{width:"20px","padding-bottom":"3px"},{id:n+"_query_"+r+"_paramcol"});e=ej.buildTag("input","",{},{type:"checkbox",id:n+"_query_"+r+"_param"});u.append(f);f.append(e);f.ejTooltip({content:"Include as Parameter"});this.isDate(i)&&$("#"+n+"_query_date_paramcol").css({width:"20px"});e.ejCheckBox({checked:!1,cssClass:"e-designer-param-assign"})},n.prototype.renderBetweenField=function(n,t){var i=this.getOperatorDrpDwn(n,t).data("ejDropDownList").getSelectedValue(),r=this.getTxtValTag1(n,t),e=this.getTxtValTag2(n,t),u=this.getTxtColTag1(n,t),f=this.getTxtColTag2(n,t);i.toLowerCase()===QueryOperator.Between.toString()||i.toLowerCase()===QueryOperator.NotBetween.toString()?t.toLowerCase()===QueryDatatype.Int.toString()?(f.css({display:"table-cell"}),u.css({"padding-left":"12px",width:"15px"}),r.css("width","83px"),e.css({display:"block",width:"80px"})):t.toLowerCase()===QueryDatatype.Date.toString()&&($("#"+n+"_query_date_pickcol").css("display","none"),$("#"+n+"_query_date_rangecol").css({display:"table-cell","padding-left":"12px"}),$("#"+n+"_query_date_paramcol").css({width:"20px"})):t.toLowerCase()===QueryDatatype.Int.toString()?(f.css("display","none"),u.css({width:"15px","padding-left":"12px"}),r.css("width","189px")):t.toLowerCase()===QueryDatatype.Date.toString()&&($("#"+n+"_query_date_rangecol").css("display","none"),$("#"+n+"_query_date_pickcol").css({display:"table-cell","padding-left":"20px",width:"20px"}),$("#"+n+"_query_date_paramcol").css({width:"20px"}))},n.prototype.addQueryFilter=function(){this.renderQueryFilterRow()},n.prototype.deleteQueryFilter=function(n){n.remove();this.scrollerRefresh(this.parentDiv)},n.prototype.onDropDownChange=function(n,t,i){if(i.isInteraction){this.resetQueryFields(n);var f=$("#"+n+"_query_container_cell"),e=this.getDrpDwn1(n).data("ejDropDownList").getSelectedItem(),o=$(e).text(),r=this.getSelectedValue(o),u=r.typeName;u=ej.isNullOrUndefined(r.typeCast)||r.typeCast.length===0||this.isDefaultCast(r.typeCast)?u:r.typeCast;this.renderInputField(u,n,f)}},n.prototype.textFocus=function(n,t,i){t.toLowerCase()==="focusin"?(n.val()==="0"||n.val()==="0.00")&&n.val(""):t.toLowerCase()==="focusout"&&(i==="System.Int32"||i==="System.Int16"||i==="System.Int64"||i==="System.Byte"?n.val(n.val().length===0?"0":n.val()):(i==="System.Double"||i.toLowerCase()==="number"||i==="System.Single"||i==="System.Decimal")&&n.val(n.val().length===0?"0.00":n.val()))},n.prototype.conditionCheck=function(n){var t=this.getChkBx1(n).data("ejCheckBox"),i=this.getChkBx2(n).data("ejCheckBox"),r=this.getChkBx3(n).data("ejCheckBox");return t.isChecked()&&i.isChecked()&&r.isChecked()?!0:!t.isChecked()&&!i.isChecked()&&!r.isChecked()?!0:!1},n.prototype.validateTxtBox=function(n,t,i){var r=i.keyCode,u;if(t==="System.Int32"||t==="System.Int16"||t==="System.Int64"||t==="System.Byte")return r===8||!(r>31)||!(r<48||r>57)||r===45?(u=n.val(),r===45&&u!=="")?!1:!0:!1;if(t==="System.Double"||t==="System.Single"||t==="System.Decimal"||t.toLowerCase()==="number"){if(r===46)return n.val().indexOf(".")===-1?!0:!1;if(!(r===8)&&r>31&&(r<48||r>57)&&!(r===45))return!1}},n.prototype.validateValues=function(n,t,i,r,u){var f="",e;return this.isDate(i)&&!ej.isNullOrUndefined(n)?(n.length===0?(e="The filter on "+u+" does not have any values to filter on. Please provide the values for the filter.",ej.DashboardUtil.contains(t,f+e,!0)||(f+=e)):f+=ej.parseDate(n,"MM/dd/yyyy")||ej.parseDate(n,"MM/dd/yyyy HH:mm tt")?"":ej.DashboardUtil.contains(t,"Value is invalid date format.",!0)?"":"Value is an invalid date format.",ej.isNullOrUndefined(f)||f.length!==0?this.updateHighlighter(r,!0):this.updateHighlighter(r,!1)):this.isBoolean(i)&&(this.conditionCheck(n)?(r.addClass("e-designer-error").addClass("e-designer-error-radius"),f+="The filter on "+u+" does not have proper values to filter on. "):r.removeClass("e-designer-error").removeClass("e-designer-error-radius")),f},n.prototype.updateHighlighter=function(n,t){t?n.find("e-in-wrap e-box e-padding").addClass("e-designer-error").addClass("e-designer-error-radius"):n.find("e-in-wrap e-box e-padding").removeClass("e-designer-error").removeClass("e-designer-error-radius")},n.prototype.resetQueryFields=function(n){$("#"+n+"_query_container_cell").empty()},n.prototype.openQueryFilterDialog=function(){$("#"+this.id+"_query_filter_dialog").data("ejDialog").open();this.resetQueryFilterDialog();this.dataFields=this.getAvailableDataFields();this.queryFilters=this.queryDesigner.queryFilter;this.populateQueryFilter(this.queryFilters)},n.prototype.closeDialog=function(){$("#"+this.id+"_query_filter_dialog").data("ejDialog").close()},n.prototype.resetQueryFilterDialog=function(){this.dataFields=[];this.parameters=[];this.containerDiv.empty();this.scrollerRefresh(this.parentDiv)},n.prototype.populateQueryFilter=function(n){for(var t=0;t<n.length;t++){var r=this.renderQueryFilterRow(n[t]),i=n[t].DataType,u=n[t].IsTypeCast;i=u?n[t].TypeCastValue:i;this.isNumber(i)?this.populateFieldVal(r,n[t],QueryDatatype.Int.toString()):this.isBoolean(i)?this.populateBoolFilter(r,n[t]):this.isString(i)?this.populateFieldVal(r,n[t],QueryDatatype.Char.toString()):this.isDate(i)&&this.populateFieldVal(r,n[t],QueryDatatype.Date.toString())}},n.prototype.getFieldText=function(n,t,i){if(this.dataFields&&this.dataFields.length>0)for(var r=0;r<this.dataFields.length;r++)if(this.dataFields[r].table===t&&this.dataFields[r].schema===i&&this.dataFields[r].value===n)return this.dataFields[r].text},n.prototype.populateFieldVal=function(n,t,i){var r=t.Value,u=this.getFieldText(t.Name,t.TableName,t.Schema);this.getDrpDwn1(n).data("ejDropDownList").selectItemByText(u);this.getOperatorDrpDwn(n,i).data("ejDropDownList").selectItemByValue(t.Operator);this.getTxtValTag1(n,i).val(r.Value1);t.Operator.toLowerCase()===QueryOperator.Between.toString()||t.Operator.toLowerCase()===QueryOperator.NotBetween.toString()?i.toLowerCase()===QueryDatatype.Int.toString()?(this.getTxtColTag2(n,i).css("display","table-cell"),this.getTxtValTag2(n,i).val(r.Value2)):i.toLowerCase()===QueryDatatype.Date.toString()&&($("#"+n+"_query_date_rangecol").css("display","table-cell"),r.Value1&&r.Value1.length>0&&r.Value2&&r.Value2.length>0&&this.getPickerTag2(n).val(r.Value1+" - "+r.Value2)):i.toLowerCase()===QueryDatatype.Date.toString()?this.getPickerTag1(n).data("ejDateTimePicker").setModel({value:new Date(r.Value1)}):this.getTxtValTag1(n,i).val(r.Value1);this.getChkBx4(n,i).data("ejCheckBox").setModel({checked:t.IsQueryParameter})},n.prototype.populateBoolFilter=function(n,t){var s=this.getFieldText(t.Name,t.TableName,t.Schema);this.getDrpDwn1(n).data("ejDropDownList").selectItemByText(s);var r=this.getChkBx1(n).data("ejCheckBox"),u=this.getChkBx2(n).data("ejCheckBox"),f=this.getChkBx3(n).data("ejCheckBox"),o=t.Value,e=o.Value1,i;ej.isNullOrUndefined(o.Value2)||(i=o.Value2);this.getChkBx4(n,QueryDatatype.Bool.toString()).data("ejCheckBox").setModel({checked:t.IsQueryParameter});e==="NULL"&&i.length===0?(r.setModel({checked:!0}),u.setModel({checked:!1}),f.setModel({checked:!1})):e==="True"&&i.length===0?(r.setModel({checked:!1}),u.setModel({checked:!0}),f.setModel({checked:!1})):e==="False"&&i.length===0?(r.setModel({checked:!1}),u.setModel({checked:!1}),f.setModel({checked:!0})):e==="True"&&i==="False"?(r.setModel({checked:!1}),u.setModel({checked:!0}),f.setModel({checked:!0})):e==="NULL"&&i==="False"?(r.setModel({checked:!0}),u.setModel({checked:!1}),f.setModel({checked:!0})):e==="NULL"&&i==="True"&&(r.setModel({checked:!0}),u.setModel({checked:!0}),f.setModel({checked:!1}))},n.prototype.getQueryFilter=function(){var n=this,u=[],r,f,e,i,t="",o=!1,s=$("#"+this.id+"_query_container_div .e-reportdesigner-query-row");return s.each(function(s,h){var l=$(h).attr("id"),k=n.getDrpDwn1(l).data("ejDropDownList").getSelectedItem(),d=$(k).text(),c=n.getSelectedValue(d),y,a,v,p,w,b;r=c.typeName;y=ej.isNullOrUndefined(c.typeCast)||c.typeCast.length===0||n.isDefaultCast(c.typeCast);i=y?r:c.typeCast;a={IsTypeCast:y?!1:!0,TypeCastValue:y?"":c.typeCast};f=c.table;e=c.schema;v=c.value;n.isNumber(i)?u.push(n.getIntVal(l,r,f,v,e,a)):n.isBoolean(i)?(u.push(n.getBoolVal(l,r,f,v,e,a)),t+=n.validateValues(l,t,c.typeName,$("#"+l+"_query_filter_field_container"),c.value)):n.isString(i)?u.push(n.getStringVal(l,r,f,v,e,a)):n.isDate(i)&&(p=n.getDateVal(l,r,f,v,e,a),u.push(p),w=p.Value.Value1,b=p.Value.Value2,t+=n.validateValues(w,t,i,$("#"+l+"_query_date_picker"),c.value),t+=n.validateValues(b,t,i,$("#"+l+"_query_date_rangepicker2"),c.value));ej.isNullOrUndefined(t)||t.length===0?ej.DashboardUtil.showErrIndictor($("#"+l+"_query_error_td"),!1,t):(ej.DashboardUtil.showErrIndictor($("#"+l+"_query_error_td"),!0,t),t="",o=!0)}),{queryFilters:u,hasErrors:o}},n.prototype.getIntVal=function(n,t,i,r,u,f){var e,o,a,s="",v=r.replace(/ /g,""),h=this.getChkBx4(n,QueryDatatype.Int.toString()).data("ejCheckBox").isChecked(),c=this.getOperatorDrpDwn(n,QueryDatatype.Int.toString()).data("ejDropDownList").getSelectedValue(),l;return a=h,l=h?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(l),e=this.getTxtValTag1(n,QueryDatatype.Int.toString()).val(),e=e==="0.00"?0:e,(c.toLowerCase()===QueryOperator.Between.toString()||c.toLowerCase()===QueryOperator.NotBetween.toString())&&(o=this.getTxtValTag2(n,QueryDatatype.Int.toString()).val(),s=h?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(s)),o=o==="0.00"?0:o,{Name:r,Operator:c,Value:{Value1:e,Value2:o},Schema:u,DataType:t,ParameterName:{Parameter1:l,Parameter2:s},IsQueryParameter:a,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}},n.prototype.getDateVal=function(n,t,i,r,u,f){var s,a,v,y=r.replace(/ /g,""),o="",h=this.getOperatorDrpDwn(n,QueryDatatype.Date.toString()).data("ejDropDownList").getSelectedValue(),p=this.getChkBx4(n,QueryDatatype.Date.toString()).data("ejCheckBox").isChecked(),c,e,l;return v=p,c=p?"@"+this.getValidParameter(y,this.paramNameList):"None",this.paramNameList.push(c),h.toLowerCase()===QueryOperator.Between.toString()||h.toLowerCase()===QueryOperator.NotBetween.toString()?(e=this.getPickerTag2(n).val(),ej.isNullOrUndefined(e)||(l=e.indexOf("-"),s=e.substring(0,l-1),a=e.substring(l+2,e.length)),o="@"+this.getValidParameter(y,this.paramNameList),this.paramNameList.push(o)):(s=this.getPickerTag1(n).val(),o=""),{Name:r,Operator:h,Value:{Value1:s,Value2:a},Schema:u,DataType:t,ParameterName:{Parameter1:c,Parameter2:o},IsQueryParameter:v,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}},n.prototype.getStringVal=function(n,t,i,r,u,f){var h=this.getTxtValTag1(n,QueryDatatype.Char.toString()).val(),o,c=r.replace(/ /g,""),l=this.getOperatorDrpDwn(n,QueryDatatype.Char.toString()).data("ejDropDownList").getSelectedValue(),s=this.getChkBx4(n,QueryDatatype.Char.toString()).data("ejCheckBox").isChecked(),e;return o=s,e=s?"@"+this.getValidParameter(c,this.paramNameList):"None",this.paramNameList.push(e),{Name:r,Operator:l,Value:{Value1:h},Schema:u,DataType:t,ParameterName:{Parameter1:e,Parameter2:""},IsQueryParameter:o,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}},n.prototype.getBoolVal=function(n,t,i,r,u,f){var h,o,e,v=r.replace(/ /g,""),s=this.getChkBx4(n,QueryDatatype.Bool.toString()).data("ejCheckBox").isChecked(),c=this.getChkBx1(n).data("ejCheckBox"),l=this.getChkBx2(n).data("ejCheckBox"),a=this.getChkBx3(n).data("ejCheckBox");return c.isChecked()&&!l.isChecked()&&!a.isChecked()||this.conditionCheck(n)?{Name:r,Value:{Value1:"NULL",Value2:""},Schema:u,DataType:t,ParameterName:{Parameter1:"None",Parameter2:"None"},IsQueryParameter:!1,TableName:i,TypecastData:f}:(h=s,o=s?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(o),!c.isChecked()&&l.isChecked()&&!a.isChecked())?(e=s?"":"None",{Name:r,Operator:"=",Value:{Value1:"True",Value2:""},Schema:u,DataType:t,ParameterName:{Parameter1:o,Parameter2:e},IsQueryParameter:h,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}):!c.isChecked()&&!l.isChecked()&&a.isChecked()?(e=s?"":"None",{Name:r,Operator:"=",Value:{Value1:"False",Value2:""},Schema:u,DataType:t,ParameterName:{Parameter1:o,Parameter2:e},IsQueryParameter:h,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}):c.isChecked()&&l.isChecked()&&!a.isChecked()?(e=s?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(e),{Name:r,Operator:"Between",Value:{Value1:"NULL",Value2:"True"},Schema:u,DataType:t,ParameterName:{Parameter1:o,Parameter2:e},IsQueryParameter:h,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}):c.isChecked()&&!l.isChecked()&&a.isChecked()?(e=s?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(e),{Name:r,Operator:"Between",Value:{Value1:"NULL",Value2:"False"},Schema:u,DataType:t,ParameterName:{Parameter1:o,Parameter2:e},IsQueryParameter:h,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}):!c.isChecked()&&l.isChecked()&&a.isChecked()?(e=s?"@"+this.getValidParameter(v,this.paramNameList):"None",this.paramNameList.push(e),{Name:r,Operator:"Between",Value:{Value1:"True",Value2:"False"},Schema:u,DataType:t,ParameterName:{Parameter1:o,Parameter2:e},IsQueryParameter:h,TableName:i,IsTypeCast:f.IsTypeCast,TypeCastValue:f.TypeCastValue}):void 0},n.prototype.saveQueryFilter=function(){var n=this.getQueryFilter();this.paramNameList=[];n.hasErrors||(ej.DashboardUtil.isEqualObj(this.queryFilters,n.queryFilters)||(this.queryDesigner.queryFilter=n.queryFilters,this.queryDesigner.executeUIQuery()),this.closeDialog())},n.prototype.getAvailableDataFields=function(){var n=this,i=$("#"+this.id+"_div_dragSurface .e-data-table"),r=this.queryDesigner.dbSchema,t=[];return i.each(function(i,u){for(var h=$(u).data("e-table"),e=r.Schemas[h.schema][h.viewType][h.name],o=Object.keys(e),f=0;f<o.length;f++){var l=$(u).find("#"+n.id+"_txtSpan_"+ej.DashboardUtil.escapeSelector(e[o[f]].Name)),c=e[o[f]].DataType,v=n.getTypeName(c),y=ej.DashboardUtil.escapeSelector(e[o[f]].Name),p=$(u).find("#"+n.id+"_li_"+y).attr("e-column-type"),a=l.text(),s="";l.attr("isDuplicate")==="true"?s=/\(([^)]+)\)/.exec(l.text())[1]:a.toLowerCase()!==e[o[f]].Name.toLowerCase()&&(s=a);c!=="geography"&&c!=="hierarchyid"&&c!=="xml"&&t.push({text:s.length===0?e[o[f]].Name:e[o[f]].Name+"("+s+")",value:e[o[f]].Name,tempVal:s.length===0?e[o[f]].Name:e[o[f]].Name+"("+s+")",typeName:v,table:h.name,schema:h.schema,typeCast:p})}}),t},n.prototype.getTypeName=function(n){return n.toLowerCase()==="int"||n.toLowerCase()==="integer"?"System.Int32":n==="nchar"||n==="ntext"||n==="nvarchar"||n==="text"||n==="varchar"||n==="char"||n.toLowerCase()==="string"?"System.String":n==="decimal"||n==="money"||n==="smallmoney"||n==="numeric"||n.toLowerCase()==="real"?"System.Decimal":n==="float"?"System.Double":n==="smallint"?"System.Int16":n==="bigint"?"System.Int64":n==="real"?"System.Single":n==="tinyint"?"System.Byte":n==="uniqueidentifier"?"System.Guid":n==="datetime"||n==="datetime2"||n==="smalldatetime"||n.toLowerCase()==="date"?"System.DateTime":n==="datetimeoffset"?"System.DateTimeOffset":n==="bit"||n.toLowerCase()==="boolean"?"System.Boolean":n!=="timestamp"&&n==="time"?"System.TimeSpan":void 0},n.prototype.getCurrentIndex=function(){var t=$("#"+this.id+"_query_container_div .e-reportdesigner-query-row"),i,n;return t.length>0?(i=$("#"+this.id+"_query_container_div .e-reportdesigner-query-row")[t.length-1].id,n=this.getDrpDwn1(i).data("ejDropDownList").option("selectedIndex"),n>=this.dataFields.length-1?0:n+1):0},n.prototype.getSelectedItem=function(n){for(var t=0;t<this.dataFields.length;t++)if(n===this.dataFields[t].value)return this.dataFields[t]},n.prototype.getSelectedValue=function(n){for(var t=0;t<this.dataFields.length;t++)if(n===this.dataFields[t].text)return this.dataFields[t]},n.prototype.getOperatorsList=function(n){return n.toLowerCase()===QueryDatatype.Int.toString()||n.toLowerCase()===QueryDatatype.Date.toString()?[{text:"Equals",value:"="},{text:"Does Not Equal",value:"<>"},{text:"Greater Than",value:">"},{text:"Greater Than Or Equal To",value:">="},{text:"Less Than",value:"<"},{text:"Less Than Or Equal To",value:"<="},{text:"Between",value:"Between"},{text:"Not Between",value:"Not Between"}]:n.toLowerCase()===QueryDatatype.Char.toString()?[{text:"Equals",value:"="},{text:"Starts With",value:"Starts With"},{text:"Ends With",value:"Ends With"},{text:"Contains",value:"Contains"},{text:"Not Contains",value:"Not Contains"}]:void 0},n.prototype.isNumber=function(n){return n==="System.Int32"||n==="System.Int16"||n==="System.Int64"||n==="System.Double"||n==="System.Single"||n==="System.Decimal"||n==="System.Byte"||n==="Number"||n.toLowerCase()==="integer"||n.toLowerCase()==="real"?!0:!1},n.prototype.isString=function(n){return n==="System.Guid"||n==="System.String"||n==="Text"||n.toLowerCase()==="string"?!0:!1},n.prototype.isDate=function(n){return n==="System.DateTimeOffset"||n==="System.DateTime"||n==="DateTime"||n.toLowerCase()==="date"?!0:!1},n.prototype.isBoolean=function(n){return n==="System.Boolean"||n==="bit"||n.toLowerCase()==="boolean"?!0:!1},n.prototype.isDefaultCast=function(n){return n.toLowerCase()==="default(boolean)"||n.toLowerCase()==="default(integer)"||n.toLowerCase()==="default(string)"||n.toLowerCase()==="default(datetime)"?!0:!1},n.prototype.getChkBx1=function(n){return $("#"+n+"_query_bool_chkbx1")},n.prototype.getChkBx2=function(n){return $("#"+n+"_query_bool_chkbx2")},n.prototype.getChkBx3=function(n){return $("#"+n+"_query_bool_chkbx3")},n.prototype.getChkBx4=function(n,t){return $("#"+n+"_query_"+t+"_param")},n.prototype.getDrpDwn1=function(n){return $("#"+n+"_query_filter_field")},n.prototype.getOperatorDrpDwn=function(n,t){return $("#"+n+"_query_"+t+"_operator")},n.prototype.getTxtColTag1=function(n,t){return $("#"+n+"_query_"+t+"_txtcol1")},n.prototype.getTxtValTag1=function(n,t){return $("#"+n+"_query_"+t+"_txtVal1")},n.prototype.getTxtColTag2=function(n,t){return $("#"+n+"_query_"+t+"_txtcol2")},n.prototype.getTxtValTag2=function(n,t){return $("#"+n+"_query_"+t+"_txtVal2")},n.prototype.getPickerTag1=function(n){return $("#"+n+"_query_date_picker")},n.prototype.getPickerTag2=function(n){return $("#"+n+"_query_date_rangepicker2")},n.prototype.getValidParameter=function(n,t){for(var u=n,r=n,i=0,f=0;f<t.length;f++)t[f]==="@"+r&&(i=i+1,r=u+i,this.isExistParameter(r,t)&&(i++,r=u+i,this.getValidParameter(u+i,t)));return r},n.prototype.isExistParameter=function(n,t){for(var i=0;i<t.length;i++)if(t[i]==="@"+n)return!0;return!1},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n}();window.ej.createObject("ej.DashboardDesignerUtility.QueryFilter",InternalQueryFilter,window),function(n){n[n.Between="between"]="Between";n[n.NotBetween="not between"]="NotBetween"}(QueryOperator||(QueryOperator={})),function(n){n[n.Int="int"]="Int";n[n.Date="date"]="Date";n[n.Bool="bool"]="Bool";n[n.Char="string"]="Char"}(QueryDatatype||(QueryDatatype={}));InternalQueryJoiner=function(){function n(){this.dashboardDesigner=null;this.id=null;this.pageY=0;this.container=null;this.contendDiv=null;this.dragging=null;this.ejScrollerDiv=null;this.ejJoinerDialog=null;this.queryDesigner=ej.DashboardUtil.getQueryInstance("QueryDesigner");this.dashboardDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.queryDesigner.id;this.renderJoinEditor()}return Object.defineProperty(n,"QueryJoiner",{get:function(){return(this.queryJoiner===null||this.queryJoiner===undefined)&&(this.queryJoiner=new ej.DashboardDesignerUtility.QueryJoiner),this.queryJoiner},enumerable:!0,configurable:!0}),n.prototype.renderJoinEditor=function(){var n=ej.buildTag("div.e-userselect","",{display:"none"},{title:"Query Joiner",id:this.id+"_Join_Dialog"}),u=ej.buildTag("div","",{},{id:this.id+"_query_joiner_table_id"}),f=ej.buildTag("table","",{width:"100%"},{unselectable:"on"}),r=ej.buildTag("tr","",{"padding-top":"10px"},{}),e=ej.buildTag("td","",{width:"92%"},{}),l=ej.buildTag("Label.e-designer-add-label","List of Table Relations",{},{type:"label"}),o=ej.buildTag("td","",{},{}),t=ej.buildTag("div","",{cursor:"default",float:"right"},{}),a=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_query_joiner_add_span"}),v=ej.buildTag("span.e-btntxt e-designer-add-btn","ADD",{"margin-right":"3px"},{}),i=this.container=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{margin:"4px 0px",padding:"5px 0px",height:"330px",width:"682px"},{id:this.id+"_query_joiner_container_div"}),y=this.contendDiv=ej.buildTag("div.e-items","",{},{id:this.id+"_query_joiner_content_div"}),s=ej.buildTag("button.e-btn-close","Cancel",{float:"right"},{id:this.id+"_btn_cancel"}),h=ej.buildTag("button.e-btn-save","OK",{float:"right"},{id:this.id+"_btn_save"}),c;n.append(u);u.append(f);f.append(r);r.append(e);e.append(l);r.append(o);o.append(t);t.append(a);t.append(v);n.append(i);i.append(y);$(document.body).append(n);n.ejDialog({minWidth:710,width:"auto",height:"auto",target:"#"+this.id,showFooter:!0,enableResize:!1,showOnInit:!1,enableModal:!0,cssClass:"e-designer-dialog",close:$.proxy(this.closeJoinDialog,this)});c=$("#"+this.id+"_Join_Dialog_foot");c.append(s).append(h);h.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn",text:"OK",click:$.proxy(this.saveJoinQuery,this,!0)});s.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-cancelbtn",text:"Cancel",click:$.proxy(this.cancelJoinDialog,this,!0)});t.bind("click",$.proxy(this.addNewJoinClick,this));i.ejScroller({height:"330px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejJoinerDialog=n.data("ejDialog");this.ejScrollerDiv=i.data("ejScroller")},n.prototype.addNewJoinClick=function(){var t=this.contendDiv.find(".e-join-edit"),n,i;if(t.length>0)if(n=t.attr("rowId"),i=this.getRelationInput(n),i)this.editRowJoin(n,{currentTarget:$("#"+n+"_save_btn")});else return;this.addNewQueryJoiner()},n.prototype.addNewQueryJoiner=function(n){var t=ej.getGuid(this.id+"_row_"),i=n&&n.leftTable&&n.rightTable?!0:!1,u=ej.buildTag("div.e-designer-joiner-row e-drag-row "+(i?"e-join-save":"e-join-edit"),"",{padding:"4px"},{unselectable:"on",id:t,rowId:t}),f=ej.buildTag("table.e-designer-table-dialog","",{width:"100%","border-radius":"4px"},{unselectable:"on",id:t+"_joiner_container_table"}),c=ej.buildTag("tr","",{height:"36px"},{id:t+"_joiner_rowTag"}),nt=ej.buildTag("td","",{},{}),it=ej.buildTag("div.e-draggable e-dragicon e-reportdesigner-single-drag","",{display:i?"inline-block":"none"},{id:t+"_joiner_icon"}),l=ej.buildTag("td","",{width:"170px"},{}),e=ej.buildTag("input","",{padding:"1px"},{type:"text",id:t+"_joiner_left_tab",value:t}),a=ej.buildTag("td","",{width:"170px","padding-left":"10px"},{}),o=ej.buildTag("input","",{padding:"1px"},{type:"text",id:t+"_joiner_type"}),v=ej.buildTag("td","",{width:"170px","padding-left":"10px"},{}),s=ej.buildTag("input","",{height:"23px",width:"120px",padding:"1px"},{type:"text",id:t+"_joiner_right_tab"}),tt=ej.buildTag("td","",{width:"95px"},{}),y=ej.buildTag("td","",{"padding-right":"5px"},{}),p=ej.buildTag("span.e-widgeticon "+(i?"e-row-edit e-reportdesigner-parameter-edit":"e-row-save e-reportdesigner-parameter-save"),"",{cursor:"default",float:"right","font-size":"11px"},{id:t+"_save_btn"}),w=ej.buildTag("td","",{"padding-top":"3px","padding-right":"5px"},{}),b=ej.buildTag("span.e-icon e-close_01 e-queryjoiner-delete-icon","",{cursor:"default"},{id:t+"_delete_icon"}),k=ej.buildTag("tr","",{background:"white",display:"table-row"},{id:t+"_tr_field"}),d=ej.buildTag("td","",{height:"4px"},{id:t+"_td_edit_field",colspan:"7"}),h=ej.buildTag("div","",{"margin-top":"4px",height:"auto",width:"100%"},{id:t+"_query_joiner_field_div"}),r,g;if(this.contendDiv.append(u),u.append(f),f.append(c),c.append(nt).append(l).append(a).append(v).append(tt).append(y).append(w),l.append(e),a.append(o),v.append(s),y.append(p),w.append(b),f.append(k),k.append(d),d.append(h),e.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Left Table",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:this.tables,change:$.proxy(this.changeEqualTable,this,{rowId:t,identity:"left"})}),s.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Right Table",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:this.tables,change:$.proxy(this.changeEqualTable,this,{rowId:t,identity:"right"})}),o.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Join Type",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:this.getJoinData()}),this.ejScrollerDiv&&this.ejScrollerDiv.refresh(),b.bind("click",$.proxy(this.deleteJoinRow,this,t)),p.bind("click",$.proxy(this.editRowJoin,this,t)),i){if(e.data("ejDropDownList").selectItemByValue(n.leftTable),s.data("ejDropDownList").selectItemByValue(n.rightTable),o.data("ejDropDownList").selectItemByValue(n.join),n&&n.fields&&n.fields.length>0)for(r=0;r<n.fields.length;r++)g={leftTable:n.leftTable,rightTable:n.rightTable,field:n.fields[r]},this.renderTabFields(t,h,g);this.enableInputEle(t,!1);u.data("joinData",n)}else this.renderTabFields(t,h,null);return t},n.prototype.enableInputEle=function(n,t){var i=$("#"+n+" .e-designer-joiner-field");t?($("#"+n+"_joiner_left_tab").data("ejDropDownList").enable(),$("#"+n+"_joiner_right_tab").data("ejDropDownList").enable(),$("#"+n+"_joiner_type").data("ejDropDownList").enable(),i.each(function(n,t){var i=$(t).attr("e-rowId");$("#"+i+"_field_left").data("ejDropDownList").enable();$("#"+i+"_field_right").data("ejDropDownList").enable();$("#"+i+"_field_type").data("ejDropDownList").enable();$("#"+i+"_field_save").css("visibility","visible")})):($("#"+n+"_joiner_left_tab").data("ejDropDownList").disable(),$("#"+n+"_joiner_right_tab").data("ejDropDownList").disable(),$("#"+n+"_joiner_type").data("ejDropDownList").disable(),i.each(function(n,t){var i=$(t).attr("e-rowId");$("#"+i+"_field_left").data("ejDropDownList").disable();$("#"+i+"_field_right").data("ejDropDownList").disable();$("#"+i+"_field_type").data("ejDropDownList").disable();$("#"+i+"_field_save").css("visibility","hidden");$("#"+i+"_field_delete").css("visibility","hidden")}))},n.prototype.editRowJoin=function(n,t){var u=this.contendDiv.find(".e-join-edit"),i,s,o;if(u.length>0&&u.attr("rowId")!==n)if(i=u.attr("rowId"),s=this.getRelationInput(i),s)this.editRowJoin(i,{currentTarget:$("#"+i+"_save_btn")});else return;var f=$(t.currentTarget),r=$("#"+n),e=r.data("joinData");f.hasClass("e-row-edit")?(r.removeClass("e-join-save").addClass("e-join-edit"),f.addClass("e-row-save").addClass("e-reportdesigner-parameter-save").removeClass("e-reportdesigner-parameter-edit").removeClass("e-row-edit"),e&&e.fields&&e.fields.length>0&&this.enableInputEle(n,!0)):(o=this.getRelationInput(n),o&&(r.removeClass("e-join-edit").addClass("e-join-save"),f.addClass("e-row-edit").addClass("e-reportdesigner-parameter-edit").removeClass("e-reportdesigner-parameter-save").removeClass("e-row-save"),this.enableInputEle(n,!1),r.data("joinData",o)))},n.prototype.resetRowChanges=function(n){var u=$("#"+n),e=$("#"+n+"_save_btn"),t=u.data("joinData"),i,f,r;if($("#"+n+"_joiner_left_tab").data("ejDropDownList").selectItemByValue(t.leftTable),$("#"+n+"_joiner_right_tab").data("ejDropDownList").selectItemByValue(t.rightTable),$("#"+n+"_joiner_type").data("ejDropDownList").selectItemByValue(t.join),t&&t.fields&&t.fields.length>0)for(i=0;i<t.fields.length;i++)f={leftTable:t.leftTable,rightTable:t.rightTable,field:t.fields[i]},r=$("#"+n+"_query_joiner_field_div"),r.empty(),this.renderTabFields(n,r,f);this.enableInputEle(n,!1);u.removeClass("e-join-edit").addClass("e-join-save");e.addClass("e-row-edit").addClass("e-reportdesigner-parameter-edit").removeClass("e-reportdesigner-parameter-save").removeClass("e-row-save")},n.prototype.cancelRowChanges=function(n){this.resetRowChanges(n)},n.prototype.deleteJoinRow=function(n){var t=$("#"+n);t.hasClass("e-join-save")?t.remove():t.hasClass("e-join-edit")&&ej.isNullOrUndefined(t.data("joinData"))?t.remove():t.hasClass("e-join-edit")&&t.data("joinData")&&this.cancelRowChanges(n);this.ejScrollerDiv.refresh()},n.prototype.disableDeleteBtn=function(n){$("#"+n+"_field_delete").css("visibility","hidden")},n.prototype.enableDeleteBtn=function(n){$("#"+n+"_field_save").css("visibility")==="visible"&&$("#"+n+"_field_delete").css("visibility","visible")},n.prototype.deleteJoinFields=function(n){var i=$("#"+n.parentId+" .e-designer-joiner-field"),t;i.length===1?(t="Each relation must have one field condition. So, does not allow to delete this field",ej.DashboardUtil.getInstance().ejAlertDialog("Joiner",t,!1,!0,!0,"")):($("#"+n.id+"_field").remove(),this.ejScrollerDiv.refresh(),this.showAddNewField(n.parentId))},n.prototype.renderTabFields=function(n,t,i){var r=ej.getGuid(n+"_"),b=$("#"+n+"_joiner_left_tab").data("ejDropDownList").getSelectedValue(),k=$("#"+n+"_joiner_right_tab").data("ejDropDownList").getSelectedValue(),d=this.getTableColums(b),g=this.getTableColums(k),s=ej.buildTag("div.e-designer-joiner-field","",{padding:"4px 2px"},{unselectable:"on",id:r+"_field","e-rowId":r}),h=ej.buildTag("table","",{width:"100%","background-color":"white"},{unselectable:"on",id:r+"_field_table"}),u=ej.buildTag("tr","",{},{id:r+"_field_rowTag"}),c=ej.buildTag("td","",{width:"165px"},{}),f=ej.buildTag("input.e-left","",{padding:"1px"},{type:"text",id:r+"_field_left"}),l=ej.buildTag("td","",{width:"165px","padding-left":"10px"},{}),e=ej.buildTag("input","",{padding:"1px"},{type:"text",id:r+"_field_type"}),a=ej.buildTag("td","",{width:"165px","padding-left":"10px"},{}),o=ej.buildTag("input.e-right","",{height:"23px",width:"100%",padding:"1px"},{type:"text",id:r+"_field_right"}),nt=ej.buildTag("td","",{width:"40px"},{}),v=ej.buildTag("td","",{width:"70px"},{}),y=ej.buildTag("span.e-new-col e-btntxt e-designer-add-btn","Add Field",{cursor:"default",float:"right"},{id:r+"_field_save"}),p=ej.buildTag("td","",{"padding-top":"3px",width:"10px"},{}),w=ej.buildTag("span.e-icon e-close_01","",{cursor:"default",float:"right",visibility:"hidden",color:"#f45d5d"},{id:r+"_field_delete"});t.append(s);s.append(h);h.append(u);u.append(c).append(l).append(a).append(v).append(nt).append(p);c.append(f);l.append(e);a.append(o);v.append(y);p.append(w);y.bind("click",$.proxy(this.addNewField,this,{id:n,target:t}));w.bind("click",$.proxy(this.deleteJoinFields,this,{id:r,parentId:n}));u.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableDeleteBtn,this,r));u.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableDeleteBtn,this,r));f.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Left Field",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:d});o.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Right Field",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:g});e.ejDropDownList({showRoundedCorner:!0,width:"100%",watermarkText:"Operator",cssClass:"e-joiner-drpdwn e-designer-ejwidgets",fields:{id:"field",text:"field",value:"field"},dataSource:this.getOperator()});this.ejScrollerDiv.refresh();this.showAddNewField(n);i&&i.field&&(f.data("ejDropDownList").selectItemByValue(i.field.leftField),o.data("ejDropDownList").selectItemByValue(i.field.rightField),e.data("ejDropDownList").selectItemByValue(i.field.operator))},n.prototype.editNewField=function(n,t,i){var r,u;this.callback=i;r=$("#"+this.id+"_Join_Dialog");r.data("e-table",t);r.data("ejDialog").open();this.showQueryJoiner(n,i);u=this.addNewQueryJoiner();$("#"+u+"_joiner_right_tab").data("ejDropDownList").selectItemByValue(t.name);$("#"+u+" .e-right").data("ejDropDownList").setModel({dataSource:this.getTableColums(t.name)})},n.prototype.addNewField=function(n){this.renderTabFields(n.id,n.target,null)},n.prototype.validateRelation=function(n){var t,r,i,u;if(n.length>1)for(t=n.length-1;t>=0;t--){for(r=!1,i=0;i<n.length;i++)if(t!==i&&(n[t].leftTable===n[i].leftTable||n[t].leftTable===n[i].rightTable||n[t].rightTable===n[i].leftTable||n[t].rightTable===n[i].rightTable)){r=!0;break}if(!r)return u=n[t].key+" is no relation with other tables",ej.DashboardUtil.getInstance().ejAlertDialog("Joiner",u,!1,!0,!0,""),!1}return $("#"+this.id+"_rel_error_valmsg").css("display","none"),!0},n.prototype.getRelationInput=function(n){var f=$("#"+n+"_joiner_left_tab").data("ejDropDownList"),e=$("#"+n+"_joiner_right_tab").data("ejDropDownList"),o=$("#"+n+"_joiner_type").data("ejDropDownList"),t={},s,u;if(f.getSelectedValue())t.leftTable=f.getSelectedValue(),t.leftSchema=f.getItemDataByValue(f.getSelectedValue())[0].schema;else return ej.DashboardUtil.getInstance().ejAlertDialog("Joiner","Select the left table value",!1,!0,!0,""),null;if(e.getSelectedValue())t.rightTable=e.getSelectedValue(),t.rightSchema=e.getItemDataByValue(e.getSelectedValue())[0].schema;else return ej.DashboardUtil.getInstance().ejAlertDialog("Joiner","Select the right table value",!1,!0,!0,""),null;if(o.getSelectedValue())t.join=o.getSelectedValue();else return ej.DashboardUtil.getInstance().ejAlertDialog("Joiner","Select the relation for tables",!1,!0,!0,""),null;var h=$("#"+n+" .e-designer-joiner-field"),i=[],r=null;return(h.each(function(n,t){var u=$(t).attr("e-rowId"),f=$("#"+u+"_field_left").data("ejDropDownList"),e=$("#"+u+"_field_right").data("ejDropDownList"),o=$("#"+u+"_field_type").data("ejDropDownList");if(!f.getSelectedValue()){r="Select the left column value of field row #"+(n+1);i=[];return}if(!e.getSelectedValue()){r="Select the right column value of field row #"+(n+1);i=[];return}if(!o.getSelectedValue()){r="Select the operator of field row #"+(n+1);i=[];return}i.push({leftField:f.getSelectedValue(),operator:o.getSelectedValue(),rightField:e.getSelectedValue()})}),r&&i.length===0)?(ej.DashboardUtil.getInstance().ejAlertDialog("Joiner",r,!1,!0,!0,""),null):(i.length>0&&(t.key=t.leftTable+"-"+t.rightTable,t.fields=i,t.keyFields=i[0].leftField+i[0].operator+i[0].rightField),s=this.contendDiv.find(".e-join-save"),u=null,s.each(function(n,i){var r=$(i).data("joinData");if(t.key===r.leftTable+"-"+r.rightTable||t.key===r.rightTable+"-"+r.leftTable){u="Already relation exists between tables";return}}),u&&u.length>0)?(ej.DashboardUtil.getInstance().ejAlertDialog("Joiner",u,!1,!0,!0,""),null):t},n.prototype.changeEqualTable=function(n,t){var f=this;if(t.isInteraction){var i=void 0,r=void 0,u=void 0;n.identity==="left"?(i=$("#"+n.rowId+"_joiner_right_tab").data("ejDropDownList"),r=$("#"+n.rowId+" .e-left"),u=$("#"+n.rowId+" .e-right")):(i=$("#"+n.rowId+"_joiner_left_tab").data("ejDropDownList"),r=$("#"+n.rowId+" .e-right"),u=$("#"+n.rowId+" .e-left"));t.selectedValue===i.getSelectedValue()&&(i.option({selectedIndex:-1}),u.data("ejDropDownList").setModel({dataSource:[]}));r.each(function(n,i){$(i).data("ejDropDownList").setModel({dataSource:f.getTableColums(t.selectedValue)})})}},n.prototype.getTableColums=function(n){var t=[],i=this.queryDesigner.dbSchema;return $("#"+this.id+"_div_dragSurface .e-data-table").each(function(r,u){var f=$(u).data("e-table"),o,s,e;if(n===f.name)for(o=i.Schemas[f.schema][f.viewType][f.name],s=Object.keys(o),e=0;e<s.length;e++)t.push({pid:f.name,field:o[s[e]].Name})}),t},n.prototype.getTableGroups=function(){var n=[];return $("#"+this.id+"_div_dragSurface .e-data-table").each(function(t,i){var r=$(i).data("e-table");n.push({pid:r.name,field:r.name,schema:r.schema})}),n},n.prototype.showAddNewField=function(n){var t=$("#"+n+" .e-new-col"),i=t.length;t.each(function(n,t){$(t).css("display",n===i-1?"block":"none")})},n.prototype.showQueryJoiner=function(n,t){this.resetJoinInstance();this.callback=t;$("#"+this.id+"_Join_Dialog").data("ejDialog").open();this.tables=this.getTableGroups();this.populateJoiner(n)},n.prototype.resetJoinInstance=function(){this.queryJoiner=[];this.pageY=0;this.tables=[]},n.prototype.populateJoiner=function(n){if(this.queryJoiner=n,this.contendDiv.empty(),this.queryJoiner&&this.queryJoiner.length>0)for(var t=0;t<this.queryJoiner.length;t++)this.addNewQueryJoiner(this.queryJoiner[t])},n.prototype.closeJoinDialog=function(n){var t,i,r;n.isInteraction&&(t=$("#"+this.id+"_Join_Dialog"),i=t.data("e-table"),t.data("ejDialog").close(),i&&i.name&&(r={isCancel:!0,data:i},ej.DashboardUtil.invokeCallBack(this.callback,r),t.removeData("e-table")))},n.prototype.cancelJoinDialog=function(){var n=$("#"+this.id+"_Join_Dialog"),t=n.data("e-table"),i;n.data("ejDialog").close();t&&t.name&&(i={isCancel:!0,data:t},ej.DashboardUtil.invokeCallBack(this.callback,i),n.removeData("e-table"))},n.prototype.saveJoinQuery=function(){var r=this.contendDiv.find(".e-join-edit"),n,u,t,i;if(r.length>0)if(n=r.attr("rowId"),u=this.getRelationInput(n),u)this.editRowJoin(n,{currentTarget:$("#"+n+"_save_btn")});else return;t=this.getTableJoiners();this.validateRelation(t)&&(this.postJoinInformation(t),i=$("#"+this.id+"_Join_Dialog"),ej.DashboardUtil.invokeCallBack(this.callback,{joiners:t}),i.data("ejDialog").close(),i.removeData("e-table"))},n.prototype.getTableJoiners=function(){var n=[],t=this.contendDiv.find(".e-join-save");return t.each(function(t,i){var r=$(i).data("joinData");n.push(r)}),n},n.prototype.postJoinInformation=function(n){var r=[],t,u,i;if(n.length>=1)for(t=0;t<n.length;t++){for(u=[],r.push({LeftTableName:n[t].leftTable,RightTableName:n[t].rightTable}),i=0;i<n[t].fields.length;i++)u.push({LeftTableField:n[t].fields[i].leftField,Condition:n[t].fields[i].operator,RightTableField:n[t].fields[i].rightField});r[t].JoinedFields=u}ej.DashboardUtil.getInstance().doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.fetchData,joinInfo:r})},{})},n.prototype.getJoinData=function(){return[{field:"Inner"},{field:"Left Outer"},{field:"Right Outer"},{field:"Full Outer"}]},n.prototype.getOperator=function(){return[{field:"="},{field:"<="},{field:">="},{field:"!="}]},n.prototype.initializeSortable=function(n,t,i,r){n.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.ondragStart,this,{element:t,diaglog:i,container:r}))},n.prototype.ondragStart=function(n,t){$("body").bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.ondrag,this,{container:n.container}));$("body").bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.ondrop,this,n.element));this.dragging=ej.buildTag("div","",{height:"auto",width:n.element.width(),position:"absolute",display:"block","border-style":"none","z-index":$("#"+n.diaglog+"_wrapper").css("z-index")+10,top:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY+1.5:t.pageY+1.5,left:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX+1.5:t.pageX+1.5},{});this.dragging.append(n.element.clone());$("body").append(this.dragging);this.updateDragRegion(n.element,"bottom");n.element.hide()},n.prototype.ondrag=function(n,t){var h=this,s,f;if(this.dragging!=null){var u=$("#"+n.container),i=u.data("ejScroller"),e=u.offset(),r=t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,o=t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX;this.dragging.css({display:"block",position:"absolute",top:r+1.5,left:o+1.5});e.top>r?i.model.scrollTop>0&&i.model.scrollTop-5>0?i.scrollY(i.model.scrollTop-5):i.scrollY(0):r>e.top+u.height()&&i.scrollY(i.model.scrollTop+5);s=u.find(".e-items").children(".e-drag-row:visible");f=this;s.each(function(n,t){var i=$(t);if(f.isIntersect(o,r,i,u)){f.updateDragRegion(i,r<h.pageY?"bottom":"top");return}});this.pageY=r}},n.prototype.ondrop=function(n){n.show();var t=$("#"+this.id+"_drag_empty_area");n.insertAfter(t);this.dragging.remove();this.dragging=null;t.remove();$("body").unbind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.ondrag,this));$("body").unbind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.ondrop,this))},n.prototype.isIntersect=function(n,t,i,r){var u=i.offset(),f=r.offset();return f.left<n&&n<f.left+r.width()&&f.top<t&&t<f.top+r.height()&&u.left<n&&n<u.left+i.width()&&u.top<t&&t<u.top+i.height()},n.prototype.updateDragRegion=function(n,t){var i=$("#"+this.id+"_drag_empty_area");i.length===0&&(i=ej.buildTag("div.e-empty","",{border:"1px solid #f1f1f1",width:n.children().width(),margin:"8px",height:n.children().height(),background:"white"},{id:this.id+"_drag_empty_area"}));t==="bottom"?i.insertBefore(n):i.insertAfter(n)},n}();window.ej.createObject("ej.DashboardDesignerUtility.QueryJoiner",InternalQueryJoiner,window);InternalQueryParameter=function(){function n(){this.id=null;this.parameters=[];this.queryParameters=[];this.id=ej.DashboardUtil.getInstance().ejInstance._id;this.queryDesigner=ej.DashboardUtil.getQueryInstance("QueryDesigner");this.renderQueryParameter()}return Object.defineProperty(n,"QueryParameter",{get:function(){return(this.queryParameter===null||this.queryParameter===undefined)&&(this.queryParameter=new ej.DashboardDesignerUtility.QueryParameter),this.queryParameter},enumerable:!0,configurable:!0}),n.prototype.renderQueryParameter=function(){var t=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"block"},{title:"Parameters",id:this.id+"_query_param_dialog"}),i=ej.buildTag("div","",{height:"280px",width:"100%"}),n=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{height:"275px",width:"475px",margin:"5px 0px"},{id:this.id+"_queryparam_parent_div"}),r=ej.buildTag("div","",{},{}),o=ej.buildTag("div","",{},{id:this.id+"_queryparam_container_div"}),u=ej.buildTag("input","",{float:"right"},{id:this.id+"_queryparam_btn_cancel"}),f=ej.buildTag("input","",{float:"right"},{id:this.id+"_queryparam_btn_save"}),e;r.append(o);n.append(r);i.append(n);t.append(i);t.ejDialog({minWidth:500,height:"auto",width:"auto",enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});e=$("#"+this.id+"_query_param_dialog_foot");e.append(u).append(f);f.ejButton({text:"Ok",enabled:!0,cssClass:"e-designer-okbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.saveQueryParameter,this,!0)});u.ejButton({text:"Cancel",cssClass:"e-designer-cancelbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeQueryDialog,this,!0)});n.ejScroller({height:"275px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.renderQueryParameters=function(n){var i=$("#"+this.id+"_queryparam_container_div"),t,e;i.empty();var r=ej.buildTag("div.e-reportdesigner-query-parameter","",{padding:"4px 8px","padding-bottom":"0px",display:"block"},{}),u=ej.buildTag("table","",{},{id:this.id+"_query_table"}),f=ej.buildTag("tr"),o=ej.buildTag("td","<b>Parameter<\/b>",{height:"30px",width:"163px"}),s=ej.buildTag("td","<b style='padding-left: 10px'>Null<\/b>",{height:"30px",width:"86px","padding-left":"26px"}),h=ej.buildTag("td","<b style='padding-left: 12px' id='"+this.id+"_queryparam_value_title'>Value<\/b>",{height:"30px",width:"176px","padding-left":"13px"});for(this.parameters=n,f.append(o).append(s).append(h),u.append(f),r.append(u),i.append(r),t=0;t<n.length;t++)e=n[t],this.renderParameter(e,i);this.queryParameters&&this.queryParameters.length>0&&this.populateQueryParameter(this.queryParameters)},n.prototype.renderParameter=function(n,t){var i=n.substring(1),u=ej.buildTag("div.e-reportdesigner-query-parameter","",{padding:"4px 8px",display:"block"},{id:this.id+"_query_"+i}),f=ej.buildTag("table","",{width:"100%"},{id:this.id+"_query_table_"+i}),r=ej.buildTag("tr","",{}),e=ej.buildTag("td","",{width:"150px"}),l=ej.buildTag("span",n,{width:"150px","text-overflow":"ellipsis",overflow:"hidden",display:"block","white-space":"nowrap"},{}),o=ej.buildTag("td","",{width:"57px","padding-left":"40px"}),s=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_query_chk_"+i}),h=ej.buildTag("td","",{width:"20px","padding-left":"26px"}),c;r.append(e);e.append(l);r.append(o);o.append(s);r.append(h);f.append(r);u.append(f);t.append(u);c=ej.buildTag("input.e-textbox e-designer-border","",{height:"25px",width:"140px",float:"right"},{type:"text",id:this.id+"_query_proc_"+i});h.append(c);s.ejCheckBox({change:$.proxy(this.checkParamNullable,this,{id:this.id+"_query_proc_"+i}),showRoundedCorner:!0,cssClass:"e-designer-border"})},n.prototype.getQueryParams=function(){var t=[],n;if(this.parameters&&this.parameters.length>0){for(n=0;n<this.parameters.length;n++){var i=this.parameters[n],r=i.substring(1),u=$("#"+this.id+"_query_chk_"+r).data("ejCheckBox");u.isChecked()?t.push({Name:i,IsNull:!0,Value:""}):t.push({Name:i,IsNull:!1,Value:$("#"+this.id+"_query_proc_"+r).val()})}return t}return null},n.prototype.getQueryParameters=function(n){for(var i=[],r=ej.DashboardUtil.parseQuery(n),t=0;t<r.length;t++)this.isExistQueryParameter(r[t].substring(1),i)||i.push({Name:r[t],Value:null,isQueryMode:!0});return i},n.prototype.saveQueryParameter=function(){this.queryDesigner.queryInputVals=this.getQueryParams();var n=this.queryDesigner.getQueryText();this.queryDesigner.executeTempQuery(n);$("#"+this.id+"_query_param_dialog").data("ejDialog").close()},n.prototype.populateQueryParameter=function(n){var t,i;if(n&&n.length>0)for(t=0;t<n.length;t++)i=n[t].Name.substring(1),n[t].IsNull?$("#"+this.id+"_query_chk_"+i).data("ejCheckBox").setModel({checked:!0}):$("#"+this.id+"_query_proc_"+i).val(n[t].Value)},n.prototype.checkParamNullable=function(n,t){t.isChecked?$("#"+n.id).attr("disabled","disabled"):$("#"+n.id).removeAttr("disabled")},n.prototype.isExistQueryParameter=function(n,t){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1},n.prototype.showQueryDialog=function(n,t){var i=ej.DashboardUtil.parseQuery(n),r;this.queryParameters=t;i&&i.length>0?(this.renderQueryParameters(i),$("#"+this.id+"_query_param_dialog").data("ejDialog").open(),$("#"+this.id+"_queryparam_parent_div").height()>$("#"+this.id+"_queryparam_container_div").height()?$("#"+this.id+"_queryparam_value_title").css("padding-left","16px"):$("#"+this.id+"_queryparam_value_title").css("padding-left","12px"),r=$("#"+this.id+"_queryparam_parent_div"),r.data("ejScroller")&&r.data("ejScroller").refresh()):this.queryDesigner.executeTempQuery(n)},n.prototype.closeQueryDialog=function(){$("#"+this.id+"_query_param_dialog").data("ejDialog").close()},n}();window.ej.createObject("ej.DashboardDesignerUtility.QueryParameter",InternalQueryParameter,window);InternalRDLParser=function(){function n(){this.previousRdlHeader=null;this.previousRdlFooter=null;this.rdlReport=null;this.rdlBody=null;this.rdlHeader=null;this.rdlFooter=null;this.rdlPage=null;this.rdlJsonObj=null;this.unitType="in";this.reportSection=null}return n.prototype.serialize=function(n){var t="";return this.rdlPage.PageHeader=this.rdlHeader,this.rdlPage.PageFooter=this.rdlFooter,this.rdlJsonObj.DataSources=this.getDataSources(n),this.rdlJsonObj.DataSets=ejDashboardDesigner.getInstance("DataSet").datasets,this.rdlJsonObj.ReportParameters=ejDashboardDesigner.getInstance("Parameter").parameters,this.rdlJsonObj.EmbeddedImages=ejDashboardDesigner.getInstance("ImageManager").imageList,t=JSON.stringify(this.rdlJsonObj),this.resetDataSource(),t},n.prototype.getDataSources=function(n){var t=ejDashboardDesigner.getInstance("DataSource").datasources,i;if(n&&t&&t.length>0)for(i=0;i<t.length;i++)t[i].ConnectionProperties&&(t[i].ConnectionProperties.EmbedCredentials=!0);return t},n.prototype.resetDataSource=function(){var n=ejDashboardDesigner.getInstance("DataSource").datasources,t;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].ConnectionProperties&&(n[t].ConnectionProperties.EmbedCredentials=!1)},n.prototype.deserialize=function(n){if(this.rdlJsonObj=JSON.parse(n.replace(/\bNaN\b/g,"null")),this.rdlReport=this.rdlJsonObj.Report,this.rdlReport===undefined)this.rdlReport=this.rdlJsonObj,this.rdlVersion=this.rdlReport.RDLType===0?"2008":"2010";else{var t=this.rdlReport["@xmlns"];this.rdlVersion=t.match(/\d+/)[0]}this.updateReportSection()},n.prototype.updateReportSection=function(){this.rdlVersion==="2008"?(this.rdlBody=this.rdlReport.Body,this.rdlPage=this.rdlReport.Page,this.rdlHeader=this.rdlPage.PageHeader,this.rdlFooter=this.rdlPage.PageFooter,this.reportSection=null):(this.reportSection=this.rdlReport.ReportSections[0],this.rdlBody=this.reportSection.Body,this.rdlPage=this.reportSection.Page,this.rdlHeader=this.rdlPage.PageHeader,this.rdlFooter=this.rdlPage.PageFooter);this.rdlReport.ReportUnitType==="Cm"&&(this.unitType="cm")},n.prototype.getPageJSON=function(n){return{__type:n?"Syncfusion.RDL.DOM.PageHeader":"Syncfusion.RDL.DOM.PageFooter",Height:{__type:"Syncfusion.RDL.DOM.Size",size:"0.7291666666666666in"},PrintOnFirstPage:!0,PrintOnLastPage:!0,ReportItems:[],Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#000000",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.newJsonReport=function(){this.rdlJsonObj={__type:"Syncfusion.RDL.DOM.ReportDefinition",ReportSections:[{__type:"Syncfusion.RDL.DOM.ReportSection",Body:{__type:"Syncfusion.RDL.DOM.Body",ReportItems:[],Height:{__type:"Syncfusion.RDL.DOM.Size",size:"3.125in"},Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#000000",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"6in"},Page:{__type:"Syncfusion.RDL.DOM.Page",PageHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"11in"},PageWidth:{__type:"Syncfusion.RDL.DOM.Size",size:"8.5in"},PageHeader:null,PageFooter:this.getPageJSON(!1),InteractiveHeight:null,InteractiveWidth:null,LeftMargin:{__type:"Syncfusion.RDL.DOM.Size",size:"1in"},RightMargin:{__type:"Syncfusion.RDL.DOM.Size",size:"1in"},TopMargin:{__type:"Syncfusion.RDL.DOM.Size",size:"1in"},BottomMargin:{__type:"Syncfusion.RDL.DOM.Size",size:"1in"},Columns:0,ColumnSpacing:null,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#000000",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},DataElementOutput:0}],Description:null,Author:null,AutoRefresh:0,DataSources:[],DataSets:[],Body:null,ReportParameters:[],CustomProperties:[],Code:null,Width:null,Page:null,EmbeddedImages:[],Language:null,CodeModules:[],Classes:[],Variables:[],DeferVariableEvaluation:!1,ConsumeContainerWhitespace:!1,DataTransform:null,DataSchema:null,DataElementName:null,InitialPageName:null,DataElementStyle:0,RDLType:1,ReportUnitType:"Inch",ReportServerUrl:null};this.rdlReport=this.rdlJsonObj;this.rdlVersion=this.rdlReport.RDLType===0?"2008":"2010";this.previousRdlFooter=this.previousRdlHeader=null;this.updateReportSection()},n.prototype.getPixelValue=function(n){return ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getPixelVal(n):n},n.prototype.getOrientation=function(){var n=ej.DashboardUtil.getSizeVal(this.rdlPage.PageHeight.size),t=ej.DashboardUtil.getSizeVal(this.rdlPage.PageWidth.size);return n>t?"Portrait":"Landscape"},n.prototype.createBorder=function(n){return{__type:"Syncfusion.RDL.DOM."+n+"Border",Color:"#000000",Style:n===""?"None":null,Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}}},n}();window.ej.createObject("ej.DashboardDesignerUtility.RDLParser",InternalRDLParser,window);InternalRectangleReportItem=function(){function n(){this.rectangleJson=null;this.rectangleDiv=null;this.rectangleItem=null;this.propertyPanel=null;this.borderColor=null;this.borderStyle=null;this.borderWidth=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!1;this.borderColor={"border-color":"gray","border-left-color":"","border-right-color":"","border-top-color":"","border-bottom-color":""};this.borderWidth={"border-width":"1pt","border-left-width":"","border-right-width":"","border-top-width":"","border-bottom-width":""};this.borderStyle={"border-style":"dotted","border-left-style":"","border-right-style":"","border-top-style":"","border-bottom-style":""}}return n.prototype.renderRectangleReportElement=function(n,t){var r,u,i;try{return this.rectangleJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n,r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(this.rectangleJson.Left.size),top:ej.DashboardUtil.getPixelVal(this.rectangleJson.Top.size),width:ej.DashboardUtil.getPixelVal(this.rectangleJson.Width.size),height:ej.DashboardUtil.getPixelVal(this.rectangleJson.Height.size)},this.renderRectangleElement(u,r),i={},this.openRectangleBorder(this.rectangleJson.Style,i),ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.rectangleDiv),this.rectangleItem.css(i),this.rectangleDiv.css("background-color",n.Style.BackgroundColor),this.rectangleDiv}catch(f){this.designPanel.logError({Source:this.rectangleJson.Name,Error:f,Type:f.name})}return null},n.prototype.renderRectangleItem=function(n,t){try{var r=$("#"+t);this.rectangleJson=this.getRectangleJson();this.rectangleJson.Name=ejDashboardDesigner.getAvailableName("e-rectangle");this.renderRectangleElement(n,r);this.rectangleJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.rectangleJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.rectangleJson.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.rectangleJson.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in");this.designPanel.performItemSelection(this.rectangleDiv);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderRectangleItem","e-rectangle",this.rectangleJson.Name,null,[n,t])}catch(i){this.designPanel.logError({Source:this.rectangleJson.Name,Error:i,Type:i.name})}},n.prototype.renderRectangleElement=function(n,t){this.rectangleDiv=ej.buildTag("div.e-rectangle e-reportitem","",{left:n.left,top:n.top,width:n.width,height:n.height,position:"absolute",border:"1px none gray","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"},{id:this.rectangleJson.Name,Name:this.rectangleJson.Name,isDataEnabled:this.isDataEnabled});this.rectangleItem=ej.buildTag("div","",{width:"100%",height:"100%","z-index":"-1",border:"1pt dotted gray","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.rectangleJson.Name+"_rectangleItem"});this.rectangleDiv.append(this.rectangleItem);t.append(this.rectangleDiv);this.rectangleDiv.data("Rectangle",this)},n.prototype.openRectangleBorder=function(n,t){n&&(n.Border&&this.updateBorder(n.Border,"",t),n.TopBorder&&this.updateBorder(n.TopBorder,"-top",t),n.BottomBorder&&this.updateBorder(n.BottomBorder,"-bottom",t),n.LeftBorder&&this.updateBorder(n.LeftBorder,"-left",t),n.RightBorder&&this.updateBorder(n.RightBorder,"-right",t))},n.prototype.updateBorder=function(n,t,i){var r=this.rectangleJson.Style.Border;n&&(i["border"+t+"-color"]=this.borderColor["border"+t+"-color"]=n.Color?n.Color:r.Color?r.Color:"Black",this.borderWidth["border"+t+"-width"]=n.Width&&n.Width?ej.DashboardUtil.getPixelVal(n.Width.size)+"pt":ej.DashboardUtil.getPixelVal(r&&r.Width?r.Width.size:"1pt")+"px",i["border"+t+"-width"]=this.borderWidth["border"+t+"-width"],n.Style==="Default"||n.Style==="None"?(i["border"+t+"-style"]="dotted",i["border"+t+"-color"]="gray",i["border"+t+"-width"]="1px",this.borderStyle["border"+t+"-style"]="none"):(this.borderStyle["border"+t+"-style"]=n.Style?n.Style.toLowerCase():r.Style.toLowerCase(),i["border"+t+"-style"]=this.borderStyle["border"+t+"-style"]))},n.prototype.updateLeftPosition=function(n){this.rectangleJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleDiv.css("left",n)},n.prototype.updateTopPosition=function(n){this.rectangleJson.Top.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleDiv.css("top",n)},n.prototype.updateWidth=function(n){this.rectangleJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleDiv.css("width",n);this.designPanel.updateWidgetSelectionBox(this.rectangleDiv)},n.prototype.updateHeight=function(n){this.rectangleJson.Height.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleDiv.css("height",n);this.designPanel.updateWidgetSelectionBox(this.rectangleDiv)},n.prototype.updateBackgroundColor=function(n){this.rectangleJson.Style.BackgroundColor=n;ej.DashboardUtil.isExpression(n)&&this.rectangleDiv.css("background-color",n)},n.prototype.updateBorderColor=function(n,t,i){n.Color=t;var r=this.rectangleJson.Style.Border.Color,u=(ej.isNullOrUndefined(t)||ej.DashboardUtil.isEmptyString(t))&&!ej.isNullOrUndefined(r)?r:t;n.Style==="None"?this.rectangleItem.css("border"+i+"-color","gray"):(this.borderColor["border"+i+"-color"]=ej.DashboardUtil.isExpression(u)?u:"black",this.rectangleItem.css("border"+i+"-color",this.borderColor["border"+i+"-color"]))},n.prototype.updateBorderWidth=function(n,t,i){var r=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t;n&&n.Width?n.Width.size=r:n.Width={__type:"Syncfusion.RDL.DOM.Size",size:r};n.Style==="None"?this.rectangleItem.css("border"+i+"-width","1px"):(this.borderWidth["border"+i+"-width"]=ej.DashboardUtil.isExpression(t)?t:ej.DashboardUtil.getPixelVal("1pt"),this.rectangleItem.css("border"+i+"-width",this.borderWidth["border"+i+"-width"]))},n.prototype.updateBorderStyle=function(n,t,i){n.Style=t;t&&(t!=="Default"&&t!=="None"&&ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.isExpression(t)?(this.borderStyle["border"+i+"-style"]=t.toLowerCase(),this.rectangleItem.css("border"+i+"-style",this.borderStyle["border"+i+"-style"]),this.rectangleItem.css("border"+i+"-color",ej.DashboardUtil.isEmptyString(this.borderColor["border"+i+"-color"])?this.borderColor["border-color"]:this.borderColor["border"+i+"-color"]),this.rectangleItem.css("border"+i+"-width",ej.DashboardUtil.isEmptyString(this.borderWidth["border"+i+"-width"])?this.borderColor["border-color"]:this.borderWidth["border"+i+"-width"])):(this.borderStyle["border"+i+"-style"]="dotted",this.rectangleItem.css("border"+i+"-style",this.borderStyle["border"+i+"-style"]),this.rectangleItem.css("border"+i+"-color","Gray"),this.rectangleItem.css("border"+i+"-width","1pt")):(this.rectangleItem.css("border"+i+"-style","dotted"),this.rectangleItem.css("border"+i+"-color","gray"),this.rectangleItem.css("border"+i+"-width","1px")))},n.prototype.updateRectangleVisiblity=function(n){var t=ej.DashboardUtil.isExpression(n)?!n:n;this.rectangleJson.Visibility?this.rectangleJson.Visibility.Hidden=t:this.rectangleJson.Visibility={Hidden:t}},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Left":this.updateLeftPosition(i);break;case"Top":this.updateTopPosition(i);break;case"Height":this.updateHeight(i);break;case"Width":this.updateWidth(i);break;case"BackgroundColor":this.updateBackgroundColor(i);break;case"BorderColorDefault":this.rectangleJson.Style.Border||(this.rectangleJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderColor(this.rectangleJson.Style.Border,i,"");break;case"BorderColorLeft":this.rectangleJson.Style.LeftBorder||(this.rectangleJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderColor(this.rectangleJson.Style.LeftBorder,i,"-left");break;case"BorderColorRight":this.rectangleJson.Style.RightBorder||(this.rectangleJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderColor(this.rectangleJson.Style.RightBorder,i,"-right");break;case"BorderColorTop":this.rectangleJson.Style.TopBorder||(this.rectangleJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderColor(this.rectangleJson.Style.TopBorder,i,"-top");break;case"BorderColorBottom":this.rectangleJson.Style.BottomBorder||(this.rectangleJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderColor(this.rectangleJson.Style.BottomBorder,i,"-bottom");break;case"BorderWidthDefault":this.rectangleJson.Style.Border||(this.rectangleJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderWidth(this.rectangleJson.Style.Border,i,"");break;case"BorderWidthLeft":this.rectangleJson.Style.LeftBorder||(this.rectangleJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderWidth(this.rectangleJson.Style.LeftBorder,i,"-left");break;case"BorderWidthRight":this.rectangleJson.Style.RightBorder||(this.rectangleJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderWidth(this.rectangleJson.Style.RightBorder,i,"-right");break;case"BorderWidthTop":this.rectangleJson.Style.TopBorder||(this.rectangleJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderWidth(this.rectangleJson.Style.TopBorder,i,"-top");break;case"BorderWidthBottom":this.rectangleJson.Style.BottomBorder||(this.rectangleJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderWidth(this.rectangleJson.Style.BottomBorder,i,"-bottom");break;case"BorderStyleDefault":this.rectangleJson.Style.Border||(this.rectangleJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderStyle(this.rectangleJson.Style.Border,i,"");break;case"BorderStyleLeft":this.rectangleJson.Style.LeftBorder||(this.rectangleJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderStyle(this.rectangleJson.Style.LeftBorder,i,"-left");break;case"BorderStyleRight":this.rectangleJson.Style.RightBorder||(this.rectangleJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderStyle(this.rectangleJson.Style.RightBorder,i,"-right");break;case"BorderStyleTop":this.rectangleJson.Style.TopBorder||(this.rectangleJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderStyle(this.rectangleJson.Style.TopBorder,i,"-top");break;case"BorderStyleBottom":this.rectangleJson.Style.BottomBorder||(this.rectangleJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderStyle(this.rectangleJson.Style.BottomBorder,i,"-bottom");break;case"KeepTogether":this.rectangleJson.KeepToGether=i;break;case"Name":this.rectangleJson.Name=i;break;case"Hidden":this.updateRectangleVisiblity(i);break;case"BreakLocation":this.rectangleJson.PageBreak||(this.rectangleJson.PageBreak=this.createPageBreak());this.rectangleJson.PageBreak.BreakLocation=BreakLocation[i];break;case"Disabled":this.rectangleJson.PageBreak||(this.rectangleJson.PageBreak=this.createPageBreak());this.rectangleJson.PageBreak.Disabled=i;this.propertyPanel.updateItemVisibility("Rectangle","PageBreak","BreakLocation",i.toString()==="true");this.propertyPanel.updateItemVisibility("Rectangle","PageBreak","ResetPageNumber",i.toString()==="true");break;case"ResetPageNumber":this.rectangleJson.PageBreak||(this.rectangleJson.PageBreak=this.createPageBreak());this.rectangleJson.PageBreak.ResetPageNumber=i;break;case"PageName":this.rectangleJson.PageName=i}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.rectangleDiv.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"Rectangle",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-rectangle",this.rectangleJson.Name,[n,i,t,r],[n,t,i,r])},n.prototype.updatePosition=function(n,t,i){if(this.rectangleDiv.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.rectangleJson.Left.size),ej.DashboardUtil.getPixelVal(this.rectangleJson.Top.size),!0],u=[n,t,!0];this.rectangleJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-rectangle",this.rectangleJson.Name,r,u)}},n.prototype.updateSize=function(n,t,i){if(this.rectangleDiv.css({width:n,height:t}),this.designPanel.updateWidgetSelectionBox(this.rectangleDiv),i){var r=[ej.DashboardUtil.getPixelVal(this.rectangleJson.Width.size),ej.DashboardUtil.getPixelVal(this.rectangleJson.Height.size),!0],u=[n,t,!0];this.rectangleJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.rectangleJson.Height.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Size","Width",n);this.updatePropertyValue("Size","Height",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-rectangle",this.rectangleJson.Name,r,u)}},n.prototype.updateItemSize=function(n,t,i,r,u){if(this.rectangleDiv.css({left:n,top:t,width:i,height:r}),this.designPanel.updateWidgetSelectionBox(this.rectangleDiv),u){var f=[ej.DashboardUtil.getPixelVal(this.rectangleJson.Left.size),ej.DashboardUtil.getPixelVal(this.rectangleJson.Top.size),ej.DashboardUtil.getPixelVal(this.rectangleJson.Width.size),ej.DashboardUtil.getPixelVal(this.rectangleJson.Height.size),!0],e=[n,t,i,r,!0];this.rectangleJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.rectangleJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.rectangleJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.rectangleJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.updatePropertyValue("Size","Width",i);this.updatePropertyValue("Size","Height",r);this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-rectangle",this.rectangleJson.Name,f,e)}},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"Rectangle",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){return{Header:this.rectangleJson.Name,Type:"Rectangle",Items:[{CategoryName:"Basic Settings",Items:[{name:"Border",displayName:"Border",itemType:"border",items:[{name:"BorderStyleDefault",displayName:"None",value:this.rectangleJson.Style.Border?this.rectangleJson.Style.Border.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorDefault",displayName:"None",value:this.rectangleJson.Style.Border&&this.rectangleJson.Style.Border.Color?this.rectangleJson.Style.Border.Color:"Transparent",itemType:"color"},{name:"BorderWidthDefault",displayName:"None",value:this.rectangleJson.Style.Border&&this.rectangleJson.Style.Border.Width?ej.DashboardUtil.isExpression(this.rectangleJson.Style.Border.Width.size)?ej.DashboardUtil.getPixelVal(this.rectangleJson.Style.Border.Width.size):this.rectangleJson.Style.Border.Width.size:ej.DashboardUtil.getPixelVal("1pt"),minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}],childItems:[{name:"LeftBorder",displayName:"Left",itemType:"border",items:[{name:"BorderStyleLeft",displayName:"None",value:this.rectangleJson.Style.LeftBorder?this.rectangleJson.Style.LeftBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorLeft",displayName:"None",value:this.rectangleJson.Style.LeftBorder&&this.rectangleJson.Style.LeftBorder.Color?this.rectangleJson.Style.LeftBorder.Color:"gray",itemType:"color"},{name:"BorderWidthLeft",displayName:"None",value:this.rectangleJson.Style.LeftBorder&&this.rectangleJson.Style.LeftBorder.Width?ej.DashboardUtil.isExpression(this.rectangleJson.Style.LeftBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.rectangleJson.Style.LeftBorder.Width.size):this.rectangleJson.Style.LeftBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"RightBorder",displayName:"Right",itemType:"border",items:[{name:"BorderStyleRight",displayName:"None",value:this.rectangleJson.Style.RightBorder?this.rectangleJson.Style.RightBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorRight",displayName:"None",value:this.rectangleJson.Style.RightBorder&&this.rectangleJson.Style.RightBorder.Color?this.rectangleJson.Style.RightBorder.Color:"gray",itemType:"color"},{name:"BorderWidthRight",displayName:"None",value:this.rectangleJson.Style.RightBorder&&this.rectangleJson.Style.RightBorder.Width?ej.DashboardUtil.isExpression(this.rectangleJson.Style.RightBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.rectangleJson.Style.RightBorder.Width.size):this.rectangleJson.Style.RightBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"TopBorder",displayName:"Top",itemType:"border",items:[{name:"BorderStyleTop",displayName:"None",value:this.rectangleJson.Style.TopBorder?this.rectangleJson.Style.TopBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorTop",displayName:"None",value:this.rectangleJson.Style.TopBorder&&this.rectangleJson.Style.TopBorder.Color?this.rectangleJson.Style.TopBorder.Color:"gray",itemType:"color"},{name:"BorderWidthTop",displayName:"None",value:this.rectangleJson.Style.TopBorder&&this.rectangleJson.Style.TopBorder.Width?ej.DashboardUtil.isExpression(this.rectangleJson.Style.TopBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.rectangleJson.Style.TopBorder.Width.size):this.rectangleJson.Style.TopBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"BottomBorder",displayName:"Bottom",itemType:"border",items:[{name:"BorderStyleBottom",displayName:"None",value:this.rectangleJson.Style.BottomBorder?this.rectangleJson.Style.BottomBorder.Style:null,unitType:"in",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorBottom",displayName:"None",value:this.rectangleJson.Style.BottomBorder&&this.rectangleJson.Style.BottomBorder.Color?this.rectangleJson.Style.BottomBorder.Color:"gray",itemType:"color"},{name:"BorderWidthBottom",displayName:"None",value:this.rectangleJson.Style.BottomBorder&&this.rectangleJson.Style.BottomBorder.Width?ej.DashboardUtil.isExpression(this.rectangleJson.Style.BottomBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.rectangleJson.Style.BottomBorder.Width.size):this.rectangleJson.Style.BottomBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]}]},{name:"BackgroundColor",displayName:"Background",value:this.rectangleJson.Style.BackgroundColor?this.rectangleJson.Style.BackgroundColor:"Transparent",itemType:"color"}]},{CategoryName:"Page Break",Items:[{name:"Disabled",displayName:"Enable Page Break",value:this.rectangleJson.PageBreak&&this.rectangleJson.PageBreak.Disabled?this.rectangleJson.PageBreak.Disabled:!1,itemType:"bool",valueList:["True","False"]},{name:"BreakLocation",displayName:"Break Location",enableExpression:!1,value:this.rectangleJson.PageBreak?BreakLocation[this.rectangleJson.PageBreak.BreakLocation]:"None",isVisible:this.rectangleJson.PageBreak&&this.rectangleJson.PageBreak.Disabled?this.rectangleJson.PageBreak.Disabled:!1,itemType:"dropdown",valueList:["None","Start","End","StartAndEnd","Between"]},{name:"ResetPageNumber",displayName:"Page Number Reset",value:this.rectangleJson.PageBreak&&this.rectangleJson.PageBreak.ResetPageNumber?this.rectangleJson.PageBreak.ResetPageNumber:!1,isVisible:this.rectangleJson.PageBreak&&this.rectangleJson.PageBreak.Disabled?this.rectangleJson.PageBreak.Disabled:!1,itemType:"bool"}]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",itemType:"position",enableExpression:!1,items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.rectangleJson.Left.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.rectangleJson.Top.size),maximum:43680,unitType:"pixel",itemType:"float"}]},{name:"Size",displayName:"Size",itemType:"size",enableExpression:!1,items:[{name:"Width",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.rectangleJson.Width.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Height",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.rectangleJson.Height.size),maximum:43680,unitType:"pixel",itemType:"float"}]}]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.rectangleJson.Visibility&&this.rectangleJson.Visibility.Hidden?ej.DashboardUtil.isExpression(this.rectangleJson.Visibility.Hidden)?!this.rectangleJson.Visibility.Hidden:this.rectangleJson.Visibility.Hidden:!0,itemType:"bool"}]},{CategoryName:"Miscellaneous",Items:[{name:"KeepTogether",displayName:"Keep Together",enableExpression:!1,value:this.rectangleJson.KeepTogether,itemType:"bool"},{name:"PageName",displayName:"Page Name",enableExpression:!1,value:this.rectangleJson.PageName}]}]}},n.prototype.getReportItem=function(){return this.rectangleDiv},n.prototype.getReportItemJson=function(){return this.rectangleJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-rectangle");this.renderRectangleReportElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderRectangleReportElement","e-rectangle",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.rectangleDiv.parent();ejDashboardDesigner.editManager.isPerformAction?ej.DashboardUtil.destroyEjObjects(this.rectangleDiv.find(".e-js")):(ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderRectangleReportElement","e-rectangle",this.rectangleJson.Name,[this.rectangleJson,n.attr("id")],null),this.disposeChilds(this.rectangleDiv));$("#"+this.rectangleJson.Name).removeData("Rectangle");$("#"+this.rectangleJson.Name).remove();this.designPanel.selectedReportItems=[]},n.prototype.disposeChilds=function(n){var r=n.children(".e-reportitem"),t,i,u;if(r.length>0)for(t=0;t<r.length;t++)i=$(r[t]),u=ej.DashboardUtil.getReportItem(i),u.dispose(),i.hasClass("e-rectangle")&&this.disposeChilds(i)},n.prototype.getRectangleJson=function(){return{__type:"Syncfusion.RDL.DOM.Rectangle",ReportItems:[],PageBreak:null,KeepTogether:!0,OmitBorderOnPageBreak:!1,LinkToChild:null,PageName:null,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"2.13417in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0.57167in"},Name:"Rectangle1",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"1.5in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"2.90625in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"Gray",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.createPageBreak=function(){return{__type:"Syncfusion.RDL.DOM.PageBreak",BreakLocation:0,Disabled:!1,ResetPageNumber:!1}},n}();window.ej.createObject("ej.DashboardDesignerUtility.RectangleItem",InternalRectangleReportItem,window),function(n){n[n.None=0]="None";n[n.Start=1]="Start";n[n.End=2]="End";n[n.StartAndEnd=3]="StartAndEnd";n[n.Between=4]="Between"}(BreakLocation||(BreakLocation={}));InternalReportAction=function(){function n(){this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"ReportAction",{get:function(){return(this.reportAction===null||this.reportAction===undefined)&&(this.reportAction=new ej.DashboardDesignerUtility.ReportAction),this.reportAction},enumerable:!0,configurable:!0}),n.prototype.renderAction=function(n,t,i){var r=this.id+"_"+t+"_"+i.category,e=$("#"+this.id+"_propertyPanelContainer").width(),s=ejDashboardDesigner.getInstance("LinkReport"),u=i.value,o=$("#"+r+"_link_report"),f=$("#"+r);if(f.length===0&&n){f=ej.buildTag("div","",{width:e-10,display:ej.isNullOrUndefined(i.isVisible)?"block":i.isVisible?"block":"none"},{id:r});var c=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{unselectable:"on"}),l=ej.buildTag("tr","",{height:"28px"},{}),a=ej.buildTag("td","",{width:(e-47)*37.21/100+"px"},{}),v=ej.buildTag("td","",{},{}),st=ej.buildTag("div.e-designer-fontfamily","Enable Link",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"5px","white-space":"nowrap","text-overflow":"ellipsis"}),y=ej.buildTag("input","",{"margin-left":"2px"},{id:r+"_link_ckb",type:"checkbox"}),p=ej.buildTag("div","",{},{id:r+"_link_config"}),w=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{}),b=ej.buildTag("tr","",{height:"28px"},{}),k=ej.buildTag("td","",{width:(e-47)*37.21/100+"px"},{}),ht=ej.buildTag("div.e-designer-fontfamily","Link To",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"5px","white-space":"nowrap","text-overflow":"ellipsis"}),d=ej.buildTag("td","",{width:"80px"},{}),g=ej.buildTag("td","",{},{}),nt=ej.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"link",id:r+"_radio_report"}),tt=ej.buildTag("input","",{},{type:"radio",name:"link",id:r+"_radio_link"}),it=ej.buildTag("div","",{},{id:r+"_link_url"});o=ej.buildTag("div","",{},{id:r+"_link_report"});var rt=ej.buildTag("table.e-designer-exp-table","",{width:"100%",margin:"8px 0px"},{unselectable:"on"}),ut=ej.buildTag("tr","",{height:"28px"},{}),ft=ej.buildTag("td","",{width:(e-47)*37.21/100+"px"},{}),et=ej.buildTag("td","",{},{}),ct=ej.buildTag("div.e-designer-fontfamily","URL",{"font-size":"12px",overflow:"hidden",float:"right","margin-right":"5px","white-space":"nowrap","text-overflow":"ellipsis"}),h=ej.buildTag("input.e-textbox","",{height:"28px",width:(e-33)*62.8/100-30+"px","margin-left":"2px"},{id:r+"_link_url_txt",type:"text"}),ot=ej.buildTag("td","",{"padding-left":"10px"},{});this.expression.renderExpressionElement(ot,{id:r+"_link_expUrl",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"ReportAction",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[r]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[r]},parentElement:$("#"+r)}});ft.append(ct);et.append(h);ut.append(ft).append(et).append(ot);rt.append(ut);it.append(rt);d.append(nt);g.append(tt);k.append(ht);b.append(k).append(d).append(g);w.append(b);p.append(w);a.append(st);v.append(y);l.append(a).append(v);c.append(l);f.append(c);f.append(p);f.append(it);f.append(o);n.append(f);y.ejCheckBox({width:(e-33)*62.8/100-15+"px",change:$.proxy(this.changedLink,this,r),cssClass:"e-designer-prop-checkbox"});nt.ejRadioButton({checked:!0,text:"Report",cssClass:"e-designer-radio",change:$.proxy(this.checkedLinkConfig,this,r)});tt.ejRadioButton({text:"URL",cssClass:"e-designer-radio",change:$.proxy(this.checkedLinkConfig,this,r)});h.bind("blur",$.proxy(this.urlFocusOut,this,r));h.bind("keyup",$.proxy(this.urlKeyUp,this,r))}f.length>0&&($("#"+r).css("display",ej.isNullOrUndefined(i.isVisible)?"block":i.isVisible?"block":"none"),s.renderReport(o,r+"_report",null,{instance:this,method:"updateReport",value:u&&u.Actions&&u.Actions.length>0&&u.Actions[0].Drillthrough&&u.Actions[0].Drillthrough.ReportName?u.Actions[0].Drillthrough.ReportName:""}),s.renderParameter(o,r+"_parameter",null,{instance:this,method:"updateParameter",value:u&&u.Actions[0]&&u.Actions[0].Drillthrough&&u.Actions[0].Drillthrough.Parameters?u.Actions[0].Drillthrough.Parameters:""}),u&&u.Actions&&u.Actions.length>0?($("#"+r+"_link_ckb").data("ejCheckBox").setModel({checked:!0}),this.enableLinkConfig(r,!0),u.Actions[0].Hyperlink?($("#"+r+"_radio_link").data("ejRadioButton").setModel({checked:!0}),this.populateLink(u.Actions[0].Hyperlink,r)):u.Actions[0].Drillthrough&&(u.Actions[0].Drillthrough.ReportName||u.Actions[0].Drillthrough.Parameters)&&($("#"+r+"_radio_report").data("ejRadioButton").setModel({checked:!0}),s.populateLinkReport(u.Actions[0].Drillthrough.ReportName,r+"_report"))):($("#"+r+"_radio_report").data("ejRadioButton").setModel({checked:!0}),$("#"+r+"_radio_link").data("ejRadioButton").setModel({checked:!1}),$("#"+r+"_link_ckb").data("ejCheckBox").setModel({checked:!1}),$("#"+r+"_link_url_txt").val(""),this.enableLinkConfig(r,!1)),this.changeLinkConfig(r));this.linkItem=i},n.prototype.getExpressionValue=function(){return this.getLastUrl()},n.prototype.populateLink=function(n,t){var r=n,i=ej.DashboardUtil.isExpression(r);$("#"+t+"_link_url_txt").val(i?r:"");$("#"+t+"_link_expUrl_Expression").css("background-color",i?"white":"black");this.enableFields(i,$("#"+t+"_link_url_txt"))},n.prototype.setExpressionValue=function(n){var t=ej.isNullOrUndefined(n.expression[0])?"":n.expression[0],i=ej.DashboardUtil.isExpression(t),r=$("#"+n.arguments[0]+"_link_url_txt");r.val(t);this.urlFocusOut(n.arguments[0],"");$("#"+n.arguments[0]+"_link_expUrl_Expression").css("background-color",i?"white":"black");r.val(i?t:"");this.enableFields(i,r)},n.prototype.enableFields=function(n,t){n?t.removeAttr("disabled").css("opacity","1"):t.attr("disabled","true").css("opacity",".3")},n.prototype.checkedLinkConfig=function(n,t){t.isInteraction&&this.changeLinkConfig(n)},n.prototype.changeLinkConfig=function(n){$("#"+n+"_radio_report").data("ejRadioButton").model.checked?($("#"+n+"_link_report").css("display","block"),$("#"+n+"_link_url").css("display","none")):($("#"+n+"_link_url").css("display","block"),$("#"+n+"_link_report").css("display","none"))},n.prototype.enableLinkConfig=function(n,t){t?($("#"+n+"_link_url").removeAttr("disabled").css("opacity","1"),$("#"+n+"_link_report").removeAttr("disabled").css("opacity","1"),$("#"+n+"_link_config").removeAttr("disabled").css("opacity","1"),$("#"+n+"_radio_report").data("ejRadioButton").enable(),$("#"+n+"_radio_link").data("ejRadioButton").enable(),$("#"+n+"_parameter_link_report_param").data("ejButton").enable(),$("#"+n+"_report_link_report_txt").removeAttr("disabled"),$("#"+n+"_link_url_txt").removeAttr("disabled"),$("#"+n+"_report_link_report_btn").data("ejButton").enable()):($("#"+n+"_link_url").attr("disabled","true").css("opacity",".3"),$("#"+n+"_link_report").attr("disabled","true").css("opacity",".3"),$("#"+n+"_link_config").attr("disabled","true").css("opacity",".3"),$("#"+n+"_radio_report").data("ejRadioButton").disable(),$("#"+n+"_radio_link").data("ejRadioButton").disable(),$("#"+n+"_parameter_link_report_param").data("ejButton").disable(),$("#"+n+"_report_link_report_txt").attr("disabled","true"),$("#"+n+"_link_url_txt").attr("disabled","true"),$("#"+n+"_report_link_report_btn").data("ejButton").disable())},n.prototype.changedLink=function(n,t){t.isInteraction&&(this.enableLinkConfig(n,t.isChecked),t.isChecked||ej.isNullOrUndefined(this.linkItem.value)||this.propertyPanel.updatePropertyChange(this.linkItem.category+"Link",this.linkItem.value,null,this.linkItem,this.linkItem.categoryName))},n.prototype.getLastUrl=function(){return this.linkItem&&this.linkItem.value&&this.linkItem.value.Actions&&this.linkItem.value.Actions.length>0&&this.linkItem.value.Actions[0].Hyperlink?this.linkItem.value.Actions[0].Hyperlink:""},n.prototype.urlFocusOut=function(n){var i=$("#"+n+"_link_url_txt").val(),t;i!==this.getLastUrl()&&(t=this.createAction(),t.Actions[0].Hyperlink=i,this.propertyPanel.updatePropertyChange(this.linkItem.category+"Link",this.linkItem.value,t,this.linkItem,this.linkItem.categoryName),this.linkItem.value=t)},n.prototype.urlKeyUp=function(n,t){var r,i;t.keyCode===13&&(r=$("#"+n+"_link_url_txt").val(),r!==this.getLastUrl()&&(i=this.createAction(),i.Actions[0].Hyperlink=r,this.propertyPanel.updatePropertyChange(this.linkItem.category+"Link",this.linkItem.value,i,this.linkItem,this.linkItem.categoryName),this.linkItem.value=i))},n.prototype.getLastPath=function(){return this.linkItem&&this.linkItem.value&&this.linkItem.value.Actions&&this.linkItem.value.Actions.length>0&&this.linkItem.value.Actions[0].Drillthrough&&this.linkItem.value.Actions[0].Drillthrough.ReportName?this.linkItem.value.Actions[0].Drillthrough.ReportName:""},n.prototype.updateReport=function(n){if(n!==this.getLastPath()){var t=this.createAction();t.Actions[0].Drillthrough=this.createReport();t.Actions[0].Drillthrough.ReportName=n;this.linkItem.value&&this.linkItem.value.Actions&&this.linkItem.value.Actions.length>0&&this.linkItem.value.Actions[0].Drillthrough&&this.linkItem.value.Actions[0].Drillthrough.Parameters&&(t.Actions[0].Drillthrough.Parameters=$.extend(!0,{},this.linkItem.value.Actions[0].Drillthrough.Parameters));this.propertyPanel.updatePropertyChange(this.linkItem.category+"Link",this.linkItem.value,t,this.linkItem,this.linkItem.categoryName);this.linkItem.value=t}},n.prototype.updateParameter=function(n){var t=this.createAction();t.Actions[0].Drillthrough=this.createReport();t.Actions[0].Drillthrough.Parameters=n;this.linkItem.value&&this.linkItem.value.Actions&&this.linkItem.value.Actions.length>0&&this.linkItem.value.Actions[0].Drillthrough&&this.linkItem.value.Actions[0].Drillthrough.ReportName&&(t.Actions[0].Drillthrough.ReportName=this.linkItem.value.Actions[0].Drillthrough.ReportName);this.propertyPanel.updatePropertyChange(this.linkItem.category+"Link",this.linkItem.value,t,this.linkItem,this.linkItem.categoryName);this.linkItem.value=t},n.prototype.createAction=function(){return{__type:"Syncfusion.RDL.DOM.ActionInfo",Actions:[{__type:"Syncfusion.RDL.DOM.Action",Hyperlink:"",Drillthrough:null,BookmarkLink:null}]}},n.prototype.createReport=function(){return{__type:"Syncfusion.RDL.DOM.Drillthrough",ReportName:null,Parameters:null}},n}();window.ej.createObject("ej.DashboardDesignerUtility.ReportAction",InternalReportAction,window);InternalRSLoginWindow=function(){function n(){this.reportDesigner=null;this.id=null;this.targetInstance=null;this.targetMethod=null;this.footerTag=null;this.urlWaterMark="Enter Server URL";this.userNameWaterMark="User Name";this.pwdWaterMark="Password";this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.createLogInWindow()}return Object.defineProperty(n,"RSLoginWind",{get:function(){return(this.rsloginWind===null||this.rsloginWind===undefined)&&(this.rsloginWind=new ej.DashboardDesignerUtility.RSLoginWind),this.rsloginWind},enumerable:!0,configurable:!0}),n.prototype.createLogInWindow=function(){var i=ej.buildTag("div.e-userselect","",{},{id:this.id+"_login_window"}),n=ej.buildTag("table","",{width:"210px",padding:"10px 14px"},{id:this.id+"_rs_login_window"}),r=ej.buildTag("tr","",{}),u=ej.buildTag("td","",{}),y=ej.buildTag("label","Server URL",{}),f=ej.buildTag("input.e-textbox e-designer-txt","",{width:"208px",height:"22px",float:"right"},{id:this.id+"_login_serverurl_field"}),p=ej.buildTag("label","",{"font-size":"12px","margin-left":"40%",float:"left",color:"red"},{id:this.id+"_login_lbl_url_val"}),e=ej.buildTag("tr","",{}),t=ej.buildTag("td","",{}),w=ej.buildTag("hr","",{width:"350px","margin-top":"6px","border-bottom-color":"#cbcbcb","border-bottom-style":"solid","border-bottom-width":"0.4px"}),b=ej.buildTag("p","Log in with your ReportServer credentials",{"font-size":"12px",width:"100%"}),o=ej.buildTag("tr","",{}),s=ej.buildTag("td","",{}),k=ej.buildTag("label","Username / Email",{}),h=ej.buildTag("input.e-textbox e-designer-txt","",{width:"208px",height:"22px",float:"right"},{id:this.id+"_login_user_field"}),d=ej.buildTag("label","",{"font-size":"12px","margin-left":"40%",float:"left",color:"red"},{id:this.id+"_login_user_lbl_val"}),g=ej.buildTag("tr","",{height:"2px"},{}),c=ej.buildTag("tr","",{}),l=ej.buildTag("td","",{}),nt=ej.buildTag("label","Password",{"margin-top":"10px"}),a=ej.buildTag("input.e-textbox e-designer-txt","",{width:"208px",height:"22px",float:"right"},{id:this.id+"_login_passwd_field"}),tt=ej.buildTag("label","",{"font-size":"12px","margin-left":"40%",float:"left",color:"red"},{id:this.id+"_login_passwd_lbl_val"}),v=ej.buildTag("input","",{float:"right","margin-right":"5px"},{id:this.id+"_login_btn"});r.append(u);u.append(y).append(f).append(p);e.append(t);t.append(w);t.append(b);o.append(s);s.append(k).append(h).append(d);c.append(l);l.append(nt).append(a).append(tt);n.append(r).append(e).append(o).append(g).append(c);i.append(n);i.ejDialog({width:"auto",minWidth:"388px",height:"auto",title:"Login",showOnInit:!1,close:$.proxy(this.cancelDialog,this),showFooter:!0,cssClass:"e-designer-dialog e-flat-mode",enableResize:!1,enableModal:!0});this.footerTag=$("#"+this.id+"_login_window_foot");this.footerTag.append(v);v.ejButton({text:"Login",showRoundedCorner:!1,size:"mini",cssClass:"e-designer-okbtn"});n.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});ej.DashboardUtil.txtWaterMark(h,this.userNameWaterMark);ej.DashboardUtil.txtWaterMark(a,this.pwdWaterMark,!0);ej.DashboardUtil.txtWaterMark(f,this.urlWaterMark);this.wiredEvents()},n.prototype.loginValidation=function(){var e=!1,o=!1,s=!1,r=$("#"+this.id+"_login_serverurl_field"),u=$("#"+this.id+"_login_user_field"),f=$("#"+this.id+"_login_passwd_field"),n=r.val(),t=u.val(),i=f.val(),h;n===this.urlWaterMark&&(n="");t===this.userNameWaterMark&&(t="");i===this.pwdWaterMark&&(i="");n&&n.length>0?(h=/^(http:\/\/|https:\/\/)?((([\w-]+\.)+[\w-]+)|localhost)(\/[\w- .\/?%&=]*)?/i,h.test(n)?($("#"+this.id+"_login_lbl_url_val").css({display:"none"}),r.css({"border-color":"#cbcbcb"}),e=!0):($("#"+this.id+"_login_lbl_url_val").css({display:"block"}).text("Please enter valid Server URL"),r.css({"border-color":"red"}))):($("#"+this.id+"_login_lbl_url_val").css({display:"block"}).text("Please enter Server URL"),r.css({"border-color":"red"}));t&&t.length>0?($("#"+this.id+"_login_user_lbl_val").css({display:"none"}),u.css({"border-color":"#cbcbcb"}),o=!0):($("#"+this.id+"_login_user_lbl_val").css({display:"block"}).text("Please enter Username/Email"),u.css({"border-color":"red"}));i&&i.length>0?($("#"+this.id+"_login_passwd_lbl_val").css({display:"none"}),f.css({"border-color":"#cbcbcb"}),s=!0):($("#"+this.id+"_login_passwd_lbl_val").css({display:"block"}).text("Please enter Password"),f.css({"border-color":"red"}));e&&o&&s&&ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.rsGenerateToken,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.rsGenerateToken,reportInfo:{username:ej.DashboardUtil.encryptData(t),password:ej.DashboardUtil.encryptData(i),reportServerUrl:n}})},{fnction:$.proxy(this.connectServer,this),indicator:[$.proxy(this.showIndicator,this),$.proxy(this.hideIndicator,this)]})},n.prototype.connectServer=function(n){n&&n.indexOf("Sf_Exception")!==-1?ej.DashboardUtil.getInstance().ejAlertDialog("Login Window",n,!1,!0,!1,"ReportServer failed to login with specified credentials"):n&&(this.reportDesigner.reportServerInfo={serverUrl:$("#"+this.id+"_login_serverurl_field").val(),token:n},$("#"+this.id+"_login_passwd_field").val(""),$("#"+this.id+"_login_window").data("ejDialog").close(),ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[!0]))},n.prototype.cancelDialog=function(n){n.isInteraction&&ej.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[!1])},n.prototype.wiredEvents=function(){$("#"+this.id+"_login_btn").on("click",$.proxy(this.loginValidation,this))},n.prototype.unWiredEvents=function(){$("#"+this.id+"_login_btn").off("click",$.proxy(this.loginValidation,this))},n.prototype.showLogin=function(n,t){this.resetLogin();n&&t&&(this.targetInstance=n,this.targetMethod=t);$("#"+this.id+"_login_window").data("ejDialog").open();$("#"+this.id+"_login_user_field").focus();$("#"+this.id+"_login_passwd_field").focus();$("#"+this.id+"_login_serverurl_field").focus()},n.prototype.showIndicator=function(){$("#"+this.id+"_rs_login_window").data("ejWaitingPopup").show()},n.prototype.hideIndicator=function(){$("#"+this.id+"_rs_login_window").data("ejWaitingPopup").hide()},n.prototype.resetLogin=function(){$("#"+this.id+"_login_serverurl_field").val("").css({"border-color":"#cbcbcb"});$("#"+this.id+"_login_lbl_url_val").css({display:"none"});$("#"+this.id+"_login_user_field").val("").css({"border-color":"#cbcbcb"});$("#"+this.id+"_login_user_lbl_val").css({display:"none"});$("#"+this.id+"_login_passwd_field").val("").css({"border-color":"#cbcbcb"});$("#"+this.id+"_login_passwd_lbl_val").css({display:"none"});this.targetInstance=null;this.targetMethod=null},n}();window.ej.createObject("ej.DashboardDesignerUtility.RSLoginWind",InternalRSLoginWindow,window);InternalSASSDataSource=function(){function n(){this.datasource=ejDashboardDesigner.getInstance("DataSource");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"SASSDataSource",{get:function(){return(this.sassdataSource===null||this.sassdataSource===undefined)&&(this.sassdataSource=new ej.DashboardDesignerUtility.SASSDataSource),this.sassdataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_sass_datasource").length>0?this.resetConfiguration():(this.sassConfig=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_sass_datasource"}),n.append(this.sassConfig),this.renderSassPanel(),this.changedAuthentication({text:this.dataSourceLocale.windowsText}));this.showConfiguration(!0)},n.prototype.renderSassPanel=function(){this.sassPanel=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_sass_Panel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_sass_config"}),t=this.dataSourceLocale.windowsText,i=this.dataSourceLocale.sqlServerText,r=this.dataSourceLocale.promptText,u=this.dataSourceLocale.noneText,f=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i},{id:r.toLowerCase(),text:r,value:r},{id:u.toLowerCase(),text:u,value:u}];this.sassConfig.append(this.sassPanel);this.sassPanel.append(n);this.datasource.renderTextArea("Connection String",this.id+"_sass_conStr",n);this.datasource.renderDropDownItem("Authentication Type",this.id+"_sass_authtype",n,f,{id:"id",text:"text",value:"value"},"0");this.datasource.renderTextBoxItem("Prompt Text",this.id+"_sass_prompt",!1,n,426);this.datasource.renderTextBoxItem("Username",this.id+"_sass_usr",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_sass_pswd",!0,n,426);$("#"+this.id+"_sass_authtype")&&(this.ejAuthDrpdwn=$("#"+this.id+"_sass_authtype").data("ejDropDownList"),this.ejAuthDrpdwn.model.change=$.proxy(this.changedAuthentication,this));this.promptTag=$("#"+this.id+"_sass_prompt_tr");this.conncString=$("#"+this.id+"_sass_conStr");this.promptCont=$("#"+this.id+"_sass_prompt");this.userName=$("#"+this.id+"_sass_usr");this.passWord=$("#"+this.id+"_sass_pswd");this.userNameTag=$("#"+this.id+"_sass_usr_tr");this.passWordTag=$("#"+this.id+"_sass_pswd_tr")},n.prototype.changedAuthentication=function(n){this.hideValidationMsg();this.promptTag.css("display","none");this.userNameTag.css("display","none");this.passWordTag.css("display","none");(n.text===this.dataSourceLocale.sqlServerText||n.text===this.dataSourceLocale.promptText)&&(this.userNameTag.css("display","table-row"),this.passWordTag.css("display","table-row"));n.text===this.dataSourceLocale.promptText&&this.promptTag.css("display","table-row");this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.editConfiguration=function(n){this.hideValidationMsg();this.renderConfiguration(this.datasource.configTable);this.conncString.val(n.ConnectionProperties.ConnectString);this.userName.val(n.ConnectionProperties.UserName);this.passWord.val(n.ConnectionProperties.PassWord);n.ConnectionProperties.IntegratedSecurity||n.SecurityType!==0&&n.SecurityType!=="None"?!n.ConnectionProperties.IntegratedSecurity&&(!ej.isNullOrUndefined(n.ConnectionProperties.UserName)&&n.ConnectionProperties.UserName.length>0||!ej.isNullOrUndefined(n.ConnectionProperties.PassWord)&&n.ConnectionProperties.PassWord.length>0)?this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}):n.ConnectionProperties.IntegratedSecurity||!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&(ej.isNullOrUndefined(n.ConnectionProperties.Prompt)||n.ConnectionProperties.Prompt.length!==0)||n.SecurityType!==2&&n.SecurityType!=="DataBase"?n.ConnectionProperties.IntegratedSecurity?n.ConnectionProperties.IntegratedSecurity&&this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}):(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.promptText}),this.promptCont.val(!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&n.ConnectionProperties.Prompt.length>0?n.ConnectionProperties.Prompt:"Specify the Username and Password for DataSource: "+n.Name)):this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}):this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText})},n.prototype.showConfiguration=function(n){this.sassConfig.css("display",n?"table-row":"none");this.sassConfig.children().show()},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.conncString.attr("id"),!1);this.datasource.showValidationMsg(this.promptCont.attr("id"),!1);this.datasource.showValidationMsg(this.userName.attr("id"),!1);this.datasource.showValidationMsg(this.passWord.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.conncString.val("");this.promptCont.val("");this.userName.val("");this.passWord.val("");this.hideValidationMsg();this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText})},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText?(n.ConnectionProperties.UserName=t.Username,n.ConnectionProperties.PassWord=t.Password):this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&(n.ConnectionProperties.Prompt=!ej.isNullOrUndefined(this.promptCont)&&this.promptCont.val().length>0?this.promptCont.val():"Specify the Username and Password for DataSource: "+n.Name)},n.prototype.getDatasourceInfo=function(n){var t=!0,i="",r="",u=!0,f="Integrated";return(this.hideValidationMsg(),this.conncString.val().length===0&&(this.datasource.showValidationMsg(this.conncString.attr("id"),!0,"Specify the Connection string"),t=!1),this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&this.promptCont.val().length===0&&(this.datasource.showValidationMsg(this.promptCont.attr("id"),!0,"Specify the Prompt Text"),t=!1),this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText||this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication?(i=this.userName.val(),r=this.passWord.val(),i.length===0&&(this.datasource.showValidationMsg(this.userName.attr("id"),!0,"Specify the User Name"),t=!1),r.length===0&&(this.datasource.showValidationMsg(this.passWord.attr("id"),!0,"Specify the Password"),t=!1),f="DataBase",u=!1):this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.noneText&&(f="None",u=!1),t)?{Name:n,Provider:"Microsoft SQL Server Analysis Services",IsIntegrated:u,SecurityType:f,Username:i,Password:r,ConnectionString:this.conncString.val()}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.SASSDataSource",InternalSASSDataSource,window);var ContainerSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ContainerSettings";this.Bounds=new WidgetBounds;this.TextAlignment=TextAlignment.Left;this.TextColor="#000000";this.CornerRadius=0;this.ShowMaximize=!0;this.EnableCsvExport=!0;this.EnableExcelExport=!0;this.EnableImageExport=!0;this.EnablePdfExport=!0;this.EnableComment=!0}return n}(),DashboardProperties=function(){function n(){this.Name="UntitledDashboard";this.Description=null;this.EnableComments=!0}return n}(),WidgetBounds=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Bounds";this.Row=0;this.RowSpan=0;this.Column=0;this.ColumnSpan=0}return n}(),DataConfiguration=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DataConfiguration";this.Containers=[]}return n}(),WidgetProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.WidgetProperties";this.ContainerSettings=new ContainerSettings;this.Data=new DataConfiguration}return n}(),FieldContainer=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.FieldContainer";this.FieldInfos=[]}return n}(),FieldInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.FieldInfo"}return n}(),MeasureFormatting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.FieldInfo"}return n}(),FilterInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),MeasureFilterInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),DimensionFilterInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),AllowFilteringInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),ConditionFilteringInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),TopNFilteringInfo=function(){function n(){this.__type="Syncfusion.EJ.ReportDesigner.Dashboard_Service.Common"}return n}(),SummaryType;(function(n){n.None="NONE";n.Sum="SUM";n.Avg="AVG";n.Count="COUNT";n.Min="MIN";n.Max="MAX";n.CountD="COUNTD";n.Stdev="STDEV";n.Var="VAR";n.Average="Average";n.Maximum="Maximum";n.Minimum="Minimum";n.StandardDeviation="StandardDeviation";n.Variance="Variance";n.DistinctCount="DistinctCount"})(SummaryType||(SummaryType={})),function(n){n[n.Measure=0]="Measure";n[n.Dimension=1]="Dimension"}(FieldContainerType||(FieldContainerType={})),function(n){n[n.Measures=0]="Measures";n[n.Dimensions=1]="Dimensions";n[n.DateTime=2]="DateTime"}(FieldType||(FieldType={})),function(n){n[n.None=0]="None";n[n.Year=1]="Year";n[n.Default=2]="Default";n[n.Month=3]="Month";n[n.Day=4]="Day";n[n.Quarter=5]="Quarter";n[n.MonthYear=6]="MonthYear";n[n.QuarterYear=7]="QuarterYear";n[n.DayMonthYear=8]="DayMonthYear";n[n.DateHour=9]="DateHour";n[n.DayOfYear=10]="DayOfYear";n[n.DayOfWeek=11]="DayOfWeek";n[n.Hour=12]="Hour";n[n.Minute=13]="Minute";n[n.Second=14]="Second";n[n.WeekOfYear=15]="WeekOfYear";n[n.WeekOfMonth=16]="WeekOfMonth";n[n.RangeDate=17]="RangeDate";n[n.RelativeDate=18]="RelativeDate";n[n.DefaultTime=19]="DefaultTime";n[n.WeekYear=20]="WeekYear";n[n.MonthDayYear=21]="MonthDayYear";n[n.Time=22]="Time";n[n.Date=23]="Date";n[n.WeekofYear=24]="WeekofYear";n[n.TimeSpan=25]="TimeSpan";n[n.TimeSpanHours=26]="TimeSpanHours";n[n.TimeSpanMinutes=27]="TimeSpanMinutes";n[n.TimeSpanDays=28]="TimeSpanDays";n[n.TimeSpanWeeks=29]="TimeSpanWeeks";n[n.TimeSpanMonths=30]="TimeSpanMonths";n[n.TimeSpanYears=31]="TimeSpanYears";n[n.TimeSpanInMinutes=32]="TimeSpanInMinutes";n[n.TimeSpanInHours=33]="TimeSpanInHours";n[n.Custom=34]="Custom";n[n.WeekofMonth=35]="WeekofMonth"}(DateTimeFormat||(DateTimeFormat={})),function(n){n[n.Left=0]="Left";n[n.Center=1]="Center";n[n.Right=2]="Right"}(TextAlignment||(TextAlignment={})),function(n){n[n.Number=0]="Number";n[n.Currency=1]="Currency";n[n.Percent=2]="Percent"}(DataValueFormat||(DataValueFormat={})),function(n){n[n.Default=0]="Default";n[n.NoNegativeSignWithBracket=1]="NoNegativeSignWithBracket";n[n.NegativeSignInSuffix=2]="NegativeSignInSuffix"}(NegativeValueFormats||(NegativeValueFormats={})),function(n){n[n.Auto=0]="Auto";n[n.Ones=1]="Ones";n[n.Thousands=2]="Thousands";n[n.Millions=3]="Millions";n[n.Billions=4]="Billions"}(NumberFormat||(NumberFormat={})),function(n){n[n.Include=0]="Include";n[n.Exclude=1]="Exclude"}(AllowFilteringConditions||(AllowFilteringConditions={})),function(n){n[n.Top=0]="Top";n[n.Bottom=1]="Bottom"}(FilterRange||(FilterRange={})),function(n){n.Equals="Equals";n.NotEquals="Does Not Equal";n.LessThan="Less Than";n.GreaterThan="Greater Than";n.LessThanOrEquals="Less Than Or Equal To";n.GreaterThanOrEquals="Greater Than Or Equal To";n.IsBetween="Between";n.IsNotBetween="Not Between"}(NumberFilterOption||(NumberFilterOption={}));InternalSerializationHelper=function(){function n(){ej.DashboardDesignerUtility.Serialization.serInstance=this;this.dashboardPropertyJson=new DashboardProperties}return n.stringtoEnum=function(n,t){return n[t]||n[n[0]]},n.enumToString=function(n,t){return n[t]||n[0]},n.updateBoundsData=function(n){var t,r;try{return t=new WidgetBounds,t.Row=n.row,t.Column=n.column,t.ColumnSpan=n.colSpan,t.RowSpan=n.rowSpan,t}catch(i){r=ejDashboardDesigner.getInstance("DesignPanel");r.logError({Source:"Widget Bounds update",Error:i,Type:i.name})}},n.getInstance=function(){return ej.DashboardDesignerUtility.Serialization.serInstance},n.getWidgetJsonString=function(){var n,t,f;try{var i=[],e=ejDashboardDesigner.getInstance("DesignPanel").designCanvas,r=e.find(".e-reportitem");for(n=0;n<r.length;n++)t=ej.DashboardUtil.getReportItem(r.eq(n)),ej.isNullOrUndefined(t)||i.push(t.getReportItemJson());return i}catch(u){return f=ejDashboardDesigner.getInstance("DesignPanel"),f.logError({Source:"getWidgetJsonString",Error:u,Type:u.name}),[]}},n.notifyChange=function(){var n=ejDashboardDesigner.getInstance("DashboardDesigner");ej.DashboardUtil.getInstance().doAjaxPost("POST",n.model.serviceUrl+"/NotifyPropertyChange",{data:JSON.stringify({dashboardJson:ej.DashboardDesignerUtility.Serialization.getInstance().dashboardPropertyJson,widgetJson:ej.DashboardDesignerUtility.Serialization.getWidgetJsonString()})},{fnction:$.proxy(function(n){n.Status||console.info(n.Message)},this)},!0)},n.updateWidgetData=function(t,i){var f,r,u,o;try{for(f=new n,r=new DataConfiguration,r.DataSetName=i.Dataset,u=0;u<i.Values.length;u++)f.validateAndAddContainer(r,i.Values[u],f);t.Data=r}catch(e){o=ejDashboardDesigner.getInstance("DesignPanel");o.logError({Source:"Widget Data serialization",Error:e,Type:e.name})}},n.syncScriptErrors=function(){var n=ejDashboardDesigner.getInstance("DesignPanel"),t=n.dbrdErrors,i;n.dbrdErrors=[];i=ejDashboardDesigner.getInstance("DashboardDesigner");ej.DashboardUtil.getInstance().doAjaxPost("POST",i.model.serviceUrl+"/TrackErrors",{data:JSON.stringify(t)},{fnction:$.proxy(function(i){i===0&&(n.dbrdErrors=n.dbrdErrors.concat(t))},this)},!0)},n.prototype.validateAndAddContainer=function(n,t,i){var r=i.createDataContainer(t.Values,i);r!=null&&(r.Id=t.Name,r.Name=t.DisplayName,n.Containers.push(r))},n.prototype.createDataContainer=function(n,t){var u,i,r;if(!ej.isNullOrUndefined(n)&&n.length!==0){for(u=new FieldContainer,i=0;i<n.length;i++)r=new FieldInfo,r.Id=r.Name=n[i].Field,r.FieldType=t.getFieldType(n[i].FieldType),r.SummaryType=t.getSummaryType(n[i].SummaryType),r.MeasureFormatting=n[i].MeasureFormatting||null,r.FilterInfo=n[i].FilterInfo||null,u.FieldInfos.push(r);return u}return null},n.prototype.getFieldType=function(n){switch(n){case"Measures":return FieldType.Measures;case"Dimensions":return FieldType.Dimensions;case"DateTime":return FieldType.DateTime;default:return FieldType.Measures}},n.prototype.getSummaryType=function(n){switch(n){case"Sum":return SummaryType.Sum;case"Count":return SummaryType.Count;case"DateTime":return SummaryType.CountD;case"Avg":return SummaryType.Avg;case"Max":return SummaryType.Max;case"Min":return SummaryType.Min;case"Var":return SummaryType.Var;case"Stdev":return SummaryType.Stdev;case"None":default:return SummaryType.None}},n}();ej.createObject("ej.DashboardDesignerUtility.Serialization",InternalSerializationHelper,window);InternalSharedDataSet=function(){function n(){this.reportDesigner=null;this.rsloginWind=null;this.id=null;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.rsloginWind=ejDashboardDesigner.getInstance("ReportServerLogin");this.dataset=ejDashboardDesigner.getInstance("DataSet");this.id=this.reportDesigner._id;this.datasetReference=null;this.dataSetItem=null}return Object.defineProperty(n,"SharedDataSet",{get:function(){return(this.shareddataSet===null||this.shareddataSet===undefined)&&(this.shareddataSet=new ej.DashboardDesignerUtility.SharedDataSet),this.shareddataSet},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){var a,r,u,f,w,o,s,h,c,l;if(n.find("#"+this.id+"_shared_dataset").length>0)this.resetConfiguration(),this.setDataSetName();else{a={id:"Id",text:"Name",value:"Id"};this.configTable=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%","margin-left":"3px"},{unselectable:"on",id:this.id+"_shared_dataset"});n.append(this.configTable);var v=$("<tr><\/tr>"),y=$("<td><\/td>"),t=$("<table><\/table>"),it=ej.buildTag("label.editLabel e-designer-title-label","Name",{}),p=$("<td style='width: 215px' id="+this.id+"_shared_txt_lbl_td><\/td>"),i=$("<tr style='float: left'><\/tr>");p.append(it);i.append(p);r=ej.buildTag("td","",{},{id:this.id+"_shared_txt_error_icon_td"});ej.DashboardUtil.renderErrIndictor(r,this.id);i.append(r);t.append(i);y.append(t);v.append(y);this.configTable.append(v);u=$("<tr style='float: left'><\/tr>");f=$("<td id="+this.id+"_shared_txt_td><\/td>");u.append(f);t.append(u);w=ej.buildTag("input.e-textbox e-designer-content-label","",{height:"24px",width:"426px"},{edittype:"stringedit",id:this.id+"_shared_txt",type:"text",value:this.dataset.getAvailableName()});f.append(w);var b=$("<tr><\/tr>"),k=$("<td><\/td>"),e=$("<table><\/table>");b.append(k);k.append(e);this.configTable.append(b);o=$("<tr style='float: left;font-weight: 500'><td  style='width: 215px' id="+this.id+"_shared_dropdown_lbl_td><label class='editLabel e-designer-title-label e-designer-fontfamily' style='padding-top:6px;font-size: 13px;'>Shared DataSet<\/label><\/td><\/tr>");e.append(o);s=ej.buildTag("td","",{},{id:this.id+"_shared_data_drdwn_error_icon_td"});ej.DashboardUtil.renderErrIndictor(s,this.id);o.append(s);h=$("<tr style='float: left'><\/tr>");c=$("<td id="+this.id+"_shared_data_drdwn_td><\/td>");e.append(h);h.append(c);l=ej.buildTag("input","",{},{id:this.id+"_shared_data_drdwn",value:""});c.append(l);l.ejDropDownList({width:"440px",dataSource:[],fields:a,cssClass:"e-reportdesigner-dataset-selection e-designer-content-label e-designer-ejwidgets"});var d=$("<tr><\/tr>"),g=$("<td><\/td>"),nt=$("<table><\/table>"),tt=$("<tr style='float: left'/>"),rt=$("<td unselectable='on' align='right'/>");tt.append(rt);nt.append(tt);g.append(nt);d.append(g);this.configTable.append(d)}this.datasetReference=null;this.showConfiguration(!0);this.loadDataSetCatalog()},n.prototype.editConfiguration=function(n){this.dataSetItem=n;var t=$("#"+this.id+"_sharedDSContainer");t.children().length===0&&this.renderConfiguration(t);this.datasetReference=null;this.hideValidationMsg();this.setDataSetName(n);n&&(this.datasetReference=n.SharedDataSet.SharedDataSetReference,$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList").setModel({dataSource:[]}),this.loadDataSetCatalog());this.showConfiguration(!0);$("#"+this.id+"_sharedDSBodyContainer").data("ejScroller")&&$("#"+this.id+"_sharedDSBodyContainer").data("ejScroller").refresh()},n.prototype.resetConfiguration=function(){this.datasetReference=null;$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList").setModel({dataSource:[]});$("#"+this.id+"_sharedds_alog").css("display",this.reportDesigner.isReportServerLogin()?"none":"block");this.hideValidationMsg()},n.prototype.hideValidationMsg=function(){this.renderValidation(this.id+"_shared_txt",!1);this.renderValidation(this.id+"_shared_data_drdwn",!1)},n.prototype.setDataSetName=function(n){var t=$("#"+this.id+"_shared_txt"),i="";n&&(i=n.Name,t.val(n.Name));t.val(this.dataset.isEdit?i:this.dataset.getAvailableName())},n.prototype.showConfiguration=function(n){this.configTable.css("display",n?"block":"none")},n.prototype.getDataSetName=function(){var n=$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList"),t;return n.model.selectedIndex!==-1?(t=n.getListData(),t&&t.length>0)?t[n.model.selectedIndex].Id:n.getSelectedValue():""},n.prototype.getDataSetInfo=function(){var n=this.getDataSetName(),t;this.renderValidation(this.id+"_shared_data_drdwn",!n,"Select a shared DataSource");t=this.validateDataSetName();n&&t&&(this.datasetReference=n,ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.sharedDataSet,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.sharedDataSet,reportInfo:{dataSetRefer:n}})},{fnction:$.proxy(this.saveDataSets,this),indicator:[$.proxy(this.showIndicator,this),$.proxy(this.hideIndicator,this)]}))},n.prototype.loadDataSetCatalog=function(){ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataSetCatalog,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataSetCatalog,reportInfo:{}})},{fnction:$.proxy(this.populateDataSets,this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})},n.prototype.populateDataSets=function(n){if(n&&typeof n!="string"&&n.indexOf("Sf_Exception")===-1){var t=$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList");t.setModel({dataSource:n});this.datasetReference&&this.dataset.isEdit&&(ej.DashboardUtil.isGuid(this.datasetReference)?t.selectItemByValue(this.datasetReference):t.selectItemByText(this.datasetReference))}},n.prototype.saveDataSets=function(n){var t,r,i,u;if(n){if(t=ejQueryDesigner.createDataSet(),r=this.createSharedData(),t.Name=$("#"+this.id+"_shared_txt").val(),t.Query=null,n.Fields.length>0)for(t.Fields=[],i=0;i<n.Fields.length;i++)u=n.Fields[i],u.__type="Syncfusion.RDL.DOM.Field",t.Fields.push(u);r.SharedDataSetReference=this.datasetReference;t.SharedDataSet=r;this.dataset.isEdit?this.dataset.updateDataSet(this.dataSetItem,t):this.dataset.addDataSet(t);this.dataset.isEdit=!1;this.dataset.switchPanel(PanelList.DataList)}},n.prototype.validateDataSetName=function(){var n=$("#"+this.id+"_shared_txt").val();if(n){if(this.isAvailable(n))return this.renderValidation(this.id+"_shared_txt",!0,"The specified name already exists in DataSet list"),!1;if(!/^[a-zA-Z0-9-_]*$/.test(n))return this.renderValidation(this.id+"_shared_txt",!0,"Name should not contain spaces and special characters"),!1}else return this.renderValidation(this.id+"_shared_txt",!0,"Specify the DataSet name"),!1;return this.renderValidation(this.id+"_shared_txt",!1),!0},n.prototype.isAvailable=function(n){var r=$("#"+this.id+"_div_datasetUl>li>div>.e-reportdesigner-treeText"),t=!1,i=this;return r.each(function(r,u){if($(u).text()===n&&!(i.dataSetItem&&n===i.dataSetItem.Name)){t=!0;return}}),t},n.prototype.renderValidation=function(n,t,i){var r=$("#"+n+"_error_icon_td"),u=$("#"+n+"_td").find(".e-designer-content-label");t?(ej.DashboardUtil.showErrIndictor(r,!0,i),u.addClass("e-designer-error")):(ej.DashboardUtil.showErrIndictor(r,!1),u.removeClass("e-designer-error"));$("#"+this.id+"_sharedDSBodyContainer").data("ejScroller")&&$("#"+this.id+"_sharedDSBodyContainer").data("ejScroller").refresh()},n.prototype.isLoaded=function(){return!ej.isNullOrUndefined(this.configTable)},n.prototype.updateControlSize=function(){$("#"+this.id+"_sharedDSBodyContainer").height()>$("#"+this.id+"_sharedDSContainer").height()?($("#"+this.id+"_shared_txt").css("width","218px"),$("#"+this.id+"_shared_dropdown_lbl_td").css("width","215px"),$("#"+this.id+"_shared_txt_lbl_td").css("width","215px"),$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList").setModel({width:"231px"})):($("#"+this.id+"_shared_txt").css("width","208px"),$("#"+this.id+"_shared_dropdown_lbl_td").css("width","205px"),$("#"+this.id+"_shared_txt_lbl_td").css("width","205px"),$("#"+this.id+"_shared_data_drdwn").data("ejDropDownList").setModel({width:"221px"}))},n.prototype.createSharedData=function(){return{__type:"Syncfusion.RDL.DOM.SharedDataSet",SharedDataSetReference:"",QueryParameters:[]}},n.prototype.showLoadingIndicator=function(){$("#"+this.id+"_shared_data_drdwn_dropdown").addClass("e-load");$("#"+this.id+"_shared_data_drdwn_dropdown>span").removeClass("e-arrow-sans-down")},n.prototype.hideLoadingIndicator=function(){$("#"+this.id+"_shared_data_drdwn_dropdown").removeClass("e-load");$("#"+this.id+"_shared_data_drdwn_dropdown>span").addClass("e-arrow-sans-down")},n.prototype.showIndicator=function(){$("#"+this.id+"_sharedDSBodyContainer").data("ejWaitingPopup").show()},n.prototype.hideIndicator=function(){$("#"+this.id+"_sharedDSBodyContainer").data("ejWaitingPopup").hide()},n}();window.ej.createObject("ej.DashboardDesignerUtility.SharedDataSet",InternalSharedDataSet,window);InternalSharedDataSource=function(){function n(){this.reportDesigner=null;this.rsloginWind=null;this.id=null;this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.rsloginWind=ejDashboardDesigner.getInstance("ReportServerLogin");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.reportDesigner._id;this.datasourceReference=null}return Object.defineProperty(n,"SharedDataSource",{get:function(){return(this.shareddataSource===null||this.shareddataSource===undefined)&&(this.shareddataSource=new ej.DashboardDesignerUtility.SharedDataSource),this.shareddataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){var i,t,r;n.find("#"+this.id+"_shared_datasource").length>0?this.resetConfiguration():(i={id:"Id",text:"Name",value:"Id"},this.configTable=ej.buildTag("table.e-designer-sharedconfig-table","",{width:"100%","margin-left":"5px"},{unselectable:"on",id:this.id+"_shared_datasource"}),n.append(this.configTable),this.datasource.renderDropDownItem("Shared DataSource",this.id+"_shared_ds_drdwn",this.configTable,[],i),t=$("<tr/>"),r=$("<td unselectable='on' align='right'/>"),t.append(r),this.configTable.append(t));this.datasourceReference=null;this.showConfiguration(!0);this.loadDataSourceCatalog()},n.prototype.editConfiguration=function(n){this.datasource.configTable.find("#"+this.id+"_shared_datasource").length===0&&this.renderConfiguration(this.datasource.configTable);this.datasourceReference=null;this.hideValidationMsg();n&&(this.datasourceReference=n.DataSourceReference,$("#"+this.id+"_shared_ds_drdwn").data("ejDropDownList").setModel({dataSource:[]}));this.showConfiguration(!0);this.loadDataSourceCatalog()},n.prototype.resetConfiguration=function(){this.datasourceReference=null;$("#"+this.id+"_shared_ds_drdwn").data("ejDropDownList").setModel({dataSource:[]});$("#"+this.id+"_shared_alog").css("display",this.reportDesigner.isReportServerLogin()?"none":"block");this.hideValidationMsg()},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.id+"_shared_ds_drdwn",!1)},n.prototype.showConfiguration=function(n){this.configTable.css("display",n?"block":"none")},n.prototype.getDatasourceInfo=function(n){var t=$("#"+this.id+"_shared_ds_drdwn").data("ejDropDownList").getSelectedValue();return(this.datasource.showValidationMsg(this.id+"_shared_ds_drdwn",!t,"Select a shared DataSource"),t)?{Name:n,Provider:"shared",IsIntegrated:!0,Username:"",Password:"",ConnectionString:t}:null},n.prototype.loadDataSourceCatalog=function(){ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataSourceCatalog,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataSourceCatalog,reportInfo:{}})},{fnction:$.proxy(this.populateDataSources,this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})},n.prototype.populateDataSources=function(n){if(n&&typeof n!="string"&&n.indexOf("Sf_Exception")===-1){var t=$("#"+this.id+"_shared_ds_drdwn").data("ejDropDownList");t.setModel({dataSource:n});this.datasourceReference&&this.datasource.isEdit&&(ej.DashboardUtil.isGuid(this.datasourceReference)?t.selectItemByValue(this.datasourceReference):t.selectItemByText(this.datasourceReference))}},n.prototype.showLoadingIndicator=function(){$("#"+this.id+"_shared_ds_drdwn_dropdown").addClass("e-load");$("#"+this.id+"_shared_ds_drdwn_dropdown>span").removeClass("e-arrow-sans-down")},n.prototype.hideLoadingIndicator=function(){$("#"+this.id+"_shared_ds_drdwn_dropdown").removeClass("e-load");$("#"+this.id+"_shared_ds_drdwn_dropdown>span").addClass("e-arrow-sans-down")},n}();window.ej.createObject("ej.DashboardDesignerUtility.SharedDataSource",InternalSharedDataSource,window);InternalSortDialog=function(){function n(){this.datasetFields=[];this.callMethod="";this.datasetName=null;this.sortExpressions=[];this.ejScrollerDiv=null;this.id=ejDashboardDesigner.getInstance("DashboardDesigner")._id;this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.datasets=this.rdlParser.rdlJsonObj.DataSets;this.renderSortDialog();this.expression=ejDashboardDesigner.getInstance("ExpressionMenu")}return Object.defineProperty(n,"SortInstance",{get:function(){return(this.sortDialog===null||this.sortDialog===undefined)&&(this.sortDialog=new ej.DashboardDesignerUtility.SortDialog),this.sortDialog},enumerable:!0,configurable:!0}),n.prototype.renderSortDialog=function(){var n=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{height:"auto"},{title:"Sorting",id:this.id+"_sort_dialog"}),u=ej.buildTag("div","",{},{}),f=ej.buildTag("table","",{width:"100%"},{}),r=ej.buildTag("tr","",{},{}),e=ej.buildTag("td","",{width:"480px"},{}),l=ej.buildTag("Label.e-designer-add-label","Change Sorting Options.",{},{type:"label"}),o=ej.buildTag("td","",{},{}),t=ej.buildTag("div","",{cursor:"default",float:"right"},{}),a=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_add_sort_span"}),v=ej.buildTag("span.e-btntxt e-designer-add-btn ","ADD",{},{}),i=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{margin:"0px 0px 4px 0px",padding:"4px 0px",height:"300px",width:"530px"},{id:this.id+"_sort_container"}),y=ej.buildTag("div.e-items","",{},{id:this.id+"_sort_container_div"}),s=ej.buildTag("input.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_sort_btn_cancel"}),h=ej.buildTag("input.e-designer-okbtn","",{float:"right"},{id:this.id+"_sort_btn_ok"}),c;n.append(u);u.append(f);f.append(r);r.append(e);e.append(l);r.append(o);o.append(t);t.append(a);t.append(v);n.append(i);i.append(y);$(document.body).append(n);n.ejDialog({width:"auto",height:"auto",minWidth:550,minHeight:333,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"e-designer-dialog"});c=$("#"+this.id+"_sort_dialog_foot");c.append(s).append(h);h.ejButton({text:"OK",enabled:!0,width:"60px",height:"23px",showRoundedCorner:!1,size:"mini",click:$.proxy(this.updateSortInfo,this)});s.ejButton({width:"60px",text:"Cancel",height:"23px",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeDialog,this,!0)});t.bind("click",$.proxy(this.renderNewSortField,this));i.ejScroller({height:"300px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});this.ejScrollerDiv=i.data("ejScroller")},n.prototype.renderNewSortField=function(){var r,u;$("#"+this.id+"_sort_btn_ok").data("ejButton").enable();var f=$("#"+this.id+"_sort_container_div"),n=ej.getGuid(this.id+"_row_"),w=f.find(".e-reportdesigner-sort-row").length,i=ej.buildTag("div.e-reportdesigner-sort-row e-drag-row","",{"padding-right":"8px","padding-left":"8px","padding-top":"4px","padding-bottom":"4px"},{id:n,rowId:n});f.append(i);var e=ej.buildTag("table.e-designer-table-dialog","",{width:"100%",padding:"3px"},{unselectable:"on",id:n+"_sort_container_table"}),t=ej.buildTag("tr","",{},{}),o=ej.buildTag("td","",{width:"49px","padding-left":"7px"},{}),b=ej.buildTag("span.e-designer-label-group e-designer-cursor",w===0?"Sort by":"Then by",{"line-height":"2"},{id:n+"_lbl_txt"}),s=ej.buildTag("td","",{width:"1px"},{}),h=ej.buildTag("div.e-widgeticons e-reportdesigner-double-drag e-draggable e-js e-pinch e-designer-double-drag","",{display:"block","font-size":"13px",color:"#B4B4B4","font-weight":"600"},{id:n+"_sort_iconspan"}),c=ej.buildTag("td","",{width:"20px","padding-left":"5px"}),l=ej.buildTag("input.e-field e-ejinputtext","",{padding:"1px"},{type:"text",id:n+"_sort_expdrop"}),a=ej.buildTag("td","",{width:"20px","padding-left":"10px"});this.expression.renderExpressionElement(a,{id:n+"_sort_expField",enableReset:!0,enableExpression:!0,enableAdvanceMode:!1,expressionList:[],marginSpacing:"2px",dataInfo:{element:{name:"Sort Filter",value:""},getValueDetails:{CallBackInstance:this,CallBackMethod:"getExpressionValue",Arguments:[n+"_sort_expdrop",n]},updateExpressionDetails:{CallBackMethod:$.proxy(this.setExpressionValue,this),Arguments:[n+"_sort_expdrop",n]},parentElement:$("#"+this.id+"_sort_dialog")}});var v=ej.buildTag("td","",{width:"20px","padding-right":"38px"}),y=ej.buildTag("input.e-field e-ejinputtext","",{padding:"1px"},{type:"text",id:n+"_sort_directionbox"}),p=ej.buildTag("td","",{width:"20px","padding-right":"8px"},{id:n+"_sort_error_td"});return ej.DashboardUtil.renderErrIndictor(p,this.id),r=ej.buildTag("td","",{"padding-top":"6px","padding-right":"5px"}),u=ej.buildTag("span.e-chk-image e-icon e-cross-circle","",{cursor:"default",float:"right",color:"#f45d5d","font-size":"12px"},{id:n+"_delete_icon"}),i.append(e),e.append(t),t.append(s),s.append(h),t.append(o),o.append(b),t.append(c),c.append(l),t.append(a),t.append(v),v.append(y),t.append(p),t.append(r),r.append(u),u.bind("click",$.proxy(this.deleteSort,this,i,n)),l.ejDropDownList({width:"180px",height:"25px",dataSource:this.datasetFields,fields:{text:"text"},enabled:!0,showRoundedCorner:!0,watermarkText:"Choose Field",cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"}),y.ejDropDownList({dataSource:[{text:"Ascending",value:"Ascending"},{text:"Descending",value:"Descending"}],fields:{text:"text",value:"value"},selectedIndex:0,enabled:!0,width:"110px",height:"25px",showRoundedCorner:!0,cssClass:"e-designer-param-assign e-designer-border e-designer-ejwidgets"}),ejDashboardDesigner.getInstance("DragOnDrop").initializeSortable(h,i,this.id+"_sort_dialog",this.id+"_sort_container",$.proxy(this.changeLabelTxt,this)),this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh(),n},n.prototype.renderButton=function(n){var t=ej.buildTag("div.header","",{position:"absolute",width:"180px"},{id:n+"_exp_div_btn"}),i=ej.buildTag("button.e-designer-fontfamily","Set Expression",{"font-size":"11px"},{id:n+"_sort_set_exp"});return t.append(i),i.ejButton({width:"100%",height:"30px"}),t},n.prototype.closeDialog=function(){$("#"+this.id+"_sort_dialog").data("ejDialog").close()},n.prototype.deleteSort=function(n){n.remove();$("#"+this.id+"_sort_container_div .e-designer-label-group:first").text("Sort by");this.ejScrollerDiv!==null&&this.ejScrollerDiv.refresh()},n.prototype.changeLabelTxt=function(){$("#"+this.id+"_sort_container_div .e-designer-label-group:first").text("Sort by");$("#"+this.id+"_sort_container_div .e-designer-label-group").not(":first").text("Then By")},n.prototype.populateSortExpressions=function(n){for(var i,t=0;t<n.length;t++)i=this.renderNewSortField(),this.updateSortRowValues(i,n[t])},n.prototype.updateSortRowValues=function(n,t){var r=ej.DashboardUtil.getExpression(t.Value),i=!0,f=t.Direction,u;!r.isExp&&r.exp.length>0?(u=this.getSelectedField(r.exp),this.getSortExpTag(n).data("ejDropDownList").option("selectedIndex",u.index),i=!0):(this.getSortExpTag(n).attr("e-exp",t.Value),i=!1);this.enableField(this.getSortExpTag(n),i);$("#"+n+"_sort_expField_Expression").css("background-color",i?"white":"black");$("#"+n+"_sort_directionbox").data("ejDropDownList").option("selectedIndex",f===Sorting.Ascending?0:1)},n.prototype.getSelectedField=function(n){for(var t=0;t<this.datasetFields.length;t++)if(n.length>0&&n===this.datasetFields[t].text)return{index:t,isAvailable:!0};return{index:-1,isAvailable:!1}},n.prototype.openSortDialog=function(n,t,i,r,u){this.resetSortDialog();this.dataInfo=t;this.callInstance=i;this.callMethod=r;this.datasetName=u;this.datasets=ejDashboardDesigner.getInstance("DataSet").datasets;this.datasetFields=this.getAvailableFields(this.datasetName,this.datasets);$("#"+this.id+"_sort_dialog").data("ejDialog").open();this.sortExpressions=n;this.populateSortExpressions(n)},n.prototype.getAvailableFields=function(n,t){var f=[],i,e,u,r;if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].Name===n){for(e=t[i].Fields,u=0;u<e.length;u++)r=t[i].Fields[u],f.push({id:r.Name,text:r.Name,value:r.Name,typeName:r.TypeName});break}return f},n.prototype.updateSortInfo=function(){var n=this,t=[],r=$("#"+this.id+"_sort_container_div .e-reportdesigner-sort-row"),i=!1;r.each(function(r,u){var e=$(u).attr("id"),c=$("#"+e+"_sort_directionbox").data("ejDropDownList").getSelectedValue(),o=n.getSortExpTag(e).data("ejDropDownList").getSelectedValue(),f=n.getSortExpTag(e).attr("e-exp"),s=n.createSort(),h;(!ej.isNullOrUndefined(o)&&o.length===0||ej.isNullOrUndefined(o))&&(!ej.isNullOrUndefined(f)&&f.length===0||ej.isNullOrUndefined(f))?(h="Choose value for expression field",n.enableHiglighter(!0,e,h),i=!0):(s.Value=!ej.isNullOrUndefined(f)&&f.length>0?f:"=Fields!"+o+".Value",s.Direction=n.getSortOrder(c),t.push(s),n.enableHiglighter(!1,e))});i||(ej.DashboardUtil.isEqualObj(this.sortExpressions,t)||ej.DashboardUtil.invokeMethod(this.callInstance,this.callMethod,[t,this.dataInfo]),this.closeDialog())},n.prototype.enableHiglighter=function(n,t,i){var r=$("#"+t+"_sort_expdrop_container");n?(r.addClass("e-designer-error").addClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+t+"_sort_error_td"),!0,i)):(r.removeClass("e-designer-error").removeClass("e-designer-error-radius"),ej.DashboardUtil.showErrIndictor($("#"+t+"_sort_error_td"),!1))},n.prototype.getSortExpTag=function(n){return $("#"+n+"_sort_expdrop")},n.prototype.resetSortDialog=function(){this.dataInfo=null;this.callInstance=null;this.callMethod=null;this.datasetName=null;this.datasetFields=[];$("#"+this.id+"_sort_container_div").empty()},n.prototype.setExpressionValue=function(n){var i=$("#"+n.arguments[0]),t=n.expression[0],r=!0,u=ej.DashboardUtil.getExpression(t),f=this.getSelectedField(u.exp);i.attr("e-exp","");f.isAvailable||ej.isNullOrUndefined(t)?(i.data("ejDropDownList").setModel({selectedIndex:f.index}),r=!0):t&&t.startsWith("=")&&(u.isExp||t.startsWith("=Parameters!"))?(i.attr("e-exp",t),r=!1):!f.isAvailable&&u.exp.length>0&&(i.attr("e-exp",u.exp),r=!1);$("#"+n.arguments[1]+"_sort_expField_Expression").css("background-color",r?"white":"black");this.enableField(i,r)},n.prototype.getExpressionValue=function(n){var t=$("#"+n).attr("e-exp");return t||(t=$("#"+n).data("ejDropDownList").getSelectedValue(),t=!ej.isNullOrUndefined(t)&&t.length>0?"=Fields!"+t+".Value":""),t},n.prototype.getSortOrder=function(n){return n.toLowerCase()==="descending"?Sorting.Descending:n.toLowerCase()==="ascending"?Sorting.Ascending:void 0},n.prototype.enableField=function(n,t){n.data("ejDropDownList").setModel({enabled:t})},n.prototype.createSort=function(){return{__type:"Syncfusion.RDL.DOM.SortExpression",Value:"",Direction:"Ascending"}},n.prototype.destroy=function(){ej.DashboardUtil.destroyEjObjects($("#"+this.id+"_sort_dialog"))},n}();window.ej.createObject("ej.DashboardDesignerUtility.SortDialog",InternalSortDialog,window),function(n){n[n.Ascending=0]="Ascending";n[n.Descending=1]="Descending"}(Sorting||(Sorting={}));InternalSQLDataSource=function(){function n(){this.lastServerName="";this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.reportDesigner._id;this.isPostBackDB=!1;this.isPostBackServer=!1;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"SQLDataSource",{get:function(){return(this.sqldataSource===null||this.sqldataSource===undefined)&&(this.sqldataSource=new ej.DashboardDesignerUtility.SQLDataSource),this.sqldataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_sql_datasource").length>0?this.resetConfiguration():(this.sqlConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_sql_datasource"}),n.append(this.sqlConfig),this.renderBasicPanel(),this.renderAdvcPanel(),this.changedAuthentication({text:this.dataSourceLocale.windowsText}),this.changedAdvAuthentication({text:this.dataSourceLocale.windowsText}));$("#"+this.id+"_panelSwitch").length>0&&$("#"+this.id+"_panelSwitch").bind("click",$.proxy(this.switchAdvcPanel,this));this.showConfiguration(!0)},n.prototype.renderBasicPanel=function(){var n;this.basicPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_sql_basicpanel"});n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_sql_basic_config"});this.sqlConfig.append(this.basicPanel);this.basicPanel.append(n);var t=this.dataSourceLocale.windowsText,i=this.dataSourceLocale.sqlServerText,r=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i}];this.datasource.renderAccordionItem("Server Name",this.id+"_sql_servername",n,this.sqlServerFocus,this.sqlServerFocusOut,this);this.datasource.renderDropDownItem("Authentication Type",this.id+"_sql_authtype",n,r,{id:"id",text:"text",value:"value"},"0");this.datasource.renderTextBoxItem("Username",this.id+"_sql_username",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_sql_passwd",!0,n,426);this.datasource.renderCheckboxItem("Save Password",this.id+"_save_password",n,this.saveAuthentication,this,"right");this.datasource.renderAccordionItem("Database",this.id+"_sql_dbname",n,this.sqlDBfocus,null,this);$("#"+this.id+"_sql_authtype")&&(this.ejAuthDrpdwn=$("#"+this.id+"_sql_authtype").data("ejDropDownList"),this.ejAuthDrpdwn.model.change=$.proxy(this.changedAuthentication,this));this.sqlServer=$("#"+this.id+"_sql_servername");this.sqlUsrName=$("#"+this.id+"_sql_username");this.sqlDatabase=$("#"+this.id+"_sql_dbname");this.sqlPasswrd=$("#"+this.id+"_sql_passwd");this.sqlPasswrdTag=$("#"+this.id+"_sql_passwd_tr");this.sqlUsrNameTag=$("#"+this.id+"_sql_username_tr");this.ejSqlAutoComp=this.sqlServer.data("ejAutocomplete");this.ejSqlDbAutoComp=this.sqlDatabase.data("ejAutocomplete");this.sqlSavePasswrdTag=$("#"+this.id+"_save_password_tr");this.ejSqlSavePasswrd=$("#"+this.id+"_save_password").data("ejCheckBox");this.wiredEvents()},n.prototype.renderAdvcPanel=function(){var n;this.advancePanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_sql_advancepanel"});n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_sql_advance_config"});this.sqlConfig.append(this.advancePanel);this.advancePanel.append(n);var t=this.dataSourceLocale.windowsText,i=this.dataSourceLocale.sqlServerText,r=this.dataSourceLocale.promptText,u=this.dataSourceLocale.noneText,f=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i},{id:r.toLowerCase(),text:r,value:r},{id:u.toLowerCase(),text:u,value:u}];this.datasource.renderTextArea("Connection String",this.id+"_sql_advanceConStr",n);this.datasource.renderDropDownItem("Authentication Type",this.id+"_adv_sql_authtype",n,f,{id:"id",text:"text",value:"value"},"0");this.datasource.renderTextBoxItem("Prompt Text",this.id+"_adv_sql_prompt",!1,n,426);this.datasource.renderTextBoxItem("Username",this.id+"_adv_sql_username",!1,n,426);this.datasource.renderTextBoxItem("Password",this.id+"_adv_sql_passwd",!0,n,426);$("#"+this.id+"_adv_sql_authtype")&&(this.ejAdvcAuthDrpdwn=$("#"+this.id+"_adv_sql_authtype").data("ejDropDownList"),this.ejAdvcAuthDrpdwn.model.change=$.proxy(this.changedAdvAuthentication,this));this.advcSqlPromptCont=$("#"+this.id+"_adv_sql_prompt");this.advcSqlPromptTag=$("#"+this.id+"_adv_sql_prompt_tr");this.advcSqlUsrName=$("#"+this.id+"_adv_sql_username");this.advcSqlUsrNameTag=$("#"+this.id+"_adv_sql_username_tr");this.advcSqlPasswrd=$("#"+this.id+"_adv_sql_passwd");this.advcSqlPasswrdTag=$("#"+this.id+"_adv_sql_passwd_tr");this.advcSqlConncString=$("#"+this.id+"_sql_advanceConStr")},n.prototype.onUserFocusIn=function(){this.sqlUserName=this.sqlUsrName.val();this.sqlPassword=this.sqlUsrName.val()},n.prototype.onUserFocusOut=function(){var n=this.sqlUsrName.val(),t=this.sqlPasswrd.val();this.sqlUserName!==n&&this.sqlPassword!==t&&this.ejSqlDbAutoComp.setModel({dataSource:[]})},n.prototype.wiredEvents=function(){this.sqlUsrName.bind("focusin",$.proxy(this.onUserFocusIn,this));this.sqlUsrName.bind("focusout",$.proxy(this.onUserFocusOut,this));this.sqlPasswrd.bind("focusin",$.proxy(this.onUserFocusIn,this));this.sqlPasswrd.bind("focusout",$.proxy(this.onUserFocusOut,this))},n.prototype.hasSQLNoneType=function(n){return(n.SecurityType===0||n.SecurityType==="None")&&!n.ConnectionProperties.IntegratedSecurity?!0:!1},n.prototype.editConfiguration=function(n){var i,t;this.renderConfiguration(this.datasource.configTable);n&&(i=n.ConnectionProperties.ConnectString,n.ConnectionProperties.IsDesignState||this.hasSQLNoneType(n)?(this.showAdvcPanel(!0),this.advcSqlConncString.val(i),this.advcSqlUsrName.val(n.ConnectionProperties.UserName),this.advcSqlPasswrd.val(n.ConnectionProperties.PassWord),n.ConnectionProperties.IntegratedSecurity||n.SecurityType!==0&&n.SecurityType!=="None"?!n.ConnectionProperties.IntegratedSecurity&&(!ej.isNullOrUndefined(n.ConnectionProperties.UserName)&&n.ConnectionProperties.UserName.length>0||!ej.isNullOrUndefined(n.ConnectionProperties.PassWord)&&n.ConnectionProperties.PassWord.length>0)?this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}):n.ConnectionProperties.IntegratedSecurity||!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&(ej.isNullOrUndefined(n.ConnectionProperties.Prompt)||n.ConnectionProperties.Prompt.length!==0)||n.SecurityType!==2&&n.SecurityType!=="DataBase"?!n.ConnectionProperties.IntegratedSecurity&&n.ConnectionProperties.Prompt&&n.ConnectionProperties.Prompt.length>0?(this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.promptText}),this.advcSqlPromptCont.val(!ej.isNullOrUndefined(n.ConnectionProperties.Prompt)&&n.ConnectionProperties.Prompt.length>0?n.ConnectionProperties.Prompt:"Specify the Username and password for DataSource "+n.Name)):n.ConnectionProperties.IntegratedSecurity&&this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}):this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}):this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText})):(t=this.datasource.getConStringArgs(i),this.sqlUsrName.val(n.ConnectionProperties.UserName),this.sqlPasswrd.val(n.ConnectionProperties.PassWord),t["data source"].value&&this.ejSqlAutoComp.setModel({value:t["data source"].value}),t["initial catalog"].value&&this.ejSqlDbAutoComp.setModel({value:t["initial catalog"].value}),n.ConnectionProperties.IntegratedSecurity||n.SecurityType===0||n.SecurityType==="None"?this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}):!n.ConnectionProperties.IntegratedSecurity&&(!ej.isNullOrUndefined(n.ConnectionProperties.UserName)&&n.ConnectionProperties.UserName.length>0||!ej.isNullOrUndefined(n.ConnectionProperties.PassWord)&&n.ConnectionProperties.PassWord.length>0)?(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}),this.saveAuthentication({isChecked:!0})):n.ConnectionProperties.IntegratedSecurity||(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}),this.saveAuthentication({isChecked:!1}))));this.hideValidationMsg()},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.sqlServer.attr("id"),!1);this.datasource.showValidationMsg(this.sqlDatabase.attr("id"),!1);this.datasource.showValidationMsg(this.sqlUsrName.attr("id"),!1);this.datasource.showValidationMsg(this.sqlPasswrd.attr("id"),!1);this.datasource.showValidationMsg(this.advcSqlConncString.attr("id"),!1);this.datasource.showValidationMsg(this.advcSqlPromptCont.attr("id"),!1);this.datasource.showValidationMsg(this.advcSqlUsrName.attr("id"),!1);this.datasource.showValidationMsg(this.advcSqlPasswrd.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.sqlUsrName.val("");this.sqlPasswrd.val("");this.ejSqlAutoComp.clearText();this.ejSqlDbAutoComp.clearText();this.ejSqlSavePasswrd.setModel({checked:!1});this.ejSqlAutoComp.setModel({value:"",dataSource:[]});this.ejSqlDbAutoComp.setModel({value:"",dataSource:[]});this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText});this.lastServerName="";this.advcSqlUsrName.val("");this.advcSqlPasswrd.val("");this.advcSqlPromptCont.val("");this.advcSqlConncString.val("");this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText});$("#"+this.id+"_panelSwitch").length>0&&$("#"+this.id+"_panelSwitch").unbind("click",$.proxy(this.switchAdvcPanel,this))},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;this.basicPanel.is(":visible")?this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&this.ejSqlSavePasswrd.model.checked?(n.ConnectionProperties.UserName=t.Username,n.ConnectionProperties.PassWord=t.Password):this.ejAuthDrpdwn.getSelectedValue()!==this.dataSourceLocale.sqlServerText||this.ejSqlSavePasswrd.model.checked||(n.ConnectionProperties.Prompt=!ej.isNullOrUndefined(this.advcSqlPromptCont)&&this.advcSqlPromptCont.val().length>0?this.advcSqlPromptCont.val():"Specify the Username and password for DataSource "+n.Name):this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText?(n.ConnectionProperties.UserName=t.Username,n.ConnectionProperties.PassWord=t.Password):this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&(n.ConnectionProperties.Prompt=!ej.isNullOrUndefined(this.advcSqlPromptCont)&&this.advcSqlPromptCont.val().length>0?this.advcSqlPromptCont.val():"Specify the Username and password for DataSource "+n.Name)},n.prototype.getDatabaseVal=function(){var n=this.ejSqlDbAutoComp.getValue();return n?n:$("#"+this.id+"_sql_dbname").val()},n.prototype.getServerVal=function(){var n=this.ejSqlAutoComp.getValue();return n?n:$("#"+this.id+"_sql_servername").val()},n.prototype.getDatasourceInfo=function(n,t){var i=!0,r="",u="",f="",e=!0,c=!1,o="Integrated",s,h;return(this.hideValidationMsg(),this.basicPanel.is(":visible")?(s=this.getServerVal(),h=this.getDatabaseVal(),s.length===0&&(this.datasource.showValidationMsg(this.sqlServer.attr("id"),!0,"Specify the server name"),i=!1),h.length===0&&(this.datasource.showValidationMsg(this.sqlDatabase.attr("id"),!0,"Specify the database name"),i=!1),this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&(r=this.sqlUsrName.val(),u=this.sqlPasswrd.val(),o="DataBase",e=!1,r.length===0&&(this.datasource.showValidationMsg(this.sqlUsrName.attr("id"),!0,"Specify the Username"),i=!1),u.length===0&&(this.datasource.showValidationMsg(this.sqlPasswrd.attr("id"),!0,"Specify the Password"),i=!1)),f=this.buildSqlConnection(s,h,t)):(c=!0,f=this.advcSqlConncString.val(),f.length===0&&(this.datasource.showValidationMsg(this.advcSqlConncString.attr("id"),!0,"Specify the connection string"),i=!1),this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText&&this.advcSqlPromptCont.val().length===0&&(this.datasource.showValidationMsg(this.advcSqlPromptCont.attr("id"),!0,"Specify the prompt text"),i=!1),(this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText||this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText)&&(r=this.advcSqlUsrName.val(),u=this.advcSqlPasswrd.val(),o="DataBase",e=!1,r.length===0&&(this.datasource.showValidationMsg(this.advcSqlUsrName.attr("id"),!0,"Specify the Username"),i=!1),u.length===0&&(this.datasource.showValidationMsg(this.advcSqlPasswrd.attr("id"),!0,"Specify the Password"),i=!1)),this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.noneText&&(o="None",e=!1)),i)?{Name:n,Provider:"SQL",IsIntegrated:e,SecurityType:o,IsDesignState:c,Username:r,Password:u,ConnectionString:f}:null},n.prototype.getConnectionVal=function(n){var t=this.getServerVal(),i=this.getDatabaseVal();return t.length!==0&&i.length!==0?this.buildSqlConnection(t,i,n):null},n.prototype.buildSqlConnection=function(n,t,i){var f,r,e,u,o;if(this.datasource.isEdit){for(f="",r=this.datasource.getConStringArgs(i.ConnectionProperties.ConnectString),r["data source"].value&&(r["data source"].value=n),r["initial catalog"].value&&(r["initial catalog"].value=t),e=Object.keys(r),u=0;u<e.length;u++)o=r[e[u]],f+=o.field+"="+o.value+";";return f}return"Data Source="+n+";Initial Catalog="+t+";"},n.prototype.saveAuthentication=function(n){this.ejAdvcAuthDrpdwn.setModel({value:n.isChecked?this.dataSourceLocale.sqlServerText:this.dataSourceLocale.promptText})},n.prototype.changedAuthentication=function(n){this.datasource.showValidationMsg(this.sqlUsrName.attr("id"),!1);this.datasource.showValidationMsg(this.sqlPasswrd.attr("id"),!1);this.sqlUsrNameTag.css("display","none");this.sqlPasswrdTag.css("display","none");this.sqlSavePasswrdTag.css("display","none");n.text===this.dataSourceLocale.sqlServerText&&(this.sqlUsrNameTag.css("display","table-row"),this.sqlPasswrdTag.css("display","table-row"),this.sqlSavePasswrdTag.css("display","table-row"),this.saveAuthentication({isChecked:!1}));this.ejSqlDbAutoComp.setModel({dataSource:[]});n.isInteraction&&this.ejSqlDbAutoComp.clearText();this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.changedAdvAuthentication=function(n){this.datasource.showValidationMsg(this.advcSqlUsrName.attr("id"),!1);this.datasource.showValidationMsg(this.advcSqlPasswrd.attr("id"),!1);this.advcSqlPromptTag.css("display","none");this.advcSqlUsrNameTag.css("display","none");this.advcSqlPasswrdTag.css("display","none");n.text===this.dataSourceLocale.sqlServerText?(this.advcSqlUsrNameTag.css("display","table-row"),this.advcSqlPasswrdTag.css("display","table-row")):n.text===this.dataSourceLocale.promptText&&(this.advcSqlPromptTag.css("display","table-row"),this.advcSqlUsrNameTag.css("display","table-row"),this.advcSqlPasswrdTag.css("display","table-row"));this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.switchAdvcPanel=function(){var i=this.advcSqlConncString.val(),n=this.getConnectionVal(this.datasource.datasourceItem),t;this.basicPanel.is(":visible")?this.showAdvcPanel(!0,n):n&&n.trim().toLowerCase()!==i.trim().toLowerCase()?(t="Switching to the visual designer will discard the manual changes made to the connection string. Do you want to use the visual designer anyway ? ",ej.DashboardUtil.getInstance().ejAlertDialog("DataSource AdvancePanel",t,!0,!1,!0,"",{height:160,width:510,instance:this,method:"confirmPanelSwitch"})):this.showAdvcPanel(!1,n);this.hideValidationMsg()},n.prototype.confirmPanelSwitch=function(n){n&&this.showAdvcPanel(!n)},n.prototype.showAdvcPanel=function(n,t){this.hideValidationMsg();n?(this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&this.ejSqlSavePasswrd.model.checked?this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}):this.ejAuthDrpdwn.getSelectedValue()!==this.dataSourceLocale.sqlServerText||this.ejSqlSavePasswrd.model.checked?this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}):(this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.promptText}),this.advcSqlPromptCont.val("Specify the Username and password for DataSource")),(this.sqlUsrName.val().length>0||this.sqlPasswrd.val().length>0)&&(this.advcSqlUsrName.val(this.sqlUsrName.val()),this.advcSqlPasswrd.val(this.sqlPasswrd.val())),this.basicPanel.css("display","none"),this.advancePanel.css("display","table-row"),$("#"+this.id+"_panelSwitch").text(this.dataSourceLocale.basicOption),this.advcSqlConncString.val(ej.isNullOrUndefined(t)?"":t)):(this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText?(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}),this.ejSqlSavePasswrd.setModel({checked:!0})):this.ejAdvcAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.promptText?(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.sqlServerText}),this.ejSqlSavePasswrd.setModel({checked:!1})):(this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText}),this.ejAdvcAuthDrpdwn.setModel({value:this.dataSourceLocale.windowsText})),(this.advcSqlUsrName.val().length>0||this.advcSqlPasswrd.val().length>0)&&(this.sqlUsrName.val(this.advcSqlUsrName.val()),this.sqlPasswrd.val(this.advcSqlPasswrd.val())),this.basicPanel.css("display","table-row"),this.advancePanel.css("display","none"),$("#"+this.id+"_panelSwitch").text(this.dataSourceLocale.advanceOptionText));this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.showConfiguration=function(n){this.sqlConfig.css("display",n?"table-row":"none");this.sqlConfig.children().show();this.showAdvcPanel(!n)},n.prototype.sqlDBfocus=function(n){var t,e;if(!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackDB&&(t=this.getServerVal(),t)){var i="",r="",u=!0,f="Integrated";this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.sqlServerText&&(i=this.sqlUsrName.val(),r=this.sqlPasswrd.val(),u=!1,f="DataBase");this.isPostBackDB=!0;e={Name:"",Provider:"SQL",IsIntegrated:u,SecurityType:f,Username:ej.DashboardUtil.encryptData(i),Password:ej.DashboardUtil.encryptData(r),ConnectionString:ej.DashboardUtil.encryptData("Data Source="+t+";")};ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.dataBases,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.dataBases,datasource:e})},{fnction:$.proxy(this.loadSqlDB,this),indicator:[$.proxy(this.showLoadingIndicator,this),$.proxy(this.hideLoadingIndicator,this)]})}},n.prototype.loadSqlDB=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].DataBase);this.ejSqlDbAutoComp.setModel({dataSource:i})}else $("#"+this.id+"_sql_authtype_hidden").val()=="Windows"?ej.DashboardUtil.getInstance().ejAlertDialog("Alert Dialog","Wrong Server Name",!1,!0,!0,""):ej.DashboardUtil.getInstance().ejAlertDialog("Alert Dialog","Invalid UserName, Password or Server Name.",!1,!0,!0,"");this.isPostBackDB=!1},n.prototype.sqlServerFocusOut=function(){var n=this.getServerVal();this.lastServerName!==n&&this.ejSqlDbAutoComp.setModel({dataSource:[]});this.lastServerName=""},n.prototype.sqlServerFocus=function(n){if(this.lastServerName=this.getServerVal(),!(n.model.dataSource&&n.model.dataSource.length>0)&&!this.isPostBackServer){this.isPostBackServer=!0;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.reportDesigner.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.serverInstance,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.serverInstance,datasource:{Name:"",Provider:"SQL",IsIntegrated:!0,SecurityType:"Integrated",Username:"",Password:"",ConnectionString:""}})},{fnction:$.proxy(this.loadSqlServers,this)})}},n.prototype.loadSqlServers=function(n){var i,r,t;if(n&&n!=="Not Found"){for(i=[],r=JSON.parse(n),t=0;t<r.length;t++)i.push(r[t].ServerName);this.ejSqlAutoComp.setModel({dataSource:i})}this.isPostBackServer=!1},n.prototype.showLoadingIndicator=function(){$("#"+this.id+"_sql_dbname_dropdown>span").removeClass("e-search");$("#"+this.id+"_sql_dbname_dropdown>span").addClass("e-load").addClass("e-input");$("#"+this.id+"_sql_dbname_dropdown>span").css("background-position","center")},n.prototype.hideLoadingIndicator=function(){$("#"+this.id+"_sql_dbname_dropdown>span").removeClass("e-input").removeClass("e-load");$("#"+this.id+"_sql_dbname_dropdown>span").addClass("e-search")},n}();window.ej.createObject("ej.DashboardDesignerUtility.SQLDataSource",InternalSQLDataSource,window);InternalSqlCeDataSource=function(){function n(){this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.reportDesigner._id;this.dataSourceLocale=ejDashboardDesigner.getLocale(this.reportDesigner.model.locale).dataSource}return Object.defineProperty(n,"SqlCeDataSource",{get:function(){return(this.sqlcedataSource===null||this.sqlcedataSource===undefined)&&(this.sqlcedataSource=new ej.DashboardDesignerUtility.SqlCeDataSource),this.sqlcedataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_sqlce_datasource").length>0?this.resetConfiguration():(this.sqlCeConfig=ej.buildTag("div","",{width:"100%",height:"100%",display:"table-row"},{id:this.id+"_sqlce_datasource"}),n.append(this.sqlCeConfig),this.renderSqlCePanel(),this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText}));this.showConfiguration(!0)},n.prototype.renderSqlCePanel=function(){var n;this.sqlCePanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_sqlce_panel"});n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_sqlce_config"});this.sqlCeConfig.append(n);var t=this.dataSourceLocale.authentication,i=this.dataSourceLocale.noneText,r=[{id:t.toLowerCase(),text:t,value:t},{id:i.toLowerCase(),text:i,value:i}];this.datasource.renderTextArea("Connection String",this.id+"_sqlce_conStr",n);this.datasource.renderDropDownItem("Authentication Type",this.id+"_sqlce_authtype",n,r,{id:"id",text:"text",value:"value"},"0");this.datasource.renderTextBoxItem("Password",this.id+"_sqlce_passwd",!0,n,426);$("#"+this.id+"_sqlce_authtype").length>0&&(this.ejAuthDrpdwn=$("#"+this.id+"_sqlce_authtype").data("ejDropDownList"),this.ejAuthDrpdwn.model.change=$.proxy(this.changedAuthentication,this));this.passWord=$("#"+this.id+"_sqlce_passwd");this.passWordTag=$("#"+this.id+"_sqlce_passwd_tr");this.conncString=$("#"+this.id+"_sqlce_conStr");this.conncStringTag=$("#"+this.id+"_sqlce_conStr_tr")},n.prototype.changedAuthentication=function(n){this.hideValidationMsg();this.passWordTag.css("display","none");n.text===this.dataSourceLocale.authentication&&this.passWordTag.css("display","table-row");this.datasource.updateEJComponentSize();this.datasource.scrollerRefresh($("#"+this.id+"_dsConfigBodyContainer"))},n.prototype.editConfiguration=function(n){this.renderConfiguration(this.datasource.configTable);this.hideValidationMsg();n&&(this.passWord.val(n.ConnectionProperties.PassWord),this.conncString.val(n.ConnectionProperties.ConnectString),n.ConnectionProperties&&(n.ConnectionProperties.PassWord&&n.ConnectionProperties.PassWord.length>0||n.SecurityType===2||n.SecurityType==="DataBase")&&this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.authentication}))},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.conncString.attr("id"),!1);this.datasource.showValidationMsg(this.passWord.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.passWord.val("");this.conncString.val("");this.ejAuthDrpdwn.setModel({value:this.dataSourceLocale.noneText})},n.prototype.showConfiguration=function(n){this.sqlCeConfig.css("display",n?"table-row":"none");this.sqlCeConfig.children().show()},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType;this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication&&(n.ConnectionProperties.PassWord=t.Password)},n.prototype.getDatasourceInfo=function(n){var i=!0,t="",r="None";return(this.hideValidationMsg(),this.ejAuthDrpdwn.getSelectedValue()===this.dataSourceLocale.authentication&&(t=this.passWord.val(),this.datasource.showValidationMsg(this.passWord.attr("id"),!(t.length>0),"Specify the Password"),i=t.length>0,r="DataBase"),this.datasource.showValidationMsg(this.conncString.attr("id"),!(this.conncString.val().length>0),"Specify the connection string"),i=this.conncString.val().length>0,i)?{Name:n,Provider:"SQLCe",IsIntegrated:!1,SecurityType:r,Username:"",Password:t,ConnectionString:this.conncString.val()}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.SqlCeDataSource",InternalSqlCeDataSource,window);InternalSqlEditor=function(){function n(){this.value="";this.editorTag=null;this.indicesTag=null;this.id=ej.DashboardUtil.getInstance().ejInstance._id;this.manager=new SqlEditorUndoManager}return Object.defineProperty(n,"Editor",{get:function(){return(this.editor===null||this.editor===undefined)&&(this.editor=new ej.DashboardDesignerUtility.SqlEditor),this.editor},enumerable:!0,configurable:!0}),n.prototype.renderQueryEditor=function(n){this.queryEditor=ej.buildTag("div","",{},{id:this.id+"_queryEditor"});var i=this.indicesTag=ej.buildTag("div","",{height:"100%",width:"40px","text-align":"right","padding-top":"10px","background-color":"#ececec",overflow:"hidden",position:"absolute",display:"block"},{id:this.id+"_queryEditor_indices"}),t=this.editorTag=ej.buildTag("div.e-reportdesigner-queryEditor","",{"padding-left":"15px","padding-top":"10px",height:"100%",width:"96.5%","margin-left":"40px","white-space":"pre",position:"absolute",overflow:"hidden",display:"block","border-color":"#cbcbcb","border-style":"solid","border-width":"0.4px","border-top-width":"0px"},{id:this.id+"_queryEditor_editor",contenteditable:"true"}),r=ej.buildTag("div","1",{"padding-right":"4px"},{id:this.id+"_queryEditor_indices0"});i.append(r);t.bind("keydown",$.proxy(this.onEditorKeydown,this));t.bind("scroll",$.proxy(this.scrollLeft,this));t.bind("keypress",$.proxy(this.onEditorKeyPress,this));t.bind("keyup",$.proxy(this.onEditorKeyUp,this));this.queryEditor.append(i);this.queryEditor.append(t);n.append(this.queryEditor)},n.prototype.onEditorKeydown=function(n){this.updateIndices();n.ctrlKey&&(n.keyCode===90||n.keyCode===89)&&(n.preventDefault(),n.stopPropagation())},n.prototype.onEditorKeyUp=function(n){var p,s,w,b,c,k,r,l,a,v,t,i,u,f,y;if(n.keyCode===13)for(p=0,t=0;t<this.editorTag[0].childNodes.length;t++)this.editorTag[0].childNodes[t].localName==="p"&&(p===0||t===1?(s=this.editorTag[0].childNodes[t],w=document.createElement("div"),s.parentNode.replaceChild(w,s),w.innerHTML=s.textContent===""?"<br/>":s.textContent,p++):$(this.editorTag[0].childNodes[t]).remove());if(n.ctrlKey&&n.keyCode!==65&&n.keyCode!==67)if(b=n.keyCode?n.keyCode:n.which,n.ctrlKey&&n.keyCode===90)this.manager.isUndo()&&this.manager.undo();else if(n.ctrlKey&&n.keyCode===89)this.manager.isRedo()&&this.manager.redo();else if(n.ctrlKey&&n.keyCode===86){$("#"+this.id+"_queryEditor_editor")[0].innerHTML!=="<br>"&&this.setQuery($("#"+this.id+"_queryEditor_editor")[0].innerText);this.updateDivIndices();var o=$("#"+this.id+"_queryEditor_editor"),d=this.editorTag[0].children.length,e=[],h=0;for(t=0;t<d;t++)if(o[0].childNodes[t].children&&o[0].childNodes[t].children.length)for(r=0;r<o[0].childNodes[t].childNodes.length;r++)o[0].childNodes[t].childNodes[r].id&&(h=t,e.push(o[0].childNodes[t].childNodes[r]));for(c=0;c<e.length;c++)e[c].id=this.id+"_queryEditor_editor_childNode"+c;for(k=$("#"+this.id+"_queryEditor_editor"+h),r=0;r<e.length;r++)if(r===0){var g=e[0].innerHTML,nt=o[0].childNodes[h].innerHTML,tt=nt+g;$("#"+this.id+"_queryEditor_editor"+h)[0].innerHTML=tt}else $("#"+e[r].id).insertAfter(k),k=$("#"+e[r].id);for(this.updateDivIndices(),l=$("#"+this.id+"_queryEditor_editor"+h)[0],a=0;a<l.childNodes.length;a++)l.childNodes[a].id&&l.removeChild(l.childNodes[a])}else{for(v=this.editorTag,t=0;t<v[0].children.length;t++)v[0].children[t].innerHTML==="<br>"&&(v[0].children[t].innerHTML="");if(i=window.getSelection().anchorNode.parentNode,b!==13&&b!==8||window.getSelection().anchorNode.textContent!==" ")if(i.id&&i.id!==this.id+"_queryEditor_editor")if(u=i.children,i.id===this.id+"_queryEditor"&&u.length===2)for(f=0;f<u.length;f++)u[f].id===this.id+"_queryEditor_editor"&&this.updateText(u[f],n);else this.updateText(i,n);else this.updateText(i.parentNode,n)}if((n.keyCode>=65&&n.keyCode<=90||window.getSelection().anchorNode.textContent!==" ")&&!n.ctrlKey&&n.keyCode!==37&&n.keyCode!==38&&n.keyCode!==39&&n.keyCode!==40&&n.keyCode!==13&&n.keyCode!==16&&n.keyCode!==17)if(i=window.getSelection().anchorNode.parentNode,i.id&&i.id!==this.id+"_queryEditor_editor")if(u=i.children,i.id===this.id+"_queryEditor"&&u.length===2)for(f=0;f<u.length;f++)u[f].id===this.id+"_queryEditor_editor"&&this.updateText(u[f],n);else this.updateText(i,n);else this.updateText(i.parentNode,n);this.updateIndices();n.ctrlKey&&n.keyCode===90&&this.manager.isUndo()||n.ctrlKey&&n.keyCode===89&&this.manager.isRedo()||(y=this.editorTag[0].innerHTML,this.value!==y&&(this.manager.addCmdAction("TextUndo",this.value,y),this.value=y))},n.prototype.updateIndices=function(){var u=this.editorTag,i=u[0].children.length,n,r,t;if(i>0)for(this.indicesTag.empty(),n=0;n<i;n++)r=n+1,t=ej.buildTag("div","",{"padding-right":"4px"},{}),t.attr({id:this.id+"_queryEditor_indices"+n}),this.indicesTag.append(t),$("#"+this.id+"_queryEditor_indices"+n).text(r.toString())},n.prototype.getQuery=function(){var n=this.editorTag;return n[0].innerText.replace(/\r?\n/g,"\n")},n.prototype.setQuery=function(n){var c,r,u,i,f,t,e,l,a,o,s,h;if(this.manager.reset(),this.editorTag.empty(),this.indicesTag.empty(),this.indicesTag[0].children.length||(c=ej.buildTag("div","1",{"padding-right":"4px"},{id:this.id+"_queryEditor_indices0"}),this.indicesTag.append(c)),n.length===0)this.editorTag[0].children.length||(t=ej.buildTag("div.e-reportdesigner-queryEditor","",{},{id:this.id+"_queryEditor_editor0"}),this.editorTag.append(t),t[0].innerHTML="<br>",this.value===""&&(this.value=this.editorTag[0].innerHTML));else for(r=void 0,n?(n=n.replace(/<\/?span[^>]*>/g,""),n=n.replace(/\r?\n/g,"\n"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;")):(n="",r=""),r=this.setKeyword(n),u=r===""?[]:r.split("\n"),i=0;i<u.length;i++)f=this.indicesTag[0].children.length,t=ej.buildTag("div.e-reportdesigner-queryEditor","",{},{id:this.id+"_queryEditor_editor"+i}),t.attr("spellcheck","false"),e=ej.buildTag("div","",{"padding-right":"4px"},{id:this.id+"_queryEditor_indices"+i}),l=this.editorTag[0].children.length,f>=l&&(a=$("#"+this.id+"_queryEditor_indices"+i)[0].innerHTML,o=parseInt(a,10)+1,t[0].innerHTML=u[i]?u[i]:"<br/>",this.editorTag.append(t),o<=u.length&&(e.attr({id:this.id+"_queryEditor_indices"+f}),this.indicesTag.append(e),$("#"+this.id+"_queryEditor_indices"+f).text(o.toString())),s=document.createRange(),s.setStart(t[0],t.length),h=window.getSelection(),h.removeAllRanges(),h.addRange(s))},n.prototype.setHTML=function(n){this.editorTag[0].innerHTML=n;this.updateIndices()},n.prototype.scrollLeft=function(){var n=this.editorTag.scrollTop();this.indicesTag.scrollTop(n)},n.prototype.onEditorKeyPress=function(n){var o=n.keyCode?n.keyCode:n.which,e,u,t,r,i,f;if(o===13){for(e=this.editorTag[0].children,u=0;u<e.length;u++)if(t=e[u].childNodes,t.length>1)for(r=0;r<t.length;r++)t&&t[r].localName==="br"&&(i=t[r],f=ej.buildTag("div.e-reportdesigner-queryEditor","",{},{}),f[0].innerHTML=i.textContent===""?"<br>":i.textContent,this.editorTag.append(f),f.insertAfter(i.parentNode),i.parentNode.removeChild(i));this.updateDivIndices();this.updateIndices()}},n.prototype.updateDivIndices=function(){for(var t=this.editorTag[0].children,n=0;n<t.length;n++)t[n].id=this.id+"_queryEditor_editor"+n},n.prototype.updateText=function(n){var u=n,i=u.innerHTML,r;n.id===this.id+"_queryEditor_editor"?this.setQuery(i==="<br>"?"":i):n.innerHTML=this.setKeyword(i);var f=document.createRange(),e=this.getCaretPosition(n),t=this.getChildElement(n,e);ej.isNullOrUndefined(t)||t.Element.nodeName==="SPAN"||(f.setStart(t.Element,t.Position),r=window.getSelection(),r.removeAllRanges(),r.addRange(f),u.focus())},n.prototype.getChildElement=function(n,t){for(var u,r=0,i=0;i<n.childNodes.length;i++){if(u=n.childNodes[i].textContent.length,r+u>t)return{Element:n.childNodes[i],Position:t-r};r+=u}if(n.childNodes.length===1)return{Element:n.childNodes[0],Position:t}},n.prototype.getCaretPosition=function(n){var e=0,i=n.ownerDocument||n.document,o=i.defaultView||i.parentWindow,t,r,u,s,f;return typeof o.getSelection!="undefined"?(t=o.getSelection(),t.rangeCount>0&&(r=o.getSelection().getRangeAt(0),u=r.cloneRange(),u.selectNodeContents(n),u.setEnd(r.endContainer,r.endOffset),e=u.toString().length)):t===i.selection&&t.type!=="Control"&&(s=t.createRange(),f=i.body.createTextRange(),f.moveToElementText(n),f.setEndPoint("EndToEnd",s),e=f.text.length),e},n.prototype.setKeyword=function(n){n=n.replace(/<\/?span[^>]*>/g,"");return $.each(["ADD","EXCEPT","ALTER","EXEC","SELECT","PLAN","EXECUTE","PRECISION","AND","EXISTS","PRIMARY","AN","EXI","PRINT","AS","FETCH","PROC","ASC","FILE","PROCEDURE","AUTHORIZATION","FILLFACTOR","PUBLIC","BACKUP"," FOR","RAISERROR","BEGIN","FOREIGN","READ","BETWEEN","FREETEXT","READTEXT","BREAK","FREETEXTTABLE","RECONFIGURE","BROWSE,","FROM","REFERENCES","BULK","FULL","REPLICATION","BY","FUNCTION","RESTORE","CASCADE","GOTO","RESTRICT","CASE","GRANT","RETURN","CHECK","GROUP","REVOKE","CHECKPOINT","HAVING","RIGHT","CLOSE","HOLDLOCK","ROLLBACK","CLUSTERED","IDENTITY","ROWCOUNT","COALESCE","IDENTITY_INSERT","ROWGUIDCOL","LIKE","THEN","CURRENT_TIMESTAMP","LINENO","TO","CURRENT_USER","LOAD","TOP","CURSOR","NATIONAL","TRAN","DATABASE","NOCHECK","TRANSACTION","DBCC","NONCLUSTERED","TRIGGER","DEALLOCATE","NOT","TRUNCATE","DECLARE","NULL","TSEQUAL","DEFAULT","NULLIF","UNION","DELETE","OF","UNIQUE","DENY","OFF","UPDATE","DESC","OFFSETS","UPDATETEXT","DISK","ON","USE","DISTINCT","OPEN","USER","DISTRIBUTED","OPENDATASOURCE","VALUES","DOUBLE","OPENQUERY","VARYING","DROP","OPENROWSET","VIEW","DUMMY","OPENXML","WAITFOR","DUMP","OPTION","WHEN","ELSE","OR","WHERE","END","ORDER","WHILE","ERRLVL","OUTER","WITH","ESCAPE","OVER","WRITETEXT","ABSOLUTE","FOUND","PRESERVE","ACTION","FREE","PRIOR","ADMIN","GENERAL","PRIVILEGES","AFTER","GET","READS","AGGREGATE","GLOBAL","REAL","ALIAS","GO","RECURSIVE","ALLOCATE","GROUPING","REF","ARE","HOST","REFERENCING","ARRAY","HOUR","RELATIVE","ASSERTION","IGNORE","RESULT","AT","IMMEDIATE","RETURNS","BEFORE","INDICATOR","ROLE","BINARY","INITIALIZE","ROLLUP","BIT","INITIALLY","ROUTINE","BLOB","INOUT","ROW","BOOLEAN","INPUT","ROWS","BOTH","INT","SAVEPOINT","BREADTH","INTEGER","SCROLL","CALL","INTERVAL","SCOPE","CASCADED","ISOLATION","SEARCH","CAST","ITERATE","SECOND","CATALOG","LANGUAGE","SECTION","CHAR","LARGE","SEQUENCE","CHARACTER","LAST","SESSION","LATERAL","SETS","CLOB","LEADING","SIZE","COLLATION","LESS","SMALLINT","COMPLETION","LEVEL","SPACE","CONNECT","LIMIT","SPECIFIC","CONNECTION","LOCAL","SPECIFICTYPE","CONSTRAINTS","LOCALTIME","SQL","CONSTRUCTOR","LOCALTIMESTAMP","SQLEXCEPTION","CORRESPONDING","LOCATOR","SQLSTATE","CUBE","MAP","SQLWARNING","CURRENT_PATH","MATCH","START","CURRENT_ROLE","MINUTE","STATE","CYCLE","MODIFIES","STATEMENT","DATA","MODIFY","STATIC","DATE","MODULE","STRUCTURE","DAY","MONTH","TEMPORARY","DEC","NAMES","TERMINATE","DECIMAL","NATURAL","THAN","DEFERRABLE","NCHAR","TIME","DEFERRED","NCLOB","TIMESTAMP","DEPTH","NEW","TIMEZONE_HOUR","DEREF","NEXT","TIMEZONE_MINUTE","DESCRIBE","NO","TRAILING","DESCRIPTOR","NONE","TRANSLATION","DESTROY","NUMERIC","TREAT","DESTRUCTOR","OBJECT","TRUE","DETERMINISTIC","OLD","UNDER","DICTIONARY","ONLY","UNKNOWN","DIAGNOSTICS","OPERATION","UNNEST","DISCONNECT","ORDINALITY","USAGE","DOMAIN","OUT","USING","DYNAMIC","OUTPUT","VALUE","EACH","PAD","VARCHAR","END - EXEC","PARAMETER","VARIABLE","EQUALS","PARAMETERS","WHENEVER","EVERY","PARTIAL","WITHOUT","EXCEPTION","PATH","WORK","EXTERNAL","POSTFIX","WRITE","PREFIX","YEAR","FIRST","PREORDER","ZONE","FLOAT","PREPARE","ADA","AVG","BIT_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","COUNT","EXTRACT","FORTRAN","INCLUDE","INSENSITIVE","LOWER","MAX","MIN","OCTET_LENGTH","OVERLAPS","PASCAL","POSITION","SQLCA","SQLCODE","SQLERROR","SUBSTRING","SUM","TRANSLATE","TRIM","UPPER"],function(t,i){var r=new RegExp("\\b("+i+")\\b","gi");n=n.replace(r,function(n){return'<span class="e-reportdesigner-queryEditor" style="color:blue;">'+n+"<\/span>"})}),n},n}();SqlEditorUndoManager=function(){function n(){this.stack=[];this.currentIndex=-1;this.stack=[];this.id=ej.DashboardUtil.getInstance().ejInstance._id}return n.prototype.isUndo=function(){return this.currentIndex>=0},n.prototype.undo=function(){if(this.currentIndex>=0){var n=this.stack[this.currentIndex];ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getQueryInstance("SqlEditor"),"setHTML",[n.oldVal]);this.currentIndex--}},n.prototype.isRedo=function(){return this.currentIndex<this.stack.length-1},n.prototype.redo=function(){this.currentIndex++;var n=this.stack[this.currentIndex];ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getQueryInstance("SqlEditor"),"setHTML",[n.newVal])},n.prototype.addCmdAction=function(n,t,i){this.stack.push({action:n,oldVal:t,newVal:i});this.currentIndex++},n.prototype.reset=function(){this.currentIndex=-1;this.stack=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.SqlEditor",InternalSqlEditor,window);InternalStoreParameter=function(){function n(){this.id=null;this.parameters=[];this.queryDesigner=ej.DashboardUtil.getQueryInstance("QueryDesigner");this.id=this.queryDesigner.id;this.renderStoreParameter()}return Object.defineProperty(n,"StoreParameter",{get:function(){return(this.storeParameter===null||this.storeParameter===undefined)&&(this.storeParameter=new ej.DashboardDesignerUtility.StoreParameter),this.storeParameter},enumerable:!0,configurable:!0}),n.prototype.renderStoreParameter=function(){var u=ej.buildTag("div.e-userselect","",{display:"block"},{title:"Parameters",id:this.id+"_parameter_dialog"}),f=ej.buildTag("div","",{height:"280px",width:"100%",margin:"4px 0px"}),n=ej.buildTag("div.e-reportdesigner-scroller","",{border:"0.5px solid #c9cbcc","border-radius":"2px",height:"280px",width:"100%","background-color":"white"},{id:this.id+"_topDiv_parameter_dialog"}),e=ej.buildTag("div","",{},{}),o=ej.buildTag("table.e-designer-exp-table","",{padding:"0px 8px"},{id:this.id+"_proc_parameters"}),t,i,r;e.append(o);n.append(e);f.append(n);u.append(f);t=ej.buildTag("button","Cancel",{float:"right"},{id:this.id+"_proc_btn_cancel"});i=ej.buildTag("button","Ok",{float:"right"},{id:this.id+"_proc_btn_save"});u.ejDialog({minWidth:570,minHeight:230,height:"auto",width:"auto",target:"#"+this.id,enableResize:!1,showFooter:!0,cssClass:"e-designer-dialog",showOnInit:!1,enableModal:!0});r=$("#"+this.id+"_parameter_dialog_foot");r.append(t);r.append(i);i.ejButton({cssClass:"e-designer-okbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.doneProcDialog,this)});t.ejButton({cssClass:"e-designer-cancelbtn",showRoundedCorner:!1,size:"mini",click:$.proxy(this.closeProcDialog,this)});n.ejScroller({height:"280px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0})},n.prototype.closeProcDialog=function(){$("#"+this.id+"_parameter_dialog").data("ejDialog").close()},n.prototype.doneProcDialog=function(){var n=this.getProcParams();n&&n.length>0&&($("#"+this.id+"_div_dragSurface .e-Procedures").length>0?this.queryDesigner.executeQuery():this.queryDesigner.loadProcedureSchema());$("#"+this.id+"_parameter_dialog").data("ejDialog").close()},n.prototype.getProcParams=function(){var t=[],r,u;if(this.parameters&&(r=Object.keys(this.parameters),r.length>0)){for(u=0;u<r.length;u++){var n=this.parameters[r[u]],i=n.Name.substring(1),f=$("#"+this.id+"_chk_"+i).data("ejCheckBox");f.isChecked()?t.push({Name:n.Name,IsNull:!0,DataType:n.DataType,Value:""}):n.DataType==="bit"?t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:$("#"+this.id+"_proc_"+i).data("ejCheckBox").isChecked()}):ej.DashboardUtil.contains("datetime",n.DataType,!0)?t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:$("#"+this.id+"_proc_"+i).data("ejDateTimePicker").getValue()}):ej.DashboardUtil.contains("date",n.DataType,!0)?t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:$("#"+this.id+"_proc_"+i).data("ejDatePicker").getValue()}):ej.DashboardUtil.contains("int",n.DataType,!0)||n.DataType==="numeric"?t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:parseInt($("#"+this.id+"_proc_"+i).val(),10)}):ej.DashboardUtil.contains("money",n.DataType,!0)||n.DataType==="float"||n.DataType==="decimal"?t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:parseFloat($("#"+this.id+"_proc_"+i).val())}):t.push({Name:n.Name,IsNull:!1,DataType:n.DataType,Value:$("#"+this.id+"_proc_"+i).val()})}return t}return null},n.prototype.setParameter=function(n){var t,i,r;if(n&&n.length>0)for(t=0;t<n.length;t++)i=n[t].Name.substring(1),r={id:this.id+"_proc_"+i,dataType:n[t].DataType},this.checkNullable(r,{isChecked:n[t].IsNull}),n[t].IsNull||(n[t].DataType==="bit"?$("#"+this.id+"_proc_"+i).data("ejCheckBox").setModel({checked:n[t].Value===!0}):ej.DashboardUtil.contains("int",n[t].DataType,!0)?$("#"+this.id+"_proc_"+i).val(n[t].Value):ej.DashboardUtil.contains("datetime",n[t].DataType,!0)?$("#"+this.id+"_proc_"+i).data("ejDateTimePicker").setModel({value:n[t].Value}):ej.DashboardUtil.contains("date",n[t].DataType,!0)?$("#"+this.id+"_proc_"+i).data("ejDatePicker").setModel({value:n[t].Value}):$("#"+this.id+"_proc_"+i).val(n[t].Value))},n.prototype.renderParameter=function(n,t){var i=n.Name.substring(1),o=ej.buildTag("tr","",{height:"36px"}),a=ej.buildTag("td",n.Name,{height:"30px",width:"150px"}),v=ej.buildTag("td",n.DataType,{height:"30px",width:"100px"}),s=ej.buildTag("td","",{height:"30px",width:"100px"}),r=ej.buildTag("td","",{height:"30px",width:"150px"}),h=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_chk_"+i}),u,c,f,e,l;o.append(a).append(v).append(s).append(r);t.append(o);s.append(h);h.ejCheckBox({change:$.proxy(this.checkNullable,this,{id:this.id+"_proc_"+i,dataType:n.DataType}),showRoundedCorner:!0,cssClass:"e-designer-border"});n.DataType==="bit"?(u=ej.buildTag("input","",{},{type:"checkbox",id:this.id+"_proc_"+i}),r.append(u),u.ejCheckBox({showRoundedCorner:!0,cssClass:"e-designer-border"})):ej.DashboardUtil.contains("int",n.DataType,!0)||ej.DashboardUtil.contains("money",n.DataType,!0)||n.DataType==="float"||n.DataType==="numeric"||n.DataType==="decimal"?(c=ej.buildTag("input.e-textbox e-animation e-designer-border","",{height:"25px",width:"140px"},{type:"text",id:this.id+"_proc_"+i}),r.append(c)):ej.DashboardUtil.contains("datetime",n.DataType,!0)?(f=ej.buildTag("input","",{"font-style":"normal"},{type:"text",id:this.id+"_proc_"+i}),r.append(f),f.ejDateTimePicker({width:"100%",height:"30px",cssClass:"e-designer-border"})):ej.DashboardUtil.contains("date",n.DataType,!0)?(e=ej.buildTag("input","",{"font-style":"normal"},{type:"text",id:this.id+"_proc_"+i}),r.append(e),e.ejDatePicker({width:"100%",height:"30px",showRoundedCorner:!0,cssClass:"e-designer-border"})):(l=ej.buildTag("input.e-textbox e-animation e-designer-border","",{height:"25px",width:"140px"},{type:"text",id:this.id+"_proc_"+i}),r.append(l))},n.prototype.renderProcParameters=function(n){var i=$("#"+this.id+"_proc_parameters"),t,e;i.empty();var f=ej.buildTag("tr"),o=ej.buildTag("td","<b>Parameter<\/b>",{height:"30px",width:"150px"}),s=ej.buildTag("td","<b>DataType<\/b>",{height:"30px",width:"100px"}),h=ej.buildTag("td","<b>Null<\/b>",{height:"30px",width:"100px"}),c=ej.buildTag("td","<b>Value<\/b>",{height:"30px",width:"150px"}),r=this.queryDesigner.dbSchema.Schemas[n.schema][n.viewType][n.name],u=Object.keys(r);if(u.length>0){for(this.parameters=r,f.append(o).append(s).append(h).append(c),i.append(f),t=0;t<u.length;t++)e=r[u[t]],this.renderParameter(e,i);return!0}return this.parameters=null,!1},n.prototype.checkNullable=function(n,t){n.dataType==="bit"?t.isChecked?$("#"+n.id).data("ejCheckBox").disable():$("#"+n.id).data("ejCheckBox").enable():ej.DashboardUtil.contains("datetime",n.dataType,!0)?t.isChecked?$("#"+n.id).data("ejDateTimePicker").disable():$("#"+n.id).data("ejDateTimePicker").enable():ej.DashboardUtil.contains("date",n.dataType,!0)?t.isChecked?$("#"+n.id).data("ejDatePicker").disable():$("#"+n.id).data("ejDatePicker").enable():t.isChecked?$("#"+n.id).attr("disabled","disabled"):$("#"+n.id).removeAttr("disabled")},n.prototype.showParameterDialog=function(){$("#"+this.id+"_parameter_dialog").data("ejDialog").open();$("#"+this.id+"_topDiv_parameter_dialog").height()>$("#"+this.id+"_proc_parameters").height()?$("#"+this.id+"_proc_parameters").css("padding","0px 12px"):$("#"+this.id+"_proc_parameters").css("padding","0px 8px");$("#"+this.id+"_topDiv_parameter_dialog").data("ejScroller")!==null&&$("#"+this.id+"_topDiv_parameter_dialog").data("ejScroller").refresh()},n}();window.ej.createObject("ej.DashboardDesignerUtility.StoreParameter",InternalStoreParameter,window);InternalSubReportItem=function(){function n(){this.subReportJson=null;this.propertyPanel=null;this.id=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.id=this.designPanel.designId;this.isDataEnabled=!1}return n.prototype.renderSubReportItemElement=function(n,t){try{this.subReportJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(this.subReportJson.Left.size),top:ej.DashboardUtil.getPixelVal(this.subReportJson.Top.size),width:ej.DashboardUtil.getPixelVal(this.subReportJson.Width.size),height:ej.DashboardUtil.getPixelVal(this.subReportJson.Height.size)};this.renderSubReportElement(u,r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.subReportDiv)}catch(i){this.designPanel.logError({Source:this.subReportJson.Name,Error:i,Type:i.name})}},n.prototype.renderSubReportItem=function(n,t){try{this.subReportJson=this.getSubReportJson();this.subReportJson.Name=ejDashboardDesigner.getAvailableName("e-subreport");n.width=200;n.height=100;var r=$("#"+t);this.renderSubReportElement(n,r);this.subReportJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.subReportJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.subReportJson.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.subReportJson.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in");this.designPanel.performItemSelection(this.subReportDiv);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderSubReportItem","e-subreport",this.subReportJson.Name,null,[n,t])}catch(i){this.designPanel.logError({Source:this.subReportJson.Name,Error:i,Type:i.name})}},n.prototype.renderSubReportElement=function(n,t){this.subReportDiv=ej.buildTag("div.e-subreport e-reportitem","",{left:n.left,top:n.top,width:n.width,height:n.height,position:"absolute",border:"1px solid none","background-image":'url(" contents/images/Picture.png ")',"background-repeat":"no-repeat","background-size":"100% 100%",display:"block","background-color":"rgba(211, 211, 211, 1)"},{id:this.subReportJson.Name,Name:this.subReportJson.Name,isDataEnabled:this.isDataEnabled});var i=ej.buildTag("span.e-designer-fontfamily",this.subReportJson.ReportName!==""?this.subReportJson.ReportName:"&#60Subreport&#62",{width:this.subReportDiv.width(),height:this.subReportDiv.height(),position:"absolute","word-break":"break-all","align-items":"center",display:"flex","justify-content":"center",overflow:"hidden"},{id:this.id+"_"+this.subReportJson.Name+"_reportname"});this.subReportDiv.append(i);t.append(this.subReportDiv);this.subReportDiv.data("SubReport",this)},n.prototype.updateSubReportTop=function(n){this.subReportJson.Top.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportDiv.css("top",n)},n.prototype.updateSubReportLeft=function(n){this.subReportJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportDiv.css("left",n)},n.prototype.updateSubReportHeight=function(n){this.subReportJson.Height.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportDiv.css("height",n);this.designPanel.updateWidgetSelectionBox(this.subReportDiv);$("#"+this.id+"_"+this.subReportJson.Name+"_reportname").css("height",n);this.updateReportNameTag()},n.prototype.updateSubReportWidth=function(n){this.subReportJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportDiv.css("width",n);this.designPanel.updateWidgetSelectionBox(this.subReportDiv);$("#"+this.id+"_"+this.subReportJson.Name+"_reportname").css("width",n);this.updateReportNameTag()},n.prototype.updateBorderColor=function(n,t){n&&(n.Color=t)},n.prototype.updateBorderWidth=function(n,t){var i=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t;ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.Width)?n.Width={__type:"Syncfusion.RDL.DOM.Size",size:i}:n.Width.size=i},n.prototype.updateBorderStyle=function(n,t){n&&(n.Style=t)},n.prototype.updatePadding=function(n,t){n&&(n.size=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t)},n.prototype.updateFontFamily=function(n){this.subReportJson.Style.FontFamily=n},n.prototype.updateFontSize=function(n){this.subReportJson.Style.FontSize&&(this.subReportJson.Style.FontSize.size=ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getUnitVal(n,"pt"):n)},n.prototype.updateFontStyle=function(n){this.subReportJson.Style.FontStyle=n},n.prototype.updateFontWeight=function(n){this.subReportJson.Style.FontWeight=n},n.prototype.updateTextDecoration=function(n){this.subReportJson.Style.TextDecoration=n},n.prototype.updateColor=function(n){this.subReportJson.Style.Color=n},n.prototype.updateFormat=function(n){this.subReportJson.Style.Format=n.format;this.subReportJson.Style.FormatType=n.formatType},n.prototype.updateLineHeight=function(n){this.subReportJson.Style.LineHeight&&(this.subReportJson.Style.LineHeight.size=ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getUnitVal(n,"pt"):n)},n.prototype.updateWritingMode=function(n){this.subReportJson.Style.WritingMode=n},n.prototype.updateTextAlign=function(n,t){this.subReportJson.Style.TextAlign=t},n.prototype.updateVerticalAlign=function(n,t){this.subReportJson.Style.VerticalAlign=t},n.prototype.updateKeepToGether=function(n){this.subReportJson.KeepToGether=n},n.prototype.updateName=function(n){this.subReportJson.Name=n},n.prototype.updateReportName=function(n){this.subReportJson.ReportName=n;var t=$("#"+this.id+"_"+this.subReportJson.Name+"_reportname");t.text(n===""?"<Subreport>":n);this.updateReportNameTag()},n.prototype.updateReportNameTag=function(){var n=$("#"+this.id+"_"+this.subReportJson.Name+"_reportname");n.prop("scrollHeight")>n.innerHeight()?n.css({"align-items":"baseline"}):n.css("align-items","center")},n.prototype.UpdateSubReportVisiblity=function(n){this.subReportJson.Visibility!==null?this.subReportJson.Visibility.Hidden=!n:this.subReportJson.Visibility={Hidden:!n}},n.prototype.updateNoRowsMessage=function(n){this.subReportJson.NoRowsMessage=n},n.prototype.updatePropertyChange=function(n,t,i,r){switch(n){case"Height":this.updateSubReportHeight(i);break;case"Width":this.updateSubReportWidth(i);break;case"Left":this.updateSubReportLeft(i);break;case"Top":this.updateSubReportTop(i);break;case"BorderColorDefault":this.subReportJson.Style.Border||(this.subReportJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderColor(this.subReportJson.Style.Border,i);break;case"BorderColorLeft":this.subReportJson.Style.LeftBorder||(this.subReportJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderColor(this.subReportJson.Style.LeftBorder,i);break;case"BorderColorRight":this.subReportJson.Style.RightBorder||(this.subReportJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderColor(this.subReportJson.Style.RightBorder,i);break;case"BorderColorTop":this.subReportJson.Style.TopBorder||(this.subReportJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderColor(this.subReportJson.Style.TopBorder,i);break;case"BorderColorBottom":this.subReportJson.Style.BottomBorder||(this.subReportJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderColor(this.subReportJson.Style.BottomBorder,i);break;case"BorderWidthDefault":this.subReportJson.Style.Border||(this.subReportJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderWidth(this.subReportJson.Style.Border,i);break;case"BorderWidthLeft":this.subReportJson.Style.LeftBorder||(this.subReportJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderWidth(this.subReportJson.Style.LeftBorder,i);break;case"BorderWidthRight":this.subReportJson.Style.RightBorder||(this.subReportJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderWidth(this.subReportJson.Style.RightBorder,i);break;case"BorderWidthTop":this.subReportJson.Style.TopBorder||(this.subReportJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderWidth(this.subReportJson.Style.TopBorder,i);break;case"BorderWidthBottom":this.subReportJson.Style.BottomBorder||(this.subReportJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderWidth(this.subReportJson.Style.BottomBorder,i);break;case"BorderStyleDefault":this.subReportJson.Style.Border||(this.subReportJson.Style.Border=this.rdlParser.createBorder(""));this.updateBorderStyle(this.subReportJson.Style.Border,i);break;case"BorderStyleLeft":this.subReportJson.Style.LeftBorder||(this.subReportJson.Style.LeftBorder=this.rdlParser.createBorder("Left"));this.updateBorderStyle(this.subReportJson.Style.LeftBorder,i);break;case"BorderStyleRight":this.subReportJson.Style.RightBorder||(this.subReportJson.Style.RightBorder=this.rdlParser.createBorder("Right"));this.updateBorderStyle(this.subReportJson.Style.RightBorder,i);break;case"BorderStyleTop":this.subReportJson.Style.TopBorder||(this.subReportJson.Style.TopBorder=this.rdlParser.createBorder("Top"));this.updateBorderStyle(this.subReportJson.Style.TopBorder,i);break;case"BorderStyleBottom":this.subReportJson.Style.BottomBorder||(this.subReportJson.Style.BottomBorder=this.rdlParser.createBorder("Bottom"));this.updateBorderStyle(this.subReportJson.Style.BottomBorder,i);break;case"PaddingLeft":this.updatePadding(this.subReportJson.Style.PaddingLeft,i);break;case"PaddingRight":this.updatePadding(this.subReportJson.Style.PaddingRight,i);break;case"PaddingTop":this.updatePadding(this.subReportJson.Style.PaddingTop,i);break;case"PaddingBottom":this.updatePadding(this.subReportJson.Style.PaddingBottom,i);break;case"KeepTogether":this.updateKeepToGether(i);break;case"Name":this.updateName(i);break;case"Report":this.updateReportName(i);break;case"Hidden":this.UpdateSubReportVisiblity(i);break;case"Parameter":this.subReportJson.Parameters=i;break;case"FontFamily":this.updateFontFamily(i);break;case"FontSize":this.updateFontSize(i);break;case"FontStyle":this.updateFontStyle(i);break;case"FontWeight":this.updateFontWeight(i);break;case"TextDecoration":this.updateTextDecoration(i);break;case"Color":this.updateColor(i);break;case"Format":this.updateFormat(i);break;case"LineHeight":this.updateLineHeight(i);break;case"WritingMode":this.updateWritingMode(i);break;case"TextAlign":this.updateTextAlign(this.subReportJson.Style.TextAlign,i);break;case"VerticalAlign":this.updateVerticalAlign(this.subReportJson.Style.VerticalAlign,i);break;case"NoRowsMessage":this.updateNoRowsMessage(i)}if(ejDashboardDesigner.editManager.isPerformAction){var u=$.extend(!0,{},r);u.categoryName=r.categoryName;u.valueList=r.valueList;this.propertyPanel.updatePropertyValue(u,"SubReport",i)}ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-subreport",this.subReportJson.Name,[n,i,t,r],[n,t,i,r])},n.prototype.updatePosition=function(n,t,i){if(i){var r=[ej.DashboardUtil.getPixelVal(this.subReportJson.Left.size),ej.DashboardUtil.getPixelVal(this.subReportJson.Top.size),!0],u=[n,t,!0];this.subReportJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-subreport",this.subReportJson.Name,r,u)}this.subReportDiv.css({left:n,top:t})},n.prototype.updateSize=function(n,t,i){if(i){var r=[ej.DashboardUtil.getPixelVal(this.subReportJson.Width.size),ej.DashboardUtil.getPixelVal(this.subReportJson.Height.size),!0],u=[n,t,!0];this.subReportJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.subReportJson.Height.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Size","Width",n);this.updatePropertyValue("Size","Height",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-subreport",this.subReportJson.Name,r,u)}this.subReportDiv.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.subReportDiv);$("#"+this.id+"_"+this.subReportJson.Name+"_reportname").css({width:n,height:t});this.updateReportNameTag()},n.prototype.updateItemSize=function(n,t,i,r,u){if(u){var f=[ej.DashboardUtil.getPixelVal(this.subReportJson.Left.size),ej.DashboardUtil.getPixelVal(this.subReportJson.Top.size),ej.DashboardUtil.getPixelVal(this.subReportJson.Width.size),ej.DashboardUtil.getPixelVal(this.subReportJson.Height.size),!0],e=[n,t,i,r,!0];this.subReportJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.subReportJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.subReportJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.subReportJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.updatePropertyValue("Size","Width",i);this.updatePropertyValue("Size","Height",r);this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-subreport",this.subReportJson.Name,f,e)}this.subReportDiv.css({left:n,top:t,width:i,height:r});this.designPanel.updateWidgetSelectionBox(this.subReportDiv)},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"SubReport",i);this.propertyPanel.canUpdate=!0},n.prototype.getFormat=function(){return{format:this.subReportJson.Style.Format,formatType:this.subReportJson.Style.FormatType}},n.prototype.getPropertyGridItems=function(){return{Header:this.subReportJson.Name,Type:"SubReport",Items:[{CategoryName:"Basic Settings",Items:[{name:"ReportName",value:this.subReportJson.ReportName===null?null:this.subReportJson.ReportName,category:"Report",itemType:"linkreport"},{name:"SetParameters",value:this.subReportJson.Parameters,category:"Parameter",itemType:"linkparameter"}]},{CategoryName:"Appearance",Items:[{name:"Border",displayName:"Border",itemType:"border",items:[{name:"BorderStyleDefault",displayName:"None",value:this.subReportJson.Style.Border?this.subReportJson.Style.Border.Style:"None",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorDefault",displayName:"None",value:this.subReportJson.Style.Border&&this.subReportJson.Style.Border.Color?this.subReportJson.Style.Border.Color:"Transparent",itemType:"color"},{name:"BorderWidthDefault",displayName:"None",value:this.subReportJson.Style.Border&&this.subReportJson.Style.Border.Width?ej.DashboardUtil.isExpression(this.subReportJson.Style.Border.Width.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.Border.Width.size):this.subReportJson.Style.Border.Width.size:ej.DashboardUtil.getPixelVal("1pt"),minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}],childItems:[{name:"LeftBorder",displayName:"Left",itemType:"border",items:[{name:"BorderStyleLeft",displayName:"None",value:this.subReportJson.Style.LeftBorder?this.subReportJson.Style.LeftBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorLeft",displayName:"None",value:this.subReportJson.Style.LeftBorder&&this.subReportJson.Style.LeftBorder.Color?this.subReportJson.Style.LeftBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthLeft",displayName:"None",value:this.subReportJson.Style.LeftBorder&&this.subReportJson.Style.LeftBorder.Width?ej.DashboardUtil.isExpression(this.subReportJson.Style.LeftBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.LeftBorder.Width.size):this.subReportJson.Style.LeftBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"RightBorder",displayName:"Right",itemType:"border",items:[{name:"BorderStyleRight",displayName:"Right",value:this.subReportJson.Style.RightBorder?this.subReportJson.Style.RightBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorRight",displayName:"Right",value:this.subReportJson.Style.RightBorder&&this.subReportJson.Style.RightBorder.Color?this.subReportJson.Style.RightBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthRight",displayName:"Right",value:this.subReportJson.Style.RightBorder&&this.subReportJson.Style.RightBorder.Width?ej.DashboardUtil.isExpression(this.subReportJson.Style.RightBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.RightBorder.Width.size):this.subReportJson.Style.RightBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"TopBorder",displayName:"Top",itemType:"border",items:[{name:"BorderStyleTop",displayName:"Top",value:this.subReportJson.Style.TopBorder?this.subReportJson.Style.TopBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorTop",displayName:"Top",value:this.subReportJson.Style.TopBorder&&this.subReportJson.Style.TopBorder.Color?this.subReportJson.Style.TopBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthTop",displayName:"Top",value:this.subReportJson.Style.TopBorder&&this.subReportJson.Style.TopBorder.Width?ej.DashboardUtil.isExpression(this.subReportJson.Style.TopBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.TopBorder.Width.size):this.subReportJson.Style.TopBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"BottomBorder",displayName:"Bottom",itemType:"border",items:[{name:"BorderStyleBottom",displayName:"Bottom",value:this.subReportJson.Style.BottomBorder?this.subReportJson.Style.BottomBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorBottom",displayName:"Bottom",value:this.subReportJson.Style.BottomBorder&&this.subReportJson.Style.BottomBorder.Color?this.subReportJson.Style.BottomBorder.Color:"Transparent",itemType:"color"},{name:"BorderWidthBottom",displayName:"Bottom",value:this.subReportJson.Style.BottomBorder&&this.subReportJson.Style.BottomBorder.Width?ej.DashboardUtil.isExpression(this.subReportJson.Style.BottomBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.BottomBorder.Width.size):this.subReportJson.Style.BottomBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]}]}]},{CategoryName:"No Rows",Items:[{name:"SubReportFont",displayName:"Font",itemType:"font",items:[{name:"FontFamily",displayName:"None",value:this.subReportJson.Style.FontFamily!=null?this.subReportJson.Style.FontFamily:"",itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"FontColor",displayName:"None",value:this.subReportJson.Style.Color==null?"#000000":this.subReportJson.Style.Color,itemType:"color"},{name:"FontSize",displayName:"None",value:this.subReportJson.Style.FontSize?ej.DashboardUtil.isExpression(this.subReportJson.Style.FontSize.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.FontSize.size):this.subReportJson.Style.FontSize.size:ej.DashboardUtil.getPixelVal("10pt"),minimum:1.33,maximum:206.6,unitType:"pixel",itemType:"float"}]},{name:"SubReportFontStyle",displayName:"Font Style",itemType:"fontStyle",items:[{name:"FontStyle",displayName:"None",value:this.subReportJson.Style.FontStyle!=null?this.subReportJson.Style.FontStyle:"",itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"FontWeight",displayName:"None",value:this.subReportJson.Style.FontWeight!=null?this.subReportJson.Style.FontWeight:"",itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"TextDecoration",displayName:"Text Decoration",value:this.subReportJson.Style.TextDecoration!=null?this.subReportJson.Style.TextDecoration:"",itemType:"dropdown",enableExpression:!1,valueList:["Default","None","Underline","Overline","LineThrough"]},{name:"Format",displayName:"Format",value:this.getFormat(),itemCollections:["Expression"],itemType:"formattext",enableExpression:!1},{name:"LineHeight",displayName:"Line Height",value:this.subReportJson.Style.LineHeight?ej.DashboardUtil.isExpression(this.subReportJson.Style.LineHeight.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.LineHeight.size):this.subReportJson.Style.LineHeight.size:"",minimum:1,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"NoRowsMessage",displayName:"Message",value:this.subReportJson.NoRowsMessage==null?"":this.subReportJson.NoRowsMessage,itemCollections:["Expression"]},{name:"Padding",displayName:"Padding",itemType:"padding",items:[{name:"PaddingLeft",displayName:"Left",value:this.subReportJson.Style.PaddingLeft?ej.DashboardUtil.isExpression(this.subReportJson.Style.PaddingLeft.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.PaddingLeft.size):this.subReportJson.Style.PaddingLeft.size:0,minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingRight",displayName:"Right",value:this.subReportJson.Style.PaddingRight?ej.DashboardUtil.isExpression(this.subReportJson.Style.PaddingRight.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.PaddingRight.size):this.subReportJson.Style.PaddingRight.size:0,minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingTop",displayName:"Top",value:this.subReportJson.Style.PaddingTop?ej.DashboardUtil.isExpression(this.subReportJson.Style.PaddingTop.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.PaddingTop.size):this.subReportJson.Style.PaddingTop.size:0,minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingBottom",displayName:"Bottom",value:this.subReportJson.Style.PaddingBottom?ej.DashboardUtil.isExpression(this.subReportJson.Style.PaddingBottom.size)?ej.DashboardUtil.getPixelVal(this.subReportJson.Style.PaddingBottom.size):this.subReportJson.Style.PaddingBottom.size:0,minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"TextAlign",displayName:"Text Align",value:this.subReportJson.Style.TextAlign!=null?this.subReportJson.Style.TextAlign:"",itemType:"dropdown",enableExpression:!1,valueList:["Default","General","Left","Center","Right"]},{name:"VerticalAlign",displayName:"Vertical Align",value:this.subReportJson.Style.VerticalAlign!=null?this.subReportJson.Style.VerticalAlign:"",itemType:"dropdown",enableExpression:!1,valueList:["Default","Top","Middle","Bottom"]},{name:"WritingMode",displayName:"Writing Mode",value:this.subReportJson.Style.WritingMode==null?"":this.subReportJson.Style.WritingMode,itemType:"dropdown",enableExpression:!1,valueList:["Default","Horizontal","Vertical","Rotate270"]},]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.subReportJson.Visibility&&this.subReportJson.Visibility.Hidden?!this.subReportJson.Visibility.Hidden:!0,itemType:"bool",enableExpression:!1}]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",enableExpression:!1,itemType:"position",items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.subReportJson.Left.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.subReportJson.Top.size),maximum:43680,unitType:"pixel",itemType:"float"}]},{name:"Size",displayName:"Size",enableExpression:!1,itemType:"size",items:[{name:"Width",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.subReportJson.Width.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Height",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.subReportJson.Height.size),maximum:43680,unitType:"pixel",itemType:"float"}]}]},{CategoryName:"Miscellaneous",Items:[{name:"KeepTogether",displayName:"Keep Together",value:this.subReportJson.KeepTogether==null?!0:this.subReportJson.KeepTogether,itemType:"bool",enableExpression:!1,valueList:["True","False"]}]}]}},n.prototype.getReportItem=function(){return this.subReportDiv},n.prototype.getReportItemJson=function(){return this.subReportJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-subreport");this.renderSubReportItemElement(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderSubReportItemElement","e-subreport",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.subReportDiv.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderSubReportItemElement","e-subreport",this.subReportJson.Name,[this.subReportJson,n.attr("id")],null);$("#"+this.subReportJson.Name).removeData("SubReport");$("#"+this.subReportJson.Name).remove();this.designPanel.selectedReportItems=[]},n.prototype.getSubReportJson=function(){return{__type:"Syncfusion.RDL.DOM.SubReport",ReportName:"",Parameters:[],NoRowsMessage:null,MergeTransactions:!1,KeepTogether:!1,OmitBorderOnPageBreak:!1,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"1.33208in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"0.4675in"},Name:"Subreport5",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"1.7825in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"3.91667in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"#000000",Style:"None",Width:null},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n}();window.ej.createObject("ej.DashboardDesignerUtility.SubReportItem",InternalSubReportItem,window);InternalTextBoxReportItem=function(){function n(){this.textBoxJson=null;this.textBoxDiv=null;this.textBoxItem=null;this.textBoxBorder=null;this.textBoxContent=null;this.textBoxSelection=null;this.textRange=null;this.contextMenu=null;this.contextMenuObj=null;this.contextMenuEvents=null;this.isMouseUp=!1;this.keyTimeOut=0;this.propertyPanelTimeOut=0;this.previousContent="<p><span><\/span><\/p>";this.isReportItemDrop=!1;this.browserInfo=ej.browserInfo();this.editorManager=null;this.toolBar=null;this.undoManager=null;this.rdlParser=null;this.propertyPanel=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.rdlParser=ejDashboardDesigner.getInstance("RDLParser");this.undoManager=ejDashboardDesigner.getInstance("UndoManager");this.toolBar=this.designPanel.reportDesigner.rptToolbar;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.isDataEnabled=!1}return n.prototype.renderReportItem=function(n,t,i,r){var f=$("#"+t),u;this.textBoxJson=this.createTextBoxJson();this.textBoxJson.Name=this.getTextBoxName(i,r);n=this.isReportDataDrop(i,r)?{left:n.left,top:n.top,width:130,height:25}:{left:n.left,top:n.top,width:200,height:50};this.renderTextBoxItem(n,f);this.textBoxJson.Left.size=ej.DashboardUtil.getUnitVal(n.left,"in");this.textBoxJson.Top.size=ej.DashboardUtil.getUnitVal(n.top,"in");this.textBoxJson.Width.size=ej.DashboardUtil.getUnitVal(n.width,"in");this.textBoxJson.Height.size=ej.DashboardUtil.getUnitVal(n.height,"in");this.isReportDataDrop(i,r)?(u="",u=ej.isNullOrUndefined(r.className)||r.className!=="e-parameter"?"=First(Fields!"+r.fields.Name+'.Value, "'+i+'")':"=Parameters!"+i+".Value",this.textBoxContent.html("<p><span>«Expr»<\/span><\/p>"),this.textBoxContent.find("span").attr("data-exp",u),this.textBoxContent.attr({contenteditable:"false"}),this.textBoxJson.Paragraphs[0].TextRuns[0].Value=u,this.designPanel.performItemSelection(this.textBoxDiv),this.previousContent=this.textBoxContent.html()):(this.isReportItemDrop=!0,this.textBoxContent.attr({contenteditable:"true"}),ejDashboardDesigner.editManager.isPerformAction||(this.designPanel.performItemSelection(this.textBoxDiv),this.editableTextBoxState(!0)),this.isReportItemDrop=!1);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderReportItem","e-textboxitem",this.textBoxJson.Name,null,[n,t,i,r])},n.prototype.openReportItem=function(n,t){try{this.textBoxJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t),u={left:ej.DashboardUtil.getPixelVal(n.Left.size),top:ej.DashboardUtil.getPixelVal(n.Top.size),width:ej.DashboardUtil.getPixelVal(n.Width.size),height:ej.DashboardUtil.getPixelVal(n.Height.size)};this.renderTextBoxItem(u,r);this.textBoxContent.attr({contenteditable:"false"});this.openTextBoxItem(this.textBoxJson);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.textBoxDiv)}catch(i){this.designPanel.logError({Source:this.textBoxJson.Name,Error:i,Type:i.name})}},n.prototype.renderTextBoxItem=function(n,t){this.textBoxDiv=ej.buildTag("div.e-textboxitem e-reportitem","",{left:n.left,top:n.top,width:n.width,height:n.height,position:"absolute","background-color":"transparent",border:"1px dotted gray","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"},{id:this.textBoxJson.Name,Name:this.textBoxJson.Name,isDataEnabled:this.isDataEnabled});this.textBoxItem=ej.buildTag("div.content-iframe","",{width:"100%",height:"100%",position:"absolute",border:"1pt none lightgrey","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.textBoxJson.Name+"_textBoxItem"});this.textBoxBorder=ej.buildTag("div","",{width:"100%",height:"100%",padding:"2pt",border:"1px none #dfdfdf"},{id:this.textBoxJson.Name+"_textBoxBorder"});this.textBoxContent=ej.buildTag("div.content-iframe-body","",{width:"100%",height:"100%","overflow-x":"hidden","overflow-y":"hidden"},{id:this.textBoxJson.Name+"_textBoxContent",spellcheck:"false"});this.textBoxContent.html("<p><span><\/span><\/p>");this.textBoxBorder.append(this.textBoxContent);this.textBoxItem.append(this.textBoxBorder);this.textBoxDiv.append(this.textBoxItem);t.append(this.textBoxDiv);this.textBoxBorder.append($("<style type='text/css'>  #"+this.textBoxJson.Name+"_textBoxBorder:first-child { width: 100%; height: 100%; margin: 0px; position: absolute; color: black; font-family: Arial; font-size: 10pt; box-sizing: border-box; word-wrap: break-word; cursor: auto;} #"+this.textBoxJson.Name+"_textBoxBorder p { margin: 0px; } #"+this.textBoxJson.Name+"_textBoxBorder p :empty { display: block;} <\/style>"));this.isIe()||this.textBoxContent.find("p:first").css({"min-height":"1em"});this.textBoxDiv.data("TextBox",this);this.wireEvents();this.contextMenu=["Cut","Copy","Paste","|","Expression"];this.contextMenuObj=this.createContextMenu().data("ejMenu");this.editorManager=new ej.DashboardDesignerUtility.EditorManager(this.textBoxContent)},n.prototype.wireEvents=function(){this.textBoxItem.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.onTextBoxMouseDown,this));this.textBoxItem.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onTextBoxMouseUp,this));this.textBoxContent.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.onMouseDown,this));this.textBoxContent.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onMouseUp,this));this.textBoxContent.bind("keydown",$.proxy(this.onKeyDown,this));this.textBoxContent.bind("keyup",$.proxy(this.onKeyUp,this));this.textBoxContent.bind("focusin",$.proxy(this.onFocusIn,this));this.textBoxContent.bind("focusout",$.proxy(this.onFocusOut,this));this.textBoxContent.bind("paste",$.proxy(this.onPaste,this))},n.prototype.designerKeyDown=function(){},n.prototype.onTextBoxMouseDown=function(n){ej.isTouchDevice()||n.preventDefault();this.onMouseDown(n)},n.prototype.onTextBoxMouseUp=function(n){n.preventDefault();this.onMouseUp(n)},n.prototype.onMouseDown=function(n){this.textBoxDiv.hasClass("e-selected-item")&&(this.textBoxContent.attr("contenteditable")==="false"?this.textBoxContent.attr("contenteditable","true"):this.setContentEditable(),ej.isTouchDevice()||n.stopPropagation())},n.prototype.onMouseUp=function(){this.isMouseUp=!0;this.textBoxDiv.hasClass("e-selected-item")&&this.textBoxContent.attr("contenteditable")==="false"&&this.textBoxContent.attr("contenteditable","true");this.isMouseUp=!1},n.prototype.onKeyDown=function(n){var i,t,u,r;if(!n.ctrlKey||n.keyCode!==86){if(n.keyCode===27||n.ctrlKey&&(n.keyCode===90||n.keyCode===89)){if(n.preventDefault(),n.keyCode===27){this.textBoxItem.css("overflow","hidden");this.textBoxContent.css("overflow-y","hidden");i=this.textBoxDiv.css("backgroundColor");this.textBoxBorder.css({"background-color":this.isEmptyColor(i)?"transparent":i,height:"100%","z-index":"1000","border-style":"none"});this.textBoxContent.blur();this.textBoxDiv.focus();this.textBoxSelection=null;this.textRange=null;this.textBoxContent.animate({scrollTop:0},"fast");this.editableTextBoxState(!1);this.invokePropertyPanel();n.stopPropagation();return}}else this.textRange&&this.textRange.commonAncestorContainer&&(this.textRange.commonAncestorContainer.tagName==="P"||this.textRange.commonAncestorContainer.nodeValue==="«Expr»")&&(n.keyCode===8?this.textRange.commonAncestorContainer.nodeValue==="«Expr»"&&(n.preventDefault(),this.performExpressionSelection(n)):(n.keyCode>46&&n.keyCode<91||n.keyCode>=96&&n.keyCode<110||n.keyCode>=186&&n.keyCode<=222)&&this.browserInfo.name!=="webkit"&&(n.preventDefault(),t=null,this.textRange.commonAncestorContainer.tagName==="P"?($(this.textRange.commonAncestorContainer).prev().length>0&&$(this.textRange.commonAncestorContainer).prev().text().length===0&&(u=$(this.textRange.commonAncestorContainer).prev().html(),$(this.textRange.commonAncestorContainer).html(u)),t=$(this.textRange.commonAncestorContainer).find("span:first"),(ej.isNullOrUndefined(t)||t&&t.length===0)&&(t=$(document.createElement("span"))),r=t.text(),ej.DashboardUtil.isEmptyString(r)?t.text(this.isIe()?n.char:n.key):t.text(r+(this.isIe()?n.char:n.key)),this.textRange.commonAncestorContainer.appendChild(t[0])):this.textRange.commonAncestorContainer.nodeValue==="«Expr»"&&(t=$(document.createElement("span")),t.text(this.isIe()?n.char:n.key),this.appendAfter(t[0],this.textRange.commonAncestorContainer.parentNode)),this.textBoxSelection.rangeCount>0&&this.textBoxSelection.removeAllRanges(),this.textRange||(this.textRange=this.getRange()),this.textRange.setStart(t[0],1),this.textRange.collapse(!0),this.textBoxSelection.addRange(this.textRange)));n.stopPropagation()}},n.prototype.onKeyUp=function(n){this.selectionChange(n);(n.keyCode===37||n.keyCode===38||n.keyCode===39||n.keyCode===40)&&this.textBoxSelection&&this.textBoxSelection.focusNode&&this.textBoxSelection.focusNode.textContent==="«Expr»"&&this.textBoxSelection.focusNode.parentNode.tagName==="SPAN"&&this.textRange.startOffset!==0&&this.textRange.endOffset!==0&&this.textRange.startOffset!==6&&this.textRange.endOffset!==6&&this.performExpressionSelection(n);(n.keyCode===13||n.keyCode===8)&&this.textBoxSelection.focusNode.textContent!=="«Expr»"&&$(this.textRange.commonAncestorContainer).closest("span").removeAttr("data-exp");this.updateElementFlow();this.setContentEditable();n.stopPropagation()},n.prototype.onFocusIn=function(){this.textBoxContent.attr("contenteditable")==="true"&&this.setContentEditable()},n.prototype.onFocusOut=function(){this.updateElementFlow();this.saveTextContent(this.previousContent,this.textBoxContent[0].innerHTML)},n.prototype.onPaste=function(n){n.preventDefault();var t="";(n.originalEvent||n).clipboardData?(t=(n.originalEvent||n).clipboardData.getData("text/plain"),document.execCommand("insertText",!1,t)):window.clipboardData&&(t=window.clipboardData.getData("Text"),window.getSelection?window.getSelection().getRangeAt(0).insertNode(document.createTextNode(t)):document.execCommand("paste",!1,t))},n.prototype.setContentEditable=function(){var t;this.textBoxItem.css("overflow","visible");this.textBoxBorder.css({height:"100%"});var i=$(window.top).height()-(this.textBoxDiv.offset().top+2),r=this.textBoxDiv.height(),n=this.textBoxContent[0].scrollHeight+6;n>i?(n=i,this.textBoxContent.css({"overflow-y":"auto"})):(this.textBoxContent.css({"overflow-y":"hidden"}),n=n-3,n<r&&(n=r));t=this.textBoxDiv.css("backgroundColor");this.textBoxBorder.css({height:n,"background-color":this.isEmptyColor(t)?"white":t,"z-index":"1000","border-style":parseFloat(this.textBoxItem.css("height"))<n?"solid":"none"})},n.prototype.appendAfter=function(n,t){t&&t.parentNode&&t.parentNode.insertBefore(n,t.nextSibling)},n.prototype.saveTextContent=function(n,t){this.previousContent!==t&&(ejDashboardDesigner.editManager.isPerformAction&&(this.textBoxContent[0].innerHTML=t),this.saveReportItem(),ejDashboardDesigner.editManager.addCmdAction(CommandAction.TextBoxContentUpdate,"saveTextContent","e-textboxitem",this.textBoxJson.Name,[t,n],[n,t]),this.previousContent=t)},n.prototype.setTextBoxFocus=function(){this.textBoxContent.attr("contenteditable","true");this.textBoxBorder.css("z-index","1000");this.textBoxSelection&&this.textBoxSelection.rangeCount>0&&this.textBoxSelection.removeAllRanges();this.textBoxDiv.focus();this.isReportItemDrop&&(this.textBoxContent.focus(),this.textRange=this.getRange())},n.prototype.removeTextBoxFocus=function(){var n=this.textBoxDiv.css("backgroundColor");this.textBoxItem.css("overflow","hidden");this.textBoxBorder.css({"background-color":this.isEmptyColor(n)?"transparent":n,height:"100%","z-index":""});this.textBoxContent.css("overflow-y","hidden");this.textBoxSelection&&this.textBoxSelection.rangeCount>0&&this.textBoxSelection.removeAllRanges();this.textBoxSelection=null;this.textRange=null;this.textBoxBorder.css("border-style","none");this.textBoxContent.attr("contenteditable","false");this.textBoxContent.animate({scrollTop:0},"fast");this.editableTextBoxState(!1)},n.prototype.selectionChange=function(n){if(this.textRange=this.getRange(),this.textRange){var t=this;this.isMouseUp?n.which!==3&&(this.keyTimeOut&&clearTimeout(this.keyTimeOut),this.keyTimeOut=setTimeout(function(){t.invokePropertyPanel()},1e3)):(this.keyTimeOut&&clearTimeout(this.keyTimeOut),this.keyTimeOut=setTimeout(function(){(n.keyCode===37||n.keyCode===38||n.keyCode===39||n.keyCode===40)&&t.invokePropertyPanel()},1e3))}},n.prototype.performExpressionSelection=function(n){var t=n.target.textContent==="«Expr»"?n.target.childNodes[0]:this.textBoxSelection.focusNode;this.textBoxSelection&&this.textBoxSelection.rangeCount>0&&this.textBoxSelection.removeAllRanges();this.textRange||(this.textRange=this.getRange());this.textRange.selectNode(t);this.textBoxSelection.addRange(this.textRange)},n.prototype.updateElementFlow=function(){var t,i,n,r;this.textBoxContent.find("p").length<1&&this.textBoxContent.append("<p><span><\/span><\/p>");this.textBoxContent[0].childNodes.length>0&&$("div#"+this.textBoxJson.Name+"_textBoxContent > span").length>0&&(t=$.extend(!0,{},$("div#"+this.textBoxJson.Name+"_textBoxContent > span")).text("").append("&#160;"),i=t.html(),$("div#"+this.textBoxJson.Name+"_textBoxContent > span").replaceWith(i));this.browserInfo.name!=="msie"&&this.browserInfo.name!=="webkit"&&(n=this.textBoxContent[0].childNodes[0],n.nodeName==="#text"||this.textBoxContent.find("p:first")&&this.textBoxContent.find("p:first")[0].childNodes[0].nodeName==="#text"?(n.nodeName==="#text"?(this.textBoxContent.find("p:first").find("span:first").text(n.textContent),$(n).remove()):(n=this.textBoxContent.find("p:first")[0].childNodes[0],this.textBoxContent.find("p:first").find("span:first").text(n.textContent),$(this.textBoxContent.find("p:first")[0].childNodes[0]).remove()),this.textRange||(this.textRange=this.getRange()),r=this.textBoxContent[0].firstChild?this.textBoxContent[0].firstChild:document.body,this.textRange.setStart(r,1),this.textRange.collapse(!0),this.textBoxSelection.addRange(this.textRange)):n.tagName==="SPAN"&&this.textBoxContent.find("p").append($(n)))},n.prototype.createContextMenu=function(){var t=ej.buildTag("ul.e-reportdesigner-textbox-context-menu","",{},{id:this.designPanel.designId+"_"+this.textBoxJson.Name+"_contextmenu"}),n=this;return t.ejMenu({menuType:ej.MenuType.ContextMenu,enableSeparator:!0,width:"auto",contextMenuTarget:n.textBoxContent,click:$.proxy(n.onContextMenuClick,n),fields:{dataSource:n.initContextMenu(),id:"id",parentId:"parentId",text:"text",htmlAttribute:"htmlAttr",spriteCssClass:"sprite"},beforeOpen:function(t){if((t.events.which===1||!n.textBoxContent.is(":focus"))&&!ej.isTouchDevice()){t.cancel=!0;return}n.textRange&&n.isIe()&&n.selectRange(n.textRange);n.contextMenuEvents=t.events;ej.isTouchDevice()||n.contextValidation();$(this.element).parent().hide()},open:function(){$(this.element).attr("style","visibility:visible; width:auto; display:block; left:0px; top:0px;");$(this.element).parent().show();n.contextmenuPosition(n.contextMenuEvents);this._showAnimation(this.element,this._showAnim);$(this.element).focus()}}),t},n.prototype.initContextMenu=function(){for(var i,t=[],n=0;n<this.contextMenu.length;n++)this.contextMenu[n]!=="|"&&(i=this.contextMenu[n].toLowerCase()==="expression"?"e-toolbarfonticonbasic e-reportdesigner-expression":"e-toolbarfonticonbasic e-reportdesigner-toolbar-"+this.contextMenu[n].toLowerCase(),t.push({id:this.contextMenu[n],parentId:null,text:this.contextMenu[n],sprite:i,htmlAttr:this.contextMenu[n+1]!=="|"?{id:this.contextMenu[n]}:{"class":"e-reportdesigner-contextmenu-separator",id:this.contextMenu[n]}}));return t},n.prototype.contextmenuPosition=function(n){var r=this.contextMenuObj.element,i=ej.isNullOrUndefined(n.clientX)?0:n.clientX,t=ej.isNullOrUndefined(n.clientY)?0:n.clientY,u=r.attr("style","visibility: visible; display:block;").height(),f=r.width(),e;i=i+f<$(document).scrollLeft()+$(window).width()?i:i-f;t=t+u<$(document).scrollTop()+$(window).height()?t:t-u<0?t:t-u;e="left:"+i+"px; top:"+t+"px; width:auto; z-index:16777200";r.attr("style",e).focus()},n.prototype.onContextMenuClick=function(n){var t=n.ID?n.ID.toLowerCase():$(n.element).attr("id").toLowerCase(),i,r,u;this.textRange&&this.selectRange(this.textRange);switch(t){case"cut":document.execCommand(t,!1,undefined);break;case"copy":document.execCommand(t,!1,undefined);break;case"paste":this.isIe()?(i=$(document.createElement("span")),i.text(window.clipboardData.getData("Text")),this.pasteHtml(i[0].outerHTML)):(r="Your browser doesn't support direct access to the clipboard. Please use the Ctrl+V keyboard shortcut instead of paste operation.",this.openAlert(r));break;case"expression":this.textRange&&(this.textRange.commonAncestorContainer.textContent!=="«Expr»"||ej.isNullOrUndefined(this.textRange.commonAncestorContainer.tagName)||this.textRange.commonAncestorContainer.tagName.toLowerCase()!=="span"?ejDashboardDesigner.getInstance("Expression").openEditor("",this,"updateExpression",null,"Value",null):(u=$(this.textRange.commonAncestorContainer).attr("data-exp"),ejDashboardDesigner.getInstance("Expression").openEditor(u,this,"updateExpression",null,"Value",null)))}},n.prototype.selectRange=function(n){this.focus();this.isIe8()?n.select():(this.textBoxSelection.removeAllRanges(),this.textBoxSelection.addRange(n))},n.prototype.contextValidation=function(){var n=this.textRange.commonAncestorContainer,t=n.nodeValue?n.nodeValue:n.textContent;this.updateContextMenuItemState(n&&t&&(this.textRange.startContainer===this.textRange.endContainer?t.substring(this.textRange.startOffset,this.textRange.endOffset)!=="":!0))},n.prototype.updateContextMenuItemState=function(n){n?(this.contextMenuObj.enableItemByID("Cut"),this.contextMenuObj.enableItemByID("Copy")):(this.contextMenuObj.disableItemByID("Cut"),this.contextMenuObj.disableItemByID("Copy"))},n.prototype.pasteHtml=function(n){var r,f,u,e,o,i,t;this.textRange||(this.textRange=this.getRange());r=this.textRange.commonAncestorContainer;r.nodeType===3?(f=document.createElement("span"),this.appendAfter(f,r.parentNode),this.textRange.selectNode(f)):(u=$(r).closest("span"),u.length<1&&(u=this.textBoxContent.find("p:first").find("span:first")),this.textRange.selectNode(u[0]));this.textBoxSelection.removeAllRanges();this.textBoxSelection.addRange(this.textRange);this.textRange.deleteContents();e=document.createElement("P");e.innerHTML=n;o=document.createDocumentFragment();i=o.appendChild(e.firstChild);this.textRange.insertNode(i);t=ej.isNullOrUndefined(i.childNodes[0])?i:i.childNodes[0];this.textRange.setStart(t,ej.isNullOrUndefined(t.data)?0:t.data.length);this.textRange.setEnd(t,ej.isNullOrUndefined(t.data)?0:t.data.length);this.textRange.collapse(!0);this.textBoxSelection.removeAllRanges();this.textBoxSelection.addRange(this.textRange)},n.prototype.updateExpression=function(n){var t;this.focus();this.textRange.commonAncestorContainer.textContent==="«Expr»"&&this.textRange.commonAncestorContainer.tagName==="SPAN"?this.textRange.endOffset<6?$(this.textRange.commonAncestorContainer).attr("data-exp",n):(t=ej.buildTag("span","",{},{"data-exp":n}),t.text("«Expr»"),this.pasteHtml(t[0].outerHTML),this.textBoxSelection.rangeCount>0&&this.textBoxSelection.removeAllRanges(),this.textRange||(this.textRange=this.getRange()),this.textRange.setStart(t[0],5),this.textBoxSelection.addRange(this.textRange)):(t=ej.buildTag("span","",{},{"data-exp":n}),t.text("«Expr»"),this.pasteHtml(t[0].outerHTML))},n.prototype.focus=function(){this.textBoxContent.focus();this.restoreSelection(this.textRange)},n.prototype.restoreSelection=function(n){this.textBoxSelection||(this.textBoxSelection=window.getSelection?window.getSelection():document.getSelection());n&&(this.textBoxSelection?(this.textBoxSelection.removeAllRanges(),this.textBoxSelection.addRange(n)):n.select&&n.select())},n.prototype.getRange=function(){var n,t,i;return this.textBoxSelection=window.getSelection?window.getSelection():document.getSelection(),n=null,this.isIe8()?(t=this.saveSelection(),n=this.textRange&&t.offsetLeft===0&&t.offsetTop===0&&t.boundingHeight===0?this.textRange:t):this.textBoxSelection&&this.textBoxSelection.rangeCount>0&&this.textBoxSelection.getRangeAt(0)?n=this.textBoxSelection.getRangeAt(0):(n=document.createRange(),i=this.textBoxContent[0].firstChild?this.textBoxContent[0].firstChild:document.body,n.setStart(i,0),n.setEnd(i,0)),n},n.prototype.saveSelection=function(){var n=null,t;return this.textBoxSelection&&(this.textBoxSelection.createRange?n=this.textBoxSelection.createRange():this.textBoxSelection.rangeCount>0&&this.textBoxSelection.getRangeAt(0)?n=this.textBoxSelection.getRangeAt(0):this.textBoxSelection.anchorNode&&this.textBoxSelection.focusNode?(n=document.createRange(),n.setStart(this.textBoxSelection.anchorNode,this.textBoxSelection.anchorOffset),n.setEnd(this.textBoxSelection.focusNode,this.textBoxSelection.focusOffset),n.collapsed!==this.textBoxSelection.isCollapsed&&(n.setStart(this.textBoxSelection.focusNode,this.textBoxSelection.focusOffset),n.setEnd(this.textBoxSelection.anchorNode,this.textBoxSelection.anchorOffset))):(n=document.createRange(),t=this.textBoxContent[0].firstChild?this.textBoxContent[0].firstChild:document.body,n.setStart(t,0),n.setEnd(t,0))),n},n.prototype.saveReportItem=function(){for(var n,u,f,t,i=[],r=0;r<this.textBoxContent[0].childNodes.length;r++)i=this.getParents(this.textBoxContent[0].childNodes[r],i);if(n=i.length,n>this.textBoxJson.Paragraphs.length)for(u=n-this.textBoxJson.Paragraphs.length,t=0;t<u;t++)this.textBoxJson.Paragraphs.push(this.createParagraph());else if(n>0&&n<this.textBoxJson.Paragraphs.length)for(f=this.textBoxJson.Paragraphs.length-n,t=f;t>0;t--)this.textBoxJson.Paragraphs.splice(this.textBoxJson.Paragraphs.length-1,1);this.saveParagraph(i)},n.prototype.saveParagraph=function(n){for(var e,i,s,h,r,c=n.length,u=0;u<c;u++){var o=n[u],t=this.textBoxJson.Paragraphs[u],f=[];for(e=0;e<o.childNodes.length;e++)f=this.getChildrens(o.childNodes[e],f);if(i=f.length,i>t.TextRuns.length)for(s=i-t.TextRuns.length,r=0;r<s;r++)t.TextRuns.push(this.createTextRun());else if(i<t.TextRuns.length)for(h=t.TextRuns.length-(i>1?i:1),r=h;r>0;r--)t.TextRuns.splice(t.TextRuns.length-1,1);this.saveParagraphAlignment(o,t);this.saveTextRun(f,t)}},n.prototype.saveParagraphAlignment=function(n,t){var i=$(n).attr("e-paragraph-text-align"),r=$(n).attr("e-paragraph-padding-left"),u=$(n).attr("e-paragraph-padding-right"),f=$(n).attr("e-paragraph-padding-top"),e=$(n).attr("e-paragraph-padding-bottom");t.Style.TextAlign=i?i:this.getJsonTextAlignment(n.style.textAlign);t.LeftIndent=r?r:ej.DashboardUtil.isEmptyString(n.style.paddingLeft)?null:n.style.paddingLeft;t.RightIndent=u?u:ej.DashboardUtil.isEmptyString(n.style.paddingRight)?null:n.style.paddingRight;t.SpaceBefore=this.createSize("1");f?t.SpaceBefore.size=f:ej.DashboardUtil.isEmptyString(n.style.paddingTop)?t.SpaceBefore=null:t.SpaceBefore.size=n.style.paddingTop;t.SpaceAfter=this.createSize("1");e?t.SpaceAfter.size=e:ej.DashboardUtil.isEmptyString(n.style.paddingBottom)?t.SpaceAfter=null:t.SpaceAfter.size=n.style.paddingBottom},n.prototype.saveTextRun=function(n,t){for(var u,i,h,o=0;o<n.length;o++){var e=n[o],r=$(e).closest("span"),f=t.TextRuns[o],s=[];f.Value=e.textContent==="«Expr»"?r.attr("data-exp"):e.textContent;s=this.getChildrenStyle(e,s);s.length>0&&(u=s[0],i={fontColor:r.attr("e-textrun-fontcolor")?r.attr("e-textrun-fontcolor"):ej.DashboardUtil.isEmptyString(u.color)?"Black":u.color,fontFamily:r.attr("e-textrun-fontfamily")?r.attr("e-textrun-fontfamily"):ej.DashboardUtil.isEmptyString(u.fontFamily)?"Arial":this.getFontFamily(u.fontFamily),fontSize:r.attr("e-textrun-fontsize")?r.attr("e-textrun-fontsize"):ej.DashboardUtil.isEmptyString(u.fontSize)?"10pt":u.fontSize,fontStyle:r.attr("e-textrun-fontstyle")?r.attr("e-textrun-fontstyle"):ej.DashboardUtil.isEmptyString(u.fontStyle)?"Default":u.fontStyle,fontWeight:r.attr("e-textrun-fontweight")?r.attr("e-textrun-fontweight"):ej.DashboardUtil.isEmptyString(u.fontWeight)?"Default":u.fontWeight,textDecoration:r.attr("e-textrun-textdecoration")?r.attr("e-textrun-textdecoration"):ej.DashboardUtil.isEmptyString(u.textDecoration)?"Default":u.textDecoration,format:null},f.Style.FontFamily=i.fontFamily,f.Style.Color=i.fontColor.search("rgb")!==-1?this.getHexColor(i.fontColor):i.fontColor,f.Style.FontSize.size=i.fontSize,f.Style.FontStyle=ej.DashboardUtil.isExpression(i.fontStyle)?this.getJsonFontStyle(i.fontStyle):i.fontStyle,f.Style.FontWeight=ej.DashboardUtil.isExpression(i.fontWeight)?this.getJsonFontWeight(i.fontWeight):i.fontWeight,f.Style.TextDecoration=ej.DashboardUtil.isExpression(i.textDecoration)?this.getJsonTextDecoration(i.textDecoration):i.textDecoration,h=ej.isNullOrUndefined($(e.parentNode).data("link"))?null:$(e.parentNode).data("link"),i.format=ej.isNullOrUndefined($(e.parentNode).data("format"))?null:$(e.parentNode).data("format"),f.Style.Format=i.format?i.format.format:null,f.Style.FormatType=i.format?i.format.formatType:null,f.ActionInfo=h)}},n.prototype.getParents=function(n,t){var u,r,i;if(n.childNodes.length<1&&(n.tagName==="P"||n.tagName==="DIV"))t.push(n);else if(n.tagName==="P"||n.tagName==="DIV"||n.tagName==="LI")if($("p ~ ul").length>0||$("p ~ ol").length>0)for(u=0;u<n.childNodes.length;u++)if(r=n.childNodes[u],r.tagName==="UL"||r.tagName==="OL")for(i=0;i<r.childNodes.length;i++)r.childNodes[i].tagName==="LI"&&t.push(n.childNodes[i]);else t.push(n);else t.push(n);else if(n.tagName==="UL"||n.tagName==="OL")for(i=0;i<n.childNodes.length;i++)n.childNodes[i].tagName==="LI"&&t.push(n.childNodes[i]);return t},n.prototype.getChildrens=function(n,t){if(n.childNodes.length>0)for(var i=0;i<n.childNodes.length;i++)this.getChildrens(n.childNodes[i],t);else t.push(n);return t},n.prototype.getChildrenStyle=function(n,t){if(n.nodeName==="#text"&&n.parentNode.tagName==="SPAN")while(n.parentNode&&n.parentNode.tagName==="SPAN")t.push(n.parentNode.style),n=n.parentNode;else n.tagName==="SPAN"?t.push(n.style):(t.push(n.parentNode.style),n.parentNode.tagName==="EM"||n.parentNode.tagName==="I"?t[0].fontStyle="italic":n.parentNode.tagName==="STRONG"||n.parentNode.tagName==="B"?t[0].fontWeight="bold":n.parentNode.tagName==="U"?t[0].textDecoration="underline":(n.parentNode.tagName==="STRIKE"||n.parentNode.tagName==="S")&&(t[0].textDecoration="line-through"));return t},n.prototype.openTextBoxItem=function(n){var t=n.Style,i=t.BackgroundColor&&ej.DashboardUtil.isExpression(t.BackgroundColor)?t.BackgroundColor:"transparent",r={"background-color":i},u={"background-color":i},f={"background-color":i,"padding-left":t.PaddingLeft&&ej.DashboardUtil.isExpression(t.PaddingLeft.size)?t.PaddingLeft.size:0,"padding-right":t.PaddingRight&&ej.DashboardUtil.isExpression(t.PaddingRight.size)?t.PaddingRight.size:0,"padding-top":t.PaddingTop&&ej.DashboardUtil.isExpression(t.PaddingTop.size)?t.PaddingTop.size:0,"padding-bottom":t.PaddingBottom&&ej.DashboardUtil.isExpression(t.PaddingBottom.size)?t.PaddingBottom.size:0};this.openTextBoxBorder(t,r,u);this.textBoxDiv.css(r);this.textBoxItem.css(u);this.textBoxBorder.css(f);this.updateVerticalAlign(t.VerticalAlign);this.openParagraph(n);this.previousContent=this.textBoxContent[0].innerHTML},n.prototype.openParagraph=function(n){var a,t,b,r;if(n.Paragraphs.length>0)for(this.textBoxContent.find("p").remove(),a=n.Paragraphs.length,t=0;t<a;t++){var f=$(document.createElement("p")),e=this.getTextAlign(n.Paragraphs[t].Style.TextAlign),v=n.Paragraphs[t].LeftIndent?n.Paragraphs[t].LeftIndent:"",y=n.Paragraphs[t].RightIndent?n.Paragraphs[t].RightIndent:"",p=n.Paragraphs[t].SpaceBefore?n.Paragraphs[t].SpaceBefore.size:"",w=n.Paragraphs[t].SpaceAfter?n.Paragraphs[t].SpaceAfter.size:"";for(f.css({"text-align":ej.DashboardUtil.isExpression(e)?e:"","padding-left":ej.DashboardUtil.isExpression(v)?v:"","padding-right":ej.DashboardUtil.isExpression(y)?y:"","padding-top":ej.DashboardUtil.isExpression(p)?p:"","padding-bottom":ej.DashboardUtil.isExpression(w)?w:""}),f.attr("e-paragraph-text-align",ej.DashboardUtil.isExpression(e)?"":e),b=n.Paragraphs[t].TextRuns.length,r=0;r<b;r++){var u=$(document.createElement("span")),i=n.Paragraphs[t].TextRuns[r].Style,k=i.FontFamily,o=i.Color?i.Color:"black",s=i.FontSize.size,h=i.FontStyle,c=i.FontWeight,l=i.TextDecoration;u.css({"white-space":"pre-wrap","font-family":ej.DashboardUtil.isExpression(k)?i.FontFamily:"",color:ej.DashboardUtil.isExpression(o)?o:"black","font-size":ej.DashboardUtil.isExpression(s)?s:"","font-style":ej.DashboardUtil.isExpression(h)?this.getFontStyle(h):"","font-weight":ej.DashboardUtil.isExpression(c)?this.getFontWeight(c):"","text-decoration":ej.DashboardUtil.isExpression(l)?this.getTextDecoration(l):""});u.attr({"font-family":ej.DashboardUtil.isExpression(k)?"":i.FontFamily,color:ej.DashboardUtil.isExpression(o)?"black":o,"font-size":ej.DashboardUtil.isExpression(s)?"":s,"font-style":ej.DashboardUtil.isExpression(h)?"":this.getFontStyle(h),"font-weight":ej.DashboardUtil.isExpression(c)?"":this.getFontWeight(c),"text-decoration":ej.DashboardUtil.isExpression(l)?"":this.getTextDecoration(l)});n.Paragraphs[t].TextRuns[r].Value.indexOf("=",0)!==-1?(u.text("«Expr»"),u.attr("data-exp",n.Paragraphs[t].TextRuns[r].Value)):u.text(n.Paragraphs[t].TextRuns[r].Value);u.data("format",{format:i.Format,formatType:null});u.data("link",n.Paragraphs[t].TextRuns[r].ActionInfo);f.append(u)}this.textBoxContent.append(f)}},n.prototype.openTextBoxBorder=function(n,t,i){n&&(n.Border&&this.updateBorder(n.Border,"",t,i),n.TopBorder&&this.updateBorder(n.TopBorder,"-top",t,i),n.BottomBorder&&this.updateBorder(n.BottomBorder,"-bottom",t,i),n.LeftBorder&&this.updateBorder(n.LeftBorder,"-left",t,i),n.RightBorder&&this.updateBorder(n.RightBorder,"-right",t,i))},n.prototype.updateBorder=function(n,t,i,r){var u=this.textBoxJson.Style.Border;n&&(r["border"+t+"-color"]=n.Color?n.Color:u.Color?u.Color:"Black",n.Style==="Default"||n.Style==="None"?(r["border"+t+"-style"]="none",i["border"+t+"-style"]="dotted"):(r["border"+t+"-style"]=n.Style?n.Style.toLowerCase():u.Style.toLowerCase(),i["border"+t+"-style"]="none"),r["border"+t+"-width"]=n.Width&&n.Width?n.Width.size:u&&u.Width?u.Width.size:"1pt")},n.prototype.updatePropertyChange=function(n,t,i,r){var u,f,o,e;switch(n){case"Name":this.textBoxJson.Name=i;break;case"Left":this.updateLeftPosition(i);break;case"Top":this.updateTopPosition(i);break;case"Height":this.updateHeight(i);break;case"Width":this.updateWidth(i);break;case"BorderColorDefault":this.textBoxJson.Style.Border||(this.textBoxJson.Style.Border=this.createBorder(""));this.updateBorderColor(this.textBoxJson.Style.Border,i,"");break;case"BorderColorLeft":this.textBoxJson.Style.LeftBorder||(this.textBoxJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderColor(this.textBoxJson.Style.LeftBorder,i,"-left");break;case"BorderColorRight":this.textBoxJson.Style.RightBorder||(this.textBoxJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderColor(this.textBoxJson.Style.RightBorder,i,"-right");break;case"BorderColorTop":this.textBoxJson.Style.TopBorder||(this.textBoxJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderColor(this.textBoxJson.Style.TopBorder,i,"-top");break;case"BorderColorBottom":this.textBoxJson.Style.BottomBorder||(this.textBoxJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderColor(this.textBoxJson.Style.BottomBorder,i,"-bottom");break;case"BorderWidthDefault":this.textBoxJson.Style.Border||(this.textBoxJson.Style.Border=this.createBorder(""));this.updateBorderWidth(this.textBoxJson.Style.Border,i,"");break;case"BorderWidthLeft":this.textBoxJson.Style.LeftBorder||(this.textBoxJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderWidth(this.textBoxJson.Style.LeftBorder,i,"-left");break;case"BorderWidthRight":this.textBoxJson.Style.RightBorder||(this.textBoxJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderWidth(this.textBoxJson.Style.RightBorder,i,"-right");break;case"BorderWidthTop":this.textBoxJson.Style.TopBorder||(this.textBoxJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderWidth(this.textBoxJson.Style.TopBorder,i,"-top");break;case"BorderWidthBottom":this.textBoxJson.Style.BottomBorder||(this.textBoxJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderWidth(this.textBoxJson.Style.BottomBorder,i,"-bottom");break;case"BorderStyleDefault":this.textBoxJson.Style.Border||(this.textBoxJson.Style.Border=this.createBorder(""));this.updateBorderStyle(this.textBoxJson.Style.Border,i,"");break;case"BorderStyleLeft":this.textBoxJson.Style.LeftBorder||(this.textBoxJson.Style.LeftBorder=this.createBorder("Left"));this.updateBorderStyle(this.textBoxJson.Style.LeftBorder,i,"-left");break;case"BorderStyleRight":this.textBoxJson.Style.RightBorder||(this.textBoxJson.Style.RightBorder=this.createBorder("Right"));this.updateBorderStyle(this.textBoxJson.Style.RightBorder,i,"-right");break;case"BorderStyleTop":this.textBoxJson.Style.TopBorder||(this.textBoxJson.Style.TopBorder=this.createBorder("Top"));this.updateBorderStyle(this.textBoxJson.Style.TopBorder,i,"-top");break;case"BorderStyleBottom":this.textBoxJson.Style.BottomBorder||(this.textBoxJson.Style.BottomBorder=this.createBorder("Bottom"));this.updateBorderStyle(this.textBoxJson.Style.BottomBorder,i,"-bottom");break;case"BackgroundColor":this.updateBackgroundColor(i);break;case"PaddingLeft":this.textBoxJson.Style.PaddingLeft||(this.textBoxJson.Style.PaddingLeft=this.createSize(i));this.updatePadding(this.textBoxJson.Style.PaddingLeft,i,"-left");break;case"PaddingRight":this.textBoxJson.Style.PaddingRight||(this.textBoxJson.Style.PaddingRight=this.createSize(i));this.updatePadding(this.textBoxJson.Style.PaddingRight,i,"-right");break;case"PaddingTop":this.textBoxJson.Style.PaddingTop||(this.textBoxJson.Style.PaddingTop=this.createSize(i));this.updatePadding(this.textBoxJson.Style.PaddingTop,i,"-top");break;case"PaddingBottom":this.textBoxJson.Style.PaddingBottom||(this.textBoxJson.Style.PaddingBottom=this.createSize(i));this.updatePadding(this.textBoxJson.Style.PaddingBottom,i,"-bottom");break;case"FontColor":this.updateFontColor(i);this.saveReportItem();break;case"FontFamily":this.updateFontFamily(i);this.saveReportItem();break;case"FontSize":this.updateFontSize(i);this.saveReportItem();break;case"FontWeight":this.updateFontWeight(i);this.saveReportItem();break;case"FontStyle":this.updateFontStyle(i);this.saveReportItem();break;case"TextDecoration":this.updateTextDecoration(i);this.saveReportItem();break;case"TextAlign":this.updateTextAlign(i);this.saveReportItem();break;case"VerticalAlign":this.textBoxJson.Style.VerticalAlign=i;this.updateVerticalAlign(i);break;case"Hidden":this.updateTextBoxVisiblity(i);break;case"CanGrow":this.textBoxJson.CanGrow=i;break;case"CanShrink":this.textBoxJson.CanShrink=i;break;case"Format":this.updateFormat(i);break;case"ItemLink":this.textBoxJson.ActionInfo=i}if(ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)o=u[f],o.attr("id")===this.textBoxDiv.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"TextBox",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-textboxitem",this.textBoxJson.Name,[n,i,t,r],[n,t,i,r]);this.saveReportItem()},n.prototype.updateSelectedFontFamily=function(n){this.editorManager.execCommand(ExecCommand.Fontname,n,this.textRange)},n.prototype.updateSelectedFontColor=function(n){this.editorManager.execCommand(ExecCommand.Forecolor,n,this.textRange)},n.prototype.updateSelectedFontSize=function(n){var t=ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getUnitVal(n,"pt"):n;this.editorManager.execCommand(ExecCommand.Fontsize,t,this.textRange)},n.prototype.updateSelectedFontStyle=function(n){var t=ej.DashboardUtil.isExpression(n)?this.getFontStyle(n):n;this.editorManager.execCommand(ExecCommand.Fontstyle,t,this.textRange)},n.prototype.updateSelectedFontWeight=function(n){var t=ej.DashboardUtil.isExpression(n)?this.getFontWeight(n):n;this.editorManager.execCommand(ExecCommand.Fontweight,t,this.textRange)},n.prototype.updateSelectedTextDecoration=function(n){var t=ej.DashboardUtil.isExpression(n)?this.getTextDecoration(n):n;this.editorManager.execCommand(ExecCommand.Textdecoration,t,this.textRange)},n.prototype.updateSelectedTextAlign=function(n){var t=ej.DashboardUtil.isExpression(n)?this.getTextAlign(n):n;this.editorManager.execCommand(ExecCommand.TextAlign,t,this.textRange)},n.prototype.updateSelectedPadding=function(n,t){var i=ej.DashboardUtil.isExpression(n)?ej.DashboardUtil.getUnitVal(n,"pt"):n;switch(t){case"-left":this.editorManager.execCommand(ExecCommand.Padding,{side:"padding-left",value:i},this.textRange);break;case"-right":this.editorManager.execCommand(ExecCommand.Padding,{side:"padding-right",value:i},this.textRange);break;case"-top":this.editorManager.execCommand(ExecCommand.Padding,{side:"padding-top",value:i},this.textRange);break;case"-bottom":this.editorManager.execCommand(ExecCommand.Padding,{side:"padding-bottom",value:i},this.textRange)}},n.prototype.updateSelectedTextFormat=function(n){this.editorManager.execCommand(ExecCommand.TextFormat,n,this.textRange)},n.prototype.updateActionInfo=function(n){this.editorManager.execCommand(ExecCommand.TextLink,n,this.textRange)},n.prototype.updateFormat=function(n){for(var i,t,u=this.textBoxJson.Paragraphs,r=0;r<u.length;r++)for(i=u[r].TextRuns,t=0;t<i.length;t++)i[t].Style.Format=n.format,i[t].Style.FormatType=n.formatType},n.prototype.updateLeftPosition=function(n){this.textBoxJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxDiv.css("left",n)},n.prototype.updateTopPosition=function(n){this.textBoxJson.Top.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxDiv.css("top",n)},n.prototype.updateHeight=function(n){this.textBoxJson.Height.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxDiv.css("height",n);this.designPanel.updateWidgetSelectionBox(this.textBoxDiv)},n.prototype.updateWidth=function(n){this.textBoxJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxDiv.css("width",n);this.designPanel.updateWidgetSelectionBox(this.textBoxDiv)},n.prototype.updateBorderColor=function(n,t,i){n.Color=t;ej.DashboardUtil.isExpression(t)&&this.textBoxItem.css("border"+i+"-color",ej.isNullOrUndefined(t)?"transparent":t)},n.prototype.updateBorderWidth=function(n,t,i){var r=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t;n&&n.Width?n.Width.size=r:n.Width={__type:"Syncfusion.RDL.DOM.Size",size:r};ej.DashboardUtil.isExpression(t)&&this.textBoxItem.css("border"+i+"-width",t)},n.prototype.updateBorderStyle=function(n,t,i){n.Style=t;t&&ej.DashboardUtil.isExpression(t)?(this.textBoxItem.css("border"+i+"-style",t.toLowerCase()),this.textBoxDiv.css("border"+i+"-style",t==="None"||t==="Default"?"dotted":"none")):(this.textBoxItem.css("border"+i+"-style","none"),this.textBoxDiv.css("border"+i+"-style","dotted"))},n.prototype.updateBackgroundColor=function(n){this.textBoxJson.Style.BackgroundColor=n;ej.DashboardUtil.isExpression(n)&&(this.textBoxDiv.css("background-color",ej.DashboardUtil.isEmptyString(n)?"transparent":n),this.textBoxItem.css("background-color",ej.DashboardUtil.isEmptyString(n)?"transparent":n),this.textBoxBorder.css("background-color",ej.DashboardUtil.isEmptyString(n)?"transparent":n))},n.prototype.updateFontFamily=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("font-family",n),this.textBoxContent.find("span").removeAttr("e-textrun-fontfamily")):(this.textBoxContent.find("span").css("font-family",""),this.textBoxContent.find("span").attr("e-textrun-fontfamily",n))},n.prototype.updateFontColor=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("color",n),this.textBoxContent.find("span").removeAttr("e-textrun-fontcolor")):(this.textBoxContent.find("span").css("color",""),this.textBoxContent.find("span").attr("e-textrun-fontcolor",n))},n.prototype.updateFontSize=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("font-size",ej.DashboardUtil.getUnitVal(n,"pt")),this.textBoxContent.find("span").removeAttr("e-textrun-fontsize")):(this.textBoxContent.find("span").css("font-size",""),this.textBoxContent.find("span").attr("e-textrun-fontsize",n))},n.prototype.updateFontStyle=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("font-style",this.getFontStyle(n)),this.textBoxContent.find("span").removeAttr("e-textrun-fontstyle")):(this.textBoxContent.find("span").css("font-style",""),this.textBoxContent.find("span").attr("e-textrun-fontstyle",n))},n.prototype.updateFontWeight=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("font-weight",this.getFontWeight(n)),this.textBoxContent.find("span").removeAttr("e-textrun-fontweight")):(this.textBoxContent.find("span").css("font-weight",""),this.textBoxContent.find("span").attr("e-textrun-fontweight",n))},n.prototype.updateTextDecoration=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("span").css("text-decoration",this.getTextDecoration(n)),this.textBoxContent.find("span").removeAttr("e-textrun-textdecoration")):(this.textBoxContent.find("span").css("text-decoration",""),this.textBoxContent.find("span").attr("e-textrun-textdecoration",n))},n.prototype.updateTextAlign=function(n){ej.DashboardUtil.isExpression(n)?(this.textBoxContent.find("p").css("text-align",this.getTextAlign(n)),this.textBoxContent.find("p").removeAttr("e-paragraph-text-align")):(this.textBoxContent.find("p").css("text-align",""),this.textBoxContent.find("p").attr("e-paragraph-text-align",n))},n.prototype.updateVerticalAlign=function(n){if(ej.DashboardUtil.isExpression(n))switch(n){case"Default":this.textBoxBorder.css("display","");this.textBoxContent.css({"vertical-align":"",display:""});break;case"Top":this.textBoxBorder.css("display","table");this.textBoxContent.css({"vertical-align":"top",display:"table-cell"});break;case"Middle":this.textBoxBorder.css("display","table");this.textBoxContent.css({"vertical-align":"middle",display:"table-cell"});break;case"Bottom":this.textBoxBorder.css("display","table");this.textBoxContent.css({"vertical-align":"bottom",display:"table-cell"})}else this.textBoxBorder.css("display",""),this.textBoxContent.css({"vertical-align":"",display:""})},n.prototype.updatePadding=function(n,t,i){var r=ej.DashboardUtil.isExpression(t)?ej.DashboardUtil.getUnitVal(t,"pt"):t;n?n.size=r:(n=this.createSize(t),n.size=r);ej.DashboardUtil.isExpression(t)&&this.textBoxBorder.css("padding"+i,t)},n.prototype.updateTextBoxVisiblity=function(n){var t=ej.DashboardUtil.isExpression(n)?!n:n;this.textBoxJson.Visibility?this.textBoxJson.Visibility.Hidden=t:this.textBoxJson.Visibility={Hidden:t}},n.prototype.getSelectedTextFontName=function(){var n="Arial";if(this.textRange){var r=this.textRange.commonAncestorContainer,i=r.parentNode,t=$(r).closest("span");t.length>0?n=t.attr("e-textrun-fontfamily")&&t.attr("e-textrun-fontfamily").length>0?t.attr("e-textrun-fontfamily"):t.css("font-family"):this.textBoxContent.find("span:first-child").length>0?n=this.textBoxContent.find("span:first-child").css("font-family"):i&&i.style&&(n=i.style.fontFamily)}else n=document.queryCommandValue("fontname");return ej.DashboardUtil.isExpression(n)&&(n=ej.DashboardUtil.getFontNames().toString().search(n)!==-1?this.getFontFamily(n):"Arial"),ej.DashboardUtil.isEmptyString(n)?"Arial":n},n.prototype.getSelectedTextFontColor=function(){var n="black";if(this.textRange){var r=this.textRange.commonAncestorContainer,i=r.parentNode,t=$(r).closest("span");t.length>0?n=t.attr("e-textrun-fontcolor")&&t.attr("e-textrun-fontcolor").length>0?t.attr("e-textrun-fontcolor"):t.css("color"):this.textBoxContent.find("span:first-child").length>0?n=this.textBoxContent.find("span:first-child").css("color"):i&&i.style&&(n=i.style.color)}else n=this.getRgbColor(document.queryCommandValue("forecolor"));return ej.DashboardUtil.isExpression(n)&&(n=this.getHexColor(n)),!ej.isNullOrUndefined(n)&&!ej.DashboardUtil.isEmptyString(n)?n:"black"},n.prototype.getSelectedTextFontSize=function(){var n="10pt";if(this.textRange){var r=this.textRange.commonAncestorContainer,i=r.parentNode,t=$(r).closest("span");t.length>0?n=t.attr("e-textrun-fontsize")&&t.attr("e-textrun-fontsize").length>0?t.attr("e-textrun-fontsize"):t.css("font-size"):this.textBoxContent.find("span:first-child").length>0?n=this.textBoxContent.find("span:first-child").css("font-size"):i&&i.style&&(n=i.style.fontSize)}return n?n:"10pt"},n.prototype.getSelectedTextFontStyle=function(){var t="Default",n;if(this.textRange){var u=this.textRange.commonAncestorContainer,r=u.parentNode,i=$(u).closest("span");i.length>0?t=i.attr("e-textrun-fontstyle")&&i.attr("e-textrun-fontstyle").length>0?i.attr("e-textrun-fontstyle"):this.getJsonFontStyle(i.css("font-style")):this.textBoxContent.find("span:first-child").length>0?t=this.getJsonFontStyle(this.textBoxContent.find("span:first-child").css("font-style")):r&&r.style&&(t=this.getJsonFontStyle(r.style.fontStyle))}else n=document.queryCommandValue("italic"),n=typeof n=="boolean"?n:n.toLocaleLowerCase()==="true",t=n?"Italic":"Normal";return t},n.prototype.getSelectedTextFontWeight=function(){var t="Default";if(this.textRange){var r=this.textRange.commonAncestorContainer,i=r.parentNode,n=$(r).closest("span");n.length>0?t=n.attr("e-textrun-fontweight")&&n.attr("e-textrun-fontweight").length>0?n.attr("e-textrun-fontweight"):this.getJsonFontWeight(n[0].style.fontWeight):this.textBoxContent.find("span:first-child").length>0?t=this.getJsonFontWeight(this.textBoxContent.find("span:first-child").css("font-weight")):i&&i.style&&(t=this.getJsonFontWeight(i.style.fontWeight))}return t},n.prototype.getSelectedTextDecoration=function(){var i="None",n,t;if(this.textRange){var f=this.textRange.commonAncestorContainer,u=f.parentNode,r=$(f).closest("span");r.length>0?i=r.attr("e-textrun-textdecoration")&&r.attr("e-textrun-textdecoration").length>0?r.attr("e-textrun-textdecoration"):this.getJsonTextDecoration(r[0].style.textDecoration):this.textBoxContent.find("span:first-child").length>0?i=this.getJsonTextDecoration(this.textBoxContent.find("span:first-child").css("text-decoration")):u&&u.style&&(i=this.getJsonTextDecoration(u.style.textDecoration))}else n=document.queryCommandValue("underline"),n=typeof n=="boolean"?n:n.toLocaleLowerCase()==="true",t=document.queryCommandValue("strikethrough"),t=typeof t=="boolean"?t:t.toLocaleLowerCase()==="true",i=n?"Underline":t?"LineThrough":"None";return i},n.prototype.getSelectedTextAlign=function(){var u="Default",o,n,t,i;if(this.textRange){var f=this.textRange.commonAncestorContainer,e=f.parentNode,r=$(f).closest("p");r.length>0?u=r.attr("e-paragraph-text-align")&&r.attr("e-paragraph-text-align").length>0?r.attr("e-paragraph-text-align"):this.getJsonTextAlignment(r.css("text-align")):e&&(o=$(e).closest("p").css("text-align"),u=this.getJsonTextAlignment(o))}else n=document.queryCommandValue("justifyleft"),n=typeof n=="boolean"?n:n.toLocaleLowerCase()==="true",t=document.queryCommandValue("justifycenter"),t=typeof t=="boolean"?t:t.toLocaleLowerCase()==="true",i=document.queryCommandValue("justifyright"),i=typeof i=="boolean"?i:i.toLocaleLowerCase()==="true",u=n?"Left":t?"Center":i?"Right":"Default";return u},n.prototype.getSelectedTextPadding=function(n){var i="0",u,r,t;return this.textRange&&(u=this.textRange.commonAncestorContainer,r=u.parentNode,r&&r.style&&(t=$(r).closest("p"),t.length>0&&(i=n==="Left"?t.attr("e-paragraph-padding-left")&&t.attr("e-paragraph-padding-left").length>0?t.attr("e-paragraph-padding-left"):t[0].style.paddingLeft:n==="Right"?t.attr("e-paragraph-padding-right")&&t.attr("e-paragraph-padding-right").length>0?t.attr("e-paragraph-padding-right"):t[0].style.paddingRight:n==="Top"?t.attr("e-paragraph-padding-top")&&t.attr("e-paragraph-padding-top").length>0?t.attr("e-paragraph-padding-top"):t[0].style.paddingTop:t.attr("e-paragraph-padding-bottom")&&t.attr("e-paragraph-padding-bottom").length>0?t.attr("e-paragraph-padding-bottom"):t[0].style.paddingBottom,ej.DashboardUtil.isExpression(i)&&(i=ej.DashboardUtil.isEmptyString(i)?"0":i)))),i},n.prototype.getTextBoxProperties=function(){for(var r,o,u,i,s=this.textBoxJson.Paragraphs.length,e=this.textBoxJson.Paragraphs[0],t=e.TextRuns[0].Style,n={textAlign:e.Style.TextAlign,fontColor:t.Color?t.Color:"black",fontFamily:t.FontFamily,fontSize:ej.DashboardUtil.isExpression(t.fontSize)?ej.DashboardUtil.getPixelVal(t.FontSize.size):t.fontSize,fontStyle:t.FontStyle,fontWeight:t.FontWeight,textDecoration:t.TextDecoration},f=0;f<s;f++)for(r=this.textBoxJson.Paragraphs[f],o=r.TextRuns.length,n.textAlign!==r.Style.TextAlign&&(n.textAlign=""),u=1;u<o;u++)i=r.TextRuns[u],n.fontColor!==i.Style.Color&&(n.fontColor="transparent"),n.fontFamily!==i.Style.FontFamily&&(n.fontFamily=""),n.fontSize!==i.Style.FontSize.size&&(n.fontSize=""),n.fontStyle!==i.Style.FontStyle&&(n.fontStyle=""),n.fontWeight!==i.Style.FontWeight&&(n.fontWeight=""),n.textDecoration!==i.Style.TextDecoration&&(n.textDecoration="");return n},n.prototype.getSelectedTextFormat=function(){var t=null,n;return this.textRange&&(n=this.textRange.commonAncestorContainer.parentNode,n&&!ej.isNullOrUndefined($(n).data("format"))&&(t=$(n).data("format"))),t?t:null},n.prototype.getSelectedActionInfo=function(){var t=null,n;return this.textRange&&(n=this.textRange.commonAncestorContainer.parentNode,n&&!ej.isNullOrUndefined($(n).data("link"))&&(t=$(n).data("link"))),t?t:null},n.prototype.getPropertyGridItems=function(){var n=this.getTextBoxProperties();return{Header:this.textBoxJson.Name,Type:"TextBox",Items:[{CategoryName:"Basic Settings",Items:[{name:"TextFont",displayName:"Font",itemType:"font",items:[{name:"FontFamily",displayName:"None",value:n.fontFamily,itemType:"dropdown",valueList:ej.DashboardUtil.getFontNames()},{name:"FontColor",displayName:"None",value:n.fontColor,itemType:"color"},{name:"FontSize",displayName:"None",value:n.fontSize,minimum:1.33,maximum:206.6,unitType:"pixel",itemType:"float"}]},{name:"TextFontStyle",displayName:"Font Style",itemType:"fontStyle",items:[{name:"FontStyle",displayName:"None",value:n.fontStyle,itemType:"dropdown",valueList:["Default","Normal","Italic"]},{name:"FontWeight",displayName:"None",value:n.fontWeight,itemType:"dropdown",valueList:["Default","Normal","Thin","ExtraLight","Light","Medium","SemiBold","Bold","ExtraBold","Heavy"]}]},{name:"TextDecoration",displayName:"Text Decoration",value:n.textDecoration,itemType:"dropdown",valueList:["Default","None","Underline","Overline","LineThrough"]},{name:"Format",displayName:"Format",value:this.getFormat(),enableExpression:!1,itemType:"formattext"}]},{CategoryName:"Alignment",Items:[{name:"TextAlign",displayName:"Text Alignment",value:n.textAlign,itemType:"dropdown",valueList:["Default","Left","Center","Right"]},{name:"VerticalAlign",displayName:"Vertical Alignment",value:this.textBoxJson.Style.VerticalAlign,itemType:"dropdown",valueList:["Default","Top","Middle","Bottom"]},{name:"Padding",displayName:"Padding",itemType:"padding",items:[{name:"PaddingLeft",displayName:"Left",value:this.textBoxJson.Style.PaddingLeft?ej.DashboardUtil.isExpression(this.textBoxJson.Style.PaddingLeft.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.PaddingLeft.size):this.textBoxJson.Style.PaddingLeft.size:ej.DashboardUtil.getPixelVal("2pt"),minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingRight",displayName:"Right",value:this.textBoxJson.Style.PaddingRight?ej.DashboardUtil.isExpression(this.textBoxJson.Style.PaddingRight.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.PaddingRight.size):this.textBoxJson.Style.PaddingRight.size:ej.DashboardUtil.getPixelVal("2pt"),minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingTop",displayName:"Top",value:this.textBoxJson.Style.PaddingTop?ej.DashboardUtil.isExpression(this.textBoxJson.Style.PaddingTop.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.PaddingTop.size):this.textBoxJson.Style.PaddingTop.size:ej.DashboardUtil.getPixelVal("2pt"),minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"},{name:"PaddingBottom",displayName:"Bottom",value:this.textBoxJson.Style.PaddingBottom?ej.DashboardUtil.isExpression(this.textBoxJson.Style.PaddingBottom.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.PaddingBottom.size):this.textBoxJson.Style.PaddingBottom.size:ej.DashboardUtil.getPixelVal("2pt"),minimum:0,maximum:26.6,unitType:"pixel",itemType:"float"}]}]},{CategoryName:"Appearance",Items:[{name:"BackgroundColor",displayName:"Background",value:this.textBoxJson.Style.BackgroundColor?this.textBoxJson.Style.BackgroundColor:"Transparent",itemType:"color"},{name:"Border",displayName:"Border",itemType:"border",items:[{name:"BorderStyleDefault",displayName:"None",value:this.textBoxJson.Style.Border?this.textBoxJson.Style.Border.Style:"Solid",itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorDefault",displayName:"None",value:this.textBoxJson.Style.Border&&this.textBoxJson.Style.Border.Color?this.textBoxJson.Style.Border.Color:"gray",itemType:"color"},{name:"BorderWidthDefault",displayName:"None",value:this.textBoxJson.Style.Border&&this.textBoxJson.Style.Border.Width?ej.DashboardUtil.isExpression(this.textBoxJson.Style.Border.Width.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.Border.Width.size):this.textBoxJson.Style.Border.Width.size:ej.DashboardUtil.getPixelVal("1pt"),minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}],childItems:[{name:"LeftBorder",displayName:"Left",itemType:"border",items:[{name:"BorderStyleLeft",displayName:"None",value:this.textBoxJson.Style.LeftBorder?this.textBoxJson.Style.LeftBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorLeft",displayName:"None",value:this.textBoxJson.Style.LeftBorder&&this.textBoxJson.Style.LeftBorder.Color?this.textBoxJson.Style.LeftBorder.Color:"gray",itemType:"color"},{name:"BorderWidthLeft",displayName:"None",value:this.textBoxJson.Style.LeftBorder&&this.textBoxJson.Style.LeftBorder.Width?ej.DashboardUtil.isExpression(this.textBoxJson.Style.LeftBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.LeftBorder.Width.size):this.textBoxJson.Style.LeftBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"RightBorder",displayName:"Right",itemType:"border",items:[{name:"BorderStyleRight",displayName:"Right",value:this.textBoxJson.Style.RightBorder?this.textBoxJson.Style.RightBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorRight",displayName:"Right",value:this.textBoxJson.Style.RightBorder&&this.textBoxJson.Style.RightBorder.Color?this.textBoxJson.Style.RightBorder.Color:"gray",itemType:"color"},{name:"BorderWidthRight",displayName:"Right",value:this.textBoxJson.Style.RightBorder&&this.textBoxJson.Style.RightBorder.Width?ej.DashboardUtil.isExpression(this.textBoxJson.Style.RightBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.RightBorder.Width.size):this.textBoxJson.Style.RightBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"TopBorder",displayName:"Top",itemType:"border",items:[{name:"BorderStyleTop",displayName:"Top",value:this.textBoxJson.Style.TopBorder?this.textBoxJson.Style.TopBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorTop",displayName:"Top",value:this.textBoxJson.Style.TopBorder&&this.textBoxJson.Style.TopBorder.Color?this.textBoxJson.Style.TopBorder.Color:"gray",itemType:"color"},{name:"BorderWidthTop",displayName:"Top",value:this.textBoxJson.Style.TopBorder&&this.textBoxJson.Style.TopBorder.Width?ej.DashboardUtil.isExpression(this.textBoxJson.Style.TopBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.TopBorder.Width.size):this.textBoxJson.Style.TopBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]},{name:"BottomBorder",displayName:"Bottom",itemType:"border",items:[{name:"BorderStyleBottom",displayName:"Bottom",value:this.textBoxJson.Style.BottomBorder?this.textBoxJson.Style.BottomBorder.Style:null,itemType:"dropdown",valueList:["Dashed","Dotted","Double","None","Solid"]},{name:"BorderColorBottom",displayName:"Bottom",value:this.textBoxJson.Style.BottomBorder&&this.textBoxJson.Style.BottomBorder.Color?this.textBoxJson.Style.BottomBorder.Color:"gray",itemType:"color"},{name:"BorderWidthBottom",displayName:"Bottom",value:this.textBoxJson.Style.BottomBorder&&this.textBoxJson.Style.BottomBorder.Width?ej.DashboardUtil.isExpression(this.textBoxJson.Style.BottomBorder.Width.size)?ej.DashboardUtil.getPixelVal(this.textBoxJson.Style.BottomBorder.Width.size):this.textBoxJson.Style.BottomBorder.Width.size:"",minimum:.33,maximum:26.6,unitType:"pixel",itemType:"float"}]}]}]},{CategoryName:"Link",Items:[{name:"Link",value:this.textBoxJson.ActionInfo,category:"Item",itemType:"link"}]},{CategoryName:"Position",Items:[{name:"Position",displayName:"Position",itemType:"position",enableExpression:!1,items:[{name:"Left",displayName:"Left",value:ej.DashboardUtil.getPixelVal(this.textBoxJson.Left.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Top",displayName:"Top",value:ej.DashboardUtil.getPixelVal(this.textBoxJson.Top.size),maximum:43680,unitType:"pixel",itemType:"float"}]},{name:"Size",displayName:"Size",itemType:"size",enableExpression:!1,items:[{name:"Width",displayName:"Width",value:ej.DashboardUtil.getPixelVal(this.textBoxJson.Width.size),maximum:43680,unitType:"pixel",itemType:"float"},{name:"Height",displayName:"Height",value:ej.DashboardUtil.getPixelVal(this.textBoxJson.Height.size),maximum:43680,unitType:"pixel",itemType:"float"}]}]},{CategoryName:"Visibility",Items:[{name:"Hidden",displayName:"Visible",value:this.textBoxJson.Visibility&&this.textBoxJson.Visibility.Hidden?ej.DashboardUtil.isExpression(this.textBoxJson.Visibility.Hidden)?!this.textBoxJson.Visibility.Hidden:this.textBoxJson.Visibility.Hidden:!0,itemType:"bool"}]},{CategoryName:"Miscellaneous",Items:[{name:"CanGrow",displayName:"Can Grow",value:this.textBoxJson.CanGrow,itemType:"bool",enableExpression:!1},{name:"CanShrink",displayName:"Can Shrink",value:this.textBoxJson.CanShrink,itemType:"bool",enableExpression:!1}]}]}},n.prototype.getJsonFontStyle=function(n){var t="Default";switch(n){case"italic":t="Italic";break;case"normal":t="Normal";break;default:t="Default"}return t},n.prototype.getJsonFontWeight=function(n){var t;switch(n){case"normal":t="Normal";break;case"200":t="Thin";break;case"300":t="ExtraLight";break;case"400":t="Light";break;case"500":t="Medium";break;case"600":t="SemiBold";break;case"700":case"bold":t="Bold";break;case"800":t="ExtraBold";break;case"900":t="Heavy";break;default:t="Default"}return t},n.prototype.getJsonTextDecoration=function(n){var t;switch(n){case"none":t="None";break;case"underline":t="Underline";break;case"overline":t="Overline";break;case"line-through":t="LineThrough";break;default:t="Default"}return t},n.prototype.getJsonTextAlignment=function(n){var t;switch(n){case"left":t="Left";break;case"right":t="Right";break;case"center":t="Center";break;default:t="Default"}return t},n.prototype.getFontStyle=function(n){var t="";switch(n){case"Default":t="";break;case"Normal":t="normal";break;case"Italic":t="italic"}return t},n.prototype.getFontWeight=function(n){var t="";switch(n){case"Normal":t="normal";break;case"Thin":t="200";break;case"ExtraLight":t="300";break;case"Light":t="400";break;case"Medium":t="500";break;case"SemiBold":t="600";break;case"Bold":t="bold";break;case"ExtraBold":t="800";break;case"Heavy":t="900";break;default:t=""}return t},n.prototype.getTextDecoration=function(n){var t="";switch(n){case"Default":t="";break;case"None":t="none";break;case"Underline":t="underline";break;case"Overline":t="overline";break;case"LineThrough":t="line-through"}return t},n.prototype.getTextAlign=function(n){var t="";switch(n){case"Default":case"General":t="";break;case"Left":t="left";break;case"Center":t="center";break;case"Right":t="right"}return t},n.prototype.getFontFamily=function(n){return n.replace(/"/g,"").replace(/"/g,"")},n.prototype.getRgbColor=function(n){return typeof n!="number"?n:"rgb("+(n&255)+", "+((n&65280)>>8)+", "+((n&16711680)>>16)+")"},n.prototype.getHexColor=function(n){return n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),n&&n.length===4?("#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2)).toUpperCase():""},n.prototype.getTextBoxName=function(n,t){var i="";return this.isReportDataDrop(n,t)?ej.isNullOrUndefined(t.className)||t.className!=="e-datafield"?ej.isNullOrUndefined(t.className)||t.className!=="e-parameter"||(i=this.getItemName(n)):i=this.getItemName(ej.DashboardUtil.escapeSelector(t.fields.Name)):i=ejDashboardDesigner.getAvailableName("e-textboxitem"),i},n.prototype.getItemName=function(n){var i=[],u=$("#"+this.designPanel.designId+"_designArea .e-textboxitem"),t,r;u.each(function(n,t){i.push($(t).attr("name"))});t=0;do t++,r=i.indexOf(t===1?n:n+(t-1));while(r!==-1);return t===1?n:n+(t-1)},n.prototype.isReportDataDrop=function(n,t){return!ej.isNullOrUndefined(n)&&!ej.isNullOrUndefined(t)},n.prototype.editableTextBoxState=function(n){var t=this;this.propertyPanelTimeOut&&clearTimeout(this.propertyPanelTimeOut);this.propertyPanelTimeOut=setTimeout(function(){if(!ej.isNullOrUndefined(t.toolBar))if(n)t.toolBar.showUndo(!1),t.toolBar.showRedo(!1),t.toolBar.showCut(!1),t.toolBar.showCopy(!1),t.toolBar.showDelete(!1),t.toolBar.showPaste(!1);else{var i=t.designPanel.selectedReportItems&&t.designPanel.selectedReportItems.length>0;t.toolBar.showCut(i);t.toolBar.showCopy(i);t.toolBar.showDelete(i);t.toolBar.showUndo(t.undoManager.isUndo());t.toolBar.showRedo(t.undoManager.isRedo());t.toolBar.showPaste(t.designPanel.canPaste())}},1e3)},n.prototype.isIe=function(){var n=!1;return this.browserInfo.name==="msie"&&(n=!0),n},n.prototype.isIe8=function(){var n=!1;return this.browserInfo.name==="msie"&&this.browserInfo.version==="8.0"&&(n=!0),n},n.prototype.invokePropertyPanel=function(){this.designPanel.selectedItems=[];$("#"+this.designPanel.designId+"_propertyPanel").css("display")==="block"&&this.propertyPanel.setPropertyElement([this.textBoxDiv])},n.prototype.openAlert=function(n){ej.DashboardUtil.getInstance().ejAlertDialog("Textbox",n,!1,!0,!0,"",{height:120})},n.prototype.getFormat=function(){for(var t,n,u=this.textBoxJson.Paragraphs,i=[],f=[],r=0;r<u.length;r++)for(t=u[r].TextRuns,n=0;n<t.length;n++)i.push(t[n].Style.Format),f.push(t[n].Style.FormatType);return this.isEqualFormat(i)?{format:i[0],formatType:f[0]}:{format:null,formatType:null}},n.prototype.isEqualFormat=function(n){if(n.length===0||n.length===1)return!0;for(var t=0;t<n.length-1;t++)if(n[t]!==n[t+1])return!1;return!0},n.prototype.isEmptyColor=function(n){return n==="transparent"||n===""||n==="rgba(0, 0, 0, 0)"},n.prototype.updatePosition=function(n,t,i){if(this.textBoxDiv.css({left:n,top:t}),i){var r=[ej.DashboardUtil.getPixelVal(this.textBoxJson.Left.size),ej.DashboardUtil.getPixelVal(this.textBoxJson.Top.size),!0],u=[n,t,!0];this.textBoxJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemMove,"updatePosition","e-textboxitem",this.textBoxJson.Name,r,u)}},n.prototype.updateSize=function(n,t,i){if(this.textBoxDiv.css({width:n,height:t}),this.textBoxContent.attr("contenteditable")==="true"&&(this.textBoxItem.css("overflow","hidden"),this.textBoxBorder.css({height:"100%","z-index":"","border-style":"none"})),this.designPanel.updateWidgetSelectionBox(this.textBoxDiv),i){var r=[ej.DashboardUtil.getPixelVal(this.textBoxJson.Width.size),ej.DashboardUtil.getPixelVal(this.textBoxJson.Height.size),!0],u=[n,t,!0];this.textBoxJson.Width.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxJson.Height.size=ej.DashboardUtil.getUnitVal(t,"in");this.updatePropertyValue("Size","Width",n);this.updatePropertyValue("Size","Height",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateSize","e-textboxitem",this.textBoxJson.Name,r,u)}},n.prototype.updateItemSize=function(n,t,i,r,u){if(this.textBoxDiv.css({left:n,top:t,width:i,height:r}),this.textBoxContent.attr("contenteditable")==="true"&&(this.textBoxItem.css("overflow","hidden"),this.textBoxBorder.css({height:"100%","z-index":"","border-style":"none"})),this.designPanel.updateWidgetSelectionBox(this.textBoxDiv),u){var f=[ej.DashboardUtil.getPixelVal(this.textBoxJson.Left.size),ej.DashboardUtil.getPixelVal(this.textBoxJson.Top.size),ej.DashboardUtil.getPixelVal(this.textBoxJson.Width.size),ej.DashboardUtil.getPixelVal(this.textBoxJson.Height.size),!0],e=[n,t,i,r,!0];this.textBoxJson.Left.size=ej.DashboardUtil.getUnitVal(n,"in");this.textBoxJson.Top.size=ej.DashboardUtil.getUnitVal(t,"in");this.textBoxJson.Width.size=ej.DashboardUtil.getUnitVal(i,"in");this.textBoxJson.Height.size=ej.DashboardUtil.getUnitVal(r,"in");this.updatePropertyValue("Size","Width",i);this.updatePropertyValue("Size","Height",r);this.updatePropertyValue("Position","Left",n);this.updatePropertyValue("Position","Top",t);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemResize,"updateItemSize","e-textboxitem",this.textBoxJson.Name,f,e)}},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"TextBox",i);this.propertyPanel.canUpdate=!0},n.prototype.createSize=function(n){return{__type:"Syncfusion.RDL.DOM.Size",size:n+"pt"}},n.prototype.createBorder=function(n){return{__type:"Syncfusion.RDL.DOM."+n+"Border",Color:n===""?"Black":null,Style:"None",Width:n===""?this.createSize("1"):null}},n.prototype.createStyle=function(){return{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,FormatType:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"0pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"0"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:null,TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}},n.prototype.createTextRun=function(){return{__type:"Syncfusion.RDL.DOM.TextRun",InternalLabel:null,Label:null,Value:"",Style:this.createStyle(),ActionInfo:null,ToolTip:null,MarkupType:0}},n.prototype.createParagraph=function(){return{__type:"Syncfusion.RDL.DOM.Paragraph",TextRuns:[this.createTextRun()],LeftIndent:null,RightIndent:null,HangingIndent:null,Style:this.createStyle(),ListStyle:0,ListLevel:0,SpaceBefore:null,SpaceAfter:null}},n.prototype.createTextBoxJson=function(){return{__type:"Syncfusion.RDL.DOM.TextBox",CanGrow:!0,CanShrink:!1,IsNoRowMessage:!1,DataElementStyle:0,HideDuplicates:null,KeepTogether:!0,Paragraphs:[this.createParagraph()],ToggleImage:null,UserSort:null,Text:null,Left:{__type:"Syncfusion.RDL.DOM.Size",size:"2.23833in"},Top:{__type:"Syncfusion.RDL.DOM.Size",size:"1.54042in"},Name:"Textbox1",Value:null,ActionInfo:null,Height:{__type:"Syncfusion.RDL.DOM.Size",size:"0.25in"},Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1in"},ZIndex:0,Visibility:null,LabelLocID:null,ToolTip:null,DocumentMapLabel:null,Bookmark:null,RepeatWith:null,CustomProperties:[],DataElementName:null,DataElementOutput:0,Style:{__type:"Syncfusion.RDL.DOM.Style",BackgroundColor:"Transparent",FontFamily:"Arial",FontSize:{__type:"Syncfusion.RDL.DOM.Size",size:"10pt"},FontWeight:"Default",BackgroundGradientType:"None",BackgroundGradientEndColor:null,FontStyle:"Default",Format:null,TextDecoration:"Default",TextAlign:"Default",VerticalAlign:"Default",Color:null,PaddingLeft:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},PaddingRight:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},PaddingTop:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},PaddingBottom:{__type:"Syncfusion.RDL.DOM.Size",size:"2pt"},LineHeight:{__type:"Syncfusion.RDL.DOM.Size",size:"1"},Direction:"Default",WritingMode:"Default",Language:null,Calendar:0,NumeralLanguage:null,TextEffect:0,BackgroundHatchType:0,ShadowColor:null,Border:{__type:"Syncfusion.RDL.DOM.Border",Color:"gray",Style:"None",Width:{__type:"Syncfusion.RDL.DOM.Size",size:"1pt"}},TopBorder:null,BottomBorder:null,LeftBorder:null,RightBorder:null,BackgroundImage:null,NumeralVariant:null,ShadowOffset:null}}},n.prototype.getReportItem=function(){return this.textBoxDiv},n.prototype.getReportItemJson=function(){return this.textBoxJson},n.prototype.popupItem=function(n,t){n.Name=ejDashboardDesigner.getAvailableName("e-textboxitem");this.openReportItem(n,t.attr("id"));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"openReportItem","e-textboxitem",n.Name,null,[n,t.attr("id")])},n.prototype.dispose=function(){var n=this.textBoxDiv.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"openReportItem","e-textboxitem",this.textBoxJson.Name,[this.textBoxJson,n.attr("id")],null);this.contextMenuObj&&this.contextMenuObj.destroy();$("#"+this.textBoxJson.Name).removeData("TextBox");$("#"+this.textBoxJson.Name).remove();this.editorManager=null;this.designPanel.selectedReportItems=[]},n}();window.ej.createObject("ej.DashboardDesignerUtility.TextBoxItem",InternalTextBoxReportItem,window),function(n){n[n.None=0]="None";n[n.Numbered=1]="Numbered";n[n.Bulleted=2]="Bulleted"}(ListStyle||(ListStyle={}));InternalToolbar=function(){function n(n){this.zoomSelectedIndex=-1;this.createReportText="New Dashboard";this.createButtonText="Create";this.openReportText="Open Dashboard";this.items=["25%","50%","75%","100%","150%","200%","250%","300%","350%","400%"];this.fileWaterMark="Report Name";this.targetTag=n;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.id=this.designer._id}return n.prototype.renderToolBar=function(n,t,i){var e=this.designer.model.toolbarSettings,r,u,f;e.templateId?(f=$("#"+e.templateId),n.append(f),f.ejToolbar({isResponsive:!0,enableSeparator:!0,height:f.height(),click:this.designer.model.toolbarClick}),f.css("display","block")):(this.toolBar=ej.buildTag("div.e-reportdesigner-toolbarcontainer","",{width:i+"px",height:t+"px"},{id:this.id+"_toolBar"}),n.append(this.toolBar),r=ej.buildTag("ul.e-reportdesigner-toolbarul","",{"padding-left":"5px"},{}),this.appendToolbarItems(r,"New","e-reportdesigner-toolbar-new e-li-item"),this.appendSplitBtn(r,"Open","e-reportdesigner-toolbar-open-folder e-li-item","2.5px 5px 0px 0px",this.id+"_openConfigMenu"),u=ej.buildTag("div","",{},{title:"Property",id:this.id+"_openMenu"}),this.populateMenuItems(u,[{id:"fromDevice",text:"From Device..."},{id:"fromServer",text:"From Server..."}],"open"),this.toolBar.append(u),this.appendSplitBtn(r,"Save","e-reportdesigner-toolbar-save e-li-item","2.5px 0px 0px 1px",this.id+"_saveConfigMenu"),u=ej.buildTag("div","",{},{title:"Property",id:this.id+"_saveMenu"}),this.populateMenuItems(u,[{id:"save",text:"Save"},{id:"saveAs",text:"Save As",Items:[{id:"toDevice",text:"To Device"},{id:"toServer",text:"To Server..."}]}],"save"),this.toolBar.append(u),this.toolBar.append(r),r=ej.buildTag("ul.e-reportdesigner-toolbarul","",{}),this.appendToolbarItems(r,"Cut","e-reportdesigner-toolbar-cut e-li-item"),this.appendToolbarItems(r,"Copy","e-reportdesigner-toolbar-copy e-li-item"),this.appendToolbarItems(r,"Paste","e-reportdesigner-toolbar-paste e-li-item"),this.toolBar.append(r),r=ej.buildTag("ul.e-reportdesigner-toolbarul","",{}),this.appendToolbarItems(r,"Undo","e-reportdesigner-toolbar-undo e-li-item"),this.appendToolbarItems(r,"Redo","e-reportdesigner-toolbar-redo e-li-item"),this.toolBar.append(r),r=ej.buildTag("ul.e-reportdesigner-toolbarul","",{}),this.appendToolbarItems(r,"Delete","e-reportdesigner-toolbar-delete e-li-item"),this.appendToolbarItems(r,"Filter Action","e-reportdesigner-configuration-parameters e-li-item"),this.appendToolbarItems(r,"Refresh Setting","e-reportviewer-icon e-reportviewer-refresh e-li-item"),this.toolBar.append(r),this.appendPreview(this.toolBar),this.toolBar.ejToolbar({isResponsive:!0,height:t+"px",width:i+"px",cssClass:"e-designer-toolbar e-report-responsive-toolbar",enableSeparator:!0,click:$.proxy(this.toolbarClick,this)}));this.renderFUpload();this.renderNewFile();this.designer.toolbarTag=this.toolBar;this.ejDesignerTool=this.toolBar.data("ejToolbar")},n.prototype.renderFUpload=function(){var n=this,t=ej.buildTag("div","",{height:"0px"},{id:this.id+"_rdl_upload"});this.designer.element.append(t);t.ejUploadbox({width:"0px",height:"0px",uploadName:"file",extensionsAllow:".rdl",autoUpload:!0,showFileDetails:!1,dialogAction:{content:this.designer.element},saveUrl:this.designer.model.serviceUrl+"/UploadReportAction",fileSelect:$.proxy(this.onfileSelect,this),error:$.proxy(this.onuploadError,this),complete:$.proxy(this.onuploadComplete,this),beforeSend:function(t){n.designer.showDesignIndicator();var i={reportDesignerToken:n.designer.authenticationToken,serviceAuthorizationToken:n.designer.model.serviceAuthorizationToken};n.designer.triggerEvents("ajaxBeforeLoad",i);t.xhr.setRequestHeader("reportDesignerToken",i.reportDesignerToken);t.xhr.setRequestHeader("serviceAuthorizationToken",i.serviceAuthorizationToken)}});$(this.id+"_rdl_upload_SelectButton").hide()},n.prototype.populateMenuItems=function(n,t,i){for(var f,u,s=t.length,o=ej.buildTag("ul.e-designer-menu","",{},{id:this.id+"_"+i+"ConfigMenu"}),e=[],r=0;r<s;r++)if(f=t[r],e.push({id:f.id,text:f.text,parentId:null}),t[r].Items)for(u=0;u<t[r].Items.length;u++)e.push({id:t[r].Items[u].id,text:t[r].Items[u].text,parentId:f.id});n.append(o);o.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+this.toolBar.attr("id"),width:140,subMenuDirection:"right",fields:{dataSource:e,id:"id",parentId:"parentId",text:"text"},click:$.proxy(this.onFileActionChange,this)})},n.prototype.onSettingsLeave=function(){var t=$("#"+this.id+"_openConfigMenu").data("ejMenu"),n;t.hide();n=$("#"+this.id+"_saveConfigMenu").data("ejMenu");n.hide()},n.prototype.onFileActionChange=function(n){var t;n.ID==="fromDevice"?(t=this.designer.triggerEvents("openReportClick",{target:n,select:"Device"}),t||this.browseDiskReport()):n.ID==="fromServer"?(t=this.designer.triggerEvents("openReportClick",{target:n,select:"Server"}),t||this.openServerClick()):n.ID==="save"?(t=this.designer.triggerEvents("saveReportClick",{target:n,select:"Save"}),t||this.designer.saveAsReport()):n.ID==="toDevice"?(t=this.designer.triggerEvents("saveReportClick",{target:n,select:"SaveAsDevice"}),t||this.designer.downloadReport()):n.ID==="toServer"&&(t=this.designer.triggerEvents("saveReportClick",{target:n,select:"SaveAsServer"}),t||this.saveServerClick())},n.prototype.appendToolbarItems=function(n,t,i,r,u){var f=ej.buildTag("li.e-reportdesigner-toolbarli e-designer-toolbar-align "+r,"",{},{id:this.id+"_toolbar_li_"+t,title:t}),e=ej.buildTag("span","",{},{id:this.id+"_toolbar_"+t,"class":"e-reportdesigner-toolbarIconBasic e-toolbarfonticonbasic "+i});f.append(e);n.append(f);u&&u.length>0&&f.attr("e-target",u)},n.prototype.appendSplitBtn=function(n,t,i,r,u){var e=ej.buildTag("li.e-reportdesigner-toolbarli e-designer-splitbtn","",{width:"37px"},{id:this.id+"_toolbar_li_"+t,title:t}),f=ej.buildTag("span.e-split e-drop e-widget","",{width:"37px",display:"inline-table",margin:r},{id:this.id+"_toolbar_"+t}),o=ej.buildTag("span.e-in-wrap e-box e-padding"),s=ej.buildTag("button.e-splitbutton e-js e-btn e-split-btn e-ntouch e-left-btn e-droparrowright e-designer-click e-designer-ejwidgets-splitbtn","",{height:"25px",width:"37px","padding-right":"12px"},{id:this.id+"_splitbtn_"+t,"e-target":u}),h=ej.buildTag("div"),l=ej.buildTag("span.e-toolbarfonticonbasic "+i),c=ej.buildTag("div.e-split-btn-div","",{position:"absolute",height:"100%"}),a=ej.buildTag("span.e-icon e-arrow-sans-down","",{"padding-top":"4px"});c.append(a);h.append(l);s.append(h).append(c);o.append(s);f.append(o);e.append(f);n.append(e);u&&u.length>0&&f.attr("e-target",u)},n.prototype.appendPreview=function(n){var t=ej.buildTag("ul.e-reportdesigner-toolbarul","",{float:"right"}),i=ej.buildTag("div","",{width:"95px",float:"right","box-sizing":"border-box"},{id:this.id+"_div_preview_btn"}),r=ej.buildTag("button.e-reportdesigner-previewbtn","Preview",{"font-size":"13px",float:"right","margin-right":"5px","margin-top":"5.5px","margin-bottom":"5.5px"},{id:this.id+"_previewButton"});i.append(r);t.append(i);n.append(t);r.ejButton({width:"78px",showRoundedCorner:!1,size:"mini",contentType:ej.ContentType.TextAndImage,height:"24px",prefixIcon:"e-toolbarPreview e-reportdesigner-toolbar-preview",click:$.proxy(this.designer.PreviewDashboard,this.designer)})},n.prototype.setZoomSelectedIndex=function(n){this.zoomSelectedIndex=n},n.prototype.getZoomValue=function(n){var t=0;return n?this.zoomSelectedIndex===0?t=parseInt(this.items[this.zoomSelectedIndex].split("%")[0],10):(t=parseInt(this.items[this.zoomSelectedIndex-1].split("%")[0],10),this.zoomSelectedIndex=this.zoomSelectedIndex-1):this.zoomSelectedIndex===this.items.length-1?t=parseInt(this.items[this.zoomSelectedIndex].split("%")[0],10):(t=parseInt(this.items[this.zoomSelectedIndex+1].split("%")[0],10),this.zoomSelectedIndex=this.zoomSelectedIndex+1),t},n.prototype.toolbarClick=function(n){var t,f,r,u,i,e;this.onSettingsLeave(n);t=$(n.target);$(t).hasClass("e-reportdesigner-toolbarli")?t=$(t).find("span.e-li-item"):$(t).closest(".e-reportdesigner-toolbarli")&&(f=$($(t).closest(".e-reportdesigner-toolbarli")),t=f.find("span.e-li-item"));t.hasClass("e-reportdesigner-toolbar-open-folder")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Open"}),i||(r=$("#"+this.id+"_openConfigMenu"),r.is(":visible")?r.hide():this.showOpenMenu(n))):t.hasClass("e-reportdesigner-toolbar-new")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"New"}),i||this.newReportClick()):t.hasClass("e-reportdesigner-toolbar-save")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Save"}),i||(u=$("#"+this.id+"_saveConfigMenu"),u.is(":visible")?u.hide():this.showSaveMenu(n))):t.hasClass("e-reportdesigner-toolbar-undo")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Undo"}),i||window.setTimeout(function(){ejDashboardDesigner.editManager.isUndo()&&ejDashboardDesigner.editManager.undo()},300)):t.hasClass("e-reportdesigner-toolbar-redo")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Redo"}),i||window.setTimeout(function(){ejDashboardDesigner.editManager.isRedo()&&ejDashboardDesigner.editManager.redo()},300)):t.hasClass("e-reportdesigner-toolbar-cut")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Cut"}),i||ejDashboardDesigner.getInstance("DesignPanel").cutItem()):t.hasClass("e-reportdesigner-toolbar-copy")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Copy"}),i||ejDashboardDesigner.getInstance("DesignPanel").copyItem()):t.hasClass("e-reportdesigner-toolbar-paste")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Paste"}),i||ejDashboardDesigner.getInstance("DesignPanel").pasteItem()):t.hasClass("e-reportdesigner-toolbar-delete")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Delete"}),i||ejDashboardDesigner.getInstance("DesignPanel").removeItem()):t.hasClass("e-reportviewer-icon e-reportviewer-refresh")?(i=this.designer.triggerEvents("toolbarClick",{target:t,click:"Refresh"}),i||(e=ejDashboardDesigner.getInstance("RefreshDialog"),e.openRefreshDialog(this.designer.refreshSetting,$.proxy(this.designer.updateRefreshSetting,this.designer)))):this.designer.triggerEvents("toolbarClick",{target:n,click:"External"})},n.prototype.renderNewFile=function(){var l;this.newFileDiv=ej.buildTag("div.e-userselect","",{padding:"2px"},{id:this.id+"_createFileContainer",title:this.createReportText});var t=ej.buildTag("div","",{width:"100%",height:"80px"}),n=ej.buildTag("table","",{id:this.id+"_createFileInternalContainer"}),i=ej.buildTag("tr","",{}),r=ej.buildTag("td","",{"padding-bottom":"5px"}),a=ej.buildTag("Label.e-designer-fontfamily","File Name",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"}),u=ej.buildTag("tr","",{}),f=ej.buildTag("td","",{}),e=ej.buildTag("input.e-reportdesigner-inputPath e-textbox","",{"padding-left":"8px","border-radius":"2px"},{id:this.id+"_CreateInput"});ej.DashboardUtil.txtWaterMark(e,this.fileWaterMark);var o=ej.buildTag("tr","",{}),s=ej.buildTag("td","",{}),v=ej.buildTag("span.e-reportdesigner-errorLog e-designer-fontfamily","",{"font-size":"12px"}),h=ej.buildTag("button.e-designer-cancelbtn","",{float:"right"},{id:this.id+"_cancelBtn"}),c=ej.buildTag("button.e-designer-okbtn","",{float:"right"},{id:this.id+"_CreateButton"});this.newFileDiv.append(t);t.append(n);n.append(i);i.append(r);r.append(a);n.append(u);u.append(f);f.append(e);n.append(o);o.append(s);s.append(v);$(document.body).append(this.newFileDiv);this.newFileDiv.ejDialog({enableModal:!0,enableResize:!1,showRoundedCorner:!0,minWidth:290,minHeight:100,height:"auto",width:"auto",showOnInit:!1,showFooter:!0,cssClass:"e-designer-dialog"});l=$("#"+this.id+"_createFileContainer_foot");l.append(h).append(c);c.ejButton({size:"mini",enabled:!0,showRoundedCorner:!1,click:$.proxy(this.onCreate,this),text:ejDashboardDesigner.getLocale(this.designer.model.locale).menuBar.createButtonText});h.ejButton({showRoundedCorner:!0,size:"mini",text:"Cancel",click:$.proxy(this.closeNewDialog,this,!0)})},n.prototype.onCreate=function(){var n=$("#"+this.id+"_CreateInput").val(),t=this.newFileDiv.find(".e-reportdesigner-errorLog"),i;n&&n.length>0&&n.toLowerCase()!==this.fileWaterMark.toLowerCase()?(this.callBackfn?ej.DashboardUtil.invokeCallBack(this.callBackfn,{name:n}):(i=n.indexOf(".rdl")===-1?n+".rdl":n,this.designer.newRDLReport(i),t.text("")),this.newFileDiv.ejDialog("close")):t.text("* Specify the report file name")},n.prototype.onfileSelect=function(n){this.designer.reportFileName=n.files[0].name},n.prototype.onuploadError=function(){this.designer.hideDesignIndicator();ej.DashboardUtil.getInstance().ejAlertDialog("Upload","Error in Uploading File. Please Upload again",!1,!0,!1,"")},n.prototype.closeNewDialog=function(){this.newFileDiv.find(".e-reportdesigner-inputPath").removeClass("e-designer-txtmark");this.newFileDiv.data("ejDialog").close()},n.prototype.onuploadComplete=function(n){this.designer.hideDesignIndicator();ej.DashboardUtil.getInstance().doAjaxPost("POST",this.designer.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.openReport,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.openReport,fileName:n.files.name})},{method:"openRdlJSON",instance:this.designer,indicator:["showDesignIndicator","hideDesignIndicator"]})},n.prototype.showPaste=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Paste"))},n.prototype.showCopy=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Copy"))},n.prototype.showDelete=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Delete"))},n.prototype.showCut=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Cut"))},n.prototype.showUndo=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Undo"))},n.prototype.showRedo=function(n){var t=ejDashboardDesigner.getInstance("DesignPanel").isTextEdit;ej.isNullOrUndefined(this.toolBar.data("ejToolbar"))&&this.toolBar.ejToolbar();this.toolBar.ejToolbar(n&&!t?"enableItem":"disableItem",$("#"+this.id+"_toolbar_li_Redo"))},n.prototype.browseDiskReport=function(){$("#"+this.id+"_rdl_upload .e-uploadinput").click()},n.prototype.openNewDialog=function(n){this.callBackfn=n;this.newFileDiv.find(".e-reportdesigner-errorLog").text("");this.newFileDiv.find(".e-reportdesigner-inputPath").val(this.fileWaterMark).addClass("e-designer-txtmark");this.newFileDiv.data("ejDialog").open()},n.prototype.newReportClick=function(){this.callBackfn=null;this.newFileDiv.find(".e-reportdesigner-errorLog").text("");this.newFileDiv.find(".e-reportdesigner-inputPath").val(this.fileWaterMark);this.newFileDiv.data("ejDialog").open()},n.prototype.openServerClick=function(){var n=ejDashboardDesigner.getInstance("BrowseDialog");n.openBrowseDialog(this,"openServerReport",BrowseType.Open)},n.prototype.openServerReport=function(n,t){this.designer.openReport(t+"/"+n.Name,null)},n.prototype.saveServerClick=function(){var n=ejDashboardDesigner.getInstance("BrowseDialog");n.openBrowseDialog(this,"saveServerReport",BrowseType.Save,null,this.designer.reportFileName)},n.prototype.saveServerReport=function(n,t,i){i?this.designer.editServerReport("/"+n.Name+"/"+t):(this.designer.serverCategory={name:t,category:n.Name,categoryId:n.Id},this.designer.createServerReport(this.designer.serverCategory))},n.prototype.showOpenMenu=function(n){var t=$("#"+this.id+"_toolbar_li_Open"),i=t.closest("ul"),r=$("#"+this.id+"_openConfigMenu").data("ejMenu");r.show(t.offset().left,i.offset().top+i.height(),this.toolBar,n)},n.prototype.showSaveMenu=function(n){var t=$("#"+this.id+"_toolbar_li_Save"),i=t.closest("ul"),r=$("#"+this.id+"_saveConfigMenu").data("ejMenu");r.show(t.offset().left,i.offset().top+i.height(),this.toolBar,n)},n.prototype.updateToolbar=function(){var n=this.designer.model.toolbarSettings;this.showToolBar(n.showToolbar);this.showNewBtn(n.items&ej.DashboardDesigner.ToolbarItems.New);this.showOpenBtn(n.items&ej.DashboardDesigner.ToolbarItems.Open);this.showSaveBtn(n.items&ej.DashboardDesigner.ToolbarItems.Save);this.showCutBtn(n.items&ej.DashboardDesigner.ToolbarItems.Cut);this.showCopyBtn(n.items&ej.DashboardDesigner.ToolbarItems.Copy);this.showPasteBtn(n.items&ej.DashboardDesigner.ToolbarItems.Paste);this.showDeletBtn(n.items&ej.DashboardDesigner.ToolbarItems.Delete);this.showUndoBtn(n.items&ej.DashboardDesigner.ToolbarItems.Undo);this.showRedoBtn(n.items&ej.DashboardDesigner.ToolbarItems.Redo);this.showPreview(n.items&ej.DashboardDesigner.ToolbarItems.Preview);this.showDesign(n.items&ej.DashboardDesigner.ToolbarItems.EditDesign)},n.prototype.showToolBar=function(n){this.toolBar.css("display",n?"block":"none")},n.prototype.showNewBtn=function(n){$("#"+this.id+"_toolbar_li_New").css("display",n?"block":"none")},n.prototype.showOpenBtn=function(n){$("#"+this.id+"_toolbar_li_Open").css("display",n?"block":"none")},n.prototype.showSaveBtn=function(n){$("#"+this.id+"_toolbar_li_Save").css("display",n?"block":"none")},n.prototype.showCutBtn=function(n){$("#"+this.id+"_toolbar_li_Cut").css("display",n?"block":"none")},n.prototype.showCopyBtn=function(n){$("#"+this.id+"_toolbar_li_Copy").css("display",n?"block":"none")},n.prototype.showPasteBtn=function(n){$("#"+this.id+"_toolbar_li_Paste").css("display",n?"block":"none")},n.prototype.showDeletBtn=function(n){$("#"+this.id+"_toolbar_li_Delete").css("display",n?"block":"none")},n.prototype.showUndoBtn=function(n){$("#"+this.id+"_toolbar_li_Undo").css("display",n?"block":"none")},n.prototype.showRedoBtn=function(n){$("#"+this.id+"_toolbar_li_Redo").css("display",n?"block":"none")},n.prototype.showPreview=function(n){$("#"+this.id+"_div_preview_btn").css("display",n?"block":"none")},n.prototype.showDesign=function(n){$("#"+this.id+"_viewer_editdiv").css("display",n?"block":"none")},n.prototype.updateRptTextActions=function(){var n=ejDashboardDesigner.getInstance("DesignPanel"),t=n.selectedReportItems&&n.selectedReportItems.length>0;this.showPaste(n.canPaste());this.showCopy(t);this.showCut(t);this.showDelete(t)},n.prototype.updateCulture=function(n){var i=this.id,t;t=ej.DashboardDesigner.Locale[n]?ej.DashboardDesigner.Locale[n].menuBar:ej.DashboardDesigner.Locale["en-US"].menuBar;this.createReportText=t.createReport;this.createButtonText=t.createButtonText;this.openReportText=t.openReport;$("#"+i+"_createFileContainer").html(this.createReportText);$("#"+i+"_CreateButton").html(this.createButtonText);$("#"+i+"_openFileContainer").html(this.openReportText)},n.prototype.updateSize=function(){this.ejDesignerTool.option("width",$("#"+this.id+"_designerContainer").width());this.ejDesignerTool._activeItem=undefined;this.ejDesignerTool._reSizeHandler()},n}();window.ej.createObject("ej.DashboardDesignerUtility.Toolbar",InternalToolbar,window);InternalTreeMapReportItem=function(){function n(){this.controlContainer=null;this.contentContainer=null;this.treemapDiv=null;this.dataGroupInfo=null;this.layoutUpdateTimeOut=null;this.titleValue=null;this.treemapItem=null;this.treeMapJson=null;this.dataSource=null;this.isHeaderVisible=!0;this.controlHeader=null;this.dataConfiguration=null;this.reportName=null;this.controlType=null;this.weightValuePath=null;this.colorValuePath=null;this.cellInfo=null;this.containerProperties=null;this.designPanel=ejDashboardDesigner.getInstance("DesignPanel");this.designId=this.designPanel.reportDesigner._id;this.isDataEnabled=!0;this.designer=ejDashboardDesigner.getInstance("DashboardDesigner");this.dataGroupInfo=ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DataConfiguration"),"createDataGroupInfo");this.dataConfiguration=ejDashboardDesigner.getInstance("DataConfiguration");this.controlType=ejDashboardDesigner.getLocale(this.designer.model.locale).controlType.treeMap;this.propertyPanel=ejDashboardDesigner.getInstance("PropertyPanel");this.containerProperties=ejDashboardDesigner.getInstance("ContainerPropertyItem")}return n.prototype.getContainerInstance=function(){return this.containerProperties},n.prototype.setPropertyElement=function(n,t,i,r){this.propertyPanel.canUpdate=!1;var f=this.propertyPanel.getPropertyElement(this.getPropertyGridItems(),t,n,ej.isNullOrUndefined(r)?-1:r),u=$.extend(!0,{},f);u.categoryName=n;this.propertyPanel.updatePropertyValue(u,"TreeMap",i);this.propertyPanel.canUpdate=!0},n.prototype.getPropertyGridItems=function(){var n={Header:this.treeMapJson.ContainerSettings.Title,Type:"TreeMap",Items:[{CategoryName:"Basic Settings",Items:[{name:"ShowLegend",displayName:"Show Legend",value:this.treeMapJson.ShowLegend,itemType:"bool",enableExpression:!1},]},]};return n.Items.push(this.containerProperties.getContainerSettingItems(this.treeMapJson.ContainerSettings,this.controlContainer,this.controlHeader)),n},n.prototype.renderTreeMapReportElement=function(n,t){try{this.treeMapJson=ejDashboardDesigner.editManager.isPerformAction?$.extend(!0,{},n):n;var r=$("#"+t);this.renderTreeMapElement(r);ejDashboardDesigner.editManager.isPerformAction&&this.designPanel.performItemSelection(this.controlContainer)}catch(i){this.designPanel.logError({Source:this.treeMapJson.UniqueName,Error:i,Type:i.name})}},n.prototype.renderTreeMapItem=function(n,t,i){try{var u=i.attr("id");this.treeMapJson=this.getTreeMapJson();this.treeMapJson.ContainerSettings.Title=this.treeMapJson.UniqueName=this.reportName;this.renderTreeMapElement(i);this.designPanel.performItemSelection(this.controlContainer);ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderTreeMapItem","e-treemap-item",this.treeMapJson.UniqueName,null,[n,u,t])}catch(r){this.designPanel.logError({Source:this.treeMapJson.UniqueName,Error:r,Type:r.name})}},n.prototype.getTreeMapJson=function(){return new TreeMapProperties},n.prototype.renderTreeMapElement=function(){this.treemapItem=ej.buildTag("div.e-treemap-item e-dbrd-widget e-dbrd-control","",{width:"100%",height:this.isHeaderVisible?"calc(100% - "+this.controlHeader.outerHeight(!0)+"px)":"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"treemapItem"+this.treeMapJson.UniqueName});this.treemapElement=ej.buildTag("div.e-treemap-element","",{position:"relative","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{id:this.designId+"treemapElement"+this.treeMapJson.UniqueName});this.contentContainer.append(this.treemapItem);this.treemapItem.ejWaitingPopup({showOnInit:!1,cssClass:this.designId+"_designer_waiting_popup e-designer-loader"});this.controlContainer.data("TreeMap",this);this.treemapItem.append(this.treemapElement);this.dataSource=[{Value:237641326,Row1:"Item1",Column1:1},{Value:152518015,Row1:"Item1",Column1:1},{Value:29672e3,Row1:"Item1",Column1:1},{Value:315645e3,Row1:"Item2",Column1:1},{Value:112336538,Row1:"Item2",Column1:1},{Value:35056064,Row1:"Item2",Column1:1},{Value:47e6,Row1:"Item3",Column1:1},{Value:193946886,Row1:"Item3",Column1:1},{Value:170901e3,Row1:"Item3",Column1:1},{Value:83661e3,Row1:"Item4",Column1:1},{Value:81993e3,Row1:"Item4",Column1:1},{Value:63181775,Row1:"Item4",Column1:1},{Value:83661e3,Row1:"Item5",Column1:1},{Value:81993e3,Row1:"Item5",Column1:1},{Value:63181775,Row1:"Item5",Column1:1}];this.weightValuePath="Value";this.colorValuePath="Value";this.treemapElement.ejTreeMap({dataSource:this.dataSource,enableResize:!0,weightValuePath:this.weightValuePath,colorValuePath:this.colorValuePath,enableDrillDown:!1,showLegend:!1,rangeColorMapping:[{color:"#77A7FB",from:1,to:315645e3,rangeMinimum:1,rangeMaximum:315645e3}],levels:[{groupPath:"Row1",groupGap:0,groupPadding:0,groupBorderThickness:0,showHeader:!1,labelVisibilityMode:"hideonexceededlength",labelPosition:"topleft"}],leafItemSettings:{showLabels:!1,labelPosition:"topleft",labelVisibilityMode:"hideonexceededlength"},highlightBorderThickness:3,highlightBorderBrush:"#666666",drillDownHeaderColor:"#B2B2B2",drillDownSelectionColor:"#FFFFFF"})},n.prototype.showLoadingIndicator=function(){$("#"+this.designId+"treemapItem"+this.treeMapJson.UniqueName).ejWaitingPopup("show")},n.prototype.hideLoadingIndicator=function(){$("#"+this.designId+"treemapItem"+this.treeMapJson.UniqueName).ejWaitingPopup("hide")},n.prototype.updatePropertyChange=function(n,t,i,r){var o,u,f,s,e;switch(n){case"Name":this.treeMapJson.ContainerSettings.Title=i;break;case"EnableDrilldown":this.updateEnableDrilldown(i);break;case"ShowLegend":this.updateShowLegend(i)}if(ej.isNullOrUndefined(o)||(t=o),ejDashboardDesigner.editManager.isPerformAction&&(u=this.designPanel.selectedReportItems,u.length>0))for(f=0;f<u.length;f++)s=u[f],s.attr("id")===this.controlContainer.attr("id")&&(e=$.extend(!0,{},r),e.categoryName=r.categoryName,e.valueList=r.valueList,this.propertyPanel.updatePropertyValue(e,"TreeMap",i));ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemPropertyChanged,"updatePropertyChange","e-treemap-item",this.treeMapJson.UniqueName,[n,i,t,r],[n,t,i,r])},n.prototype.updateEnableDrilldown=function(){var n=this.treemapElement.data("ejTreeMap")},n.prototype.updateShowLegend=function(n){var t=this.treemapElement.data("ejTreeMap");t.model.showLegend=n;this.treeMapJson.ShowLegend=n;this.treemapElement.ejTreeMap("refresh")},n.prototype.updateSize=function(n,t){this.controlContainer.css({width:n,height:t});this.designPanel.updateWidgetSelectionBox(this.controlContainer);this.treeMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);var i=this.treemapElement.data("ejTreeMap");i.option("width","100%");i.option("height","100%");this.treemapElement.ejTreeMap("refresh")},n.prototype.updatePropertyValue=function(n,t,i){switch(t){case"Height":this.setPropertyElement("Position",n,i,1);break;case"Width":this.setPropertyElement("Position",n,i,0);break;case"Left":this.setPropertyElement("Position",n,i,0);break;case"Top":this.setPropertyElement("Position",n,i,1)}},n.prototype.updateItemSize=function(n,t,i,r){this.controlContainer.css({left:n,top:t,width:i,height:r});this.treeMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo);this.designPanel.updateWidgetSelectionBox(this.controlContainer);var u=this.treemapElement.data("ejTreeMap");u.option("width","100%");u.option("height","100%");this.treemapElement.ejTreeMap("refresh")},n.prototype.updatePosition=function(n,t){this.controlContainer.css({left:n,top:t});this.treeMapJson.ContainerSettings.Bounds=ej.DashboardDesignerUtility.Serialization.updateBoundsData(this.cellInfo)},n.prototype.getDefaultCategoriesInfo=function(){var n=[];return n.push({Name:"Measures"}),n.push({Name:"Dimensions"}),n},n.prototype.getDataCategoriesInfo=function(){var n=[];return n.push({Name:"Value",CategoryType:CategoryType.Numeric}),n.push({Name:"Column",CategoryType:CategoryType.Non_Numeric}),n},n.prototype.updateDataGroupInfo=function(n){this.dataGroupInfo=n},n.prototype.updateData=function(n){var t=this.treemapElement.data("ejTreeMap"),r=null,u=null,f=null,i;u=n.formattedData.formatminvalue;f=n.formattedData.formatmaxvalue;ej.DashboardDesignerUtility.Serialization.updateWidgetData(this.treeMapJson,this.dataGroupInfo);ej.isNullOrUndefined(t)||(ej.isNullOrUndefined(n)||n.data==="[]"?(t.model.showLegend=!1,t.model.leafItemSettings.showLabels=!1,t.model.desaturationColorMapping={},t.model.rangeColorMapping[0].from=1,t.model.rangeColorMapping[0].to=315645e3,t.model.rangeColorMapping[0].rangeMinimum=1,t.model.rangeColorMapping[0].rangeMaximum=315645e3,t.model.rangeColorMapping[0].color="#77A7FB"):(r=JSON.parse(n.data),i=this.getColumnList(r),i.length>1?(t.model.dataSource=r,t.model.weightValuePath=i[0].text,t.model.colorValuePath=i[0].text,t.model.levels[0].groupPath=i[1].text,t.model.legendSettings.height=20,t.model.legendSettings.width=200,t.model.legendSettings.height="bottom",t.model.legendSettings.mode="interactive",t.model.legendSettings.leftLabel=this.getFromValue(r,i[0].text),t.model.legendSettings.rightLabel=this.getToValue(r,i[0].text),t.model.leafItemSettings.showLabels=!0,t.model.desaturationColorMapping.from=.1,t.model.desaturationColorMapping.to=1,t.model.desaturationColorMapping.rangeMinimum=u!=null?u:this.getFromValue(r,i[0].text),t.model.desaturationColorMapping.rangeMaximum=f!=null?f:this.getToValue(r,i[0].text),t.model.desaturationColorMapping.color="#77A7FB"):(t.model.showLegend=!1,t.model.leafItemSettings.showLabels=!1,t.model.desaturationColorMapping={},t.model.rangeColorMapping[0].from=1,t.model.rangeColorMapping[0].to=315645e3,t.model.rangeColorMapping[0].rangeMinimum=1,t.model.rangeColorMapping[0].rangeMaximum=315645e3,t.model.rangeColorMapping[0].color="#77A7FB")),this.treemapElement.ejTreeMap("refresh"))},n.prototype.getColumnList=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t],text:i[t]});return r},n.prototype.getFromValue=function(n,t){for(var r=[],u=0,i=0;i<n.length;i++)r.push(n[i][t]);return u=Math.min.apply(null,r),parseFloat(u.toFixed(2))},n.prototype.getToValue=function(n,t){for(var r=[],u=0,i=0;i<n.length;i++)r.push(n[i][t]);return u=Math.max.apply(null,r),parseFloat(u.toFixed(2))},n.prototype.dispose=function(){var n=this.treemapItem.parent();ejDashboardDesigner.editManager.isPerformAction||ejDashboardDesigner.editManager.addCmdAction(CommandAction.ItemDelete,"renderTreeMapReportElement","e-treemap-item",this.treeMapJson.UniqueName,[this.treeMapJson,n.attr("id")],null);$("#"+this.treeMapJson.UniqueName).removeData("TreeMap");$("#"+this.treeMapJson.UniqueName).remove();this.designPanel.selectedReportItems=[]},n.prototype.getReportItem=function(){return this.controlContainer},n.prototype.getReportItemJson=function(){return this.treeMapJson},n}();window.ej.createObject("ej.DashboardDesignerUtility.TreeMapItem",InternalTreeMapReportItem,window);InternalUndoManager=function(){function n(){this.stack=[];this.currentIndex=-1;this.isMergeAction=!1;this.mergeAction=[];this.lastSavedActionIndex=-1;this.isPerformAction=!1;this.stack=[]}return Object.defineProperty(n,"UndoManager",{get:function(){return(this.undoManager===null||this.undoManager===undefined)&&(this.undoManager=new ej.DashboardDesignerUtility.UndoManager),this.undoManager},enumerable:!0,configurable:!0}),n.prototype.setMergeAction=function(n){this.isMergeAction=n;!n&&this.mergeAction.length>0&&(this.cmdAction(this.mergeAction),this.mergeAction=[])},n.prototype.saveActionIndex=function(){this.lastSavedActionIndex=this.currentIndex},n.prototype.cmdAction=function(n){this.isPerformAction||(this.clearRedo(),this.stack.push(n),this.currentIndex++,this.updateToolbar())},n.prototype.isUndo=function(){return this.currentIndex>=0},n.prototype.undo=function(){var n=this.stack[this.currentIndex];this.currentIndex--;this.undoAction(n);this.updateToolbar()},n.prototype.undoAction=function(n){var i,t;if(this.isPerformAction=!0,n.itemType!==undefined)this.performUndoAction(n);else for(i=n,t=0;t<i.length;t++)this.performUndoAction(i[t]);this.isPerformAction=!1},n.prototype.performUndoAction=function(n){n.action===CommandAction.ItemAdd?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),"dispose"):n.action===CommandAction.ItemPropertyChanged?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsOldVal):n.action===CommandAction.ItemResize?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsOldVal):n.action===CommandAction.ItemMove?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsOldVal):n.action===CommandAction.DesignAreaResize?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.ItemDelete?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getItemInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.DataSourceAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeDataSource",n.paramsNewVal):n.action===CommandAction.DataSourceDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertDataSource",n.paramsNewVal):n.action===CommandAction.DataSourceEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.DataSetAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeDataSet",n.paramsNewVal):n.action===CommandAction.DataSetDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertDataSet",n.paramsNewVal):n.action===CommandAction.DataSetEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.DataFieldDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"addDataSetField",n.paramsNewVal):n.action===CommandAction.HeaderFooterAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.ReportPropertyChanged?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.DataAssignAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeItem",n.paramsOldVal):n.action===CommandAction.DataAssignDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"addItem",n.paramsOldVal):n.action===CommandAction.DataAssignUpdate?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"reorderItem",n.paramsOldVal):n.action===CommandAction.UpdateGroup?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateGroupInfo",n.paramsOldVal):n.action===CommandAction.UpdateSort?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateSortInfo",n.paramsOldVal):n.action===CommandAction.UpdateFilter?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateFilterInfo",n.paramsOldVal):n.action===CommandAction.ItemCollectionChanged?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.ParameterAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeParameter",n.paramsNewVal):n.action===CommandAction.ParameterDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertParameter",n.paramsNewVal):n.action===CommandAction.ParameterEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.ParametersAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeParameters",n.paramsNewVal):n.action===CommandAction.ParametersDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"addParameters",n.paramsNewVal):n.action===CommandAction.AddImages?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"deleteImageItems",n.paramsNewVal):n.action===CommandAction.DeleteImages?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertImageItems",n.paramsNewVal):n.action===CommandAction.TextBoxContentUpdate?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsOldVal):n.action===CommandAction.ImageAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeImage",n.paramsNewVal):n.action===CommandAction.ImageDelete&&ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertImage",n.paramsNewVal)},n.prototype.isRedo=function(){return this.currentIndex<this.stack.length-1},n.prototype.redo=function(){this.currentIndex++;var n=this.stack[this.currentIndex];this.redoAction(n);this.updateToolbar()},n.prototype.redoAction=function(n){var i,t;if(this.isPerformAction=!0,n.itemType!==undefined)this.performRedoAction(n);else for(i=n,t=0;t<i.length;t++)this.performRedoAction(i[t]);this.isPerformAction=!1;this.currentIndex===this.lastSavedActionIndex&&ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance("DashboardDesigner"),"updateFileStatus",[!1])},n.prototype.performRedoAction=function(n){if(n.action===CommandAction.ItemAdd)ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getItemInstance(n.itemType),n.method,n.paramsNewVal);else if(n.action===CommandAction.ItemPropertyChanged)ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsNewVal);else if(n.action===CommandAction.ItemResize)ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsNewVal);else if(n.action===CommandAction.ItemMove)ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsNewVal);else if(n.action===CommandAction.DesignAreaResize)ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal);else if(n.action===CommandAction.ItemDelete){var t=$("#"+n.targetTag);t.length>0&&ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),"dispose")}else n.action===CommandAction.DataSourceAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertDataSource",n.paramsOldVal):n.action===CommandAction.DataSourceDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeDataSource",n.paramsOldVal):n.action===CommandAction.DataSourceEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.DataSetAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertDataSet",n.paramsOldVal):n.action===CommandAction.DataSetDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeDataSet",n.paramsOldVal):n.action===CommandAction.DataSetEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.DataFieldDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeDataSetField",n.paramsOldVal):n.action===CommandAction.HeaderFooterAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsOldVal):n.action===CommandAction.ReportPropertyChanged?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.DataAssignAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"addItem",n.paramsOldVal):n.action===CommandAction.DataAssignDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeItem",n.paramsOldVal):n.action===CommandAction.DataAssignUpdate?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"reorderItem",n.paramsNewVal):n.action===CommandAction.UpdateGroup?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateGroupInfo",n.paramsNewVal):n.action===CommandAction.UpdateSort?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateSortInfo",n.paramsNewVal):n.action===CommandAction.UpdateFilter?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"updateFilterInfo",n.paramsNewVal):n.action===CommandAction.ItemCollectionChanged?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.ParameterAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertParameter",n.paramsOldVal):n.action===CommandAction.ParameterDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeParameter",n.paramsOldVal):n.action===CommandAction.ParameterEdit?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),n.method,n.paramsNewVal):n.action===CommandAction.ParametersAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"addParameters",n.paramsOldVal):n.action===CommandAction.ParametersDelete?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeParameters",n.paramsOldVal):n.action===CommandAction.AddImages?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertImageItems",n.paramsOldVal):n.action===CommandAction.DeleteImages?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"deleteImageItems",n.paramsOldVal):n.action===CommandAction.TextBoxContentUpdate?ej.DashboardUtil.invokeMethod(ej.DashboardUtil.getReportItem($("#"+n.targetTag)),n.method,n.paramsNewVal):n.action===CommandAction.ImageAdd?ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"insertImage",n.paramsOldVal):n.action===CommandAction.ImageDelete&&ej.DashboardUtil.invokeMethod(ejDashboardDesigner.getInstance(n.itemType),"removeImage",n.paramsOldVal)},n.prototype.updateToolbar=function(){var t=ejDashboardDesigner.getInstance("DashboardDesigner"),n=ejDashboardDesigner.getInstance("ToolBar");n.showUndo(this.isUndo());n.showRedo(this.isRedo());n.updateRptTextActions();t.updateFileStatus(this.hasItemChanges())},n.prototype.clearRedo=function(){this.stack=this.stack.slice(0,this.currentIndex+1);this.lastSavedActionIndex>this.stack.length-1&&(this.lastSavedActionIndex=-1)},n.prototype.addCmdAction=function(n,t,i,r,u,f){var e={action:n,method:t,itemType:i,paramsNewVal:f,paramsOldVal:u,targetTag:r};this.isMergeAction&&!this.isPerformAction?this.mergeAction.push(e):this.cmdAction(e)},n.prototype.hasItemChanges=function(){return this.currentIndex===this.lastSavedActionIndex?!1:!0},n.prototype.reset=function(){this.currentIndex=-1;this.isPerformAction=!1;this.stack=[];this.updateToolbar()},n}();window.ej.createObject("ej.DashboardDesignerUtility.UndoManager",InternalUndoManager,window),function(n){n[n.ItemAdd=0]="ItemAdd";n[n.ItemDelete=1]="ItemDelete";n[n.ItemMove=2]="ItemMove";n[n.ItemResize=3]="ItemResize";n[n.ItemPropertyChanged=4]="ItemPropertyChanged";n[n.DesignAreaResize=5]="DesignAreaResize";n[n.ReportPropertyChanged=6]="ReportPropertyChanged";n[n.HeaderFooterAdd=7]="HeaderFooterAdd";n[n.DataSourceAdd=8]="DataSourceAdd";n[n.DataSourceEdit=9]="DataSourceEdit";n[n.DataSourceDelete=10]="DataSourceDelete";n[n.DataAssignAdd=11]="DataAssignAdd";n[n.DataAssignDelete=12]="DataAssignDelete";n[n.DataSetAdd=13]="DataSetAdd";n[n.DataSetEdit=14]="DataSetEdit";n[n.DataSetDelete=15]="DataSetDelete";n[n.DataFieldDelete=16]="DataFieldDelete";n[n.DataAssignUpdate=17]="DataAssignUpdate";n[n.UpdateGroup=18]="UpdateGroup";n[n.UpdateSort=19]="UpdateSort";n[n.UpdateFilter=20]="UpdateFilter";n[n.ItemCollectionChanged=21]="ItemCollectionChanged";n[n.ParameterAdd=22]="ParameterAdd";n[n.ParameterEdit=23]="ParameterEdit";n[n.ParameterDelete=24]="ParameterDelete";n[n.ParametersAdd=25]="ParametersAdd";n[n.ParametersDelete=26]="ParametersDelete";n[n.ImageAdd=27]="ImageAdd";n[n.ImageDelete=28]="ImageDelete";n[n.DeleteImages=29]="DeleteImages";n[n.AddImages=30]="AddImages";n[n.TextBoxContentUpdate=31]="TextBoxContentUpdate"}(CommandAction||(CommandAction={}));InternalReportUtil=function(){function n(n,t){this.ejInstance=ej.DashboardUtil.ctrlInstance=n;ej.DashboardUtil.insUtil=this;this.dashboardDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.InitializeClient(t)}return n.getInstance=function(){return this.insUtil},n.getQueryInstance=function(n){return n==="QueryJoiner"?ej.DashboardDesignerUtility.QueryJoiner.QueryJoiner:n==="StoreParameter"?ej.DashboardDesignerUtility.StoreParameter.StoreParameter:n==="QueryFilter"?ej.DashboardDesignerUtility.QueryFilter.QueryFilter:n==="QueryParameter"?ej.DashboardDesignerUtility.QueryParameter.QueryParameter:n==="QueryExpression"?ej.DashboardDesignerUtility.QueryExpression.QueryExpression:n==="SqlEditor"?ej.DashboardDesignerUtility.SqlEditor.Editor:n==="QueryDesigner"?$("#"+this.ctrlInstance._id+"_queryDesigner").length>0?$("#"+this.ctrlInstance._id+"_queryDesigner").data("ejQueryDesigner"):this.ctrlInstance:void 0},Object.defineProperty(n,"MouseEvent",{get:function(){return ej.isNullOrUndefined(this.eventAction)&&(this.eventAction={mouseDown:"mousedown touchstart",mouseUp:"mouseup touchend",mouseMove:"mousemove touchmove",mouseOver:"mouseover",mouseLeave:"mouseleave touchleave"}),this.eventAction},enumerable:!0,configurable:!0}),n.prototype.generateColumns=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push(i[t]);return r},Object.defineProperty(n,"DesignerAction",{get:function(){return ej.isNullOrUndefined(this.designerAction)&&(this.designerAction={openReport:"OpenReport",testConnection:"TestConnection",dataBases:"DataBases",serverInstance:"ServerInstance",databaseSchema:"databaseSchema",executeQuery:"executeQuery",querySchema:"querySchema",openServerReport:"openServerReport",saveServerReport:"saveServerReport",createServerReport:"createServerReport",dataBaseLoad:"DataBaseLoad",rsGenerateToken:"RSGenerateToken",dataSourceCatalog:"DataSourceCatalog",sharedDataSource:"SharedDataSource",dataSetCatalog:"DataSetCatalog",categoryCatalog:"CategoryCatalog",sharedDataSet:"SharedDataSet",loadODBCDrivers:"LoadODBCDrivers",getOBDCDriver:"GetODBCDriver",previewReport:"PreviewReport",reportParameters:"ReportParameters",fetchData:"FetchData",codeView:"CodeView",cancelDataSetEdit:"CancelDataSetEdit",getData:"GetData"}),this.designerAction},enumerable:!0,configurable:!0}),n.getPixelVal=function(n){var i=n.substr(n.length-2,2),t=n.substr(0,n.length-2);switch(i.toLowerCase()){case"in":return parseFloat(t)*96;case"pt":return parseFloat(t)*96/72;case"cm":return parseFloat(t)*96/2.54;case"mm":return parseFloat(t)*96/25.4;case"pc":return parseFloat(t)*16}return parseFloat(t)},n.getSizeVal=function(n){return n.length===0?n:parseFloat(n.substr(0,n.length-2))},n.getUnitVal=function(n,t){var i=n.toString();switch(t.toLowerCase()){case"in":return parseFloat(i)/96+"in";case"pt":return parseFloat(i)*72/96+"pt";case"cm":return parseFloat(i)*(2.54/96)+"cm";case"mm":return parseFloat(i)*(25.4/96)+"mm";case"pc":return parseFloat(i)/16+"pc"}return i+t},n.setAttributes=function(n,t){for(var i in t)n.setAttributeNS(null,i,t[i])},n.destroyEjObjects=function(n){for(var u,f,i,t,e=n.length,r=0;r<e;r++)u=$(n[r]),f=u.data("ejWidgets"),f&&(i=u.data(f[0]),i&&(t=i.element.find(".e-js"),t&&t.length>0&&ej.DashboardUtil.destroyEjObjects(t),t=null,i.destroy()))},n.prototype.doAjaxPost=function(n,t,i,r,u){var h=this,o,e,f,c,s;return u===void 0&&(u=!1),e=this.ejInstance,f={headers:[],data:null,reportDesignerToken:e.authenticationToken,serviceAuthorizationToken:e.model.serviceAuthorizationToken,actionType:i.action},e.triggerEvents("ajaxBeforeLoad",f),f.data&&(c="customData",s=jQuery.parseJSON(i.data),s[c]=f.data,i.data=JSON.stringify(s)),$.ajax({type:n,url:t,async:!0,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",data:i.data,beforeSend:function(n){if(ej.DashboardUtil.clientId!==""&&n.setRequestHeader("ClientID",ej.DashboardUtil.clientId),ej.isNullOrUndefined(h.dashboardDesigner.model.serviceAuthorizationToken)||n.setRequestHeader("Authorization",h.dashboardDesigner.model.serviceAuthorizationToken),r&&r.indicator&&r.indicator.length>0&&(typeof r.indicator[0]=="string"&&typeof r.instance=="object"?ej.DashboardUtil.invokeMethod(r.instance,r.indicator[0]):ej.DashboardUtil.invokeCallBack(r.indicator[0],{})),n.setRequestHeader("reportDesignerToken",f.reportDesignerToken),f.serviceAuthorizationToken.length>0&&n.setRequestHeader("serviceAuthorizationToken",f.serviceAuthorizationToken),f.headers&&f.headers.length>0)for(var t=0;t<f.headers.length;t++)n.setRequestHeader(f.headers[t].Key,f.headers[t].Value)},success:function(n){n&&typeof n.Data!="undefined"&&(n=n.Data);o=n;r&&(r.indicator&&r.indicator.length>0&&(typeof r.indicator[1]=="string"&&typeof r.instance=="object"?ej.DashboardUtil.invokeMethod(r.instance,r.indicator[1]):ej.DashboardUtil.invokeCallBack(r.indicator[1],{})),n&&n.Error?ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Designer",n.Message,!1,!0,!1,"An error occurred in ajax postback"):r.instance&&r.method?ej.DashboardUtil.invokeMethod(r.instance,r.method,[o]):r.fnction&&ej.DashboardUtil.invokeCallBack(r.fnction,o));e.triggerEvents("ajaxSuccess",f)},error:function(n){r&&r.indicator&&r.indicator.length>0&&(typeof r.indicator[1]=="string"&&typeof r.instance=="object"?ej.DashboardUtil.invokeMethod(r.instance,r.indicator[1]):ej.DashboardUtil.invokeCallBack(r.indicator[1],{}));u||(n.readyState!==0||n.responseText?ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Designer",n.responseText,!1,!0,!1,"An error occurred in ajax postback"):ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard Designer","Failed to connect to the Dashboard Service",!1,!0,!1,""));e.triggerEvents("ajaxError",f)},complete:function(n){ej.DashboardUtil.clientId===""&&n.getResponseHeader("ClientID")!==null&&(ej.DashboardUtil.clientId=n.getResponseHeader("ClientID"))}}),o},n.prototype.InitializeClient=function(n){ej.isNullOrUndefined(n)||n===""?this.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+"/Initialize",{action:"",data:{}},{fnction:function(n){ej.DashboardUtil.clientId=n.toString()}},!0):ej.DashboardUtil.clientId=n},n.doPostBack=function(n,t,i){var r={headers:[],reportDesignerToken:i.authenticationToken,serviceAuthorizationToken:i.model.serviceAuthorizationToken},e,u,o,f;i.triggerEvents("ajaxBeforeLoad",r);e=$("<form>").attr({action:n,method:"POST",name:"export"});u=function(n,t){$("<input type='hidden' title='params'>").attr({id:n,name:n,value:t}).appendTo(e)};for(o in t)u(o,t[o]);if(r.headers&&r.headers.length>0)for(f=0;f<r.headers.length;f++)u(r.headers[f].Key,r.headers[f].Value);u("reportDesignerToken",r.reportDesignerToken);r.serviceAuthorizationToken.length>0&&u("serviceAuthorizationToken",r.serviceAuthorizationToken);e.appendTo(document.body).submit().remove()},n.prototype.showTitleTip=function(n,t){var i=$("#"+this.ejInstance._id+"_designer_com_tooltip"),u=n.text(),r;if(i.length===0){r=ej.buildTag("div.e-designer-bottom-tip e-tooltip-wrap e-widget e-designer-tooltip","",{},{id:this.ejInstance._id+"_designer_com_tooltip"});$(document.body).append(r);var f=ej.buildTag("div.e-arrowTip","",{}),o=ej.buildTag("div.e-arrowTipOuter","",{}),s=ej.buildTag("div.e-arrowTipInner","",{}),e=ej.buildTag("div.e-tipContainer"),h=ej.buildTag("div",u,{},{});f.append(o).append(s);e.append(h);r.append(e);r.append(f);i=r}i.find(".e-tipContainer>div").text(u);i.css({display:t?"block":"none",top:n.offset().top-(i.height()+20),left:n.offset().left-10})},n.prototype.tagOverTip=function(n){this.showTitleTip($(n.currentTarget),!0)},n.prototype.tagOutTip=function(n){this.showTitleTip($(n.currentTarget),!1)},n.prototype.titleTip=function(n){n.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.tagOverTip,this));n.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.tagOutTip,this))},n.txtWaterMark=function(n,t,i){n.val()===""&&n.val(t).addClass("e-designer-txtmark");n.bind("focus",$.proxy(ej.DashboardUtil.txtfocus,this,t));n.bind("blur",$.proxy(ej.DashboardUtil.txtblur,this,t));n.bind("change keyup paste",$.proxy(ej.DashboardUtil.txtchange,this,t,i))},n.txtfocus=function(n,t){$(t.target).val()===n&&$(t.target).val("").removeClass("e-designer-txtmark")},n.txtblur=function(n,t){$(t.target).val()===""&&$(t.target).val(n).addClass("e-designer-txtmark")},n.txtchange=function(n,t,i){!ej.isNullOrUndefined(t)&&t&&$(i.target).attr("type",$(i.target).val().length>0?"password":"text")},n.invokeMethod=function(n,t,i){return i&&i.length>0,n[t].apply(n,i)},n.invokeCallBack=function(n,t){var i;n&&(typeof n=="function"?n(t):typeof n=="string"&&window[n]?(i=n,window[i](t)):typeof n=="string"&&this[n]&&(i=n,this[i](t)))},n.getReportItem=function(n){return n.hasClass("e-line")?n.data("Line"):n.hasClass("e-image")?n.data("Image"):n.hasClass("e-rectangle")?n.data("Rectangle"):n.hasClass("e-textboxitem")?n.data("TextBox"):n.hasClass("e-chart-bar")?n.data("Chart"):n.hasClass("e-grid-item")||n.hasClass("e-pivotgrid-item")?n.data("Grid"):n.hasClass("e-gauge")?n.data("Gauge"):n.hasClass("e-subreport")?n.data("SubReport"):n.hasClass("e-combobox-item")?n.data("ComboBox"):n.hasClass("e-listbox-item")?n.data("ListBox"):n.hasClass("e-rangeslider-item")?n.data("Slider"):n.hasClass("e-bubblemap-item")?n.data("BubbleMap"):n.hasClass("e-choroplethmap-item")?n.data("ChoroplethMap"):n.hasClass("e-treemap-item")?n.data("TreeMap"):n.hasClass("e-datepicker-item")?n.data("DatePicker"):n.hasClass("e-card-item")?n.data("Card"):n.hasClass("e-radialgauge-item")?n.data("RadialGauge"):null},n.getBorderStyle=function(n){var t={};return n&&(n.TopBorder&&this.udapteBorderStyle(n.TopBorder,"-top",t),n.BottomBorder&&this.udapteBorderStyle(n.BottomBorder,"-bottom",t),n.LeftBorder&&this.udapteBorderStyle(n.LeftBorder,"-left",t),n.RightBorder&&this.udapteBorderStyle(n.RightBorder,"-right",t),n.Border&&this.udapteBorderStyle(n.Border,"",t)),t},n.udapteBorderStyle=function(n,t,i){n&&(n.Color&&(i["border"+t+"-color"]=n.Color),n.Style&&(i["border"+t+"-style"]=n.Style),n.Width&&n.Width.size&&(i["border"+t+"-width"]=n.Width.size))},n.getPaperSize=function(n){switch(n){case"A3":return{width:11.7,height:16.5};case"A4":return{width:8.27,height:11.69};case"B4(JIS)":return{width:10.12,height:14.33};case"B5(JIS)":return{width:7.17,height:10.12};case"Envelope #10":return{width:4.13,height:9.5};case"Envelope Monarch":return{width:3.88,height:7.5};case"Executive":return{width:7.25,height:10.5};case"Legal":return{width:8.5,height:14};case"Letter":return{width:8.5,height:11};case"Tabloid":return{width:11,height:17}}return null},n.getPaperType=function(n,t){var i=t,r=n;return n<t&&(r=t,i=n),i===11.7&&r===16.5?"A3":i===8.27&&r===11.69?"A4":i===10.12&&r===14.33?"B4(JIS)":i===7.17&&r===10.12?"B5(JIS)":i===4.13&&r===9.5?"Envelope #10":i===3.88&&r===7.5?"Envelope Monarch":i===7.25&&r===10.5?"Executive":i===8.5&&r===14?"Legal":i===8.5&&r===11?"Letter":i===11&&r===17?"Tabloid":"Custom"},n.isGuid=function(n){if(n&&n.length>0){n[0]==="{"&&(n=n.substring(1,n.length-1));return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(n)}return!1},n.isNull=function(n){return n===null},n.isEmptyString=function(n){return typeof n=="string"&&!n.trim()||n===""},n.toLowerCase=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString().toLowerCase():n===0||n===!1?n.toString():""},n.contains=function(n,t,i){return i?!this.isNull(n)&&!this.isNull(t)&&this.toLowerCase(n).indexOf(this.toLowerCase(t))!==-1:!this.isNull(n)&&!this.isNull(t)&&n.toString().indexOf(t)!==-1},n.getFileName=function(n){var t=n.lastIndexOf("/");return t!==-1?n.substr(t+1):n},n.isEqualObj=function(n,t){if(n===null||n===undefined||t===null||t===undefined)return n===t;if(n.constructor!==t.constructor)return!1;if(n instanceof Function||n instanceof RegExp)return n===t;if(n===t||n.valueOf()===t.valueOf())return!0;if(Array.isArray(n)&&n.length!==t.length||n instanceof Date||!(n instanceof Object)||!(t instanceof Object))return!1;var i=Object.keys(n);return Object.keys(t).every(function(n){return i.indexOf(n)!==-1})&&i.every(function(i){return ej.DashboardUtil.isEqualObj(n[i],t[i])})},n.getCacheFolder=function(n){return"../Cache/"+n+"/"},n.encryptData=function(n){return n},n.decryptData=function(n){return n},n.textWidth=function(n,t){var i=$("<span>").hide().appendTo(document.body),r;return i.text(n).css("font",t),r=i.width(),i.remove(),r},n.textHeight=function(n,t){var i=$("<span>").hide().appendTo(document.body),r;return i.text(n).css(t),r=i.height(),i.remove(),r},n.parseQuery=function(n){var r=/(?:^|\W)@(\w+)(?!\w)/g,i=[],t;do t=r.exec(n),t&&i.push("@"+t[1]);while(t);return i},n.getItemInstance=function(n){switch(n){case"Syncfusion.RDL.DOM.Line":case"e-line":return new ej.DashboardDesignerUtility.LineItem;case"Syncfusion.RDL.DOM.Image":case"e-image":return new ej.DashboardDesignerUtility.ImageItem;case"Syncfusion.RDL.DOM.Rectangle":case"e-rectangle":return new ej.DashboardDesignerUtility.RectangleItem;case"Syncfusion.RDL.DOM.TextBox":case"e-textboxitem":return new ej.DashboardDesignerUtility.TextBoxItem;case"Syncfusion.RDL.DOM.Chart":case"e-chart-bar":return new ej.DashboardDesignerUtility.ChartItem;case"Syncfusion.RDL.DOM.Tablix":case"e-grid-item":return new ej.DashboardDesignerUtility.GridItem;case"e-pivotgrid-item":return new ej.DashboardDesignerUtility.PivotGridItem;case"Syncfusion.RDL.DOM.Gauge":case"e-gauge":return new ej.DashboardDesignerUtility.GaugeItem;case"Syncfusion.RDL.DOM.SubReport":case"e-subreport":return new ej.DashboardDesignerUtility.SubReportItem}return null},n.isExpression=function(n){return ej.isNullOrUndefined(n)||!ej.isNullOrUndefined(n)&&(n.toString().length<1||n.toString().length>=1&&n.toString()[0]!=="=")},n.getExpression=function(n){if(n){var t=n.toLowerCase(),i="",u=n.startsWith("=Fields!")?6:7,r=!1;if(t=ej.DashboardUtil.contains(t,".value",!0)?n.substring(t.lastIndexOf(".value")+u).trim():n.trim(),ej.DashboardUtil.contains(n,"!",!0)&&!ej.DashboardUtil.contains(n,"'",!0)&&t.length<1){var f=n.indexOf("!"),e=n.indexOf("."),o=f+1;n.startsWith("=Fields!")?(r=!1,i=n.substring(o,e)):(r=!0,i=n)}else r=!0,i=n;return{exp:i,isExp:r}}return{exp:"",isExp:!1}},n.rplSpecialChar=function(n){return n.replace(/([ #$%&()*+,./:;<=>?@\[\\\]^\{|}~])/g,"_")},n.escapeSelector=function(n){var t={"&":"__amp__","<":"__lt__",">":"__gt__","\\":"__34__","'":"__39__","(":"__oparen__",")":"__cparen__","{":"__obraces__","}":"__cbraces__","[":"__obrackets__","]":"__cbrackets__","*":"__star__",$:"__dollar__","%":"__percen__","+":"__plus__",",":"__comma__",".":"__dot__"," ":"__space__",":":"__col__",";":"__semmi__","=":"__equal__","?":"__quest__","~":"__delta__","^":"__power__","#":"__hash__"};return n.replace(/([ #$%&()*+,./:;<=>?@\[\\\]^\{|}~])/g,function(n){return t[n]})},n.getDataTypeStyle=function(n){var i="e-reportdesigner-dataset-misc",t=n.DataType?n.DataType.toLowerCase():"";return n.IsPrimaryKey?i="e-reportdesigner-dataset-primarykey e-number":t==="datetime"||t==="smalldatetime"||t==="system.dateTime"||t==="system.timeSpan"||t==="date"?i="e-reportdesigner-dataset-datetime":t==="tinyint"||t==="smallint"||t==="int"||t==="bigint"||t==="smallmoney"||t==="money"||t==="numeric"||t==="decimal"||t==="real"||t==="float"||t==="system.double"||t==="system.single"||t==="system.decimal"||t==="system.byte"||t==="system.int16"||t==="system.int32"||t==="system.int64"||t==="integer"?i="e-reportdesigner-dataset-number":t==="bit"||t==="system.boolean"||t==="boolean"?i="e-reportdesigner-dataset-boolean":t==="varchar"||t==="nvarchar"||t==="nchar"||t.indexOf("char")!==-1?i="e-reportdesigner-dataset-char":(t==="text"||t==="ntext"||t==="string")&&(i="e-reportdesigner-dataset-string"),i},n.getDatasetTypeIcon=function(n){return n==="System.Int32"||n==="System.UInt32"||n==="System.Decimal"||n==="System.Double"||n==="System.Single"||n==="System.Int64"||n==="System.UInt64"||n==="System.Int16"||n==="System.UInt16"||n.toLowerCase()==="integer"||n.toLowerCase()==="real"?"e-reportdesigner-dataset-number":n==="System.String"||n.toLowerCase()==="string"?"e-reportdesigner-dataset-string":n==="System.Char"?"e-reportdesigner-dataset-char":n==="System.DateTime"||n.toLowerCase()==="date"?"e-reportdesigner-dataset-datetime":n==="System.Boolean"||n.toLowerCase()==="boolean"?"e-reportdesigner-dataset-boolean":"e-reportdesigner-dataset-misc"},n.renderErrIndictor=function(n,t,i){var r=ej.buildTag("span.e-designer-error-icon e-reportdesigner-errorinfo e-error-tip","",{float:"right",display:"none"},{"e-errormsg":i});n.append(r);r.bind(ej.DashboardUtil.MouseEvent.mouseOver+" "+ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(ej.DashboardUtil.showErrTip,this,t));r.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(ej.DashboardUtil.hideErrTip,this,t))},n.showErrIndictor=function(n,t,i){var r=n.find(".e-error-tip");r.attr("e-errormsg",i).css("display",t?"block":"none")},n.showErrTip=function(n,t){var i,r;event.preventDefault();i=$(t.currentTarget);r=$("#"+n+"_error_tooltip");$("#"+n+"_error_tooltip_content").text(i.attr("e-errormsg"));var e=i.offset(),u=i.closest(".e-dialog.e-widget"),f=1e3;u&&u.length>0&&(f=parseInt(u.css("zIndex"),10)+1);r.css({left:e.left+i.width()/2-r.width(),top:e.top+i.height()+i.height()/2,display:"block",zIndex:isNaN(f)?1e3:f})},n.hideErrTip=function(n){$("#"+n+"_error_tooltip").css("display","none")},n.renderErrorToolTip=function(n){if($("#"+n+"_error_tooltip").length===0){var t=ej.buildTag("div.e-designer-right-tip e-tooltip-wrap e-widget e-designer-tooltip e-designer-error-tip","",{display:"none"},{id:n+"_error_tooltip"}),i=ej.buildTag("div.e-tipContainer"),r=ej.buildTag("div","",{},{id:n+"_error_tooltip_content"});$(document.body).append(t);t.append(i);i.append(r)}},n.prototype.getAlertDialog=function(n){var t=$("#"+n+"_designer_alert"),w;if(t.length>0)return t;t=ej.buildTag("div","",{height:"auto"},{id:n+"_designer_alert"});var i=ej.buildTag("div","",{height:"auto",display:"block"}),f=ej.buildTag("div","",{display:"block",width:"100%",height:"auto"}),e=ej.buildTag("table.e-designer-exp-table","",{width:"100%"}),o=ej.buildTag("tr","",{}),s=ej.buildTag("td","",{width:"50px","vertical-align":"middle"},{id:n+"_icon_cell"}),h=ej.buildTag("div","",{display:"inline-block",float:"left",width:"40px",height:"40px","vertical-align":"middle","text-align":"center","line-height":"1"}),r=ej.buildTag("div","",{display:"table",width:"100%"},{id:n+"_error_icon"});this.getErrorIcon(r,n+"_error_msg_icon","e-reportdesigner-alert-msg",4);this.getErrorIcon(r,n+"_error_info_icon","e-reportdesigner-alert-info",3);var c=ej.buildTag("td","",{"max-width":"430px"},{id:n+"_content_cell"}),l=ej.buildTag("div.e-designer-cursor","",{width:"auto","word-wrap":"break-word","line-height":"1"}),b=ej.buildTag("span.e-designer-fontfamily","",{"font-size":"13px"},{id:n+"_short_content"}),a=ej.buildTag("div","",{display:"block",width:"100%",height:"100%"},{id:n+"_alert_link_div"}),v=ej.buildTag("a.e-designer-fontfamily","Show details",{"font-size":"12px","font-weight":"600","margin-bottom":"18px","margin-top":"18px","margin-left":"57px",color:"#179bd7","text-decoration":"none",outline:"none"},{href:"javascript:void(0);",color:"#0B0080",id:n+"_alert_link_detail"}),u=ej.buildTag("div.e-reportdesigner-scroller","",{"word-wrap":"break-word","overflow-y":"hidden",height:"200px",width:"475px",margin:"24px 0px 0px 5px",border:"1px solid #c8c8c8",display:"none","border-radius":"2px"},{id:n+"_msg_container"}),k=ej.buildTag("span.e-designer-error-content","",{width:"100%"},{id:n+"_detail_content"}),y=ej.buildTag("button.e-designer-content e-designer-alert-okbtn","Yes",{float:"right","margin-right":"10px"},{id:n+"_alert_footerOk"}),p=ej.buildTag("button.e-designer-content e-designer-alert-cancelbtn","No",{float:"right"},{id:n+"_alert_footerCancel"});return $(document.body).append(t),t.append(i),i.append(f),f.append(e),e.append(o),o.append(s).append(c),s.append(h),h.append(r),c.append(l),l.append(b),i.append(a),a.append(v),i.append(u),u.append(k),t.ejDialog({enableModal:!0,enableResize:!1,showRoundedCorner:!0,cssClass:"e-fe-dialog e-designer-alertbox",minWidth:400,minHeight:"auto",backgroundScroll:!1,height:"auto",showOnInit:!0,showFooter:!0}),v.bind("click",$.proxy(this.alertShowDetails,this,n)),w=$("#"+n+"_designer_alert_foot"),w.append(p).append(y),y.ejButton({width:"75px",height:"28px",showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,size:"small"}),p.ejButton({width:"75px",height:"28px",showRoundedCorner:!1,contentType:ej.ContentType.TextAndImage,size:"small"}),u.ejScroller({buttonSize:0,height:"100px",scrollerSize:9}),t},n.prototype.getErrorIcon=function(n,t,i,r){for(var e,f=ej.buildTag("div.e-designer-cursor e-widgeticon "+i,"",{display:"none",width:"34px",height:"34px","font-size":"34px"},{id:t}),u=0;u<r;u++)e=ej.buildTag("span","",{},{"class":"path"+(u+1).toString()}),f.append(e);n.append(f)},n.prototype.ejAlertDialog=function(n,t,i,r,u,f,e){var o=this.ejInstance._id,a=this.getAlertDialog(o),c=a.data("ejDialog"),v=u?380:i?0:519;c.setModel({title:n,height:"auto",width:v});var s=$("#"+o+"_alert_footerOk"),h=$("#"+o+"_alert_footerCancel"),l=$("#"+o+"_designer_alert_closebutton");$("#"+o+"_alert_link_detail").text("Show Details");c.open();$("#"+o+"_designer_alert_wrapper").css("height","auto");$("#"+o+"_designer_alert_wrapper").children(".e-dialog-scroller").css("height","auto");$("#"+o+"_designer_alert").css("height","auto");u?($("#"+o+"_error_icon").find(".e-reportdesigner-alert-msg").css("display","none"),$("#"+o+"_error_icon").find(".e-reportdesigner-alert-info").css("display","table-cell")):($("#"+o+"_error_icon").find(".e-reportdesigner-alert-msg").css("display","table-cell"),$("#"+o+"_error_icon").find(".e-reportdesigner-alert-info").css("display","none"));r?($("#"+o+"_icon_cell").css("display","table-cell"),$("#"+o+"_content_cell").css("max-width","430px"),$("#"+o+"_alert_link_div").css("display","block")):($("#"+o+"_alert_link_div").css("display","none"),$("#"+o+"_icon_cell").css("display","none"),$("#"+o+"_content_cell").css("max-width","480px"));!i&&ej.DashboardUtil.textHeight(t,{width:"430px","font-size":"13px"})>150?($("#"+o+"_short_content").html(f),$("#"+o+"_detail_content").html(t)):($("#"+o+"_short_content").html(t),$("#"+o+"_alert_link_div").css("display","none"));$("#"+o+"_msg_container").css("display","none");i?(h.text("No"),s.css("display","block")):(h.text("OK"),s.css("display","none"));s.unbind("click",$.proxy(this.onFooterOkClick,this.ejInstance));h.unbind("click",$.proxy(this.onFooterCancelClick,this.ejInstance));l.unbind("click",$.proxy(this.onFooterCancelClick,this.ejInstance));s.bind("click",$.proxy(this.onFooterOkClick,this.ejInstance,e,o));h.bind("click",$.proxy(this.onFooterCancelClick,this.ejInstance,e,o));l.bind("click",$.proxy(this.onFooterCancelClick,this.ejInstance,e,o))},n.prototype.alertShowDetails=function(n){var t=$("#"+n+"_msg_container");t.is(":visible")?(t.css("display","none"),$("#"+n+"_alert_link_detail").text("Show Details")):($("#"+n+"_designer_alert_wrapper").children(".e-dialog-scroller").css("height","auto"),$("#"+n+"_designer_alert").css("height","auto"),t.css("display","block"),t.data("ejScroller").refresh(),$("#"+n+"_alert_link_detail").text("Hide Details"))},n.prototype.onFooterOkClick=function(n,t){var i=$("#"+t+"_designer_alert").data("ejDialog");i&&i.close();n&&n.instance&&n.method&&ej.DashboardUtil.invokeMethod(n.instance,n.method,[!0,n.dataInfo])},n.prototype.onFooterCancelClick=function(n,t){var i=$("#"+t+"_designer_alert").data("ejDialog");i&&i.close();n&&n.instance&&n.method&&ej.DashboardUtil.invokeMethod(n.instance,n.method,[!1,n.dataInfo])},n.createDataSource=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.DataSource",Name:"",Transaction:!1,DataSourceReference:null,SecurityType:"DataBase",ConnectionProperties:{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.ConnectionProperties",ConnectString:"",EmbedCredentials:!1,DataProvider:"",IsDesignState:!1,IntegratedSecurity:!1,UserName:"",PassWord:"",Prompt:"",DSNName:"",Service:"",Port:""}}},n.getColorCode=function(n){if(!ej.isNullOrUndefined(n)){var t=n.toLowerCase(),i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};if(ej.isNullOrUndefined(i[t])){if(t==="transparent"||t==="#00ffffff")return""}else return i[t];return n}},n.getFontNames=function(){return["Agency FB","Aharoni","Aldhabi","Algerian","Andalus","Angsana New","AngsanaUPC","Aparajita","Arabic Typesetting","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Baskerville Old Face","Batang","BatangChe","Bauhaus 93","Bell MT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","Blackadder ITC","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Book Antiqua","Bookman Old Style","Bookshelf Symbol 7","Bradley Hand ITC","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Buxton Sketch","Calibri","Calibri Light","Californian FB","Calisto MT","Cambria","Cambria Math","Candara","Castellar","Centaur","Century","Century Gothic","Century Schoolbook","Chiller","Colonna MT","Comic Sans MS","Consolas","Constantia","Cooper Black","Copperplate Gothic Bold","Copperplate Gothic Light","Corbel","Cordia New","CordiaUPC","Courier New","Curlz MT","DaunPenh","David","DengXian","DFKai-SB","DilleniaUPC","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","Engravers MT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","Estrangelo Edessa","EucrosiaUPC","Euphemia","FangSong","Felix Titling","Footlight MT Light","Forte","Franklin Gothic Book","Franklin Gothic Demi","Franklin Gothic Demi Cond","Franklin Gothic Heavy","Franklin Gothic Medium","Franklin Gothic Medium Cond","FrankRuehl","FreesiaUPC","Freestyle Script","French Script MT","Gabriola","Gadugi","Garamond","Gautami","Georgia","Gigi","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","Goudy Old Style","Goudy Stout","Gulim","GulimChe","Gungsuh","GungsuhChe","Haettenschweiler","Harlow Solid Italic","Harrington","High Tower Text","Impact","Imprint MT Shadow","Informal Roman","IrisUPC","Iskoola Pota","JasmineUPC","Javanese Text","Jokerman","Juice ITC","KaiTi","Kalinga","Kartika","Khmer UI","KodchiangUPC","Kokila","Kristen ITC","Kunstler Script","Lao UI","Latha","Leelawadee","Leelawadee UI","Leelawadee UI Semilight","Levenim MT","LilyUPC","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Magneto","Maiandra GD","Malgun Gothic","Mangal","Marlett","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft JhengHei Light","Microsoft JhengHei UI","Microsoft JhengHei UI Light","Microsoft MHei","Microsoft NeoGothic","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft YaHei Light","Microsoft YaHei UI","Microsoft YaHei UI Light","Microsoft Yi Baiti","MingLiU","MingLiU-ExtB","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","Miriam","Miriam Fixed","Mistral","Modern No. 20","Mongolian Baiti","Monotype Corsiva","MoolBoran","MS Gothic","MS Mincho","MS Outlook","MS PGothic","MS PMincho","MS Reference Sans Serif","MS Reference Specialty","MS UI Gothic","MT Extra","MV Boli","Myanmar Text","Narkisim","Niagara Engraved","Niagara Solid","Nirmala UI","Nirmala UI Semilight","NSimSun","Nyala","OCR A Extended","Old English Text MT","Onyx","Palace Script MT","Palatino Linotype","Papyrus","Parchment","Perpetua","Perpetua Titling MT","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Pristina","Raavi","Rage Italic","Ravie","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Sakkal Majalla","Script MT Bold","Segoe Marker","Segoe Print","Segoe Script","Segoe UI","Segoe UI Black","Segoe UI Emoji","Segoe UI Light","Segoe UI Semibold","Segoe UI Semilight","Segoe UI Symbol","Segoe WP","Segoe WP Black","Segoe WP Light","Segoe WP Semibold","Segoe WP SemiLight","Shonar Bangla","Showcard Gothic","Shruti","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sitka Banner","Sitka Display","Sitka Heading","Sitka Small","Sitka Subheading","Sitka Text","SketchFlow Print","Snap ITC","Stencil","Sylfaen","Symbol","Tahoma","Tempus Sans ITC","Times New Roman","Traditional Arabic","Trebuchet MS","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","Urdu Typesetting","Utsaah","Vani","Verdana","Vijaya","Viner Hand ITC","Vivaldi","Vladimir Script","Vrinda","Webdings","Wide Latin","Wingdings","Wingdings 2","Wingdings 3","Yu Gothic","Yu Gothic Light","Yu Mincho","Yu Mincho Demibold","Yu Mincho Light"]},n.getCultures=function(){return[{Name:"aa-DJ",DisplayName:"Afar (Djibouti)",CurrencySymbol:"Fdj",CurrencyCode:"DJF"},{Name:"aa-ER",DisplayName:"Afar (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"Nfk"},{Name:"aa-ET",DisplayName:"Afar (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"Br"},{Name:"af-NA",DisplayName:"Afrikaans (Namibia)",CurrencySymbol:"$",CurrencyCode:"NAD"},{Name:"af-ZA",DisplayName:"Afrikaans (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"agq-CM",DisplayName:"Aghem (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"FCFA"},{Name:"ak-GH",DisplayName:"Akan (Ghana)",CurrencySymbol:"GH₵",CurrencyCode:"GHS"},{Name:"sq-AL",DisplayName:"Albanian (Albania)",CurrencySymbol:"Lekë",CurrencyCode:"ALL"},{Name:"sq-XK",DisplayName:"Albanian (Kosovo)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sq-MK",DisplayName:"Albanian (Macedonia, FYRO)",CurrencySymbol:"den",CurrencyCode:"MKD"},{Name:"gsw-FR",DisplayName:"Alsatian (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"gsw-LI",DisplayName:"Alsatian (Liechtenstein)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"gsw-CH",DisplayName:"Alsatian (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"am-ET",DisplayName:"Amharic (Ethiopia)",CurrencySymbol:"ብር",CurrencyCode:"AMD"},{Name:"ar-DZ",DisplayName:"Arabic (Algeria)",CurrencySymbol:"د.ج.‏",CurrencyCode:"DZD"},{Name:"ar-BH",DisplayName:"Arabic (Bahrain)",CurrencySymbol:"د.ب.‏",CurrencyCode:"BHD"},{Name:"ar-TD",DisplayName:"Arabic (Chad)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ar-KM",DisplayName:"Arabic (Comoros)",CurrencySymbol:"CF",CurrencyCode:"KMF"},{Name:"ar-DJ",DisplayName:"Arabic (Djibouti)",CurrencySymbol:"Fdj",CurrencyCode:"DJF"},{Name:"ar-EG",DisplayName:"Arabic (Egypt)",CurrencySymbol:"ج.م.‏",CurrencyCode:"EGP"},{Name:"ar-ER",DisplayName:"Arabic (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"ar-IQ",DisplayName:"Arabic (Iraq)",CurrencySymbol:"د.ع.‏",CurrencyCode:"IQD"},{Name:"ar-IL",DisplayName:"Arabic (Israel)",CurrencySymbol:"₪",CurrencyCode:"ILS"},{Name:"ar-JO",DisplayName:"Arabic (Jordan)",CurrencySymbol:"د.ا.‏",CurrencyCode:"JOD"},{Name:"ar-KW",DisplayName:"Arabic (Kuwait)",CurrencySymbol:"د.ك.‏",CurrencyCode:"KWD"},{Name:"ar-LB",DisplayName:"Arabic (Lebanon)",CurrencySymbol:"ل.ل.‏",CurrencyCode:"LBP"},{Name:"ar-LY",DisplayName:"Arabic (Libya)",CurrencySymbol:"د.ل.‏",CurrencyCode:"LYD"},{Name:"ar-MR",DisplayName:"Arabic (Mauritania)",CurrencySymbol:"أ.م.‏",CurrencyCode:"MRO"},{Name:"ar-MA",DisplayName:"Arabic (Morocco)",CurrencySymbol:"د.م.‏",CurrencyCode:"MAD"},{Name:"ar-OM",DisplayName:"Arabic (Oman)",CurrencySymbol:"ر.ع.‏",CurrencyCode:"OMR"},{Name:"ar-PS",DisplayName:"Arabic (Palestinian Authority)",CurrencySymbol:"₪",CurrencyCode:"ILS"},{Name:"ar-QA",DisplayName:"Arabic (Qatar)",CurrencySymbol:"ر.ق.‏",CurrencyCode:"QAR"},{Name:"ar-SA",DisplayName:"Arabic (Saudi Arabia)",CurrencySymbol:"ر.س.‏",CurrencyCode:"SAR"},{Name:"ar-SO",DisplayName:"Arabic (Somalia)",CurrencySymbol:"S",CurrencyCode:"SOS"},{Name:"ar-SS",DisplayName:"Arabic (South Sudan)",CurrencySymbol:"£",CurrencyCode:"SSP"},{Name:"ar-SD",DisplayName:"Arabic (Sudan)",CurrencySymbol:"ج.س.",CurrencyCode:"SDG"},{Name:"ar-SY",DisplayName:"Arabic (Syria)",CurrencySymbol:"ل.س.‏",CurrencyCode:"SYP"},{Name:"ar-TN",DisplayName:"Arabic (Tunisia)",CurrencySymbol:"د.ت.‏",CurrencyCode:"TND"},{Name:"ar-AE",DisplayName:"Arabic (U.A.E.)",CurrencySymbol:"د.إ.‏",CurrencyCode:"AED"},{Name:"ar-001",DisplayName:"Arabic (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"ar-YE",DisplayName:"Arabic (Yemen)",CurrencySymbol:"ر.ي.‏",CurrencyCode:"YER"},{Name:"hy-AM",DisplayName:"Armenian (Armenia)",CurrencySymbol:"֏",CurrencyCode:"AMD"},{Name:"as-IN",DisplayName:"Assamese (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ast-ES",DisplayName:"Asturian (Spain)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"asa-TZ",DisplayName:"Asu (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"az-Cyrl-AZ",DisplayName:"Azerbaijani (Cyrillic, Azerbaijan)",CurrencySymbol:"₼",CurrencyCode:"AZN"},{Name:"az-Latn-AZ",DisplayName:"Azerbaijani (Latin, Azerbaijan)",CurrencySymbol:"₼",CurrencyCode:"AZN"},{Name:"ksf-CM",DisplayName:"Bafia (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"bm-Latn-ML",DisplayName:"Bambara (Latin, Mali)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"bn-BD",DisplayName:"Bangla (Bangladesh)",CurrencySymbol:"৳",CurrencyCode:"BDT"},{Name:"bn-IN",DisplayName:"Bangla (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"bas-CM",DisplayName:"Basaa (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ba-RU",DisplayName:"Bashkir (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"eu-ES",DisplayName:"Basque (Basque)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"be-BY",DisplayName:"Belarusian (Belarus)",CurrencySymbol:"Br",CurrencyCode:"BYN"},{Name:"bem-ZM",DisplayName:"Bemba (Zambia)",CurrencySymbol:"K",CurrencyCode:"ZMW"},{Name:"bez-TZ",DisplayName:"Bena (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"byn-ER",DisplayName:"Blin (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"brx-IN",DisplayName:"Bodo (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"bs-Cyrl-BA",DisplayName:"Bosnian (Cyrillic, Bosnia and Herzegovina)",CurrencySymbol:"КМ",CurrencyCode:"BAM"},{Name:"bs-Latn-BA",DisplayName:"Bosnian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"br-FR",DisplayName:"Breton (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"bg-BG",DisplayName:"Bulgarian (Bulgaria)",CurrencySymbol:"лв.",CurrencyCode:"BGN"},{Name:"my-MM",DisplayName:"Burmese (Myanmar)",CurrencySymbol:"K",CurrencyCode:"MMK"},{Name:"ca-AD",DisplayName:"Catalan (Andorra)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ca-ES",DisplayName:"Catalan (Catalan)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ca-FR",DisplayName:"Catalan (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ca-IT",DisplayName:"Catalan (Italy)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"tzm-Arab-MA",DisplayName:"Central Atlas Tamazight (Arabic, Morocco)",CurrencySymbol:"MAD",CurrencyCode:"MAD"},{Name:"tzm-Latn-MA",DisplayName:"Central Atlas Tamazight (Latin, Morocco)",CurrencySymbol:"MAD",CurrencyCode:"MAD"},{Name:"tzm-Tfng-MA",DisplayName:"Central Atlas Tamazight (Tifinagh, Morocco)",CurrencySymbol:"ⴷⵔ",CurrencyCode:"MAD"},{Name:"ku-Arab-IQ",DisplayName:"Central Kurdish (Iraq)",CurrencySymbol:"د.ع.‏",CurrencyCode:"IQD"},{Name:"ce-RU",DisplayName:"Chechen (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"chr-Cher-US",DisplayName:"Cherokee (Cherokee)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"cgg-UG",DisplayName:"Chiga (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"zh-Hans-HK",DisplayName:"Chinese (Simplified Han, Hong Kong SAR)",CurrencySymbol:"$",CurrencyCode:"HKD"},{Name:"zh-Hans-MO",DisplayName:"Chinese (Simplified Han, Macao SAR)",CurrencySymbol:"MOP$",CurrencyCode:"MOP"},{Name:"zh-CN",DisplayName:"Chinese (Simplified, PRC)",CurrencySymbol:"¥",CurrencyCode:"CNY"},{Name:"zh-SG",DisplayName:"Chinese (Simplified, Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"zh-HK",DisplayName:"Chinese (Traditional, Hong Kong S.A.R.)",CurrencySymbol:"HK$",CurrencyCode:"HKD"},{Name:"zh-MO",DisplayName:"Chinese (Traditional, Macao S.A.R.)",CurrencySymbol:"MOP",CurrencyCode:"MOP"},{Name:"zh-TW",DisplayName:"Chinese (Traditional, Taiwan)",CurrencySymbol:"NT$",CurrencyCode:"TWD"},{Name:"cu-RU",DisplayName:"Church Slavic (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"kw-GB",DisplayName:"Cornish (United Kingdom)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"co-FR",DisplayName:"Corsican (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"hr-HR",DisplayName:"Croatian (Croatia)",CurrencySymbol:"kn",CurrencyCode:"HRK"},{Name:"hr-BA",DisplayName:"Croatian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"cs-CZ",DisplayName:"Czech (Czech Republic)",CurrencySymbol:"Kč",CurrencyCode:"CZK"},{Name:"da-DK",DisplayName:"Danish (Denmark)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"da-GL",DisplayName:"Danish (Greenland)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"prs-AF",DisplayName:"Dari (Afghanistan)",CurrencySymbol:"؋",CurrencyCode:"AFN"},{Name:"dv-MV",DisplayName:"Divehi (Maldives)",CurrencySymbol:"ރ.",CurrencyCode:"MVR"},{Name:"dua-CM",DisplayName:"Duala (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"nl-AW",DisplayName:"Dutch (Aruba)",CurrencySymbol:"Afl.",CurrencyCode:"AWG"},{Name:"nl-BE",DisplayName:"Dutch (Belgium)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"nl-BQ",DisplayName:"Dutch (Bonaire, Sint Eustatius and Saba)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"nl-CW",DisplayName:"Dutch (Curaçao)",CurrencySymbol:"NAf.",CurrencyCode:"ANG"},{Name:"nl-NL",DisplayName:"Dutch (Netherlands)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"nl-SX",DisplayName:"Dutch (Sint Maarten)",CurrencySymbol:"NAf.",CurrencyCode:"ANG"},{Name:"nl-SR",DisplayName:"Dutch (Suriname)",CurrencySymbol:"$",CurrencyCode:"SRD"},{Name:"dz-BT",DisplayName:"Dzongkha (Bhutan)",CurrencySymbol:"Nu.",CurrencyCode:"BTN"},{Name:"bin-NG",DisplayName:"Edo (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"ebu-KE",DisplayName:"Embu (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"en-AS",DisplayName:"English (American Samoa)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-AI",DisplayName:"English (Anguilla)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-AG",DisplayName:"English (Antigua and Barbuda)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-AU",DisplayName:"English (Australia)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-AT",DisplayName:"English (Austria)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-BS",DisplayName:"English (Bahamas)",CurrencySymbol:"$",CurrencyCode:"BSD"},{Name:"en-BB",DisplayName:"English (Barbados)",CurrencySymbol:"$",CurrencyCode:"BBD"},{Name:"en-BE",DisplayName:"English (Belgium)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-BZ",DisplayName:"English (Belize)",CurrencySymbol:"$",CurrencyCode:"BZD"},{Name:"en-BM",DisplayName:"English (Bermuda)",CurrencySymbol:"$",CurrencyCode:"BMD"},{Name:"en-BW",DisplayName:"English (Botswana)",CurrencySymbol:"P",CurrencyCode:"BWP"},{Name:"en-IO",DisplayName:"English (British Indian Ocean Territory)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"en-VG",DisplayName:"English (British Virgin Islands)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"en-BI",DisplayName:"English (Burundi)",CurrencySymbol:"FBu",CurrencyCode:"BIF"},{Name:"en-CM",DisplayName:"English (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"en-CA",DisplayName:"English (Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"en-029",DisplayName:"English (Caribbean)",CurrencySymbol:"EC$",CurrencyCode:"XCD"},{Name:"en-KY",DisplayName:"English (Cayman Islands)",CurrencySymbol:"$",CurrencyCode:"KYD"},{Name:"en-CX",DisplayName:"English (Christmas Island)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-CC",DisplayName:"English (Cocos [Keeling] Islands)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-CK",DisplayName:"English (Cook Islands)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-CY",DisplayName:"English (Cyprus)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-DK",DisplayName:"English (Denmark)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"en-DM",DisplayName:"English (Dominica)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-ER",DisplayName:"English (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"en-150",DisplayName:"English (Europe)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"en-FK",DisplayName:"English (Falkland Islands)",CurrencySymbol:"£",CurrencyCode:"FKP"},{Name:"en-FJ",DisplayName:"English (Fiji)",CurrencySymbol:"$",CurrencyCode:"FJD"},{Name:"en-FI",DisplayName:"English (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-GM",DisplayName:"English (Gambia)",CurrencySymbol:"D",CurrencyCode:"GMD"},{Name:"en-DE",DisplayName:"English (Germany)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-GH",DisplayName:"English (Ghana)",CurrencySymbol:"GH₵",CurrencyCode:"GHS"},{Name:"en-GI",DisplayName:"English (Gibraltar)",CurrencySymbol:"£",CurrencyCode:"GIP"},{Name:"en-GD",DisplayName:"English (Grenada)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-GU",DisplayName:"English (Guam)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-GG",DisplayName:"English (Guernsey)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"en-GY",DisplayName:"English (Guyana)",CurrencySymbol:"$",CurrencyCode:"GYD"},{Name:"en-HK",DisplayName:"English (Hong Kong SAR)",CurrencySymbol:"$",CurrencyCode:"HKD"},{Name:"en-IN",DisplayName:"English (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"en-ID",DisplayName:"English (Indonesia)",CurrencySymbol:"Rp",CurrencyCode:"IDR"},{Name:"en-IE",DisplayName:"English (Ireland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-IM",DisplayName:"English (Isle of Man)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"en-IL",DisplayName:"English (Israel)",CurrencySymbol:"₪",CurrencyCode:"ILS"},{Name:"en-JM",DisplayName:"English (Jamaica)",CurrencySymbol:"$",CurrencyCode:"JMD"},{Name:"en-JE",DisplayName:"English (Jersey)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"en-KE",DisplayName:"English (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"en-KI",DisplayName:"English (Kiribati)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-LS",DisplayName:"English (Lesotho)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"en-LR",DisplayName:"English (Liberia)",CurrencySymbol:"$",CurrencyCode:"LRD"},{Name:"en-MO",DisplayName:"English (Macao SAR)",CurrencySymbol:"MOP$",CurrencyCode:"MOP"},{Name:"en-MG",DisplayName:"English (Madagascar)",CurrencySymbol:"Ar",CurrencyCode:"MGA"},{Name:"en-MW",DisplayName:"English (Malawi)",CurrencySymbol:"MK",CurrencyCode:"MWK"},{Name:"en-MY",DisplayName:"English (Malaysia)",CurrencySymbol:"RM",CurrencyCode:"MYR"},{Name:"en-MT",DisplayName:"English (Malta)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-MH",DisplayName:"English (Marshall Islands)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-MU",DisplayName:"English (Mauritius)",CurrencySymbol:"Rs",CurrencyCode:"MUR"},{Name:"en-FM",DisplayName:"English (Micronesia)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"en-MS",DisplayName:"English (Montserrat)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-NA",DisplayName:"English (Namibia)",CurrencySymbol:"$",CurrencyCode:"NAD"},{Name:"en-NR",DisplayName:"English (Nauru)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-NL",DisplayName:"English (Netherlands)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-NZ",DisplayName:"English (New Zealand)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-NG",DisplayName:"English (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"en-NU",DisplayName:"English (Niue)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-NF",DisplayName:"English (Norfolk Island)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-MP",DisplayName:"English (Northern Mariana Islands)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-PK",DisplayName:"English (Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"en-PW",DisplayName:"English (Palau)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"en-PG",DisplayName:"English (Papua New Guinea)",CurrencySymbol:"K",CurrencyCode:"PGK"},{Name:"en-PN",DisplayName:"English (Pitcairn Islands)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-PR",DisplayName:"English (Puerto Rico)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-PH",DisplayName:"English (Republic of the Philippines)",CurrencySymbol:"₱",CurrencyCode:"PHP"},{Name:"en-RW",DisplayName:"English (Rwanda)",CurrencySymbol:"RF",CurrencyCode:"RWF"},{Name:"en-KN",DisplayName:"English (Saint Kitts and Nevis)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-LC",DisplayName:"English (Saint Lucia)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-VC",DisplayName:"English (Saint Vincent and the Grenadines)",CurrencySymbol:"$",CurrencyCode:"XCD"},{Name:"en-WS",DisplayName:"English (Samoa)",CurrencySymbol:"WS$",CurrencyCode:"WST"},{Name:"en-SC",DisplayName:"English (Seychelles)",CurrencySymbol:"SR",CurrencyCode:"SCR"},{Name:"en-SL",DisplayName:"English (Sierra Leone)",CurrencySymbol:"Le",CurrencyCode:"SLL"},{Name:"en-SG",DisplayName:"English (Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"en-SX",DisplayName:"English (Sint Maarten)",CurrencySymbol:"NAf.",CurrencyCode:"ANG"},{Name:"en-SI",DisplayName:"English (Slovenia)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"en-SB",DisplayName:"English (Solomon Islands)",CurrencySymbol:"$",CurrencyCode:"SBD"},{Name:"en-ZA",DisplayName:"English (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"en-SS",DisplayName:"English (South Sudan)",CurrencySymbol:"£",CurrencyCode:"SSP"},{Name:"en-SH",DisplayName:"English (St Helena, Ascension, Tristan da Cunha)",CurrencySymbol:"£",CurrencyCode:"SHP"},{Name:"en-SD",DisplayName:"English (Sudan)",CurrencySymbol:"SDG",CurrencyCode:"SDG"},{Name:"en-SZ",DisplayName:"English (Swaziland)",CurrencySymbol:"E",CurrencyCode:"SZL"},{Name:"en-SE",DisplayName:"English (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"en-CH",DisplayName:"English (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"en-TZ",DisplayName:"English (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"en-TK",DisplayName:"English (Tokelau)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-TO",DisplayName:"English (Tonga)",CurrencySymbol:"T$",CurrencyCode:"TOP"},{Name:"en-TT",DisplayName:"English (Trinidad and Tobago)",CurrencySymbol:"$",CurrencyCode:"TTD"},{Name:"en-TC",DisplayName:"English (Turks and Caicos Islands)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"en-TV",DisplayName:"English (Tuvalu)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-UG",DisplayName:"English (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"en-GB",DisplayName:"English (United Kingdom)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"en-US",DisplayName:"English (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-UM",DisplayName:"English (US Minor Outlying Islands)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-VI",DisplayName:"English (US Virgin Islands)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-VU",DisplayName:"English (Vanuatu)",CurrencySymbol:"VT",CurrencyCode:"VUV"},{Name:"en-001",DisplayName:"English (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"en-ZM",DisplayName:"English (Zambia)",CurrencySymbol:"K",CurrencyCode:"ZMW"},{Name:"en-ZW",DisplayName:"English (Zimbabwe)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"eo-001",DisplayName:"Esperanto (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"et-EE",DisplayName:"Estonian (Estonia)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ee-GH",DisplayName:"Ewe (Ghana)",CurrencySymbol:"GH₵",CurrencyCode:"GHS"},{Name:"ee-TG",DisplayName:"Ewe (Togo)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"ewo-CM",DisplayName:"Ewondo (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fo-DK",DisplayName:"Faroese (Denmark)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"fo-FO",DisplayName:"Faroese (Faroe Islands)",CurrencySymbol:"kr",CurrencyCode:"DKK"},{Name:"fil-PH",DisplayName:"Filipino (Philippines)",CurrencySymbol:"₱",CurrencyCode:"PHP"},{Name:"fi-FI",DisplayName:"Finnish (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-DZ",DisplayName:"French (Algeria)",CurrencySymbol:"DA",CurrencyCode:"DZD"},{Name:"fr-BE",DisplayName:"French (Belgium)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-BJ",DisplayName:"French (Benin)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-BF",DisplayName:"French (Burkina Faso)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-BI",DisplayName:"French (Burundi)",CurrencySymbol:"FBu",CurrencyCode:"BIF"},{Name:"fr-CM",DisplayName:"French (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-CA",DisplayName:"French (Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"fr-029",DisplayName:"French (Caribbean)",CurrencySymbol:"EC$",CurrencyCode:"XCD"},{Name:"fr-CF",DisplayName:"French (Central African Republic)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-TD",DisplayName:"French (Chad)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-KM",DisplayName:"French (Comoros)",CurrencySymbol:"CF",CurrencyCode:"KMF"},{Name:"fr-CD",DisplayName:"French (Congo DRC)",CurrencySymbol:"FC",CurrencyCode:"CDF"},{Name:"fr-CG",DisplayName:"French (Congo)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-CI",DisplayName:"French (Côte d’Ivoire)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-DJ",DisplayName:"French (Djibouti)",CurrencySymbol:"Fdj",CurrencyCode:"DJF"},{Name:"fr-GQ",DisplayName:"French (Equatorial Guinea)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-FR",DisplayName:"French (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-GF",DisplayName:"French (French Guiana)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-PF",DisplayName:"French (French Polynesia)",CurrencySymbol:"FCFP",CurrencyCode:"XPF"},{Name:"fr-GA",DisplayName:"French (Gabon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"fr-GP",DisplayName:"French (Guadeloupe)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-GN",DisplayName:"French (Guinea)",CurrencySymbol:"FG",CurrencyCode:"GNF"},{Name:"fr-HT",DisplayName:"French (Haiti)",CurrencySymbol:"G",CurrencyCode:"HTG"},{Name:"fr-LU",DisplayName:"French (Luxembourg)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-MG",DisplayName:"French (Madagascar)",CurrencySymbol:"Ar",CurrencyCode:"MGA"},{Name:"fr-ML",DisplayName:"French (Mali)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-MQ",DisplayName:"French (Martinique)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-MR",DisplayName:"French (Mauritania)",CurrencySymbol:"UM",CurrencyCode:"MRO"},{Name:"fr-MU",DisplayName:"French (Mauritius)",CurrencySymbol:"Rs",CurrencyCode:"MUR"},{Name:"fr-YT",DisplayName:"French (Mayotte)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-MC",DisplayName:"French (Monaco)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-MA",DisplayName:"French (Morocco)",CurrencySymbol:"DH",CurrencyCode:"MAD"},{Name:"fr-NC",DisplayName:"French (New Caledonia)",CurrencySymbol:"FCFP",CurrencyCode:"XPF"},{Name:"fr-NE",DisplayName:"French (Niger)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-RE",DisplayName:"French (Reunion)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-RW",DisplayName:"French (Rwanda)",CurrencySymbol:"RF",CurrencyCode:"RWF"},{Name:"fr-BL",DisplayName:"French (Saint Barthélemy)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-MF",DisplayName:"French (Saint Martin)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-PM",DisplayName:"French (Saint Pierre and Miquelon)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fr-SN",DisplayName:"French (Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-SC",DisplayName:"French (Seychelles)",CurrencySymbol:"SR",CurrencyCode:"SCR"},{Name:"fr-CH",DisplayName:"French (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"fr-SY",DisplayName:"French (Syria)",CurrencySymbol:"LS",CurrencyCode:"SYP"},{Name:"fr-TG",DisplayName:"French (Togo)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"fr-TN",DisplayName:"French (Tunisia)",CurrencySymbol:"DT",CurrencyCode:"TND"},{Name:"fr-VU",DisplayName:"French (Vanuatu)",CurrencySymbol:"VT",CurrencyCode:"VUV"},{Name:"fr-WF",DisplayName:"French (Wallis and Futuna)",CurrencySymbol:"FCFP",CurrencyCode:"XPF"},{Name:"fy-NL",DisplayName:"Frisian (Netherlands)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"fur-IT",DisplayName:"Friulian (Italy)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ff-CM",DisplayName:"Fulah (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ff-GN",DisplayName:"Fulah (Guinea)",CurrencySymbol:"FG",CurrencyCode:"GNF"},{Name:"ff-Latn-SN",DisplayName:"Fulah (Latin, Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"ff-MR",DisplayName:"Fulah (Mauritania)",CurrencySymbol:"UM",CurrencyCode:"MRO"},{Name:"ff-NG",DisplayName:"Fulah (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"gl-ES",DisplayName:"Galician (Galician)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"lg-UG",DisplayName:"Ganda (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"ka-GE",DisplayName:"Georgian (Georgia)",CurrencySymbol:"₾",CurrencyCode:"GEL"},{Name:"de-AT",DisplayName:"German (Austria)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"de-BE",DisplayName:"German (Belgium)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"de-DE",DisplayName:"German (Germany)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"de-LI",DisplayName:"German (Liechtenstein)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"de-LU",DisplayName:"German (Luxembourg)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"de-CH",DisplayName:"German (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"el-CY",DisplayName:"Greek (Cyprus)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"el-GR",DisplayName:"Greek (Greece)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"kl-GL",DisplayName:"Greenlandic (Greenland)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"gn-PY",DisplayName:"Guarani (Paraguay)",CurrencySymbol:"₲",CurrencyCode:"PYG"},{Name:"gu-IN",DisplayName:"Gujarati (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"guz-KE",DisplayName:"Gusii (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"ha-Latn-GH",DisplayName:"Hausa (Latin, Ghana)",CurrencySymbol:"GH₵",CurrencyCode:"GHS"},{Name:"ha-Latn-NE",DisplayName:"Hausa (Latin, Niger)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"ha-Latn-NG",DisplayName:"Hausa (Latin, Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"haw-US",DisplayName:"Hawaiian (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"he-IL",DisplayName:"Hebrew (Israel)",CurrencySymbol:"₪",CurrencyCode:"ILS"},{Name:"hi-IN",DisplayName:"Hindi (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"hu-HU",DisplayName:"Hungarian (Hungary)",CurrencySymbol:"Ft",CurrencyCode:"HUF"},{Name:"ibb-NG",DisplayName:"Ibibio (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"is-IS",DisplayName:"Icelandic (Iceland)",CurrencySymbol:"ISK",CurrencyCode:"ISK"},{Name:"ig-NG",DisplayName:"Igbo (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"id-ID",DisplayName:"Indonesian (Indonesia)",CurrencySymbol:"Rp",CurrencyCode:"IDR"},{Name:"ia-FR",DisplayName:"Interlingua (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ia-001",DisplayName:"Interlingua (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"iu-Latn-CA",DisplayName:"Inuktitut (Latin, Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"iu-Cans-CA",DisplayName:"Inuktitut (Syllabics, Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"ga-IE",DisplayName:"Irish (Ireland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"xh-ZA",DisplayName:"isiXhosa (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"zu-ZA",DisplayName:"isiZulu (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"it-IT",DisplayName:"Italian (Italy)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"it-SM",DisplayName:"Italian (San Marino)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"it-CH",DisplayName:"Italian (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"ja-JP",DisplayName:"Japanese (Japan)",CurrencySymbol:"¥",CurrencyCode:"JPY"},{Name:"jv-Latn-ID",DisplayName:"Javanese (Indonesia)",CurrencySymbol:"Rp",CurrencyCode:"IDR"},{Name:"jv-Java-ID",DisplayName:"Javanese (Javanese, Indonesia)",CurrencySymbol:"Rp",CurrencyCode:"IDR"},{Name:"dyo-SN",DisplayName:"Jola-Fonyi (Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"kea-CV",DisplayName:"Kabuverdianu (Cabo Verde)",CurrencySymbol:"​",CurrencyCode:"CVE"},{Name:"kab-DZ",DisplayName:"Kabyle (Algeria)",CurrencySymbol:"DA",CurrencyCode:"DZD"},{Name:"kkj-CM",DisplayName:"Kako (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"kln-KE",DisplayName:"Kalenjin (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"kam-KE",DisplayName:"Kamba (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"kn-IN",DisplayName:"Kannada (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"kr-NG",DisplayName:"Kanuri (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"ks-Deva-IN",DisplayName:"Kashmiri (Devanagari, India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ks-Arab-IN",DisplayName:"Kashmiri (Perso-Arabic)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"kk-KZ",DisplayName:"Kazakh (Kazakhstan)",CurrencySymbol:"₸",CurrencyCode:"KZT"},{Name:"km-KH",DisplayName:"Khmer (Cambodia)",CurrencySymbol:"៛",CurrencyCode:"KHR"},{Name:"quc-Latn-GT",DisplayName:"K'iche' (Guatemala)",CurrencySymbol:"Q",CurrencyCode:"GTQ"},{Name:"ki-KE",DisplayName:"Kikuyu (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"rw-RW",DisplayName:"Kinyarwanda (Rwanda)",CurrencySymbol:"RF",CurrencyCode:"RWF"},{Name:"sw-CD",DisplayName:"Kiswahili (Congo DRC)",CurrencySymbol:"FC",CurrencyCode:"CDF"},{Name:"sw-KE",DisplayName:"Kiswahili (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"sw-TZ",DisplayName:"Kiswahili (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"sw-UG",DisplayName:"Kiswahili (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"kok-IN",DisplayName:"Konkani (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ko-KR",DisplayName:"Korean (Korea)",CurrencySymbol:"₩",CurrencyCode:"KRW"},{Name:"ko-KP",DisplayName:"Korean (North Korea)",CurrencySymbol:"₩",CurrencyCode:"KPW"},{Name:"khq-ML",DisplayName:"Koyra Chiini (Mali)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"ses-ML",DisplayName:"Koyraboro Senni (Mali)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"ku-Arab-IR",DisplayName:"Kurdish (Perso-Arabic, Iran)",CurrencySymbol:"IRR",CurrencyCode:"IRR"},{Name:"nmg-CM",DisplayName:"Kwasio (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ky-KG",DisplayName:"Kyrgyz (Kyrgyzstan)",CurrencySymbol:"сом",CurrencyCode:"KGS"},{Name:"lkt-US",DisplayName:"Lakota (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"lag-TZ",DisplayName:"Langi (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"lo-LA",DisplayName:"Lao (Lao P.D.R.)",CurrencySymbol:"₭",CurrencyCode:"LAK"},{Name:"la-001",DisplayName:"Latin (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"lv-LV",DisplayName:"Latvian (Latvia)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ln-AO",DisplayName:"Lingala (Angola)",CurrencySymbol:"Kz",CurrencyCode:"AOA"},{Name:"ln-CF",DisplayName:"Lingala (Central African Republic)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ln-CD",DisplayName:"Lingala (Congo DRC)",CurrencySymbol:"FC",CurrencyCode:"CDF"},{Name:"ln-CG",DisplayName:"Lingala (Congo)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"lt-LT",DisplayName:"Lithuanian (Lithuania)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"dsb-DE",DisplayName:"Lower Sorbian (Germany)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"lu-CD",DisplayName:"Luba-Katanga (Congo DRC)",CurrencySymbol:"FC",CurrencyCode:"CDF"},{Name:"luo-KE",DisplayName:"Luo (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"lb-LU",DisplayName:"Luxembourgish (Luxembourg)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"luy-KE",DisplayName:"Luyia (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"mk-MK",DisplayName:"Macedonian (Former Yugoslav Republic of Macedonia)",CurrencySymbol:"ден",CurrencyCode:"MKD"},{Name:"jmc-TZ",DisplayName:"Machame (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"mgh-MZ",DisplayName:"Makhuwa-Meetto (Mozambique)",CurrencySymbol:"MTn",CurrencyCode:"MZN"},{Name:"kde-TZ",DisplayName:"Makonde (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"mg-MG",DisplayName:"Malagasy (Madagascar)",CurrencySymbol:"Ar",CurrencyCode:"MGA"},{Name:"ms-BN",DisplayName:"Malay (Brunei Darussalam)",CurrencySymbol:"$",CurrencyCode:"BND"},{Name:"ms-SG",DisplayName:"Malay (Latin, Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"ms-MY",DisplayName:"Malay (Malaysia)",CurrencySymbol:"RM",CurrencyCode:"MYR"},{Name:"ml-IN",DisplayName:"Malayalam (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"mt-MT",DisplayName:"Maltese (Malta)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"mni-IN",DisplayName:"Manipuri (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"gv-IM",DisplayName:"Manx (Isle of Man)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"mi-NZ",DisplayName:"Maori (New Zealand)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"arn-CL",DisplayName:"Mapudungun (Chile)",CurrencySymbol:"$",CurrencyCode:"CLP"},{Name:"mr-IN",DisplayName:"Marathi (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"mas-KE",DisplayName:"Masai (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"mas-TZ",DisplayName:"Masai (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"mzn-IR",DisplayName:"Mazanderani (Iran)",CurrencySymbol:"IRR",CurrencyCode:"IRR"},{Name:"mer-KE",DisplayName:"Meru (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"mgo-CM",DisplayName:"Meta' (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"moh-CA",DisplayName:"Mohawk (Mohawk)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"mn-MN",DisplayName:"Mongolian (Cyrillic, Mongolia)",CurrencySymbol:"₮",CurrencyCode:"MNT"},{Name:"mn-Mong-MN",DisplayName:"Mongolian (Traditional Mongolian, Mongolia)",CurrencySymbol:"₮",CurrencyCode:"MNT"},{Name:"mn-Mong-CN",DisplayName:"Mongolian (Traditional Mongolian, PRC)",CurrencySymbol:"¥",CurrencyCode:"MNT"},{Name:"mfe-MU",DisplayName:"Morisyen (Mauritius)",CurrencySymbol:"Rs",CurrencyCode:"MUR"},{Name:"mua-CM",DisplayName:"Mundang (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"naq-NA",DisplayName:"Nama (Namibia)",CurrencySymbol:"$",CurrencyCode:"NAD"},{Name:"ne-IN",DisplayName:"Nepali (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ne-NP",DisplayName:"Nepali (Nepal)",CurrencySymbol:"रु",CurrencyCode:"NPR"},{Name:"nnh-CM",DisplayName:"Ngiemboon (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"jgo-CM",DisplayName:"Ngomba (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"nqo-GN",DisplayName:"N'ko (Guinea)",CurrencySymbol:"ߖߕ.",CurrencyCode:"GNF"},{Name:"nd-ZW",DisplayName:"North Ndebele (Zimbabwe)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"lrc-IR",DisplayName:"Northern Luri (Iran)",CurrencySymbol:"IRR",CurrencyCode:"IRR"},{Name:"lrc-IQ",DisplayName:"Northern Luri (Iraq)",CurrencySymbol:"IQD",CurrencyCode:"IQD"},{Name:"nb-NO",DisplayName:"Norwegian, Bokmål (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"nb-SJ",DisplayName:"Norwegian, Bokmål (Svalbard and Jan Mayen)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"nn-NO",DisplayName:"Norwegian, Nynorsk (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"nus-SS",DisplayName:"Nuer (South Sudan)",CurrencySymbol:"£",CurrencyCode:"SSP"},{Name:"nyn-UG",DisplayName:"Nyankole (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"oc-FR",DisplayName:"Occitan (France)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"or-IN",DisplayName:"Odia (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"om-ET",DisplayName:"Oromo (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"ETB"},{Name:"om-KE",DisplayName:"Oromo (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"os-GE",DisplayName:"Ossetian (Cyrillic, Georgia)",CurrencySymbol:"₾",CurrencyCode:"GEL"},{Name:"os-RU",DisplayName:"Ossetian (Cyrillic, Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"pap-029",DisplayName:"Papiamento (Caribbean)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"ps-AF",DisplayName:"Pashto (Afghanistan)",CurrencySymbol:"؋",CurrencyCode:"AFN"},{Name:"fa-IR",DisplayName:"Persian (Iran)",CurrencySymbol:"ريال",CurrencyCode:"IRR"},{Name:"pl-PL",DisplayName:"Polish (Poland)",CurrencySymbol:"zł",CurrencyCode:"PLN"},{Name:"pt-AO",DisplayName:"Portuguese (Angola)",CurrencySymbol:"Kz",CurrencyCode:"AOA"},{Name:"pt-BR",DisplayName:"Portuguese (Brazil)",CurrencySymbol:"R$",CurrencyCode:"BRL"},{Name:"pt-CV",DisplayName:"Portuguese (Cabo Verde)",CurrencySymbol:"​",CurrencyCode:"CVE"},{Name:"pt-GW",DisplayName:"Portuguese (Guinea-Bissau)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"pt-MO",DisplayName:"Portuguese (Macao SAR)",CurrencySymbol:"MOP$",CurrencyCode:"MOP"},{Name:"pt-MZ",DisplayName:"Portuguese (Mozambique)",CurrencySymbol:"MTn",CurrencyCode:"MZN"},{Name:"pt-PT",DisplayName:"Portuguese (Portugal)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"pt-ST",DisplayName:"Portuguese (São Tomé and Príncipe)",CurrencySymbol:"Db",CurrencyCode:"STD"},{Name:"pt-TL",DisplayName:"Portuguese (Timor-Leste)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"prg-001",DisplayName:"Prussian (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"pa-IN",DisplayName:"Punjabi (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"pa-Arab-PK",DisplayName:"Punjabi (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"quz-BO",DisplayName:"Quechua (Bolivia)",CurrencySymbol:"Bs.",CurrencyCode:"BOB"},{Name:"quz-EC",DisplayName:"Quechua (Ecuador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"quz-PE",DisplayName:"Quechua (Peru)",CurrencySymbol:"S/.",CurrencyCode:"PEN"},{Name:"ksh-DE",DisplayName:"Ripuarian (Germany)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ro-MD",DisplayName:"Romanian (Moldova)",CurrencySymbol:"L",CurrencyCode:"MDL"},{Name:"ro-RO",DisplayName:"Romanian (Romania)",CurrencySymbol:"RON",CurrencyCode:"RON"},{Name:"rm-CH",DisplayName:"Romansh (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"rof-TZ",DisplayName:"Rombo (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"rn-BI",DisplayName:"Rundi (Burundi)",CurrencySymbol:"FBu",CurrencyCode:"BIF"},{Name:"ru-BY",DisplayName:"Russian (Belarus)",CurrencySymbol:"Br",CurrencyCode:"BYN"},{Name:"ru-KZ",DisplayName:"Russian (Kazakhstan)",CurrencySymbol:"₸",CurrencyCode:"KZT"},{Name:"ru-KG",DisplayName:"Russian (Kyrgyzstan)",CurrencySymbol:"сом",CurrencyCode:"KGS"},{Name:"ru-MD",DisplayName:"Russian (Moldova)",CurrencySymbol:"L",CurrencyCode:"MDL"},{Name:"ru-RU",DisplayName:"Russian (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"ru-UA",DisplayName:"Russian (Ukraine)",CurrencySymbol:"₴",CurrencyCode:"UAH"},{Name:"rwk-TZ",DisplayName:"Rwa (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"ssy-ER",DisplayName:"Saho (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"sah-RU",DisplayName:"Sakha (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"saq-KE",DisplayName:"Samburu (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"smn-FI",DisplayName:"Sami, Inari (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"smj-NO",DisplayName:"Sami, Lule (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"smj-SE",DisplayName:"Sami, Lule (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"se-FI",DisplayName:"Sami, Northern (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"se-NO",DisplayName:"Sami, Northern (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"se-SE",DisplayName:"Sami, Northern (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"sms-FI",DisplayName:"Sami, Skolt (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sma-NO",DisplayName:"Sami, Southern (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"sma-SE",DisplayName:"Sami, Southern (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"sg-CF",DisplayName:"Sango (Central African Republic)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"sbp-TZ",DisplayName:"Sangu (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"sa-IN",DisplayName:"Sanskrit (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"gd-GB",DisplayName:"Scottish Gaelic (United Kingdom)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"seh-MZ",DisplayName:"Sena (Mozambique)",CurrencySymbol:"MTn",CurrencyCode:"MZN"},{Name:"sr-Cyrl-BA",DisplayName:"Serbian (Cyrillic, Bosnia and Herzegovina)",CurrencySymbol:"КМ",CurrencyCode:"BAM"},{Name:"sr- Cyrl-XK",DisplayName:"Serbian (Cyrillic, Kosovo)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sr-Cyrl-ME",DisplayName:"Serbian (Cyrillic, Montenegro)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sr-Cyrl-RS",DisplayName:"Serbian (Cyrillic, Serbia)",CurrencySymbol:"дин.",CurrencyCode:"RSD"},{Name:"sr-Latn-BA",DisplayName:"Serbian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"sr-Latn-XK",DisplayName:"Serbian (Latin, Kosovo)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sr-Latn-ME",DisplayName:"Serbian (Latin, Montenegro)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sr-Latn-RS",DisplayName:"Serbian (Latin, Serbia)",CurrencySymbol:"RSD",CurrencyCode:"RSD"},{Name:"st-LS",DisplayName:"Sesotho (Lesotho)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"nso-ZA",DisplayName:"Sesotho sa Leboa (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"tn-BW",DisplayName:"Setswana (Botswana)",CurrencySymbol:"P",CurrencyCode:"BWP"},{Name:"tn-ZA",DisplayName:"Setswana (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"ksb-TZ",DisplayName:"Shambala (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"sn-Latn-ZW",DisplayName:"Shona (Latin, Zimbabwe)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"sd-Deva-IN",DisplayName:"Sindhi (Devanagari, India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"sd-Arab-PK",DisplayName:"Sindhi (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"si-LK",DisplayName:"Sinhala (Sri Lanka)",CurrencySymbol:"රු.",CurrencyCode:"LKR"},{Name:"sk-SK",DisplayName:"Slovak (Slovakia)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sl-SI",DisplayName:"Slovenian (Slovenia)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"xog-UG",DisplayName:"Soga (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"so-DJ",DisplayName:"Somali (Djibouti)",CurrencySymbol:"Fdj",CurrencyCode:"DJF"},{Name:"so-ET",DisplayName:"Somali (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"ETB"},{Name:"so-KE",DisplayName:"Somali (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"so-SO",DisplayName:"Somali (Somalia)",CurrencySymbol:"S",CurrencyCode:"SOS"},{Name:"nr-ZA",DisplayName:"South Ndebele (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"st-ZA",DisplayName:"Southern Sotho (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"es-AR",DisplayName:"Spanish (Argentina)",CurrencySymbol:"$",CurrencyCode:"ARS"},{Name:"es-VE",DisplayName:"Spanish (Bolivarian Republic of Venezuela)",CurrencySymbol:"Bs.",CurrencyCode:"VEF"},{Name:"es-BO",DisplayName:"Spanish (Bolivia)",CurrencySymbol:"Bs",CurrencyCode:"BOB"},{Name:"es-CL",DisplayName:"Spanish (Chile)",CurrencySymbol:"$",CurrencyCode:"CLP"},{Name:"es-CO",DisplayName:"Spanish (Colombia)",CurrencySymbol:"$",CurrencyCode:"COP"},{Name:"es-CR",DisplayName:"Spanish (Costa Rica)",CurrencySymbol:"₡",CurrencyCode:"CRC"},{Name:"es-CU",DisplayName:"Spanish (Cuba)",CurrencySymbol:"$",CurrencyCode:"CUP"},{Name:"es-DO",DisplayName:"Spanish (Dominican Republic)",CurrencySymbol:"$",CurrencyCode:"DOP"},{Name:"es-EC",DisplayName:"Spanish (Ecuador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-SV",DisplayName:"Spanish (El Salvador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-GQ",DisplayName:"Spanish (Equatorial Guinea)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"es-GT",DisplayName:"Spanish (Guatemala)",CurrencySymbol:"Q",CurrencyCode:"GTQ"},{Name:"es-HN",DisplayName:"Spanish (Honduras)",CurrencySymbol:"L",CurrencyCode:"HNL"},{Name:"es-419",DisplayName:"Spanish (Latin America)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"es-MX",DisplayName:"Spanish (Mexico)",CurrencySymbol:"$",CurrencyCode:"MXN"},{Name:"es-NI",DisplayName:"Spanish (Nicaragua)",CurrencySymbol:"C$",CurrencyCode:"NIO"},{Name:"es-PA",DisplayName:"Spanish (Panama)",CurrencySymbol:"B/.",CurrencyCode:"PAB"},{Name:"es-PY",DisplayName:"Spanish (Paraguay)",CurrencySymbol:"₲",CurrencyCode:"PYG"},{Name:"es-PE",DisplayName:"Spanish (Peru)",CurrencySymbol:"S/.",CurrencyCode:"PEN"},{Name:"es-PH",DisplayName:"Spanish (Philippines)",CurrencySymbol:"₱",CurrencyCode:"PHP"},{Name:"es-PR",DisplayName:"Spanish (Puerto Rico)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-ES",DisplayName:"Spanish (Spain)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"es-US",DisplayName:"Spanish (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-UY",DisplayName:"Spanish (Uruguay)",CurrencySymbol:"$",CurrencyCode:"UYU"},{Name:"zgh-Tfng-MA",DisplayName:"Standard Moroccan Tamazight (Tifinagh, Morocco)",CurrencySymbol:"MAD",CurrencyCode:"MAD"},{Name:"ss-ZA",DisplayName:"Swati (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"ss-SZ",DisplayName:"Swati (Swaziland)",CurrencySymbol:"E",CurrencyCode:"SZL"},{Name:"sv-AX",DisplayName:"Swedish (Åland Islands)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sv-FI",DisplayName:"Swedish (Finland)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"sv-SE",DisplayName:"Swedish (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"syr-SY",DisplayName:"Syriac (Syria)",CurrencySymbol:"ܠ.ܣ.‏",CurrencyCode:"SYP"},{Name:"shi- Latn-MA",DisplayName:"Tachelhit (Latin, Morocco)",CurrencySymbol:"MAD",CurrencyCode:"MAD"},{Name:"shi-Tfng-MA",DisplayName:"Tachelhit (Tifinagh, Morocco)",CurrencySymbol:"MAD",CurrencyCode:"MAD"},{Name:"dav-KE",DisplayName:"Taita (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"tg-Cyrl-TJ",DisplayName:"Tajik (Cyrillic, Tajikistan)",CurrencySymbol:"смн",CurrencyCode:"TJS"},{Name:"tzm-Latn-DZ",DisplayName:"Tamazight (Latin, Algeria)",CurrencySymbol:"DA",CurrencyCode:"DZD"},{Name:"ta-IN",DisplayName:"Tamil (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ta-MY",DisplayName:"Tamil (Malaysia)",CurrencySymbol:"RM",CurrencyCode:"MYR"},{Name:"ta-SG",DisplayName:"Tamil (Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"ta-LK",DisplayName:"Tamil (Sri Lanka)",CurrencySymbol:"Rs.",CurrencyCode:"LKR"},{Name:"twq-NE",DisplayName:"Tasawaq (Niger)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"tt-RU",DisplayName:"Tatar (Russia)",CurrencySymbol:"₽",CurrencyCode:"RUB"},{Name:"te-IN",DisplayName:"Telugu (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"teo-KE",DisplayName:"Teso (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"teo-UG",DisplayName:"Teso (Uganda)",CurrencySymbol:"USh",CurrencyCode:"UGX"},{Name:"th-TH",DisplayName:"Thai (Thailand)",CurrencySymbol:"฿",CurrencyCode:"THB"},{Name:"bo-IN",DisplayName:"Tibetan (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"bo-CN",DisplayName:"Tibetan (PRC)",CurrencySymbol:"¥",CurrencyCode:"CNY"},{Name:"tig-ER",DisplayName:"Tigre (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"ti-ER",DisplayName:"Tigrinya (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"ti-ET",DisplayName:"Tigrinya (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"ETB"},{Name:"to-TO",DisplayName:"Tongan (Tonga)",CurrencySymbol:"T$",CurrencyCode:"TOP"},{Name:"ts-ZA",DisplayName:"Tsonga (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"tr-CY",DisplayName:"Turkish (Cyprus)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"tr-TR",DisplayName:"Turkish (Turkey)",CurrencySymbol:"₺",CurrencyCode:"TRY"},{Name:"tk-TM",DisplayName:"Turkmen (Turkmenistan)",CurrencySymbol:"m.",CurrencyCode:"TMT"},{Name:"uk-UA",DisplayName:"Ukrainian (Ukraine)",CurrencySymbol:"₴",CurrencyCode:"UAH"},{Name:"hsb-DE",DisplayName:"Upper Sorbian (Germany)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ur-IN",DisplayName:"Urdu (India)",CurrencySymbol:"₹",CurrencyCode:"INR"},{Name:"ur-PK",DisplayName:"Urdu (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"ug-CN",DisplayName:"Uyghur (PRC)",CurrencySymbol:"¥",CurrencyCode:"CNY"},{Name:"uz-Cyrl-UZ",DisplayName:"Uzbek (Cyrillic, Uzbekistan)",CurrencySymbol:"сўм",CurrencyCode:"UZS"},{Name:"uz-Latn-UZ",DisplayName:"Uzbek (Latin, Uzbekistan)",CurrencySymbol:"soʻm",CurrencyCode:"UZS"},{Name:"uz-Arab-AF",DisplayName:"Uzbek (Perso-Arabic, Afghanistan)",CurrencySymbol:"؋",CurrencyCode:"AFN"},{Name:"vai-Latn-LR",DisplayName:"Vai (Latin, Liberia)",CurrencySymbol:"$",CurrencyCode:"LRD"},{Name:"vai-Vaii-LR",DisplayName:"Vai (Vai, Liberia)",CurrencySymbol:"$",CurrencyCode:"LRD"},{Name:"ca-ES-valencia",DisplayName:"Valencian (Spain)",CurrencySymbol:"€",CurrencyCode:"EUR"},{Name:"ve-ZA",DisplayName:"Venda (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"vi-VN",DisplayName:"Vietnamese (Vietnam)",CurrencySymbol:"₫",CurrencyCode:"VND"},{Name:"vo-001",DisplayName:"Volapük (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"vun-TZ",DisplayName:"Vunjo (Tanzania)",CurrencySymbol:"TSh",CurrencyCode:"TZS"},{Name:"wae-CH",DisplayName:"Walser (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"cy-GB",DisplayName:"Welsh (United Kingdom)",CurrencySymbol:"£",CurrencyCode:"GBP"},{Name:"wal-ET",DisplayName:"Wolaytta (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"ETB"},{Name:"wo-SN",DisplayName:"Wolof (Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"yav-CM",DisplayName:"Yangben (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"ii-CN",DisplayName:"Yi (PRC)",CurrencySymbol:"¥",CurrencyCode:"CNY"},{Name:"yi-001",DisplayName:"Yiddish (World)",CurrencySymbol:"XDR",CurrencyCode:"XDR"},{Name:"yo-BJ",DisplayName:"Yoruba (Benin)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"yo-NG",DisplayName:"Yoruba (Nigeria)",CurrencySymbol:"₦",CurrencyCode:"NGN"},{Name:"dje-NE",DisplayName:"Zarma (Niger)",CurrencySymbol:"CFA",CurrencyCode:"XOF"}]},n.clientId="",n}();window.ej.createObject("ej.DashboardUtil",InternalReportUtil,window);InternalWebDatasource=function(){function n(){this.paramText="Parameters";this.headerText="Headers";this.dashboardDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.dashboardDesigner._id}return Object.defineProperty(n,"WebDatasource",{get:function(){return(this.webDatasource===null||this.webDatasource===undefined)&&(this.webDatasource=new ej.DashboardDesignerUtility.WebDatasource),this.webDatasource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_web_datasource").length>0?this.resetConfiguration():(this.webConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_web_datasource"}),n.append(this.webConfig),this.renderWebDatasourcePanel());this.showConfiguration(!0)},n.prototype.renderWebDatasourcePanel=function(){var t={id:"id",text:"text",value:"value"},n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_web_basic_config"});this.webConfig.append(n);this.datasource.renderDropDownItem("Method",this.id+"_webDs_methodType",n,[{id:"get",text:"GET",value:"GET"},{id:"Post",text:"POST",value:"POST"}],t,"0");this.datasource.renderTextBoxItem("URL",this.id+"_webDs_url",!1,n,427);this.renderParameterFields(n,this.id+"_webDS_parameters",this.paramText);this.renderParameterFields(n,this.id+"_webDS_headers",this.headerText);this.datasource.renderDropDownItem("Refresh Settings",this.id+"_webDs_refresh",n,[{id:"5minutes",text:"5 Minutes",value:"5 Minutes"},{id:"10minutes",text:"10 Minutes",value:"10 Minutes"},{id:"15minutes",text:"15 Minutes",value:"15 Minutes"},{id:"20minutes",text:"20 Minutes",value:"20 Minutes"},{id:"30minutes",text:"30 Minutes",value:"30 Minutes"}],t,"0");this.datasource.renderDropDownItem("Data Format",this.id+"_webDs_dataFormat",n,[{id:"json",text:"JSON",value:"JSON"},{id:"csv",text:"CSV",value:"CSV"}],t,"0");this.datasource.renderDropDownItem("Authentication Type",this.id+"_webDs_authentication",n,[{id:"None",text:"None",value:"None"},{id:"basichttpauthentication",text:"BasicHttpAuthentication",value:"BasicHttpAuthentication"}],t,null,this.onAuthSelect,this);this.datasource.renderTextBoxItem("User Name",this.id+"_basic_auth_username",!1,n,427);this.datasource.renderTextBoxItem("Password",this.id+"_basic_auth_pwd",!0,n,427);this.userName=$("#"+this.id+"_basic_auth_username_tr");this.pwd=$("#"+this.id+"_basic_auth_pwd_tr");$("#"+this.id+"_webDs_authentication")&&(this.authTypeDrpdwn=$("#"+this.id+"_webDs_authentication").data("ejDropDownList"),this.authTypeDrpdwn.selectItemsByIndices("0"));$("#"+this.id+"_webDs_methodType")&&(this.methodTypeDrpdwn=$("#"+this.id+"_webDs_methodType").data("ejDropDownList"));$("#"+this.id+"_webDs_refresh")&&(this.refreshSettingsDrpdwn=$("#"+this.id+"_webDs_refresh").data("ejDropDownList"));this.urlText=$("#"+this.id+"_webDs_url");$("#"+this.id+"_webDs_dataFormat")&&(this.dataFormatDrpdwn=$("#"+this.id+"_webDs_dataFormat").data("ejDropDownList"));this.populateParameterVal([],this.paramText)},n.prototype.renderParameterFields=function(n,t,i){var v=i.toLowerCase()==="parameters"?this.paramText:this.headerText,s=ej.buildTag("tr","",{},{}),h=ej.buildTag("td","",{},{}),u=ej.buildTag("div","",{width:"auto",height:"100%",display:"block","margin-top":"10px",overflow:"auto","margin-left":"4px"},{id:t}),c=ej.buildTag("div","",{},{}),l=ej.buildTag("table","",{},{}),a=ej.buildTag("tr","",{},{}),r=ej.buildTag("td","",{width:"428px"},{}),y=ej.buildTag("Label.e-designer-add-label",v,{},{type:"label"}),f=ej.buildTag("div","",{cursor:"pointer",float:"right","margin-top":"2px"}),p=ej.buildTag("span.e-chk-image e-icon e-plus e-designer-add-icon","",{},{id:this.id+"_"+i+"_add_span"}),e=ej.buildTag("div","",{cursor:"pointer",float:"right"},{}),w=ej.buildTag("span.e-btntxt e-designer-add-btn ","ADD",{},{}),o=ej.buildTag("div.e-reportdesigner-scroller e-designer-border-dialog","",{margin:"0px 0px 4px 0px",height:"126px",width:"431px",padding:"5px 0px"},{id:this.id+"_"+i+"_val_parent"}),b=ej.buildTag("div.e-items","",{},{id:this.id+"_"+i+"_container_div"});n.append(s);s.append(h);h.append(u);u.append(c);c.append(l);l.append(a);a.append(r);r.append(y);r.append(e);e.append(w);r.append(f);f.append(p);u.append(o);o.append(b);o.ejScroller({height:"126px",buttonSize:0,scrollerSize:9,enableTouchScroll:!0});f.bind("click",$.proxy(this.renderSetValueFields,this,i));e.bind("click",$.proxy(this.renderSetValueFields,this,i))},n.prototype.renderSetValueFields=function(n){var y=$("#"+this.id+"_"+n+"_container_div"),r=$("#"+this.id+"_"+n+"_val_parent"),t=ej.getGuid(this.id+"_row_"),u=ej.buildTag("div","",{padding:"4px"},{id:t,rowId:t,"class":"e-reportdesigner-webParam-row"}),f,v;y.append(u);var e=ej.buildTag("table.e-designer-table-dialog","",{width:"100%"},{}),i=ej.buildTag("tr","",{height:"30px"},{}),o=ej.buildTag("td","",{width:"114px"},{id:t+"_"+n+"_lbl_txtCol"}),s=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border e-designer-exclude","",{height:"20px",width:"130px"},{type:"text",id:t+"_"+n+"_lbl_txt"});ej.DashboardUtil.txtWaterMark(s,"Name");u.append(e);e.append(i);i.append(o);o.append(s);var h=ej.buildTag("td","",{width:"60px","padding-right":"5px"},{}),c=ej.buildTag("span.e-chk-image e-icon e-cross-circle e-designer-delete-icon","",{cursor:"default","padding-top":"4px"},{id:t+"_"+n+"_del_icon"}),l=ej.buildTag("td","",{width:"114px","padding-left":"4px"},{}),a=ej.buildTag("input.e-textbox e-designer-textbox-border e-designer-border e-designer-exclude","",{height:"20px",width:"130px"},{type:"text",id:t+"_"+n+"_value_txt"});return ej.DashboardUtil.txtWaterMark(a,"Value"),f=ej.buildTag("td","",{"padding-top":"1px",width:"50px"},{id:t+"_webParam_error_td"}),ej.DashboardUtil.renderErrIndictor(f,this.id),i.append(l),l.append(a),i.append(f),i.append(h),h.append(c),c.bind("click",$.proxy(this.deleteRow,this,u,r)),v=$("#"+this.id+"_"+n+"_container_div").height(),r.height()>v?r.find(".e-content").removeClass("e-content"):this.scrollerRefresh(r),t},n.prototype.populateParameterVal=function(n,t){var i;if(!ej.isNullOrUndefined(n)&&n.length>0)for(i=0;i<n.length;i++){var r=this.renderSetValueFields(t),u=n[i],f=$("#"+r+"_"+t+"_lbl_txt"),e=$("#"+r+"_"+t+"_value_txt");f.removeClass("e-designer-txtmark");e.removeClass("e-designer-txtmark");f.val(u.name);e.val(u.value)}},n.prototype.editConfiguration=function(n){if(this.renderConfiguration(this.datasource.configTable),this.hideValidationMsg(),n){var t=n.ConnectionProperties.ConnectString;this.urlText.val(n.WebUrl);this.methodTypeDrpdwn.setModel({selectItemByValue:n.MethodType});this.authTypeDrpdwn.setModel({selectItemByValue:n.SecurityType});this.refreshSettingsDrpdwn.setModel({selectItemByValue:n.RefreshInterval});this.dataFormatDrpdwn.setModel({selectItemByValue:n.DataFormat});this.userName.val(n.UserName||"");this.pwd.val(n.Password||"");n.Parameters&&this.populateParameterVal(n.Parameters,this.paramText);n.Headers&&this.populateParameterVal(n.Parameters,this.headerText)}},n.prototype.hideValidationMsg=function(){this.datasource.showValidationMsg(this.urlText.attr("id"),!1)},n.prototype.resetConfiguration=function(){this.hideValidationMsg();this.urlText.val("");this.userName.val("");this.pwd.val("");this.methodTypeDrpdwn.setModel({selectedIndex:0});this.refreshSettingsDrpdwn.setModel({selectedIndex:0});this.dataFormatDrpdwn.setModel({selectedIndex:0});this.authTypeDrpdwn.setModel({selectedIndex:0});$("#"+this.id+"_parameters_container_div").empty();$("#"+this.id+"_headers_container_div").empty();this.scrollerRefresh($("#"+this.id+"_parameters_container_div"));this.scrollerRefresh($("#"+this.id+"_headers_container_div"))},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.MethodType=t.MethodType;n.WebUrl=t.WebUrl;n.Parameters=t.Parameters;n.Headers=t.Headers;n.RefreshInterval=t.RefreshInterval;n.DataFormat=t.DataFormat;n.SecurityType=t.SecurityType},n.prototype.showConfiguration=function(n){this.webConfig.css("display",n?"table-row":"none");this.webConfig.children().show()},n.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},n.prototype.deleteRow=function(n,t){n.remove();this.scrollerRefresh(t)},n.prototype.getParameters=function(n){var i=this,r=[],t="",u=!1,f=$("#"+this.id+"_"+n+"_container_div .e-reportdesigner-webParam-row");return(f.each(function(f,e){var o=$(e).attr("id"),s=i.getValues($("#"+o+"_"+n+"_lbl_txt")),h=i.getValues($("#"+o+"_"+n+"_value_txt"));t+=i.validateValues(s,t,$("#"+o+"_"+n+"_lbl_txt"));t+=i.validateValues(h,t,$("#"+o+"_"+n+"_value_txt"));ej.isNullOrUndefined(t)||t.length===0?(r.push({name:s,value:h}),ej.DashboardUtil.showErrIndictor($("#"+o+"_webParam_error_td"),!1,t)):(ej.DashboardUtil.showErrIndictor($("#"+o+"_webParam_error_td"),!0,t),t="",u=!0)}),!u)?{hasErrors:!1,parametersVal:r}:{hasErrors:!0,parametersVal:r}},n.prototype.validateValues=function(n,t,i){var r="";return!ej.isNullOrUndefined(n)&&n.length===0||ej.isNullOrUndefined(n)?(r+="Specify value in fields",this.updateHighlighter(i,!0)):this.updateHighlighter(i,!1),ej.DashboardUtil.contains(t,r,!0)&&(r=""),r},n.prototype.updateHighlighter=function(n,t){t?n.addClass("e-designer-error").addClass("e-designer-error-radius"):n.removeClass("e-designer-error").removeClass("e-designer-error-radius")},n.prototype.getValues=function(n){var t=n.val();return n.hasClass("e-designer-txtmark")?"":t},n.prototype.onAuthSelect=function(n){n.selectedValue==="BasicHttpAuthentication"?(this.userName.show(),this.pwd.show()):(this.userName.hide(),this.pwd.hide())},n.prototype.getDatasourceInfo=function(n){var t=!0,i=this.urlText.val(),f=this.methodTypeDrpdwn.getSelectedValue(),r=this.getParameters(this.paramText),u=this.getParameters(this.headerText),e=this.refreshSettingsDrpdwn.getSelectedValue(),o=this.dataFormatDrpdwn.getSelectedValue(),s=this.authTypeDrpdwn.getSelectedValue(),h=this.userName.find("input").val(),c=this.pwd.find("input").val();return(i.length===0?(this.datasource.showValidationMsg(this.urlText.attr("id"),!0,"Specify the URL"),t=!1):this.hideValidationMsg(),t&&!r.hasErrors&&!u.hasErrors)?{Name:n,Provider:"WEB",MethodType:f,WebUrl:i,Parameters:r.parametersVal,Headers:u.parametersVal,RefreshInterval:e,DataFormat:o,SecurityType:s,UserName:h,Password:c}:null},n}();window.ej.createObject("ej.DashboardDesignerUtility.WebDatasource",InternalWebDatasource,window);var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ComboBoxProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ComboBoxProperties",t.EnableMultiSelection=!1,t}return __extends(t,n),t}(WidgetProperties),GridProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GridProperties",t.AllowSorting=!0,t.HorizontalGridLine=!0,t.VerticalGridLine=!0,t.EnableDataGrouping=!0,t.DisplayNames=[],t}return __extends(t,n),t}(WidgetProperties),GridColumnSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.GridColumnSetting"}return n}(),TreeMapProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TreeMapProperties",t.ShowLegend=!1,t.EnableDrilldown=!1,t}return __extends(t,n),t}(WidgetProperties),MapsCommonProp=function(n){function t(){var t=n.call(this)||this;return t.ShapeData="World_Countries",t.ShapePropertyPath="name",t}return __extends(t,n),t}(WidgetProperties),BubbleMapProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleMapProperties",t.BubbleColor="#77A7FB",t.ShapeColor="#E5E5E5",t}return __extends(t,n),t}(MapsCommonProp),ChoroplethMapProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChoroplethMapProperties",t.ShowLegend=!1,t}return __extends(t,n),t}(MapsCommonProp),DatePickerProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DatePickerProperties",t.LimitDates=!0,t.Type=DatePickerType.Single,t}return __extends(t,n),t}(WidgetProperties),DatePickerType;(function(n){n.Single="single";n.Range="range"})(DatePickerType||(DatePickerType={}));RangeSliderProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RangeSliderProperties",t.Type=RangeSliderType.Range,t.Orientation=RangeSliderOrientation.Horizontal,t}return __extends(t,n),t}(WidgetProperties),function(n){n.Single="Single";n.Range="Range"}(RangeSliderType||(RangeSliderType={})),function(n){n.Horizontal="Horizontal";n.Vertical="Vertical"}(RangeSliderOrientation||(RangeSliderOrientation={}));ListBoxProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ListBoxProperties",t.EnableMultiSelection=!1,t}return __extends(t,n),t}(WidgetProperties);GaugeSettings=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GaugeProperties",t.RangeColor="#77A7FB",t.Direction=GaugeDirection.HighIsGood,t.MinValue=0,t.MaxValue=100,t}return __extends(t,n),t}(WidgetProperties),function(n){n[n.HighIsGood=0]="HighIsGood";n[n.LowIsGood=1]="LowIsGood"}(GaugeDirection||(GaugeDirection={}));var CardProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CardProperties",t.PrimaryValueType=PrimaryValueType.PercentOfTarget,t.SecondaryValueType="Variation",t.ActualValueForeground="#686262",t.TitleSettings=new TitleSetting,t.SubTitleSettings=new SubTitleSetting,t.CustomRangeSettings=new CardCustomRangeSetting,t.ActualValuePrefix="",t.TargetValuePrefix="",t.Direction=GaugeDirection.HighIsGood,t.ValueAlignment=TextAlignment.Right,t}return __extends(t,n),t}(WidgetProperties),TitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.TitleSetting";this.Visibility=!0;this.Alignment=TextAlignment.Left;this.Color="#686262"}return n}(),SubTitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.SubTitleSetting";this.Visibility=!1;this.Color="#686262"}return n}(),CardCustomRangeSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRangeSetting";this.Type=CustomRangeType.Absolute;this.Ranges=[]}return n}(),CustomRangeType;(function(n){n[n.Absolute=0]="Absolute";n[n.Percent=1]="Percent"})(CustomRangeType||(CustomRangeType={})),function(n){n.AbsoluteDifference="Absolute difference";n.PercentOfDifference="Percent of difference";n.PercentOfTarget="Percent of target";n.ActualValue="Actual Value";n.PercentOfChange="Percent of Change"}(PrimaryValueType||(PrimaryValueType={}));var CardCustomRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRange"}return n}(),ChartProperties=function(n){function t(){var t=n.call(this)||this;return t.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChartProperties",t.ChartType=ChartTypes.Column,t.EnableAnimation=!1,t.ShowLegend=!0,t.ShowValueLabels=!1,t.ValueLabelRotation=ValueLabelRotations.None,t.LegendPosition=LegendPositions.Bottom,t.ColorPalette="BrightPastel",t.ShowValueLabelSuffix=!1,t.ValueLabelSuffix="",t.PrimaryValueGridLines=!0,t.CategoryGridLines=!0,t.ShowMarker=!1,t.Axis=new Axis,t.DataLabel=DataLabel.percentage,t}return __extends(t,n),t}(WidgetProperties),Axis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.Axis";this.CategoryAxis=new CategoryAxis;this.PrimaryValueAxis=new PrimaryValueAxis;this.CategoryVlaueAxis=new SecondaryValueAxis}return n}(),CategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CategoryAxis";this.IsEnabled=!0;this.LabelOverflowMode=LabelOverFlowMode.Trim;this.LabelRotation="None";this.ShowTitle=!0;this.Title="Items"}return n}(),PrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.PrimaryValueAxis";this.IsEnabled=!0;this.ShowTitle=!0;this.Title="Values"}return n}(),SecondaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.SecondaryValueAxis";this.IsEnabled=!1;this.ShowTitle=!0;this.Title=""}return n}(),ValueLabelRotations;(function(n){n.None="None";n.Plus45="+45";n.Minus45="-45";n.Plus90="+90";n.Minus90="-90"})(ValueLabelRotations||(ValueLabelRotations={})),function(n){n.Bottom="Bottom";n.Right="Right";n.Left="Left";n.Top="Top"}(LegendPositions||(LegendPositions={})),function(n){n.Column="Column";n.Bar="Bar";n.Line="Line";n.Area="Area";n.Spline="Spline";n.SplineArea="Spline Area";n.StackedColumn="Stacked Column";n.StackedBar="Stacked Bar";n.StackedArea="Stacked Area";n.PercentStackedColumn="100% Stacked Column";n.PercentStackedBar="100% Stacked Bar";n.PercentStackedArea="100% Stacked Area";n.Pie="Pie";n.Doughnut="Doughnut";n.Pyramid="Pyramid";n.Funnel="Funnel"}(ChartTypes||(ChartTypes={})),function(n){n.Trim="Trim";n.Hide="Hide"}(LabelOverFlowMode||(LabelOverFlowMode={})),function(n){n.value="Value";n.percentage="Percentage";n.valueAndPercentage="Value And Percentage"}(DataLabel||(DataLabel={}));var LinkProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LinkProperties";this.Linking=new LinkSetting}return n}(),LinkSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LinkSetting"}return n}(),InternalXMLDataSource=function(){function n(){this.reportDesigner=ejDashboardDesigner.getInstance("DashboardDesigner");this.datasource=ejDashboardDesigner.getInstance("DataSource");this.id=this.reportDesigner._id}return Object.defineProperty(n,"XMLDataSource",{get:function(){return(this.xmldataSource===null||this.xmldataSource===undefined)&&(this.xmldataSource=new ej.DashboardDesignerUtility.XMLDataSource),this.xmldataSource},enumerable:!0,configurable:!0}),n.prototype.renderConfiguration=function(n){n.find("#"+this.id+"_xml_datasource").length>0?this.resetConfiguration():(this.xmlConfig=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_xml_datasource"}),n.append(this.xmlConfig),this.renderXmlPanel());this.showConfiguration(!0)},n.prototype.renderXmlPanel=function(){this.xmlPanel=ej.buildTag("div","",{width:"100%",height:"100%"},{id:this.id+"_xml_Panel"});var n=ej.buildTag("table.e-designer-dsconfig-table","",{width:"100%"},{unselectable:"on",id:this.id+"_xml_config"});this.xmlConfig.append(this.xmlPanel);this.xmlPanel.append(n);this.datasource.renderTextArea("Connection String",this.id+"_xml_conStr",n);this.conncString=$("#"+this.id+"_xml_conStr")},n.prototype.editConfiguration=function(n){this.renderConfiguration(this.datasource.configTable);this.conncString.val(n.ConnectionProperties.ConnectString)},n.prototype.showConfiguration=function(n){this.xmlConfig.css("display",n?"table-row":"none");this.xmlConfig.children().show()},n.prototype.resetConfiguration=function(){this.conncString.val("")},n.prototype.UpdateDSInfo=function(n,t){n.ConnectionProperties.DataProvider=t.Provider;n.ConnectionProperties.ConnectString=t.ConnectionString;n.ConnectionProperties.IsDesignState=t.IsDesignState;n.ConnectionProperties.IntegratedSecurity=t.IsIntegrated;n.ConnectionProperties.UserName="";n.ConnectionProperties.PassWord="";n.ConnectionProperties.Prompt="";n.SecurityType=t.SecurityType},n.prototype.getDatasourceInfo=function(n){return{Name:n,Provider:"XML",IsIntegrated:!1,SecurityType:"None",Username:"",Password:"",ConnectionString:this.conncString.val()}},n}();window.ej.createObject("ej.DashboardDesignerUtility.XMLDataSource",InternalXMLDataSource,window);__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){n[n.Text="Text"]="Text";n[n.Procedure="Procedure"]="Procedure"}(CommandMode||(CommandMode={}));ejQueryDesigner=function(n){function t(t,i){var r=n.call(this)||this;return(r.rootCss="e-querydesigner",r.setFirst=!1,r.pluginName="ejQueryDesigner",r._id=$(r.element).attr("id"),r.model=null,r.defaults={serviceUrl:null,serviceAuthorizationToken:"",toolbarSettings:{items:511,showToolbar:!0},id:null,dataSources:[],parameters:[],dataSet:null,selectDataSource:null,validateNames:[],locale:"en-US"},r.waterMarkText="Search",r.procedureObj={},r.commandMode=CommandMode.Text,r.schemaIcons=null,r.isKeyDown=!1,r.selectedItems={},r.dragging=null,r.dragX=0,r.dragY=0,r.queryParameters=[],r.isHeight=!1,r.isWidth=!1,r.isPercentWidth=-1,r.isPercentHeight=-1,r.resizeTO=null,r.previewTO=null,r.editColVal=null,r.referenceParam=[],r.codeEditor=null,r.typeCast={},r.datasourceInfo=null,r.sharedDataMapping=null,r.credentials=null,r.dbSchema=null,r.queryJoiner=[],r.queryFilter=[],r.queryExp=[],r.isEdit=!1,r.isEditMode=!1,r.isInitialFilterApplied=!1,r.queryInputVals=[],r.designToolbar=null,r.dragSurfaceTag=null,r.queryEditorTag=null,r.previewHeader=null,r.schemaHeader=null,r.noRecordSpan=null,r.schemaDiv=null,r.previewGrid=null,r.designSwitcher=null,r.codeChkSwitcher=null,r.schemaSearch=null,r.dropdwnData=null,r.btnSaveTag=null,r.schemaTree=null,r.bodySchemaTag=null,r.ejPreviewGrid=null,r.ejSchemaTree=null,r.ejSchemaScroller=null,r.ejQueryTool=null,r.ejSurfaceSplitter=null,r.ejPreviewSplitter=null,r.ejDrpdwnData=null,r.ejBtnSave=null,t&&(t.jquery||(t=$("#"+t)),t.length))?$(t).ejQueryDesigner(i).data(r.pluginName):r}return __extends(t,n),t.prototype._destroy=function(){ej.destroyWidgets(this.element);this.unWiredEvents()},t.prototype._setModel=function(n){for(var t in n)switch(t){}},t.prototype._init=function(){this.id=this._id;var n=ej.DashboardUtil.getInstance();this.model.id?this.id=this.model.id:(this._on($(document),"click",this.designerClick),this._on($(window),"resize",this.designerResize));ej.isNullOrUndefined(n)&&(n=new ej.DashboardUtil(this,this.model.itemId));this.browserInfo=ej.browserInfo();this.updateElementSize();this.initializeControl();this.initializeDesigner();this.updateToolbar();this.loadControl()},t.prototype.initializeControl=function(){this.queryJoiner=[];this.queryFilter=[];this.queryExp=[];this.procedureObj={};this.sqlEditor=ej.DashboardUtil.getQueryInstance("SqlEditor");this.credentialWin=ej.DashboardDesignerUtility.CredentialDialog.CredentialDialog;this.schemaIcons={schema:"e-designer-content-icon e-reportdesigner-dataset-folder",tables:"e-designer-content-icon e-reportdesigner-dataset-schema-column",views:"e-designer-content-icon e-reportdesigner-dataset-schema-column",procedures:"e-designer-content-icon e-reportdesigner-dataset-schema-column",table:"e-designer-content-icon e-reportdesigner-dataset-schema",view:"e-designer-content-icon e-reportdesigner-dataset-schema",procedure:"e-designer-content-icon e-reportdesigner-dataset-schema"}},t.prototype.loadControl=function(){this.model.dataSources&&this.model.dataSources.length>0&&(this.model.selectDataSource?this.datasourceSelection(this.model.selectDataSource):this.model.dataSet?(this.isEdit=!0,this.editDataSetItem(this.model.dataSet.Name)):this.newQueryDesigner())},t.prototype.initializeDesigner=function(){this.renderDesignerArea(this.element);this.wiredEvents()},t.prototype.isRendered=function(){return $("#"+this.id+"_div_designerTool").length>0},t.prototype.renderDesignerArea=function(n){var a=this.designToolbar=ej.buildTag("div.e-userselect e-querydesigner-toolbarcontainer","",{width:this.element.width(),height:"35px"},{id:this.id+"_div_designerTool"}),o=ej.buildTag("div.e-userselect","",{display:"block",width:"100%",height:this.element.height()-this.designToolbar.height()+"px"},{id:this.id+"_div_designerArea"}),t=ej.buildTag("div.e-designer-surface","",{display:"block",width:"100%",height:"100%"},{id:this.id+"_div_target_designArea"}),v=ej.buildTag("div","",{display:"block",width:"232px",height:"100%",float:"left","box-sizing":"border-box","border-top":"0px none"},{id:this.id+"_table_schemaArea"}),i=ej.buildTag("div","",{display:"block","border-right-width":"0px",width:"100%",height:"100%",float:"left","box-sizing":"border-box"},{id:this.id+"_div_draggableArea"}),f=ej.buildTag("div","",{display:"block","border-style":"none !important",overflow:"hidden",width:"100%",height:"100%"},{id:this.id+"_div_queryDesigner"}),y=this.dragSurfaceTag=ej.buildTag("div.e-drag-surface e-designer-hint-newtable","",{display:"block",overflow:"auto",position:"relative",width:"100%",height:"100%","background-color":"#ececec"},{id:this.id+"_div_dragSurface"}),p=this.queryEditorTag=ej.buildTag("div.e-query-editor","",{display:"none",overflow:"auto",width:"100%",height:"100%"},{id:this.id+"_div_queryEditor"}),r=ej.buildTag("div","",{display:"block",overflow:"hidden",width:"100%",height:"100%"},{id:this.id+"_div_previewArea"}),u=this.previewHeader=ej.buildTag("div","",{"border-bottom":"1px Solid #c8c8c8",height:"32px",display:"table","box-sizing":"border-box",width:this.element.width()-$("#"+this.id+"_table_schemaArea").width()-6,"background-color":"#f4f4f4"},{id:this.id+"_div_previewHeader"}),w=ej.buildTag("div","",{width:"100%",display:"table-cell","vertical-align":"middle"},{}),b=ej.buildTag("div","",{width:"auto",display:"table-cell","vertical-align":"middle"},{}),e=ej.buildTag("div","",{color:"white"},{id:this.id+"_div_previewData"}),s=this.noRecordSpan=ej.buildTag("div.e-reportdesigner-dataset-noRecordMsg","",{"vertical-align":"middle","text-align":"center",display:"none",width:this.element.width()-$("#"+this.id+"_table_schemaArea").width()-6},{id:this.id+"_div_no_records"}),d=ej.buildTag("span.e-reportdesigner-dataset-noRecordMsg","No records to display",{},{id:this.id+"_span_no_records"}),h=this.previewGrid=ej.buildTag("div.e-reportdesigner-preview-grid","",{border:"none",display:"none"},{id:this.id+"_div_previewGrid"}),g=ej.buildTag("span.e-reportdesigner-dataset-dataHeader","Data Preview",{},{}),c=ej.buildTag("div","",{display:this.browserInfo.name==="mozilla"?"-moz-inline-box":"block"},{id:this.id+"_div_part_record"}),k=ej.buildTag("button","Load More",{"margin-right":"8px"},{id:this.id+"_load_data"}),nt=ej.buildTag("span.e-reportdesigner-dataset-dataContent","",{"white-space":"nowrap","margin-right":"5px","vertical-align":"middle"},{id:this.id+"_record_count"}),l;c.append(nt);c.append(k);b.append(c);u.append(w);u.append(b);w.append(g);f.append(p);f.append(y);r.append(u);s.append(d);e.append(s);e.append(h);r.append(e);i.append(f);i.append(r);t.append(v);t.append(i);o.append(t);n.append(a);n.append(o);this.renderToolbarItem(a);this.renderSchemaArea(v);i.ejSplitter({orientation:ej.Orientation.Vertical,properties:[{paneSize:"70%",collapsible:!1,expandable:!1},{paneSize:"180px",minSize:"180px",collapsible:!1}],enableAutoResize:!0,resize:$.proxy(this.splitterResize,this)});t.ejSplitter({orientation:ej.Orientation.Horizontal,height:"100%",width:"100%",cssClass:"e-designer-h-splitter",properties:[{paneSize:"230px",collapsible:!1,minSize:"200px",expandable:!1},{paneSize:"70%",collapsible:!1}],enableAutoResize:!0,resize:$.proxy(this.horizontalResize,this)});e.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});h.ejGrid({allowScrolling:!0,allowResizing:!0,columns:[{field:"Preview",headerText:"Preview",width:80}]});k.ejButton({showRoundedCorner:!1,size:"mini",cssClass:"e-designer-loadbtn",contentType:ej.ContentType.TextAndImage,click:$.proxy(this.loadMoreData,this)});o.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});f.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});this.renderContextMenu(y);this.ejPreviewGrid=h.data("ejGrid");this.ejSurfaceSplitter=t.data("ejSplitter");this.ejPreviewSplitter=i.data("ejSplitter");this.renderTooltip();this.renderQueryEditor(p);l=this.getSurfaceAreaWidth();u.width(l);s.css({height:r.height()-this.previewHeader.height(),width:u.width});this.ejPreviewGrid.option("scrollSettings",{width:l+"px",height:r.height()-this.previewHeader.height()+40+"px"})},t.prototype.renderQueryEditor=function(n){window.CodeMirror?(this.codeEditor=window.CodeMirror(n[0],{mode:"text/x-sql",indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{}}),this.codeEditor.setSize("100%","100%"),this.codeEditor.refresh()):this.sqlEditor.renderQueryEditor(n)},t.prototype.renderToolbarItem=function(n){var r=ej.buildTag("ul.e-reportdesigner-toolbarul","",{padding:"5px 12px"}),i,t,u,f;n.append(r);this.renderDataSourceSelection(r);r.css("height",this.calculateToolbarItemHeight(r));i=ej.buildTag("ul.e-reportdesigner-toolbarul","",{padding:"5px 12px"});n.append(i);this.renderDataSetName(i);i.css("height",this.calculateToolbarItemHeight(i));t=ej.buildTag("ul.e-reportdesigner-toolbarul","",{});n.append(t);this.appendToolbarItems(t,this.id+"_dataset_tool_run","Run","e-reportdesigner-dataset-preview e-reportdesigner-toolbar-run","24px");this.appendToolbarItems(t,this.id+"_dataset_tool_join","Join","e-reportdesigner-dataset-join e-reportdesigner-toolbar-join","22px");this.appendToolbarItems(t,this.id+"_dataset_tool_exp","Expression","e-reportdesigner-expression e-reportdesigner-toolbar-exp","25px");this.appendToolbarItems(t,this.id+"_dataset_tool_filter","Filter","e-reportdesigner-dataset-filter e-reportdesigner-query-filter","16px");u=ej.buildTag("ul","",{padding:"3.5px 3px","border-right":"0px none"});n.append(u);this.renderCodeSwitcher(u);f=ej.buildTag("ul.e-reportdesigner-toolbarul","",{float:"right",padding:"3.5px 3px","border-right":"1px solid #c8c8c8"});n.append(f);this.renderActionBtn(f);this.triggerEvents("toolbarRendering",{target:this.designToolbar});n.ejToolbar({isResponsive:!0,enableSeparator:!0,height:n.height(),cssClass:"e-designer-toolbar",width:n.width(),click:$.proxy(this.toolbarClick,this)});this.ejQueryTool=n.data("ejToolbar")},t.prototype.calculateToolbarItemHeight=function(n){return this.designToolbar.height()-(parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10))},t.prototype.appendToolbarItems=function(n,t,i,r,u){var f=ej.buildTag("li.e-reportdesigner-toolbarli e-designer-toolbar-align","",{},{id:t,title:i}),e=ej.buildTag("span.e-reportdesigner-toolbarIconBasic e-toolbarfonticonbasic "+r,"",{"font-size":u},{});f.append(e);n.append(f)},t.prototype.renderDataSourceSelection=function(n){var r=$("<td style='padding-left:12px;'><\/td>"),t=this.dropdwnData=ej.buildTag("input.e-textbox","",{"margin-top":"1px","padding-left":"5px","line-height":"normal"},{type:"text",id:this.id+"_drd_datasource"});r.append(t);var u=ej.buildTag("table.e-querydesigner-toolbar-table","",{"margin-top":"1px"},{unselectable:"on",id:this.id+"_table_select_data"}),i=$("<tr><\/tr>"),f=ej.buildTag("td","",{"padding-left":"10px"},{}),e=ej.buildTag("label.e-designer-label","DataSource ",{},{});f.append(e);i.append(f);i.append(r);u.append(i);n.append(u);t.ejDropDownList({watermarkText:"Select a DataSource",width:"190px",height:"22px",fields:{id:"Name",text:"Name",value:"Name"},change:$.proxy(this.datasourceChange,this),cssClass:"e-reportdesigner-dataset-selection e-designer-ejwidgets"});$("#"+this.id+"_drd_datasource_"+this.id).css({"border-radius":"2px"});this.ejDrpdwnData=t.data("ejDropDownList")},t.prototype.renderDataSetName=function(n){var r=ej.buildTag("table.e-querydesigner-toolbar-table","",{"margin-top":"1px"},{unselectable:"on",id:this.id+"_table_edit_dataset"}),t=$("<tr><\/tr>"),u=ej.buildTag("td","",{},{}),e=ej.buildTag("label.e-designer-label","Name",{},{}),i,f;u.append(e);t.append(u);i=$("<td style='padding-left:12px;'><\/td>");f=ej.buildTag("input.e-textbox e-querydesigner-dataset-text","",{width:"160px",height:"18px","border-radius":"2px","line-height":"normal"},{edittype:"stringedit",value:"DataSet2",id:this.id+"_dataset_txt"});i.append(f);t.append(i);r.append(t);n.append(r)},t.prototype.renderCodeSwitcher=function(n){var t=this.designSwitcher=ej.buildTag("div","",{display:"block",float:"right",padding:"4px 0","margin-left":"6px"},{id:this.id+"_design_switcher"}),r=ej.buildTag("span.e-designer-label","Code",{display:"inline-block",float:"left","line-height":"normal","margin-right":"7px","margin-left":"4px",cursor:"default"}),i=ej.buildTag("label.e-reportdesigner-switch","",{display:"inline-block",float:"left"},{id:this.id+"_code_switcher"});this.codeChkSwitcher=$("<input type='checkbox' id="+this.id+"_chck_on checked>");i.append(this.codeChkSwitcher);i.append("<div style='cursor:pointer;' class='e-reportdesigner-slider round'/>");t.append(r);t.append(i);n.append(t);this.codeChkSwitcher.bind("change",$.proxy(this.switcherChanged,this))},t.prototype.renderActionBtn=function(n){var u=ej.buildTag("div","",{margin:"1px 5px",float:"left",display:"inline-block","margin-top":"2px"},{id:this.id+"_div_dataset_save"}),t=this.btnSaveTag=ej.buildTag("button.e-reportdesigner-dataset-okbtn","Finish",{},{id:this.id+"_saveButton"}),i,r;u.append(t);i=ej.buildTag("div","",{margin:"1px 5px",display:"inline-block","margin-top":"2px"},{id:this.id+"_div_dataset_close"});r=ej.buildTag("button.e-reportdesigner-dataset-cancelbtn","Cancel",{},{id:this.id+"_cancelButton"});i.append(r);n.append(i);n.append(u);r.ejButton({width:"70px",showRoundedCorner:!1,size:"mini",contentType:ej.ContentType.TextOnly,height:"24px",click:$.proxy(this.cancelDataSet,this)});t.ejButton({width:"70px",showRoundedCorner:!1,size:"mini",contentType:ej.ContentType.TextOnly,height:"24px",click:$.proxy(this.saveQueryDataSet,this)});this.ejBtnSave=t.data("ejButton")},t.prototype.renderSchemaArea=function(n){var f=this.element.height()-this.designToolbar.height(),i=ej.buildTag("div","",{width:"100%",height:"100%",overflow:"hidden"},{id:this.id+"_schemaArea"}),r=this.schemaDiv=ej.buildTag("div","",{display:"inline-block",width:"100%",height:"100%","background-color":"#f9f9f9"},{id:this.id+"_div_schemaArea"}),e=this.schemaHeader=ej.buildTag("div","",{display:"block",width:"94%",border:"1px solid #c8c8c8",margin:"8px 6px","border-radius":"4px","background-color":"white"},{id:this.id+"_div_headSchema"}),t=this.bodySchemaTag=ej.buildTag("div.e-reportdesigner-scroller","",{display:"block","background-color":"white","margin-top":"5px","border-top":"1px solid #c8c8c8",width:"100%",height:f-this.schemaHeader.height()-2*(parseInt(this.schemaHeader.css("margin-top"),10)+1)+"px"},{id:this.id+"_div_bodySchema"}),o=ej.buildTag("div.e-tree-area","",{},{}),s=ej.buildTag("div","",{display:"none",width:"100%",height:"100%"},{id:this.id+"_schema_empty_msg"}),h=ej.buildTag("div.e-designer-empty-msg","No matches found",{display:"table-cell"}),u=this.schemaTree=ej.buildTag("ul.e-dataset-treeview","",{"margin-left":"6px",overflow:"hidden",display:"table","margin-top":"5px"},{id:this.id+"_ul_treeSchema"});s.append(h);o.append(u);t.append(o).append(s);r.append(e);r.append(t);i.append(r);n.append(i);this.renderAutocomplete(e);i.ejWaitingPopup({showOnInit:!1,cssClass:this.id+"_designer_waiting_popup e-designer-loader"});u.ejTreeView({fullRowSelect:!1,loadOnDemand:!0,template:this.getTreeViewTemplate(),nodeExpand:$.proxy(this.nodeExpand,this),fields:{id:"id",parentId:"pid",text:"name",htmlAttribute:"nodeProperty",hasChild:"hasChild"},nodeCollapse:$.proxy(this.scrollerRefresh,this,this.bodySchemaTag),beforeDelete:function(n){n.event&&n.event.type==="keydown"&&(n.cancel=!0)}});t.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0,height:f-2-this.schemaHeader.height()-2*(parseFloat(this.schemaHeader.css("margin-top"))+1)+"px",width:this.schemaDiv.width()});this.ejSchemaScroller=t.data("ejScroller");this.ejSchemaTree=u.data("ejTreeView")},t.prototype.getTreeViewTemplate=function(){return"<div style='margin-top:0.5px'>{{if value}}<span class='e-widgeticons e-reportdesigner-double-drag' style='font-size:12.5px;margin-right:2px'/>{{/if}}<span class='{{:spriteImage}}'/><span>{{:name}}<\/span><\/div>"},t.prototype.renderAutocomplete=function(n){var i=ej.buildTag("table.e-querydesigner-toolbar-table","",{width:"100%"}),r=$("<tr/>"),u=$("<td/>"),f=ej.buildTag("span.e-atc e-widget","",{display:"inline-block",float:"left",width:"100%",height:"28px"},{}),t=ej.buildTag("span.e-in-wrap e-box e-padding e-reportdesigner-widget-autocomplete","",{},{}),s=this.schemaSearch=ej.buildTag("input.e-autocomplete e-reportdesigner-widget-watermark e-reportdesigner-atc-boxshadow e-js e-input","",{"text-align":"left","margin-top":"1px"},{type:"text",value:this.waterMarkText,id:this.id+"_schema_panelSearch"}),e=ej.buildTag("span.e-select e-reportdesigner-widget-autocomplete","",{width:"24px",height:"30px",display:"table","margin-top":"-1px"},{id:this.id+"_schema_searchIcon"}),o;e.append(ej.buildTag("span.e-headericon e-reportdesigner-search","",{display:"table-cell"}));t.append(e);t.append(s);f.append(t);o=ej.buildTag("span.e-select e-reportdesigner-widget-select e-reportdesigner-widget-autocomplete","",{display:"inline-block",float:"left",height:"30px"},{id:this.id+"_schema_widgetClose"});o.append("<span class='e-headericon e-reportdesigner-widget-left'/>");u.append(f);r.append(u);i.append(r);n.append(i)},t.prototype.nodeExpand=function(n){if(n.value==="Tables"||n.value==="Viewes"||n.value==="Procedures"){var t=$(n.currentElement).find(".ej-table-drag>div:not('.e-drop')");t.length>0&&(t.addClass("e-drop"),t.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragStart,this)))}this.scrollerRefresh(this.bodySchemaTag)},t.prototype.renderContextMenu=function(n){var r=ej.buildTag("ul.e-designer-menu e-aggr-menu","",{},{id:this.id+"_ds_tableMenu"}),t,u,i;r.append("<li class='e-separator'><a>Rename<\/a><\/li>");t=$("<ul/>");t.append(this.getMenuItem("GroupBy",this.id+"_field_GroupBy",!0));t.append(this.getMenuItem("Sum",this.id+"_field_Sum",!1));t.append(this.getMenuItem("Avg",this.id+"_field_Avg",!1));t.append(this.getMenuItem("Min",this.id+"_field_Min",!1));t.append(this.getMenuItem("Max",this.id+"_field_Max",!1));t.append(this.getMenuItem("Count",this.id+"_field_Count",!0));t.append(this.getMenuItem("StDev",this.id+"_field_StDev",!1));t.append(this.getMenuItem("StDevP",this.id+"_field_StDevP",!1));t.append(this.getMenuItem("Var",this.id+"_field_Var",!1));t.append(this.getMenuItem("VarP",this.id+"_field_VarP",!1));t.append(this.getMenuItem("SumDistinct",this.id+"_field_SumDistinct",!1));t.append(this.getMenuItem("AvgDistinct",this.id+"_field_AvgDistinct",!1));t.append(this.getMenuItem("MinDistinct",this.id+"_field_MinDistinct",!1));t.append(this.getMenuItem("MaxDistinct",this.id+"_field_MaxDistinct",!1));t.append(this.getMenuItem("CountDistinct",this.id+"_field_CountDistinct",!0));u=$("<li><a>Change Column Type<\/a><li>");i=$("<ul class='e-typecastUl'/>");i.append(this.getColumnItem("Date",this.id+"_DateTime","e-datetime"));i.append(this.getColumnItem("Integer",this.id+"_Number","e-integer"));i.append(this.getColumnItem("String",this.id+"_Text","e-text"));i.append(this.getColumnItem("Default",this.id+"_Default","e-default"));u.append(i);r.append(u);n.append(r);r.ejMenu({menuType:ej.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+n.attr("id"),width:184,click:$.proxy(this.settingMenuClick,this)})},t.prototype.showTooltip=function(n){var t=$("#"+this.id+"_drd_datasource_wrapper");$("#"+this.id+"_designer_tooltip").css({display:n?"block":"none",top:t.offset().top+t.height()+10,left:t.offset().left})},t.prototype.renderTooltip=function(){var n=ej.buildTag("div.e-designer-top-tip e-tooltip-wrap e-widget e-designer-tooltip","",{display:"none"},{id:this.id+"_designer_tooltip"}),t=ej.buildTag("div.e-arrowTip","",{}),r=ej.buildTag("div.e-arrowTipOuter","",{}),u=ej.buildTag("div.e-arrowTipInner","",{}),i=ej.buildTag("div.e-tipContainer"),f=ej.buildTag("div","Select a DataSource to Configure Report DataSet",{},{});t.append(r).append(u);i.append(f);n.append(i);n.append(t);$(document.body).append(n)},t.prototype.renderSchemaTree=function(n){var i,r,t,u,e,o,s,h,c,f;for($(".ej-table-drag>div").unbind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragStart,this)),i=[],r=Object.keys(n.Schemas),t=0;t<r.length;t++)u=n.Schemas[r[t]],e=this.id+"_"+ej.DashboardUtil.escapeSelector(r[t]),i.push({id:e,name:r[t],hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.schema}),o=Object.keys(u.Tables),o.length>0&&(f=this.treeChildNodes(u.Tables,r[t],this.id+"_Tables_"+t,"Tables"),i.push({id:this.id+"_Tables_"+t,pid:e,name:"Tables",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.tables}),$.merge(i,f)),s=Object.keys(u.Viewes),s.length>0&&(f=this.treeChildNodes(u.Viewes,r[t],this.id+"_Viewes_"+t,"Viewes"),i.push({id:this.id+"_Viewes_"+t,pid:e,name:"Viewes",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.views}),$.merge(i,f)),h=Object.keys(u.Procedures),h.length>0&&(c=this.id+"_Procedures_"+t,f=this.treeChildNodes(u.Procedures,r[t],c,"Procedures"),i.push({id:this.id+"_Procedures_"+t,pid:e,name:"Procedures",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.views}),$.merge(i,f));this.showTreeContainer(i&&i.length>0);this.ejSchemaTree.option("fields.dataSource",i);$(".ej-table-drag>div").bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragStart,this));this.bodySchemaTag.find(".e-tree-area").is(":visible")&&this.scrollerRefresh(this.bodySchemaTag)},t.prototype.treeChildNodes=function(n,t,i,r,u){var h=[],e=Object.keys(n),a=u===undefined||u.length===0||u===null,f,s;if(e.length>0)for(f=0;f<e.length;f++)if(a||ej.DashboardUtil.contains(e[f],u,!0)){var c=n[e[f]],o=Object.keys(c),l=r==="Procedures"?this.schemaIcons.procedure:this.schemaIcons.table;if(this.selectedItems&&this.selectedItems[t]&&this.selectedItems[t][e[f]]&&(l="e-icon e-checkmark"),h.push({id:ej.DashboardUtil.escapeSelector(this.id+"_"+t+"_"+e[f]),pid:ej.DashboardUtil.escapeSelector(i),name:e[f],hasChild:o&&o.length>0,nodeProperty:{"class":"ej-table-drag"},value:{schema:t,viewType:r},spriteImage:"e-designer-query-treeview "+l}),o&&o.length>0)for(s=0;s<o.length;s++)h.push({id:ej.DashboardUtil.escapeSelector(this.id+"_"+t+"_"+e[f]+"_"+o[s]),pid:ej.DashboardUtil.escapeSelector(this.id+"_"+t+"_"+e[f]),name:o[s],hasChild:!1,spriteImage:this.getColStyle(c[o[s]])+" e-designer-query-treeview"})}return h},t.prototype.getColStyle=function(n){var i="e-reportdesigner-dataset-misc",t=n.DataType.toLowerCase();return n.IsForeignKey&&!n.IsPrimaryKey?i="e-reportdesigner-dataset-foreignkey":n.IsPrimaryKey?i="e-reportdesigner-dataset-primarykey":t==="datetime"||t==="smalldatetime"||t==="date"?i="e-reportdesigner-dataset-datetime":t==="tinyint"||t==="smallint"||t==="int"||t==="bigint"||t==="smallmoney"||t==="money"||t==="numeric"||t==="integer"||t==="real"||t==="float"?i="e-reportdesigner-dataset-number":t==="bit"||t==="boolean"?i="e-reportdesigner-dataset-boolean":t==="varchar"||t==="nvarchar"||t==="nchar"||t.indexOf("char")!==-1?i="e-reportdesigner-dataset-char":(t==="text"||t==="ntext"||t==="string")&&(i="e-reportdesigner-dataset-string"),"e-designer-content-icon "+i},t.prototype.searchData=function(n){var r=[],i=Object.keys(this.dbSchema.Schemas),h=ej.DashboardUtil.contains("Tables",n,!0),c=ej.DashboardUtil.contains("Viewes",n,!0),l=ej.DashboardUtil.contains("Procedures",n,!0),t,a,v;if(n.length>0){for(t=0;t<i.length;t++){var u=[],f=[],e=[],o=this.dbSchema.Schemas[i[t]],s=ej.DashboardUtil.contains(i[t],n,!0),y=Object.keys(o.Tables);y.length>0&&(u=this.treeChildNodes(o.Tables,i[t],this.id+"_Tables_"+t,"Tables",s||h?"":n),u.length>0&&u.push({id:this.id+"_Tables_"+t,pid:this.id+"_"+i[t],name:"Tables",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.tables}));a=Object.keys(o.Viewes);a.length>0&&(f=this.treeChildNodes(o.Viewes,i[t],this.id+"_Viewes_"+t,"Viewes",s||c?"":n),f.length>0&&f.push({id:this.id+"_Viewes_"+t,pid:this.id+"_"+i[t],name:"Viewes",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.views}));v=Object.keys(o.Procedures);v.length>0&&(e=this.treeChildNodes(o.Procedures,i[t],this.id+"_Procedures_"+t,"Procedures",s||l?"":n),e.length>0&&e.push({id:this.id+"_Procedures_"+t,pid:this.id+"_"+i[t],name:"Procedures",hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.procedures}));(s||h||u.length>0||c||f.length>0||l||e.length>0)&&r.push({id:this.id+"_"+i[t],name:i[t],hasChild:!0,spriteImage:"e-designer-query-treeview "+this.schemaIcons.schema});(h||u.length>0)&&$.merge(r,u);(c||f.length>0)&&$.merge(r,f);(l||e.length>0)&&$.merge(r,e)}this.showTreeContainer(r&&r.length>0);$(".ej-table-drag>div").unbind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragStart,this));this.ejSchemaTree.option("fields.dataSource",r);$(".ej-table-drag>div").bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragStart,this));this.bodySchemaTag.find(".e-tree-area").is(":visible")&&this.scrollerRefresh(this.bodySchemaTag)}},t.prototype.onSearchClick=function(n){if(n.keyCode!==13){var t=this.schemaSearch.val();t.length>0?($("#"+this.id+"_schema_searchIcon span").addClass("e-reportdesigner-close").addClass("e-reportdesigner-errorLog").removeClass("e-reportdesigner-search"),this.schemaSearch.removeClass("e-reportdesigner-widget-watermark"),this.searchData(t)):($("#"+this.id+"_schema_searchIcon span").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog"),this.renderSchemaTree(this.dbSchema));this.isKeyDown=!0}},t.prototype.onSearchBlur=function(){this.schemaSearch.removeClass("e-focus");this.schemaSearch.val().trim().length===0||this.schemaSearch.val()===this.waterMarkText?(this.schemaSearch.addClass("e-reportdesigner-widget-watermark"),this.schemaSearch.val(this.waterMarkText),$("#"+this.id+"_schema_searchIcon span").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog"),this.isKeyDown&&this.renderSchemaTree(this.dbSchema)):this.schemaSearch.removeClass("e-reportdesigner-widget-watermark");this.isKeyDown=!1},t.prototype.onSearchFocus=function(){this.schemaSearch.addClass("e-focus");this.isKeyDown=!1;this.schemaSearch.val()===this.waterMarkText&&(this.schemaSearch.val(""),this.schemaSearch.removeClass("e-reportdesigner-widget-watermark"))},t.prototype.onCloseClick=function(){this.schemaSearch.val(this.waterMarkText);this.schemaSearch.addClass("e-reportdesigner-widget-watermark");$("#"+this.id+"_schema_searchIcon span").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog");this.renderSchemaTree(this.dbSchema)},t.prototype.showTreeContainer=function(n){n?(this.element.find("#"+this.id+"_schema_empty_msg").css("display","none"),this.bodySchemaTag.find(".e-tree-area").css("display","block")):(this.element.find("#"+this.id+"_schema_empty_msg").css("display","table"),this.bodySchemaTag.find(".e-tree-area").css("display","none"))},t.prototype.renderTable=function(n,t,i,r,u){var y=0,f=ej.buildTag("div.e-lv subpage e-"+n.viewType+" e-data-table "+ej.DashboardUtil.escapeSelector("e-"+n.schema+"-"+n.name)+" e-tableName","",{top:t.top,left:t.left,width:"220px",position:"absolute"},{}),h=ej.buildTag("div.e-header e-box e-querydesigner-table-boxshadow","",{display:"block",height:"30px",background:"white","border-width":"0px"},{}),k=ej.buildTag("div.e-designer-table-close","",{}),d=ej.buildTag("span.e-icon e-close_01","",{cursor:"pointer"},{}),it=ej.buildTag("span.e-designer-fontfamily e-tableSpan"+(ej.DashboardUtil.textWidth(n.name,"segoe ui 600 13px")>(n.viewType==="Procedures"?133:163)?" e-title-tip":""),n.name,{float:"left","font-weight":"600","font-size":"13px",padding:"5px 0px 5px 10px",overflow:"hidden","vertical-align":"middle",width:n.viewType==="Procedures"?"136px":"166px","text-overflow":"ellipsis","white-space":"nowrap"}),a,b,e,o,c,tt,s;h.append(it);k.append(d);h.append(k);var l=ej.buildTag("div.e-lv e-js e-parentlv e-reportdesigner-scroller","",{display:"block",width:"100%"},{id:this.id+"_table_"+ej.DashboardUtil.escapeSelector(n.name)+"_column_container"}),g=ej.buildTag("div","",{},{}),p=ej.buildTag("div.e-list-container e-js e-widget","",{"border-top-width":"0px",padding:"5px"},{id:this.id+"_table_"+n.name}),rt=ej.buildTag("div","",{height:"1px",border:"0px Solid","border-top-width":"0.5px","border-color":"#bdc3c2",margin:"0px 6px"},{}),w=ej.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"});if(p.append(w),f.append(h),f.append(rt),g.append(p),l.append(g),f.append(l),f.data("e-table",n),n.viewType==="Procedures"){for(a=i.length>9?103:113,y=i.length,e=0;e<i.length;e++)w.append(this.getColumnTag(i[e],!0,a));this.commandMode=CommandMode.Procedure;b=ej.buildTag("span.e-icon e-settings","",{padding:"5px 5px 5px 0px","margin-top":"2px","vertical-align":"middle",float:"right"});h.append(b);b.bind("click",$.proxy(this.procSetting,this))}else{var nt=this.dbSchema.Schemas[n.schema][n.viewType][n.name],v=Object.keys(nt),a=v.length>9?103:113;for(e=0;e<v.length;e++)o=nt[v[e]],c=void 0,y=v.length,r&&u&&u[o.Name]?c=this.getColumnTag(o,!1,a,null,u[o.Name]):(tt=this.isExistColName(o.Name),c=this.getColumnTag(o,!1,a,tt?n.name:null)),c.attr("datatype",o.DataType),w.append(c);this.commandMode=CommandMode.Text}this.dragSurfaceTag.append(f);s=f.find("li");$(s[0]).addClass("e-table-user-selection-active");$(s[0]).find("span").addClass("e-table-user-selection-active");$(s[0]).find(".e-settings").css("display","inline-block");f.find("li .e-designer-select").bind("click",$.proxy(this.onColumnClick,this));d.bind("click",$.proxy(this.tableClose,this));h.bind(ej.DashboardUtil.MouseEvent.mouseDown,$.proxy(this.dragSurfaceStart,this));s.bind(ej.isTouchDevice()?"doubletap":"dblclick",$.proxy(this.editColumnName,this));s.bind(ej.DashboardUtil.MouseEvent.mouseOver,$.proxy(this.enableTableSettings,this));s.bind(ej.DashboardUtil.MouseEvent.mouseLeave,$.proxy(this.disableTableSettings,this));f.find("li .e-edit-column").bind("blur",$.proxy(this.editColumnBlur,this));f.find("li .e-edit-column").bind("keypress",$.proxy(this.editColumnKeyPress,this));ej.DashboardUtil.getInstance().titleTip(f.find(".e-title-tip"));this.nodeTableSelector(n);this.updateToolbarItems();this.showTableHint(!0);r||this.joinQueryTable(f);l.ejScroller({buttonSize:0,scrollerSize:9,enableTouchScroll:!0,height:y>9?"280px":"auto"});l.bind("keydown",$.proxy(this.listKeyDown,this,p))},t.prototype.getTblSel=function(n,t){return".e-"+ej.DashboardUtil.escapeSelector(n+"-"+t)},t.prototype.getColumnTag=function(n,t,i,r,u){var e=n.Name,f=ej.DashboardUtil.escapeSelector(n.Name),o=!1,c="e-reportdesigner-dataset-column-select";r?(e=n.Name+"("+r+"_"+n.Name+")",o=!0):u&&(u.IsDuplicate===!0||typeof u.IsDuplicate=="string"&&u.IsDuplicate.toLowerCase()==="true")?(e=n.Name+"("+u.AliasName+")",o=!0):u&&u.AliasName&&(e=u.AliasName);u&&(u.IsSelected===!1||typeof u.IsSelected=="string"&&u.IsSelected.toLowerCase()==="false")&&(c="e-reportdesigner-dataset-column-deselect");var s=ej.buildTag("li.e-user-select e-list e-list-check e-reportdesigner-dataset-column","",{padding:"0 8px"},{id:this.id+"_li_"+f,name:n.Name}),h=ej.buildTag("a.e-chevron-right_01 e-remove-shadow","",{padding:"3.5px 0"}),l=ej.buildTag("span.e-list-text e-rel e-user-select e-designer-fontfamily"+(ej.DashboardUtil.textWidth(e,"12px segoe ui")>=i?" e-title-tip":""),e,{width:i,"text-overflow":"ellipsis",overflow:"hidden",display:"inline-block","margin-top":"3px","white-space":"nowrap","font-size":"12px","margin-left":"1px"},{name:n.Name,id:this.id+"_txtSpan_"+f,isDuplicate:o?"true":"false"}),y=ej.buildTag("input.e-textbox e-edit-column e-designer-fontfamily","",{width:i-18,height:"16px","line-height":"normal","margin-top":"1px",display:"none","border-radius":"2px","font-size":"12px"},{liTag:this.id+"_txtSpan_"+f,type:"text",id:this.id+"_txtEdit_"+f}),a=ej.buildTag("span.e-designer-content-icon e-reportdesigner-selection e-settings e-designer-click","",{display:"none","margin-top":"3.5px",width:"20px",float:"right","margin-right":"-3px"},{id:this.id+"_edit_"+f,"e-target":"e-aggr-menu"}),p=ej.buildTag("span.e-query-selection "+c+" e-designer-select","",{display:"block",float:"left",padding:"2px"},{id:this.id+"_"+f}),v=ej.buildTag("span.e-query-datatype "+ej.DashboardUtil.getDataTypeStyle(n),"",{display:"block",float:"left",padding:"0px 10px 1px 7px","margin-top":"1px"},{id:this.id+"_type_"+f});return t?h.append(v).append(l):h.append(p).append(v).append(l).append(y).append(a),a.bind("click",$.proxy(this.showSettingsMenu,this)),s.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.onListItemMouseUp,this)),s.append(h),s},t.prototype.renderProcedure=function(n){var i;if(n&&n.table&&n.type){var r=JSON.parse(n.table),t=JSON.parse(n.type),u=[],f=this.previewHeader.width(),e=150*t.length>f?150:(f-20)/t.length;for(i=0;i<t.length;i++)u.push({field:t[i].Name,headerText:t[i].Name,width:e});this.showNoRecord(!1);this.ejPreviewGrid.setModel({dataSource:r,columns:u});$("#"+this.id+"_record_count").text(r.length+" Record"+(r.length>1?"s":"")+" Retrieved");this.showLoadMoreOpt(r.length===100);this.renderTable(this.procedureObj.tableData,this.procedureObj.xy,t);this.procedureObj=null}else n&&n.indexOf("Sf_Exception")!==-1&&ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",n,!1,!0,!1,"DataSet failed to retrieve the selected table procedure",{height:200})},t.prototype.renderTableElement=function(n,t,i){if(n.viewType==="Procedures"){var r=ej.DashboardUtil.getQueryInstance("StoreParameter");this.procedureObj={tableData:n,xy:t};r.renderProcParameters(n)?(this.showLoadMoreOpt(!1),i&&i.length>0?(r.setParameter(i),this.loadProcedureSchema()):r.showParameterDialog()):this.loadProcedureSchema();this.executeUIQuery()}else this.renderTable(n,t)},t.prototype.encrptDataSourceInfo=function(n){var t=$.extend(!0,{},n);return t.ConnectionProperties&&(t.ConnectionProperties.ConnectString=ej.DashboardUtil.encryptData(t.ConnectionProperties.ConnectString),t.ConnectionProperties.UserName&&(t.ConnectionProperties.UserName=ej.DashboardUtil.encryptData(t.ConnectionProperties.UserName)),t.ConnectionProperties.PassWord&&(t.ConnectionProperties.PassWord=ej.DashboardUtil.encryptData(t.ConnectionProperties.PassWord))),t},t.prototype.loadProcedureSchema=function(){var n=this.procedureObj.tableData,t=$("#"+this.id+"_dataset_txt").val(),i=n.name;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.executeQuery,datasource:this.encrptDataSourceInfo(this.datasourceInfo),sqlQuery:n.schema+"."+n.name,commandType:"Procedure",parameters:this.getProcParams(),tableName:i,dataSetName:t})},{fnction:$.proxy(this.renderProcedure,this),indicator:[$.proxy(this.showDragIndicator,this),$.proxy(this.hideDragIndicator,this)]})},t.prototype.procSetting=function(){var n=ej.DashboardUtil.getQueryInstance("StoreParameter");n.showParameterDialog()},t.prototype.nodeTableSelector=function(n){var u=ej.DashboardUtil.escapeSelector(n.schema),f=ej.DashboardUtil.escapeSelector(n.name),r=$("#"+this.id+"_"+u+"_"+f+" .e-text .e-reportdesigner-dataset-schema"),t,i;if(r.length>0)r.removeClass(this.schemaIcons.table).removeClass(this.schemaIcons.view).removeClass(this.schemaIcons.procedure),r.addClass("e-icon e-checkmark");else if(t=this.ejSchemaTree.model.fields.dataSource,t&&t.length>0)for(i=0;i<t.length;i++)if(this.id+"_"+u+"_"+f===t[i].id){t[i].spriteImage="e-designer-query-treeview e-icon e-checkmark";break}this.selectedItems[n.schema]||(this.selectedItems[n.schema]={});this.selectedItems[n.schema][n.name]=!0},t.prototype.nodeTableRemover=function(n){var t,i;if(n){this.removedTableName=n.name;var u=ej.DashboardUtil.escapeSelector(n.schema),f=ej.DashboardUtil.escapeSelector(n.name),e=n.viewType==="Procedures"?this.schemaIcons.procedure:this.schemaIcons.table,r=$("#"+this.id+"_"+u+"_"+f+" .e-text .e-checkmark");if(r.length>0)r.removeClass("e-icon").removeClass("e-checkmark"),r.addClass(e);else if(t=this.ejSchemaTree.model.fields.dataSource,t&&t.length>0)for(i=0;i<t.length;i++)if(this.id+"_"+u+"_"+f===t[i].id){t[i].spriteImage="e-designer-query-treeview "+e;break}this.selectedItems[n.schema][n.name]=!1}},t.prototype.removeExpression=function(n,t){var f,r,i,u;if(this.queryExp&&this.queryExp.length>0){for(f=this.dragSurfaceTag.find(this.getTblSel(t,n)),r=[],i=0;i<this.queryExp.length;i++)this.isExistExpField(f,this.queryExp[i].expression)&&(r.indexOf(this.queryExp[i].name)===-1&&r.push(this.queryExp[i].name),this.gethierarchyExpField(this.queryExp[i].name,r));if(r&&r.length>0)for(i=0;i<r.length;i++)for(u=0;u<this.queryExp.length;u++)if(r[i]===this.queryExp[u].name){this.queryExp.splice(u,1);break}}},t.prototype.gethierarchyExpField=function(n,t){for(var i=0;i<this.queryExp.length;i++)ej.DashboardUtil.contains(this.queryExp[i].expression,"["+n+"]",!0)&&(t.indexOf(this.queryExp[i].name)===-1&&t.push(this.queryExp[i].name),this.gethierarchyExpField(this.queryExp[i].name,t))},t.prototype.removeFilter=function(n){if(!ej.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(var t=this.queryFilter.length-1;t>=0;t--)this.queryFilter[t].TableName===n&&this.queryFilter.splice(t,1)},t.prototype.tableClose=function(n){var r=$(n.currentTarget).closest(".e-data-table"),t=this.deleteQueryTable(r),f,e,i,u;if(t.tables.length>0){for(f="The below assoicated tables will remove with this",i=0;i<t.tables.length;i++)f+="\n"+t.tables[i].name;if(e=confirm(f),e)for(this.queryJoiner=[],$.merge(this.queryJoiner,t.tableJoins),i=0;i<t.tables.length;i++)u=t.tables[i].name,this.removeFilter(u),this.removeExpression(u,t.tables[i].schema),this.dragSurfaceTag.find(this.getTblSel(t.tables[i].schema,u)).remove(),this.nodeTableRemover(t.tables[i]);else return}else this.dragSurfaceTag.find(".e-data-table").not(r).length===1?this.queryJoiner=[]:t.tableJoins.length>0&&(this.queryJoiner=[],$.merge(this.queryJoiner,t.tableJoins));this.nodeTableRemover(r.data("e-table"));this.removeFilter(r.data("e-table").name);this.removeExpression(r.data("e-table").name,r.data("e-table").schema);r.remove();this.executeUIQuery();this.updateToolbarItems();this.showTableHint(this.dragSurfaceTag.find(".e-data-table").length)},t.prototype.getRelationTables=function(n,t){for(var u,f,i,r=0;r<t.length;r++){for(u=[],f=0;f<t.length;f++)t[f]!==t[r]&&u.push(t[f]);for(i=0;i<n.length;i++)if(n[i].leftTable===t[r]&&u.indexOf(n[i].rightTable)===-1||n[i].rightTable===t[r]&&u.indexOf(n[i].leftTable)===-1)return u}return t.slice(1,t.length)},t.prototype.deleteTableNodes=function(n,t,i){for(var u=[],f=[],r=0;r<n.length;r++)n[r].leftTable===t?u.push(n[r].rightTable):n[r].rightTable===t?u.push(n[r].leftTable):f.push(n[r]);for(!i&&f.length!==0&&u.length>1&&(u=this.getRelationTables(f,u)),r=0;r<u.length;r++)this.deleteTableNodes(f,u[r],!0);return f},t.prototype.deleteTable=function(n){var t=this,i=this.dragSurfaceTag.find(".e-data-table");n.length===0&&(i=i.not(":first"));i.each(function(i,r){for(var u=$(r).data("e-table"),e=!1,f=0;f<n.length;f++)if(n[f].leftTable===u.name||n[f].rightTable===u.name){e=!0;break}e||(t.removeFilter(u.name),t.removeExpression(u.name,u.schema),t.dragSurfaceTag.find(t.getTblSel(u.schema,u.name)).remove(),t.nodeTableRemover(u))});this.updateToolbarItems();this.showTableHint(this.dragSurfaceTag.find(".e-data-table").length)},t.prototype.deleteQueryTable=function(n){var i=this.dragSurfaceTag.find(".e-data-table").not(n),u=[],t=[],r;return i.length>1&&(r=n.data("e-table"),t=this.deleteTableNodes($.extend(this.queryJoiner,{},!0),r.name,!1),i.each(function(n,f){for(var e=$(f).data("e-table"),s=!1,o=0;o<t.length;o++)if(t[o].leftTable===e.name||t[o].rightTable===e.name||r.name===e.name){s=!0;break}s||n===i.length-1&&t.length===0||u.push(e)})),{tableJoins:t,tables:u}},t.prototype.joinerActionRes=function(n){n.isCancel&&n.data?(this.dragSurfaceTag.find(this.getTblSel(n.data.schema,n.data.name)).remove(),this.nodeTableRemover(n.data),this.executeUIQuery(),this.updateToolbarItems()):n.joiners&&(ej.DashboardUtil.isEqualObj(this.queryJoiner,n.joiners)||(this.queryJoiner=n.joiners,this.deleteTable(this.queryJoiner),this.executeUIQuery()))},t.prototype.exprActionRes=function(n){this.queryExp=n},t.prototype.joinQueryTable=function(n){var t=this.dragSurfaceTag.find(".e-data-table").not(n),i=n.data("e-table"),r=this.joinQuery(t,i),u;r.length>0?($.merge(this.queryJoiner,r),this.executeUIQuery()):t.length!==0?(u=ej.DashboardUtil.getQueryInstance("QueryJoiner"),u.editNewField(this.queryJoiner,i,$.proxy(this.joinerActionRes,this))):t.length===0&&this.executeUIQuery()},t.prototype.joinQuery=function(n,t){var o=this.dbSchema.Schemas[t.schema][t.viewType][t.name],s=[],f,i,u;if(n.length!==0){var r=this.getTableData(n),h=Object.keys(o),e=!1;for(u=0;u<h.length;u++)if(e=!1,!ej.isNullOrUndefined(o[h[u]].ForeignKey)){for(f=o[h[u]].ForeignKey,i=0;i<r.length;i++)if(f.RelationTable===r[i].table.name){e=!0;s.push({key:r[i].table.name+"-"+t.name,leftTable:r[i].table.name,rightTable:t.name,leftSchema:r[i].table.schema,rightSchema:f.RelationSchema,join:Join.Inner,primaryTable:r[i].table.name,keyFields:f.Field+Operator.Equal+f.RelationField,fields:[{operator:Operator.Equal,leftField:f.RelationField,rightField:f.Field}]});break}if(e)break}if(!e)for(i=0;i<r.length;i++){for(u=0;u<r[i].foreignKey.length;u++)if(r[i].foreignKey[u].RelationTable===t.name){e=!0;s.push({key:r[i].table.name+"-"+t.name,leftTable:r[i].table.name,rightTable:t.name,rightSchema:t.schema,leftSchema:r[i].foreignKey[u].RelationSchema,join:Join.Inner,primaryTable:t.name,keyFields:r[i].foreignKey[u].RelationField+Operator.Equal+r[i].foreignKey[u].Field,fields:[{rightField:r[i].foreignKey[u].RelationField,leftField:r[i].foreignKey[u].Field,operator:Operator.Equal}]});break}if(e)break}}return s},t.prototype.getTableData=function(n){var i=this.dbSchema,t=[];return n.each(function(n,r){for(var o=$(r).data("e-table"),f=i.Schemas[o.schema][o.viewType][o.name],s=[],h=[],e=Object.keys(f),u=0;u<e.length;u++)f[e[u]].IsPrimaryKey&&s.push(f[e[u]].Name),ej.isNullOrUndefined(f[e[u]].ForeignKey)||h.push(f[e[u]].ForeignKey);t.push({table:$(r).data("e-table"),primaryKey:s,foreignKey:h})}),t},t.prototype.dragStart=function(n){var i=$(n.currentTarget).closest("li"),t=this.getTreeData(i.attr("id"));t&&(this.dragSurfaceTag.find(this.getTblSel(t.value.schema,t.name)).length===0&&t.value.viewType!=="Procedures"&&this.dragSurfaceTag.find(".e-Procedures").length===0||t.value.viewType==="Procedures"&&this.dragSurfaceTag.find(".e-data-table").length===0)&&($("body").bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.dragItem,this)),$("body").bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.dropItem,this)),this.dragging=ej.buildTag("div","",{height:"auto",width:"185px",position:"absolute",display:"none","border-style":"none"},{}),this.dragging.append(this.getDragTableHeader($(n.currentTarget).find("a").text())),$("body").append(this.dragging),this.dragging.data("ej-table-data",{schema:t.value.schema,viewType:t.value.viewType,name:t.name,id:i.attr("id")}))},t.prototype.getTreeData=function(n){if(this.ejSchemaTree.model.fields&&this.ejSchemaTree.model.fields.dataSource)for(var t=0;t<this.ejSchemaTree.model.fields.dataSource.length;t++)if(n===this.ejSchemaTree.model.fields.dataSource[t].id)return this.ejSchemaTree.model.fields.dataSource[t];return null},t.prototype.getDragTableHeader=function(n){var t=ej.buildTag("div.e-reportdesigner-dataset-dragHeader","",{display:"block",height:"30px",background:"white"},{}),i=ej.buildTag("span.e-designer-fontfamily",n,{float:"left","font-weight":"600","font-size":"13px",padding:"5px 0px 5px 10px",overflow:"hidden","vertical-align":"middle",width:"165px","text-overflow":"ellipsis"});return t.append(i),t},t.prototype.dragItem=function(n){if(this.dragging!=null){var t=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,i=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragging.css({display:"block",top:i+1.5,left:t+1.5})}n.stopPropagation()},t.prototype.dropItem=function(n){var r,t=$(n.target),f=n.originalEvent&&n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageX:n.pageX,e=n.originalEvent&&n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageY:n.pageY,u,i;n.type==="touchend"&&(u=n.originalEvent.changedTouches[0],t=$(document.elementFromPoint(u.clientX,u.clientY)));this.dragging&&(r=this.dragging.data("ej-table-data"),this.dragging.remove(),t.hasClass("e-drag-surface")?this.renderTableElement(r,{top:t.scrollTop()+(e-t.offset().top),left:t.scrollLeft()+(f-t.offset().left)}):t.parents(".e-drag-surface").length>0?(i=t.parents(".e-drag-surface"),this.renderTableElement(r,{top:i.scrollTop()+(e-i.offset().top),left:i.scrollLeft()+(f-i.offset().left)})):t.hasClass("e-query-editor")&&this.renderText(r));this.dragging=null;$("body").unbind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.dragItem,this));$("body").unbind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.dropItem,this))},t.prototype.dragSurfaceStart=function(n){this.dragSurfaceTag.bind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.dragSurfaceItem,this));this.dragSurfaceTag.bind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.dropSurfaceItem,this));this.dragging=$(n.currentTarget).parent("div.e-lv");var t=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,i=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragX=t-this.dragging.offset().left;this.dragY=i-this.dragging.offset().top},t.prototype.dragSurfaceItem=function(n){if(this.dragging!=null){var t=$(n.currentTarget),i=this.dragging.parent(),r=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,u=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragging.css({top:i.scrollTop()+(u-t.offset().top)-this.dragY,left:i.scrollLeft()+(r-t.offset().left)-this.dragX,cursor:"move"})}},t.prototype.dropSurfaceItem=function(){this.dragging&&this.dragging.css("cursor","pointer");this.dragging=null;this.dragX=this.dragY=0;this.dragSurfaceTag.unbind(ej.DashboardUtil.MouseEvent.mouseMove,$.proxy(this.dragSurfaceItem,this));this.dragSurfaceTag.unbind(ej.DashboardUtil.MouseEvent.mouseUp,$.proxy(this.dropSurfaceItem,this))},t.prototype.getExpQuery=function(n){var t=null,i=this.dragSurfaceTag.find(".e-data-table"),r;return i.length>0&&(r=this.datasourceInfo.ConnectionProperties.DataProvider,t="SELECT top 1 ",t+="("+this.buildExpColumn(i,n,r)+")",t=t+" FROM "+this.buildFromClause(i)),t},t.prototype.buildSQLStatement=function(n,t){var i="",f=this.dragSurfaceTag.find(".e-Procedures"),r=this.dragSurfaceTag.find(".e-data-table"),u;return f.length>0?(i=this.buildStoreProcedure(f),t&&(t.hasColumns=!0)):r.length>0&&(i=n?"SELECT top 100 ":"SELECT ",u=this.buildSelectClause(r),i+=u,i+=this.buildExpClause(r,u?!0:!1),i=i+" FROM "+this.buildFromClause(r),i+=this.buildWhereClause(r),i+=this.buildGroupByClause(r),u&&u.length>0&&t&&(t.hasColumns=!0)),i},t.prototype.buildSelectClause=function(n){var i=this,r="",t=this.id,u=this.dbSchema;return n.each(function(n,f){for(var v,l,e=$(f).data("e-table"),s=u.Schemas[e.schema][e.viewType][e.name],h=Object.keys(s),o=0;o<h.length;o++){var c=ej.DashboardUtil.escapeSelector(s[h[o]].Name),w=$(f).find("#"+t+"_"+c),a=$(f).find("#"+i.id+"_txtSpan_"+c);if(w.hasClass("e-reportdesigner-dataset-column-select")){v=a.text();l="";a.attr("isDuplicate")==="true"?l=" AS ["+/\(([^)]+)\)/.exec(a.text())[1]+"]":v.toLowerCase()!==s[h[o]].Name.toLowerCase()&&(l=" AS ["+v+"]");var b=$(f).find("#"+t+"_li_"+c).attr("e-data-aggregate"),y="["+e.schema+"].["+e.name+"].["+s[h[o]].Name+"]",p=$(f).find("#"+t+"_li_"+c).attr("e-column-type");p&&(l=" AS ["+e.schema+"_"+e.name+"_"+s[h[o]].Name+"]");y=i.getTypeCastField(y,p,$(f).find("#"+t+"_li_"+c).attr("datatype"));r+=(r?",\n":"")+(i.getAggregateField(y,b)+l)}}}),r},t.prototype.buildExpClause=function(n,t){var e=this.datasourceInfo.ConnectionProperties.DataProvider,i="",r,u,f;if(this.queryExp&&this.queryExp.length>0){for(r=0;r<this.queryExp.length;r++)u=this.queryExp[r].name,f=this.buildExpColumn(n,this.queryExp[r],e),i+=(i?",\n":"")+f+" AS ["+u+"]";i&&t&&(i=",\n"+i)}return i},t.prototype.buildExpColumn=function(n,t,i){var u=this,r=t.expression,f=t.name,e=this.dbSchema;return r=this.gethierarchyExp(f,r),r=(new ej.DashboardDesignerUtility.ExpressionParsor).parseExpression(r,i),n.each(function(n,t){for(var c,y,p,i=$(t).data("e-table"),o=e.Schemas[i.schema][i.viewType][i.name],s=Object.keys(o),f=0;f<s.length;f++){var l=ej.DashboardUtil.escapeSelector(o[s[f]].Name),a=$(t).find("#"+u.id+"_txtSpan_"+l),h=o[s[f]].Name,v=a.text();h=a.attr("isDuplicate")==="true"?"["+h+"("+/\(([^)]+)\)/.exec(a.text())[1]+")]":v.toLowerCase()!==o[s[f]].Name.toLowerCase()?"["+h+"("+v+")]":"["+h+"]";c="["+i.schema+"].["+i.name+"].["+o[s[f]].Name+"]";y=$(t).find("#"+u.id+"_li_"+l).attr("e-column-type");c=u.getTypeCastField(c,y,$(t).find("#"+u.id+"_li_"+l).attr("datatype"));r&&ej.DashboardUtil.contains(r,h,!0)&&(p="["+i.schema+"].["+i.name+"].["+o[s[f]].Name+"]",r=r.split(h).join(c))}}),r},t.prototype.gethierarchyExp=function(n,t){for(var r,u,i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name!==n&&(r="["+this.queryExp[i].name+"]",u=this.queryExp[i].expression,t&&ej.DashboardUtil.contains(t,r,!0)))return t=t.split(r).join(u),this.gethierarchyExp(n,t);return t},t.prototype.buildGroupByClause=function(n){var t="",i=this.id,r=this.dbSchema;return n.each(function(n,u){for(var h,f=$(u).data("e-table"),o=r.Schemas[f.schema][f.viewType][f.name],s=Object.keys(o),e=0;e<s.length;e++)h=$(u).find("#"+i+"_li_"+ej.DashboardUtil.escapeSelector(o[s[e]].Name)).attr("e-data-aggregate"),ej.isNullOrUndefined(h)||h.toLowerCase()!=="groupby"||(t+=(t?",":" GROUP BY ")+"["+f.schema+"].["+f.name+"].["+o[s[e]].Name+"]")}),t},t.prototype.buildFilterQuery=function(n,t){n.toLowerCase()!=="date"||t.isParameter||(t.value1="'"+t.value1+"'",t.value2="'"+t.value2+"'");var i="["+t.schema+"].["+t.tableName+"].["+t.colName+"]";return t.isTypecast&&(i=this.getTypeCastField(i,t.typeCastValue,t.defaultType)),"("+i+" "+t.operator+" "+(t.operator==="Between"||t.operator==="Not Between"?t.value1+" AND "+t.value2:t.value1)+")"},t.prototype.buildStringQuery=function(n){var t="["+n.schema+"].["+n.tableName+"].["+n.colName+"]",i,r;return(n.isTypecast&&(t=this.getTypeCastField(t,n.typeCastValue,n.defaultType)),i=n.isParameter?n.value1:"N'"+n.value1+"'",n.operator==="Starts With"||n.operator==="Ends With")?(r=n.operator==="Starts With"?"LEFT("+t+", LEN("+i+"))":"RIGHT(RTRIM("+t+"), LEN("+i+" ))","((((CASE WHEN LEN( "+i+" ) >= 0 THEN "+r+"ELSE NULL END) = "+i+" ) AND("+t+" <> '' )) AND (NOT("+t+" IS NULL)))"):n.operator==="Contains"?"(((ISNULL(CHARINDEX( "+i+","+t+"),0) > 0) AND ("+t+" <> '' )) AND (NOT("+t+" IS NULL)))":n.operator==="Not Contains"?"(((NOT(ISNULL(CHARINDEX( "+i+" ,"+t+"),0) > 0)) AND ("+t+" <> '' )) AND (NOT("+t+" IS NULL)))":n.operator==="="?"("+t+" "+n.operator+" "+i+")":void 0},t.prototype.buildGuidQuery=function(n){var t="["+n.schema+"].["+n.tableName+"].["+n.colName+"]",i,r;return(n.isTypecast&&(t=this.getTypeCastField(t,n.typeCastValue,n.defaultType)),i=n.isParameter?n.value1:"N'"+n.value1+"'",n.operator==="Starts With"||n.operator==="Ends With")?(r=n.operator==="Starts With"?"LEFT(["+t+"], LEN( "+i+"))":"RIGHT(RTRIM("+t+"), LEN( "+i+" ))","(((CASE WHEN LEN( "+i+" ) >= 0 THEN "+r+"ELSE NULL END) = "+i+") AND (NOT("+t+" IS NULL)))"):n.operator==="Contains"||n.operator==="Not Contains"?"("+(n.operator==="Not Contains"?"NOT(":"(")+"ISNULL(CHARINDEX( "+i+", "+t+"]), 0) > 0) AND (NOT("+t+" IS NULL)))":n.operator==="="?"("+t+" "+n.operator+" "+i+")":void 0},t.prototype.buildBoolQuery=function(n){var r=n.isParameter?n.parameter1:"'"+n.value1+"'",i=n.isParameter?n.parameter2:"'"+n.value2+"'",t=n.schema+"].["+n.tableName+"].["+n.colName;return n.value1==="NULL"&&n.value2.length===0?"(["+t+"] IS NULL)":n.value2.length===0&&n.value1==="True"||n.value1==="False"?"(["+t+"] "+(n.isParameter?" =  "+n.parameter1+" )":"IN ("+r+"))"):n.value1==="True"&&n.value2==="False"?"(["+t+"] IN ( "+r+" , "+i+" ))":n.value1==="NULL"&&n.value2==="True"||n.value2==="False"?"(["+t+"] IS NULL or ["+t+"] "+(n.isParameter?" = "+i+")":" IN ("+i+"))"):void 0},t.prototype.buildWhereClause=function(n){var u=this,r="",s=this.dbSchema,o,t=$.extend(this.queryFilter,!0,{}),i,f=" AND ",e=" WHERE  (";if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)n.each(function(n,h){var l=$(h).data("e-table"),k=s.Schemas[l.schema][l.viewType][l.name],b=Object.keys(k),c,a,d;if(t[i].TableName===l.name){for(c=t[i].IsTypeCast?t[i].TypeCastValue:t[i].DataType,a=0;a<b.length;a++)if(t[i].Name===b[a]){o=k[b[a]].Name;break}var v=t[i].Value,y=t[i].ParameterName,p=t[i].IsQueryParameter,w={schema:l.schema,tableName:t[i].TableName,colName:o,operator:t[i].Operator,value1:p?y.Parameter1:v.Value1,value2:p?y.Parameter2:v.Value2,isParameter:p,isTypecast:t[i].IsTypeCast,typeCastValue:t[i].TypeCastValue,defaultType:t[i].DataType};c==="System.Int32"||c==="System.Int16"||c==="System.Int64"||c==="System.Double"||c==="System.Single"||c==="System.Decimal"||c==="System.Byte"||c==="integer"?r+=(r?f:e)+u.buildFilterQuery("int",w):c==="System.Boolean"?(d={schema:l.schema,tableName:t[i].TableName,colName:o,operator:t[i].Operator,value1:v.Value1,value2:v.Value2,parameter1:y.Parameter1,parameter2:y.Parameter2,isParameter:p},r+=(r?f:e)+u.buildBoolQuery(d)):c==="System.String"||c==="string"?r+=(r?f:e)+u.buildStringQuery(w):c==="System.Guid"?r+=(r?f:e)+u.buildGuidQuery(w):(c==="System.DateTime"||c==="date")&&(r+=(r?f:e)+u.buildFilterQuery("date",w))}});return r+=r?")":""},t.prototype.buildFromClause=function(){var f="",s=this.dragSurfaceTag.find(".e-data-table"),i={},l={},h,o,t;if(s.length===1)h=s.data("e-table"),f="["+h.schema+"].["+h.name+"]";else if(s.length>1&&this.queryJoiner.length>0){var r=$.extend(this.queryJoiner,!0,{}),e=0,n=0,a=0;for(f+="["+this.queryJoiner[0].leftSchema+"].["+this.queryJoiner[0].leftTable+"]",i[this.queryJoiner[0].leftTable]=this.queryJoiner[0].leftTable;e<this.queryJoiner.length;){var c="",v="",u=[];if((!ej.isNullOrUndefined(i[this.queryJoiner[n].leftTable])||!ej.isNullOrUndefined(this.queryJoiner[n].rightTable))&&ej.isNullOrUndefined(l[this.queryJoiner[n].key])){for(u=this.queryJoiner[n].fields,ej.isNullOrUndefined(i[this.queryJoiner[n].leftTable])?(c="["+this.queryJoiner[n].leftSchema+"].["+this.queryJoiner[n].leftTable+"]",v=r[n].join===Join.LeftOuter?Join.RightOuter.toString().toUpperCase()+" JOIN ":r[n].join===Join.RightOuter?Join.LeftOuter.toString().toUpperCase()+" JOIN ":r[n].join.toString().toUpperCase()+" JOIN ",i[this.queryJoiner[n].leftTable]=this.queryJoiner[n].leftTable):(c="["+this.queryJoiner[n].rightSchema+"].["+this.queryJoiner[n].rightTable+"]",v=r[n].join.toString().toUpperCase()+" JOIN ",i[this.queryJoiner[n].rightTable]=this.queryJoiner[n].rightTable),o="",t=0;t<u.length;t++)o+=(o?"AND":"")+("["+this.queryJoiner[n].leftSchema+"].["+this.queryJoiner[n].leftTable+"].["+u[t].leftField+"]"+u[t].operator+"["+this.queryJoiner[n].rightSchema+"].["+this.queryJoiner[n].rightTable+"].["+u[t].rightField+"]");f+=" "+r[n].join.toString().toUpperCase()+" JOIN "+c+" ON "+o;l[this.queryJoiner[n].key]=this.queryJoiner[n].key;e++}if(n++,n===this.queryJoiner.length)if(n=0,a===e)break;else a=e}}return f},t.prototype.buildIntChangeQuery=function(n,t){var i="";switch(t){case"date":i="CAST("+n+" AS datetime)";break;case"string":i="CAST("+n+" AS nvarchar)";break;default:i=n}return i},t.prototype.buildDateChangeQuery=function(n,t){var i="";switch(t){case"integer":i="CAST("+n+" AS float)";break;case"string":i="CAST("+n+" AS nvarchar)";break;default:i=n}return i},t.prototype.buildStringChangeQuery=function(n,t){var i="";switch(t){case"date":i="(CASE WHEN 0 = ISDATE(CAST("+n+" AS VARCHAR))THEN NULL ELSE CAST(CAST("+n+" AS VARCHAR)AS datetime)END )";break;case"integer":i="(CASE WHEN 0 = ( ISNUMERIC(CAST("+n+" AS VARCHAR)))or ("+n+") Like '%[^a-zA-Z0-9.]%' THEN NULL ELSE CAST(CAST("+n+" AS VARCHAR)AS float)END ) ";break;default:i=n}return i},t.prototype.buildBoolChangeQuery=function(n,t){var i="";switch(t){case"date":i="CAST("+n+" AS datetime)";break;case"string":i="(CASE WHEN("+n+" <> 0)THEN '1' WHEN NOT("+n+" <> 0)THEN '0' ELSE NULL END)";break;case"integer":i="(CASE WHEN("+n+" <> 0)THEN 1 WHEN NOT("+n+" <> 0)THEN 0 ELSE NULL END)";break;default:i=n}return i},t.prototype.getTypeCastField=function(n,t,i){var r="";return t?(this.isNumberType(i)?r=this.buildIntChangeQuery(n,t):this.isStringType(i)?r=this.buildStringChangeQuery(n,t):this.isDateType(i)?r=this.buildDateChangeQuery(n,t):(i.toLowerCase()==="bit"||i.toLowerCase()==="system.boolean")&&(r=this.buildBoolChangeQuery(n,t)),r):n},t.prototype.getAggregateField=function(n,t){var i="";switch(t){case"Sum":i="SUM("+n+")";break;case"Avg":i="AVG("+n+")";break;case"Min":i="MIN("+n+")";break;case"Max":i="MAX("+n+")";break;case"Count":i="COUNT("+n+")";break;case"StDev":i="STDEV("+n+")";break;case"StDevP":i="STDEVP("+n+")";break;case"Var":i="VAR("+n+")";break;case"VarP":i="VARP("+n+")";break;case"SumDistinct":i="SUM(DISTINCT "+n+")";break;case"AvgDistinct":i="AVG(DISTINCT "+n+")";break;case"MinDistinct":i="MIN(DISTINCT "+n+")";break;case"MaxDistinct":i="MAX(DISTINCT "+n+")";break;case"CountDistinct":i="COUNT(DISTINCT "+n+")";break;default:i=n}return i},t.prototype.buildStoreProcedure=function(n){var u=n.data("e-table"),t,i,r,f;if(this.commandMode===CommandMode.Text){if(t="exec ",i=this.getProcParams(),t+=u.schema+"."+u.name+" ",i&&i.length>0)for(r=0;r<i.length;r++)f=i[r],r!==0&&(t+=","),t+=f.Name+"='"+f.Value+"'";return t}return u.schema+"."+u.name},t.prototype.showSettingsMenu=function(n){var i=$(n.target),f=i.offset(),r=$("#"+this.id+"_ds_tableMenu").data("ejMenu"),u=r._targetEjElement=i.closest("li"),t=$(r._targetEjElement).attr("e-column-type"),e;this.updateColType(u,t);e=ej.isNullOrUndefined(t)?u.attr("datatype"):t;this.isNumberType(u.attr("datatype"))?$("#"+this.id+"_ds_tableMenu .e-commonType").css("display","block"):($("#"+this.id+"_ds_tableMenu .e-commonType:not(.e-string)").css("display","none"),$("#"+this.id+"_ds_tableMenu .e-string").css("display","block"));$("#"+this.id+"_ds_tableMenu .e-chk-image").css("display","none");$("#"+this.id+"_field_"+$(r._targetEjElement).attr("e-data-aggregate")).css("display","block");$("#"+this.id+"_"+(this.isDefault(t)?"Default":t)+"_tick").css("display","block");r.show(f.left-$("#"+this.id+"_ds_tableMenu").width(),f.top+i.height(),i,{})},t.prototype.isDefault=function(n){return ej.isNullOrUndefined(n)||n.toLowerCase()==="boolean"||n.toLowerCase()==="integer"||n.toLowerCase()==="date"||n.toLowerCase()==="string"?!0:!1},t.prototype.updateColType=function(n,t){var u=n.attr("datatype"),r="Default",i=$("#"+this.id+"_ds_tableMenu"),f;i.ejMenu("enableItemByID",this.id+"_Number");i.ejMenu("enableItemByID",this.id+"_DateTime");i.ejMenu("enableItemByID",this.id+"_Text");this.isNumberType(u)?(i.ejMenu("disableItemByID",this.id+"_Number"),r="Integer"):this.isStringType(u)?(i.ejMenu("disableItemByID",this.id+"_Text"),r="String"):this.isDateType(u)?(i.ejMenu("disableItemByID",this.id+"_DateTime"),r="Date"):u==="bit"&&(r="Boolean",ej.isNullOrUndefined(t)||t.toLowerCase()==="boolean"||i.ejMenu("disableItemByID",this.id+"_"+t));this.updateIconType(t,n);f=$("#"+this.id+"_ds_tableMenu").find("#"+this.id+"_Default").find("a");f.first()[0].childNodes[0].nodeValue=r},t.prototype.updateIconType=function(n,t){var f=ej.isNullOrUndefined(n)?t.attr("datatype"):n,r={DataType:f.toLowerCase(),IsPrimaryKey:!1},u="",i;switch(f.toLowerCase()){case"integer":case"real":r={DataType:"int",IsPrimaryKey:!1};u=ej.DashboardUtil.getDataTypeStyle(r);break;case"date":r={DataType:"datetime",IsPrimaryKey:!1};u=ej.DashboardUtil.getDataTypeStyle(r);break;case"string":r={DataType:"text",IsPrimaryKey:!1};u=ej.DashboardUtil.getDataTypeStyle(r);break;case"boolean":r={DataType:"bit",IsPrimaryKey:!1};u=ej.DashboardUtil.getDataTypeStyle(r);break;default:r={DataType:t.attr("datatype"),IsPrimaryKey:!1};u=ej.DashboardUtil.getDataTypeStyle(r)}i=t.find(".e-query-datatype");i.hasClass("e-reportdesigner-dataset-datetime")?i.removeClass("e-reportdesigner-dataset-datetime"):i.hasClass("e-reportdesigner-dataset-number")?i.removeClass("e-reportdesigner-dataset-number"):i.hasClass("e-reportdesigner-dataset-boolean")?i.removeClass("e-reportdesigner-dataset-boolean"):i.hasClass("e-reportdesigner-dataset-char")?i.removeClass("e-reportdesigner-dataset-char"):i.hasClass("e-reportdesigner-dataset-string")&&i.removeClass("e-reportdesigner-dataset-string");i.addClass(u)},t.prototype.isNumberType=function(n){var t=n.toLowerCase();return t==="tinyint"||t==="smallint"||t==="int"||t==="bigint"||t==="smallmoney"||t==="money"||t==="numeric"||t==="decimal"||t==="real"||t==="float"||t==="uniqueidentifier"||n==="System.Int32"||n==="System.Int16"||n==="System.Int64"||n==="System.Double"||t==="integer"||n==="System.Single"||n==="System.Decimal"||n==="System.Byte"?!0:!1},t.prototype.isStringType=function(n){var t=n.toLowerCase();return t==="nchar"||t==="ntext"||t==="nvarchar"||t==="text"||t==="varchar"||t==="char"||n==="System.Guid"||n==="System.String"||n==="Text"||t==="string"?!0:!1},t.prototype.isDateType=function(n){var t=n.toLowerCase();return t==="datetime"||t==="datetime2"||n==="System.DateTimeOffset"||n==="System.DateTime"||t==="smalldatetime"||t==="date"||t==="datetimeoffset"||t==="timestamp"||n==="time"?!0:!1},t.prototype.onListItemMouseUp=function(n){var t=$(n.target).closest("li");t.hasClass("e-table-user-selection-active")||(t.parent().children().each(function(){var n=$(this);n.removeClass("e-table-user-selection-active");n.find("span").removeClass("e-table-user-selection-active");n.find(".e-settings").css("display","none")}),t.addClass("e-table-user-selection-active"),t.find("span").addClass("e-table-user-selection-active"),t.find(".e-settings").css("display","inline-block"))},t.prototype.enableTableSettings=function(n){$(n.currentTarget).find(".e-settings").css("display","inline-block")},t.prototype.disableTableSettings=function(n){var t=$(n.currentTarget).find(".e-settings");t.hasClass("e-table-user-selection-active")||t.css("display","none")},t.prototype.isAggregateTypeChange=function(n){return n.toLowerCase()==="date"||n.toLowerCase()==="integer"||n.toLowerCase()==="string"||n.toLowerCase()==="boolean"?!1:!0},t.prototype.settingMenuClick=function(n){var t=$("#"+this.id+"_ds_tableMenu").data("ejMenu"),i=this.isAggregateTypeChange(n.text);n.text==="Rename"?this.editColumnName({currentTarget:t._targetEjElement[0]}):i?this.setTickAttribute(n,t._targetEjElement,i):this.setDataType(n,t._targetEjElement,i)},t.prototype.setTickAttribute=function(n,t,i){var r=$(n.element).find(".e-chk-image");r.length===1&&($("#"+this.id+"_ds_tableMenu").find(".e-chk-image").not(r).css("display","none"),r.css("display")==="block"?(r.css("display","none"),$(t).attr(i?"e-data-aggregate":"e-column-type","")):(r.css("display","block"),$(t).attr(i?"e-data-aggregate":"e-column-type",n.text)),this.updateIconType(n.text,$(t)),this.executeUIQuery())},t.prototype.getColumnItem=function(n,t,i){var r=ej.buildTag("li","",{},{id:t}),u=ej.buildTag("a."+i+"-anchor",n),f=ej.buildTag("span.e-chk-image e-icon e-checkmark e-lv-checkdiv","",{display:"none"},{id:t+"_tick"});return u.append(f),r.append(u),r},t.prototype.getMenuItem=function(n,t,i){var f=i?" e-string":"",r=ej.buildTag("li.e-commonType"+f),u=ej.buildTag("a",n),e=ej.buildTag("span.e-chk-image e-icon e-checkmark e-lv-checkdiv","",{display:"none"},{id:t});return u.append(e),r.append(u),r},t.prototype.setDataType=function(n,t,i){var s=$(t[0]).find(".e-list-text"),r=s.attr("name"),u=s.text().trim();r!==u&&s.attr("isDuplicate")==="false"&&(u=r+"("+u+")");var h=$(t).closest(".e-tableName").find(".e-tableSpan").text(),f=this.hasQueryFilter(r,h),e=this.hasExpression(r),o="";f&&!e?o="filter":!f&&e?o="expression":f&&e&&(o="expression and the filter");f||e?ej.DashboardUtil.getInstance().ejAlertDialog("Dashboard","Changing the datatype will invalidate the "+o+" applied on this column. Do you still want to proceed?",!0,!0,!0,"",{dataInfo:{name:r,tableName:h,target:t,isAggregate:i,menuElement:n,expCol:u},instance:this,method:"enableTick"}):this.setTickAttribute(n,t,i)},t.prototype.enableTick=function(n,t){n&&!ej.isNullOrUndefined(t)&&(this.removeFilterTypeCast(t.name,t.tableName),this.removeExpTypecast(t.expCol),this.setTickAttribute(t.menuElement,t.target,t.isAggregate))},t.prototype.hasQueryFilter=function(n,t){if(!ej.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(var i=0;i<this.queryFilter.length;i++)if(n===this.queryFilter[i].Name&&t===this.queryFilter[i].TableName)return!0;return!1},t.prototype.hasExpression=function(n){if(!ej.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0)for(var t=0;t<this.queryExp.length;t++)if(n&&ej.DashboardUtil.contains(this.queryExp[t].expression,n,!0))return!0;return!1},t.prototype.removeExpTypecast=function(n){var t,i;if(this.hasExpression(n)){for(t=0;t<this.queryExp.length;t++)n&&ej.DashboardUtil.contains(this.queryExp[t].expression,"["+n+"]",!0)&&(this.removeHierarchyExp(this.queryExp[t].name),this.queryExp.splice(t,1));if(this.queryExp&&this.queryExp.length>0)for(i=0;i<this.queryExp.length;i++)if(ej.DashboardUtil.contains(this.queryExp[i].expression,"["+n+"]",!0)){this.queryExp.splice(i,1);break}}},t.prototype.removeFilterTypeCast=function(n,t){if(!ej.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(var i=this.queryFilter.length-1;i>=0;i--)if(this.queryFilter[i].Name===n&&this.queryFilter[i].TableName===t){this.queryFilter.splice(i,1);break}},t.prototype.removeHierarchyExp=function(n){for(var t=0;t<this.queryExp.length;t++)ej.DashboardUtil.contains(this.queryExp[t].expression,n,!0)&&(this.removeHierarchyExp(this.queryExp[t].name),this.queryExp.splice(t,1))},t.prototype.designerClick=function(n){var t=$(n.target).parents("ul.e-designer-menu"),i;t.length>0?(i=this.element.find(".e-designer-menu:visible").not(t),i.hide()):$(n.target).hasClass("e-designer-click")||$(n.target).closest(".e-designer-click").length>0||($(".e-designer-menu:visible").hide(),$(".e-designer-tooltip:visible").css("display","none"))},t.prototype.editColumnBlur=function(n){var r=$(n.currentTarget),u=r.closest("li"),f=r.attr("liTag"),t=u.find("#"+f),i=r.val().trim(),e=t.attr("name");this.isExistColName(i,t)?(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","The specified column name already exists",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block")):/^[a-zA-Z0-9- _]*$/.test(i)===!1?(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Column name should not contain special characters.",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block")):i?(r.css("display","none"),i=t.attr("isDuplicate")==="true"?t.attr("name")+"("+i+")":i,t.css("display","inline-block").text(i.trim()),this.editColVal!==i.trim()&&u.find("#"+this.id+"_"+e).hasClass("e-reportdesigner-dataset-column-select")&&this.executeUIQuery(),this.editColVal=null):(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Specify the column name",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block"))},t.prototype.editColumnName=function(n){var i=$(n.currentTarget).find(".e-edit-column"),f=i[0],u=this.dragSurfaceTag.find(".e-edit-column:visible").not(i),r=$(n.currentTarget).find(".e-list-text"),t;i.css("display")==="none"&&u.length===0?(t=r.text().trim(),r.attr("isDuplicate")==="true"&&(t=/\(([^)]+)\)/.exec(r.text())[1]),r.css("display","none"),i.css("display","inline-block").val(t).focus(),this.editColVal=t,f.selectionStart=f.selectionEnd=t.length):u.length>0&&this.editColumnBlur({currentTarget:u[0]})},t.prototype.editColumnKeyPress=function(n){if(n.keyCode===13){var r=$(n.currentTarget),u=r.closest("li"),f=r.attr("liTag"),t=u.find("#"+f),i=r.val().trim(),e=t.attr("name");this.isExistColName(i,t)?(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","The specified column name already exists",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block")):/^[a-zA-Z0-9- _]*$/.test(i)===!1?(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Column name should not contain special characters.",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block")):i?(r.css("display","none"),i=t.attr("isDuplicate")==="true"?t.attr("name")+"("+i+")":i,t.css("display","inline-block").text(i.trim()),this.editColVal!==i.trim()&&u.find("#"+this.id+"_"+e).hasClass("e-reportdesigner-dataset-column-select")&&this.executeUIQuery(),this.editColVal=null):(ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Specify the column name",!1,!0,!0,""),r.css("display","none"),t.css("display","inline-block"))}},t.prototype.isExistExpField=function(n,t){var r=this,u=this.dbSchema,i=!1;return n.each(function(n,f){for(var c=$(f).data("e-table"),s=u.Schemas[c.schema][c.viewType][c.name],h=Object.keys(s),e=0;e<h.length;e++){var v=ej.DashboardUtil.escapeSelector(s[h[e]].Name),l=$(f).find("#"+r.id+"_txtSpan_"+v),o=s[h[e]].Name,a=l.text();if(o=l.attr("isDuplicate")==="true"?"["+o+"("+/\(([^)]+)\)/.exec(l.text())[1]+")]":a.toLowerCase()!==s[h[e]].Name.toLowerCase()?"["+o+"("+a+")]":"["+o+"]",t&&ej.DashboardUtil.contains(t,o,!0)){i=!0;return}}}),i},t.prototype.isExistColName=function(n,t){var r=this.dragSurfaceTag.find(".e-data-table"),u=this.id,f=this.dbSchema,i=!1;return r.each(function(r,e){for(var o,s,h=$(e).data("e-table"),l=f.Schemas[h.schema][h.viewType][h.name],a=Object.keys(l),c=0;c<a.length;c++)if(o=$(e).find("#"+u+"_txtSpan_"+ej.DashboardUtil.escapeSelector(l[a[c]].Name)),(ej.isNullOrUndefined(t)||!o.is(t))&&(s=o.text(),o.attr("isDuplicate")==="true"&&(s=/\(([^)]+)\)/.exec(s)[1]),n.toLowerCase()===s.toLowerCase())){i=!0;return}}),i},t.prototype.onColumnClick=function(n){var t=$(n.target);t.hasClass("e-designer-select")&&(t.hasClass("e-reportdesigner-dataset-column-select")?t.addClass("e-reportdesigner-dataset-column-deselect").removeClass("e-reportdesigner-dataset-column-select"):t.removeClass("e-reportdesigner-dataset-column-deselect").addClass("e-reportdesigner-dataset-column-select"),this.executeUIQuery())},t.prototype.activeNode=function(n,t){t?(n.addClass("e-table-user-selection-active"),n.find("span").addClass("e-table-user-selection-active"),n.find(".e-settings").css("display","block")):(n.removeClass("e-table-user-selection-active"),n.find("span").removeClass("e-table-user-selection-active"),n.find(".e-settings").css("display","none"))},t.prototype.calcScrollTop=function(n,t){for(var e=t.outerHeight(),r=t.find("li"),u=0,f=n,i=0;i<f;i++)u+=r.eq(i).outerHeight();return u-(e-r.eq(f).outerHeight())/2},t.prototype.listKeyDown=function(n,t){var e=t.keyCode,u,i,r,f;return e===40?(i=void 0,r=$(n).find("li.e-table-user-selection-active"),r.length>0?(this.activeNode(r,!1),u=r.next(),u.length>0?(i=u,this.activeNode(u,!0)):(i=$(n).find("li").eq(0),this.activeNode(i,!0))):(i=$(n).find("li").eq(0),this.activeNode(i,!0)),$(t.currentTarget).data("ejScroller").setModel({scrollTop:this.calcScrollTop(i.index(),n)}),t.preventDefault(),!1):e===38?(i=void 0,r=$(n).find("li.e-table-user-selection-active"),r.length>0?(this.activeNode(r,!1),f=r.prev(),f.length>0?(i=f,this.activeNode(f,!0)):(i=$(n).find("li").last(),this.activeNode(i,!0))):(i=$(n).find("li").last(),this.activeNode(i,!0)),$(t.currentTarget).data("ejScroller").setModel({scrollTop:this.calcScrollTop(i.index(),n)}),t.preventDefault(),!1):void 0},t.prototype.showQueryEditor=function(n){n?(this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp"),$("#"+this.id+"_table_schemaArea").css("display","none"),this.designSwitcher.css("display","none"),this.queryEditorTag.css("display","block"),this.dragSurfaceTag.css("display","none"),this.updateEditorSize()):(this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"),$("#"+this.id+"_table_schemaArea").css("display","inline-block"),this.designSwitcher.css("display","block"),this.queryEditorTag.css("display","none"),this.dragSurfaceTag.css("display","block"),this.resetSize())},t.prototype.confirmSwitcher=function(n){n?(this.setQueryText(""),this.codeSwitcher(!1),this.commandMode=this.dragSurfaceTag.find(".e-Procedures").length>0?CommandMode.Procedure:CommandMode.Text):this.codeChkSwitcher.prop("checked",!1)},t.prototype.codeSwitcher=function(n){this.showLoadRecordMsg(!0);this.showNoRecord(!0);this.showLoadMoreOpt(0);n?(this.queryEditorTag.css("display","block"),this.dragSurfaceTag.css("display","none"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run")):(this.dragSurfaceTag.css("display","block"),this.queryEditorTag.css("display","none"),this.updateToolbarItems())},t.prototype.renderText=function(n){for(var t="",r=this.queryEditorTag,u=this.dbSchema.Schemas[n.schema][n.viewType][n.name],f=Object.keys(u),i=0;i<f.length;i++)t+=(t?",":"")+n.schema+"."+n.name+"."+u[f[i]].Name;t="Select "+t+" From "+n.schema+"."+n.name;r.text(r.text()+t)},t.prototype.updateToolbarItems=function(){var n=this.dragSurfaceTag.find(".e-data-table");n.length===0?(this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp")):(this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"));n.length>1?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join");this.dragSurfaceTag.is(":visible")&&n.length>0||this.dragSurfaceTag.is(":hidden")?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_run")},t.prototype.enableDataSourceDwn=function(n){n?this.ejDrpdwnData.enable():this.ejDrpdwnData.disable()},t.prototype.enableToolbarItems=function(n){if(n){var t=this.dragSurfaceTag.find(".e-data-table");this.ejBtnSave.enable();this.schemaHeader.removeAttr("disabled").css("opacity","1");this.designSwitcher.removeAttr("disabled").css("opacity","1");this.btnSaveTag.css("opacity","1");this.codeChkSwitcher.removeAttr("disabled");$("#"+this.id+"_dataset_txt").removeAttr("disabled").css("opacity","1");t.length>0&&(this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"));t.length>1&&this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join");(this.dragSurfaceTag.is(":visible")&&t.length>0||this.dragSurfaceTag.is(":hidden"))&&this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run")}else this.btnSaveTag.css("opacity",".3"),this.ejBtnSave.disable(),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_run"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp"),$("#"+this.id+"_dataset_txt").attr("disabled","true").css("opacity",".3"),this.codeChkSwitcher.prop("checked",!0).attr("disabled","true"),this.schemaHeader.attr("disabled","true").css("opacity",".3"),this.designSwitcher.attr("disabled","true").css("opacity",".3")},t.prototype.toolbarClick=function(n){var t=n.event.target,u,i,r;$(t).hasClass("e-reportdesigner-toolbarli")&&(t=$(t).find("span"));$(t).hasClass("e-reportdesigner-toolbar-run")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Execute"}),i||this.executeQuery()):$(t).hasClass("e-reportdesigner-toolbar-join")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Join"}),i||(u=ej.DashboardUtil.getQueryInstance("QueryJoiner"),u.showQueryJoiner(this.queryJoiner,$.proxy(this.joinerActionRes,this)))):$(t).hasClass("e-reportdesigner-dataset-filter")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Filter"}),i||(r=ej.DashboardUtil.getQueryInstance("QueryFilter"),r.openQueryFilterDialog())):$(t).hasClass("e-reportdesigner-toolbar-exp")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Expression"}),i||(r=ej.DashboardUtil.getQueryInstance("QueryExpression"),r.openExpression(this.queryExp,this.datasourceInfo.ConnectionProperties.DataProvider))):this.triggerEvents("toolbarClick",{target:event,click:"External"})},t.prototype.enableDataSourceDrp=function(){this.model.dataSources&&this.model.dataSources.length>0?this.ejDrpdwnData.enable():this.ejDrpdwnData.disable()},t.prototype.updateToolbar=function(){var n=this.model.toolbarSettings;this.showToolBar(n.showToolbar);this.showDataSourceDdn(n.items&ej.QueryDesigner.ToolbarItems.SelectDataSource);this.showDataSetName(n.items&ej.QueryDesigner.ToolbarItems.InputDataSet);this.showExecuteQuery(n.items&ej.QueryDesigner.ToolbarItems.Execute);this.showTableJoiner(n.items&ej.QueryDesigner.ToolbarItems.Join);this.showTableExp(n.items&ej.QueryDesigner.ToolbarItems.Expression);this.showTableFilter(n.items&ej.QueryDesigner.ToolbarItems.Filter);this.showCodeSwitcher(n.items&ej.QueryDesigner.ToolbarItems.Switcher);this.showSaveBtn(n.items&ej.QueryDesigner.ToolbarItems.Save);this.showCancelBtn(n.items&ej.QueryDesigner.ToolbarItems.Cancel)},t.prototype.enableToolbar=function(n){n?(this.ejQueryTool.enable(),$("#"+this.id+"_saveButton").css("opacity","1").data("ejButton").enable()):(this.ejQueryTool.disable(),$("#"+this.id+"_saveButton").css("opacity",".3").data("ejButton").disable())},t.prototype.showToolBar=function(n){this.designToolbar.css("display",n?"block":"none")},t.prototype.showDataSourceDdn=function(n){$("#"+this.id+"_table_select_data").css("display",n?"block":"none")},t.prototype.showDataSetName=function(n){$("#"+this.id+"_table_edit_dataset").css("display",n?"block":"none")},t.prototype.showExecuteQuery=function(n){$("#"+this.id+"_dataset_tool_run").css("display",n?"block":"none")},t.prototype.showTableJoiner=function(n){$("#"+this.id+"_dataset_tool_join").css("display",n?"block":"none")},t.prototype.showTableExp=function(n){$("#"+this.id+"_dataset_tool_exp").css("display",n?"block":"none")},t.prototype.showTableFilter=function(n){$("#"+this.id+"_dataset_tool_filter").css("display",n?"block":"none")},t.prototype.showCodeSwitcher=function(n){$("#"+this.id+"_design_switcher").css("display",n?"block":"none")},t.prototype.showSaveBtn=function(n){$("#"+this.id+"_div_dataset_save").css("display",n?"inline-block":"none")},t.prototype.showCancelBtn=function(n){$("#"+this.id+"_div_dataset_close").css("display",n?"inline-block":"none")},t.prototype.getDesignerParameters=function(){var r=[],i,t,n;if(this.queryFilter&&this.queryFilter.length>0)for(i=0;i<this.queryFilter.length;i++)this.queryFilter[i].IsQueryParameter&&(t=this.queryFilter[i],n=t.ParameterName,n.Parameter1&&n.Parameter1.length>0&&r.push({Name:n.Parameter1,DataType:t.DataType,Value:t.Value.Value1}),n.Parameter2&&n.Parameter2.length>0&&r.push({Name:n.Parameter2,DataType:t.DataType,Value:t.Value.Value2}));return r},t.prototype.executeUIQuery=function(){var t={},n=this.buildSQLStatement(!0,t),i;t.hasColumns&&n&&n.length>0?this.executeTempQuery(n):(this.showLoadMoreOpt(!1),this.showNoRecord(!0),this.showLoadRecordMsg(!1),i=this.dragSurfaceTag.find(".e-data-table"),i.length===0&&this.postRemovedTable())},t.prototype.postRemovedTable=function(){var n=$("#"+this.id+"_dataset_txt").val();ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.executeQuery,tableName:this.removedTableName,dataSetName:n,action:"close"})},{})},t.prototype.executeQuery=function(){var n=null,t;this.queryEditorTag.is(":visible")?this.isSQLProvider(this.datasourceInfo)?(n=this.selectTopNQuery(this.getQueryText()),!ej.isNullOrUndefined(n)&&n.length>0&&(t=ej.DashboardUtil.getQueryInstance("QueryParameter"),t.showQueryDialog(n,this.queryInputVals))):this.connectData(!1):(this.showLoadMoreOpt(!0),n=this.buildSQLStatement(!0),this.executeTempQuery(n))},t.prototype.executeTempQuery=function(n){var r=this.dragSurfaceTag.find(".e-data-table"),u=$("#"+this.id+"_dataset_txt").val(),t,i=!1;this.queryEditorTag.is(":visible")?(i=!0,t=""):(i=!1,t=$(r).data("e-table").name);ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.executeQuery,datasource:this.encrptDataSourceInfo(this.datasourceInfo),sqlQuery:n,commandType:this.commandMode,parameters:this.getParameters(!1),tableName:t,dataSetName:u,isCodeView:i,isEdit:this.isEditMode,filter:this.queryFilter,isInitialFilter:this.isInitialFilterApplied})},{fnction:$.proxy(this.previewData,this),indicator:[$.proxy(this.showPreviewIndicator,this),$.proxy(this.hidePreviewIndicator,this)]})},t.prototype.switcherChanged=function(){var r,u,t,i,n,f,e;this.codeChkSwitcher.is(":checked")?(i=this.buildSQLStatement(!1),n=this.getQueryText(),n=n?n.trim().toLowerCase():"",f=i?i.trim().toLowerCase():"",n!==f?(e="Switching to the visual designer will discard  manual changes made to the query. Do you want to use the visual designer anyway ?",ej.DashboardUtil.getInstance().ejAlertDialog("Query Designer",e,!0,!1,!0,"",{instance:this,method:"confirmSwitcher"})):(this.setQueryText(""),this.codeSwitcher(!1),this.commandMode=this.dragSurfaceTag.find(".e-Procedures").length>0?CommandMode.Procedure:CommandMode.Text)):(this.codeSwitcher(!0),this.commandMode=CommandMode.Text,r=this.dragSurfaceTag.find(".e-data-table"),this.commandMode=this.dragSurfaceTag.find(".e-Procedures").length>0?CommandMode.Procedure:CommandMode.Text,u=$("#"+this.id+"_dataset_txt").val(),t=void 0,t=this.queryEditorTag.is(":visible")?"":$(r).data("e-table").name,ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.codeView,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.codeView,datasource:this.encrptDataSourceInfo(this.datasourceInfo),commandType:this.commandMode,parameters:this.getParameters(!1),tableName:t,dataSetName:u})},{fnction:$.proxy(this.sqlQuery,this),indicator:[$.proxy(this.showPreviewIndicator,this),$.proxy(this.hidePreviewIndicator,this)]}))},t.prototype.sqlQuery=function(n){this.codeSwitcher(!0);this.setQueryText(n)},t.prototype.getProcParams=function(){var n=ej.DashboardUtil.getQueryInstance("StoreParameter");return n.getProcParams()},t.prototype.getQueryParameters=function(){var n=ej.DashboardUtil.getQueryInstance("QueryParameter");return n.getQueryParams()},t.prototype.getParameters=function(n){var t=this.queryEditorTag,i=ej.DashboardUtil.getQueryInstance("QueryParameter");return this.commandMode===CommandMode.Procedure?this.getProcParams():t.css("display")!=="block"?this.getDesignerParameters():n?i.getQueryParameters(this.selectTopNQuery(this.getQueryText())):this.getQueryParameters()},t.prototype.selectTopNQuery=function(n){return this.isSQLProvider(this.datasourceInfo)?"select top 100 * from ("+n+") table1":n},t.prototype.connectData=function(n){if(this.datasourceInfo.ConnectionProperties.IntegratedSecurity||this.datasourceInfo.SecurityType===0||this.datasourceInfo.SecurityType==="None"||!(ej.isNullOrUndefined(this.datasourceInfo.ConnectionProperties.UserName)||this.datasourceInfo.ConnectionProperties.UserName.length===0||ej.isNullOrUndefined(this.datasourceInfo.ConnectionProperties.PassWord)||this.datasourceInfo.ConnectionProperties.PassWord.length===0))n?this.excuteQrySchema(this.getQueryText()):this.excuteQryWithParams();else{var t=this.credentials&&(this.credentials.length>0||Object.keys(this.credentials).length>0)?this.credentials[this.datasourceInfo.Name]:null;t&&t.UserName&&t.UserName.length>0&&t.PassWord&&t.PassWord.length>0?(this.datasourceInfo.ConnectionProperties.PassWord=t.PassWord,this.datasourceInfo.ConnectionProperties.UserName=t.UserName,n?this.excuteQrySchema(this.getQueryText()):this.excuteQryWithParams()):this.credentialWin.openCredentialDialog(this.datasourceInfo.Name,this.datasourceInfo,this,n?"excuteOtherProviderQrySchema":"excuteQryData")}},t.prototype.excuteQryData=function(){this.datasourceInfo=this.datasourceInfo;this.excuteQryWithParams()},t.prototype.excuteQryWithParams=function(){var n=this.getQueryText(),t;!ej.isNullOrUndefined(n)&&n.length>0&&(t=ej.DashboardUtil.getQueryInstance("QueryParameter"),t.showQueryDialog(n,this.queryInputVals))},t.prototype.setSQLHint=function(){var t,e,i,n,r,u,f;if(this.codeEditor)try{for(t={},e=Object.keys(this.dbSchema.Schemas),i=0;i<e.length;i++)n=this.dbSchema.Schemas[e[i]],r=Object.keys(n.Tables),r&&r.length>0&&this.setSQLHintTables(n.Tables,r,t),u=Object.keys(n.Viewes),u&&u.length>0&&this.setSQLHintTables(n.Viewes,u,t),f=Object.keys(n.Procedures),f&&f.length>0&&this.setSQLHintTables(n.Procedures,f,t);this.codeEditor.setOption("hintOptions",{tables:t})}catch(o){}},t.prototype.setSQLHintTables=function(n,t,i){var r,o,u,e,f;if(t&&t.length>0)for(r=0;r<t.length;r++)if(o=n[t[r]],u=Object.keys(o),u&&u.length>0){for(e=[],f=0;f<u.length;f++)e.push(u[f]);i[t[r]]=e}else i[t[r]]=[]},t.prototype.getQueryText=function(){return this.codeEditor?this.codeEditor.getValue():this.sqlEditor.getQuery()},t.prototype.setQueryText=function(n){this.codeEditor?this.codeEditor.setValue(n):this.sqlEditor.setQuery(n)},t.prototype.previewData=function(n){var i=this,t;n&&n.table&&n.type?(t=this,this.previewTO&&clearTimeout(this.previewTO),this.showPreviewIndicator(),this.previewTO=setTimeout(function(){for(var s,f=JSON.parse(n.table),r=JSON.parse(n.type),e=[],o=t.previewHeader.width(),h=150*r.length>o?150:(o-20)/r.length,u=0;u<r.length;u++)e.push({field:r[u].Name,headerText:r[u].Name,width:h,textAlign:i.getAlignType(r[u].DataType)});t.showNoRecord(!1);t.ejPreviewGrid.setModel({dataSource:f,columns:e});s=f.length+" Record"+(f.length>1?"s":"")+" Retrieved";$("#"+t.id+"_record_count").text(s);t.showLoadMoreOpt(f.length===100);i.hidePreviewIndicator()},500,n)):n&&n.indexOf("Sf_Exception")!==-1&&ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",n,!1,!0,!1,"DataSet failed to preview the seleceted table");this.isEditMode=!1},t.prototype.getAlignType=function(n){return n==="System.String"||n==="System.Boolean"||n==="System.Text"||n.toLowerCase()==="string"||n.toLowerCase()==="boolean"?ej.TextAlign.Left:n==="System.Int16"||n==="System.Int32"||n==="System.Int64"||n==="System.Decimal"||n==="System.Double"||n==="System.Single"||n==="System.Byte"||n==="System.DateTime"||n==="System.TimeSpan"||n.toLowerCase()==="integer"||n.toLowerCase()==="real"||n.toLowerCase()==="date"?ej.TextAlign.Right:ej.TextAlign.Left},t.prototype.loadMoreData=function(n){if(this.queryEditorTag.css("display")!=="block"){var t=null;t=this.buildSQLStatement(!1);this.executeTempQuery(t);$(n.target).css("display","none").attr("isClick","true")}},t.prototype.showLoadMoreOpt=function(n){var t=$("#"+this.id+"_load_data");(this.queryEditorTag.is(":visible")||t.attr("isClick")==="true")&&(n=!1);t.css("display",n?"inline-block":"none");t.attr("isClick","false")},t.prototype.showNoRecord=function(n){this.noRecordSpan.css("display",n?"table-cell":"none");this.previewGrid.css("display",n?"none":"block");n&&$("#"+this.id+"_record_count").text("")},t.prototype.showLoadRecordMsg=function(n){this.noRecordSpan.text(n?"Execute to preview records":"No records to display")},t.prototype.updatePreviewData=function(){this.showNoRecord(!0);this.showLoadRecordMsg(!0);this.showLoadMoreOpt(!1)},t.prototype.setAggregation=function(n){for(var t=0;t<n.length;t++)ej.isNullOrUndefined(n[t].AggregateTye)||$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(n[t].Name)).attr("e-data-aggregate",n[t].AggregateTye)},t.prototype.setColumnType=function(n){for(var t=0;t<n.length;t++)ej.isNullOrUndefined(n[t].TypeCast)||$("#"+this.id+"_li_"+ej.DashboardUtil.escapeSelector(n[t].Name)).attr("e-column-type",n[t].TypeCast)},t.prototype.populateDesignerState=function(n){var t,o,e,r,s;try{if(n&&n.Query&&n.Query.QueryDesignerState){if(t=n.Query.QueryDesignerState,o={},t.Tables&&t.Tables.length>0){var f=10,h=this.dragSurfaceTag.width(),c=t.Tables.length*220+(t.Tables.length-1)*20;for(c<h&&(f=(h-c)/2),e=0;e<t.Tables.length;e++){var i=t.Tables[e],l={},a={schema:i.Schema,viewType:i.IsView?"Viewes":"Tables",name:i.Name,id:i.Schema+"_"+i.Name};for(o[i.Name]=i.Schema,r=0;r<i.Columns.length;r++)l[i.Columns[r].Name]=i.Columns[r];s={top:25,left:f};this.renderTable(a,s,null,!0,l);this.setAggregation(i.Columns);this.setColumnType(i.Columns);f+=230}}else if(t.StoredProcedure){var u=t.StoredProcedure,f=this.dragSurfaceTag.width()/2-110,a={schema:u.Schema,viewType:"Procedures",name:u.Name,id:u.Schema+"_"+u.Name},s={top:25,left:f};this.renderTableElement(a,s,u.Parameters)}this.populateJoinState(t.Joins,o);this.populateQueryFilterState(t.Filters);this.populateExpressionState(t.Expressions);t.Tables&&t.Tables.length>0&&this.executeUIQuery()}}catch(v){this.codeChkSwitcher.prop("checked",!1);this.codeSwitcher(!0);this.setQueryEditor()}},t.prototype.populateJoinState=function(n,t){var u,i,r,f,e,o;if(this.queryJoiner=[],n&&n.length>0)for(u=0;u<n.length;u++){for(i=n[u],r={key:i.LeftTable+"-"+i.RightTable,leftTable:i.LeftTable,rightTable:i.RightTable,leftSchema:t[i.LeftTable],rightSchema:t[i.RightTable],join:i.JoinType,primaryTable:i.PrimaryKeyOwner},r.fields=[],f=0;f<i.JoinFields.length;f++)e=i.JoinFields[f],o={operator:e.OperatorType,leftField:e.LeftField,rightField:e.RightField},r.fields.push(o);r.keyFields=r.fields[0].leftField+r.fields[0].operator+r.fields[0].rightField;this.queryJoiner.push(r)}},t.prototype.populateQueryFilterState=function(n){var i;if(this.queryFilter=[],n&&n.length>0)for(i=0;i<n.length;i++){var t=n[i],r=t.Value,u=t.ParameterName,f={Value1:r.Value1,Value2:r.Value2},e={Parameter1:u.Parameter1,Parameter2:u.Parameter2},o={Name:t.Name,DataType:t.DataType,Operator:t.Operator,IsQueryParameter:t.IsQueryParameter,TableName:t.TableName,Schema:t.Schema,Value:f,ParameterName:e,IsTypeCast:t.IsTypeCast,TypeCastValue:t.TypeCastValue};this.queryFilter.push(o)}},t.prototype.populateExpressionState=function(n){if(this.queryExp=[],n&&n.length>0)for(var t=0;t<n.length;t++)this.queryExp.push({name:n[t].Name,expression:n[t].QueryExp})},t.prototype.saveDesignerState=function(){var e=this,n,r,i,u;if(this.dragSurfaceTag.css("display")==="block"){if(n=this.createQueryDesigner(),r=this.dragSurfaceTag.find(".e-data-table"),r.hasClass("e-Procedures")&&r.length===1){var f=this.createSProcedure(),o=r.data("e-table"),t=this.getProcParams();if(f.Name=o.name,f.Schema=o.schema,t&&t.length>0)for(f.Parameters=[],i=0;i<t.length;i++)u=this.createProcParameter(),u.Name=t[i].Name,u.Value=t[i].Value,u.IsNull=t[i].IsNull,u.DataType=t[i].DataType,f.Parameters.push(u);n.StoredProcedure=f}else r.length>0&&(n.Tables=[],r.each(function(t,i){var r=e.createDesignerTable(),u=$(i).data("e-table");r.Name=u.name;r.Schema=u.schema;r.IsView=u.viewType==="Tables"?!1:!0;r.Columns=e.getColumnsState($(i));n.Tables.push(r)}),n.Joins=this.getJoinerState(),n.Filters=this.getQueryFilterState(),n.Expressions=this.getExpressionState());return n}return null},t.prototype.getJoinerState=function(){var e=null,r,n,t,u,f,i;if(this.queryJoiner&&this.queryJoiner.length>0)for(e=[],r=0;r<this.queryJoiner.length;r++){for(n=this.createJoin(),t=this.queryJoiner[r],n.LeftTable=t.leftTable,n.RightTable=t.rightTable,n.JoinType=t.join,n.PrimaryKeyOwner=t.primaryTable,n.JoinFields=[],u=0;u<t.fields.length;u++)f=t.fields[u],i=this.createJoinField(),i.LeftField=f.leftField,i.RightField=f.rightField,i.OperatorType=f.operator,n.JoinFields.push(i);e.push(n)}return e},t.prototype.getQueryFilterState=function(){var u=null,i;if(this.queryFilter&&this.queryFilter.length>0)for(u=[],i=0;i<this.queryFilter.length;i++){var t=this.createQueryFilter(),r=this.createQueryFilterVal(),f=this.createQueryParameterName(),n=this.queryFilter[i];t.Name=n.Name;t.DataType=n.DataType;t.Operator=n.Operator;t.TableName=n.TableName;t.Schema=n.Schema;r.Value1=n.Value.Value1;f.Parameter1=n.ParameterName.Parameter1;n.Operator==="Between"||n.Operator==="Not Between"?(ej.isNullOrUndefined(n.Value.Value2)||(r.Value2=n.Value.Value2),ej.isNullOrUndefined(n.ParameterName.Parameter2)||(f.Parameter2=n.ParameterName.Parameter2)):ej.isNullOrUndefined(n.Value.Value2)||(r.Value2="");t.IsTypeCast=n.IsTypeCast;t.TypeCastValue=n.TypeCastValue;t.Value=r;t.IsQueryParameter=n.IsQueryParameter;t.ParameterName=f;u.push(t)}return u},t.prototype.getExpressionState=function(){var i=null,n,t;if(this.queryExp&&this.queryExp.length>0)for(i=[],n=0;n<this.queryExp.length;n++)t=this.createExpression(),t.Name=this.queryExp[n].name,t.QueryExp=this.queryExp[n].expression,i.push(t);return i},t.prototype.getColumnsState=function(n){for(var c=[],o=this.id,a=this.dbSchema,s=n.data("e-table"),r=a.Schemas[s.schema][s.viewType][s.name],u=Object.keys(r),i=0;i<u.length;i++){var f=ej.DashboardUtil.escapeSelector(r[u[i]].Name),t=this.createColumn(),v=n.find("#"+o+"_"+f),e=n.find("#"+this.id+"_txtSpan_"+f),l=e.text(),h=null;e.attr("isDuplicate")==="true"?h=/\(([^)]+)\)/.exec(e.text())[1]:l.toLowerCase()!==r[u[i]].Name.toLowerCase()&&(h=l);t.Name=r[u[i]].Name;t.IsSelected=v.hasClass("e-reportdesigner-dataset-column-select");t.AggregateTye=$("#"+o+"_li_"+f).attr("e-data-aggregate");t.IsDuplicate=e.attr("isDuplicate")==="true";t.AliasName=h;t.TypeCast=$("#"+o+"_li_"+f).attr("e-column-type");c.push(t)}return c},t.prototype.saveQueryDataSet=function(){this.hideResponsiveToolBar();this.saveQueryInfo()},t.prototype.isValidateQryInfo=function(n){if(this.validateDataSetName()){if(!n){var t=this.queryEditorTag.is(":visible")?"Specify the DataSet query":"Select the table to save the DataSet";return ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",t,!1,!0,!1,""),!1}}else return!1;return!0},t.prototype.saveQueryInfo=function(){var n=null;this.isSQLProvider(this.datasourceInfo)?(n=this.queryEditorTag.is(":visible")?this.getQueryText():this.buildSQLStatement(!1),this.isValidateQryInfo(n)&&this.excuteQrySchema(n)):this.queryEditorTag.is(":visible")&&(n=this.getQueryText(),this.isValidateQryInfo(n)&&this.connectData(!0))},t.prototype.excuteOtherProviderQrySchema=function(n){this.datasourceInfo=n;this.excuteQrySchema(this.getQueryText())},t.prototype.excuteQrySchema=function(n){var t=$("#"+this.id+"_dataset_txt").val();ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.querySchema,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.querySchema,datasource:this.encrptDataSourceInfo(this.datasourceInfo),sqlQuery:n,commandType:this.commandMode,parameters:this.getParameters(!0),dataSetName:t})},{fnction:$.proxy(this.updateQueryInfo,this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]})},t.prototype.updateQueryInfo=function(n){var o,u,a,i;if(n&&n.schema){var s=JSON.parse(n.schema),v=n.query,r=t.createDataSet();for(this.queryParameters=[],r.Name=$("#"+this.id+"_dataset_txt").val(),r.Query.CommandText=v,r.Query.DataSourceName=this.datasourceInfo.Name,r.Query.QueryDesignerState=this.saveDesignerState(),i=0;i<s.length;i++)o=this.createField(),o.Name=ej.DashboardUtil.rplSpecialChar(s[i].Name),o.DataField=s[i].Name,o.TypeName=s[i].DataType,r.Fields.push(o);if(this.commandMode===CommandMode.Procedure){r.Query.CommandType=1;var l=n.query.split("."),u=this.dbSchema.Schemas[l[0]].Procedures[l[1]],c=Object.keys(u);if(c.length>0)for(i=0;i<c.length;i++){var f=u[c[i]],h=f.Name.substring(1),e=this.createQueryParameter();e.Name=f.Name;e.Value="=Parameters!"+h+".Value";r.Query.QueryParameters.push(e);this.newDependentParameter(h,f)}}else if(this.commandMode===CommandMode.Text&&(r.Query.CommandType=0,u=void 0,this.queryEditorTag.css("display")==="block"?(a=ej.DashboardUtil.getQueryInstance("QueryParameter"),u=a.getQueryParameters(r.Query.CommandText)):u=this.getDesignerParameters(),!ej.isNullOrUndefined(u)&&u.length>0))for(i=0;i<u.length;i++){var f=u[i],h=f.Name.substring(1),e=this.createQueryParameter();e.Name=f.Name;e.Value="=Parameters!"+h+".Value";r.Query.QueryParameters.push(e);this.newDependentParameter(h,f)}this.callBackfn?ej.DashboardUtil.invokeCallBack(this.callBackfn,{oldDataSet:this.model.dataSet,newDataSet:r,parameters:this.queryParameters}):this.invokefn&&ej.DashboardUtil.invokeCallBack(this.invokefn,{oldDataSet:this.model.dataSet,newDataSet:r,newSharedDataSet:this.getSharedDataSet(r),parameters:this.queryParameters,sharedDataMapping:this.sharedDataMapping});this.isEdit=!1}else n&&n.indexOf("Sf_Exception")!==-1&&ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",n,!1,!0,!1,"DataSet failed to save the Query of selected table")},t.prototype.getSharedDataSet=function(n){var t=this.createSharedDataset();return t.Name=n.Name,t.Query.CommandText=n.Query.CommandText,t.Query.CommandType=n.Query.CommandType,t.Query.QueryDesignerState=n.Query.QueryDesignerState,t.Query.DataSourceReference=this.datasourceInfo.Name,t.QueryParameters=n.Query.QueryParameters,t.Fields=n.Fields,t},t.prototype.newDependentParameter=function(n,t){this.referenceParam=$.extend(this.model.parameters,{},!0);var i=this.createParameter();i.Name=n;i.Prompt=n;i.DataType=t.DataType==="bit"||t.DataType==="System.Boolean"?DataTypes.Boolean:ej.DashboardUtil.contains("int",t.DataType,!0)||t.DataType==="System.Int32"||t.DataType==="System.Int16"||t.DataType==="System.Int64"||t.DataType==="System.Byte"||t.DataType==="System.Single"?DataTypes.Integer:ej.DashboardUtil.contains("money",t.DataType,!0)||t.DataType==="float"||t.DataType==="numeric"||t.DataType==="System.Double"?DataTypes.Float:t.DataType==="decimal"||t.DataType==="System.Decimal"?DataTypes.Decimal:ej.DashboardUtil.contains("date",t.DataType,!0)||t.DataType==="System.DateTime"?DataTypes.DateTime:DataTypes.String;ej.isNullOrUndefined(t.Value)||(i.DefaultValue=this.createDefaultValues(),i.DefaultValue.Values.push(t.Value),i.DefaultValue.DataSetReference=null);this.isExistParameter(i,t.isQueryMode)||this.queryParameters.push(i)},t.prototype.isExistParameter=function(n,t){for(var i=0;i<Object.keys(this.referenceParam).length;i++)if(this.referenceParam[i].Name===n.Name)return ej.isNullOrUndefined(t)&&!t&&!ej.DashboardUtil.isEqualObj(this.referenceParam,n)?(this.referenceParam[i]=n,!1):!0;if(this.queryParameters&&this.queryParameters.length>0)for(i=0;i<this.queryParameters.length;i++)if(this.queryParameters[i].Name===n.Name)return!0;return!1},t.prototype.cancelDataSet=function(){this.hideResponsiveToolBar();this.hideDragIndicator();this.hideDesignIndicator();this.hidePreviewIndicator();this.hideIndicator();this.isEdit==!1&&this.postCancelledDataSetEdit();this.isEdit=!1;this.callBackfn?ej.DashboardUtil.invokeCallBack(this.callBackfn,{isCancel:!0}):this.invokefn&&ej.DashboardUtil.invokeCallBack(this.invokefn,{isCancel:!0})},t.prototype.postCancelledDataSetEdit=function(){var n=$("#"+this.id+"_dataset_txt").val();ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.cancelDataSetEdit,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.cancelDataSetEdit,datasource:this.encrptDataSourceInfo(this.datasourceInfo),datasetName:n,isEdit:this.isEditMode})},{})},t.prototype.hideResponsiveToolBar=function(){$("#"+this.id+"_div_designerTool_target").length>0&&$("#"+this.id+"_div_designerTool_hiddenlist").is(":visible")&&$("#"+this.id+"_div_designerTool_target").mousedown()},t.prototype.validateDataSetName=function(){var n=$("#"+this.id+"_dataset_txt").val();if(n){if(this.isAvailable(n))return ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","The specified name already exists in DataSet list",!1,!0,!0,""),!1;if(!/^[a-zA-Z0-9-_]*$/.test(n))return ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Name should not contain spaces and special characters",!1,!0,!0,""),!1}else return ej.DashboardUtil.getInstance().ejAlertDialog("DataSet","Specify the DataSet name",!1,!0,!0,""),!1;return!0},t.prototype.setDataSetName=function(n){var t=$("#"+this.id+"_dataset_txt");n&&t.val(n.Name);t.val(this.isEdit?this.model.dataSet.Name:this.getAvailableName())},t.prototype.getAvailableName=function(){var t="DataSet",n=0,i;do n++,i=this.model.validateNames.indexOf(t+n);while(i!==-1);return t+n},t.prototype.isAvailable=function(n){for(var t=0;t<this.model.validateNames.length;t++)if(this.model.validateNames[t]===n&&!(this.model.dataSet&&n===this.model.dataSet.Name))return!0;return!1},t.prototype.splitterResize=function(){var t=$("#"+this.id+"_div_previewArea"),i=this.previewHeader.height(),n=this.previewGrid.find(".e-gridheader").height()+1;n=n>2?n:40;this.noRecordSpan.css("height",t.height()-i);this.ejPreviewGrid.setModel({scrollSettings:{height:t.height()-n-i}})},t.prototype.horizontalResize=function(n){this.ejPreviewSplitter.refresh();this.previewHeader.width(n.nextPane.size-1);this.ejPreviewGrid.setModel({scrollSettings:{width:n.nextPane.size-1}});this.noRecordSpan.width(n.nextPane.size);this.ejSchemaScroller&&(this.ejSchemaScroller.model.width=n.prevPane.size);this.bodySchemaTag.find(".e-tree-area").is(":visible")?this.ejSchemaScroller&&this.ejSchemaScroller.refresh():this.bodySchemaTag.width(n.prevPane.size)},t.prototype.resetSize=function(){var i=this.element.height()-this.designToolbar.height(),e=2*(parseFloat(this.schemaHeader.css("margin-top"))+1),r=i-this.schemaHeader.height()-e,n;$("#"+this.id+"_div_designerArea").height(this.element.height()-this.designToolbar.height());$("#"+this.id+"_div_draggableArea").css("height","100%");this.ejSurfaceSplitter.model.properties=[{paneSize:"230px",collapsible:!1,minSize:"200px",expandable:!1},{collapsible:!1}];this.bodySchemaTag.height(r);this.ejSurfaceSplitter.option("height",i,!0);this.ejSchemaTree.option("fields.dataSource",[]);this.ejSchemaScroller&&this.ejSchemaScroller.setModel({height:r-2+"px",width:this.schemaDiv.width()+"px"});n=this.getSurfaceAreaWidth();this.ejPreviewSplitter.model.properties=[{paneSize:"67%",collapsible:!1,expandable:!1},{paneSize:"33%",collapsible:!1}];this.ejPreviewSplitter.option("width",n,!0);var u=$("#"+this.id+"_div_previewArea"),f=this.previewHeader.height(),t=this.previewGrid.find(".e-gridheader").height()+1;t=t>2?t:40;this.previewHeader.width(n);this.noRecordSpan.css({height:u.height()-f,width:n});this.ejPreviewGrid.setModel({scrollSettings:{width:n,height:u.height()-t-f}});this.updateToolBarSize()},t.prototype.updateEditorSize=function(){var i=this.element.height()-this.designToolbar.height(),r=$("#"+this.id+"_div_draggableArea"),n=this.element.width()-1;$("#"+this.id+"_div_designerArea").height(i);$("#"+this.id+"_div_target_designArea").height(i);r.width(this.element.width()-1);r.height(i);this.ejPreviewSplitter.model.properties=[{paneSize:"67%",collapsible:!1,expandable:!1},{paneSize:"33%",collapsible:!1}];this.ejPreviewSplitter.option("width",n,!0);var u=$("#"+this.id+"_div_previewArea"),f=this.previewHeader.height(),t=this.previewGrid.find(".e-gridheader").height()+1;t=t>2?t:40;this.previewHeader.width(n);this.noRecordSpan.css({height:u.height()-f,width:n});this.ejPreviewGrid.setModel({scrollSettings:{width:n,height:u.height()-t-f}})},t.prototype.updateSize=function(){var n,u,i,t;if(this.updateToolBarSize(),$("#"+this.id+"_div_target_designArea>.e-split-divider.e-h-bar").css("display")==="none")this.updateEditorSize();else{n=this.element.height()-this.designToolbar.height();$("#"+this.id+"_div_designerArea").height(n);$("#"+this.id+"_div_draggableArea").css("height","100%");$("#"+this.id+"_div_target_designArea").height(n);u=2*(parseFloat(this.schemaHeader.css("margin-top"))+1);i=n-this.schemaHeader.height()-u;this.bodySchemaTag.height(i);this.ejSurfaceSplitter.option("height",n);this.ejSchemaScroller&&(this.ejSchemaScroller.model.width=this.schemaDiv.width(),this.ejSchemaScroller.model.height=i-2);this.bodySchemaTag.find(".e-tree-area").is(":visible")?this.ejSchemaScroller&&this.ejSchemaScroller.refresh():(this.bodySchemaTag.width(this.schemaDiv.width()),this.bodySchemaTag.height(i-2));t=this.getSurfaceAreaWidth();this.ejPreviewSplitter.option("width",t);this.ejPreviewSplitter.model.properties=[{paneSize:"65%",collapsible:!1,expandable:!1},{paneSize:"35%",collapsible:!1}];this.ejPreviewSplitter.refresh();var f=$("#"+this.id+"_div_previewArea"),e=this.previewHeader.height(),r=this.previewGrid.find(".e-gridheader").height()+1;r=r>2?r:40;this.previewHeader.width(t);this.noRecordSpan.css({height:f.height()-e,width:t});this.ejPreviewGrid.setModel({scrollSettings:{width:t,height:f.height()-r-e}})}},t.prototype.getSurfaceAreaWidth=function(){var n=$("#"+this.id+"_table_schemaArea"),i=n.width(),r=parseFloat(n.css("border-left-width")),u=parseFloat(n.css("border-right-width")),t=$("#"+this.id+"_div_target_designArea>.e-split-divider"),f=t.width(),e=parseFloat(t.css("border-left-width")),o=parseFloat(t.css("border-right-width"));return this.element.width()-(i+r+u+f+e+o+.5)},t.prototype.updateToolBarSize=function(){this.ejQueryTool.option("width",this.element.width());this.ejQueryTool._activeItem=undefined;this.ejQueryTool._reSizeHandler()},t.prototype.updateElementSize=function(){var i=this.element.height(),r=this.element.width(),u,n,f,t;this.element[0].style.height||this.element[0].parentElement.clientHeight===0||(this.isHeight=!0);this.element[0].style.width||this.element[0].parentElement.clientWidth===0||(this.isWidth=!0);i===0&&this.element[0].parentElement.clientHeight!==0?(this.element.height(this.element[0].parentElement.clientHeight),i=this.element.height()):this.browserInfo.name==="msie"&&this.browserInfo.version==="8.0"&&this.element[0].style.height.indexOf("%")!==-1&&(u=parseFloat(this.element[0].style.height),n=this.element[0].parentElement.clientHeight,n=n/100*u,this.element.height(n));r===0&&this.element[0].parentElement.clientWidth!==0?(this.element.width(this.element[0].parentElement.clientWidth),r=this.element.width()):this.browserInfo.name==="msie"&&this.browserInfo.version==="8.0"&&this.element[0].style.width.indexOf("%")!==-1&&(f=parseFloat(this.element[0].style.width),t=this.element[0].parentElement.clientWidth,t=t/100*f,this.element.width(t))},t.prototype.designerResize=function(){var t=this.browserInfo,n=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){var e=n.isWidth?n.element[0].parentElement.style.width:n.element[0].style.width,o=n.isHeight?n.element[0].parentElement.style.height:n.element[0].style.height,i=$(n.element).height(),r=$(n.element).width(),u,f;o.indexOf("%")!==-1?(n.isPercentHeight=parseFloat(o),u=n.isHeight?$(n.element).parent().height():i,i=n.isHeight?u:u/100*n.isPercentHeight):n.element[0].parentElement.clientHeight!==0&&n.isPercentHeight!==-1?i=n.isHeight?n.element[0].parentElement.clientHeight:n.element[0].parentElement.clientHeight/100*n.isPercentHeight:n.isHeight&&n.element[0].parentElement.clientHeight!==0?i=n.element[0].parentElement.clientHeight:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientHeight!==0&&(i=n.element[0].parentElement.clientHeight);n.element.height(i);e.indexOf("%")!==-1?(n.isPercentWidth=parseFloat(e),f=n.isWidth?$(n.element).parent().width():r,r=n.isWidth?f:f/100*n.isPercentWidth):n.element[0].parentElement.clientWidth!==0&&n.isPercentWidth!==-1?r=n.isWidth?n.element[0].parentElement.clientWidth:n.element[0].parentElement.clientWidth/100*n.isPercentWidth:n.isWidth&&n.element[0].parentElement.clientWidth!==0?r=n.element[0].parentElement.clientWidth:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientWidth!==0&&(r=n.element[0].parentElement.clientWidth);n.element.width(r);n.updateSize()},200)},t.prototype.wiredEvents=function(){this.schemaSearch.bind("keyup",$.proxy(this.onSearchClick,this));this.schemaSearch.bind("blur",$.proxy(this.onSearchBlur,this));this.schemaSearch.bind("focus",$.proxy(this.onSearchFocus,this));$("#"+this.id+"_schema_searchIcon").bind("click",$.proxy(this.onCloseClick,this))},t.prototype.unWiredEvents=function(){this.schemaSearch.unbind("keyup",$.proxy(this.onSearchClick,this));this.schemaSearch.unbind("blur",$.proxy(this.onSearchBlur,this));this.schemaSearch.unbind("focus",$.proxy(this.onSearchFocus,this));$("#"+this.id+"_schema_searchIcon").unbind("click",$.proxy(this.onCloseClick,this))},t.prototype.triggerEvents=function(n,t){var i,r=t;switch(n){case"ajaxBeforeLoad":i=this._trigger(n,r);break;case"ajaxSuccess":i=this._trigger(n,r);break;case"ajaxError":i=this._trigger(n,r);break;case"clickAction":i=this._trigger(n,r);break;case"toolbarRendering":i=this._trigger(n,r)}},t.prototype.loadSharedDataSet=function(n){var i=n,r=n,t;ej.DashboardUtil.contains(n,"/",!0)&&(i=n.substr(n.lastIndexOf("/")+1),r=n.substr(0,n.lastIndexOf("/")));t=ej.DashboardUtil.createDataSource();t.ConnectionProperties=null;t.DataSourceReference=i;t.Name=i;this.datasourceInfo=t;this.sharedDataMapping={Name:r,DataSourceId:i};this.selectDropDwnVal(r?r:n);this.loadSharedDataSourceSettings()},t.prototype.loadDataSourceSettings=function(n){this.datasourceInfo=this.getDataSource(n);ej.isNullOrUndefined(this.datasourceInfo.DataSourceReference)?this.loadDesignerContainer(n):(this.sharedDataMapping={Name:this.datasourceInfo.Name,DataSourceId:this.datasourceInfo.DataSourceReference},this.enableDataSourceDrp(),this.loadSharedDataSourceSettings())},t.prototype.loadSharedDataSourceSettings=function(){ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.sharedDataSource,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.sharedDataSource,reportInfo:{dataSourceRefer:this.datasourceInfo.DataSourceReference}})},{fnction:$.proxy(this.loadSharedDataSource,this),indicator:[$.proxy(this.showDesignIndicator,this),$.proxy(this.hideDesignIndicator,this)]})},t.prototype.loadSharedDataSource=function(n){n&&(this.updateSharedDsConnection(n,this.datasourceInfo),this.loadDesignerContainer(this.datasourceInfo.Name))},t.prototype.loadDesignerContainer=function(n){this.selectDropDwnVal(n);this.loadDataSetItem(n)},t.prototype.loadDataSetItem=function(n){var t=this.isQueryEditor(this.datasourceInfo);this.codeChkSwitcher.prop("checked",!t);this.showQueryEditor(t);this.showSplitter(!t);this.loadSettings(n);t?(this.enableToolbarItems(!0),this.enableDataSourceDwn(!0),this.setQueryEditor()):(this.enableToolbarItems(!1),this.enableDataSourceDwn(!1),this.loadDataSet())},t.prototype.loadSettings=function(){this.showNoRecord(!0);this.showLoadMoreOpt(0);this.ejPreviewGrid.setModel({dataSource:[]});this.ejSchemaTree.option("fields.dataSource",[]);this.setQueryText("");this.dragSurfaceTag.empty()},t.prototype.loadDataSet=function(){if(this.datasourceInfo.ConnectionProperties.IntegratedSecurity||this.datasourceInfo.SecurityType===0||this.datasourceInfo.SecurityType==="None"||!(ej.isNullOrUndefined(this.datasourceInfo.ConnectionProperties.UserName)||this.datasourceInfo.ConnectionProperties.UserName.length===0||ej.isNullOrUndefined(this.datasourceInfo.ConnectionProperties.PassWord)||this.datasourceInfo.ConnectionProperties.PassWord.length===0))this.loadDatabaseSchema(this.datasourceInfo);else{var n=this.credentials&&(this.credentials.length>0||Object.keys(this.credentials).length>0)?this.credentials[this.datasourceInfo.Name]:null;n&&n.UserName&&n.UserName.length>0&&n.PassWord&&n.PassWord.length>0?(this.datasourceInfo.ConnectionProperties.PassWord=n.PassWord,this.datasourceInfo.ConnectionProperties.UserName=n.UserName,this.loadDatabaseSchema(this.datasourceInfo)):this.credentialWin.openCredentialDialog(this.datasourceInfo.Name,this.datasourceInfo,this,"loadDatabaseSchema")}},t.prototype.loadDatabaseSchema=function(n){this.datasourceInfo=n;ej.DashboardUtil.getInstance().doAjaxPost("POST",this.model.serviceUrl+"/PostDesignerAction/",{action:ej.DashboardUtil.DesignerAction.databaseSchema,data:JSON.stringify({designerAction:ej.DashboardUtil.DesignerAction.databaseSchema,datasource:this.encrptDataSourceInfo(n),isEdit:this.isEditMode})},{fnction:$.proxy(this.updateSchemaArea,this),indicator:[$.proxy(this.showIndicator,this),$.proxy(this.hideIndicator,this)]})},t.prototype.updateSchemaArea=function(n){if(n&&n.indexOf("Sf_Exception")!==-1)ej.DashboardUtil.getInstance().ejAlertDialog("DataSet",n,!1,!0,!1,"DataSet failed to retrieve the Query Schema of selected table");else{var t=JSON.parse(n);this.selectedItems={};this.renderSchemaTree(t);this.dbSchema=t;this.setSQLHint();this.isEdit&&(this.model.dataSet&&this.model.dataSet.Query&&this.model.dataSet.Query.QueryDesignerState?this.populateDesignerState(this.model.dataSet):(this.codeChkSwitcher.prop("checked",!1),this.codeSwitcher(!0),this.setQueryEditor()));this.enableToolbarItems(!0);this.enableDataSourceDwn(!0)}},t.prototype.setQueryEditor=function(){this.isEdit&&this.model.dataSet&&this.setQueryText(this.model.dataSet.Query.CommandText)},t.prototype.isQueryEditor=function(n){switch(n.ConnectionProperties.DataProvider){case"SQL":case"Oracle":case"PostgreSQL":case"MySQL":case"File":case"WEB":return!1}return!0},t.prototype.isSQLProvider=function(n){switch(n.ConnectionProperties.DataProvider){case"SQL":case"MySQL":case"Oracle":case"PostgreSQL":case"File":case"WEB":return!0}return!1},t.prototype.updateSharedDsConnection=function(n,t){var i={};i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ConnectionProperties";i.ConnectString=ej.DashboardUtil.decryptData(n.ConnectString);i.EmbedCredentials=!1;i.DataProvider=n.Extension;i.Prompt="";switch(n.CredentialRetrieval){case 0:i.IntegratedSecurity=!1;i.Prompt=n.Prompt;t.SecurityType=2;i.UserName=ej.DashboardUtil.decryptData(n.UserName);i.PassWord=ej.DashboardUtil.decryptData(n.Password);t.SecurityType=n.WindowsCredentials?3:2;break;case 1:n.ImpersonateUser?(t.SecurityType=2,i.IntegratedSecurity=!0,i.UserName=ej.DashboardUtil.decryptData(n.UserName)):n.WindowsCredentials?(t.SecurityType=3,i.IntegratedSecurity=!0):(t.SecurityType=2,i.IntegratedSecurity=!1,i.UserName=ej.DashboardUtil.decryptData(n.UserName),i.PassWord=ej.DashboardUtil.decryptData(n.Password));break;case 2:i.IntegratedSecurity=!0;t.SecurityType=1;break;case 3:i.IntegratedSecurity=!1;t.SecurityType=0}t.ConnectionProperties=i},t.prototype.newDataSet=function(n,t){t&&(this.model.dataSources=t);n?(this.model.selectDataSource=n,this.datasourceSelection(n)):this.newQueryDesigner()},t.prototype.editDataSet=function(n,t){t?(this.model.dataSources=t,this.setDataSourceToDd()):this.model.dataSources&&this.model.dataSources.length>0&&this.setDataSourceToDd();n&&(this.isEdit=!0,this.model.dataSet=n,this.editDataSetItem(n.Name))},t.prototype.editDataSetItem=function(){this.isEdit=!0;this.isEditMode=!0;this.resetQueryDesigner();this.model.dataSet&&this.model.dataSet.Query&&(this.model.dataSet.Query.DataSourceName?this.loadDataSourceSettings(this.model.dataSet.Query.DataSourceName):this.model.dataSet.Query.DataSourceReference&&this.loadSharedDataSet(this.model.dataSet.Query.DataSourceReference))},t.prototype.datasourceSelection=function(n){this.isEdit=!1;this.model.dataSet=null;this.resetQueryDesigner();this.setDataSourceToDd();this.selectDropDwnVal(n);this.loadDataSourceSettings(n)},t.prototype.datasourceChange=function(n){n.isInteraction&&(this.datasourceInfo=this.getDataSource(n.selectedValue),this.resetQueryDesigner(),this.ejSchemaTree.option("fields.dataSource",[]),this.setQueryText(""),this.dragSurfaceTag.empty(),this.loadDataSourceSettings(n.selectedValue))},t.prototype.resetQueryDesigner=function(){this.queryParameters=[];this.queryJoiner=[];this.queryFilter=[];this.queryExp=[];this.queryInputVals=[];this.referenceParam=[];this.sharedDataMapping=null;this.showTooltip(!1);this.setDataSetName();this.resetUIElement()},t.prototype.resetUIElement=function(){this.ejPreviewGrid.setModel({dataSource:[]});this.ejSchemaTree&&this.ejSchemaTree.option("fields.dataSource",[]);this.setQueryText("");this.dragSurfaceTag.empty();this.showTreeContainer(!0);this.schemaSearch.val(this.waterMarkText);this.schemaSearch.addClass("e-reportdesigner-widget-watermark");this.element.find("#"+this.id+"_schema_searchIcon span").addClass("e-reportdesigner-search").removeClass("e-reportdesigner-close").removeClass("e-reportdesigner-errorLog")},t.prototype.selectDropDwnVal=function(n){this.ejDrpdwnData.selectItemByValue(n)},t.prototype.setDataSourceToDd=function(){var n=this.model.dataSources,i,t;if(n&&n.length>0){for(i=[],t=0;t<n.length;t++)i.push({Name:n[t].Name});this.ejDrpdwnData.setModel({dataSource:i})}},t.prototype.newQueryDesigner=function(){this.isEdit=!1;this.model.dataSet=null;this.resetQueryDesigner();this.setDataSourceToDd();this.showQueryEditor(!1);this.showSplitter(!0);this.showNoRecord(!0);this.showLoadMoreOpt(0);this.enableToolbarItems(!1);this.enableDataSourceDwn(!0);this.showTooltip(!0)},t.prototype.showSplitter=function(n){var t=$("#"+this.id+"_div_target_designArea");n?(this.ejSurfaceSplitter.expand(0),t.find(".e-split-divider.e-h-bar").css("display","block")):(this.ejSurfaceSplitter.collapse(0),t.find(".e-split-divider.e-h-bar").css("display","none"))},t.prototype.getDataSource=function(n){var t=this.model.dataSources,i;if(!ej.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].Name===n)return $.extend(!0,{},t[i])},t.prototype.showTableHint=function(n){n?this.dragSurfaceTag.removeClass("e-designer-hint-newtable"):this.dragSurfaceTag.addClass("e-designer-hint-newtable")},t.prototype.showIndicator=function(){$("#"+this.id+"_schemaArea").data("ejWaitingPopup").show()},t.prototype.hideIndicator=function(){$("#"+this.id+"_schemaArea").data("ejWaitingPopup").hide()},t.prototype.showPreviewIndicator=function(){$("#"+this.id+"_div_previewData").data("ejWaitingPopup").show()},t.prototype.hidePreviewIndicator=function(){$("#"+this.id+"_div_previewData").data("ejWaitingPopup").hide()},t.prototype.showDesignIndicator=function(){$("#"+this.id+"_div_designerArea").data("ejWaitingPopup").show();this.enableToolbar(!1)},t.prototype.hideDesignIndicator=function(){$("#"+this.id+"_div_designerArea").data("ejWaitingPopup").hide();this.enableToolbar(!0)},t.prototype.showDragIndicator=function(){$("#"+this.id+"_div_queryDesigner").data("ejWaitingPopup").show()},t.prototype.hideDragIndicator=function(){$("#"+this.id+"_div_queryDesigner").data("ejWaitingPopup").hide()},t.prototype.scrollerRefresh=function(n){n.data("ejScroller")&&n.data("ejScroller").refresh()},t.prototype.hasChanges=function(){var t=this.model.dataSet&&this.model.dataSet.Query&&this.model.dataSet.Query.CommandText?this.model.dataSet.Query.CommandText:"",n;return t=t.trim().toLowerCase(),n=this.queryEditorTag.css("display")==="block"?this.getQueryText():this.buildSQLStatement(!1),n=n?n.trim().toLowerCase():"",n===t},t.prototype.getDataSet=function(n){this.callBackfn=null;this.invokefn=n;this.saveQueryInfo()},t.createDataSet=function(){return{__type:"Syncfusion.RDL.DOM.DataSet",Name:"",Fields:[],Query:{__type:"Syncfusion.RDL.DOM.Query",DataSourceName:"",CommandType:0,CommandText:"",QueryParameters:[],Timeout:0,QueryDesignerState:null},CaseSensitivity:0,Collation:null,AccentSensitivity:0,KanatypeSensitivity:0,WidthSensitvity:0,Filters:[],SharedDataSet:null,InterpretSubtotalsAsDetails:0,DataSetInfo:null,DataSetObject:null}},t.prototype.createParameter=function(){return{__type:"Syncfusion.RDL.DOM.ReportParameter",Name:"",DataType:0,Nullable:!1,DefaultValue:null,AllowBlank:!1,Prompt:"",Hidden:!1,ValidValues:null,MultiValue:!1,UsedInQuery:0}},t.prototype.createDefaultValues=function(){return{__type:"Syncfusion.RDL.DOM.DefaultValue",Values:[],DataSetReference:{__type:"Syncfusion.RDL.DOM.DataSetReference",DataSetName:null,ValueField:null}}},t.prototype.createQueryDesigner=function(){return{__type:"Syncfusion.RDL.DOM.QueryDesignerState",Tables:null,Joins:null,StoredProcedure:null,Expressions:null,Filters:null}},t.prototype.createDesignerTable=function(){return{__type:"Syncfusion.RDL.DOM.Table",Name:"",Schema:null,Columns:null,IsView:!1}},t.prototype.createColumn=function(){return{__type:"Syncfusion.RDL.DOM.Column",Name:"",AliasName:null,AggregateTye:null,IsSelected:!0,IsDuplicate:!1,TypeCast:""}},t.prototype.createJoin=function(){return{__type:"Syncfusion.RDL.DOM.Join",LeftTable:null,RightTable:null,JoinType:null,PrimaryKeyOwner:null,JoinFields:null}},t.prototype.createJoinField=function(){return{__type:"Syncfusion.RDL.DOM.JoinField",LeftField:null,RightField:null,OperatorType:null}},t.prototype.createSProcedure=function(){return{__type:"Syncfusion.RDL.DOM.StoredProcedure",Name:null,Schema:null,Parameters:null}},t.prototype.createProcParameter=function(){return{__type:"Syncfusion.RDL.DOM.SParameter",Name:null,Value:null,DataType:null,IsNull:!1}},t.prototype.createQueryParameter=function(){return{__type:"Syncfusion.RDL.DOM.QueryParameter",Name:"",Value:""}},t.prototype.createExpression=function(){return{__type:"Syncfusion.RDL.DOM.Expression",Name:null,QueryExp:null}},t.prototype.createField=function(){return{__type:"Syncfusion.RDL.DOM.Field",Name:"",DataField:"",Value:null,TypeName:""}},t.prototype.createQueryFilter=function(){return{__type:"Syncfusion.RDL.DOM.QueryFilter",Name:"",DataType:"",Operator:"",Value:"",IsQueryParameter:!1,ParameterName:"",IsTypeCast:!1,TypeCastValue:""}},t.prototype.createQueryFilterVal=function(){return{__type:"Syncfusion.RDL.DOM.QueryFilterValue",Value1:null,Value2:null}},t.prototype.createQueryParameterName=function(){return{__type:"Syncfusion.RDL.DOM.QueryParameterName",Parameter1:null,Parameter2:null}},t.prototype.createSharedDataset=function(){return{__type:"Syncfusion.RDL.Data.DataSetShared",Name:null,Query:{__type:"Syncfusion.RDL.Data.SharedQuery",DataSourceReference:"",CommandText:"",CommandType:0,QueryDesignerState:null},Fields:[],QueryParameters:[]}},t}(ej.WidgetBase);window.ej.widget("ejQueryDesigner","ej.QueryDesigner",new ejQueryDesigner);ej.QueryDesigner.ToolbarItems={SelectDataSource:1,InputDataSet:2,Save:4,Execute:8,Join:16,Expression:32,Filter:64,Switcher:128,Cancel:256,All:511},function(n){n[n.Inner="Inner"]="Inner";n[n.LeftOuter="Left Outer"]="LeftOuter";n[n.RightOuter="Right Outer"]="RightOuter";n[n.FullOuter="Full Outer"]="FullOuter"}(Join||(Join={})),function(n){n[n.Equal="="]="Equal";n[n.LessThanEqual=">="]="LessThanEqual";n[n.GreaterThanEqual="<="]="GreaterThanEqual";n[n.NotEqual="!="]="NotEqual"}(Operator||(Operator={})),function(n){n[n.String=0]="String";n[n.Boolean=1]="Boolean";n[n.DateTime=2]="DateTime";n[n.Integer=3]="Integer";n[n.Float=4]="Float";n[n.Decimal=5]="Decimal"}(DataTypes||(DataTypes={}));
